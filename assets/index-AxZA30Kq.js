function ID(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ua(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var j4={exports:{}},a2={},F4={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),bD=Symbol.for("react.portal"),CD=Symbol.for("react.fragment"),TD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),RD=Symbol.for("react.provider"),AD=Symbol.for("react.context"),kD=Symbol.for("react.forward_ref"),PD=Symbol.for("react.suspense"),ND=Symbol.for("react.memo"),LD=Symbol.for("react.lazy"),O5=Symbol.iterator;function DD(t){return t===null||typeof t!="object"?null:(t=O5&&t[O5]||t["@@iterator"],typeof t=="function"?t:null)}var V4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U4=Object.assign,z4={};function Su(t,e,n){this.props=t,this.context=e,this.refs=z4,this.updater=n||V4}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B4(){}B4.prototype=Su.prototype;function Vw(t,e,n){this.props=t,this.context=e,this.refs=z4,this.updater=n||V4}var Uw=Vw.prototype=new B4;Uw.constructor=Vw;U4(Uw,Su.prototype);Uw.isPureReactComponent=!0;var M5=Array.isArray,W4=Object.prototype.hasOwnProperty,zw={current:null},H4={key:!0,ref:!0,__self:!0,__source:!0};function q4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)W4.call(e,r)&&!H4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hf,type:t,key:s,ref:o,props:i,_owner:zw.current}}function OD(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bw(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function MD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $5=/\/+/g;function D1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MD(""+t.key):e.toString(36)}function Y0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hf:case bD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+D1(o,0):r,M5(i)?(n="",t!=null&&(n=t.replace($5,"$&/")+"/"),Y0(i,e,n,"",function(c){return c})):i!=null&&(Bw(i)&&(i=OD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",M5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+D1(s,a);o+=Y0(s,e,n,l,i)}else if(l=DD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+D1(s,a++),o+=Y0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function o0(t,e,n){if(t==null)return t;var r=[],i=0;return Y0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $D(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Er={current:null},X0={transition:null},jD={ReactCurrentDispatcher:Er,ReactCurrentBatchConfig:X0,ReactCurrentOwner:zw};Qe.Children={map:o0,forEach:function(t,e,n){o0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o0(t,function(){e++}),e},toArray:function(t){return o0(t,function(e){return e})||[]},only:function(t){if(!Bw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=Su;Qe.Fragment=CD;Qe.Profiler=SD;Qe.PureComponent=Vw;Qe.StrictMode=TD;Qe.Suspense=PD;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jD;Qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W4.call(e,l)&&!H4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hf,type:t.type,key:i,ref:s,props:r,_owner:o}};Qe.createContext=function(t){return t={$$typeof:AD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RD,_context:t},t.Consumer=t};Qe.createElement=q4;Qe.createFactory=function(t){var e=q4.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:kD,render:t}};Qe.isValidElement=Bw;Qe.lazy=function(t){return{$$typeof:LD,_payload:{_status:-1,_result:t},_init:$D}};Qe.memo=function(t,e){return{$$typeof:ND,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=X0.transition;X0.transition={};try{t()}finally{X0.transition=e}};Qe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Qe.useCallback=function(t,e){return Er.current.useCallback(t,e)};Qe.useContext=function(t){return Er.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return Er.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return Er.current.useEffect(t,e)};Qe.useId=function(){return Er.current.useId()};Qe.useImperativeHandle=function(t,e,n){return Er.current.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return Er.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return Er.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return Er.current.useMemo(t,e)};Qe.useReducer=function(t,e,n){return Er.current.useReducer(t,e,n)};Qe.useRef=function(t){return Er.current.useRef(t)};Qe.useState=function(t){return Er.current.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return Er.current.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return Er.current.useTransition()};Qe.version="18.2.0";F4.exports=Qe;var v=F4.exports;const fr=$4(v),$p=ID({__proto__:null,default:fr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD=v,VD=Symbol.for("react.element"),UD=Symbol.for("react.fragment"),zD=Object.prototype.hasOwnProperty,BD=FD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WD={key:!0,ref:!0,__self:!0,__source:!0};function G4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zD.call(e,r)&&!WD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VD,type:t,key:s,ref:o,props:i,_owner:BD.current}}a2.Fragment=UD;a2.jsx=G4;a2.jsxs=G4;j4.exports=a2;var h=j4.exports,sy={},K4={exports:{}},ti={},Q4={exports:{}},Y4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var F=D.length;D.push(j);e:for(;0<F;){var G=F-1>>>1,W=D[G];if(0<i(W,j))D[G]=j,D[F]=W,F=G;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],F=D.pop();if(F!==j){D[0]=F;e:for(var G=0,W=D.length,B=W>>>1;G<B;){var U=2*(G+1)-1,V=D[U],q=U+1,oe=D[q];if(0>i(V,F))q<W&&0>i(oe,V)?(D[G]=oe,D[q]=F,G=q):(D[G]=V,D[U]=F,G=U);else if(q<W&&0>i(oe,F))D[G]=oe,D[q]=F,G=q;else break e}}return j}function i(D,j){var F=D.sortIndex-j.sortIndex;return F!==0?F:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=D)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function I(D){if(y=!1,_(D),!m)if(n(l)!==null)m=!0,P(T);else{var j=n(c);j!==null&&k(I,j.startTime-D)}}function T(D,j){m=!1,y&&(y=!1,g(b),b=-1),p=!0;var F=f;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||D&&!A());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var W=G(d.expirationTime<=j);j=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var U=n(c);U!==null&&k(I,U.startTime-j),B=!1}return B}finally{d=null,f=F,p=!1}}var E=!1,C=null,b=-1,R=5,S=-1;function A(){return!(t.unstable_now()-S<R)}function N(){if(C!==null){var D=t.unstable_now();S=D;var j=!0;try{j=C(!0,D)}finally{j?O():(E=!1,C=null)}}else E=!1}var O;if(typeof w=="function")O=function(){w(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=N,O=function(){$.postMessage(null)}}else O=function(){x(N,0)};function P(D){C=D,E||(E=!0,O())}function k(D,j){b=x(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var F=f;f=j;try{return D()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=f;f=D;try{return j()}finally{f=F}},t.unstable_scheduleCallback=function(D,j,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,D={id:u++,callback:j,priorityLevel:D,startTime:F,expirationTime:W,sortIndex:-1},F>G?(D.sortIndex=F,e(c,D),n(l)===null&&D===n(c)&&(y?(g(b),b=-1):y=!0,k(I,F-G))):(D.sortIndex=W,e(l,D),m||p||(m=!0,P(T))),D},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(D){var j=f;return function(){var F=f;f=j;try{return D.apply(this,arguments)}finally{f=F}}}})(Y4);Q4.exports=Y4;var HD=Q4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4=v,Xr=HD;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J4=new Set,ph={};function Nl(t,e){Qc(t,e),Qc(t+"Capture",e)}function Qc(t,e){for(ph[t]=e,t=0;t<e.length;t++)J4.add(e[t])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=Object.prototype.hasOwnProperty,qD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j5={},F5={};function GD(t){return oy.call(F5,t)?!0:oy.call(j5,t)?!1:qD.test(t)?F5[t]=!0:(j5[t]=!0,!1)}function KD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QD(t,e,n,r){if(e===null||typeof e>"u"||KD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wn[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wn[e]=new Ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wn[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wn[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wn[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wn[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wn[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wn[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wn[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);Wn[e]=new Ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);Wn[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Hw);Wn[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wn[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wn[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function qw(t,e,n,r){var i=Wn.hasOwnProperty(e)?Wn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QD(e,n,i,r)&&(n=null),r||i===null?GD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var lo=X4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a0=Symbol.for("react.element"),fc=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),ay=Symbol.for("react.profiler"),Z4=Symbol.for("react.provider"),eR=Symbol.for("react.context"),Kw=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),tR=Symbol.for("react.offscreen"),V5=Symbol.iterator;function Zu(t){return t===null||typeof t!="object"?null:(t=V5&&t[V5]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,O1;function Rd(t){if(O1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O1=e&&e[1]||""}return`
`+O1+t}var M1=!1;function $1(t,e){if(!t||M1)return"";M1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{M1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rd(t):""}function YD(t){switch(t.tag){case 5:return Rd(t.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return t=$1(t.type,!1),t;case 11:return t=$1(t.type.render,!1),t;case 1:return t=$1(t.type,!0),t;default:return""}}function uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pc:return"Fragment";case fc:return"Portal";case ay:return"Profiler";case Gw:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eR:return(t.displayName||"Context")+".Consumer";case Z4:return(t._context.displayName||"Context")+".Provider";case Kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qw:return e=t.displayName||null,e!==null?e:uy(t.type)||"Memo";case bo:e=t._payload,t=t._init;try{return uy(t(e))}catch{}}return null}function XD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(e);case 8:return e===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JD(t){var e=nR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function l0(t){t._valueTracker||(t._valueTracker=JD(t))}function rR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dy(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iR(t,e){e=e.checked,e!=null&&qw(t,"checked",e,!1)}function hy(t,e){iR(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fy(t,e.type,n):e.hasOwnProperty("defaultValue")&&fy(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fy(t,e,n){(e!=="number"||jp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ad=Array.isArray;function Pc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ad(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function sR(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function W5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function my(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var c0,aR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(c0=c0||document.createElement("div"),c0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=c0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZD=["Webkit","ms","Moz","O"];Object.keys(zd).forEach(function(t){ZD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zd[e]=zd[t]})});function lR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zd.hasOwnProperty(t)&&zd[t]?(""+e).trim():e+"px"}function cR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eO=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(t,e){if(e){if(eO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function vy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=null;function Yw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _y=null,Nc=null,Lc=null;function H5(t){if(t=mf(t)){if(typeof _y!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=h2(e),_y(t.stateNode,t.type,e))}}function uR(t){Nc?Lc?Lc.push(t):Lc=[t]:Nc=t}function dR(){if(Nc){var t=Nc,e=Lc;if(Lc=Nc=null,H5(t),e)for(t=0;t<e.length;t++)H5(e[t])}}function hR(t,e){return t(e)}function fR(){}var j1=!1;function pR(t,e,n){if(j1)return t(e,n);j1=!0;try{return hR(t,e,n)}finally{j1=!1,(Nc!==null||Lc!==null)&&(fR(),dR())}}function gh(t,e){var n=t.stateNode;if(n===null)return null;var r=h2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var wy=!1;if(Ys)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){wy=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{wy=!1}function tO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,Fp=null,Vp=!1,xy=null,nO={onError:function(t){Bd=!0,Fp=t}};function rO(t,e,n,r,i,s,o,a,l){Bd=!1,Fp=null,tO.apply(nO,arguments)}function iO(t,e,n,r,i,s,o,a,l){if(rO.apply(this,arguments),Bd){if(Bd){var c=Fp;Bd=!1,Fp=null}else throw Error(Q(198));Vp||(Vp=!0,xy=c)}}function Ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q5(t){if(Ll(t)!==t)throw Error(Q(188))}function sO(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return q5(i),t;if(s===r)return q5(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function gR(t){return t=sO(t),t!==null?vR(t):null}function vR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vR(t);if(e!==null)return e;t=t.sibling}return null}var yR=Xr.unstable_scheduleCallback,G5=Xr.unstable_cancelCallback,oO=Xr.unstable_shouldYield,aO=Xr.unstable_requestPaint,rn=Xr.unstable_now,lO=Xr.unstable_getCurrentPriorityLevel,Xw=Xr.unstable_ImmediatePriority,_R=Xr.unstable_UserBlockingPriority,Up=Xr.unstable_NormalPriority,cO=Xr.unstable_LowPriority,wR=Xr.unstable_IdlePriority,l2=null,_s=null;function uO(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(l2,t,void 0,(t.current.flags&128)===128)}catch{}}var Wi=Math.clz32?Math.clz32:fO,dO=Math.log,hO=Math.LN2;function fO(t){return t>>>=0,t===0?32:31-(dO(t)/hO|0)|0}var u0=64,d0=4194304;function kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=kd(a):(s&=o,s!==0&&(r=kd(s)))}else o=n&~i,o!==0?r=kd(o):s!==0&&(r=kd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wi(e),i=1<<n,r|=t[n],e&=~i;return r}function pO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Wi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=pO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ey(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xR(){var t=u0;return u0<<=1,!(u0&4194240)&&(u0=64),t}function F1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ff(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wi(e),t[e]=n}function gO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gt=0;function ER(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IR,Zw,bR,CR,TR,Iy=!1,h0=[],Uo=null,zo=null,Bo=null,vh=new Map,yh=new Map,To=[],vO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K5(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function td(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mf(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yO(t,e,n,r,i){switch(e){case"focusin":return Uo=td(Uo,t,e,n,r,i),!0;case"dragenter":return zo=td(zo,t,e,n,r,i),!0;case"mouseover":return Bo=td(Bo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vh.set(s,td(vh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yh.set(s,td(yh.get(s)||null,t,e,n,r,i)),!0}return!1}function SR(t){var e=Ua(t.target);if(e!==null){var n=Ll(e);if(n!==null){if(e=n.tag,e===13){if(e=mR(n),e!==null){t.blockedOn=e,TR(t.priority,function(){bR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function J0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=by(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yy=r,n.target.dispatchEvent(r),yy=null}else return e=mf(n),e!==null&&Zw(e),t.blockedOn=n,!1;e.shift()}return!0}function Q5(t,e,n){J0(t)&&n.delete(e)}function _O(){Iy=!1,Uo!==null&&J0(Uo)&&(Uo=null),zo!==null&&J0(zo)&&(zo=null),Bo!==null&&J0(Bo)&&(Bo=null),vh.forEach(Q5),yh.forEach(Q5)}function nd(t,e){t.blockedOn===e&&(t.blockedOn=null,Iy||(Iy=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,_O)))}function _h(t){function e(i){return nd(i,t)}if(0<h0.length){nd(h0[0],t);for(var n=1;n<h0.length;n++){var r=h0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&nd(Uo,t),zo!==null&&nd(zo,t),Bo!==null&&nd(Bo,t),vh.forEach(e),yh.forEach(e),n=0;n<To.length;n++)r=To[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)SR(n),n.blockedOn===null&&To.shift()}var Dc=lo.ReactCurrentBatchConfig,Bp=!0;function wO(t,e,n,r){var i=gt,s=Dc.transition;Dc.transition=null;try{gt=1,ex(t,e,n,r)}finally{gt=i,Dc.transition=s}}function xO(t,e,n,r){var i=gt,s=Dc.transition;Dc.transition=null;try{gt=4,ex(t,e,n,r)}finally{gt=i,Dc.transition=s}}function ex(t,e,n,r){if(Bp){var i=by(t,e,n,r);if(i===null)Q1(t,e,r,Wp,n),K5(t,r);else if(yO(i,t,e,n,r))r.stopPropagation();else if(K5(t,r),e&4&&-1<vO.indexOf(t)){for(;i!==null;){var s=mf(i);if(s!==null&&IR(s),s=by(t,e,n,r),s===null&&Q1(t,e,r,Wp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Q1(t,e,r,null,n)}}var Wp=null;function by(t,e,n,r){if(Wp=null,t=Yw(r),t=Ua(t),t!==null)if(e=Ll(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wp=t,null}function RR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lO()){case Xw:return 1;case _R:return 4;case Up:case cO:return 16;case wR:return 536870912;default:return 16}default:return 16}}var Oo=null,tx=null,Z0=null;function AR(){if(Z0)return Z0;var t,e=tx,n=e.length,r,i="value"in Oo?Oo.value:Oo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Z0=i.slice(t,1<r?1-r:void 0)}function ep(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function f0(){return!0}function Y5(){return!1}function ni(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?f0:Y5,this.isPropagationStopped=Y5,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=f0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=f0)},persist:function(){},isPersistent:f0}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nx=ni(Ru),pf=Ht({},Ru,{view:0,detail:0}),EO=ni(pf),V1,U1,rd,c2=Ht({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rd&&(rd&&t.type==="mousemove"?(V1=t.screenX-rd.screenX,U1=t.screenY-rd.screenY):U1=V1=0,rd=t),V1)},movementY:function(t){return"movementY"in t?t.movementY:U1}}),X5=ni(c2),IO=Ht({},c2,{dataTransfer:0}),bO=ni(IO),CO=Ht({},pf,{relatedTarget:0}),z1=ni(CO),TO=Ht({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),SO=ni(TO),RO=Ht({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AO=ni(RO),kO=Ht({},Ru,{data:0}),J5=ni(kO),PO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LO[t])?!!e[t]:!1}function rx(){return DO}var OO=Ht({},pf,{key:function(t){if(t.key){var e=PO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ep(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rx,charCode:function(t){return t.type==="keypress"?ep(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ep(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MO=ni(OO),$O=Ht({},c2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z5=ni($O),jO=Ht({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rx}),FO=ni(jO),VO=Ht({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),UO=ni(VO),zO=Ht({},c2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BO=ni(zO),WO=[9,13,27,32],ix=Ys&&"CompositionEvent"in window,Wd=null;Ys&&"documentMode"in document&&(Wd=document.documentMode);var HO=Ys&&"TextEvent"in window&&!Wd,kR=Ys&&(!ix||Wd&&8<Wd&&11>=Wd),eI=" ",tI=!1;function PR(t,e){switch(t){case"keyup":return WO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mc=!1;function qO(t,e){switch(t){case"compositionend":return NR(e);case"keypress":return e.which!==32?null:(tI=!0,eI);case"textInput":return t=e.data,t===eI&&tI?null:t;default:return null}}function GO(t,e){if(mc)return t==="compositionend"||!ix&&PR(t,e)?(t=AR(),Z0=tx=Oo=null,mc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kR&&e.locale!=="ko"?null:e.data;default:return null}}var KO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KO[t.type]:e==="textarea"}function LR(t,e,n,r){uR(r),e=Hp(e,"onChange"),0<e.length&&(n=new nx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hd=null,wh=null;function QO(t){WR(t,0)}function u2(t){var e=yc(t);if(rR(e))return t}function YO(t,e){if(t==="change")return e}var DR=!1;if(Ys){var B1;if(Ys){var W1="oninput"in document;if(!W1){var rI=document.createElement("div");rI.setAttribute("oninput","return;"),W1=typeof rI.oninput=="function"}B1=W1}else B1=!1;DR=B1&&(!document.documentMode||9<document.documentMode)}function iI(){Hd&&(Hd.detachEvent("onpropertychange",OR),wh=Hd=null)}function OR(t){if(t.propertyName==="value"&&u2(wh)){var e=[];LR(e,wh,t,Yw(t)),pR(QO,e)}}function XO(t,e,n){t==="focusin"?(iI(),Hd=e,wh=n,Hd.attachEvent("onpropertychange",OR)):t==="focusout"&&iI()}function JO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u2(wh)}function ZO(t,e){if(t==="click")return u2(e)}function eM(t,e){if(t==="input"||t==="change")return u2(e)}function tM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ki=typeof Object.is=="function"?Object.is:tM;function xh(t,e){if(Ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oy.call(e,i)||!Ki(t[i],e[i]))return!1}return!0}function sI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oI(t,e){var n=sI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sI(n)}}function MR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $R(){for(var t=window,e=jp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jp(t.document)}return e}function sx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nM(t){var e=$R(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MR(n.ownerDocument.documentElement,n)){if(r!==null&&sx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=oI(n,s);var o=oI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rM=Ys&&"documentMode"in document&&11>=document.documentMode,gc=null,Cy=null,qd=null,Ty=!1;function aI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||gc==null||gc!==jp(r)||(r=gc,"selectionStart"in r&&sx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qd&&xh(qd,r)||(qd=r,r=Hp(Cy,"onSelect"),0<r.length&&(e=new nx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gc)))}function p0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vc={animationend:p0("Animation","AnimationEnd"),animationiteration:p0("Animation","AnimationIteration"),animationstart:p0("Animation","AnimationStart"),transitionend:p0("Transition","TransitionEnd")},H1={},jR={};Ys&&(jR=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function d2(t){if(H1[t])return H1[t];if(!vc[t])return t;var e=vc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jR)return H1[t]=e[n];return t}var FR=d2("animationend"),VR=d2("animationiteration"),UR=d2("animationstart"),zR=d2("transitionend"),BR=new Map,lI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(t,e){BR.set(t,e),Nl(e,[t])}for(var q1=0;q1<lI.length;q1++){var G1=lI[q1],iM=G1.toLowerCase(),sM=G1[0].toUpperCase()+G1.slice(1);da(iM,"on"+sM)}da(FR,"onAnimationEnd");da(VR,"onAnimationIteration");da(UR,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(zR,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);Nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function cI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iO(r,e,void 0,t),t.currentTarget=null}function WR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cI(i,a,c),s=l}}}if(Vp)throw t=xy,Vp=!1,xy=null,t}function Pt(t,e){var n=e[Py];n===void 0&&(n=e[Py]=new Set);var r=t+"__bubble";n.has(r)||(HR(e,t,2,!1),n.add(r))}function K1(t,e,n){var r=0;e&&(r|=4),HR(n,t,r,e)}var m0="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[m0]){t[m0]=!0,J4.forEach(function(n){n!=="selectionchange"&&(oM.has(n)||K1(n,!1,t),K1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[m0]||(e[m0]=!0,K1("selectionchange",!1,e))}}function HR(t,e,n,r){switch(RR(e)){case 1:var i=wO;break;case 4:i=xO;break;default:i=ex}n=i.bind(null,e,n,t),i=void 0,!wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Q1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pR(function(){var c=s,u=Yw(n),d=[];e:{var f=BR.get(t);if(f!==void 0){var p=nx,m=t;switch(t){case"keypress":if(ep(n)===0)break e;case"keydown":case"keyup":p=MO;break;case"focusin":m="focus",p=z1;break;case"focusout":m="blur",p=z1;break;case"beforeblur":case"afterblur":p=z1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=X5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=FO;break;case FR:case VR:case UR:p=SO;break;case zR:p=UO;break;case"scroll":p=EO;break;case"wheel":p=BO;break;case"copy":case"cut":case"paste":p=AO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Z5}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,_;w!==null;){_=w;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,g!==null&&(I=gh(w,g),I!=null&&y.push(Ih(w,I,_)))),x)break;w=w.return}0<y.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==yy&&(m=n.relatedTarget||n.fromElement)&&(Ua(m)||m[Xs]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ua(m):null,m!==null&&(x=Ll(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=X5,I="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Z5,I="onPointerLeave",g="onPointerEnter",w="pointer"),x=p==null?f:yc(p),_=m==null?f:yc(m),f=new y(I,w+"leave",p,n,u),f.target=x,f.relatedTarget=_,I=null,Ua(u)===c&&(y=new y(g,w+"enter",m,n,u),y.target=_,y.relatedTarget=x,I=y),x=I,p&&m)t:{for(y=p,g=m,w=0,_=y;_;_=Kl(_))w++;for(_=0,I=g;I;I=Kl(I))_++;for(;0<w-_;)y=Kl(y),w--;for(;0<_-w;)g=Kl(g),_--;for(;w--;){if(y===g||g!==null&&y===g.alternate)break t;y=Kl(y),g=Kl(g)}y=null}else y=null;p!==null&&uI(d,f,p,y,!1),m!==null&&x!==null&&uI(d,x,m,y,!0)}}e:{if(f=c?yc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=YO;else if(nI(f))if(DR)T=eM;else{T=JO;var E=XO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=ZO);if(T&&(T=T(t,c))){LR(d,T,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&fy(f,"number",f.value)}switch(E=c?yc(c):window,t){case"focusin":(nI(E)||E.contentEditable==="true")&&(gc=E,Cy=c,qd=null);break;case"focusout":qd=Cy=gc=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,aI(d,n,u);break;case"selectionchange":if(rM)break;case"keydown":case"keyup":aI(d,n,u)}var C;if(ix)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else mc?PR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(kR&&n.locale!=="ko"&&(mc||b!=="onCompositionStart"?b==="onCompositionEnd"&&mc&&(C=AR()):(Oo=u,tx="value"in Oo?Oo.value:Oo.textContent,mc=!0)),E=Hp(c,b),0<E.length&&(b=new J5(b,t,null,n,u),d.push({event:b,listeners:E}),C?b.data=C:(C=NR(n),C!==null&&(b.data=C)))),(C=HO?qO(t,n):GO(t,n))&&(c=Hp(c,"onBeforeInput"),0<c.length&&(u=new J5("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}WR(d,e)})}function Ih(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gh(t,n),s!=null&&r.unshift(Ih(t,s,i)),s=gh(t,e),s!=null&&r.push(Ih(t,s,i))),t=t.return}return r}function Kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gh(n,s),l!=null&&o.unshift(Ih(n,l,a))):i||(l=gh(n,s),l!=null&&o.push(Ih(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aM=/\r\n?/g,lM=/\u0000|\uFFFD/g;function dI(t){return(typeof t=="string"?t:""+t).replace(aM,`
`).replace(lM,"")}function g0(t,e,n){if(e=dI(e),dI(t)!==e&&n)throw Error(Q(425))}function qp(){}var Sy=null,Ry=null;function Ay(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ky=typeof setTimeout=="function"?setTimeout:void 0,cM=typeof clearTimeout=="function"?clearTimeout:void 0,hI=typeof Promise=="function"?Promise:void 0,uM=typeof queueMicrotask=="function"?queueMicrotask:typeof hI<"u"?function(t){return hI.resolve(null).then(t).catch(dM)}:ky;function dM(t){setTimeout(function(){throw t})}function Y1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_h(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_h(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Au=Math.random().toString(36).slice(2),ls="__reactFiber$"+Au,bh="__reactProps$"+Au,Xs="__reactContainer$"+Au,Py="__reactEvents$"+Au,hM="__reactListeners$"+Au,fM="__reactHandles$"+Au;function Ua(t){var e=t[ls];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xs]||n[ls]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fI(t);t!==null;){if(n=t[ls])return n;t=fI(t)}return e}t=n,n=t.parentNode}return null}function mf(t){return t=t[ls]||t[Xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function h2(t){return t[bh]||null}var Ny=[],_c=-1;function ha(t){return{current:t}}function Mt(t){0>_c||(t.current=Ny[_c],Ny[_c]=null,_c--)}function Rt(t,e){_c++,Ny[_c]=t.current,t.current=e}var na={},lr=ha(na),Nr=ha(!1),ll=na;function Yc(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(t){return t=t.childContextTypes,t!=null}function Gp(){Mt(Nr),Mt(lr)}function pI(t,e,n){if(lr.current!==na)throw Error(Q(168));Rt(lr,e),Rt(Nr,n)}function qR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,XD(t)||"Unknown",i));return Ht({},n,r)}function Kp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,ll=lr.current,Rt(lr,t),Rt(Nr,Nr.current),!0}function mI(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=qR(t,e,ll),r.__reactInternalMemoizedMergedChildContext=t,Mt(Nr),Mt(lr),Rt(lr,t)):Mt(Nr),Rt(Nr,n)}var Ds=null,f2=!1,X1=!1;function GR(t){Ds===null?Ds=[t]:Ds.push(t)}function pM(t){f2=!0,GR(t)}function fa(){if(!X1&&Ds!==null){X1=!0;var t=0,e=gt;try{var n=Ds;for(gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ds=null,f2=!1}catch(i){throw Ds!==null&&(Ds=Ds.slice(t+1)),yR(Xw,fa),i}finally{gt=e,X1=!1}}return null}var wc=[],xc=0,Qp=null,Yp=0,ui=[],di=0,cl=null,$s=1,js="";function Aa(t,e){wc[xc++]=Yp,wc[xc++]=Qp,Qp=t,Yp=e}function KR(t,e,n){ui[di++]=$s,ui[di++]=js,ui[di++]=cl,cl=t;var r=$s;t=js;var i=32-Wi(r)-1;r&=~(1<<i),n+=1;var s=32-Wi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$s=1<<32-Wi(e)+i|n<<i|r,js=s+t}else $s=1<<s|n<<i|r,js=t}function ox(t){t.return!==null&&(Aa(t,1),KR(t,1,0))}function ax(t){for(;t===Qp;)Qp=wc[--xc],wc[xc]=null,Yp=wc[--xc],wc[xc]=null;for(;t===cl;)cl=ui[--di],ui[di]=null,js=ui[--di],ui[di]=null,$s=ui[--di],ui[di]=null}var qr=null,Br=null,Ft=!1,Vi=null;function QR(t,e){var n=mi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qr=t,Br=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qr=t,Br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cl!==null?{id:$s,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qr=t,Br=null,!0):!1;default:return!1}}function Ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dy(t){if(Ft){var e=Br;if(e){var n=e;if(!gI(t,e)){if(Ly(t))throw Error(Q(418));e=Wo(n.nextSibling);var r=qr;e&&gI(t,e)?QR(r,n):(t.flags=t.flags&-4097|2,Ft=!1,qr=t)}}else{if(Ly(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Ft=!1,qr=t}}}function vI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qr=t}function v0(t){if(t!==qr)return!1;if(!Ft)return vI(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ay(t.type,t.memoizedProps)),e&&(e=Br)){if(Ly(t))throw YR(),Error(Q(418));for(;e;)QR(t,e),e=Wo(e.nextSibling)}if(vI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Br=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Br=null}}else Br=qr?Wo(t.stateNode.nextSibling):null;return!0}function YR(){for(var t=Br;t;)t=Wo(t.nextSibling)}function Xc(){Br=qr=null,Ft=!1}function lx(t){Vi===null?Vi=[t]:Vi.push(t)}var mM=lo.ReactCurrentBatchConfig;function ji(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xp=ha(null),Jp=null,Ec=null,cx=null;function ux(){cx=Ec=Jp=null}function dx(t){var e=Xp.current;Mt(Xp),t._currentValue=e}function Oy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oc(t,e){Jp=t,cx=Ec=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ar=!0),t.firstContext=null)}function bi(t){var e=t._currentValue;if(cx!==t)if(t={context:t,memoizedValue:e,next:null},Ec===null){if(Jp===null)throw Error(Q(308));Ec=t,Jp.dependencies={lanes:0,firstContext:t}}else Ec=Ec.next=t;return e}var za=null;function hx(t){za===null?za=[t]:za.push(t)}function XR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Js(t,r)}function Js(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Co=!1;function fx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Js(t,n)}return i=r.interleaved,i===null?(e.next=e,hx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Js(t,n)}function tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jw(t,n)}}function yI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zp(t,e,n,r){var i=t.updateQueue;Co=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Ht({},d,f);break e;case 2:Co=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dl|=o,t.lanes=o,t.memoizedState=d}}function _I(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var ZR=new X4.Component().refs;function My(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var p2={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gr(),i=Go(t),s=Hs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Hi(e,t,i,r),tp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gr(),i=Go(t),s=Hs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Hi(e,t,i,r),tp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gr(),r=Go(t),i=Hs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ho(t,i,r),e!==null&&(Hi(e,t,r,n),tp(e,t,r))}};function wI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xh(n,r)||!xh(i,s):!0}function eA(t,e,n){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=bi(s):(i=Lr(e)?ll:lr.current,r=e.contextTypes,s=(r=r!=null)?Yc(t,i):na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=p2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&p2.enqueueReplaceState(e,e.state,null)}function $y(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ZR,fx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bi(s):(s=Lr(e)?ll:lr.current,i.context=Yc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(My(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&p2.enqueueReplaceState(i,i.state,null),Zp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function id(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ZR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function y0(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EI(t){var e=t._init;return e(t._payload)}function tA(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Ko(g,w),g.index=0,g.sibling=null,g}function s(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,_,I){return w===null||w.tag!==6?(w=iv(_,g.mode,I),w.return=g,w):(w=i(w,_),w.return=g,w)}function l(g,w,_,I){var T=_.type;return T===pc?u(g,w,_.props.children,I,_.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bo&&EI(T)===w.type)?(I=i(w,_.props),I.ref=id(g,w,_),I.return=g,I):(I=ap(_.type,_.key,_.props,null,g.mode,I),I.ref=id(g,w,_),I.return=g,I)}function c(g,w,_,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=sv(_,g.mode,I),w.return=g,w):(w=i(w,_.children||[]),w.return=g,w)}function u(g,w,_,I,T){return w===null||w.tag!==7?(w=Za(_,g.mode,I,T),w.return=g,w):(w=i(w,_),w.return=g,w)}function d(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=iv(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case a0:return _=ap(w.type,w.key,w.props,null,g.mode,_),_.ref=id(g,null,w),_.return=g,_;case fc:return w=sv(w,g.mode,_),w.return=g,w;case bo:var I=w._init;return d(g,I(w._payload),_)}if(Ad(w)||Zu(w))return w=Za(w,g.mode,_,null),w.return=g,w;y0(g,w)}return null}function f(g,w,_,I){var T=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(g,w,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case a0:return _.key===T?l(g,w,_,I):null;case fc:return _.key===T?c(g,w,_,I):null;case bo:return T=_._init,f(g,w,T(_._payload),I)}if(Ad(_)||Zu(_))return T!==null?null:u(g,w,_,I,null);y0(g,_)}return null}function p(g,w,_,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return g=g.get(_)||null,a(w,g,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case a0:return g=g.get(I.key===null?_:I.key)||null,l(w,g,I,T);case fc:return g=g.get(I.key===null?_:I.key)||null,c(w,g,I,T);case bo:var E=I._init;return p(g,w,_,E(I._payload),T)}if(Ad(I)||Zu(I))return g=g.get(_)||null,u(w,g,I,T,null);y0(w,I)}return null}function m(g,w,_,I){for(var T=null,E=null,C=w,b=w=0,R=null;C!==null&&b<_.length;b++){C.index>b?(R=C,C=null):R=C.sibling;var S=f(g,C,_[b],I);if(S===null){C===null&&(C=R);break}t&&C&&S.alternate===null&&e(g,C),w=s(S,w,b),E===null?T=S:E.sibling=S,E=S,C=R}if(b===_.length)return n(g,C),Ft&&Aa(g,b),T;if(C===null){for(;b<_.length;b++)C=d(g,_[b],I),C!==null&&(w=s(C,w,b),E===null?T=C:E.sibling=C,E=C);return Ft&&Aa(g,b),T}for(C=r(g,C);b<_.length;b++)R=p(C,g,b,_[b],I),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?b:R.key),w=s(R,w,b),E===null?T=R:E.sibling=R,E=R);return t&&C.forEach(function(A){return e(g,A)}),Ft&&Aa(g,b),T}function y(g,w,_,I){var T=Zu(_);if(typeof T!="function")throw Error(Q(150));if(_=T.call(_),_==null)throw Error(Q(151));for(var E=T=null,C=w,b=w=0,R=null,S=_.next();C!==null&&!S.done;b++,S=_.next()){C.index>b?(R=C,C=null):R=C.sibling;var A=f(g,C,S.value,I);if(A===null){C===null&&(C=R);break}t&&C&&A.alternate===null&&e(g,C),w=s(A,w,b),E===null?T=A:E.sibling=A,E=A,C=R}if(S.done)return n(g,C),Ft&&Aa(g,b),T;if(C===null){for(;!S.done;b++,S=_.next())S=d(g,S.value,I),S!==null&&(w=s(S,w,b),E===null?T=S:E.sibling=S,E=S);return Ft&&Aa(g,b),T}for(C=r(g,C);!S.done;b++,S=_.next())S=p(C,g,b,S.value,I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?b:S.key),w=s(S,w,b),E===null?T=S:E.sibling=S,E=S);return t&&C.forEach(function(N){return e(g,N)}),Ft&&Aa(g,b),T}function x(g,w,_,I){if(typeof _=="object"&&_!==null&&_.type===pc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case a0:e:{for(var T=_.key,E=w;E!==null;){if(E.key===T){if(T=_.type,T===pc){if(E.tag===7){n(g,E.sibling),w=i(E,_.props.children),w.return=g,g=w;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bo&&EI(T)===E.type){n(g,E.sibling),w=i(E,_.props),w.ref=id(g,E,_),w.return=g,g=w;break e}n(g,E);break}else e(g,E);E=E.sibling}_.type===pc?(w=Za(_.props.children,g.mode,I,_.key),w.return=g,g=w):(I=ap(_.type,_.key,_.props,null,g.mode,I),I.ref=id(g,w,_),I.return=g,g=I)}return o(g);case fc:e:{for(E=_.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=i(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=sv(_,g.mode,I),w.return=g,g=w}return o(g);case bo:return E=_._init,x(g,w,E(_._payload),I)}if(Ad(_))return m(g,w,_,I);if(Zu(_))return y(g,w,_,I);y0(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,_),w.return=g,g=w):(n(g,w),w=iv(_,g.mode,I),w.return=g,g=w),o(g)):n(g,w)}return x}var Jc=tA(!0),nA=tA(!1),gf={},ws=ha(gf),Ch=ha(gf),Th=ha(gf);function Ba(t){if(t===gf)throw Error(Q(174));return t}function px(t,e){switch(Rt(Th,e),Rt(Ch,t),Rt(ws,gf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:my(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=my(e,t)}Mt(ws),Rt(ws,e)}function Zc(){Mt(ws),Mt(Ch),Mt(Th)}function rA(t){Ba(Th.current);var e=Ba(ws.current),n=my(e,t.type);e!==n&&(Rt(Ch,t),Rt(ws,n))}function mx(t){Ch.current===t&&(Mt(ws),Mt(Ch))}var Ut=ha(0);function em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J1=[];function gx(){for(var t=0;t<J1.length;t++)J1[t]._workInProgressVersionPrimary=null;J1.length=0}var np=lo.ReactCurrentDispatcher,Z1=lo.ReactCurrentBatchConfig,ul=0,Bt=null,yn=null,Cn=null,tm=!1,Gd=!1,Sh=0,gM=0;function Kn(){throw Error(Q(321))}function vx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ki(t[n],e[n]))return!1;return!0}function yx(t,e,n,r,i,s){if(ul=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,np.current=t===null||t.memoizedState===null?wM:xM,t=n(r,i),Gd){s=0;do{if(Gd=!1,Sh=0,25<=s)throw Error(Q(301));s+=1,Cn=yn=null,e.updateQueue=null,np.current=EM,t=n(r,i)}while(Gd)}if(np.current=nm,e=yn!==null&&yn.next!==null,ul=0,Cn=yn=Bt=null,tm=!1,e)throw Error(Q(300));return t}function _x(){var t=Sh!==0;return Sh=0,t}function rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Bt.memoizedState=Cn=t:Cn=Cn.next=t,Cn}function Ci(){if(yn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=Cn===null?Bt.memoizedState:Cn.next;if(e!==null)Cn=e,yn=t;else{if(t===null)throw Error(Q(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Cn===null?Bt.memoizedState=Cn=t:Cn=Cn.next=t}return Cn}function Rh(t,e){return typeof e=="function"?e(t):e}function ev(t){var e=Ci(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ul&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Bt.lanes|=u,dl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ki(r,e.memoizedState)||(Ar=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tv(t){var e=Ci(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ki(s,e.memoizedState)||(Ar=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iA(){}function sA(t,e){var n=Bt,r=Ci(),i=e(),s=!Ki(r.memoizedState,i);if(s&&(r.memoizedState=i,Ar=!0),r=r.queue,wx(lA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Cn!==null&&Cn.memoizedState.tag&1){if(n.flags|=2048,Ah(9,aA.bind(null,n,r,i,e),void 0,null),An===null)throw Error(Q(349));ul&30||oA(n,e,i)}return i}function oA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aA(t,e,n,r){e.value=n,e.getSnapshot=r,cA(e)&&uA(t)}function lA(t,e,n){return n(function(){cA(e)&&uA(t)})}function cA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ki(t,n)}catch{return!0}}function uA(t){var e=Js(t,1);e!==null&&Hi(e,t,1,-1)}function II(t){var e=rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:t},e.queue=t,t=t.dispatch=_M.bind(null,Bt,t),[e.memoizedState,t]}function Ah(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dA(){return Ci().memoizedState}function rp(t,e,n,r){var i=rs();Bt.flags|=t,i.memoizedState=Ah(1|e,n,void 0,r===void 0?null:r)}function m2(t,e,n,r){var i=Ci();r=r===void 0?null:r;var s=void 0;if(yn!==null){var o=yn.memoizedState;if(s=o.destroy,r!==null&&vx(r,o.deps)){i.memoizedState=Ah(e,n,s,r);return}}Bt.flags|=t,i.memoizedState=Ah(1|e,n,s,r)}function bI(t,e){return rp(8390656,8,t,e)}function wx(t,e){return m2(2048,8,t,e)}function hA(t,e){return m2(4,2,t,e)}function fA(t,e){return m2(4,4,t,e)}function pA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mA(t,e,n){return n=n!=null?n.concat([t]):null,m2(4,4,pA.bind(null,e,t),n)}function xx(){}function gA(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vA(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yA(t,e,n){return ul&21?(Ki(n,e)||(n=xR(),Bt.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ar=!0),t.memoizedState=n)}function vM(t,e){var n=gt;gt=n!==0&&4>n?n:4,t(!0);var r=Z1.transition;Z1.transition={};try{t(!1),e()}finally{gt=n,Z1.transition=r}}function _A(){return Ci().memoizedState}function yM(t,e,n){var r=Go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wA(t))xA(e,n);else if(n=XR(t,e,n,r),n!==null){var i=gr();Hi(n,t,r,i),EA(n,e,r)}}function _M(t,e,n){var r=Go(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wA(t))xA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ki(a,o)){var l=e.interleaved;l===null?(i.next=i,hx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XR(t,e,i,r),n!==null&&(i=gr(),Hi(n,t,r,i),EA(n,e,r))}}function wA(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function xA(t,e){Gd=tm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jw(t,n)}}var nm={readContext:bi,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},wM={readContext:bi,useCallback:function(t,e){return rs().memoizedState=[t,e===void 0?null:e],t},useContext:bi,useEffect:bI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rp(4194308,4,pA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rp(4194308,4,t,e)},useInsertionEffect:function(t,e){return rp(4,2,t,e)},useMemo:function(t,e){var n=rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yM.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=rs();return t={current:t},e.memoizedState=t},useState:II,useDebugValue:xx,useDeferredValue:function(t){return rs().memoizedState=t},useTransition:function(){var t=II(!1),e=t[0];return t=vM.bind(null,t[1]),rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,i=rs();if(Ft){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),An===null)throw Error(Q(349));ul&30||oA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bI(lA.bind(null,r,s,t),[t]),r.flags|=2048,Ah(9,aA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rs(),e=An.identifierPrefix;if(Ft){var n=js,r=$s;n=(r&~(1<<32-Wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xM={readContext:bi,useCallback:gA,useContext:bi,useEffect:wx,useImperativeHandle:mA,useInsertionEffect:hA,useLayoutEffect:fA,useMemo:vA,useReducer:ev,useRef:dA,useState:function(){return ev(Rh)},useDebugValue:xx,useDeferredValue:function(t){var e=Ci();return yA(e,yn.memoizedState,t)},useTransition:function(){var t=ev(Rh)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:iA,useSyncExternalStore:sA,useId:_A,unstable_isNewReconciler:!1},EM={readContext:bi,useCallback:gA,useContext:bi,useEffect:wx,useImperativeHandle:mA,useInsertionEffect:hA,useLayoutEffect:fA,useMemo:vA,useReducer:tv,useRef:dA,useState:function(){return tv(Rh)},useDebugValue:xx,useDeferredValue:function(t){var e=Ci();return yn===null?e.memoizedState=t:yA(e,yn.memoizedState,t)},useTransition:function(){var t=tv(Rh)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:iA,useSyncExternalStore:sA,useId:_A,unstable_isNewReconciler:!1};function eu(t,e){try{var n="",r=e;do n+=YD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function nv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IM=typeof WeakMap=="function"?WeakMap:Map;function IA(t,e,n){n=Hs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){im||(im=!0,Ky=r),jy(t,e)},n}function bA(t,e,n){n=Hs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function CI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$M.bind(null,t,e,n),e.then(t,t))}function TI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hs(-1,1),e.tag=2,Ho(n,e,1))),n.lanes|=1),t)}var bM=lo.ReactCurrentOwner,Ar=!1;function ur(t,e,n,r){e.child=t===null?nA(e,null,n,r):Jc(e,t.child,n,r)}function RI(t,e,n,r,i){n=n.render;var s=e.ref;return Oc(e,i),r=yx(t,e,n,r,s,i),n=_x(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zs(t,e,i)):(Ft&&n&&ox(e),e.flags|=1,ur(t,e,r,i),e.child)}function AI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ax(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CA(t,e,s,r,i)):(t=ap(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xh,n(o,r)&&t.ref===e.ref)return Zs(t,e,i)}return e.flags|=1,t=Ko(s,r),t.ref=e.ref,t.return=e,e.child=t}function CA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xh(s,r)&&t.ref===e.ref)if(Ar=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ar=!0);else return e.lanes=t.lanes,Zs(t,e,i)}return Fy(t,e,n,r,i)}function TA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(bc,Ur),Ur|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(bc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(bc,Ur),Ur|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(bc,Ur),Ur|=r;return ur(t,e,i,n),e.child}function SA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fy(t,e,n,r,i){var s=Lr(n)?ll:lr.current;return s=Yc(e,s),Oc(e,i),n=yx(t,e,n,r,s,i),r=_x(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zs(t,e,i)):(Ft&&r&&ox(e),e.flags|=1,ur(t,e,n,i),e.child)}function kI(t,e,n,r,i){if(Lr(n)){var s=!0;Kp(e)}else s=!1;if(Oc(e,i),e.stateNode===null)ip(t,e),eA(e,n,r),$y(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=bi(c):(c=Lr(n)?ll:lr.current,c=Yc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xI(e,o,r,c),Co=!1;var f=e.memoizedState;o.state=f,Zp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Nr.current||Co?(typeof u=="function"&&(My(e,n,u,r),l=e.memoizedState),(a=Co||wI(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ji(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bi(l):(l=Lr(n)?ll:lr.current,l=Yc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&xI(e,o,r,l),Co=!1,f=e.memoizedState,o.state=f,Zp(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||Nr.current||Co?(typeof p=="function"&&(My(e,n,p,r),m=e.memoizedState),(c=Co||wI(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vy(t,e,n,r,s,i)}function Vy(t,e,n,r,i,s){SA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mI(e,n,!1),Zs(t,e,s);r=e.stateNode,bM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jc(e,t.child,null,s),e.child=Jc(e,null,a,s)):ur(t,e,a,s),e.memoizedState=r.state,i&&mI(e,n,!0),e.child}function RA(t){var e=t.stateNode;e.pendingContext?pI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pI(t,e.context,!1),px(t,e.containerInfo)}function PI(t,e,n,r,i){return Xc(),lx(i),e.flags|=256,ur(t,e,n,r),e.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function zy(t){return{baseLanes:t,cachePool:null,transitions:null}}function AA(t,e,n){var r=e.pendingProps,i=Ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Ut,i&1),t===null)return Dy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=y2(o,r,0,null),t=Za(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zy(n),e.memoizedState=Uy,t):Ex(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ko(a,s):(s=Za(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Uy,r}return s=t.child,t=s.sibling,r=Ko(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ex(t,e){return e=y2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _0(t,e,n,r){return r!==null&&lx(r),Jc(e,t.child,null,n),t=Ex(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=nv(Error(Q(422))),_0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=y2({mode:"visible",children:r.children},i,0,null),s=Za(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jc(e,t.child,null,o),e.child.memoizedState=zy(o),e.memoizedState=Uy,s);if(!(e.mode&1))return _0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=nv(s,r,void 0),_0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ar||a){if(r=An,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Js(t,i),Hi(r,t,i,-1))}return Rx(),r=nv(Error(Q(421))),_0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Br=Wo(i.nextSibling),qr=e,Ft=!0,Vi=null,t!==null&&(ui[di++]=$s,ui[di++]=js,ui[di++]=cl,$s=t.id,js=t.overflow,cl=e),e=Ex(e,r.children),e.flags|=4096,e)}function NI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oy(t.return,e,n)}function rv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ur(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&NI(t,n,e);else if(t.tag===19)NI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&em(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&em(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rv(e,!0,n,null,s);break;case"together":rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ip(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TM(t,e,n){switch(e.tag){case 3:RA(e),Xc();break;case 5:rA(e);break;case 1:Lr(e.type)&&Kp(e);break;case 4:px(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(Xp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?AA(t,e,n):(Rt(Ut,Ut.current&1),t=Zs(t,e,n),t!==null?t.sibling:null);Rt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,TA(t,e,n)}return Zs(t,e,n)}var PA,By,NA,LA;PA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};By=function(){};NA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ba(ws.current);var s=null;switch(n){case"input":i=dy(t,i),r=dy(t,r),s=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),s=[];break;case"textarea":i=py(t,i),r=py(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qp)}gy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ph.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ph.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};LA=function(t,e,n,r){n!==r&&(e.flags|=4)};function sd(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SM(t,e,n){var r=e.pendingProps;switch(ax(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(e),null;case 1:return Lr(e.type)&&Gp(),Qn(e),null;case 3:return r=e.stateNode,Zc(),Mt(Nr),Mt(lr),gx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(v0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vi!==null&&(Xy(Vi),Vi=null))),By(t,e),Qn(e),null;case 5:mx(e);var i=Ba(Th.current);if(n=e.type,t!==null&&e.stateNode!=null)NA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Qn(e),null}if(t=Ba(ws.current),v0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ls]=e,r[bh]=s,t=(e.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<Pd.length;i++)Pt(Pd[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":U5(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":B5(r,s),Pt("invalid",r)}gy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&g0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&g0(r.textContent,a,t),i=["children",""+a]):ph.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",r)}switch(n){case"input":l0(r),z5(r,s,!0);break;case"textarea":l0(r),W5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ls]=e,t[bh]=r,PA(t,e,!1,!1),e.stateNode=t;e:{switch(o=vy(n,r),n){case"dialog":Pt("cancel",t),Pt("close",t),i=r;break;case"iframe":case"object":case"embed":Pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pd.length;i++)Pt(Pd[i],t);i=r;break;case"source":Pt("error",t),i=r;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),i=r;break;case"details":Pt("toggle",t),i=r;break;case"input":U5(t,r),i=dy(t,r),Pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),Pt("invalid",t);break;case"textarea":B5(t,r),i=py(t,r),Pt("invalid",t);break;default:i=r}gy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mh(t,l):typeof l=="number"&&mh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ph.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pt("scroll",t):l!=null&&qw(t,s,l,o))}switch(n){case"input":l0(t),z5(t,r,!1);break;case"textarea":l0(t),W5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qn(e),null;case 6:if(t&&e.stateNode!=null)LA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Ba(Th.current),Ba(ws.current),v0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ls]=e,(s=r.nodeValue!==n)&&(t=qr,t!==null))switch(t.tag){case 3:g0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&g0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=e,e.stateNode=r}return Qn(e),null;case 13:if(Mt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&Br!==null&&e.mode&1&&!(e.flags&128))YR(),Xc(),e.flags|=98560,s=!1;else if(s=v0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[ls]=e}else Xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qn(e),s=!1}else Vi!==null&&(Xy(Vi),Vi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?_n===0&&(_n=3):Rx())),e.updateQueue!==null&&(e.flags|=4),Qn(e),null);case 4:return Zc(),By(t,e),t===null&&Eh(e.stateNode.containerInfo),Qn(e),null;case 10:return dx(e.type._context),Qn(e),null;case 17:return Lr(e.type)&&Gp(),Qn(e),null;case 19:if(Mt(Ut),s=e.memoizedState,s===null)return Qn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sd(s,!1);else{if(_n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=em(t),o!==null){for(e.flags|=128,sd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&rn()>tu&&(e.flags|=128,r=!0,sd(s,!1),e.lanes=4194304)}else{if(!r)if(t=em(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return Qn(e),null}else 2*rn()-s.renderingStartTime>tu&&n!==1073741824&&(e.flags|=128,r=!0,sd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rn(),e.sibling=null,n=Ut.current,Rt(Ut,r?n&1|2:n&1),e):(Qn(e),null);case 22:case 23:return Sx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Qn(e),e.subtreeFlags&6&&(e.flags|=8192)):Qn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function RM(t,e){switch(ax(e),e.tag){case 1:return Lr(e.type)&&Gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),Mt(Nr),Mt(lr),gx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mx(e),null;case 13:if(Mt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(Ut),null;case 4:return Zc(),null;case 10:return dx(e.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var w0=!1,Jn=!1,AM=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ic(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function Wy(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var LI=!1;function kM(t,e){if(Sy=Bp,t=$R(),sx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ry={focusedElem:t,selectionRange:n},Bp=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ji(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){Qt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return m=LI,LI=!1,m}function Kd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wy(e,n,s)}i=i.next}while(i!==r)}}function g2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DA(t){var e=t.alternate;e!==null&&(t.alternate=null,DA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[bh],delete e[Py],delete e[hM],delete e[fM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OA(t){return t.tag===5||t.tag===3||t.tag===4}function DI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qp));else if(r!==4&&(t=t.child,t!==null))for(qy(t,e,n),t=t.sibling;t!==null;)qy(t,e,n),t=t.sibling}function Gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gy(t,e,n),t=t.sibling;t!==null;)Gy(t,e,n),t=t.sibling}var $n=null,Fi=!1;function go(t,e,n){for(n=n.child;n!==null;)MA(t,e,n),n=n.sibling}function MA(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(l2,n)}catch{}switch(n.tag){case 5:Jn||Ic(n,e);case 6:var r=$n,i=Fi;$n=null,go(t,e,n),$n=r,Fi=i,$n!==null&&(Fi?(t=$n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(Fi?(t=$n,n=n.stateNode,t.nodeType===8?Y1(t.parentNode,n):t.nodeType===1&&Y1(t,n),_h(t)):Y1($n,n.stateNode));break;case 4:r=$n,i=Fi,$n=n.stateNode.containerInfo,Fi=!0,go(t,e,n),$n=r,Fi=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wy(n,e,o),i=i.next}while(i!==r)}go(t,e,n);break;case 1:if(!Jn&&(Ic(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qt(n,e,a)}go(t,e,n);break;case 21:go(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,go(t,e,n),Jn=r):go(t,e,n);break;default:go(t,e,n)}}function OI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AM),e.forEach(function(r){var i=FM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$n=a.stateNode,Fi=!1;break e;case 3:$n=a.stateNode.containerInfo,Fi=!0;break e;case 4:$n=a.stateNode.containerInfo,Fi=!0;break e}a=a.return}if($n===null)throw Error(Q(160));MA(s,o,i),$n=null,Fi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Qt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$A(e,t),e=e.sibling}function $A(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oi(e,t),ns(t),r&4){try{Kd(3,t,t.return),g2(3,t)}catch(y){Qt(t,t.return,y)}try{Kd(5,t,t.return)}catch(y){Qt(t,t.return,y)}}break;case 1:Oi(e,t),ns(t),r&512&&n!==null&&Ic(n,n.return);break;case 5:if(Oi(e,t),ns(t),r&512&&n!==null&&Ic(n,n.return),t.flags&32){var i=t.stateNode;try{mh(i,"")}catch(y){Qt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iR(i,s),vy(a,o);var c=vy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?cR(i,d):u==="dangerouslySetInnerHTML"?aR(i,d):u==="children"?mh(i,d):qw(i,u,d,c)}switch(a){case"input":hy(i,s);break;case"textarea":sR(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Pc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Pc(i,!!s.multiple,s.defaultValue,!0):Pc(i,!!s.multiple,s.multiple?[]:"",!1))}i[bh]=s}catch(y){Qt(t,t.return,y)}}break;case 6:if(Oi(e,t),ns(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Qt(t,t.return,y)}}break;case 3:if(Oi(e,t),ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_h(e.containerInfo)}catch(y){Qt(t,t.return,y)}break;case 4:Oi(e,t),ns(t);break;case 13:Oi(e,t),ns(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cx=rn())),r&4&&OI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(c=Jn)||u,Oi(e,t),Jn=c):Oi(e,t),ns(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(de=t,u=t.child;u!==null;){for(d=de=u;de!==null;){switch(f=de,p=f.child,f.tag){case 0:case 11:case 14:case 15:Kd(4,f,f.return);break;case 1:Ic(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Qt(r,n,y)}}break;case 5:Ic(f,f.return);break;case 22:if(f.memoizedState!==null){$I(d);continue}}p!==null?(p.return=f,de=p):$I(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lR("display",o))}catch(y){Qt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Qt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Oi(e,t),ns(t),r&4&&OI(t);break;case 21:break;default:Oi(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OA(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var s=DI(t);Gy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=DI(t);qy(t,a,o);break;default:throw Error(Q(161))}}catch(l){Qt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PM(t,e,n){de=t,jA(t)}function jA(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||w0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=w0;var c=Jn;if(w0=o,(Jn=l)&&!c)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?jI(i):l!==null?(l.return=o,de=l):jI(i);for(;s!==null;)de=s,jA(s),s=s.sibling;de=i,w0=a,Jn=c}MI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):MI(t)}}function MI(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||g2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ji(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_I(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_I(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_h(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Jn||e.flags&512&&Hy(e)}catch(f){Qt(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function $I(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function jI(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{g2(4,e)}catch(l){Qt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qt(e,i,l)}}var s=e.return;try{Hy(e)}catch(l){Qt(e,s,l)}break;case 5:var o=e.return;try{Hy(e)}catch(l){Qt(e,o,l)}}}catch(l){Qt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var NM=Math.ceil,rm=lo.ReactCurrentDispatcher,Ix=lo.ReactCurrentOwner,wi=lo.ReactCurrentBatchConfig,st=0,An=null,pn=null,Un=0,Ur=0,bc=ha(0),_n=0,kh=null,dl=0,v2=0,bx=0,Qd=null,Tr=null,Cx=0,tu=1/0,Ns=null,im=!1,Ky=null,qo=null,x0=!1,Mo=null,sm=0,Yd=0,Qy=null,sp=-1,op=0;function gr(){return st&6?rn():sp!==-1?sp:sp=rn()}function Go(t){return t.mode&1?st&2&&Un!==0?Un&-Un:mM.transition!==null?(op===0&&(op=xR()),op):(t=gt,t!==0||(t=window.event,t=t===void 0?16:RR(t.type)),t):1}function Hi(t,e,n,r){if(50<Yd)throw Yd=0,Qy=null,Error(Q(185));ff(t,n,r),(!(st&2)||t!==An)&&(t===An&&(!(st&2)&&(v2|=n),_n===4&&So(t,Un)),Dr(t,r),n===1&&st===0&&!(e.mode&1)&&(tu=rn()+500,f2&&fa()))}function Dr(t,e){var n=t.callbackNode;mO(t,e);var r=zp(t,t===An?Un:0);if(r===0)n!==null&&G5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&G5(n),e===1)t.tag===0?pM(FI.bind(null,t)):GR(FI.bind(null,t)),uM(function(){!(st&6)&&fa()}),n=null;else{switch(ER(r)){case 1:n=Xw;break;case 4:n=_R;break;case 16:n=Up;break;case 536870912:n=wR;break;default:n=Up}n=qA(n,FA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FA(t,e){if(sp=-1,op=0,st&6)throw Error(Q(327));var n=t.callbackNode;if(Mc()&&t.callbackNode!==n)return null;var r=zp(t,t===An?Un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=om(t,r);else{e=r;var i=st;st|=2;var s=UA();(An!==t||Un!==e)&&(Ns=null,tu=rn()+500,Ja(t,e));do try{OM();break}catch(a){VA(t,a)}while(!0);ux(),rm.current=s,st=i,pn!==null?e=0:(An=null,Un=0,e=_n)}if(e!==0){if(e===2&&(i=Ey(t),i!==0&&(r=i,e=Yy(t,i))),e===1)throw n=kh,Ja(t,0),So(t,r),Dr(t,rn()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!LM(i)&&(e=om(t,r),e===2&&(s=Ey(t),s!==0&&(r=s,e=Yy(t,s))),e===1))throw n=kh,Ja(t,0),So(t,r),Dr(t,rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ka(t,Tr,Ns);break;case 3:if(So(t,r),(r&130023424)===r&&(e=Cx+500-rn(),10<e)){if(zp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ky(ka.bind(null,t,Tr,Ns),e);break}ka(t,Tr,Ns);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NM(r/1960))-r,10<r){t.timeoutHandle=ky(ka.bind(null,t,Tr,Ns),r);break}ka(t,Tr,Ns);break;case 5:ka(t,Tr,Ns);break;default:throw Error(Q(329))}}}return Dr(t,rn()),t.callbackNode===n?FA.bind(null,t):null}function Yy(t,e){var n=Qd;return t.current.memoizedState.isDehydrated&&(Ja(t,e).flags|=256),t=om(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&Xy(e)),t}function Xy(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function LM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ki(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~bx,e&=~v2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wi(e),r=1<<n;t[n]=-1,e&=~r}}function FI(t){if(st&6)throw Error(Q(327));Mc();var e=zp(t,0);if(!(e&1))return Dr(t,rn()),null;var n=om(t,e);if(t.tag!==0&&n===2){var r=Ey(t);r!==0&&(e=r,n=Yy(t,r))}if(n===1)throw n=kh,Ja(t,0),So(t,e),Dr(t,rn()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ka(t,Tr,Ns),Dr(t,rn()),null}function Tx(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(tu=rn()+500,f2&&fa())}}function hl(t){Mo!==null&&Mo.tag===0&&!(st&6)&&Mc();var e=st;st|=1;var n=wi.transition,r=gt;try{if(wi.transition=null,gt=1,t)return t()}finally{gt=r,wi.transition=n,st=e,!(st&6)&&fa()}}function Sx(){Ur=bc.current,Mt(bc)}function Ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cM(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(ax(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gp();break;case 3:Zc(),Mt(Nr),Mt(lr),gx();break;case 5:mx(r);break;case 4:Zc();break;case 13:Mt(Ut);break;case 19:Mt(Ut);break;case 10:dx(r.type._context);break;case 22:case 23:Sx()}n=n.return}if(An=t,pn=t=Ko(t.current,null),Un=Ur=e,_n=0,kh=null,bx=v2=dl=0,Tr=Qd=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}za=null}return t}function VA(t,e){do{var n=pn;try{if(ux(),np.current=nm,tm){for(var r=Bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tm=!1}if(ul=0,Cn=yn=Bt=null,Gd=!1,Sh=0,Ix.current=null,n===null||n.return===null){_n=1,kh=e,pn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=TI(o);if(p!==null){p.flags&=-257,SI(p,o,a,s,e),p.mode&1&&CI(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){CI(s,c,e),Rx();break e}l=Error(Q(426))}}else if(Ft&&a.mode&1){var x=TI(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),SI(x,o,a,s,e),lx(eu(l,a));break e}}s=l=eu(l,a),_n!==4&&(_n=2),Qd===null?Qd=[s]:Qd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=IA(s,l,e);yI(s,g);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qo===null||!qo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=bA(s,a,e);yI(s,I);break e}}s=s.return}while(s!==null)}BA(n)}catch(T){e=T,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function UA(){var t=rm.current;return rm.current=nm,t===null?nm:t}function Rx(){(_n===0||_n===3||_n===2)&&(_n=4),An===null||!(dl&268435455)&&!(v2&268435455)||So(An,Un)}function om(t,e){var n=st;st|=2;var r=UA();(An!==t||Un!==e)&&(Ns=null,Ja(t,e));do try{DM();break}catch(i){VA(t,i)}while(!0);if(ux(),st=n,rm.current=r,pn!==null)throw Error(Q(261));return An=null,Un=0,_n}function DM(){for(;pn!==null;)zA(pn)}function OM(){for(;pn!==null&&!oO();)zA(pn)}function zA(t){var e=HA(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?BA(t):pn=e,Ix.current=null}function BA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RM(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_n=6,pn=null;return}}else if(n=SM(n,e,Ur),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);_n===0&&(_n=5)}function ka(t,e,n){var r=gt,i=wi.transition;try{wi.transition=null,gt=1,MM(t,e,n,r)}finally{wi.transition=i,gt=r}return null}function MM(t,e,n,r){do Mc();while(Mo!==null);if(st&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gO(t,s),t===An&&(pn=An=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||x0||(x0=!0,qA(Up,function(){return Mc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wi.transition,wi.transition=null;var o=gt;gt=1;var a=st;st|=4,Ix.current=null,kM(t,n),$A(n,t),nM(Ry),Bp=!!Sy,Ry=Sy=null,t.current=n,PM(n),aO(),st=a,gt=o,wi.transition=s}else t.current=n;if(x0&&(x0=!1,Mo=t,sm=i),s=t.pendingLanes,s===0&&(qo=null),uO(n.stateNode),Dr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(im)throw im=!1,t=Ky,Ky=null,t;return sm&1&&t.tag!==0&&Mc(),s=t.pendingLanes,s&1?t===Qy?Yd++:(Yd=0,Qy=t):Yd=0,fa(),null}function Mc(){if(Mo!==null){var t=ER(sm),e=wi.transition,n=gt;try{if(wi.transition=null,gt=16>t?16:t,Mo===null)var r=!1;else{if(t=Mo,Mo=null,sm=0,st&6)throw Error(Q(331));var i=st;for(st|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var u=de;switch(u.tag){case 0:case 11:case 15:Kd(8,u,s)}var d=u.child;if(d!==null)d.return=u,de=d;else for(;de!==null;){u=de;var f=u.sibling,p=u.return;if(DA(u),u===c){de=null;break}if(f!==null){f.return=p,de=f;break}de=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,de=g;break e}de=s.return}}var w=t.current;for(de=w;de!==null;){o=de;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,de=_;else e:for(o=w;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:g2(9,a)}}catch(T){Qt(a,a.return,T)}if(a===o){de=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,de=I;break e}de=a.return}}if(st=i,fa(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(l2,t)}catch{}r=!0}return r}finally{gt=n,wi.transition=e}}return!1}function VI(t,e,n){e=eu(n,e),e=IA(t,e,1),t=Ho(t,e,1),e=gr(),t!==null&&(ff(t,1,e),Dr(t,e))}function Qt(t,e,n){if(t.tag===3)VI(t,t,n);else for(;e!==null;){if(e.tag===3){VI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qo===null||!qo.has(r))){t=eu(n,t),t=bA(e,t,1),e=Ho(e,t,1),t=gr(),e!==null&&(ff(e,1,t),Dr(e,t));break}}e=e.return}}function $M(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gr(),t.pingedLanes|=t.suspendedLanes&n,An===t&&(Un&n)===n&&(_n===4||_n===3&&(Un&130023424)===Un&&500>rn()-Cx?Ja(t,0):bx|=n),Dr(t,e)}function WA(t,e){e===0&&(t.mode&1?(e=d0,d0<<=1,!(d0&130023424)&&(d0=4194304)):e=1);var n=gr();t=Js(t,e),t!==null&&(ff(t,e,n),Dr(t,n))}function jM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WA(t,n)}function FM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),WA(t,n)}var HA;HA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)Ar=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ar=!1,TM(t,e,n);Ar=!!(t.flags&131072)}else Ar=!1,Ft&&e.flags&1048576&&KR(e,Yp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ip(t,e),t=e.pendingProps;var i=Yc(e,lr.current);Oc(e,n),i=yx(null,e,r,t,i,n);var s=_x();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(r)?(s=!0,Kp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fx(e),i.updater=p2,e.stateNode=i,i._reactInternals=e,$y(e,r,t,n),e=Vy(null,e,r,!0,s,n)):(e.tag=0,Ft&&s&&ox(e),ur(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ip(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UM(r),t=ji(r,t),i){case 0:e=Fy(null,e,r,t,n);break e;case 1:e=kI(null,e,r,t,n);break e;case 11:e=RI(null,e,r,t,n);break e;case 14:e=AI(null,e,r,ji(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),Fy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),kI(t,e,r,i,n);case 3:e:{if(RA(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,JR(t,e),Zp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=eu(Error(Q(423)),e),e=PI(t,e,r,n,i);break e}else if(r!==i){i=eu(Error(Q(424)),e),e=PI(t,e,r,n,i);break e}else for(Br=Wo(e.stateNode.containerInfo.firstChild),qr=e,Ft=!0,Vi=null,n=nA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xc(),r===i){e=Zs(t,e,n);break e}ur(t,e,r,n)}e=e.child}return e;case 5:return rA(e),t===null&&Dy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ay(r,i)?o=null:s!==null&&Ay(r,s)&&(e.flags|=32),SA(t,e),ur(t,e,o,n),e.child;case 6:return t===null&&Dy(e),null;case 13:return AA(t,e,n);case 4:return px(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jc(e,null,r,n):ur(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),RI(t,e,r,i,n);case 7:return ur(t,e,e.pendingProps,n),e.child;case 8:return ur(t,e,e.pendingProps.children,n),e.child;case 12:return ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(Xp,r._currentValue),r._currentValue=o,s!==null)if(Ki(s.value,o)){if(s.children===i.children&&!Nr.current){e=Zs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Oy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Oy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ur(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oc(e,n),i=bi(i),r=r(i),e.flags|=1,ur(t,e,r,n),e.child;case 14:return r=e.type,i=ji(r,e.pendingProps),i=ji(r.type,i),AI(t,e,r,i,n);case 15:return CA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),ip(t,e),e.tag=1,Lr(r)?(t=!0,Kp(e)):t=!1,Oc(e,n),eA(e,r,i),$y(e,r,i,n),Vy(null,e,r,!0,t,n);case 19:return kA(t,e,n);case 22:return TA(t,e,n)}throw Error(Q(156,e.tag))};function qA(t,e){return yR(t,e)}function VM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(t,e,n,r){return new VM(t,e,n,r)}function Ax(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UM(t){if(typeof t=="function")return Ax(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kw)return 11;if(t===Qw)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=mi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ap(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ax(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pc:return Za(n.children,i,s,e);case Gw:o=8,i|=8;break;case ay:return t=mi(12,n,e,i|2),t.elementType=ay,t.lanes=s,t;case ly:return t=mi(13,n,e,i),t.elementType=ly,t.lanes=s,t;case cy:return t=mi(19,n,e,i),t.elementType=cy,t.lanes=s,t;case tR:return y2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z4:o=10;break e;case eR:o=9;break e;case Kw:o=11;break e;case Qw:o=14;break e;case bo:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=mi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Za(t,e,n,r){return t=mi(7,t,r,e),t.lanes=n,t}function y2(t,e,n,r){return t=mi(22,t,r,e),t.elementType=tR,t.lanes=n,t.stateNode={isHidden:!1},t}function iv(t,e,n){return t=mi(6,t,null,e),t.lanes=n,t}function sv(t,e,n){return e=mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F1(0),this.expirationTimes=F1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kx(t,e,n,r,i,s,o,a,l){return t=new zM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fx(s),t}function BM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GA(t){if(!t)return na;t=t._reactInternals;e:{if(Ll(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Lr(n))return qR(t,n,e)}return e}function KA(t,e,n,r,i,s,o,a,l){return t=kx(n,r,!0,t,i,s,o,a,l),t.context=GA(null),n=t.current,r=gr(),i=Go(n),s=Hs(r,i),s.callback=e??null,Ho(n,s,i),t.current.lanes=i,ff(t,i,r),Dr(t,r),t}function _2(t,e,n,r){var i=e.current,s=gr(),o=Go(i);return n=GA(n),e.context===null?e.context=n:e.pendingContext=n,e=Hs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ho(i,e,o),t!==null&&(Hi(t,i,o,s),tp(t,i,o)),o}function am(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Px(t,e){UI(t,e),(t=t.alternate)&&UI(t,e)}function WM(){return null}var QA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nx(t){this._internalRoot=t}w2.prototype.render=Nx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));_2(t,e,null,null)};w2.prototype.unmount=Nx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){_2(null,t,null,null)}),e[Xs]=null}};function w2(t){this._internalRoot=t}w2.prototype.unstable_scheduleHydration=function(t){if(t){var e=CR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<To.length&&e!==0&&e<To[n].priority;n++);To.splice(n,0,t),n===0&&SR(t)}};function Lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zI(){}function HM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=am(o);s.call(c)}}var o=KA(e,r,t,0,null,!1,!1,"",zI);return t._reactRootContainer=o,t[Xs]=o.current,Eh(t.nodeType===8?t.parentNode:t),hl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=am(l);a.call(c)}}var l=kx(t,0,!1,null,null,!1,!1,"",zI);return t._reactRootContainer=l,t[Xs]=l.current,Eh(t.nodeType===8?t.parentNode:t),hl(function(){_2(e,l,n,r)}),l}function E2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=am(o);a.call(l)}}_2(e,o,t,i)}else o=HM(n,e,t,i,r);return am(o)}IR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kd(e.pendingLanes);n!==0&&(Jw(e,n|1),Dr(e,rn()),!(st&6)&&(tu=rn()+500,fa()))}break;case 13:hl(function(){var r=Js(t,1);if(r!==null){var i=gr();Hi(r,t,1,i)}}),Px(t,1)}};Zw=function(t){if(t.tag===13){var e=Js(t,134217728);if(e!==null){var n=gr();Hi(e,t,134217728,n)}Px(t,134217728)}};bR=function(t){if(t.tag===13){var e=Go(t),n=Js(t,e);if(n!==null){var r=gr();Hi(n,t,e,r)}Px(t,e)}};CR=function(){return gt};TR=function(t,e){var n=gt;try{return gt=t,e()}finally{gt=n}};_y=function(t,e,n){switch(e){case"input":if(hy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=h2(r);if(!i)throw Error(Q(90));rR(r),hy(r,i)}}}break;case"textarea":sR(t,n);break;case"select":e=n.value,e!=null&&Pc(t,!!n.multiple,e,!1)}};hR=Tx;fR=hl;var qM={usingClientEntryPoint:!1,Events:[mf,yc,h2,uR,dR,Tx]},od={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GM={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gR(t),t===null?null:t.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||WM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{l2=E0.inject(GM),_s=E0}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qM;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lx(e))throw Error(Q(200));return BM(t,e,null,n)};ti.createRoot=function(t,e){if(!Lx(t))throw Error(Q(299));var n=!1,r="",i=QA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kx(t,1,!1,null,null,n,!1,r,i),t[Xs]=e.current,Eh(t.nodeType===8?t.parentNode:t),new Nx(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=gR(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return hl(t)};ti.hydrate=function(t,e,n){if(!x2(e))throw Error(Q(200));return E2(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!Lx(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KA(e,null,t,1,n??null,i,!1,s,o),t[Xs]=e.current,Eh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new w2(e)};ti.render=function(t,e,n){if(!x2(e))throw Error(Q(200));return E2(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!x2(t))throw Error(Q(40));return t._reactRootContainer?(hl(function(){E2(null,null,t,!1,function(){t._reactRootContainer=null,t[Xs]=null})}),!0):!1};ti.unstable_batchedUpdates=Tx;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!x2(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return E2(t,e,n,!1,r)};ti.version="18.2.0-next-9e3b772b8-20220608";function YA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YA)}catch(t){console.error(t)}}YA(),K4.exports=ti;var Ph=K4.exports;const I0=$4(Ph);var BI=Ph;sy.createRoot=BI.createRoot,sy.hydrateRoot=BI.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}var $o;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($o||($o={}));const WI="popstate";function KM(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Dl(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Jy("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:lm(s))}function r(i,s){I2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return YM(e,n,r,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function I2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QM(){return Math.random().toString(36).substr(2,8)}function HI(t,e){return{usr:t.state,key:t.key,idx:e}}function Jy(t,e,n,r){return n===void 0&&(n=null),Nh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Dl(e):e,{state:n,key:e&&e.key||r||QM()})}function lm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$o.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Nh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=$o.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:g})}function f(x,g){a=$o.Push;let w=Jy(y.location,x,g);n&&n(w,x),c=u()+1;let _=HI(w,c),I=y.createHref(w);try{o.pushState(_,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&l&&l({action:a,location:y.location,delta:1})}function p(x,g){a=$o.Replace;let w=Jy(y.location,x,g);n&&n(w,x),c=u();let _=HI(w,c),I=y.createHref(w);o.replaceState(_,"",I),s&&l&&l({action:a,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:lm(x);return gn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WI,d),l=x,()=>{i.removeEventListener(WI,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return y}var qI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qI||(qI={}));function XM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Dl(e):e,i=Dx(r.pathname||"/",n);if(i==null)return null;let s=XA(t);JM(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=a$(s[a],u$(i));return o}function XA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XA(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:s$(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JA(s.path))i(s,o,l)}),e}function JA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZM=/^:[\w-]+$/,e$=3,t$=2,n$=1,r$=10,i$=-2,GI=t=>t==="*";function s$(t,e){let n=t.split("/"),r=n.length;return n.some(GI)&&(r+=i$),e&&(r+=t$),n.filter(i=>!GI(i)).reduce((i,s)=>i+(ZM.test(s)?e$:s===""?n$:r$),r)}function o$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function a$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=l$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Qo([i,u.pathname]),pathnameBase:m$(Qo([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Qo([i,u.pathnameBase]))}return s}function l$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[f]=void 0:c[f]=d$(m||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function c$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),I2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u$(t){try{return decodeURI(t)}catch(e){return I2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d$(t,e){try{return decodeURIComponent(t)}catch(n){return I2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Dx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Dl(t):t;return{pathname:n?n.startsWith("/")?n:f$(n,e):e,search:g$(r),hash:v$(i)}}function f$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZA(t,e){let n=p$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ek(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Dl(t):(i=Nh({},t),gn(!i.pathname||!i.pathname.includes("?"),ov("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),ov("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),ov("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=h$(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),m$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tk=["post","put","patch","delete"];new Set(tk);const _$=["get",...tk];new Set(_$);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}const Ox=v.createContext(null),w$=v.createContext(null),Ol=v.createContext(null),b2=v.createContext(null),pa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),nk=v.createContext(null);function x$(t,e){let{relative:n}=e===void 0?{}:e;vf()||gn(!1);let{basename:r,navigator:i}=v.useContext(Ol),{hash:s,pathname:o,search:a}=ik(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vf(){return v.useContext(b2)!=null}function ku(){return vf()||gn(!1),v.useContext(b2).location}function rk(t){v.useContext(Ol).static||v.useLayoutEffect(t)}function En(){let{isDataRoute:t}=v.useContext(pa);return t?D$():E$()}function E$(){vf()||gn(!1);let t=v.useContext(Ox),{basename:e,future:n,navigator:r}=v.useContext(Ol),{matches:i}=v.useContext(pa),{pathname:s}=ku(),o=JSON.stringify(ZA(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return rk(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=ek(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function yf(){let{matches:t}=v.useContext(pa),e=t[t.length-1];return e?e.params:{}}function ik(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ol),{matches:i}=v.useContext(pa),{pathname:s}=ku(),o=JSON.stringify(ZA(i,r.v7_relativeSplatPath));return v.useMemo(()=>ek(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function I$(t,e){return b$(t,e)}function b$(t,e,n,r){vf()||gn(!1);let{navigator:i}=v.useContext(Ol),{matches:s}=v.useContext(pa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ku(),u;if(e){var d;let x=typeof e=="string"?Dl(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||gn(!1),u=x}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",m=XM(t,{pathname:p}),y=A$(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Qo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Qo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&y?v.createElement(b2.Provider,{value:{location:Lh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$o.Pop}},y):y}function C$(){let t=L$(),e=y$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const T$=v.createElement(C$,null);class S$ extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(pa.Provider,{value:this.props.routeContext},v.createElement(nk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R$(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(Ox);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(pa.Provider,{value:e},r)}function A$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||gn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,m=!1,y=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||T$,l&&(c<0&&f===0?(O$("route-fallback",!1),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=y:m?_=x:d.route.Component?_=v.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,v.createElement(R$,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(S$,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var sk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sk||{}),cm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cm||{});function k$(t){let e=v.useContext(Ox);return e||gn(!1),e}function P$(t){let e=v.useContext(w$);return e||gn(!1),e}function N$(t){let e=v.useContext(pa);return e||gn(!1),e}function ok(t){let e=N$(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function L$(){var t;let e=v.useContext(nk),n=P$(cm.UseRouteError),r=ok(cm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function D$(){let{router:t}=k$(sk.UseNavigateStable),e=ok(cm.UseNavigateStable),n=v.useRef(!1);return rk(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lh({fromRouteId:e},s)))},[t,e])}const KI={};function O$(t,e,n){!e&&!KI[t]&&(KI[t]=!0)}function un(t){gn(!1)}function M$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$o.Pop,navigator:s,static:o=!1,future:a}=t;vf()&&gn(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Lh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Dl(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,y=v.useMemo(()=>{let x=Dx(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:i}},[l,u,d,f,p,m,i]);return y==null?null:v.createElement(Ol.Provider,{value:c},v.createElement(b2.Provider,{children:n,value:y}))}function $$(t){let{children:e,location:n}=t;return I$(Zy(e),n)}new Promise(()=>{});function Zy(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Zy(r.props.children,s));return}r.type!==un&&gn(!1),!r.props.index||!r.props.children||gn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function j$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function V$(t,e){return t.button===0&&(!e||e==="_self")&&!F$(t)}const U$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],z$="6";try{window.__reactRouterVersion=z$}catch{}const B$="startTransition",QI=$p[B$];function W$(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=KM({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&QI?QI(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(M$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const H$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G$=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=j$(e,U$),{basename:p}=v.useContext(Ol),m,y=!1;if(typeof c=="string"&&q$.test(c)&&(m=c,H$))try{let _=new URL(window.location.href),I=c.startsWith("//")?new URL(_.protocol+c):new URL(c),T=Dx(I.pathname,p);I.origin===_.origin&&T!=null?c=T+I.search+I.hash:y=!0}catch{}let x=x$(c,{relative:i}),g=K$(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||g(_)}return v.createElement("a",e_({},f,{href:m||x,onClick:y||s?r:w,ref:n,target:l}))});var YI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(YI||(YI={}));var XI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(XI||(XI={}));function K$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=En(),c=ku(),u=ik(t,{relative:o});return v.useCallback(d=>{if(V$(d,n)){d.preventDefault();let f=r!==void 0?r:lm(c)===lm(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const Q$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",Y$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",X$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",J$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Z$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",ej="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",tj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",nj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",rj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",ij="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",sj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",oj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",aj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",lj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",cj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",uj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",dj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",hj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",fj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",pj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",mj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",gj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",vj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",yj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",_j="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",wj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",xj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",Ej="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",Ij="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",bj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",Cj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",Tj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",Sj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Rj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",Aj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",kj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",Pj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Nj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Lj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Dj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Oj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Mj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",$j="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",jj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",Fj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",Vj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",Uj="/assets/dark-i8sdGySW.svg",zj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",Bj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",Wj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",Hj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",qj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",Gj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",Kj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",Qj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",Yj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",Xj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",Jj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",Zj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",eF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",tF="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",nF="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",rF="/assets/facebook-reaction-sad-fp-d8NwB.svg",iF="/assets/facebook-reaction-wow-4aGHxQqX.svg",sF="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",oF="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",aF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",lF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",cF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",uF={sent:aF,eye:cF,seen:lF,link:Xj,reply:eF,sendLetter:Jj,sendingLetter:Zj,deleteIcon:Qj,editPencil:Yj,moreOption:Kj,download:zj,offline:qj,online:Gj,chat:Hj,notification:Wj,file:Bj,light:Vj,dark:Uj,upload:Fj,trueIcon:Q$,falseIcon:Y$,error:X$,down:J$,back:Z$,thumbUp:ej,redo:tj,next:nj,finish:rj,history:ij,trash:sj,add:oj,edit:aj,save:lj,up:cj,clipboard:uj,admin:dj,menu:hj,home:fj,result:pj,help:mj,about:gj,update:vj,faq:yj,plus:_j,minus:wj,share:xj,review:Ej,fullScreen:Ij,search:bj,searchLeft:Cj,close:Tj,copy:Sj,google:Rj,refresh:Aj,exit:kj,exam:Pj,like:Nj,liked:Lj,comment:Dj,send:Oj,logout:Mj,user:$j,image:jj,facebookAngry:sF,facebookHaha:oF,facebookLike:tF,facebookLove:nF,facebookSad:rF,facebookWow:iF};function Le(t){return uF[t]||null}const wn=({data:t})=>{const{clickFn:e,image:n}=t,r=Le(n),{theme:i}=v.useContext(Z),s=()=>{e&&e()};return h.jsx("button",{onClick:s,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${i==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:h.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function b0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var dF={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function t_(t,e){function n(i,s,o){if(!(typeof document>"u")){o=b0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",b0({},s,{expires:-1}))},withAttributes:function(i){return t_(this.converter,b0({},this.attributes,i))},withConverter:function(i){return t_(b0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var zi=t_(dF,{path:"/"}),JI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Pu(e)},Pu=function(t){return new Error("Firebase Database ("+ak.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new fF;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ck=function(t){const e=lk(t);return Mx.encodeByteArray(e,!0)},um=function(t){return ck(t).replace(/\./g,"")},Dh=function(t){try{return Mx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){return uk(void 0,t)}function uk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mF(n)||(t[n]=uk(t[n],e[n]));return t}function mF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=()=>gF().__FIREBASE_DEFAULTS__,yF=()=>{if(typeof process>"u"||typeof JI>"u")return;const t=JI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_F=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dh(t[1]);return e&&JSON.parse(e)},C2=()=>{try{return vF()||yF()||_F()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dk=t=>{var e,n;return(n=(e=C2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hk=t=>{const e=dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fk=()=>{var t;return(t=C2())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=C2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[um(JSON.stringify(n)),um(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function wF(){var t;const e=(t=C2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vk(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yk(){return ak.NODE_ADMIN===!0}function _k(){return!wF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wk(){try{return typeof indexedDB=="object"}catch{return!1}}function xF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EF,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ri(i,a,r)}}function IF(t,e){return t.replace(bF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){return JSON.parse(t)}function Vn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Oh(Dh(s[0])||""),n=Oh(Dh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},CF=function(t){const e=xk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TF=function(t){const e=xk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function n_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ru(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ZI(s)&&ZI(o)){if(!ru(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function us(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ds(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Ek(t,e){const n=new RF(t,e);return n.subscribe.bind(n)}class RF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=av),i.error===void 0&&(i.error=av),i.complete===void 0&&(i.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function av(){}function kF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S2=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class Qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $x;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LF(t){return t===Pa?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const MF={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},$F=ze.INFO,jF={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},FF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _f{constructor(e){this.name=e,this._logLevel=$F,this._logHandler=FF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const VF=(t,e)=>e.some(n=>t instanceof n);let eb,tb;function UF(){return eb||(eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zF(){return tb||(tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ik=new WeakMap,r_=new WeakMap,bk=new WeakMap,lv=new WeakMap,Fx=new WeakMap;function BF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ik.set(n,t)}).catch(()=>{}),Fx.set(e,t),e}function WF(t){if(r_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});r_.set(t,e)}let i_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HF(t){i_=t(i_)}function qF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cv(this),e,...n);return bk.set(r,e.sort?e.sort():[e]),Yo(r)}:zF().includes(t)?function(...e){return t.apply(cv(this),e),Yo(Ik.get(this))}:function(...e){return Yo(t.apply(cv(this),e))}}function GF(t){return typeof t=="function"?qF(t):(t instanceof IDBTransaction&&WF(t),VF(t,UF())?new Proxy(t,i_):t)}function Yo(t){if(t instanceof IDBRequest)return BF(t);if(lv.has(t))return lv.get(t);const e=GF(t);return e!==t&&(lv.set(t,e),Fx.set(e,t)),e}const cv=t=>Fx.get(t);function KF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yo(o.result),l.oldVersion,l.newVersion,Yo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QF=["get","getKey","getAll","getAllKeys","count"],YF=["put","add","delete","clear"],uv=new Map;function nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return uv.set(e,s),s}HF(t=>({...t,get:(e,n,r)=>nb(e,n)||t.get(e,n,r),has:(e,n)=>!!nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s_="@firebase/app",rb="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new _f("@firebase/app"),ZF="@firebase/app-compat",eV="@firebase/analytics-compat",tV="@firebase/analytics",nV="@firebase/app-check-compat",rV="@firebase/app-check",iV="@firebase/auth",sV="@firebase/auth-compat",oV="@firebase/database",aV="@firebase/database-compat",lV="@firebase/functions",cV="@firebase/functions-compat",uV="@firebase/installations",dV="@firebase/installations-compat",hV="@firebase/messaging",fV="@firebase/messaging-compat",pV="@firebase/performance",mV="@firebase/performance-compat",gV="@firebase/remote-config",vV="@firebase/remote-config-compat",yV="@firebase/storage",_V="@firebase/storage-compat",wV="@firebase/firestore",xV="@firebase/firestore-compat",EV="firebase",IV="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="[DEFAULT]",bV={[s_]:"fire-core",[ZF]:"fire-core-compat",[tV]:"fire-analytics",[eV]:"fire-analytics-compat",[rV]:"fire-app-check",[nV]:"fire-app-check-compat",[iV]:"fire-auth",[sV]:"fire-auth-compat",[oV]:"fire-rtdb",[aV]:"fire-rtdb-compat",[lV]:"fire-fn",[cV]:"fire-fn-compat",[uV]:"fire-iid",[dV]:"fire-iid-compat",[hV]:"fire-fcm",[fV]:"fire-fcm-compat",[pV]:"fire-perf",[mV]:"fire-perf-compat",[gV]:"fire-rc",[vV]:"fire-rc-compat",[yV]:"fire-gcs",[_V]:"fire-gcs-compat",[wV]:"fire-fst",[xV]:"fire-fst-compat","fire-js":"fire-js",[EV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map,a_=new Map;function CV(t,e){try{t.container.addComponent(e)}catch(n){fl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bs(t){const e=t.name;if(a_.has(e))return fl.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of hm.values())CV(n,t);return!0}function wf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xo=new ma("app","Firebase",TV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=IV;function Ck(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:o_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(n||(n=fk()),!n)throw Xo.create("no-options");const s=hm.get(i);if(s){if(ru(n,s.options)&&ru(r,s.config))return s;throw Xo.create("duplicate-app",{appName:i})}const o=new OF(i);for(const l of a_.values())o.addComponent(l);const a=new SV(n,r,o);return hm.set(i,a),a}function Vx(t=o_){const e=hm.get(t);if(!e&&t===o_&&fk())return Ck();if(!e)throw Xo.create("no-app",{appName:t});return e}function Or(t,e,n){var r;let i=(r=bV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fl.warn(a.join(" "));return}bs(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="firebase-heartbeat-database",AV=1,Mh="firebase-heartbeat-store";let dv=null;function Tk(){return dv||(dv=KF(RV,AV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xo.create("idb-open",{originalErrorMessage:t.message})})),dv}async function kV(t){try{const n=(await Tk()).transaction(Mh),r=await n.objectStore(Mh).get(Sk(t));return await n.done,r}catch(e){if(e instanceof ri)fl.warn(e.message);else{const n=Xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fl.warn(n.message)}}}async function ib(t,e){try{const r=(await Tk()).transaction(Mh,"readwrite");await r.objectStore(Mh).put(e,Sk(t)),await r.done}catch(n){if(n instanceof ri)fl.warn(n.message);else{const r=Xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fl.warn(r.message)}}}function Sk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1024,NV=30*24*60*60*1e3;class LV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=NV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sb(),{heartbeatsToSend:r,unsentEntries:i}=DV(this._heartbeatsCache.heartbeats),s=um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function sb(){return new Date().toISOString().substring(0,10)}function DV(t,e=PV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ob(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ob(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wk()?xF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ob(t){return um(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){bs(new Qi("platform-logger",e=>new XF(e),"PRIVATE")),bs(new Qi("heartbeat",e=>new LV(e),"PRIVATE")),Or(s_,rb,t),Or(s_,rb,"esm2017"),Or("fire-js","")}MV("");var $V="firebase",jV="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or($V,jV,"app");var l_=function(t,e){return l_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},l_(t,e)};function Vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ge=function(){return Ge=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ge.apply(this,arguments)};function Nu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function X(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Rk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FV=Rk,Ak=new ma("auth","Firebase",Rk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new _f("@firebase/auth");function VV(t,...e){fm.logLevel<=ze.WARN&&fm.warn(`Auth (${Zi}): ${t}`,...e)}function lp(t,...e){fm.logLevel<=ze.ERROR&&fm.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw Ux(t,...e)}function xs(t,...e){return Ux(t,...e)}function kk(t,e,n){const r=Object.assign(Object.assign({},FV()),{[e]:n});return new ma("auth","Firebase",r).create(e,{appName:t.name})}function UV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ti(t,"argument-error"),kk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ux(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ak.create(t,...e)}function Te(t,e,...n){if(!t)throw Ux(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lp(e),new Error(e)}function eo(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zV(){return ab()==="http:"||ab()==="https:"}function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zV()||gk()||"connection"in navigator)?navigator.onLine:!0}function WV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=T2()||jx()}get(){return BV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pk=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new xf(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ss(t,e,n,r,i={}){return Nk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Pk.fetch()(Lk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Nk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HV),e);try{const i=new KV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw C0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw C0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw C0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw C0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kk(t,u,c);Ti(t,u)}}catch(i){if(i instanceof ri)throw i;Ti(t,"network-request-failed",{message:String(i)})}}async function Ef(t,e,n,r,i={}){const s=await Ss(t,e,n,r,i);return"mfaPendingCredential"in s&&Ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Lk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zx(t.config,i):`${t.config.apiScheme}://${i}`}function GV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let KV=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),qV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function C0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xs(t,e,r);return i.customData._tokenResponse=n,i}function lb(t){return t!==void 0&&t.enterprise!==void 0}let QV=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function YV(t,e){return Ss(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){return Ss(t,"POST","/v1/accounts:delete",e)}async function JV(t,e){return Ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZV(t,e=!1){const n=ot(t),r=await n.getIdToken(e),i=Bx(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xd(hv(i.auth_time)),issuedAtTime:Xd(hv(i.iat)),expirationTime:Xd(hv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hv(t){return Number(t)*1e3}function Bx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dh(n);return i?JSON.parse(i):(lp("Failed to decode base64 JWT payload"),null)}catch(i){return lp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eU(t){const e=Bx(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&tU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nU=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dk=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await iu(t,JV(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sU(s.providerUserInfo):[],a=iU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Dk(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function rU(t){const e=ot(t);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sU(t){return t.map(e=>{var{providerId:n}=e,r=Nu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e){const n=await Nk(t,{},async()=>{const r=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Lk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aU(t,e){return Ss(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cb=class u_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new u_;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new u_,this.toJSON())}_performRefresh(){return Fs("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let d_=class cp{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZV(this,e)}reload(){return rU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iu(this,XV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:I,isAnonymous:T,providerData:E,stsTokenManager:C}=n;Te(_&&C,e,"internal-error");const b=cb.fromJSON(this.name,C);Te(typeof _=="string",e,"internal-error"),vo(d,e.name),vo(f,e.name),Te(typeof I=="boolean",e,"internal-error"),Te(typeof T=="boolean",e,"internal-error"),vo(p,e.name),vo(m,e.name),vo(y,e.name),vo(x,e.name),vo(g,e.name),vo(w,e.name);const R=new cp({uid:_,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:b,createdAt:g,lastLoginAt:w});return E&&Array.isArray(E)&&(R.providerData=E.map(S=>Object.assign({},S))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new cb;i.updateFromServerResponse(n);const s=new cp({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pm(s),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;function Vs(t){eo(t instanceof Function,"Expected a class definition");let e=ub.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ub.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ok=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};Ok.type="NONE";const db=Ok;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t,e,n){return`firebase:${t}:${e}:${n}`}let hb=class dp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=up(this.userKey,i.apiKey,s),this.fullPersistenceKey=up("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?d_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dp(Vs(db),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Vs(db);const o=up(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=d_._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new dp(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new dp(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vk(e))return"Blackberry";if(Uk(e))return"Webos";if(Wx(e))return"Safari";if((e.includes("chrome/")||$k(e))&&!e.includes("edge/"))return"Chrome";if(Fk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mk(t=at()){return/firefox\//i.test(t)}function Wx(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $k(t=at()){return/crios\//i.test(t)}function jk(t=at()){return/iemobile/i.test(t)}function Fk(t=at()){return/android/i.test(t)}function Vk(t=at()){return/blackberry/i.test(t)}function Uk(t=at()){return/webos/i.test(t)}function R2(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lU(t=at()){var e;return R2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cU(){return vk()&&document.documentMode===10}function zk(t=at()){return R2(t)||Fk(t)||Uk(t)||Vk(t)||/windows phone/i.test(t)||jk(t)}function uU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e=[]){let n;switch(t){case"Browser":n=fb(at());break;case"Worker":n=`${fb(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dU=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e={}){return Ss(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=6;let pU=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mU=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new dU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hb.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ot(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hU(this),n=new pU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await hb.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function fo(t){return ot(t)}let pb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ek(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gU(t){A2=t}function Wk(t){return A2.loadJS(t)}function vU(){return A2.recaptchaEnterpriseScript}function yU(){return A2.gapiScript}function _U(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wU="recaptcha-enterprise",xU="NO_RECAPTCHA";let EU=class{constructor(e){this.type=wU,this.auth=fo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{YV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new QV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;lb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(xU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&lb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vU();l.length!==0&&(l+=a),Wk(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function mb(t,e,n,r=!1){const i=new EU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await mb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await mb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){const n=wf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ru(s,e??{}))return i;Ti(i,"already-initialized")}return n.initialize({options:e})}function bU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CU(t,e,n){const r=fo(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Hk(e),{host:o,port:a}=TU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SU()}function Hk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TU(t){const e=Hk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:gb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:gb(o)}}}function gb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hx=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}};async function RU(t,e){return Ss(t,"POST","/v1/accounts:update",e)}async function AU(t,e){return Ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e){return Ef(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}async function PU(t,e){return Ss(t,"POST","/v1/accounts:sendOobCode",ho(t,e))}async function NU(t,e){return PU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function DU(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vb=class h_ extends Hx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new h_(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new h_(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,n,"signInWithPassword",kU);case"emailLink":return LU(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,r,"signUpPassword",AU);case"emailLink":return DU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e){return Ef(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="http://localhost";let k2=class f_ extends Hx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new f_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new f_(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $c(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$c(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$c(e,n)}buildRequest(){const e={requestUri:OU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uo(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $U(t){const e=us(ds(t)).link,n=e?us(ds(e)).deep_link_id:null,r=us(ds(t)).deep_link_id;return(r?us(ds(r)).link:null)||r||n||e||t}let jU=class qk{constructor(e){var n,r,i,s,o,a;const l=us(ds(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=MU((i=l.mode)!==null&&i!==void 0?i:null);Te(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$U(e);try{return new qk(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P2=class Gk{constructor(){this.providerId=Gk.PROVIDER_ID}static credential(e,n){return vb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jU.parseLink(n);return Te(r,"argument-error"),vb._fromEmailAndCode(e,r.code,r.tenantId)}};P2.PROVIDER_ID="password";P2.EMAIL_PASSWORD_SIGN_IN_METHOD="password";P2.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qx=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=class extends qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends If{constructor(){super("facebook.com")}static credential(e){return k2._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return k2._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends If{constructor(){super("github.com")}static credential(e){return k2._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends If{constructor(){super("twitter.com")}static credential(e,n){return k2._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ko.credential(n,r)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(t,e){return Ef(t,"POST","/v1/accounts:signUp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2=class p_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await d_._fromIdTokenResponse(e,r,i),o=yb(r);return new p_({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yb(r);return new p_({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VU=class m_ extends ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,m_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new m_(e,n,r,i)}};function Kk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?VU._fromErrorAndOperation(t,s,e,r):s})}async function UU(t,e,n=!1){const r=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return N2._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await iu(t,Kk(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=Bx(s.idToken);Te(o,r,"internal-error");const{sub:a}=o;return Te(t.uid===a,r,"user-mismatch"),N2._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ti(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e,n=!1){const r="signIn",i=await Kk(t,r,e),s=await N2._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zU(t,e){return Yk(fo(t),e)}async function BU(t,e){return Qk(ot(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e,n){var r;Te(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t){const e=fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HU(t,e,n){const r=fo(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&WU(r,i,n),await mm(r,i,"getOobCode",NU)}async function qU(t,e,n){const r=fo(t),o=await mm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Xk(t),l}),a=await N2._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function GU(t,e,n){return zU(ot(t),P2.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xk(t),r})}function KU(t,e){return QU(ot(t),null,e)}async function QU(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await iu(t,RU(r,s));await t._updateTokensIfNecessary(o,!0)}function YU(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function XU(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function JU(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}function Jk(t){return ot(t).signOut()}const gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zk=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){const t=at();return Wx(t)||R2(t)}const ez=1e3,tz=10;class e6 extends Zk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ZU()&&uU(),this.fallbackToPolling=zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e6.type="LOCAL";const nz=e6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6 extends Zk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t6.type="SESSION";const n6=t6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new L2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await rz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}L2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iz=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Gx("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function sz(t){Es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function oz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function az(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lz(){return r6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="firebaseLocalStorageDb",cz=1,vm="firebaseLocalStorage",s6="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function D2(t,e){return t.transaction([vm],e?"readwrite":"readonly").objectStore(vm)}function uz(){const t=indexedDB.deleteDatabase(i6);return new bf(t).toPromise()}function g_(){const t=indexedDB.open(i6,cz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vm,{keyPath:s6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vm)?e(r):(r.close(),await uz(),e(await g_()))})})}async function _b(t,e,n){const r=D2(t,!0).put({[s6]:e,value:n});return new bf(r).toPromise()}async function dz(t,e){const n=D2(t,!1).get(e),r=await new bf(n).toPromise();return r===void 0?null:r.value}function wb(t,e){const n=D2(t,!0).delete(e);return new bf(n).toPromise()}const hz=800,fz=3;class o6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L2._getInstance(lz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oz(),!this.activeServiceWorker)return;this.sender=new iz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||az()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g_();return await _b(e,gm,"1"),await wb(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_b(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=D2(i,!1).getAll();return new bf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o6.type="LOCAL";const pz=o6;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e){return e?Vs(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kx=class extends Hx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $c(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $c(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $c(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function mz(t){return Yk(t.auth,new Kx(t),t.bypassAuthState)}function gz(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Qk(n,new Kx(t),t.bypassAuthState)}async function vz(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),UU(n,new Kx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l6=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mz;case"linkViaPopup":case"linkViaRedirect":return vz;case"reauthViaPopup":case"reauthViaRedirect":return gz;default:Ti(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new xf(2e3,1e4);async function _z(t,e,n){const r=fo(t);UV(t,e,qx);const i=a6(r,n);return new Wa(r,"signInViaPopup",e,i).executeNotNull()}class Wa extends l6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=Gx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yz.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz="pendingRedirect",hp=new Map;class xz extends l6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hp.get(this.auth._key());if(!e){try{const r=await Ez(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ez(t,e){const n=Cz(e),r=bz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Iz(t,e){hp.set(t._key(),e)}function bz(t){return Vs(t._redirectPersistence)}function Cz(t){return up(wz,t.config.apiKey,t.name)}async function Tz(t,e,n=!1){const r=fo(t),i=a6(r,e),o=await new xz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=10*60*1e3;let Rz=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Az(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sz&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}};function xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Az(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e={}){return Ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nz=/^https?/;async function Lz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kz(t);for(const n of e)try{if(Dz(n))return}catch{}Ti(t,"unauthorized-domain")}function Dz(t){const e=c_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Nz.test(n))return!1;if(Pz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=new xf(3e4,6e4);function Eb(){const t=Es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mz(t){return new Promise((e,n)=>{var r,i,s;function o(){Eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(xs(t,"network-request-failed"))},timeout:Oz.get()})}if(!((i=(r=Es().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Es().gapi)===null||s===void 0)&&s.load)o();else{const a=_U("iframefcb");return Es()[a]=()=>{gapi.load?o():n(xs(t,"network-request-failed"))},Wk(`${yU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fp=null,e})}let fp=null;function $z(t){return fp=fp||Mz(t),fp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new xf(5e3,15e3),Fz="__/auth/iframe",Vz="emulator/auth/iframe",Uz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bz(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zx(e,Vz):`https://${t.config.authDomain}/${Fz}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},i=zz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uo(r).slice(1)}`}async function Wz(t){const e=await $z(t),n=Es().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:Bz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xs(t,"network-request-failed"),a=Es().setTimeout(()=>{s(o)},jz.get());function l(){Es().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qz=500,Gz=600,Kz="_blank",Qz="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yz(t,e,n,r=qz,i=Gz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Hz),{width:r.toString(),height:i.toString(),top:s,left:o}),c=at().toLowerCase();n&&(a=$k(c)?Kz:n),Mk(c)&&(e=e||Qz,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(lU(c)&&a!=="_self")return Xz(e||"",a),new Ib(null);const d=window.open(e||"",a,u);Te(d,t,"popup-blocked");try{d.focus()}catch{}return new Ib(d)}function Xz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz="__/auth/handler",Zz="emulator/auth/handler",eB=encodeURIComponent("fac");async function bb(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:i};if(e instanceof qx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof If){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${eB}=${encodeURIComponent(l)}`:"";return`${tB(t)}?${uo(a).slice(1)}${c}`}function tB({config:t}){return t.emulator?zx(t,Zz):`https://${t.authDomain}/${Jz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="webStorageSupport";class nB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n6,this._completeRedirectFn=Tz,this._overrideRedirectResult=Iz}async _openPopup(e,n,r,i){var s;eo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bb(e,n,r,c_(),i);return Yz(e,o,Gx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bb(e,n,r,c_(),i);return sz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(eo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wz(e),r=new Rz(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fv,{type:fv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fv];o!==void 0&&n(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zk()||Wx()||R2()}}const rB=nB;var Cb="@firebase/auth",Tb="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iB=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oB(t){bs(new Qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bk(t)},c=new mU(r,i,s,l);return bU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bs(new Qi("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(r=>new iB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Cb,Tb,sB(t)),Or(Cb,Tb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=5*60,lB=pk("authIdTokenMaxAge")||aB;let Sb=null;const cB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lB)return;const i=n==null?void 0:n.token;Sb!==i&&(Sb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uB(t=Vx()){const e=wf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IU(t,{popupRedirectResolver:rB,persistence:[pz,nz,n6]}),r=pk("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=cB(r);XU(n,s,()=>s(n.currentUser)),YU(n,o=>s(o))}const i=dk("auth");return i&&CU(n,`http://${i}`),n}function dB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oB("Browser");var hB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,Qx=Qx||{},De=hB||self;function O2(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fB(t){return Object.prototype.hasOwnProperty.call(t,pv)&&t[pv]||(t[pv]=++pB)}var pv="closure_uid_"+(1e9*Math.random()>>>0),pB=0;function mB(t,e,n){return t.call.apply(t.bind,arguments)}function gB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sr=mB:sr=gB,sr.apply(null,arguments)}function T0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ln(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ga(){this.s=this.s,this.o=this.o}var vB=0;ga.prototype.s=!1;ga.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vB!=0)&&fB(this)};ga.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yx(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Rb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(O2(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function or(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}or.prototype.h=function(){this.defaultPrevented=!0};var yB=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};De.addEventListener("test",n,e),De.removeEventListener("test",n,e)}catch{}return t}();function $h(t){return/^[\s\xa0]*$/.test(t)}function M2(){var t=De.navigator;return t&&(t=t.userAgent)?t:""}function cs(t){return M2().indexOf(t)!=-1}function Xx(t){return Xx[" "](t),t}Xx[" "]=function(){};function _B(t,e){var n=dW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var wB=cs("Opera"),su=cs("Trident")||cs("MSIE"),d6=cs("Edge"),v_=d6||su,h6=cs("Gecko")&&!(M2().toLowerCase().indexOf("webkit")!=-1&&!cs("Edge"))&&!(cs("Trident")||cs("MSIE"))&&!cs("Edge"),xB=M2().toLowerCase().indexOf("webkit")!=-1&&!cs("Edge");function f6(){var t=De.document;return t?t.documentMode:void 0}var y_;e:{var mv="",gv=function(){var t=M2();if(h6)return/rv:([^\);]+)(\)|;)/.exec(t);if(d6)return/Edge\/([\d\.]+)/.exec(t);if(su)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xB)return/WebKit\/(\S+)/.exec(t);if(wB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gv&&(mv=gv?gv[1]:""),su){var vv=f6();if(vv!=null&&vv>parseFloat(mv)){y_=String(vv);break e}}y_=mv}var __;if(De.document&&su){var Ab=f6();__=Ab||parseInt(y_,10)||void 0}else __=void 0;var EB=__;function jh(t,e){if(or.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(h6){e:{try{Xx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:IB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jh.$.h.call(this)}}Ln(jh,or);var IB={2:"touch",3:"pen",4:"mouse"};jh.prototype.h=function(){jh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tf="closure_listenable_"+(1e6*Math.random()|0),bB=0;function CB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bB,this.fa=this.ia=!1}function $2(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jx(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function p6(t){const e={};for(const n in t)e[n]=t[n];return e}const kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m6(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<kb.length;s++)n=kb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j2(t){this.src=t,this.g={},this.h=0}j2.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=x_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new CB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function w_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=u6(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($2(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function x_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Zx="closure_lm_"+(1e6*Math.random()|0),yv={};function g6(t,e,n,r,i){if(r&&r.once)return y6(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)g6(t,e[s],n,r,i);return null}return n=n3(n),t&&t[Tf]?t.O(e,n,Cf(r)?!!r.capture:!!r,i):v6(t,e,n,!1,r,i)}function v6(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Cf(i)?!!i.capture:!!i,a=t3(t);if(a||(t[Zx]=a=new j2(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=SB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(w6(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SB(){function t(n){return e.call(t.src,t.listener,n)}const e=RB;return t}function y6(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)y6(t,e[s],n,r,i);return null}return n=n3(n),t&&t[Tf]?t.P(e,n,Cf(r)?!!r.capture:!!r,i):v6(t,e,n,!0,r,i)}function _6(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_6(t,e[s],n,r,i);else r=Cf(r)?!!r.capture:!!r,n=n3(n),t&&t[Tf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=x_(s,n,r,i),-1<n&&($2(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=t3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=x_(e,n,r,i)),(n=-1<t?e[t]:null)&&e3(n))}function e3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tf])w_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(w6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=t3(e))?(w_(n,t),n.h==0&&(n.src=null,e[Zx]=null)):$2(t)}}}function w6(t){return t in yv?yv[t]:yv[t]="on"+t}function RB(t,e){if(t.fa)t=!0;else{e=new jh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&e3(t),t=n.call(r,e)}return t}function t3(t){return t=t[Zx],t instanceof j2?t:null}var _v="__closure_events_fn_"+(1e9*Math.random()>>>0);function n3(t){return typeof t=="function"?t:(t[_v]||(t[_v]=function(e){return t.handleEvent(e)}),t[_v])}function Pn(){ga.call(this),this.i=new j2(this),this.S=this,this.J=null}Ln(Pn,ga);Pn.prototype[Tf]=!0;Pn.prototype.removeEventListener=function(t,e,n,r){_6(this,t,e,n,r)};function Bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new or(e,t);else if(e instanceof or)e.target=e.target||t;else{var i=e;e=new or(r,t),m6(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=S0(o,r,!0,e)&&i}if(o=e.g=t,i=S0(o,r,!0,e)&&i,i=S0(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=S0(o,r,!1,e)&&i}Pn.prototype.N=function(){if(Pn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$2(n[r]);delete t.g[e],t.h--}}this.J=null};Pn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function S0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&w_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var r3=De.JSON.stringify;class AB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kB(){var t=i3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class PB{constructor(){this.h=this.g=null}add(e,n){const r=x6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var x6=new AB(()=>new NB,t=>t.reset());class NB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function DB(t){De.setTimeout(()=>{throw t},0)}let Fh,Vh=!1,i3=new PB,E6=()=>{const t=De.Promise.resolve(void 0);Fh=()=>{t.then(OB)}};var OB=()=>{for(var t;t=kB();){try{t.h.call(t.g)}catch(n){DB(n)}var e=x6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vh=!1};function F2(t,e){Pn.call(this),this.h=t||1,this.g=e||De,this.j=sr(this.qb,this),this.l=Date.now()}Ln(F2,Pn);re=F2.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(s3(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function s3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){F2.$.N.call(this),s3(this),delete this.g};function o3(t,e,n){if(typeof t=="function")n&&(t=sr(t,n));else if(t&&typeof t.handleEvent=="function")t=sr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:De.setTimeout(t,e||0)}function I6(t){t.g=o3(()=>{t.g=null,t.i&&(t.i=!1,I6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class MB extends ga{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I6(this)}N(){super.N(),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uh(t){ga.call(this),this.h=t,this.g={}}Ln(Uh,ga);var Pb=[];function b6(t,e,n,r){Array.isArray(n)||(n&&(Pb[0]=n.toString()),n=Pb);for(var i=0;i<n.length;i++){var s=g6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function C6(t){Jx(t.g,function(e,n){this.g.hasOwnProperty(n)&&e3(e)},t),t.g={}}Uh.prototype.N=function(){Uh.$.N.call(this),C6(this)};Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function V2(){this.g=!0}V2.prototype.Ea=function(){this.g=!1};function $B(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function jB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Cc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+VB(t,n)+(r?" "+r:"")})}function FB(t,e){t.info(function(){return"TIMEOUT: "+e})}V2.prototype.info=function(){};function VB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return r3(n)}catch{return e}}var Ml={},Nb=null;function U2(){return Nb=Nb||new Pn}Ml.Ta="serverreachability";function T6(t){or.call(this,Ml.Ta,t)}Ln(T6,or);function zh(t){const e=U2();Bn(e,new T6(e))}Ml.STAT_EVENT="statevent";function S6(t,e){or.call(this,Ml.STAT_EVENT,t),this.stat=e}Ln(S6,or);function pr(t){const e=U2();Bn(e,new S6(e,t))}Ml.Ua="timingevent";function R6(t,e){or.call(this,Ml.Ua,t),this.size=e}Ln(R6,or);function Sf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){t()},e)}var z2={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},A6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function a3(){}a3.prototype.h=null;function Lb(t){return t.h||(t.h=t.i())}function k6(){}var Rf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function l3(){or.call(this,"d")}Ln(l3,or);function c3(){or.call(this,"c")}Ln(c3,or);var E_;function B2(){}Ln(B2,a3);B2.prototype.g=function(){return new XMLHttpRequest};B2.prototype.i=function(){return{}};E_=new B2;function Af(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Uh(this),this.P=UB,t=v_?125:void 0,this.V=new F2(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new P6}function P6(){this.i=null,this.g="",this.h=!1}var UB=45e3,N6={},I_={};re=Af.prototype;re.setTimeout=function(t){this.P=t};function b_(t,e,n){t.L=1,t.A=H2(to(e)),t.u=n,t.S=!0,L6(t,null)}function L6(t,e){t.G=Date.now(),kf(t),t.B=to(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),U6(n.i,"t",r),t.o=0,n=t.l.J,t.h=new P6,t.g=lP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new MB(sr(t.Pa,t,t.g),t.O)),b6(t.U,t.g,"readystatechange",t.nb),e=t.I?p6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),zh(),$B(t.j,t.v,t.B,t.m,t.W,t.u)}re.nb=function(t){t=t.target;const e=this.M;e&&hs(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const u=hs(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||v_||this.g&&(this.h.h||this.g.ja()||$b(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?zh(3):zh(2)),W2(this);var n=this.g.da();this.ca=n;t:if(D6(this)){var r=$b(this.g);t="";var i=r.length,s=hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ha(this),Jd(this);var o="";break t}this.h.i=new De.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,jB(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$h(a)){var c=a;break t}}c=null}if(n=c)Cc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,C_(this,n);else{this.i=!1,this.s=3,pr(12),Ha(this),Jd(this);break e}}this.S?(O6(this,u,o),v_&&this.i&&u==3&&(b6(this.U,this.V,"tick",this.mb),this.V.start())):(Cc(this.j,this.m,o,null),C_(this,o)),u==4&&Ha(this),this.i&&!this.J&&(u==4?iP(this.l,this):(this.i=!1,kf(this)))}else lW(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,pr(12)):(this.s=0,pr(13)),Ha(this),Jd(this)}}}catch{}finally{}};function D6(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function O6(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=zB(t,n),i==I_){e==4&&(t.s=4,pr(14),r=!1),Cc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==N6){t.s=4,pr(15),Cc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Cc(t.j,t.m,i,null),C_(t,i);D6(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),m3(e),e.M=!0,pr(11))):(Cc(t.j,t.m,n,"[Invalid Chunked Response]"),Ha(t),Jd(t))}re.mb=function(){if(this.g){var t=hs(this.g),e=this.g.ja();this.o<e.length&&(W2(this),O6(this,t,e),this.i&&t!=4&&kf(this))}};function zB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?I_:(n=Number(e.substring(n,r)),isNaN(n)?N6:(r+=1,r+n>e.length?I_:(e=e.slice(r,r+n),t.o=r+n,e)))}re.cancel=function(){this.J=!0,Ha(this)};function kf(t){t.Y=Date.now()+t.P,M6(t,t.P)}function M6(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sf(sr(t.lb,t),e)}function W2(t){t.C&&(De.clearTimeout(t.C),t.C=null)}re.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(FB(this.j,this.B),this.L!=2&&(zh(),pr(17)),Ha(this),this.s=2,Jd(this)):M6(this,this.Y-t)};function Jd(t){t.l.H==0||t.J||iP(t.l,t)}function Ha(t){W2(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,s3(t.V),C6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function C_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||T_(n.i,t))){if(!t.K&&T_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wm(n),Q2(n);else break e;p3(n),pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sf(sr(n.ib,n),6e3));if(1>=W6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qa(n,11)}else if((t.K||n.g==t)&&wm(n),!$h(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(u3(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ot(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=aP(r,r.J?r.pa:null,r.Y),o.K){H6(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(W2(a),kf(a)),r.g=o}else nP(r);0<n.j.length&&Y2(n)}else c[0]!="stop"&&c[0]!="close"||qa(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?qa(n,7):f3(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}zh(4)}catch{}}function BB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(O2(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function WB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(O2(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function $6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(O2(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WB(t),r=BB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var j6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function el(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof el){this.h=t.h,ym(this,t.j),this.s=t.s,this.g=t.g,_m(this,t.m),this.l=t.l;var e=t.i,n=new Bh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Db(this,n),this.o=t.o}else t&&(e=String(t).match(j6))?(this.h=!1,ym(this,e[1]||"",!0),this.s=Nd(e[2]||""),this.g=Nd(e[3]||"",!0),_m(this,e[4]),this.l=Nd(e[5]||"",!0),Db(this,e[6]||"",!0),this.o=Nd(e[7]||"")):(this.h=!1,this.i=new Bh(null,this.h))}el.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ld(e,Ob,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ld(e,Ob,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ld(n,n.charAt(0)=="/"?KB:GB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ld(n,YB)),t.join("")};function to(t){return new el(t)}function ym(t,e,n){t.j=n?Nd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _m(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Db(t,e,n){e instanceof Bh?(t.i=e,XB(t.i,t.h)):(n||(e=Ld(e,QB)),t.i=new Bh(e,t.h))}function Ot(t,e,n){t.i.set(e,n)}function H2(t){return Ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ld(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ob=/[#\/\?@]/g,GB=/[#\?:]/g,KB=/[#\?]/g,QB=/[#\?@]/g,YB=/#/g;function Bh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function va(t){t.g||(t.g=new Map,t.h=0,t.i&&HB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=Bh.prototype;re.add=function(t,e){va(this),this.i=null,t=Lu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function F6(t,e){va(t),e=Lu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function V6(t,e){return va(t),e=Lu(t,e),t.g.has(e)}re.forEach=function(t,e){va(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};re.ta=function(){va(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};re.Z=function(t){va(this);let e=[];if(typeof t=="string")V6(this,t)&&(e=e.concat(this.g.get(Lu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return va(this),this.i=null,t=Lu(this,t),V6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function U6(t,e,n){F6(t,e),0<n.length&&(t.i=null,t.g.set(Lu(t,e),Yx(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Lu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function XB(t,e){e&&!t.j&&(va(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(F6(this,r),U6(this,i,n))},t)),t.j=e}var JB=class{constructor(t,e){this.g=t,this.map=e}};function z6(t){this.l=t||ZB,De.PerformanceNavigationTiming?(t=De.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(De.g&&De.g.Ka&&De.g.Ka()&&De.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZB=10;function B6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function W6(t){return t.h?1:t.g?t.g.size:0}function T_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function u3(t,e){t.g?t.g.add(e):t.h=e}function H6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}z6.prototype.cancel=function(){if(this.i=q6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function q6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Yx(t.i)}var eW=class{stringify(t){return De.JSON.stringify(t,void 0)}parse(t){return De.JSON.parse(t,void 0)}};function tW(){this.g=new eW}function nW(t,e,n){const r=n||"";try{$6(t,function(i,s){let o=i;Cf(i)&&(o=r3(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rW(t,e){const n=new V2;if(De.Image){const r=new Image;r.onload=T0(R0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=T0(R0,n,r,"TestLoadImage: error",!1,e),r.onabort=T0(R0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=T0(R0,n,r,"TestLoadImage: timeout",!1,e),De.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function R0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function q2(t){this.l=t.ec||null,this.j=t.ob||!1}Ln(q2,a3);q2.prototype.g=function(){return new G2(this.l,this.j)};q2.prototype.i=function(t){return function(){return t}}({});function G2(t,e){Pn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=d3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ln(G2,Pn);var d3=0;re=G2.prototype;re.open=function(t,e){if(this.readyState!=d3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wh(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||De).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pf(this)),this.readyState=d3};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function G6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pf(this):Wh(this),this.readyState==3&&G6(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,Pf(this))};re.Ya=function(t){this.g&&(this.response=t,Pf(this))};re.ka=function(){this.g&&Pf(this)};function Pf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wh(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Wh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(G2.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iW=De.JSON.parse;function Zt(t){Pn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=K6,this.L=this.M=!1}Ln(Zt,Pn);var K6="",sW=/^https?$/i,oW=["POST","PUT"];re=Zt.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():E_.g(),this.C=this.u?Lb(this.u):Lb(E_),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Mb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=De.FormData&&t instanceof De.FormData,!(0<=u6(oW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X6(this),0<this.B&&((this.L=aW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=o3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Mb(this,s)}};function aW(t){return su&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof Qx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))};function Mb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Q6(t),K2(t)}function Q6(t){t.F||(t.F=!0,Bn(t,"complete"),Bn(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bn(this,"complete"),Bn(this,"abort"),K2(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),K2(this,!0)),Zt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?Y6(this):this.kb())};re.kb=function(){Y6(this)};function Y6(t){if(t.h&&typeof Qx<"u"&&(!t.C[1]||hs(t)!=4||t.da()!=2)){if(t.v&&hs(t)==4)o3(t.La,0,t);else if(Bn(t,"readystatechange"),hs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(j6)[1]||null;!i&&De.self&&De.self.location&&(i=De.self.location.protocol.slice(0,-1)),r=!sW.test(i?i.toLowerCase():"")}n=r}if(n)Bn(t,"complete"),Bn(t,"success");else{t.m=6;try{var s=2<hs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Q6(t)}}finally{K2(t)}}}}function K2(t,e){if(t.g){X6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function X6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(De.clearTimeout(t.A),t.A=null)}re.isActive=function(){return!!this.g};function hs(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iW(e)}};function $b(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case K6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lW(t){const e={};t=(t.g&&2<=hs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($h(t[r]))continue;var n=LB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}TB(e,function(r){return r.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function J6(t){let e="";return Jx(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function h3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=J6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ot(t,e,n))}function ad(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Z6(t){this.Ga=0,this.j=[],this.l=new V2,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ad("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ad("baseRetryDelayMs",5e3,t),this.hb=ad("retryDelaySeedMs",1e4,t),this.eb=ad("forwardChannelMaxRetries",2,t),this.xa=ad("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z6(t&&t.concurrentRequestLimit),this.Ja=new tW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=Z6.prototype;re.ra=8;re.H=1;function f3(t){if(eP(t),t.H==3){var e=t.W++,n=to(t.I);if(Ot(n,"SID",t.K),Ot(n,"RID",e),Ot(n,"TYPE","terminate"),Nf(t,n),e=new Af(t,t.l,e),e.L=2,e.A=H2(to(n)),n=!1,De.navigator&&De.navigator.sendBeacon)try{n=De.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&De.Image&&(new Image().src=e.A,n=!0),n||(e.g=lP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),kf(e)}oP(t)}function Q2(t){t.g&&(m3(t),t.g.cancel(),t.g=null)}function eP(t){Q2(t),t.u&&(De.clearTimeout(t.u),t.u=null),wm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&De.clearTimeout(t.m),t.m=null)}function Y2(t){if(!B6(t.i)&&!t.m){t.m=!0;var e=t.Na;Fh||E6(),Vh||(Fh(),Vh=!0),i3.add(e,t),t.C=0}}function cW(t,e){return W6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sf(sr(t.Na,t,e),sP(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Af(this,this.l,t);let s=this.s;if(this.U&&(s?(s=p6(s),m6(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tP(this,i,e),n=to(this.I),Ot(n,"RID",t),Ot(n,"CVER",22),this.F&&Ot(n,"X-HTTP-Session-Id",this.F),Nf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(J6(s)))+"&"+e:this.o&&h3(n,this.o,s)),u3(this.i,i),this.bb&&Ot(n,"TYPE","init"),this.P?(Ot(n,"$req",e),Ot(n,"SID","null"),i.aa=!0,b_(i,n,null)):b_(i,n,e),this.H=2}}else this.H==3&&(t?jb(this,t):this.j.length==0||B6(this.i)||jb(this))};function jb(t,e){var n;e?n=e.m:n=t.W++;const r=to(t.I);Ot(r,"SID",t.K),Ot(r,"RID",n),Ot(r,"AID",t.V),Nf(t,r),t.o&&t.s&&h3(r,t.o,t.s),n=new Af(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=tP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),u3(t.i,n),b_(n,r,e)}function Nf(t,e){t.na&&Jx(t.na,function(n,r){Ot(e,r,n)}),t.h&&$6({},function(n,r){Ot(e,r,n)})}function tP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{nW(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function nP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fh||E6(),Vh||(Fh(),Vh=!0),i3.add(e,t),t.A=0}}function p3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sf(sr(t.Ma,t),sP(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,rP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sf(sr(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),Q2(this),rP(this))};function m3(t){t.B!=null&&(De.clearTimeout(t.B),t.B=null)}function rP(t){t.g=new Af(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=to(t.wa);Ot(e,"RID","rpc"),Ot(e,"SID",t.K),Ot(e,"AID",t.V),Ot(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ot(e,"TO",t.qa),Ot(e,"TYPE","xmlhttp"),Nf(t,e),t.o&&t.s&&h3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=H2(to(e)),n.u=null,n.S=!0,L6(n,t)}re.ib=function(){this.v!=null&&(this.v=null,Q2(this),p3(this),pr(19))};function wm(t){t.v!=null&&(De.clearTimeout(t.v),t.v=null)}function iP(t,e){var n=null;if(t.g==e){wm(t),m3(t),t.g=null;var r=2}else if(T_(t.i,e))n=e.F,H6(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=U2(),Bn(r,new R6(r,n)),Y2(t)}else nP(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&cW(t,e)||r==2&&p3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qa(t,5);break;case 4:qa(t,10);break;case 3:qa(t,6);break;default:qa(t,2)}}}function sP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function qa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=sr(t.pb,t);n||(n=new el("//www.google.com/images/cleardot.gif"),De.location&&De.location.protocol=="http"||ym(n,"https"),H2(n)),rW(n.toString(),r)}else pr(2);t.H=0,t.h&&t.h.za(e),oP(t),eP(t)}re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))};function oP(t){if(t.H=0,t.ma=[],t.h){const e=q6(t.i);(e.length!=0||t.j.length!=0)&&(Rb(t.ma,e),Rb(t.ma,t.j),t.i.i.length=0,Yx(t.j),t.j.length=0),t.h.ya()}}function aP(t,e,n){var r=n instanceof el?to(n):new el(n);if(r.g!="")e&&(r.g=e+"."+r.g),_m(r,r.m);else{var i=De.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new el(null);r&&ym(s,r),e&&(s.g=e),i&&_m(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ot(r,n,e),Ot(r,"VER",t.ra),Nf(t,r),r}function lP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Zt(new q2({ob:n})):new Zt(t.va),e.Oa(t.J),e}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function cP(){}re=cP.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function xm(){if(su&&!(10<=Number(EB)))throw Error("Environmental error: no available transport.")}xm.prototype.g=function(t,e){return new Jr(t,e)};function Jr(t,e){Pn.call(this),this.g=new Z6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$h(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$h(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Du(this)}Ln(Jr,Pn);Jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=aP(t,null,t.Y),Y2(t)};Jr.prototype.close=function(){f3(this.g)};Jr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=r3(t),t=n);e.j.push(new JB(e.fb++,t)),e.H==3&&Y2(e)};Jr.prototype.N=function(){this.g.h=null,delete this.j,f3(this.g),delete this.g,Jr.$.N.call(this)};function uP(t){l3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ln(uP,l3);function dP(){c3.call(this),this.status=1}Ln(dP,c3);function Du(t){this.g=t}Ln(Du,cP);Du.prototype.Ba=function(){Bn(this.g,"a")};Du.prototype.Aa=function(t){Bn(this.g,new uP(t))};Du.prototype.za=function(t){Bn(this.g,new dP)};Du.prototype.ya=function(){Bn(this.g,"b")};function uW(){this.blockSize=-1}function Yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ln(Yi,uW);Yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Yi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)wv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){wv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){wv(this,r),i=0;break}}this.h=i,this.i+=e};Yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var dW={};function g3(t){return-128<=t&&128>t?_B(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function fs(t){if(isNaN(t)||!isFinite(t))return jc;if(0>t)return Fn(fs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=S_;return new vt(e,0)}function hP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fn(hP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fs(Math.pow(e,8)),r=jc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fs(Math.pow(e,s)),r=r.R(s).add(fs(o))):(r=r.R(n),r=r.add(fs(o)))}return r}var S_=4294967296,jc=g3(0),R_=g3(1),Fb=g3(16777216);re=vt.prototype;re.ea=function(){if(fi(this))return-Fn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:S_+r)*e,e*=S_}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Us(this))return"0";if(fi(this))return"-"+Fn(this).toString(t);for(var e=fs(Math.pow(t,6)),n=this,r="";;){var i=Im(n,e).g;n=Em(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Us(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Us(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fi(t){return t.h==-1}re.X=function(t){return t=Em(this,t),fi(t)?-1:Us(t)?0:1};function Fn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new vt(n,~t.h).add(R_)}re.abs=function(){return fi(this)?Fn(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function Em(t,e){return t.add(Fn(e))}re.R=function(t){if(Us(this)||Us(t))return jc;if(fi(this))return fi(t)?Fn(this).R(Fn(t)):Fn(Fn(this).R(t));if(fi(t))return Fn(this.R(Fn(t)));if(0>this.X(Fb)&&0>t.X(Fb))return fs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,A0(n,2*r+2*i),n[2*r+2*i+1]+=s*l,A0(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,A0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,A0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new vt(n,0)};function A0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ld(t,e){this.g=t,this.h=e}function Im(t,e){if(Us(e))throw Error("division by zero");if(Us(t))return new ld(jc,jc);if(fi(t))return e=Im(Fn(t),e),new ld(Fn(e.g),Fn(e.h));if(fi(e))return e=Im(t,Fn(e)),new ld(Fn(e.g),e.h);if(30<t.g.length){if(fi(t)||fi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=R_,r=e;0>=r.X(t);)n=Vb(n),r=Vb(r);var i=Ql(n,1),s=Ql(r,1);for(r=Ql(r,2),n=Ql(n,2);!Us(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ql(r,1),n=Ql(n,1)}return e=Em(t,i.R(e)),new ld(i,e)}for(i=jc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=fs(n),o=s.R(e);fi(o)||0<o.X(t);)n-=r,s=fs(n),o=s.R(e);Us(s)&&(s=R_),i=i.add(s),t=Em(t,o)}return new ld(i,t)}re.gb=function(t){return Im(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new vt(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new vt(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new vt(n,this.h^t.h)};function Vb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new vt(n,t.h)}function Ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new vt(i,t.h)}xm.prototype.createWebChannel=xm.prototype.g;Jr.prototype.send=Jr.prototype.u;Jr.prototype.open=Jr.prototype.m;Jr.prototype.close=Jr.prototype.close;z2.NO_ERROR=0;z2.TIMEOUT=8;z2.HTTP_ERROR=6;A6.COMPLETE="complete";k6.EventType=Rf;Rf.OPEN="a";Rf.CLOSE="b";Rf.ERROR="c";Rf.MESSAGE="d";Pn.prototype.listen=Pn.prototype.O;Zt.prototype.listenOnce=Zt.prototype.P;Zt.prototype.getLastError=Zt.prototype.Sa;Zt.prototype.getLastErrorCode=Zt.prototype.Ia;Zt.prototype.getStatus=Zt.prototype.da;Zt.prototype.getResponseJson=Zt.prototype.Wa;Zt.prototype.getResponseText=Zt.prototype.ja;Zt.prototype.send=Zt.prototype.ha;Zt.prototype.setWithCredentials=Zt.prototype.Oa;Yi.prototype.digest=Yi.prototype.l;Yi.prototype.reset=Yi.prototype.reset;Yi.prototype.update=Yi.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=fs;vt.fromString=hP;var hW=function(){return new xm},fW=function(){return U2()},xv=z2,pW=A6,mW=Ml,Ub={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},k0=k6,gW=Zt,vW=Yi,Fc=vt;const zb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new _f("@firebase/firestore");function lc(){return pl.logLevel}function K(t,...e){if(pl.logLevel<=ze.DEBUG){const n=e.map(v3);pl.debug(`Firestore (${Ou}): ${t}`,...n)}}function hr(t,...e){if(pl.logLevel<=ze.ERROR){const n=e.map(v3);pl.error(`Firestore (${Ou}): ${t}`,...n)}}function ml(t,...e){if(pl.logLevel<=ze.WARN){const n=e.map(v3);pl.warn(`Firestore (${Ou}): ${t}`,...n)}}function v3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: `+t;throw hr(e),new Error(e)}function we(t,e){t||ge()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _W{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dr.UNAUTHENTICATED))}shutdown(){}}class wW{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new yW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new dr(e)}}class xW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new IW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=CW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function pP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Wt(0,0))}static max(){return new be(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Hh{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const TW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Hh{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return TW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(dt.fromString(e))}static fromName(e){return new te(dt.fromString(e).popFirst(5))}static empty(){return new te(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function A_(t){return t.fields.find(e=>e.kind===2)}function Na(t){return t.fields.filter(e=>e.kind!==2)}bm.UNKNOWN_ID=-1;class pp{constructor(e,n){this.fieldPath=e,this.kind=n}}class qh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new qh(0,Zr.min())}}function SW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Zr(i,te.empty(),e)}function mP(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(be.min(),te.empty(),-1)}static max(){return new Zr(be.max(),te.empty(),-1)}}function y3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==gP)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new xi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Zd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=_3(r.target.error);this.V.reject(new Zd(e,i))}}static open(e,n,r,i){try{return new X2(n,e.transaction(i,r))}catch(s){throw new Zd(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new AW(n)}}class ps{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ps.S(at())===12.2&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Ma(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!wk())return!1;if(ps.C())return!0;const e=at(),n=ps.S(e),r=0<n&&n<10,i=ps.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Zd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new J(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Zd(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=X2.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class RW{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ma(this.k.delete())}}class Zd extends J{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ya(t){return t.name==="IndexedDbTransactionError"}class AW{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ma(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Ma(this.store.add(e))}get(e){return Ma(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Ma(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Ma(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const o=_3(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new z((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new RW(a),c=n(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(d=>(l.done(),z.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ma(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=_3(r.target.error);n(i)}})}let Bb=!1;function _3(t){const e=ps.S(at());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bb||(Bb=!0,setTimeout(()=>{throw r},0)),r}}return t}class kW{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){ya(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await $l(n)}await this.ee(6e4)})}}class PW{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=mP(s);y3(o,r)>0&&(r=o)}),new Zr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}gi._e=-1;function J2(t){return t==null}function Gh(t){return t===0&&1/t==-1/0}function NW(t){return typeof t=="number"&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Wb(e)),e=LW(t.get(n),e);return Wb(e)}function LW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Wb(t){return t+""}function ms(t){const e=t.length;if(we(e>=2),e===2)return we(t.charAt(0)===""&&t.charAt(1)===""),dt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ge(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ge()}s=o+2}return new dt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t,e){return[t,vr(e)]}function yP(t,e,n){return[t,vr(e),n]}const DW={},OW=["prefixPath","collectionGroup","readTime","documentId"],MW=["prefixPath","collectionGroup","documentId"],$W=["collectionGroup","readTime","prefixPath","documentId"],jW=["canonicalId","targetId"],FW=["targetId","path"],VW=["path","targetId"],UW=["collectionId","parent"],zW=["indexId","uid"],BW=["uid","sequenceNumber"],WW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HW=["indexId","uid","orderedDocumentKey"],qW=["userId","collectionPath","documentId"],GW=["userId","collectionPath","largestBatchId"],KW=["userId","collectionGroup","largestBatchId"],_P=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QW=[..._P,"documentOverlays"],wP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xP=wP,YW=[...xP,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends vP{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Dn(t,e){const n=Ne(t);return ps.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class P_{constructor(e,n){this.comparator=e,this.root=n||Jo.EMPTY}insert(e,n){return new P_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jo.BLACK,null,null))}remove(e){return new P_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P0(this.root,e,this.comparator,!1)}getReverseIterator(){return new P0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P0(this.root,e,this.comparator,!0)}},P0=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jo=class Ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ps.RED,this.left=i??Ps.EMPTY,this.right=s??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ps(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1;Jo.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new kr([])}unionWith(e){let n=new bt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IP("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const XW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(we(!!t),typeof t=="string"){let e=0;const n=XW.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function w3(t){const e=t.mapValue.fields.__previous_value__;return Z2(e)?w3(e):e}function Kh(t){const e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class gl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gp={nullValue:"NULL_VALUE"};function vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z2(t)?4:bP(t)?9007199254740991:10:ge()}function Cs(t,e){if(t===e)return!0;const n=vl(t);if(n!==vl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kh(t).isEqual(Kh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ra(i.timestampValue),a=ra(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ia(i.bytesValue).isEqual(ia(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Gh(o)===Gh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qb(o)!==qb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cs(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Qh(t,e){return(t.values||[]).find(n=>Cs(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=vl(t),r=vl(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Kb(t.timestampValue,e.timestampValue);case 4:return Kb(Kh(t),Kh(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ia(s),l=ia(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=$e(a[c],l[c]);if(u!==0)return u}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=$e(Yt(s.latitude),Yt(o.latitude));return a!==0?a:$e(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=sa(a[c],l[c]);if(u)return u}return $e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jo.mapValue&&o===jo.mapValue)return 0;if(s===jo.mapValue)return 1;if(o===jo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=$e(l[d],u[d]);if(f!==0)return f;const p=sa(a[l[d]],c[u[d]]);if(p!==0)return p}return $e(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function Kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=ra(t),r=ra(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function au(t){return N_(t)}function N_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ra(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=N_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${N_(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function yl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L_(t){return!!t&&"integerValue"in t}function Yh(t){return!!t&&"arrayValue"in t}function Qb(t){return!!t&&"nullValue"in t}function Yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function eh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function ZW(t){return"nullValue"in t?gp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yl(gl.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ge()}function eH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yl(gl.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?jo:ge()}function Xb(t,e){const n=sa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Jb(t,e){const n=sa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=eh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(eh(this.value))}}function CP(t){const e=[];return jl(t.fields,(n,r)=>{const i=new zt([n]);if(vp(r)){const s=CP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.position=e,this.inclusive=n}}function Zb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function tH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{}class Ke extends TP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nH(e,n,r):n==="array-contains"?new sH(e,r):n==="in"?new NP(e,r):n==="not-in"?new oH(e,r):n==="array-contains-any"?new aH(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rH(e,r):new iH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&vl(this.value)===vl(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends TP{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new mt(e,n)}matches(e){return lu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function lu(t){return t.op==="and"}function D_(t){return t.op==="or"}function x3(t){return SP(t)&&lu(t)}function SP(t){for(const e of t.filters)if(e instanceof mt)return!1;return!0}function O_(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+au(t.value);if(x3(t))return t.filters.map(e=>O_(e)).join(",");{const e=t.filters.map(n=>O_(n)).join(",");return`${t.op}(${e})`}}function RP(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Cs(r.value,i.value)}(t,e):t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&RP(o,i.filters[a]),!0):!1}(t,e):void ge()}function AP(t,e){const n=t.filters.concat(e);return mt.create(n,t.op)}function kP(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${au(n.value)}`}(t):t instanceof mt?function(n){return n.op.toString()+" {"+n.getFilters().map(kP).join(" ,")+"}"}(t):"Filter"}class nH extends Ke{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class rH extends Ke{constructor(e,n){super(e,"in",n),this.keys=PP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iH extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=PP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class sH extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yh(n)&&Qh(n.arrayValue,this.value)}}class NP extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qh(this.value.arrayValue,n)}}class oH extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qh(this.value.arrayValue,n)}}class aH extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function M_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lH(t,e,n,r,i,s,o)}function _l(t){const e=Ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>O_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),J2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),e.ce=n}return e.ce}function Lf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eC(t.startAt,e.startAt)&&eC(t.endAt,e.endAt)}function Cm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Tm(t,e){return t.filters.filter(n=>n instanceof Ke&&n.field.isEqual(e))}function tC(t,e,n){let r=gp,i=!0;for(const s of Tm(t,e)){let o=gp,a=!0;switch(s.op){case"<":case"<=":o=ZW(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=gp}Xb({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Xb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function nC(t,e,n){let r=jo,i=!0;for(const s of Tm(t,e)){let o=jo,a=!0;switch(s.op){case">=":case">":o=eH(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=jo}Jb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Jb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cH(t,e,n,r,i,s,o,a){return new Fl(t,e,n,r,i,s,o,a)}function Df(t){return new Fl(t)}function rC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E3(t){return t.collectionGroup!==null}function Vc(t){const e=Ne(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Xh(s,r))}),n.has(zt.keyField().canonicalString())||e.le.push(new Xh(zt.keyField(),r))}return e.le}function Ei(t){const e=Ne(t);return e.he||(e.he=LP(e,Vc(t))),e.he}function LP(t,e){if(t.limitType==="F")return M_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xh(i.field,s)});const n=t.endAt?new oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oa(t.startAt.position,t.startAt.inclusive):null;return M_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $_(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eg(t,e){return Lf(Ei(t),Ei(e))&&t.limitType===e.limitType}function DP(t){return`${_l(Ei(t))}|lt:${t.limitType}`}function cc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kP(i)).join(", ")}]`),J2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>au(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>au(i)).join(",")),`Target(${r})`}(Ei(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Zb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Vc(r),i)||r.endAt&&!function(o,a,l){const c=Zb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Vc(r),i))}(t,e)}function uH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OP(t){return(e,n)=>{let r=!1;for(const i of Vc(t)){const s=dH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dH(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?sa(l,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new sn(te.comparator);function Wr(){return hH}const MP=new sn(te.comparator);function Dd(...t){let e=MP;for(const n of t)e=e.insert(n.key,n);return e}function $P(t){let e=MP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return th()}function jP(){return th()}function th(){return new _a(t=>t.toString(),(t,e)=>t.isEqual(e))}const fH=new sn(te.comparator),pH=new bt(te.comparator);function Be(...t){let e=pH;for(const n of t)e=e.add(n);return e}const mH=new bt($e);function gH(){return mH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function VP(t){return{integerValue:""+t}}function vH(t,e){return NW(e)?VP(e):FP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this._=void 0}}function yH(t,e,n){return t instanceof cu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Z2(s)&&(s=w3(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wl?zP(t,e):t instanceof uu?BP(t,e):function(i,s){const o=UP(i,s),a=iC(o)+iC(i.Ie);return L_(o)&&L_(i.Ie)?VP(a):FP(i.serializer,a)}(t,e)}function _H(t,e,n){return t instanceof wl?zP(t,e):t instanceof uu?BP(t,e):n}function UP(t,e){return t instanceof Jh?function(r){return L_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class cu extends tg{}class wl extends tg{constructor(e){super(),this.elements=e}}function zP(t,e){const n=WP(e);for(const r of t.elements)n.some(i=>Cs(i,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends tg{constructor(e){super(),this.elements=e}}function BP(t,e){let n=WP(e);for(const r of t.elements)n=n.filter(i=>!Cs(i,r));return{arrayValue:{values:n}}}class Jh extends tg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function iC(t){return Yt(t.integerValue||t.doubleValue)}function WP(t){return Yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.field=e,this.transform=n}}function wH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wl&&i instanceof wl||r instanceof uu&&i instanceof uu?ou(r.elements,i.elements,Cs):r instanceof Jh&&i instanceof Jh?Cs(r.Ie,i.Ie):r instanceof cu&&i instanceof cu}(t.transform,e.transform)}class xH{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ng{}function HP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rg(t.key,nr.none()):new Mu(t.key,t.data,nr.none());{const n=t.data,r=tr.empty();let i=new bt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new po(t.key,r,new kr(i.toArray()),nr.none())}}function EH(t,e,n){t instanceof Mu?function(i,s,o){const a=i.value.clone(),l=oC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(i,s,o){if(!yp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=oC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(qP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nh(t,e,n,r){return t instanceof Mu?function(s,o,a,l){if(!yp(s.precondition,o))return a;const c=s.value.clone(),u=aC(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(s,o,a,l){if(!yp(s.precondition,o))return a;const c=aC(s.fieldTransforms,l,o),u=o.data;return u.setAll(qP(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return yp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=UP(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function sC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ou(r,i,(s,o)=>wH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends ng{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends ng{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oC(t,e,n){const r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_H(o,a,n[i]))}return r}function aC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yH(s,o,e))}return r}class rg extends ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GP extends ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=HP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>sC(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>sC(n,r))}}class C3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return fH}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new C3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,et;function TH(t){switch(t){default:return ge();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function KP(t){if(t===void 0)return hr("GRPC error has no .code"),H.UNKNOWN;switch(t){case dn.OK:return H.OK;case dn.CANCELLED:return H.CANCELLED;case dn.UNKNOWN:return H.UNKNOWN;case dn.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case dn.INTERNAL:return H.INTERNAL;case dn.UNAVAILABLE:return H.UNAVAILABLE;case dn.UNAUTHENTICATED:return H.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case dn.NOT_FOUND:return H.NOT_FOUND;case dn.ALREADY_EXISTS:return H.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return H.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case dn.ABORTED:return H.ABORTED;case dn.OUT_OF_RANGE:return H.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return H.UNIMPLEMENTED;case dn.DATA_LOSS:return H.DATA_LOSS;default:return ge()}}(et=dn||(dn={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new Fc([4294967295,4294967295],0);function lC(t){const e=SH().encode(t),n=new vW;return n.update(e),new Uint8Array(n.digest())}function cC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fc([n,r],0),new Fc([i,s],0)]}class S3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Fc.fromNumber(r)));return i.compare(RH)===1&&(i=new Fc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=lC(e),[r,i]=cC(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new S3(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=lC(e),[r,i]=cC(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ig(be.min(),i,new sn($e),Wr(),Be())}}class Mf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mf(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class QP{constructor(e,n){this.targetId=e,this.fe=n}}class YP{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uC{constructor(){this.ge=0,this.pe=hC(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Be(),n=Be(),r=Be();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Mf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=hC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class AH{constructor(e){this.Be=e,this.ke=new Map,this.qe=Wr(),this.Qe=dC(),this.Ke=new sn($e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Cm(s))if(r===0){const o=new te(s.path);this.We(n,o,Xt.newNoDocument(o,be.min()))}else we(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ia(r).toUint8Array()}catch(l){if(l instanceof IP)return ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new S3(o,i,s)}catch(l){return ml(l instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Cm(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Xt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Be();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new ig(e,n,this.Ke,this.qe,r);return this.qe=Wr(),this.Qe=dC(),this.Ke=new sn($e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new uC,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new bt($e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new uC),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function dC(){return new sn(te.comparator)}function hC(){return new sn(te.comparator)}const kH={asc:"ASCENDING",desc:"DESCENDING"},PH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"};class LH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function j_(t,e){return t.useProto3Json||J2(e)?e:{value:e}}function du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DH(t,e){return du(t,e.toTimestamp())}function yr(t){return we(!!t),be.fromTimestamp(function(n){const r=ra(n);return new Wt(r.seconds,r.nanos)}(t))}function R3(t,e){return F_(t,e).canonicalString()}function F_(t,e){const n=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JP(t){const e=dt.fromString(t);return we(o9(e)),e}function Rm(t,e){return R3(t.databaseId,e.path)}function tl(t,e){const n=JP(e);if(n.get(1)!==t.databaseId.projectId)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(t9(n))}function ZP(t,e){return R3(t.databaseId,e)}function e9(t){const e=JP(t);return e.length===4?dt.emptyPath():t9(e)}function V_(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t9(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fC(t,e,n){return{name:Rm(t,e),fields:n.value.mapValue.fields}}function OH(t,e,n){const r=tl(t,e.name),i=yr(e.updateTime),s=e.createTime?yr(e.createTime):be.min(),o=new tr({mapValue:{fields:e.fields}}),a=Xt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function MH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(we(u===void 0||typeof u=="string"),Hn.fromBase64String(u||"")):(we(u===void 0||u instanceof Uint8Array),Hn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:KP(c.code);return new J(u,c.message||"")}(o);n=new YP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tl(t,r.document.name),s=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):be.min(),a=new tr({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new _p(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tl(t,r.document),s=r.readTime?yr(r.readTime):be.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _p([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tl(t,r.document),s=r.removedTargetIds||[];n=new _p([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CH(i,s),a=r.targetId;n=new QP(a,o)}}return n}function Am(t,e){let n;if(e instanceof Mu)n={update:fC(t,e.key,e.value)};else if(e instanceof rg)n={delete:Rm(t,e.key)};else if(e instanceof po)n={update:fC(t,e.key,e.data),updateMask:zH(e.fieldMask)};else{if(!(e instanceof GP))return ge();n={verify:Rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:DH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function U_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nr.updateTime(yr(s.updateTime)):s.exists!==void 0?nr.exists(s.exists):nr.none()}(e.currentDocument):nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)we(a.setToServerValue==="REQUEST_TIME"),l=new cu;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new wl(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new uu(u)}else"increment"in a?l=new Jh(o,a.increment):ge();const c=zt.fromServerFormat(a.fieldPath);return new I3(c,l)}(t,i)):[];if(e.update){e.update.name;const i=tl(t,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new kr(c.map(u=>zt.fromServerFormat(u)))}(e.updateMask);return new po(i,s,o,n,r)}return new Mu(i,s,n,r)}if(e.delete){const i=tl(t,e.delete);return new rg(i,n)}if(e.verify){const i=tl(t,e.verify);return new GP(i,n)}return ge()}function $H(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yr(i.updateTime):yr(s);return o.isEqual(be.min())&&(o=yr(s)),new xH(o,i.transformResults||[])}(n,e))):[]}function n9(t,e){return{documents:[ZP(t,e.path)]}}function A3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZP(t,i);const s=function(c){if(c.length!==0)return s9(mt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Po(f.field),direction:FH(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=j_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function r9(t){let e=e9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=i9(d);return f instanceof mt&&x3(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new Xh(uc(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,J2(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new oa(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new oa(p,f)}(n.endAt)),cH(e,i,o,s,a,"F",l,c)}function jH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i9(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uc(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uc(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uc(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uc(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(uc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mt.create(n.compositeFilter.filters.map(r=>i9(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function FH(t){return kH[t]}function VH(t){return PH[t]}function UH(t){return NH[t]}function Po(t){return{fieldPath:t.canonicalString()}}function uc(t){return zt.fromServerFormat(t.fieldPath)}function s9(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Yb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:VH(n.op),value:n.value}}}(t):t instanceof mt?function(n){const r=n.getFilters().map(i=>s9(i));return r.length===1?r[0]:{compositeFilter:{op:UH(n.op),filters:r}}}(t):ge()}function zH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,i,s=be.min(),o=be.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.ct=e}}function BH(t,e){let n;if(e.document)n=OH(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=El(e.noDocument.readTime);n=Xt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge();{const r=te.fromSegments(e.unknownDocument.path),i=El(e.unknownDocument.version);n=Xt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Wt(i[0],i[1]);return be.fromTimestamp(s)}(e.readTime)),n}function pC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:km(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Rm(s,o.key),fields:o.data.value.mapValue.fields,updateTime:du(s,o.version.toTimestamp()),createTime:du(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xl(e.version)};else{if(!e.isUnknownDocument())return ge();r.unknownDocument={path:n.path.toArray(),version:xl(e.version)}}return r}function km(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function El(t){const e=new Wt(t.seconds,t.nanoseconds);return be.fromTimestamp(e)}function $a(t,e){const n=(e.baseMutations||[]).map(s=>U_(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>U_(t.ct,s)),i=Wt.fromMillis(e.localWriteTimeMs);return new b3(e.batchId,i,n,r)}function Md(t){const e=El(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?El(t.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return we(s.documents.length===1),Ei(Df(e9(s.documents[0])))}(t.query):function(s){return Ei(r9(s))}(t.query),new zs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Hn.fromBase64String(t.resumeToken))}function l9(t,e){const n=xl(e.snapshotVersion),r=xl(e.lastLimboFreeSnapshotVersion);let i;i=Cm(e.target)?n9(t.ct,e.target):A3(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_l(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function c9(t){const e=r9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}function Ev(t,e){return new T3(e.largestBatchId,U_(t.ct,e.overlayMutation))}function mC(t,e){const n=e.path.lastSegment();return[t,vr(e.path.popLast()),n]}function gC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:xl(r.readTime),documentKey:vr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{getBundleMetadata(e,n){return vC(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:El(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return vC(e).put(function(i){return{bundleId:i.id,createTime:xl(yr(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return yC(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:c9(s.bundledQuery),readTime:El(s.readTime)}}(r)})}saveNamedQuery(e,n){return yC(e).put(function(i){return{name:i.name,readTime:xl(yr(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function vC(t){return Dn(t,"bundles")}function yC(t){return Dn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new sg(e,r)}getOverlay(e,n){return cd(e).get(mC(this.userId,n)).next(r=>r?Ev(this.serializer,r):null)}getOverlays(e,n){const r=gs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new T3(n,o);i.push(this.ht(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(vr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(cd(e).H("collectionPathOverlayIndex",a))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=gs(),s=vr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cd(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Ev(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=gs();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cd(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=Ev(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return cd(e).put(function(i,s,o){const[a,l,c]=mC(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Am(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function cd(t){return Dn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Gh(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ia(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?bP(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ge()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),te.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}ja.bt=new ja;function HH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _C(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=HH(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class qH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=_C(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=_C(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class GH{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class KH{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ud{constructor(){this.Gt=new qH,this.zt=new GH(this.Gt),this.jt=new KH(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fa(this.indexId,this.documentKey,this.arrayValue,r)}}function yo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=wC(t.arrayValue,e.arrayValue),n!==0?n:(n=wC(t.directionalValue,e.directionalValue),n!==0?n:te.comparator(t.documentKey,e.documentKey)))}function wC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.Yt=new bt((n,r)=>zt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(we(e.collectionGroup===this.collectionId),this.en)return!1;const n=A_(e);if(n!==void 0&&!this.nn(n))return!1;const r=Na(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new bt(zt.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new pp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new pp(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new pp(r.field,r.dir==="asc"?0:1)));return new bm(bm.UNKNOWN_ID,this.collectionId,n,qh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){var e,n;if(we(t instanceof Ke||t instanceof mt),t instanceof Ke){if(t instanceof NP){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ke.create(t.field,"==",s)))||[];return mt.create(i,"or")}return t}const r=t.filters.map(i=>u9(i));return mt.create(r,t.op)}function QH(t){if(t.getFilters().length===0)return[];const e=W_(u9(t));return we(d9(e)),z_(e)||B_(e)?[e]:e.getFilters()}function z_(t){return t instanceof Ke}function B_(t){return t instanceof mt&&x3(t)}function d9(t){return z_(t)||B_(t)||function(n){if(n instanceof mt&&D_(n)){for(const r of n.getFilters())if(!z_(r)&&!B_(r))return!1;return!0}return!1}(t)}function W_(t){if(we(t instanceof Ke||t instanceof mt),t instanceof Ke)return t;if(t.filters.length===1)return W_(t.filters[0]);const e=t.filters.map(r=>W_(r));let n=mt.create(e,t.op);return n=Pm(n),d9(n)?n:(we(n instanceof mt),we(lu(n)),we(n.filters.length>1),n.filters.reduce((r,i)=>k3(r,i)))}function k3(t,e){let n;return we(t instanceof Ke||t instanceof mt),we(e instanceof Ke||e instanceof mt),n=t instanceof Ke?e instanceof Ke?function(i,s){return mt.create([i,s],"and")}(t,e):EC(t,e):e instanceof Ke?EC(e,t):function(i,s){if(we(i.filters.length>0&&s.filters.length>0),lu(i)&&lu(s))return AP(i,s.getFilters());const o=D_(i)?i:s,a=D_(i)?s:i,l=o.filters.map(c=>k3(c,a));return mt.create(l,"or")}(t,e),Pm(n)}function EC(t,e){if(lu(e))return AP(e,t.getFilters());{const n=e.filters.map(r=>k3(t,r));return mt.create(n,"or")}}function Pm(t){if(we(t instanceof Ke||t instanceof mt),t instanceof Ke)return t;const e=t.getFilters();if(e.length===1)return Pm(e[0]);if(SP(t))return t;const n=e.map(i=>Pm(i)),r=[];return n.forEach(i=>{i instanceof Ke?r.push(i):i instanceof mt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:mt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this._n=new P3}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Zr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class P3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Uint8Array(0);class XH{constructor(e,n){this.databaseId=n,this.an=new P3,this.un=new _a(r=>_l(r),(r,i)=>Lf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:vr(i)};return IC(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[pP(n),""],!1,!0);return IC(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ms(o.parent))}return r})}addFieldIndex(e,n){const r=dd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Jl(e);return s.next(a=>{o.put(gC(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=dd(e),i=Jl(e),s=Xl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=dd(e),r=Xl(e),i=Jl(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return z.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new xC(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Xl(e);let i=!0;const s=new Map;return z.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Be();const a=[];return z.forEach(s,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(l)} to execute ${_l(n)}`);const u=function(_,I){const T=A_(I);if(T===void 0)return null;for(const E of Tm(_,T.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(c,l),d=function(_,I){const T=new Map;for(const E of Na(I))for(const C of Tm(_,E.fieldPath))switch(C.op){case"==":case"in":T.set(E.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(E.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(c,l),f=function(_,I){const T=[];let E=!0;for(const C of Na(I)){const b=C.kind===0?tC(_,C.fieldPath,_.startAt):nC(_,C.fieldPath,_.startAt);T.push(b.value),E&&(E=b.inclusive)}return new oa(T,E)}(c,l),p=function(_,I){const T=[];let E=!0;for(const C of Na(I)){const b=C.kind===0?nC(_,C.fieldPath,_.endAt):tC(_,C.fieldPath,_.endAt);T.push(b.value),E&&(E=b.inclusive)}return new oa(T,E)}(c,l),m=this.hn(l,c,f),y=this.hn(l,c,p),x=this.Pn(l,c,d),g=this.In(l.indexId,u,m,f.inclusive,y,p.inclusive,x);return z.forEach(g,w=>r.j(w,n.limit).next(_=>{_.forEach(I=>{const T=te.fromSegments(I.documentKey);o.has(T)||(o=o.add(T),a.push(T))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=QH(mt.create(e.filters,"and")).map(r=>M_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.Tn(n[d/c]):N0,p=this.En(e,f,r[d%c],i),m=this.dn(e,f,s[d%c],o),y=a.map(x=>this.En(e,f,x,!0));u.push(...this.createRange(p,m,y))}return u}En(e,n,r,i){const s=new Fa(e,te.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Fa(e,te.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new xC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return z.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new bt(zt.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new ud;for(const i of Na(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);ja.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new ud;return ja.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new ud;return ja.bt.Pt(yl(this.databaseId,n),r.Ht(function(s){const o=Na(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new ud);let s=0;for(const o of Na(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&Yh(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);ja.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ud;l.seed(a.Wt()),ja.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=dd(e),i=Jl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return z.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const f=d?new qh(d.sequenceNumber,new Zr(El(d.readTime),new te(ms(d.documentKey)),d.largestBatchId)):qh.empty(),p=u.fields.map(([m,y])=>new pp(zt.fromServerFormat(m),y));return new bm(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:$e(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=dd(e),s=Jl(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,l=>s.put(gC(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?z.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return Xl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Xl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Xl(e);let s=new bt(yo);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Fa(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new bt(yo);const i=this.An(n,e);if(i==null)return r;const s=A_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Yh(o))for(const a of o.arrayValue.values||[])r=r.add(new Fa(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Fa(n.indexId,e.key,N0,i));return r}wn(e,n,r,i,s){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,f){const p=l.getIterator(),m=c.getIterator();let y=Yl(p),x=Yl(m);for(;y||x;){let g=!1,w=!1;if(y&&x){const _=u(y,x);_<0?w=!0:_>0&&(g=!0)}else y!=null?w=!0:g=!0;g?(d(x),x=Yl(m)):w?(f(y),y=Yl(p)):(y=Yl(p),x=Yl(m))}}(i,s,yo,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),z.waitFor(o)}gn(e){let n=1;return Jl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>yo(o,a)).filter((o,a,l)=>!a||yo(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=yo(o,e),l=yo(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,N0,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,N0,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return yo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(bC)}getMinOffset(e,n){return z.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||ge())).next(bC)}}function IC(t){return Dn(t,"collectionParents")}function Xl(t){return Dn(t,"indexEntries")}function dd(t){return Dn(t,"indexConfiguration")}function Jl(t){return Dn(t,"indexState")}function bC(t){we(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;y3(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{we(a===1)}));const c=[];for(const u of n.mutations){const d=yP(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return z.waitFor(s).next(()=>c)}function Nm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(41943040,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class og{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){we(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new og(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=dc(e),o=_o(e);return o.add({}).next(a=>{we(typeof a=="number");const l=new b3(a,n,r,i),c=function(p,m,y){const x=y.baseMutations.map(w=>Am(p.ct,w)),g=y.mutations.map(w=>Am(p.ct,w));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:x,mutations:g}}(this.serializer,this.userId,l),u=[];let d=new bt((f,p)=>$e(f.canonicalString(),p.canonicalString()));for(const f of i){const p=yP(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,DW))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return _o(e).get(n).next(r=>r?(we(r.userId===this.userId),$a(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?z.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return _o(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r),s=$a(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _o(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).W("userMutationsIndex",n).next(r=>r.map(i=>$a(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=mp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return dc(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,f=ms(u);if(c===this.userId&&n.path.isEqual(f))return _o(e).get(d).next(p=>{if(!p)throw ge();we(p.userId===this.userId),s.push($a(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt($e);const i=[];return n.forEach(s=>{const o=mp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=dc(e).Y({range:a},(c,u,d)=>{const[f,p,m]=c,y=ms(p);f===this.userId&&s.path.isEqual(y)?r=r.add(m):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=mp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new bt($e);return dc(e).Y({range:o},(l,c,u)=>{const[d,f,p]=l,m=ms(f);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(_o(e).get(s).next(o=>{if(o===null)throw ge();we(o.userId===this.userId),r.push($a(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return h9(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return dc(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=ms(s[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0)})})}containsKey(e,n){return f9(e,this.userId,n)}xn(e){return p9(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function f9(t,e,n){const r=mp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return dc(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function _o(t){return Dn(t,"mutations")}function dc(t){return Dn(t,"documentMutations")}function p9(t){return Dn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Il(0)}static Ln(){return new Il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Il(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>be.fromTimestamp(new Wt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Zl(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(we(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Zl(e).Y((o,a)=>{const l=Md(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Zl(e).Y((r,i)=>{const s=Md(i);n(s)})}Bn(e){return TC(e).get("targetGlobalKey").next(n=>(we(n!==null),n))}kn(e,n){return TC(e).put("targetGlobalKey",n)}qn(e,n){return Zl(e).put(l9(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=_l(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Zl(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Md(a);Lf(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=No(e);return n.forEach(o=>{const a=vr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=No(e);return z.forEach(n,s=>{const o=vr(s.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=No(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=No(e);let s=Be();return i.Y({range:r,J:!0},(o,a,l)=>{const c=ms(o[1]),u=new te(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=vr(n.path),i=IDBKeyRange.bound([r],[pP(r)],!1,!0);let s=0;return No(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return Zl(e).get(n).next(r=>r?Md(r):null)}}function Zl(t){return Dn(t,"targets")}function TC(t){return Dn(t,"targetGlobal")}function No(t){return Dn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC([t,e],[n,r]){const i=$e(t,n);return i===0?$e(e,r):i}class ZH{constructor(e){this.Kn=e,this.buffer=new bt(SC),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ya(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await $l(n)}await this.zn(3e5)})}}class tq{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(gi._e);const r=new ZH(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(CC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CC):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),lc()<=ze.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function nq(t,e){return new tq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this.db=e,this.garbageCollector=nq(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return L0(e,r)}removeReference(e,n,r){return L0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return L0(e,n)}er(e,n){return function(i,s){let o=!1;return p9(i).Z(a=>f9(i,a,s).next(l=>(l&&(o=!0),z.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,be.min()),No(e).delete(function(d){return[0,vr(d.path)]}(o))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return L0(e,n)}Xn(e,n){const r=No(e);let i,s=gi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==gi._e&&n(new te(ms(i)),s),s=c,i=l):s=gi._e}).next(()=>{s!==gi._e&&n(new te(ms(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function L0(t,e){return No(t).put(function(r,i){return{targetId:0,path:vr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ta(e).put(r)}removeEntry(e,n,r){return Ta(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],km(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Xt.newInvalidDocument(n);return Ta(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hd(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Xt.newInvalidDocument(n)};return Ta(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(hd(n))},(i,s)=>{r={document:this.nr(n,s),size:Nm(s)}}).next(()=>r)}getEntries(e,n){let r=Wr();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Wr(),i=new sn(te.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Nm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return z.resolve();let i=new bt(kC);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(hd(i.first()),hd(i.last())),o=i.getIterator();let a=o.getNext();return Ta(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=te.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&kC(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(hd(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),km(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ta(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Wr();for(const d of c){const f=this.nr(te.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Of(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Wr();const o=AC(n,r),a=AC(n,Zr.max());return Ta(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(te.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new sq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return RC(e).get("remoteDocumentGlobalKey").next(n=>(we(!!n),n))}tr(e,n){return RC(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=BH(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return Xt.newInvalidDocument(e)}}function g9(t){return new iq(t)}class sq extends m9{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new _a(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new bt((s,o)=>$e(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=pC(this.ar.serializer,o);i=i.add(s.path.popLast());const c=Nm(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=pC(this.ar.serializer,o.convertToNoDocument(be.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function RC(t){return Dn(t,"remoteDocumentGlobal")}function Ta(t){return Dn(t,"remoteDocumentsV14")}function hd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AC(t,e){const n=e.documentKey.path.toArray();return[t,km(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kC(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=$e(n[s],r[s]),i)return i;return i=$e(n.length,r.length),i||(i=$e(n[n.length-2],r[r.length-2]),i||$e(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nh(r.mutation,i,kr.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Dd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wr();const o=th(),a=function(){return th()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof po)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),nh(u.mutation,c,u.mutation.getFieldMask(),Wt.now())):o.set(c.key,kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new oq(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=th();let i=new sn((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||kr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=jP();u.forEach(f=>{if(!s.has(f)){const p=HP(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(gs());let a=-1,l=s;return o.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Be())).next(u=>({batchId:a,changes:$P(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Dd();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const c=function(d,f){return new Fl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Xt.newInvalidDocument(u)))});let a=Dd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&nh(u.mutation,c,kr.empty(),Wt.now()),Of(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:c9(i.bundledQuery),readTime:yr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.overlays=new sn(te.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=gs(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new sn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=gs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=gs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T3(n,r));let s=this.hr.get(n);s===void 0&&(s=Be(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.Pr=new bt(bn.Ir),this.Tr=new bt(bn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new bn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new dt([])),r=new bn(n,e),i=new bn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new dt([])),r=new bn(n,e),i=new bn(n,e+1);let s=Be();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||$e(e.pr,n.pr)}static Er(e,n){return $e(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new bt(bn.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new bn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt($e);return n.forEach(i=>{const s=new bn(i,0),o=new bn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new bn(new te(s),0);let a=new bt($e);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new bn(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.vr=e,this.docs=function(){return new sn(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wr();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||y3(mP(u),r)<=0||(i.has(u.key)||Of(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dq(this)}getSize(e){return z.resolve(this.size)}}class dq extends m9{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.persistence=e,this.Mr=new _a(n=>_l(n),Lf),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new N3,this.targetCount=0,this.Lr=Il.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Il(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n){this.Br={},this.overlays={},this.kr=new gi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new hq(this),this.indexManager=new YH,this.remoteDocumentCache=function(i){return new uq(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new a9(n),this.$r=new aq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new cq(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new fq(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fq extends vP{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.zr=new N3,this.jr=null}static Hr(e){return new ag(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e){this.serializer=e}N(e,n,r,i){const s=new X2("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hb,{unique:!0}),l.createObjectStore("documentMutations")}(e),PC(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),PC(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hb,{unique:!0});const d=c.store("mutations"),f=u.map(p=>d.put(p));return z.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:qW});c.createIndex("collectionPathOverlayIndex",GW,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",KW,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:OW});c.createIndex("documentKeyIndex",MW),c.createIndex("collectionGroupIndex",$W)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:zW}).createIndex("sequenceNumberIndex",BW,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:WW}).createIndex("documentKeyIndex",HW,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Nm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>z.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>z.forEach(a,l=>{we(l.userId===s.userId);const c=$a(this.serializer,l);return h9(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new dt(o),c=function(d){return[0,vr(d)]}(l);s.push(n.get(c).next(u=>u?z.resolve():(d=>n.put({targetId:0,path:vr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:UW});const r=n.store("collectionParents"),i=new P3,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:vr(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new dt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=ms(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Md(i),o=l9(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new te(dt.fromString(d.document.name).popFirst(5)):d.noDocument?te.fromSegments(d.noDocument.path):d.unknownDocument?te.fromSegments(d.unknownDocument.path):ge()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>z.waitFor(i))}si(e,n){const r=n.store("mutations"),i=g9(this.serializer),s=new y9(ag.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Be();$a(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),z.forEach(a,(l,c)=>{const u=new dr(c),d=sg.lt(this.serializer,u),f=s.getIndexManager(u),p=og.lt(u,this.serializer,f,s.referenceDelegate);return new v9(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new k_(n,gi._e),l).next()})})}}function PC(t){t.createObjectStore("targetDocuments",{keyPath:FW}).createIndex("documentTargetsIndex",VW,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jW,{unique:!0}),t.createObjectStore("targetGlobal")}const Iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class L3{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!L3.D())throw new J(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rq(this,i),this.Ti=n+"main",this.serializer=new a9(l),this.Ei=new ps(this.Ti,this.ui,new pq(this.serializer)),this.Qr=new JH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g9(this.serializer),this.$r=new WH,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,Iv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new gi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>D0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ya(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return fd(e).get("owner").next(n=>z.resolve(this.Si(n)))}bi(e){return D0(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Dn(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return z.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):fd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,Iv);return!1}}return!(!this.networkEnabled||!this.inForeground)||D0(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new k_(e,gi._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>D0(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return og.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new XH(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return sg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?YW:l===14?xP:l===13?wP:l===12?QW:l===11?_P:void ge()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new k_(a,this.kr?this.kr.next():gi._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new J(H.FAILED_PRECONDITION,gP);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return fd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(H.FAILED_PRECONDITION,Iv)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fd(e).put("owner",n)}static D(){return ps.D()}yi(e){const n=fd(e);return n.get("owner").next(r=>this.Si(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(hr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;_k()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fd(t){return Dn(t,"owner")}function D0(t){return Dn(t,"clientMetadata")}function mq(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Be(),i=Be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _k()?8:ps.v(at())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gq;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(lc()<=ze.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(lc()<=ze.DEBUG&&K("QueryEngine","Query:",cc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(lc()<=ze.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):z.resolve())}ji(e,n){if(rC(n))return z.resolve(null);let r=Ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Be(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Sm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return rC(n)||i.isEqual(be.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(lc()<=ze.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cc(n)),this.es(e,o,n,SW(i,-1)).next(a=>a))})}Zi(e,n){let r=new bt(OP(e));return n.forEach((i,s)=>{Of(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return lc()<=ze.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",cc(n)),this.zi.getDocumentsMatchingQuery(e,n,Zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new sn($e),this.rs=new _a(s=>_l(s),Lf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v9(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function w9(t,e,n,r){return new vq(t,e,n,r)}async function x9(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Be();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function yq(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const x=c.docVersions.get(m);we(x!==null),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function E9(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function _q(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Hn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,x,g){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=Wr(),c=Be();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(wq(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(be.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function wq(t,e,n){let r=Be(),i=Be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function xq(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eq(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new zs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function H_(t,e,n){const r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ya(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function NC(t,e,n){const r=Ne(t);let i=be.min(),s=Be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Ne(l),f=d.rs.get(u);return f!==void 0?z.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,Ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:Be())).next(a=>(Iq(r,uH(e),a),{documents:a,hs:s})))}function Iq(t,e,n){let r=t.ss.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class LC{constructor(){this.activeTargetIds=gH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I9{constructor(){this.no=new LC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new LC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0=null;function bv(){return O0===null?O0=function(){return 268435456+Math.round(2147483648*Math.random())}():O0++,"0x"+O0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class Sq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=bv(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ml("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ou}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=Cq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=bv();return new Promise((o,a)=>{const l=new gW;l.setWithCredentials(!0),l.listenOnce(pW.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xv.NO_ERROR:const u=l.getResponseJson();K(Yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case xv.TIMEOUT:K(Yn,`RPC '${e}' ${s} timed out`),a(new J(H.DEADLINE_EXCEEDED,"Request time out"));break;case xv.HTTP_ERROR:const d=l.getStatus();if(K(Yn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(g)>=0?g:H.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(H.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{K(Yn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Yn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=bv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hW(),a=fW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");K(Yn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const m=new Tq({lo:x=>{p?K(Yn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(K(Yn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(Yn,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},ho:()=>d.close()}),y=(x,g,w)=>{x.listen(g,_=>{try{w(_)}catch(I){setTimeout(()=>{throw I},0)}})};return y(d,k0.EventType.OPEN,()=>{p||K(Yn,`RPC '${e}' stream ${i} transport opened.`)}),y(d,k0.EventType.CLOSE,()=>{p||(p=!0,K(Yn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(d,k0.EventType.ERROR,x=>{p||(p=!0,ml(Yn,`RPC '${e}' stream ${i} transport errored:`,x),m.Vo(new J(H.UNAVAILABLE,"The operation could not be completed")))}),y(d,k0.EventType.MESSAGE,x=>{var g;if(!p){const w=x.data[0];we(!!w);const _=w,I=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(I){K(Yn,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let E=function(R){const S=dn[R];if(S!==void 0)return KP(S)}(T),C=I.message;E===void 0&&(E=H.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),p=!0,m.Vo(new J(E,C)),d.close()}else K(Yn,`RPC '${e}' stream ${i} received:`,w),m.mo(w)}}),y(a,mW.STAT_EVENT,x=>{x.stat===Ub.PROXY?K(Yn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ub.NOPROXY&&K(Yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(){return typeof window<"u"?window:null}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return new LH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new b9(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new J(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aq extends C9{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=MH(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?yr(o.readTime):be.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=V_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Cm(l)?{documents:n9(s,l)}:{query:A3(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XP(s,o.resumeToken);const c=j_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=du(s,o.snapshotVersion.toTimestamp());const c=j_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=jH(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=V_(this.serializer),n.removeTarget=e,this.t_(n)}}class kq extends C9{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=$H(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.T_(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=V_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Am(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,F_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(H.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,F_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(H.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function Nq(t,e,n){var r;const i=Ne(t),{request:s,V_:o,parent:a}=function(d,f,p){const{ut:m,parent:y}=A3(d,f),x={},g=[];let w=0;return p.forEach(_=>{const I="aggregate_"+w++;x[I]=_.alias,_.aggregateType==="count"?g.push({alias:I,count:{}}):_.aggregateType==="avg"?g.push({alias:I,avg:{field:Po(_.fieldPath)}}):_.aggregateType==="sum"&&g.push({alias:I,sum:{field:Po(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:g,structuredQuery:m.structuredQuery},parent:m.parent},V_:x,parent:y}}(i.serializer,function(d){const f=Ne(d);return f.Pe||(f.Pe=LP(f,d.explicitOrderBy)),f.Pe}(e),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter(u=>!!u.result);we(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,d)=>(u[o[d]]=c[d],u),{})}class Lq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(hr(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Vl(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.v_.add(4),await $f(c),c.x_.set("Unknown"),c.v_.delete(4),await cg(c)}(this))})}),this.x_=new Lq(r,i)}}async function cg(t){if(Vl(t))for(const e of t.F_)await e(!0)}async function $f(t){for(const e of t.F_)await e(!1)}function T9(t,e){const n=Ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),j3(n)?$3(n):$u(n).Jo()&&M3(n,e))}function O3(t,e){const n=Ne(t),r=$u(n);n.C_.delete(e),r.Jo()&&S9(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Vl(n)&&n.x_.set("Unknown"))}function M3(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$u(t).c_(e)}function S9(t,e){t.O_.Oe(e),$u(t).l_(e)}function $3(t){t.O_=new AH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.x_.p_()}function j3(t){return Vl(t)&&!$u(t).Ho()&&t.C_.size>0}function Vl(t){return Ne(t).v_.size===0}function R9(t){t.O_=void 0}async function Oq(t){t.C_.forEach((e,n)=>{M3(t,e)})}async function Mq(t,e){R9(t),j3(t)?(t.x_.S_(e),$3(t)):t.x_.set("Unknown")}async function $q(t,e,n){if(t.x_.set("Online"),e instanceof YP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lm(t,r)}else if(e instanceof _p?t.O_.$e(e):e instanceof QP?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(be.min()))try{const r=await E9(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(Hn.EMPTY_BYTE_STRING,u.snapshotVersion)),S9(s,l);const d=new zs(u.target,l,c,u.sequenceNumber);M3(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Lm(t,r)}}async function Lm(t,e,n){if(!ya(e))throw e;t.v_.add(1),await $f(t),t.x_.set("Offline"),n||(n=()=>E9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await cg(t)})}function A9(t,e){return e().catch(n=>Lm(t,n,e))}async function jf(t){const e=Ne(t),n=aa(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;jq(e);)try{const i=await xq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Fq(e,i)}catch(i){await Lm(e,i)}k9(e)&&P9(e)}function jq(t){return Vl(t)&&t.D_.length<10}function Fq(t,e){t.D_.push(e);const n=aa(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function k9(t){return Vl(t)&&!aa(t).Ho()&&t.D_.length>0}function P9(t){aa(t).start()}async function Vq(t){aa(t).d_()}async function Uq(t){const e=aa(t);for(const n of t.D_)e.I_(n.mutations)}async function zq(t,e,n){const r=t.D_.shift(),i=C3.from(r,e,n);await A9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jf(t)}async function Bq(t,e){e&&aa(t).P_&&await async function(r,i){if(function(o){return TH(o)&&o!==H.ABORTED}(i.code)){const s=r.D_.shift();aa(r).Zo(),await A9(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jf(r)}}(t,e),k9(t)&&P9(t)}async function OC(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Vl(n);n.v_.add(3),await $f(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await cg(n)}async function Wq(t,e){const n=Ne(t);e?(n.v_.delete(2),await cg(n)):e||(n.v_.add(2),await $f(n),n.x_.set("Unknown"))}function $u(t){return t.N_||(t.N_=function(n,r,i){const s=Ne(n);return s.R_(),new Aq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Oq.bind(null,t),To:Mq.bind(null,t),u_:$q.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),j3(t)?$3(t):t.x_.set("Unknown")):(await t.N_.stop(),R9(t))})),t.N_}function aa(t){return t.L_||(t.L_=function(n,r,i){const s=Ne(n);return s.R_(),new kq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Vq.bind(null,t),To:Bq.bind(null,t),E_:Uq.bind(null,t),T_:zq.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await jf(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new F3(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V3(t,e){if(hr("AsyncQueue",`${e}: ${t}`),ya(t))return new J(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Dd(),this.sortedSet=new sn(this.comparator)}static emptySet(e){return new Uc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.B_=new sn(te.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ge():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hu(e,n,Uc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class qq{constructor(){this.queries=new _a(e=>DP(e),eg),this.onlineState="Unknown",this.W_=new Set}}async function U3(t,e){const n=Ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new Hq,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=V3(o,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&B3(n)}async function z3(t,e){const n=Ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gq(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&B3(n)}function Kq(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function B3(t){t.W_.forEach(e=>{e.next()})}var q_,$C;($C=q_||(q_={})).j_="default",$C.Cache="cache";class W3{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==q_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.key=e}}class L9{constructor(e){this.key=e}}class Qq{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Be(),this.mutatedKeys=Be(),this.ha=OP(e),this.Pa=new Uc(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new MC,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=Of(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),x=!0):this.da(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return y(p)-y(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new hu(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new MC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Be(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new L9(r))}),this.la.forEach(r=>{e.has(r)||n.push(new N9(r))}),n}fa(e){this.ua=e.hs,this.la=Be();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return hu.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class Yq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xq{constructor(e){this.key=e,this.pa=!1}}class Jq{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new _a(a=>DP(a),eg),this.Sa=new Map,this.ba=new Set,this.Da=new sn(te.comparator),this.Ca=new Map,this.va=new N3,this.Fa={},this.Ma=new Map,this.xa=Il.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Zq(t,e,n=!0){const r=F9(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await D9(r,e,n,!0),i}async function eG(t,e){const n=F9(t);await D9(n,e,!0,!1)}async function D9(t,e,n,r){const i=await Eq(t.localStore,Ei(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await tG(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&T9(t.remoteStore,i),a}async function tG(t,e,n,r,i){t.Na=(d,f,p)=>async function(y,x,g,w){let _=x.view.Ta(g);_.Xi&&(_=await NC(y.localStore,x.query,!1).then(({documents:C})=>x.view.Ta(C,_)));const I=w&&w.targetChanges.get(x.targetId),T=w&&w.targetMismatches.get(x.targetId)!=null,E=x.view.applyChanges(_,y.isPrimaryClient,I,T);return FC(y,x.targetId,E.Va),E.snapshot}(t,d,f,p);const s=await NC(t.localStore,e,!0),o=new Qq(e,s.hs),a=o.Ta(s.documents),l=Mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);FC(t,n,c.Va);const u=new Yq(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function nG(t,e,n){const r=Ne(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!eg(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await H_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&O3(r.remoteStore,i.targetId),G_(r,i.targetId)}).catch($l)):(G_(r,i.targetId),await H_(r.localStore,i.targetId,!0))}async function rG(t,e){const n=Ne(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O3(n.remoteStore,r.targetId))}async function iG(t,e,n){const r=V9(t);try{const i=await function(o,a){const l=Ne(o),c=Wt.now(),u=a.reduce((p,m)=>p.add(m.key),Be());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Wr(),y=Be();return l.os.getEntries(p,u).next(x=>{m=x,m.forEach((g,w)=>{w.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{d=x;const g=[];for(const w of a){const _=IH(w,d.get(w.key).overlayedDocument);_!=null&&g.push(new po(w.key,_,CP(_.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(x=>{f=x;const g=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:f.batchId,changes:$P(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new sn($e)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ff(r,i.changes),await jf(r.remoteStore)}catch(i){const s=V3(i,"Failed to persist write");n.reject(s)}}async function O9(t,e){const n=Ne(t);try{const r=await _q(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?we(o.pa):i.removedDocuments.size>0&&(we(o.pa),o.pa=!1))}),await Ff(n,r,e)}catch(r){await $l(r)}}function jC(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Q_)f.G_(a)&&(c=!0)}),c&&B3(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sG(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new sn(te.comparator);o=o.insert(s,Xt.newNoDocument(s,be.min()));const a=Be().add(s),l=new ig(be.min(),new Map,new sn($e),o,a);await O9(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),H3(r)}else await H_(r.localStore,e,!1).then(()=>G_(r,e,n)).catch($l)}async function oG(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await yq(n.localStore,e);$9(n,r,null),M9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await $l(i)}}async function aG(t,e,n){const r=Ne(t);try{const i=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(we(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);$9(r,e,n),M9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await $l(i)}}function M9(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function $9(t,e,n){const r=Ne(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function G_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||j9(t,r)})}function j9(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(O3(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),H3(t))}function FC(t,e,n){for(const r of n)r instanceof N9?(t.va.addReference(r.key,e),lG(t,r)):r instanceof L9?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||j9(t,r.key)):ge()}function lG(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),H3(t))}function H3(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new te(dt.fromString(e)),r=t.xa.next();t.Ca.set(r,new Xq(n)),t.Da=t.Da.insert(n,r),T9(t.remoteStore,new zs(Ei(Df(n.path)),r,"TargetPurposeLimboResolution",gi._e))}}async function Ff(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=D3.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=Ne(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,f=>z.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>z.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ya(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.ns.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(f,y)}}}(r.localStore,s))}async function cG(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await x9(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new J(H.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.us)}}function uG(t,e){const n=Ne(t),r=n.Ca.get(e);if(r&&r.pa)return Be().add(r.key);{let i=Be();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function F9(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sG.bind(null,e),e.ya.u_=Gq.bind(null,e.eventManager),e.ya.La=Kq.bind(null,e.eventManager),e}function V9(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aG.bind(null,e),e}class K_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return w9(this.persistence,new _9,e.initialUser,this.serializer)}createPersistence(e){return new y9(ag.Hr,this.serializer)}createSharedClientState(e){return new I9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class U9 extends K_{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await V9(this.ka.syncEngine),await jf(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return w9(this.persistence,new _9,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new eq(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new PW(n,this.persistence);return new kW(e.asyncQueue,r)}createPersistence(e){const n=mq(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new L3(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Rq(),wp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new I9}}class q3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cG.bind(null,this.syncEngine),await Wq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qq}()}createDatastore(e){const n=lg(e.databaseInfo.databaseId),r=function(s){return new Sq(s)}(e.databaseInfo);return function(s,o,a,l){return new Pq(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Dq(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jC(this.syncEngine,n,0),function(){return DC.D()?new DC:new bq}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new Jq(i,s,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ne(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await $f(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=fP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V3(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xp(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await x9(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hG(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OC(e.remoteStore,i)),t._onlineComponents=e}function z9(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!z9(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await xp(t,new K_)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await xp(t,new K_);return t._offlineComponents}async function K3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Q_(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Q_(t,new q3))),t._onlineComponents}function fG(t){return K3(t).then(e=>e.syncEngine)}function pG(t){return K3(t).then(e=>e.datastore)}async function Dm(t){const e=await K3(t),n=e.eventManager;return n.onListen=Zq.bind(null,e.syncEngine),n.onUnlisten=nG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rG.bind(null,e.syncEngine),n}function mG(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new G3({next:f=>{o.enqueueAndForget(()=>z3(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new J(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new W3(Df(a.path),u,{includeMetadataChanges:!0,ta:!0});return U3(s,d)}(await Dm(t),t.asyncQueue,e,n,r)),r.promise}function gG(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new G3({next:f=>{o.enqueueAndForget(()=>z3(s,d)),f.fromCache&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new W3(a,u,{includeMetadataChanges:!0,ta:!0});return U3(s,d)}(await Dm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e,n){if(!n)throw new J(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vG(t,e,n,r){if(e===!0&&r===!0)throw new J(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UC(t){if(!te.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zC(t){if(te.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ug(t);throw new J(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function yG(t,e){if(e<=0)throw new J(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q3{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _W;switch(r.type){case"firstParty":return new EW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VC.get(n);r&&(K("ComponentProvider","Removing Datastore"),VC.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class Zo extends Rs{constructor(e,n,r){super(e,n,Df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new te(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=ot(t),W9("collection","path",e),t instanceof Q3){const r=dt.fromString(e,...n);return zC(r),new Zo(t,null,r)}{if(!(t instanceof ar||t instanceof Zo))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return zC(r),new Zo(t.firestore,null,r)}}function _e(t,e,...n){if(t=ot(t),arguments.length===1&&(e=fP.newId()),W9("doc","path",e),t instanceof Q3){const r=dt.fromString(e,...n);return UC(r),new ar(t,null,new te(r))}{if(!(t instanceof ar||t instanceof Zo))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return UC(r),new ar(t.firestore,t instanceof Zo?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new b9(this,"async_queue_retry"),this.cu=()=>{const n=wp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=wp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new xi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ya(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=F3.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&ge()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function WC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Xi extends Q3{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _G}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||H9(this),this._firestoreClient.terminate()}}function wG(t,e,n){n||(n="(default)");const r=wf(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(ru(s,e))return i;throw new J(H.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new J(H.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function ju(t){return t._firestoreClient||H9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function H9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new JW(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,B9(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dG(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function xG(t,e){IG(t=_r(t,Xi));const n=ju(t);if(n._uninitializedComponentsProvider)throw new J(H.FAILED_PRECONDITION,"SDK cache is already specified.");ml("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new q3;return EG(n,i,new U9(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function EG(t,e,n){const r=new xi;return t.asyncQueue.enqueue(async()=>{try{await xp(t,n),await Q_(t,e),r.resolve()}catch(i){const s=i;if(!z9(s))throw s;ml("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function IG(t){if(t._initialized||t._terminated)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class CG{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Hn.fromBase64String(e))}catch(n){throw new J(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=/^__.*__$/;class SG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class q9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class hg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Om(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(G9(this.Vu)&&TG.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class RG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lg(e)}Cu(e,n,r,i=!1){return new hg({Vu:e,methodName:n,Du:r,path:zt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(t){const e=t._freezeSettings(),n=lg(t._databaseId);return new RG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K9(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);Z3("Data must be an object, but it was:",o,r);const a=Y9(r,o);let l,c;if(s.merge)l=new kr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Y_(e,d,n);if(!o.contains(f))throw new J(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);J9(u,f)||u.push(f)}l=new kr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new SG(new tr(a),l,c)}class fg extends Vf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fg}}function AG(t,e,n){return new hg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class X3 extends Vf{_toFieldTransform(e){return new I3(e.path,new cu)}isEqual(e){return e instanceof X3}}class J3 extends Vf{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=AG(this,e,!0),r=this.vu.map(s=>Fu(s,n)),i=new wl(r);return new I3(e.path,i)}isEqual(e){return e instanceof J3&&ru(this.vu,e.vu)}}function kG(t,e,n,r){const i=t.Cu(1,e,n);Z3("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();jl(r,(l,c)=>{const u=eE(e,l,n);c=ot(c);const d=i.yu(u);if(c instanceof fg)s.push(u);else{const f=Fu(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new kr(s);return new q9(o,a,i.fieldTransforms)}function PG(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[Y_(e,r,n)],l=[i];if(s.length%2!=0)throw new J(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Y_(e,s[f])),l.push(s[f+1]);const c=[],u=tr.empty();for(let f=a.length-1;f>=0;--f)if(!J9(c,a[f])){const p=a[f];let m=l[f];m=ot(m);const y=o.yu(p);if(m instanceof fg)c.push(p);else{const x=Fu(m,y);x!=null&&(c.push(p),u.set(p,x))}}const d=new kr(c);return new q9(u,d,o.fieldTransforms)}function Q9(t,e,n,r=!1){return Fu(n,t.Cu(r?4:3,e))}function Fu(t,e){if(X9(t=ot(t)))return Z3("Unsupported field value:",e,t),Y9(t,e);if(t instanceof Vf)return function(r,i){if(!G9(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Fu(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wt.fromDate(r);return{timestampValue:du(i.serializer,s)}}if(r instanceof Wt){const s=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:du(i.serializer,s)}}if(r instanceof Y3)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:XP(i.serializer,r._byteString)};if(r instanceof ar){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R3(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${ug(r)}`)}(t,e)}function Y9(t,e){const n={};return EP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jl(t,(r,i)=>{const s=Fu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function X9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Y3||t instanceof fu||t instanceof ar||t instanceof Vf)}function Z3(t,e,n){if(!X9(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ug(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Y_(t,e,n){if((e=ot(e))instanceof dg)return e._internalPath;if(typeof e=="string")return eE(t,e);throw Om("Field path arguments must be of type string or ",t,!1,void 0,n)}const NG=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(NG)>=0)throw Om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dg(...e.split("."))._internalPath}catch{throw Om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Om(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(H.INVALID_ARGUMENT,a+t+l)}function J9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LG extends tE{data(){return super.data()}}function pg(t,e){return typeof e=="string"?eE(t,e):e instanceof dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nE{}class mg extends nE{}function xr(t,e,...n){let r=[];e instanceof nE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof rE).length,a=s.filter(l=>l instanceof gg).length;if(o>1||o>0&&a>0)throw new J(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gg extends mg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gg(e,n,r)}_apply(e){const n=this._parse(e);return eN(e._query,n),new Rs(e.firestore,e.converter,$_(e._query,n))}_parse(e){const n=Uf(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qC(d,u);const p=[];for(const m of d)p.push(HC(l,s,m));f={arrayValue:{values:p}}}else f=HC(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qC(d,u),f=Q9(a,o,d,u==="in"||u==="not-in");return Ke.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vg(t,e,n){const r=e,i=pg("where",t);return gg._create(i,r,n)}class rE extends nE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)eN(o,l),o=$_(o,l)}(e._query,n),new Rs(e.firestore,e.converter,$_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iE extends mg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xh(s,o)}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Fl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pu(t,e="asc"){const n=e,r=pg("orderBy",t);return iE._create(r,n)}class sE extends mg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sE(e,n,r)}_apply(e){return new Rs(e.firestore,e.converter,Sm(e._query,this._limit,this._limitType))}}function no(t){return yG("limit",t),sE._create("limit",t,"F")}class oE extends mg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new oE(e,n,r)}_apply(e){const n=DG(e,this.type,this._docOrFields,this._inclusive);return new Rs(e.firestore,e.converter,function(i,s){return new Fl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function yg(...t){return oE._create("startAfter",t,!1)}function DG(t,e,n,r){if(n[0]=ot(n[0]),n[0]instanceof tE)return function(s,o,a,l,c){if(!l)throw new J(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Vc(s))if(d.field.isKeyField())u.push(yl(o,l.key));else{const f=l.data.field(d.field);if(Z2(f))throw new J(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new J(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new oa(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Uf(t.firestore);return function(o,a,l,c,u,d){const f=o.explicitOrderBy;if(u.length>f.length)throw new J(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const y=u[m];if(f[m].field.isKeyField()){if(typeof y!="string")throw new J(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!E3(o)&&y.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const x=o.path.child(dt.fromString(y));if(!te.isDocumentKey(x))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const g=new te(x);p.push(yl(a,g))}else{const x=Q9(l,c,y);p.push(x)}}return new oa(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function HC(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new J(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E3(e)&&n.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!te.isDocumentKey(r))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yl(t,new te(r))}if(n instanceof ar)return yl(t,n._key);throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ug(n)}.`)}function qC(t,e){if(!Array.isArray(t)||t.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OG{convertValue(e,n="none"){switch(vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Y3(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=w3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kh(e));default:return null}}convertTimestamp(e){const n=ra(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);we(o9(r));const i=new gl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function MG(){return new bG("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nN extends tE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ep extends nN{data(e={}){return super.data(e)}}class rN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ep(this._firestore,this._userDataWriter,r.key,r,new $d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ep(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $d(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ep(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $d(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:$G(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $G(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){t=_r(t,ar);const e=_r(t.firestore,Xi);return mG(ju(e),t._key).then(n=>iN(e,t,n))}class _g extends OG{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function wa(t){t=_r(t,Rs);const e=_r(t.firestore,Xi),n=ju(e),r=new _g(e);return Z9(t._query),gG(n,t._query).then(i=>new rN(e,r,t,i))}function nl(t,e,n){t=_r(t,ar);const r=_r(t.firestore,Xi),i=tN(t.converter,e,n);return wg(r,[K9(Uf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function mr(t,e,n,...r){t=_r(t,ar);const i=_r(t.firestore,Xi),s=Uf(i);let o;return o=typeof(e=ot(e))=="string"||e instanceof dg?PG(s,"updateDoc",t._key,e,n,r):kG(s,"updateDoc",t._key,e),wg(i,[o.toMutation(t._key,nr.exists(!0))])}function qs(t){return wg(_r(t.firestore,Xi),[new rg(t._key,nr.none())])}function la(t,e){const n=_r(t.firestore,Xi),r=_e(t),i=tN(t.converter,e);return wg(n,[K9(Uf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Ji(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||WC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(WC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof ar)c=_r(t.firestore,Xi),u=Df(t._key.path),l={next:d=>{e[o]&&e[o](iN(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=_r(t,Rs);c=_r(d.firestore,Xi),u=d._query;const f=new _g(c);l={next:p=>{e[o]&&e[o](new rN(c,f,d,p))},error:e[o+1],complete:e[o+2]},Z9(t._query)}return function(f,p,m,y){const x=new G3(y),g=new W3(p,x,m);return f.asyncQueue.enqueueAndForget(async()=>U3(await Dm(f),g)),()=>{x.Qa(),f.asyncQueue.enqueueAndForget(async()=>z3(await Dm(f),g))}}(ju(c),u,a,l)}function wg(t,e){return function(r,i){const s=new xi;return r.asyncQueue.enqueueAndForget(async()=>iG(await fG(r),i,s)),s.promise}(ju(t),e)}function iN(t,e,n){const r=n.docs.get(e._key),i=new _g(t);return new nN(t,i,e._key,r,new $d(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){return jG(t,{count:MG()})}function jG(t,e){const n=_r(t.firestore,Xi),r=ju(n),i=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(s,o)=>new bH(o,s.aggregateType,s._internalFieldPath));return function(o,a,l){const c=new xi;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await pG(o);c.resolve(Nq(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,i).then(s=>function(a,l,c){const u=new _g(a);return new CG(l,u,c)}(n,t,s))}class FG{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=zG(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function VG(t){return new FG(t)}class UG{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new q3,this._offlineComponentProvider=new U9(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function zG(t){return new UG(t==null?void 0:t.forceOwnership)}function rr(){return new X3("serverTimestamp")}function X_(...t){return new J3("arrayUnion",t)}(function(e,n=!0){(function(i){Ou=i})(Zi),bs(new Qi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Xi(new wW(r.getProvider("auth-internal")),new bW(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Or(zb,"4.5.0",e),Or(zb,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebasestorage.googleapis.com",aN="storageBucket",BG=2*60*1e3,WG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends ri{constructor(e,n,r=0){super(Cv(e),`Firebase Storage: ${n} (${Cv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function Cv(t){return"storage/"+t}function aE(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(en.UNKNOWN,t)}function HG(t){return new tn(en.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qG(t){return new tn(en.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(en.UNAUTHENTICATED,t)}function KG(){return new tn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QG(t){return new tn(en.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function YG(){return new tn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XG(){return new tn(en.CANCELED,"User canceled the upload/download.")}function JG(t){return new tn(en.INVALID_URL,"Invalid URL '"+t+"'.")}function ZG(t){return new tn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eK(){return new tn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aN+"' property when initializing the app?")}function tK(){return new tn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nK(){return new tn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rK(t){return new tn(en.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function J_(t){return new tn(en.INVALID_ARGUMENT,t)}function lN(){return new tn(en.APP_DELETED,"The Firebase app was deleted.")}function iK(t){return new tn(en.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rh(t,e){return new tn(en.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pd(t){throw new tn(en.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hr.makeFromUrl(e,n)}catch{return new Hr(e,"")}if(r.path==="")return r;throw ZG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},y=n===oN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<_.length;I++){const T=_[I],E=T.regex.exec(e);if(E){const C=E[T.indices.bucket];let b=E[T.indices.path];b||(b=""),r=new Hr(C,b),T.postModify(r);break}}if(r==null)throw JG(e);return r}}class sK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function f(){s&&clearTimeout(s)}function p(x,...g){if(c){f();return}if(x){f(),u.call(null,x,...g);return}if(l()||o){f(),u.call(null,x,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function y(x){m||(m=!0,f(),!c&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function aK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(t){return t!==void 0}function cK(t){return typeof t=="object"&&!Array.isArray(t)}function lE(t){return typeof t=="string"||t instanceof String}function GC(t){return cE()&&t instanceof Blob}function cE(){return typeof Blob<"u"}function KC(t,e,n,r){if(r<e)throw J_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw J_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rl||(rl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new M0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===rl.NO_ERROR,l=s.getStatus();if(!a||uK(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===rl.ABORT;r(!1,new M0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new M0(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());lK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=aE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?lN():XG();o(l)}else{const l=YG();o(l)}};this.canceled_?n(!1,new M0(!1,null,!0)):this.backoffId_=oK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class M0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gK(t,e,n,r,i,s,o=!0){const a=cN(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return pK(c,e),hK(c,n),fK(c,s),mK(c,r),new dK(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yK(...t){const e=vK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cE())return new Blob(t);throw new tn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _K(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){if(typeof atob>"u")throw rK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tv{constructor(e,n){this.data=e,this.contentType=n||null}}function xK(t,e){switch(t){case vs.RAW:return new Tv(uN(e));case vs.BASE64:case vs.BASE64URL:return new Tv(dN(t,e));case vs.DATA_URL:return new Tv(IK(e),bK(e))}throw aE()}function uN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EK(t){let e;try{e=decodeURIComponent(t)}catch{throw rh(vs.DATA_URL,"Malformed data URL.")}return uN(e)}function dN(t,e){switch(t){case vs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wK(e)}catch(i){throw i.message.includes("polyfill")?i:rh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rh(vs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IK(t){const e=new hN(t);return e.base64?dN(vs.BASE64,e.rest):EK(e.rest)}function bK(t){return new hN(t).contentType}function CK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){let r=0,i="";GC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(GC(this.data_)){const r=this.data_,i=_K(r,e,n);return i===null?null:new Lo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lo(r,!0)}}static getBlob(...e){if(cE()){const n=e.map(r=>r instanceof Lo?r.data_:r);return new Lo(yK.apply(null,n))}else{const n=e.map(o=>lE(o)?xK(vs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Lo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){let e;try{e=JSON.parse(t)}catch{return null}return cK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t,e){return e}class cr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RK}}let $0=null;function AK(t){return!lE(t)||t.length<2?t:pN(t)}function mN(){if($0)return $0;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(s,o){return AK(o)}const n=new cr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new cr("size");return i.xform=r,t.push(i),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),$0=t,$0}function kK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Hr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function PK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return kK(r,t),r}function gN(t,e,n){const r=fN(e);return r===null?null:PK(t,r,n)}function NK(t,e,n,r){const i=fN(e);if(i===null||!lE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=xg(f,n,r),m=cN({alt:"media",token:c});return p+m})[0]}function LK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class uE{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){if(!t)throw aE()}function DK(t,e){function n(r,i){const s=gN(t,i,e);return vN(s!==null),s}return n}function OK(t,e){function n(r,i){const s=gN(t,i,e);return vN(s!==null),NK(s,i,t.host,t._protocol)}return n}function yN(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=KG():i=GG():n.getStatus()===402?i=qG(t.bucket):n.getStatus()===403?i=QG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _N(t){const e=yN(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=HG(t.path)),s.serverResponse=i.serverResponse,s}return n}function MK(t,e,n){const r=e.fullServerUrl(),i=xg(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new uE(i,s,OK(t,n),o);return a.errorHandler=_N(e),a}function $K(t,e){const n=e.fullServerUrl(),r=xg(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new uE(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=_N(e),a}function jK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function FK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jK(null,e)),r}function VK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let I=0;I<2;I++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=FK(e,r,i),u=LK(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Lo.getBlob(d,r,f);if(p===null)throw tK();const m={name:c.fullPath},y=xg(s,t.host,t._protocol),x="POST",g=t.maxUploadRetryTime,w=new uE(y,x,DK(t,n),g);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=yN(e),w}class UK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zK extends UK{initXhr(){this.xhr_.responseType="text"}}function dE(){return new zK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this._service=e,n instanceof Hr?this._location=n:this._location=Hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bl(e,n)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pN(this._location.path)}get storage(){return this._service}get parent(){const e=TK(this._location.path);if(e===null)return null;const n=new Hr(this._location.bucket,e);return new bl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iK(e)}}function BK(t,e,n){t._throwIfRoot("uploadBytes");const r=VK(t.storage,t._location,mN(),new Lo(e,!0),n);return t.storage.makeRequestWithTokens(r,dE).then(i=>({metadata:i,ref:t}))}function WK(t){t._throwIfRoot("getDownloadURL");const e=MK(t.storage,t._location,mN());return t.storage.makeRequestWithTokens(e,dE).then(n=>{if(n===null)throw nK();return n})}function HK(t){t._throwIfRoot("deleteObject");const e=$K(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dE)}function qK(t,e){const n=SK(t._location.path,e),r=new Hr(t._location.bucket,n);return new bl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){return/^[A-Za-z]+:\/\//.test(t)}function KK(t,e){return new bl(t,e)}function wN(t,e){if(t instanceof hE){const n=t;if(n._bucket==null)throw eK();const r=new bl(n,n._bucket);return e!=null?wN(r,e):r}else return e!==void 0?qK(t,e):t}function QK(t,e){if(e&&GK(e)){if(t instanceof hE)return KK(t,e);throw J_("To use ref(service, url), the first argument must be a Storage instance.")}else return wN(t,e)}function QC(t,e){const n=e==null?void 0:e[aN];return n==null?null:Hr.makeFromBucketSpec(n,t)}function YK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:mk(i,t.app.options.projectId))}class hE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=oN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BG,this._maxUploadRetryTime=WG,this._requests=new Set,i!=null?this._bucket=Hr.makeFromBucketSpec(i,this._host):this._bucket=QC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=QC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new sK(lN());{const o=gK(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const YC="@firebase/storage",XC="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="storage";function Zh(t,e,n){return t=ot(t),BK(t,e,n)}function ef(t){return t=ot(t),WK(t)}function Z_(t){return t=ot(t),HK(t)}function Fo(t,e){return t=ot(t),QK(t,e)}function XK(t=Vx(),e){t=ot(t);const r=wf(t,xN).getImmediate({identifier:e}),i=hk("storage");return i&&JK(r,...i),r}function JK(t,e,n,r={}){YK(t,e,n,r)}function ZK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hE(n,r,i,e,Zi)}function eQ(){bs(new Qi(xN,ZK,"PUBLIC").setMultipleInstances(!0)),Or(YC,XC,""),Or(YC,XC,"esm2017")}eQ();var JC={};const ZC="@firebase/database",eT="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EN="";function tQ(t){EN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Oh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return co(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nQ(e)}}catch{}return new rQ},Ga=IN("localStorage"),ew=IN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new _f("@firebase/database"),iQ=function(){let t=1;return function(){return t++}}(),bN=function(t){const e=PF(t),n=new SF;n.update(e);const r=n.digest();return Mx.encodeByteArray(r)},zf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zf.apply(null,r):typeof r=="object"?e+=Vn(r):e+=r,e+=" "}return e};let il=null,tT=!0;const sQ=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(zc.logLevel=ze.VERBOSE,il=zc.log.bind(zc),e&&ew.set("logging_enabled",!0)):typeof t=="function"?il=t:(il=null,ew.remove("logging_enabled"))},Zn=function(...t){if(tT===!0&&(tT=!1,il===null&&ew.get("logging_enabled")===!0&&sQ(!0)),il){const e=zf.apply(null,t);il(e)}},Bf=function(t){return function(...e){Zn(t,...e)}},tw=function(...t){const e="FIREBASE INTERNAL ERROR: "+zf(...t);zc.error(e)},ro=function(...t){const e=`FIREBASE FATAL ERROR: ${zf(...t)}`;throw zc.error(e),new Error(e)},Gr=function(...t){const e="FIREBASE WARNING: "+zf(...t);zc.warn(e)},oQ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},CN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aQ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mu="[MIN_NAME]",Cl="[MAX_NAME]",Uu=function(t,e){if(t===e)return 0;if(t===mu||e===Cl)return-1;if(e===mu||t===Cl)return 1;{const n=nT(t),r=nT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lQ=function(t,e){return t===e?0:t<e?-1:1},md=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Vn(e))},fE=function(t){if(typeof t!="object"||t===null)return Vn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Vn(e[r]),n+=":",n+=fE(t[e[r]]);return n+="}",n},TN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Si(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const SN=function(t){ne(!CN(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},cQ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uQ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},dQ=new RegExp("^-?(0*)\\d{1,10}$"),hQ=-2147483648,fQ=2147483647,nT=function(t){if(dQ.test(t)){const e=Number(t);if(e>=hQ&&e<=fQ)return e}return null},Wf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Gr("Exception was thrown by user callback.",n),e},Math.floor(0))}},pQ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ih=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gr(e)}}class Bc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="5",RN="v",AN="s",kN="r",PN="f",NN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LN="ls",DN="p",nw="ac",ON="websocket",MN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vQ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jN(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===ON)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===MN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vQ(t)&&(n.ns=t.namespace);const i=[];return Si(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this.counters_={}}incrementCounter(e,n=1){co(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={},Rv={};function mE(t){const e=t.toString();return Sv[e]||(Sv[e]=new yQ),Sv[e]}function _Q(t,e){const n=t.toString();return Rv[n]||(Rv[n]=e()),Rv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Wf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="start",xQ="close",EQ="pLPCommand",IQ="pRTLPCB",FN="id",VN="pw",UN="ser",bQ="cb",CQ="seg",TQ="ts",SQ="d",RQ="dframe",zN=1870,BN=30,AQ=zN-BN,kQ=25e3,PQ=3e4;class Tc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bf(e),this.stats_=mE(n),this.urlFn=l=>(this.appCheckToken&&(l[nw]=this.appCheckToken),jN(n,MN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wQ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PQ)),aQ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gE((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rT)this.id=a,this.password=l;else if(o===xQ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[rT]="t",r[UN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bQ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RN]=pE,this.transportSessionId&&(r[AN]=this.transportSessionId),this.lastSessionId&&(r[LN]=this.lastSessionId),this.applicationId&&(r[DN]=this.applicationId),this.appCheckToken&&(r[nw]=this.appCheckToken),typeof location<"u"&&location.hostname&&NN.test(location.hostname)&&(r[kN]=PN);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tc.forceAllow_=!0}static forceDisallow(){Tc.forceDisallow_=!0}static isAvailable(){return Tc.forceAllow_?!0:!Tc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cQ()&&!uQ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Vn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ck(n),i=TN(r,AQ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[RQ]="t",r[FN]=e,r[VN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Vn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iQ(),window[EQ+this.uniqueCallbackIdentifier]=e,window[IQ+this.uniqueCallbackIdentifier]=n,this.myIFrame=gE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Zn("frame writing exception"),a.stack&&Zn(a.stack),Zn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Zn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FN]=this.myID,e[VN]=this.myPW,e[UN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BN+r.length<=zN;){const o=this.pendingSegs.shift();r=r+"&"+CQ+i+"="+o.seg+"&"+TQ+i+"="+o.ts+"&"+SQ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kQ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Zn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=16384,LQ=45e3;let Mm=null;typeof MozWebSocket<"u"?Mm=MozWebSocket:typeof WebSocket<"u"&&(Mm=WebSocket);class Ui{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bf(this.connId),this.stats_=mE(n),this.connURL=Ui.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[RN]=pE,typeof location<"u"&&location.hostname&&NN.test(location.hostname)&&(o[kN]=PN),n&&(o[AN]=n),r&&(o[LN]=r),i&&(o[nw]=i),s&&(o[DN]=s),jN(e,ON,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{let r;yk(),this.mySock=new Mm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ui.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Mm!==null&&!Ui.forceDisallow_}static previouslyFailed(){return Ga.isInMemoryStorage||Ga.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ga.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Vn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TN(n,NQ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(LQ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ui.responsesRequiredToBeHealthy=2;Ui.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Tc,Ui]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ui&&Ui.isAvailable();let r=n&&!Ui.previouslyFailed();if(e.webSocketOnly&&(n||Gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ui];else{const i=this.transports_=[];for(const s of tf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);tf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=6e4,OQ=5e3,MQ=10*1024,$Q=100*1024,Av="t",iT="d",jQ="s",sT="r",FQ="e",oT="o",aT="a",lT="n",cT="p",VQ="h";class UQ{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bf("c:"+this.id+":"),this.transportManager_=new tf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ih(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$Q?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MQ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Av in e){const n=e[Av];n===aT?this.upgradeIfSecondaryHealthy_():n===sT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=md("t",e),r=md("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:aT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=md("t",e),r=md("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=md(Av,e);if(iT in e){const r=e[iT];if(n===VQ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===lT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jQ?this.onConnectionShutdown_(r):n===sT?this.onReset_(r):n===FQ?tw("Server Error: "+r):n===oT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pE!==r&&Gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ih(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DQ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ih(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(OQ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends HN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!T2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $m}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=32,dT=768;class $t{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function It(){return new $t("")}function tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ca(t){return t.pieces_.length-t.pieceNum_}function Dt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $t(t.pieces_,e)}function qN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zQ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function GN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function KN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $t(e,0)}function Rn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof $t)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new $t(n,0)}function Je(t){return t.pieceNum_>=t.pieces_.length}function vi(t,e){const n=tt(t),r=tt(e);if(n===null)return e;if(n===r)return vi(Dt(t),Dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function QN(t,e){if(ca(t)!==ca(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ca(t)>ca(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class BQ{constructor(e,n){this.errorPrefix_=n,this.parts_=GN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=S2(this.parts_[r]);YN(this)}}function WQ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=S2(e),YN(t)}function HQ(t){const e=t.parts_.pop();t.byteLength_-=S2(e),t.parts_.length>0&&(t.byteLength_-=1)}function YN(t){if(t.byteLength_>dT)throw new Error(t.errorPrefix_+"has a key path longer than "+dT+" bytes ("+t.byteLength_+").");if(t.parts_.length>uT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uT+") or object contains a cycle "+La(t))}function La(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends HN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new vE}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=1e3,qQ=60*5*1e3,hT=30*1e3,GQ=1.3,KQ=3e4,QQ="server_kill",fT=3;class Gs extends WN{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gs.nextPersistentConnectionId_++,this.log_=Bf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gd,this.maxReconnectDelay_=qQ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!yk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$m.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Vn(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new $x,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Gs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&co(e,"w")){const r=nu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=CF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tw("Unrecognized action received from server: "+Vn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KQ&&(this.reconnectDelay_=gd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GQ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Zn("getToken() completed but was canceled"):(Zn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new UQ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Gr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(QQ)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Gr(d),l())}}}interrupt(e){Zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],n_(this.interruptReasons_)&&(this.reconnectDelay_=gd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>fE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new $t(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Zn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fT&&(this.reconnectDelay_=hT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Zn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+EN.replace(/\./g,"-")]=1,T2()?e["framework.cordova"]=1:jx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$m.getInstance().currentlyOnline();return n_(this.interruptReasons_)&&e}}Gs.nextPersistentConnectionId_=0;Gs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new nt(mu,e),i=new nt(mu,n);return this.compare(r,i)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j0;class XN extends Eg{static get __EMPTY_NODE(){return j0}static set __EMPTY_NODE(e){j0=e}compare(e,n){return Uu(e.name,n.name)}isDefinedOn(e){throw Pu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Cl,j0)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,j0)}toString(){return".key"}}const Wc=new XN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Pr.EMPTY_NODE,this.right=s??Pr.EMPTY_NODE}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Pr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Tn.RED=!0;Tn.BLACK=!1;class YQ{copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pr{constructor(e,n=Pr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Pr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new F0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new F0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new F0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new F0(this.root_,null,this.comparator_,!0,e)}}Pr.EMPTY_NODE=new YQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t,e){return Uu(t.name,e.name)}function yE(t,e){return Uu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rw;function JQ(t){rw=t}const JN=function(t){return typeof t=="number"?"number:"+SN(t):"string:"+t},ZN=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&co(e,".sv"),"Priority must be a string or number.")}else ne(t===rw||t.isEmpty(),"priority of unexpected type.");ne(t===rw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pT;class In{constructor(e,n=In.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ZN(this.priorityNode_)}static set __childrenNodeConstructor(e){pT=e}static get __childrenNodeConstructor(){return pT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new In(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Je(e)?this:tt(e)===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:In.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=tt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||ca(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,In.__childrenNodeConstructor.EMPTY_NODE.updateChild(Dt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+JN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=SN(this.value_):e+=this.value_,this.lazyHash_=bN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===In.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof In.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=In.VALUE_TYPE_ORDER.indexOf(n),s=In.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}In.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e8,t8;function ZQ(t){e8=t}function eY(t){t8=t}class tY extends Eg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Uu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Cl,new In("[PRIORITY-POST]",t8))}makePost(e,n){const r=e8(e);return new nt(n,new In("[PRIORITY-POST]",r))}toString(){return".priority"}}const ir=new tY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=Math.log(2);class rY{constructor(e){const n=s=>parseInt(Math.log(s)/nY,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jm=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Tn(f,d.node,Tn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),y=i(p+1,c);return d=t[p],f=n?n(d):d,new Tn(f,d.node,Tn.BLACK,m,y)}},s=function(l){let c=null,u=null,d=t.length;const f=function(m,y){const x=d-m,g=d;d-=m;const w=i(x+1,g),_=t[x],I=n?n(_):_;p(new Tn(I,_.node,y,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));y?f(x,Tn.BLACK):(f(x,Tn.BLACK),f(x,Tn.RED))}return u},o=new rY(t.length),a=s(o);return new Pr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv;const ec={};class Bs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(ec&&ir,"ChildrenNode.ts has not been loaded"),kv=kv||new Bs({".priority":ec},{".priority":ir}),kv}get(e){const n=nu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pr?n:null}hasIndex(e){return co(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Wc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(nt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=jm(r,e.getCompare()):a=ec;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Bs(u,c)}addToIndexes(e,n){const r=dm(this.indexes_,(i,s)=>{const o=nu(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===ec)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(nt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),jm(a,o.getCompare())}else return ec;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new nt(e.name,a))),l.insert(e,e.node)}});return new Bs(r,this.indexSet_)}removeFromIndexes(e,n){const r=dm(this.indexes_,i=>{if(i===ec)return i;{const s=n.get(e.name);return s?i.remove(new nt(e.name,s)):i}});return new Bs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class pt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZN(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vd||(vd=new pt(new Pr(yE),null,Bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vd}updatePriority(e){return this.children_.isEmpty()?this:new pt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vd:n}}getChild(e){const n=tt(e);return n===null?this:this.getImmediateChild(n).getChild(Dt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new nt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?vd:this.priorityNode_;return new pt(i,o,s)}}updateChild(e,n){const r=tt(e);if(r===null)return n;{ne(tt(e)!==".priority"||ca(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Dt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ir,(o,a)=>{n[o]=a.val(e),r++,s&&pt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+JN(this.getPriority().val())+":"),this.forEachChild(ir,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":bN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new nt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,nt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hf?-1:0}withIndex(e){if(e===Wc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ir),i=n.getIterator(ir);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wc?null:this.indexMap_.get(e.toString())}}pt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iY extends pt{constructor(){super(new Pr(yE),pt.EMPTY_NODE,Bs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pt.EMPTY_NODE}isEmpty(){return!1}}const Hf=new iY;Object.defineProperties(nt,{MIN:{value:new nt(mu,pt.EMPTY_NODE)},MAX:{value:new nt(Cl,Hf)}});XN.__EMPTY_NODE=pt.EMPTY_NODE;In.__childrenNodeConstructor=pt;JQ(Hf);eY(Hf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=!0;function er(t,e=null){if(t===null)return pt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new In(n,er(e))}if(!(t instanceof Array)&&sY){const n=[];let r=!1;if(Si(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=er(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new nt(o,l)))}}),n.length===0)return pt.EMPTY_NODE;const s=jm(n,XQ,o=>o.name,yE);if(r){const o=jm(n,ir.getCompare());return new pt(s,er(e),new Bs({".priority":o},{".priority":ir}))}else return new pt(s,er(e),Bs.Default)}else{let n=pt.EMPTY_NODE;return Si(t,(r,i)=>{if(co(t,r)&&r.substring(0,1)!=="."){const s=er(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(er(e))}}ZQ(er);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY extends Eg{constructor(e){super(),this.indexPath_=e,ne(!Je(e)&&tt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Uu(e.name,n.name):s}makePost(e,n){const r=er(e),i=pt.EMPTY_NODE.updateChild(this.indexPath_,r);return new nt(n,i)}maxPost(){const e=pt.EMPTY_NODE.updateChild(this.indexPath_,Hf);return new nt(Cl,e)}toString(){return GN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY extends Eg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Uu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,n){const r=er(e);return new nt(n,r)}toString(){return".value"}}const lY=new aY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t){return{type:"value",snapshotNode:t}}function uY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ir}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mu}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ir}copy(){const e=new _E;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ir?n="$priority":t.index_===lY?n="$value":t.index_===Wc?n="$key":(ne(t.index_ instanceof oY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Vn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Vn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Vn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Vn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Vn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ir&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends WN{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Fm.getListenId_(e,r),a={};this.listens_[o]=a;const l=gT(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),nu(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Fm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=gT(e._queryParams),r=e._path.toString(),i=new $x;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Oh(a.responseText)}catch{Gr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Gr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){return{value:null,children:new Map}}function n8(t,e,n){if(Je(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=tt(e);t.children.has(r)||t.children.set(r,Vm());const i=t.children.get(r);e=Dt(e),n8(i,e,n)}}function iw(t,e,n){t.value!==null?n(e,t.value):pY(t,(r,i)=>{const s=new $t(e.toString()+"/"+r);iw(i,s,n)})}function pY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Si(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=10*1e3,gY=30*1e3,vY=5*60*1e3;class yY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mY(e);const r=yT+(gY-yT)*Math.random();ih(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Si(e,(i,s)=>{s>0&&co(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ih(this.reportStats_.bind(this),Math.floor(Math.random()*2*vY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ys;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ys||(ys={}));function r8(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i8(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function s8(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ys.ACK_USER_WRITE,this.source=r8()}operationForChild(e){if(Je(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $t(e));return new Um(It(),n,this.revert)}}else return ne(tt(this.path)===e,"operationForChild called for unrelated child."),new Um(Dt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ys.OVERWRITE}operationForChild(e){return Je(this.path)?new Tl(this.source,It(),this.snap.getImmediateChild(e)):new Tl(this.source,Dt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ys.MERGE}operationForChild(e){if(Je(this.path)){const n=this.children.subtree(new $t(e));return n.isEmpty()?null:n.value?new Tl(this.source,It(),n.value):new nf(this.source,It(),n)}else return ne(tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nf(this.source,Dt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Je(e))return this.isFullyInitialized()&&!this.filtered_;const n=tt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function _Y(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(hY(o.childName,o.snapshotNode))}),yd(t,i,"child_removed",e,r,n),yd(t,i,"child_added",e,r,n),yd(t,i,"child_moved",s,r,n),yd(t,i,"child_changed",e,r,n),yd(t,i,"value",e,r,n),i}function yd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>xY(t,a,l)),o.forEach(a=>{const l=wY(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function wY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function xY(t,e,n){if(e.childName==null||n.childName==null)throw Pu("Should only compare child_ events.");const r=new nt(e.childName,e.snapshotNode),i=new nt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e){return{eventCache:t,serverCache:e}}function sh(t,e,n,r){return o8(new wE(e,n,r),t.serverCache)}function a8(t,e,n,r){return o8(t.eventCache,new wE(e,n,r))}function sw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv;const EY=()=>(Pv||(Pv=new Pr(lQ)),Pv);class Lt{constructor(e,n=EY()){this.value=e,this.children=n}static fromObject(e){let n=new Lt(null);return Si(e,(r,i)=>{n=n.set(new $t(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:It(),value:this.value};if(Je(e))return null;{const r=tt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Dt(e),n);return s!=null?{path:Rn(new $t(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Je(e))return this;{const n=tt(e),r=this.children.get(n);return r!==null?r.subtree(Dt(e)):new Lt(null)}}set(e,n){if(Je(e))return new Lt(n,this.children);{const r=tt(e),s=(this.children.get(r)||new Lt(null)).set(Dt(e),n),o=this.children.insert(r,s);return new Lt(this.value,o)}}remove(e){if(Je(e))return this.children.isEmpty()?new Lt(null):new Lt(null,this.children);{const n=tt(e),r=this.children.get(n);if(r){const i=r.remove(Dt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Lt(null):new Lt(this.value,s)}else return this}}get(e){if(Je(e))return this.value;{const n=tt(e),r=this.children.get(n);return r?r.get(Dt(e)):null}}setTree(e,n){if(Je(e))return n;{const r=tt(e),s=(this.children.get(r)||new Lt(null)).setTree(Dt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Lt(this.value,o)}}fold(e){return this.fold_(It(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Rn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,It(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Je(e))return null;{const s=tt(e),o=this.children.get(s);return o?o.findOnPath_(Dt(e),Rn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,It(),n)}foreachOnPath_(e,n,r){if(Je(e))return this;{this.value&&r(n,this.value);const i=tt(e),s=this.children.get(i);return s?s.foreachOnPath_(Dt(e),Rn(n,i),r):new Lt(null)}}foreach(e){this.foreach_(It(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Rn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.writeTree_=e}static empty(){return new qi(new Lt(null))}}function oh(t,e,n){if(Je(e))return new qi(new Lt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=vi(i,e);return s=s.updateChild(o,n),new qi(t.writeTree_.set(i,s))}else{const i=new Lt(n),s=t.writeTree_.setTree(e,i);return new qi(s)}}}function _T(t,e,n){let r=t;return Si(n,(i,s)=>{r=oh(r,Rn(e,i),s)}),r}function wT(t,e){if(Je(e))return qi.empty();{const n=t.writeTree_.setTree(e,new Lt(null));return new qi(n)}}function ow(t,e){return Ul(t,e)!=null}function Ul(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(vi(n.path,e)):null}function xT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ir,(r,i)=>{e.push(new nt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new nt(r,i.value))}),e}function ea(t,e){if(Je(e))return t;{const n=Ul(t,e);return n!=null?new qi(new Lt(n)):new qi(t.writeTree_.subtree(e))}}function aw(t){return t.writeTree_.isEmpty()}function gu(t,e){return l8(It(),t.writeTree_,e)}function l8(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=l8(Rn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Rn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e){return p8(e,t)}function IY(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=oh(t.visibleWrites,e,n)),t.lastWriteId=r}function bY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function CY(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&TY(a,r.path)?i=!1:Bi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return SY(t),!0;if(r.snap)t.visibleWrites=wT(t.visibleWrites,r.path);else{const a=r.children;Si(a,l=>{t.visibleWrites=wT(t.visibleWrites,Rn(r.path,l))})}return!0}else return!1}function TY(t,e){if(t.snap)return Bi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bi(Rn(t.path,n),e))return!0;return!1}function SY(t){t.visibleWrites=u8(t.allWrites,RY,It()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RY(t){return t.visible}function u8(t,e,n){let r=qi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Bi(n,o)?(a=vi(n,o),r=oh(r,a,s.snap)):Bi(o,n)&&(a=vi(o,n),r=oh(r,It(),s.snap.getChild(a)));else if(s.children){if(Bi(n,o))a=vi(n,o),r=_T(r,a,s.children);else if(Bi(o,n))if(a=vi(o,n),Je(a))r=_T(r,It(),s.children);else{const l=nu(s.children,tt(a));if(l){const c=l.getChild(Dt(a));r=oh(r,It(),c)}}}else throw Pu("WriteRecord should have .snap or .children")}}return r}function d8(t,e,n,r,i){if(!r&&!i){const s=Ul(t.visibleWrites,e);if(s!=null)return s;{const o=ea(t.visibleWrites,e);if(aw(o))return n;if(n==null&&!ow(o,It()))return null;{const a=n||pt.EMPTY_NODE;return gu(o,a)}}}else{const s=ea(t.visibleWrites,e);if(!i&&aw(s))return n;if(!i&&n==null&&!ow(s,It()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Bi(c.path,e)||Bi(e,c.path))},a=u8(t.allWrites,o,e),l=n||pt.EMPTY_NODE;return gu(a,l)}}}function AY(t,e,n){let r=pt.EMPTY_NODE;const i=Ul(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ir,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ea(t.visibleWrites,e);return n.forEachChild(ir,(o,a)=>{const l=gu(ea(s,new $t(o)),a);r=r.updateImmediateChild(o,l)}),xT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ea(t.visibleWrites,e);return xT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function kY(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Rn(e,n);if(ow(t.visibleWrites,s))return null;{const o=ea(t.visibleWrites,s);return aw(o)?i.getChild(n):gu(o,i.getChild(n))}}function PY(t,e,n,r){const i=Rn(e,n),s=Ul(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ea(t.visibleWrites,i);return gu(o,r.getNode().getImmediateChild(n))}else return null}function NY(t,e){return Ul(t.visibleWrites,e)}function LY(t,e,n,r,i,s,o){let a;const l=ea(t.visibleWrites,e),c=Ul(l,It());if(c!=null)a=c;else if(n!=null)a=gu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function DY(){return{visibleWrites:qi.empty(),allWrites:[],lastWriteId:-1}}function lw(t,e,n,r){return d8(t.writeTree,t.treePath,e,n,r)}function h8(t,e){return AY(t.writeTree,t.treePath,e)}function ET(t,e,n,r){return kY(t.writeTree,t.treePath,e,n,r)}function zm(t,e){return NY(t.writeTree,Rn(t.treePath,e))}function OY(t,e,n,r,i,s){return LY(t.writeTree,t.treePath,e,n,r,i,s)}function xE(t,e,n){return PY(t.writeTree,t.treePath,e,n)}function f8(t,e){return p8(Rn(t.treePath,e),t.writeTree)}function p8(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,mT(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,dY(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,uY(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,mT(r,e.snapshotNode,i.oldSnap));else throw Pu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const m8=new $Y;class EE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new wE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sl(this.viewCache_),s=OY(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function jY(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FY(t,e,n,r,i){const s=new MY;let o,a;if(n.type===ys.OVERWRITE){const c=n;c.source.fromUser?o=cw(t,e,c.path,c.snap,r,i,s):(ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Je(c.path),o=Bm(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===ys.MERGE){const c=n;c.source.fromUser?o=UY(t,e,c.path,c.children,r,i,s):(ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=uw(t,e,c.path,c.children,r,i,a,s))}else if(n.type===ys.ACK_USER_WRITE){const c=n;c.revert?o=WY(t,e,c.path,r,i,s):o=zY(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===ys.LISTEN_COMPLETE)o=BY(t,e,n.path,r,s);else throw Pu("Unknown operation type: "+n.type);const l=s.getChanges();return VY(e,o,l),{viewCache:o,changes:l}}function VY(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cY(sw(e)))}}function g8(t,e,n,r,i,s){const o=e.eventCache;if(zm(r,n)!=null)return e;{let a,l;if(Je(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sl(e),u=c instanceof pt?c:pt.EMPTY_NODE,d=h8(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=lw(r,Sl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=tt(n);if(c===".priority"){ne(ca(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=ET(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Dt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=ET(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=xE(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return sh(e,a,o.isFullyInitialized()||Je(n),t.filter.filtersNodes())}}function Bm(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Je(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=tt(n);if(!l.isCompleteForPath(n)&&ca(n)>1)return e;const m=Dt(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,m8,null)}const d=a8(e,c,l.isFullyInitialized()||Je(n),u.filtersNodes()),f=new EE(i,d,s);return g8(t,d,n,i,f,a)}function cw(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new EE(i,e,s);if(Je(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=sh(e,c,!0,t.filter.filtersNodes());else{const d=tt(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=sh(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Dt(n),p=a.getNode().getImmediateChild(d);let m;if(Je(f))m=r;else{const y=u.getCompleteChild(d);y!=null?qN(f)===".priority"&&y.getChild(KN(f)).isEmpty()?m=y:m=y.updateChild(f,r):m=pt.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=sh(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function IT(t,e){return t.eventCache.isCompleteForChild(e)}function UY(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Rn(n,l);IT(e,tt(u))&&(a=cw(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Rn(n,l);IT(e,tt(u))||(a=cw(t,a,u,c,i,s,o))}),a}function bT(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Je(n)?c=r:c=new Lt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=bT(t,p,f);l=Bm(t,l,new $t(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=bT(t,m,f);l=Bm(t,l,new $t(d),y,i,s,o,a)}}),l}function zY(t,e,n,r,i,s,o){if(zm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Je(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Je(n)){let c=new Lt(null);return l.getNode().forEachChild(Wc,(u,d)=>{c=c.set(new $t(u),d)}),uw(t,e,n,c,i,s,a,o)}else return e}else{let c=new Lt(null);return r.foreach((u,d)=>{const f=Rn(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),uw(t,e,n,c,i,s,a,o)}}function BY(t,e,n,r,i){const s=e.serverCache,o=a8(e,s.getNode(),s.isFullyInitialized()||Je(n),s.isFiltered());return g8(t,o,n,r,m8,i)}function WY(t,e,n,r,i,s){let o;if(zm(r,n)!=null)return e;{const a=new EE(r,e,i),l=e.eventCache.getNode();let c;if(Je(n)||tt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=lw(r,Sl(e));else{const d=e.serverCache.getNode();ne(d instanceof pt,"serverChildren would be complete if leaf node"),u=h8(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=tt(n);let d=xE(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Dt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,pt.EMPTY_NODE,Dt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=lw(r,Sl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||zm(r,It())!=null,sh(e,c,o,t.filter.filtersNodes())}}function HY(t,e){const n=Sl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Je(e)&&!n.getImmediateChild(tt(e)).isEmpty())?n.getChild(e):null}function CT(t,e,n,r){e.type===ys.MERGE&&e.source.queryId!==null&&(ne(Sl(t.viewCache_),"We should always have a full cache before handling merges"),ne(sw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FY(t.processor_,i,e,n,r);return jY(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,qY(t,s.changes,s.viewCache.eventCache.getNode(),null)}function qY(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return _Y(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT;function GY(t){ne(!TT,"__referenceConstructor has already been defined"),TT=t}function IE(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),CT(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(CT(o,e,n,r));return s}}function bE(t,e){let n=null;for(const r of t.views.values())n=n||HY(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST;function KY(t){ne(!ST,"__referenceConstructor has already been defined"),ST=t}class RT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Lt(null),this.pendingWriteTree_=DY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QY(t,e,n,r,i){return IY(t.pendingWriteTree_,e,n,r,i),i?bg(t,new Tl(r8(),e,n)):[]}function Sc(t,e,n=!1){const r=bY(t.pendingWriteTree_,e);if(CY(t.pendingWriteTree_,e)){let s=new Lt(null);return r.snap!=null?s=s.set(It(),!0):Si(r.children,o=>{s=s.set(new $t(o),!0)}),bg(t,new Um(r.path,s,n))}else return[]}function Ig(t,e,n){return bg(t,new Tl(i8(),e,n))}function YY(t,e,n){const r=Lt.fromObject(n);return bg(t,new nf(i8(),e,r))}function XY(t,e,n,r){const i=w8(t,r);if(i!=null){const s=x8(i),o=s.path,a=s.queryId,l=vi(o,e),c=new Tl(s8(a),l,n);return E8(t,o,c)}else return[]}function JY(t,e,n,r){const i=w8(t,r);if(i){const s=x8(i),o=s.path,a=s.queryId,l=vi(o,e),c=Lt.fromObject(n),u=new nf(s8(a),l,c);return E8(t,o,u)}else return[]}function v8(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=vi(o,e),c=bE(a,l);if(c)return c});return d8(i,e,s,n,!0)}function bg(t,e){return y8(e,t.syncPointTree_,null,c8(t.pendingWriteTree_,It()))}function y8(t,e,n,r){if(Je(t.path))return _8(t,e,n,r);{const i=e.get(It());n==null&&i!=null&&(n=bE(i,It()));let s=[];const o=tt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=f8(r,o);s=s.concat(y8(a,l,c,u))}return i&&(s=s.concat(IE(i,t,r,n))),s}}function _8(t,e,n,r){const i=e.get(It());n==null&&i!=null&&(n=bE(i,It()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=f8(r,o),u=t.operationForChild(o);u&&(s=s.concat(_8(u,a,l,c)))}),i&&(s=s.concat(IE(i,t,r,n))),s}function w8(t,e){return t.tagToQueryMap.get(e)}function x8(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $t(t.substr(0,e))}}function E8(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=c8(t.pendingWriteTree_,e);return IE(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new CE(n)}node(){return this.node_}}class TE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Rn(this.path_,e);return new TE(this.syncTree_,n)}node(){return v8(this.syncTree_,this.path_)}}const ZY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},AT=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eX(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tX(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eX=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},tX=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},nX=function(t,e,n,r){return SE(e,new TE(n,t),r)},rX=function(t,e,n){return SE(t,new CE(e),n)};function SE(t,e,n){const r=t.getPriority().val(),i=AT(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=AT(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new In(a,er(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new In(i))),o.forEachChild(ir,(a,l)=>{const c=SE(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function AE(t,e){let n=e instanceof $t?e:new $t(e),r=t,i=tt(n);for(;i!==null;){const s=nu(r.node.children,i)||{children:{},childCount:0};r=new RE(i,r,s),n=Dt(n),i=tt(n)}return r}function zu(t){return t.node.value}function I8(t,e){t.node.value=e,dw(t)}function b8(t){return t.node.childCount>0}function iX(t){return zu(t)===void 0&&!b8(t)}function Cg(t,e){Si(t.node.children,(n,r)=>{e(new RE(n,t,r))})}function C8(t,e,n,r){n&&!r&&e(t),Cg(t,i=>{C8(i,e,!0,r)}),n&&r&&e(t)}function sX(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qf(t){return new $t(t.parent===null?t.name:qf(t.parent)+"/"+t.name)}function dw(t){t.parent!==null&&oX(t.parent,t.name,t)}function oX(t,e,n){const r=iX(n),i=co(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,dw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,dw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX=/[\[\].#$\/\u0000-\u001F\u007F]/,lX=/[\[\].#$\u0000-\u001F\u007F]/,Nv=10*1024*1024,T8=function(t){return typeof t=="string"&&t.length!==0&&!aX.test(t)},cX=function(t){return typeof t=="string"&&t.length!==0&&!lX.test(t)},uX=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cX(t)},S8=function(t,e,n){const r=n instanceof $t?new BQ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+La(r));if(typeof e=="function")throw new Error(t+"contains a function "+La(r)+" with contents = "+e.toString());if(CN(e))throw new Error(t+"contains "+e.toString()+" "+La(r));if(typeof e=="string"&&e.length>Nv/3&&S2(e)>Nv)throw new Error(t+"contains a string greater than "+Nv+" utf8 bytes "+La(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Si(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!T8(o)))throw new Error(t+" contains an invalid key ("+o+") "+La(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WQ(r,o),S8(t,a,r),HQ(r)}),i&&s)throw new Error(t+' contains ".value" child '+La(r)+" in addition to actual children.")}},dX=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!T8(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uX(n))throw new Error(kF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fX(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!QN(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function zl(t,e,n){fX(t,n),pX(t,r=>Bi(r,e)||Bi(e,r))}function pX(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(mX(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function mX(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();il&&Zn("event: "+n.toString()),Wf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX="repo_interrupt",vX=25;class yX{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vm(),this.transactionQueueTree_=new RE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _X(t,e,n){if(t.stats_=mE(t.repoInfo_),t.forceRestClient_||pQ())t.server_=new Fm(t.repoInfo_,(r,i,s,o)=>{kT(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>PT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gs(t.repoInfo_,e,(r,i,s,o)=>{kT(t,r,i,s,o)},r=>{PT(t,r)},r=>{xX(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_Q(t.repoInfo_,()=>new yY(t.stats_,t.server_)),t.infoData_=new fY,t.infoSyncTree_=new RT({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ig(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),kE(t,"connected",!1),t.serverSyncTree_=new RT({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);zl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function wX(t){const n=t.infoData_.getNode(new $t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function R8(t){return ZY({timestamp:wX(t)})}function kT(t,e,n,r,i){t.dataUpdateCount++;const s=new $t(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=dm(n,c=>er(c));o=JY(t.serverSyncTree_,s,l,i)}else{const l=er(n);o=XY(t.serverSyncTree_,s,l,i)}else if(r){const l=dm(n,c=>er(c));o=YY(t.serverSyncTree_,s,l)}else{const l=er(n);o=Ig(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=NE(t,s)),zl(t.eventQueue_,a,o)}function PT(t,e){kE(t,"connected",e),e===!1&&IX(t)}function xX(t,e){Si(e,(n,r)=>{kE(t,n,r)})}function kE(t,e,n){const r=new $t("/.info/"+e),i=er(n);t.infoData_.updateSnapshot(r,i);const s=Ig(t.infoSyncTree_,r,i);zl(t.eventQueue_,r,s)}function EX(t){return t.nextWriteId_++}function IX(t){A8(t,"onDisconnectEvents");const e=R8(t),n=Vm();iw(t.onDisconnect_,It(),(i,s)=>{const o=nX(i,s,t.serverSyncTree_,e);n8(n,i,o)});let r=[];iw(n,It(),(i,s)=>{r=r.concat(Ig(t.serverSyncTree_,i,s));const o=SX(t,i);NE(t,o)}),t.onDisconnect_=Vm(),zl(t.eventQueue_,It(),r)}function bX(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gX)}function A8(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Zn(n,...e)}function k8(t,e,n){return v8(t.serverSyncTree_,e,n)||pt.EMPTY_NODE}function PE(t,e=t.transactionQueueTree_){if(e||Tg(t,e),zu(e)){const n=N8(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&CX(t,qf(e),n)}else b8(e)&&Cg(e,n=>{PE(t,n)})}function CX(t,e,n){const r=n.map(c=>c.currentWriteId),i=k8(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ne(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=vi(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{A8(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Sc(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Tg(t,AE(t.transactionQueueTree_,e)),PE(t,t.transactionQueueTree_),zl(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Wf(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Gr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}NE(t,e)}},o)}function NE(t,e){const n=P8(t,e),r=qf(n),i=N8(t,n);return TX(t,i,r),r}function TX(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=vi(n,l.path);let u=!1,d;if(ne(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Sc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=vX)u=!0,d="maxretry",i=i.concat(Sc(t.serverSyncTree_,l.currentWriteId,!0));else{const f=k8(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){S8("transaction failed: Data returned ",p,l.path);let m=er(p);typeof p=="object"&&p!=null&&co(p,".priority")||(m=m.updatePriority(f.getPriority()));const x=l.currentWriteId,g=R8(t),w=rX(m,f,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=EX(t),o.splice(o.indexOf(x),1),i=i.concat(QY(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Sc(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(Sc(t.serverSyncTree_,l.currentWriteId,!0))}zl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Tg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Wf(r[a]);PE(t,t.transactionQueueTree_)}function P8(t,e){let n,r=t.transactionQueueTree_;for(n=tt(e);n!==null&&zu(r)===void 0;)r=AE(r,n),e=Dt(e),n=tt(e);return r}function N8(t,e){const n=[];return L8(t,e,n),n.sort((r,i)=>r.order-i.order),n}function L8(t,e,n){const r=zu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cg(e,i=>{L8(t,i,n)})}function Tg(t,e){const n=zu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,I8(e,n.length>0?n:void 0)}Cg(e,r=>{Tg(t,r)})}function SX(t,e){const n=qf(P8(t,e)),r=AE(t.transactionQueueTree_,e);return sX(r,i=>{Lv(t,i)}),Lv(t,r),C8(r,i=>{Lv(t,i)}),n}function Lv(t,e){const n=zu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Sc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?I8(e,void 0):n.length=s+1,zl(t.eventQueue_,qf(e),i);for(let o=0;o<r.length;o++)Wf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function AX(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gr(`Invalid query segment '${n}' in query '${t}'`)}return e}const NT=function(t,e){const n=kX(t),r=n.namespace;n.domain==="firebase.com"&&ro(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ro("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oQ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $N(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new $t(n.pathString)}},kX=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=RX(t.substring(u,d)));const f=AX(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Je(this._path)?null:qN(this._path)}get ref(){return new Bu(this._repo,this._path)}get _queryIdentifier(){const e=vT(this._queryParams),n=fE(e);return n==="{}"?"default":n}get _queryObject(){return vT(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof LE))return!1;const n=this._repo===e._repo,r=QN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zQ(this._path)}}class Bu extends LE{constructor(e,n){super(e,n,new _E,!1)}get parent(){const e=KN(this._path);return e===null?null:new Bu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}GY(Bu);KY(Bu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX="FIREBASE_DATABASE_EMULATOR_HOST",hw={};let NX=!1;function LX(t,e,n,r){t.repoInfo_=new $N(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function DX(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ro("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=NT(s,i),a=o.repoInfo,l,c;typeof process<"u"&&JC&&(c=JC[PX]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=NT(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Bc(Bc.OWNER):new gQ(t.name,t.options,e);dX("Invalid Firebase Database URL",o),Je(o.path)||ro("Database URL must point to the root of a Firebase Database (not including a child path).");const d=MX(a,t,u,new mQ(t.name,n));return new $X(d,t)}function OX(t,e){const n=hw[e];(!n||n[t.key]!==t)&&ro(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bX(t),delete n[t.key]}function MX(t,e,n,r){let i=hw[e.name];i||(i={},hw[e.name]=i);let s=i[t.toURLString()];return s&&ro("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new yX(t,NX,n,r),i[t.toURLString()]=s,s}class $X{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_X(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bu(this._repo,It())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ro("Cannot call "+e+" on a deleted database.")}}function jX(t=Vx(),e){const n=wf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=hk("database");r&&FX(n,...r)}return n}function FX(t,e,n,r={}){t=ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ro("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ro('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Bc(Bc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:mk(r.mockUserToken,t.app.options.projectId);s=new Bc(o)}LX(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(t){tQ(Zi),bs(new Qi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return DX(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Or(ZC,eT,t),Or(ZC,eT,"esm2017")}Gs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};VX();const UX={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Sg=Ck(UX),Sr=uB(Sg),zX=new Os,Ee=wG(Sg,{cache:VG()}),Ka=XK(Sg);jX(Sg);xG(Ee).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const xn=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},Bl=async(t,e,n,r,i,s=!1,o,a=200)=>{const l=zi.get("userId");v.useEffect(()=>{if(!l)return;const c=xr(t,...e),u=Ji(c,d=>{if(r(!0),d.empty)i(!0),n([]);else{const f=d.docs.map(p=>({...p.data(),[s?"uid":"id"]:p.id}));n(f),i(!1)}xn(r,a)},d=>{console.log("Error fetching documents: ",d.message),xn(r,a),o("Error fetching documents: "+d.message+" Come here again at 1:30 pm.")});return()=>u()},[])},BX=(t,e,n)=>{v.useEffect(()=>{if(!n)return;const r=Ji(t,i=>{if(i.exists()){const s={uid:i.id,...i.data()};e(s)}},i=>{console.log(i.message)});return()=>r()},[e,n])},WX=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(i){if(r++,r>=e)throw console.log("Failed to save user data",i.message),i;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(s=>setTimeout(s,n*r))}};function D8(t,e){localStorage.setItem(t,JSON.stringify(e))}function O8(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function HX(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let LT;function qX(t){t(!0),clearTimeout(LT),LT=setTimeout(()=>{t(!1)},[4e3])}function Ii(t){scrollTo({top:0,...{behavior:t}})}function ah(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function Rl(t){document.body.style.overflow=t}function Rg(t,e){v.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function GX(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return`${Dv(n,"hours")} ${Dv(r,"minutes")} ${Dv(i,"seconds")}`}catch{return null}}function Dv(t,e){return t?`${t} ${e}`:""}function DT(t){return t>=10?t:`0${t}`}const Ag=(t,e)=>{const n=zi.get("userId");let r;return t.forEach(i=>{i.id===e&&(r=i)}),r?r.seenBy.includes(n):!1},KX=(t,e)=>{let n=0;return t.forEach(r=>{Ag(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function Gf(t){v.useEffect(()=>{const e=()=>{const n=window.scrollY;D8(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function Kf(t){v.useEffect(()=>{const e=O8(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function Ks(t,e){try{console.log("Fetching counts...");const n=await sN(t);e(n.data().count)}catch(n){console.log(n.message)}}async function QX(t,e){const n=OT(t,e);try{if(n)return console.log("Fetched from the array..."),n;{const r=_e(ke(Ee,"users"),e);console.log("fetching user...");const i=await Vu(r);if(i.exists()){const s={uid:i.id,...i.data()};return OT(t,i.id)?console.log("User already exists in the array:"):t.push(s),s}else return console.log("No user found in Firestore"),null}}catch(r){return console.error("Error fetching user:",r.message),null}}function OT(t,e){return t.find(n=>n.uid===e)}function qn(t,e,n,r=()=>{},i=[],s=150){v.useEffect(()=>{(async()=>{r(!0);const a=await QX(e,t);n(a),xn(r,s)})()},i)}const YX={black:"#000",white:"#fff"},rf=YX,XX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},tc=XX,JX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},nc=JX,ZX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},rc=ZX,eJ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ic=eJ,tJ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sc=tJ,nJ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_d=nJ,rJ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},iJ=rJ;function io(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const sJ=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),kg="$$material";function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(null,arguments)}function he(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M8(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var oJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aJ=M8(function(t){return oJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function lJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uJ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=lJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xn="-ms-",Wm="-moz-",ct="-webkit-",$8="comm",DE="rule",OE="decl",dJ="@import",j8="@keyframes",hJ="@layer",fJ=Math.abs,Pg=String.fromCharCode,pJ=Object.assign;function mJ(t,e){return jn(t,0)^45?(((e<<2^jn(t,0))<<2^jn(t,1))<<2^jn(t,2))<<2^jn(t,3):0}function F8(t){return t.trim()}function gJ(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,n){return t.replace(e,n)}function fw(t,e){return t.indexOf(e)}function jn(t,e){return t.charCodeAt(e)|0}function sf(t,e,n){return t.slice(e,n)}function is(t){return t.length}function ME(t){return t.length}function V0(t,e){return e.push(t),t}function vJ(t,e){return t.map(e).join("")}var Ng=1,vu=1,V8=0,Mr=0,hn=0,Wu="";function Lg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ng,column:vu,length:o,return:""}}function wd(t,e){return pJ(Lg("",null,null,"",null,null,0),t,{length:-t.length},e)}function yJ(){return hn}function _J(){return hn=Mr>0?jn(Wu,--Mr):0,vu--,hn===10&&(vu=1,Ng--),hn}function Kr(){return hn=Mr<V8?jn(Wu,Mr++):0,vu++,hn===10&&(vu=1,Ng++),hn}function Is(){return jn(Wu,Mr)}function Ip(){return Mr}function Qf(t,e){return sf(Wu,t,e)}function of(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function U8(t){return Ng=vu=1,V8=is(Wu=t),Mr=0,[]}function z8(t){return Wu="",t}function bp(t){return F8(Qf(Mr-1,pw(t===91?t+2:t===40?t+1:t)))}function wJ(t){for(;(hn=Is())&&hn<33;)Kr();return of(t)>2||of(hn)>3?"":" "}function xJ(t,e){for(;--e&&Kr()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return Qf(t,Ip()+(e<6&&Is()==32&&Kr()==32))}function pw(t){for(;Kr();)switch(hn){case t:return Mr;case 34:case 39:t!==34&&t!==39&&pw(hn);break;case 40:t===41&&pw(t);break;case 92:Kr();break}return Mr}function EJ(t,e){for(;Kr()&&t+hn!==57;)if(t+hn===84&&Is()===47)break;return"/*"+Qf(e,Mr-1)+"*"+Pg(t===47?t:Kr())}function IJ(t){for(;!of(Is());)Kr();return Qf(t,Mr)}function bJ(t){return z8(Cp("",null,null,null,[""],t=U8(t),0,[0],t))}function Cp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,y=1,x=1,g=1,w=0,_="",I=i,T=s,E=r,C=_;x;)switch(m=w,w=Kr()){case 40:if(m!=108&&jn(C,d-1)==58){fw(C+=ut(bp(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=bp(w);break;case 9:case 10:case 13:case 32:C+=wJ(m);break;case 92:C+=xJ(Ip()-1,7);continue;case 47:switch(Is()){case 42:case 47:V0(CJ(EJ(Kr(),Ip()),e,n),l);break;default:C+="/"}break;case 123*y:a[c++]=is(C)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(C=ut(C,/\f/g,"")),p>0&&is(C)-d&&V0(p>32?$T(C+";",r,n,d-1):$T(ut(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(V0(E=MT(C,e,n,c,u,i,a,_,I=[],T=[],d),s),w===123)if(u===0)Cp(C,e,E,E,I,s,d,a,T);else switch(f===99&&jn(C,3)===110?100:f){case 100:case 108:case 109:case 115:Cp(t,E,E,r&&V0(MT(t,E,E,0,0,i,a,_,i,I=[],d),T),i,T,d,a,r?I:T);break;default:Cp(C,E,E,E,[""],T,0,a,T)}}c=u=p=0,y=g=1,_=C="",d=o;break;case 58:d=1+is(C),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&_J()==125)continue}switch(C+=Pg(w),w*y){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(is(C)-1)*g,g=1;break;case 64:Is()===45&&(C+=bp(Kr())),f=Is(),u=d=is(_=C+=IJ(Ip())),w++;break;case 45:m===45&&is(C)==2&&(y=0)}}return s}function MT(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],p=ME(f),m=0,y=0,x=0;m<r;++m)for(var g=0,w=sf(t,d+1,d=fJ(y=o[m])),_=t;g<p;++g)(_=F8(y>0?f[g]+" "+w:ut(w,/&\f/g,f[g])))&&(l[x++]=_);return Lg(t,e,n,i===0?DE:a,l,c,u)}function CJ(t,e,n){return Lg(t,e,n,$8,Pg(yJ()),sf(t,2,-2),0)}function $T(t,e,n,r){return Lg(t,e,n,OE,sf(t,0,r),sf(t,r+1,-1),r)}function Hc(t,e){for(var n="",r=ME(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function TJ(t,e,n,r){switch(t.type){case hJ:if(t.children.length)break;case dJ:case OE:return t.return=t.return||t.value;case $8:return"";case j8:return t.return=t.value+"{"+Hc(t.children,r)+"}";case DE:t.value=t.props.join(",")}return is(n=Hc(t.children,r))?t.return=t.value+"{"+n+"}":""}function SJ(t){var e=ME(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function RJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var AJ=function(e,n,r){for(var i=0,s=0;i=s,s=Is(),i===38&&s===12&&(n[r]=1),!of(s);)Kr();return Qf(e,Mr)},kJ=function(e,n){var r=-1,i=44;do switch(of(i)){case 0:i===38&&Is()===12&&(n[r]=1),e[r]+=AJ(Mr-1,n,r);break;case 2:e[r]+=bp(i);break;case 4:if(i===44){e[++r]=Is()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Pg(i)}while(i=Kr());return e},PJ=function(e,n){return z8(kJ(U8(e),n))},jT=new WeakMap,NJ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jT.get(r))&&!i){jT.set(e,!0);for(var s=[],o=PJ(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},LJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function B8(t,e){switch(mJ(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+Wm+t+Xn+t+t;case 6828:case 4268:return ct+t+Xn+t+t;case 6165:return ct+t+Xn+"flex-"+t+t;case 5187:return ct+t+ut(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+Xn+"flex-$1$2")+t;case 5443:return ct+t+Xn+"flex-item-"+ut(t,/flex-|-self/,"")+t;case 4675:return ct+t+Xn+"flex-line-pack"+ut(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+Xn+ut(t,"shrink","negative")+t;case 5292:return ct+t+Xn+ut(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+ut(t,"-grow","")+ct+t+Xn+ut(t,"grow","positive")+t;case 4554:return ct+ut(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+Xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(is(t)-1-e>6)switch(jn(t,e+1)){case 109:if(jn(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+Wm+(jn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fw(t,"stretch")?B8(ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(jn(t,e+1)!==115)break;case 6444:switch(jn(t,is(t)-3-(~fw(t,"!important")&&10))){case 107:return ut(t,":",":"+ct)+t;case 101:return ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(jn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+Xn+"$2box$3")+t}break;case 5936:switch(jn(t,e+11)){case 114:return ct+t+Xn+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+Xn+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+Xn+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+Xn+t+t}return t}var DJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case OE:e.return=B8(e.value,e.length);break;case j8:return Hc([wd(e,{value:ut(e.value,"@","@"+ct)})],i);case DE:if(e.length)return vJ(e.props,function(s){switch(gJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hc([wd(e,{props:[ut(s,/:(read-\w+)/,":"+Wm+"$1")]})],i);case"::placeholder":return Hc([wd(e,{props:[ut(s,/:(plac\w+)/,":"+ct+"input-$1")]}),wd(e,{props:[ut(s,/:(plac\w+)/,":"+Wm+"$1")]}),wd(e,{props:[ut(s,/:(plac\w+)/,Xn+"input-$1")]})],i)}return""})}},OJ=[DJ],W8=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||OJ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),g=1;g<x.length;g++)s[x[g]]=!0;a.push(y)});var l,c=[NJ,LJ];{var u,d=[TJ,RJ(function(y){u.insert(y)})],f=SJ(c.concat(i,d)),p=function(x){return Hc(bJ(x),f)};l=function(x,g,w,_){u=w,p(x?x+"{"+g.styles+"}":g.styles),_&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new uJ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},H8={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=typeof Symbol=="function"&&Symbol.for,$E=On?Symbol.for("react.element"):60103,jE=On?Symbol.for("react.portal"):60106,Dg=On?Symbol.for("react.fragment"):60107,Og=On?Symbol.for("react.strict_mode"):60108,Mg=On?Symbol.for("react.profiler"):60114,$g=On?Symbol.for("react.provider"):60109,jg=On?Symbol.for("react.context"):60110,FE=On?Symbol.for("react.async_mode"):60111,Fg=On?Symbol.for("react.concurrent_mode"):60111,Vg=On?Symbol.for("react.forward_ref"):60112,Ug=On?Symbol.for("react.suspense"):60113,MJ=On?Symbol.for("react.suspense_list"):60120,zg=On?Symbol.for("react.memo"):60115,Bg=On?Symbol.for("react.lazy"):60116,$J=On?Symbol.for("react.block"):60121,jJ=On?Symbol.for("react.fundamental"):60117,FJ=On?Symbol.for("react.responder"):60118,VJ=On?Symbol.for("react.scope"):60119;function ii(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $E:switch(t=t.type,t){case FE:case Fg:case Dg:case Mg:case Og:case Ug:return t;default:switch(t=t&&t.$$typeof,t){case jg:case Vg:case Bg:case zg:case $g:return t;default:return e}}case jE:return e}}}function q8(t){return ii(t)===Fg}yt.AsyncMode=FE;yt.ConcurrentMode=Fg;yt.ContextConsumer=jg;yt.ContextProvider=$g;yt.Element=$E;yt.ForwardRef=Vg;yt.Fragment=Dg;yt.Lazy=Bg;yt.Memo=zg;yt.Portal=jE;yt.Profiler=Mg;yt.StrictMode=Og;yt.Suspense=Ug;yt.isAsyncMode=function(t){return q8(t)||ii(t)===FE};yt.isConcurrentMode=q8;yt.isContextConsumer=function(t){return ii(t)===jg};yt.isContextProvider=function(t){return ii(t)===$g};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$E};yt.isForwardRef=function(t){return ii(t)===Vg};yt.isFragment=function(t){return ii(t)===Dg};yt.isLazy=function(t){return ii(t)===Bg};yt.isMemo=function(t){return ii(t)===zg};yt.isPortal=function(t){return ii(t)===jE};yt.isProfiler=function(t){return ii(t)===Mg};yt.isStrictMode=function(t){return ii(t)===Og};yt.isSuspense=function(t){return ii(t)===Ug};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dg||t===Fg||t===Mg||t===Og||t===Ug||t===MJ||typeof t=="object"&&t!==null&&(t.$$typeof===Bg||t.$$typeof===zg||t.$$typeof===$g||t.$$typeof===jg||t.$$typeof===Vg||t.$$typeof===jJ||t.$$typeof===FJ||t.$$typeof===VJ||t.$$typeof===$J)};yt.typeOf=ii;H8.exports=yt;var UJ=H8.exports,G8=UJ,zJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},BJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K8={};K8[G8.ForwardRef]=zJ;K8[G8.Memo]=BJ;var WJ=!0;function HJ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Q8=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||WJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Y8=function(e,n,r){Q8(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qJ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var X8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},GJ=/[A-Z]|^ms/g,KJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J8=function(e){return e.charCodeAt(1)===45},FT=function(e){return e!=null&&typeof e!="boolean"},Ov=M8(function(t){return J8(t)?t:t.replace(GJ,"-$&").toLowerCase()}),VT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(KJ,function(r,i,s){return ss={name:i,styles:s,next:ss},i})}return X8[e]!==1&&!J8(e)&&typeof n=="number"&&n!==0?n+"px":n};function af(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ss={name:n.name,styles:n.styles,next:ss},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ss={name:r.name,styles:r.styles,next:ss},r=r.next;var i=n.styles+";";return i}return QJ(t,e,n)}case"function":{if(t!==void 0){var s=ss,o=n(t);return ss=s,af(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function QJ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=af(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":FT(o)&&(r+=Ov(s)+":"+VT(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)FT(o[a])&&(r+=Ov(s)+":"+VT(s,o[a])+";");else{var l=af(t,e,o);switch(s){case"animation":case"animationName":{r+=Ov(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var UT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ss,VE=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ss=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=af(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=af(r,n,e[a]),i&&(s+=o[a]);UT.lastIndex=0;for(var l="",c;(c=UT.exec(s))!==null;)l+="-"+c[1];var u=qJ(s)+l;return{name:u,styles:s,next:ss}},YJ=function(e){return e()},Z8=$p.useInsertionEffect?$p.useInsertionEffect:!1,XJ=Z8||YJ,zT=Z8||v.useLayoutEffect,e7=v.createContext(typeof HTMLElement<"u"?W8({key:"css"}):null),JJ=e7.Provider,t7=function(e){return v.forwardRef(function(n,r){var i=v.useContext(e7);return e(n,i,r)})},Wg=v.createContext({}),Mv={exports:{}},BT;function n7(){return BT||(BT=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Mv)),Mv.exports}n7();var ZJ=t7(function(t,e){var n=t.styles,r=VE([n],void 0,v.useContext(Wg)),i=v.useRef();return zT(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),zT(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Y8(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function so(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return VE(e)}var es=function(){var e=so.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},eZ=aJ,tZ=function(e){return e!=="theme"},WT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?eZ:tZ},HT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},nZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Q8(n,r,i),XJ(function(){return Y8(n,r,i)}),null},rZ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=HT(e,n,r),l=a||WT(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var m=t7(function(y,x,g){var w=c&&y.as||i,_="",I=[],T=y;if(y.theme==null){T={};for(var E in y)T[E]=y[E];T.theme=v.useContext(Wg)}typeof y.className=="string"?_=HJ(x.registered,I,y.className):y.className!=null&&(_=y.className+" ");var C=VE(d.concat(I),x.registered,T);_+=x.key+"-"+C.name,o!==void 0&&(_+=" "+o);var b=c&&a===void 0?WT(w):l,R={};for(var S in y)c&&S==="as"||b(S)&&(R[S]=y[S]);return R.className=_,R.ref=g,v.createElement(v.Fragment,null,v.createElement(nZ,{cache:x,serialized:C,isStringTag:typeof w=="string"}),v.createElement(w,R))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(y,x){return t(y,M({},n,x,{shouldForwardProp:HT(m,x,!0)})).apply(void 0,d)},m}},iZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mw=rZ.bind();iZ.forEach(function(t){mw[t]=mw(t)});let gw;typeof document=="object"&&(gw=W8({key:"css",prepend:!0}));function sZ(t){const{injectFirst:e,children:n}=t;return e&&gw?h.jsx(JJ,{value:gw,children:n}):n}function oZ(t){return t==null||Object.keys(t).length===0}function r7(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(oZ(i)?n:i):e;return h.jsx(ZJ,{styles:r})}function UE(t,e){return mw(t,e)}const i7=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},aZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:r7,StyledEngineProvider:sZ,ThemeContext:Wg,css:so,default:UE,internal_processStyles:i7,keyframes:es},Symbol.toStringTag,{value:"Module"}));function Ms(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function s7(t){if(!Ms(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=s7(t[n])}),e}function wr(t,e,n={clone:!0}){const r=n.clone?M({},t):t;return Ms(t)&&Ms(e)&&Object.keys(e).forEach(i=>{Ms(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ms(t[i])?r[i]=wr(t[i],e[i],n):n.clone?r[i]=Ms(e[i])?s7(e[i]):e[i]:r[i]=e[i]}),r}const lZ=Object.freeze(Object.defineProperty({__proto__:null,default:wr,isPlainObject:Ms},Symbol.toStringTag,{value:"Module"})),cZ=["values","unit","step"],uZ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>M({},n,{[r.key]:r.val}),{})};function o7(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=he(t,cZ),s=uZ(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return M({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const dZ={borderRadius:4},hZ=dZ;function lh(t,e){return e?wr(t,e,{clone:!1}):t}const zE={xs:0,sm:600,md:900,lg:1200,xl:1536},qT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${zE[t]}px)`};function $r(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||qT;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||qT;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||zE).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function a7(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function l7(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function fZ(t,...e){const n=a7(t),r=[n,...e].reduce((i,s)=>wr(i,s),{});return l7(Object.keys(n),r)}function pZ(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function sl({values:t,breakpoints:e,base:n}){const r=n||pZ(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function se(t){if(typeof t!="string")throw new Error(io(7));return t.charAt(0).toUpperCase()+t.slice(1)}const mZ=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));function Hg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Hm(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Hg(t,n)||r,e&&(i=e(i,r,t)),i}function on(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Hg(l,r)||{};return $r(o,a,d=>{let f=Hm(c,i,d);return d===f&&typeof d=="string"&&(f=Hm(c,i,`${e}${d==="default"?"":se(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function gZ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const vZ={m:"margin",p:"padding"},yZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_Z=gZ(t=>{if(t.length>2)if(GT[t])t=GT[t];else return[t];const[e,n]=t.split(""),r=vZ[e],i=yZ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),BE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],WE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...BE,...WE];function Yf(t,e,n,r){var i;const s=(i=Hg(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function HE(t){return Yf(t,"spacing",8)}function Al(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function wZ(t,e){return n=>t.reduce((r,i)=>(r[i]=Al(e,n),r),{})}function xZ(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=_Z(n),s=wZ(i,r),o=t[n];return $r(t,o,s)}function c7(t,e){const n=HE(t.theme);return Object.keys(t).map(r=>xZ(t,e,r,n)).reduce(lh,{})}function Gt(t){return c7(t,BE)}Gt.propTypes={};Gt.filterProps=BE;function Kt(t){return c7(t,WE)}Kt.propTypes={};Kt.filterProps=WE;function EZ(t=8){if(t.mui)return t;const e=HE({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function qg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?lh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function hi(t){return typeof t!="number"?t:`${t}px solid`}function ki(t,e){return on({prop:t,themeKey:"borders",transform:e})}const IZ=ki("border",hi),bZ=ki("borderTop",hi),CZ=ki("borderRight",hi),TZ=ki("borderBottom",hi),SZ=ki("borderLeft",hi),RZ=ki("borderColor"),AZ=ki("borderTopColor"),kZ=ki("borderRightColor"),PZ=ki("borderBottomColor"),NZ=ki("borderLeftColor"),LZ=ki("outline",hi),DZ=ki("outlineColor"),Gg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Yf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Al(e,r)});return $r(t,t.borderRadius,n)}return null};Gg.propTypes={};Gg.filterProps=["borderRadius"];qg(IZ,bZ,CZ,TZ,SZ,RZ,AZ,kZ,PZ,NZ,Gg,LZ,DZ);const Kg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Yf(t.theme,"spacing",8),n=r=>({gap:Al(e,r)});return $r(t,t.gap,n)}return null};Kg.propTypes={};Kg.filterProps=["gap"];const Qg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Yf(t.theme,"spacing",8),n=r=>({columnGap:Al(e,r)});return $r(t,t.columnGap,n)}return null};Qg.propTypes={};Qg.filterProps=["columnGap"];const Yg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Yf(t.theme,"spacing",8),n=r=>({rowGap:Al(e,r)});return $r(t,t.rowGap,n)}return null};Yg.propTypes={};Yg.filterProps=["rowGap"];const OZ=on({prop:"gridColumn"}),MZ=on({prop:"gridRow"}),$Z=on({prop:"gridAutoFlow"}),jZ=on({prop:"gridAutoColumns"}),FZ=on({prop:"gridAutoRows"}),VZ=on({prop:"gridTemplateColumns"}),UZ=on({prop:"gridTemplateRows"}),zZ=on({prop:"gridTemplateAreas"}),BZ=on({prop:"gridArea"});qg(Kg,Qg,Yg,OZ,MZ,$Z,jZ,FZ,VZ,UZ,zZ,BZ);function qc(t,e){return e==="grey"?e:t}const WZ=on({prop:"color",themeKey:"palette",transform:qc}),HZ=on({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qc}),qZ=on({prop:"backgroundColor",themeKey:"palette",transform:qc});qg(WZ,HZ,qZ);function zr(t){return t<=1&&t!==0?`${t*100}%`:t}const GZ=on({prop:"width",transform:zr}),qE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||zE[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:zr(n)}};return $r(t,t.maxWidth,e)}return null};qE.filterProps=["maxWidth"];const KZ=on({prop:"minWidth",transform:zr}),QZ=on({prop:"height",transform:zr}),YZ=on({prop:"maxHeight",transform:zr}),XZ=on({prop:"minHeight",transform:zr});on({prop:"size",cssProperty:"width",transform:zr});on({prop:"size",cssProperty:"height",transform:zr});const JZ=on({prop:"boxSizing"});qg(GZ,qE,KZ,QZ,YZ,XZ,JZ);const ZZ={border:{themeKey:"borders",transform:hi},borderTop:{themeKey:"borders",transform:hi},borderRight:{themeKey:"borders",transform:hi},borderBottom:{themeKey:"borders",transform:hi},borderLeft:{themeKey:"borders",transform:hi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gg},color:{themeKey:"palette",transform:qc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qc},backgroundColor:{themeKey:"palette",transform:qc},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:Gt},mt:{style:Gt},mr:{style:Gt},mb:{style:Gt},ml:{style:Gt},mx:{style:Gt},my:{style:Gt},margin:{style:Gt},marginTop:{style:Gt},marginRight:{style:Gt},marginBottom:{style:Gt},marginLeft:{style:Gt},marginX:{style:Gt},marginY:{style:Gt},marginInline:{style:Gt},marginInlineStart:{style:Gt},marginInlineEnd:{style:Gt},marginBlock:{style:Gt},marginBlockStart:{style:Gt},marginBlockEnd:{style:Gt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kg},rowGap:{style:Yg},columnGap:{style:Qg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zr},maxWidth:{style:qE},minWidth:{transform:zr},height:{transform:zr},maxHeight:{transform:zr},minHeight:{transform:zr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Xf=ZZ;function eee(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function tee(t,e){return typeof t=="function"?t(e):t}function u7(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Hg(i,c)||{};return d?d(o):$r(o,r,m=>{let y=Hm(f,u,m);return m===y&&typeof m=="string"&&(y=Hm(f,u,`${n}${m==="default"?"":se(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Xf;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=a7(s.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const m=tee(c[p],s);if(m!=null)if(typeof m=="object")if(o[p])f=lh(f,t(p,m,s,o));else{const y=$r({theme:s},m,x=>({[p]:x}));eee(y,m)?f[p]=e({sx:m,theme:s}):f=lh(f,y)}else f=lh(f,t(p,m,s,o))}),l7(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const d7=u7();d7.filterProps=["sx"];const Jf=d7;function h7(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const nee=["breakpoints","palette","spacing","shape"];function Zf(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=he(t,nee),a=o7(n),l=EZ(i);let c=wr({breakpoints:a,direction:"ltr",components:{},palette:M({mode:"light"},r),spacing:l,shape:M({},hZ,s)},o);return c.applyStyles=h7,c=e.reduce((u,d)=>wr(u,d),c),c.unstable_sxConfig=M({},Xf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Jf({sx:d,theme:this})},c}const ree=Object.freeze(Object.defineProperty({__proto__:null,default:Zf,private_createBreakpoints:o7,unstable_applyStyles:h7},Symbol.toStringTag,{value:"Module"}));function iee(t){return Object.keys(t).length===0}function see(t=null){const e=v.useContext(Wg);return!e||iee(e)?t:e}const oee=Zf();function Xg(t=oee){return see(t)}function aee({styles:t,themeId:e,defaultTheme:n={}}){const r=Xg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return h.jsx(r7,{styles:i})}const lee=["sx"],cee=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Xf;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function e0(t){const{sx:e}=t,n=he(t,lee),{systemProps:r,otherProps:i}=cee(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ms(a)?M({},r,a):r}:s=M({},r,e),M({},i,{sx:s})}const uee=Object.freeze(Object.defineProperty({__proto__:null,default:Jf,extendSxProp:e0,unstable_createStyleFunctionSx:u7,unstable_defaultSxConfig:Xf},Symbol.toStringTag,{value:"Module"})),KT=t=>t,dee=()=>{let t=KT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=KT}}},hee=dee(),f7=hee;function p7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p7(t))&&(r&&(r+=" "),r+=e);return r}const fee=["className","component"];function pee(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=UE("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Jf);return v.forwardRef(function(l,c){const u=Xg(n),d=e0(l),{className:f,component:p="div"}=d,m=he(d,fee);return h.jsx(s,M({as:p,ref:c,className:xe(f,i?i(r):r),theme:e&&u[e]||u},m))})}const mee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ye(t,e,n="Mui"){const r=mee[e];return r?`${n}-${r}`:`${f7.generate(t)}-${e}`}function We(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ye(t,i,n)}),r}var m7={exports:{}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=Symbol.for("react.element"),KE=Symbol.for("react.portal"),Jg=Symbol.for("react.fragment"),Zg=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),t1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),gee=Symbol.for("react.server_context"),r1=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),s1=Symbol.for("react.suspense_list"),o1=Symbol.for("react.memo"),a1=Symbol.for("react.lazy"),vee=Symbol.for("react.offscreen"),g7;g7=Symbol.for("react.module.reference");function Pi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GE:switch(t=t.type,t){case Jg:case e1:case Zg:case i1:case s1:return t;default:switch(t=t&&t.$$typeof,t){case gee:case n1:case r1:case a1:case o1:case t1:return t;default:return e}}case KE:return e}}}_t.ContextConsumer=n1;_t.ContextProvider=t1;_t.Element=GE;_t.ForwardRef=r1;_t.Fragment=Jg;_t.Lazy=a1;_t.Memo=o1;_t.Portal=KE;_t.Profiler=e1;_t.StrictMode=Zg;_t.Suspense=i1;_t.SuspenseList=s1;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(t){return Pi(t)===n1};_t.isContextProvider=function(t){return Pi(t)===t1};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GE};_t.isForwardRef=function(t){return Pi(t)===r1};_t.isFragment=function(t){return Pi(t)===Jg};_t.isLazy=function(t){return Pi(t)===a1};_t.isMemo=function(t){return Pi(t)===o1};_t.isPortal=function(t){return Pi(t)===KE};_t.isProfiler=function(t){return Pi(t)===e1};_t.isStrictMode=function(t){return Pi(t)===Zg};_t.isSuspense=function(t){return Pi(t)===i1};_t.isSuspenseList=function(t){return Pi(t)===s1};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jg||t===e1||t===Zg||t===i1||t===s1||t===vee||typeof t=="object"&&t!==null&&(t.$$typeof===a1||t.$$typeof===o1||t.$$typeof===t1||t.$$typeof===n1||t.$$typeof===r1||t.$$typeof===g7||t.getModuleId!==void 0)};_t.typeOf=Pi;m7.exports=_t;var QT=m7.exports;const yee=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function v7(t){const e=`${t}`.match(yee);return e&&e[1]||""}function y7(t,e=""){return t.displayName||t.name||v7(t)||e}function YT(t,e,n){const r=y7(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function _ee(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return y7(t,"Component");if(typeof t=="object")switch(t.$$typeof){case QT.ForwardRef:return YT(t,t.render,"ForwardRef");case QT.Memo:return YT(t,t.type,"memo");default:return}}}const wee=Object.freeze(Object.defineProperty({__proto__:null,default:_ee,getFunctionName:v7},Symbol.toStringTag,{value:"Module"})),xee=["ownerState"],Eee=["variants"],Iee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bee(t){return Object.keys(t).length===0}function Cee(t){return typeof t=="string"&&t.charCodeAt(0)>96}function $v(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Tee=Zf(),See=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function U0({defaultTheme:t,theme:e,themeId:n}){return bee(e)?t:e[n]||e}function Ree(t){return t?(e,n)=>n[t]:null}function Tp(t,e){let{ownerState:n}=e,r=he(e,xee);const i=typeof t=="function"?t(M({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Tp(s,M({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=he(i,Eee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(M({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(M({ownerState:n},r,n)):l.style))}),a}return i}function Aee(t={}){const{themeId:e,defaultTheme:n=Tee,rootShouldForwardProp:r=$v,slotShouldForwardProp:i=$v}=t,s=o=>Jf(M({},o,{theme:U0(M({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{i7(o,T=>T.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=Ree(See(c))}=a,p=he(a,Iee),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,g=$v;c==="Root"||c==="root"?g=r:c?g=i:Cee(o)&&(g=void 0);const w=UE(o,M({shouldForwardProp:g,label:x},p)),_=T=>typeof T=="function"&&T.__emotion_real!==T||Ms(T)?E=>Tp(T,M({},E,{theme:U0({theme:E.theme,defaultTheme:n,themeId:e})})):T,I=(T,...E)=>{let C=_(T);const b=E?E.map(_):[];l&&f&&b.push(A=>{const N=U0(M({},A,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const O=N.components[l].styleOverrides,L={};return Object.entries(O).forEach(([$,P])=>{L[$]=Tp(P,M({},A,{theme:N}))}),f(A,L)}),l&&!m&&b.push(A=>{var N;const O=U0(M({},A,{defaultTheme:n,themeId:e})),L=O==null||(N=O.components)==null||(N=N[l])==null?void 0:N.variants;return Tp({variants:L},M({},A,{theme:O}))}),y||b.push(s);const R=b.length-E.length;if(Array.isArray(T)&&R>0){const A=new Array(R).fill("");C=[...T,...A],C.raw=[...T.raw,...A]}const S=w(C,...b);return o.muiName&&(S.muiName=o.muiName),S};return w.withConfig&&(I.withConfig=w.withConfig),I}}const kee=Aee(),Pee=kee;function lf(t,e){const n=M({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=M({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=M({},s),Object.keys(i).forEach(o=>{n[r][o]=lf(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Nee(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:lf(e.components[n].defaultProps,r)}function Lee({props:t,name:e,defaultTheme:n,themeId:r}){let i=Xg(n);return r&&(i=i[r]||i),Nee({theme:i,name:e,props:t})}const Dee=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ts=Dee;function _7(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Oee=Object.freeze(Object.defineProperty({__proto__:null,default:_7},Symbol.toStringTag,{value:"Module"}));function Mee(t,e=0,n=1){return _7(t,e,n)}function $ee(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function w7(t){if(t.type)return t;if(t.charAt(0)==="#")return w7($ee(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(io(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(io(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function jee(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Fee(t,e){return t=w7(t),e=Mee(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,jee(t)}function XT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function QE(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function jv(t,e){var n,r;return v.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function mn(t){return t&&t.ownerDocument||document}function Qr(t){return mn(t).defaultView||window}function vw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let JT=0;function Vee(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(JT+=1,n(`mui-${JT}`))},[e]),r}const ZT=$p.useId;function YE(t){if(ZT!==void 0){const e=ZT();return t??e}return Vee(t)}function eS({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=v.useRef(t!==void 0),[s,o]=v.useState(e),a=i?t:s,l=v.useCallback(c=>{i||o(c)},[]);return[a,l]}function yi(t){const e=v.useRef(t);return Ts(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function Nn(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{vw(n,e)})},t)}const tS={};function Uee(t,e){const n=v.useRef(tS);return n.current===tS&&(n.current=t(e)),n}const zee=[];function Bee(t){v.useEffect(t,zee)}class l1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new l1}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function XE(){const t=Uee(l1.create).current;return Bee(t.disposeEffect),t}let c1=!0,yw=!1;const Wee=new l1,Hee={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function qee(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Hee[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Gee(t){t.metaKey||t.altKey||t.ctrlKey||(c1=!0)}function Fv(){c1=!1}function Kee(){this.visibilityState==="hidden"&&yw&&(c1=!0)}function Qee(t){t.addEventListener("keydown",Gee,!0),t.addEventListener("mousedown",Fv,!0),t.addEventListener("pointerdown",Fv,!0),t.addEventListener("touchstart",Fv,!0),t.addEventListener("visibilitychange",Kee,!0)}function Yee(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return c1||qee(e)}function Xee(){const t=v.useCallback(i=>{i!=null&&Qee(i.ownerDocument)},[]),e=v.useRef(!1);function n(){return e.current?(yw=!0,Wee.start(100,()=>{yw=!1}),e.current=!1,!0):!1}function r(i){return Yee(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function x7(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ze(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function qm(t){return typeof t=="string"}function Jee(t,e,n){return t===void 0||qm(t)?e:M({},e,{ownerState:M({},e.ownerState,n)})}function Gm(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function nS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Zee(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=xe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m=M({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=M({},n,i,r);return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const o=Gm(M({},i,r)),a=nS(r),l=nS(i),c=e(o),u=xe(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=M({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=M({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function ete(t,e,n){return typeof t=="function"?t(e,n):t}const tte=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function kl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=he(t,tte),a=s?{}:ete(r,i),{props:l,internalRef:c}=Zee(M({},o,{externalSlotProps:a})),u=Nn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Jee(n,M({},l,{ref:u}),i)}const nte=v.createContext(),JE=()=>{const t=v.useContext(nte);return t??!1},rte=v.createContext(void 0);function ite(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?lf(i.defaultProps,r):!i.styleOverrides&&!i.variants?lf(i,r):r}function ste({props:t,name:e}){const n=v.useContext(rte);return ite({props:t,name:e,theme:{components:n}})}const ote=["component","direction","spacing","divider","children","className","useFlexGap"],ate=Zf(),lte=Pee("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function cte(t){return Lee({props:t,name:"MuiStack",defaultTheme:ate})}function ute(t,e){const n=v.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(v.cloneElement(e,{key:`separator-${s}`})),r),[])}const dte=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],hte=({ownerState:t,theme:e})=>{let n=M({display:"flex",flexDirection:"column"},$r({theme:e},sl({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=HE(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=sl({values:t.direction,base:i}),o=sl({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const f=c>0?s[u[c-1]]:"column";s[l]=f}}),n=wr(n,$r({theme:e},o,(l,c)=>t.useFlexGap?{gap:Al(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${dte(c?s[c]:t.direction)}`]:Al(r,l)}}))}return n=fZ(e.breakpoints,n),n};function fte(t={}){const{createStyledComponent:e=lte,useThemeProps:n=cte,componentName:r="MuiStack"}=t,i=()=>Ze({root:["root"]},l=>Ye(r,l),{}),s=e(hte);return v.forwardRef(function(l,c){const u=n(l),d=e0(u),{component:f="div",direction:p="column",spacing:m=0,divider:y,children:x,className:g,useFlexGap:w=!1}=d,_=he(d,ote),I={direction:p,spacing:m,useFlexGap:w},T=i();return h.jsx(s,M({as:f,ownerState:I,ref:c,className:xe(T.root,g)},_,{children:y?ute(x,y):x}))})}function pte(t,e){return M({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var an={},E7={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(E7);var I7=E7.exports;const mte=ua(sJ),gte=ua(Oee);var b7=I7;Object.defineProperty(an,"__esModule",{value:!0});var _i=an.alpha=k7;an.blend=Rte;an.colorChannel=void 0;var C7=an.darken=e5;an.decomposeColor=Ri;var vte=an.emphasize=P7,yte=an.getContrastRatio=Ite;an.getLuminance=Km;an.hexToRgb=S7;an.hslToRgb=A7;var T7=an.lighten=t5;an.private_safeAlpha=bte;an.private_safeColorChannel=void 0;an.private_safeDarken=Cte;an.private_safeEmphasize=Ste;an.private_safeLighten=Tte;an.recomposeColor=Hu;an.rgbToHex=Ete;var rS=b7(mte),_te=b7(gte);function ZE(t,e=0,n=1){return(0,_te.default)(t,e,n)}function S7(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function wte(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Ri(t){if(t.type)return t;if(t.charAt(0)==="#")return Ri(S7(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,rS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,rS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const R7=t=>{const e=Ri(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};an.colorChannel=R7;const xte=(t,e)=>{try{return R7(t)}catch{return t}};an.private_safeColorChannel=xte;function Hu(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Ete(t){if(t.indexOf("#")===0)return t;const{values:e}=Ri(t);return`#${e.map((n,r)=>wte(r===3?Math.round(255*n):n)).join("")}`}function A7(t){t=Ri(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Hu({type:a,values:l})}function Km(t){t=Ri(t);let e=t.type==="hsl"||t.type==="hsla"?Ri(A7(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ite(t,e){const n=Km(t),r=Km(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function k7(t,e){return t=Ri(t),e=ZE(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hu(t)}function bte(t,e,n){try{return k7(t,e)}catch{return t}}function e5(t,e){if(t=Ri(t),e=ZE(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hu(t)}function Cte(t,e,n){try{return e5(t,e)}catch{return t}}function t5(t,e){if(t=Ri(t),e=ZE(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hu(t)}function Tte(t,e,n){try{return t5(t,e)}catch{return t}}function P7(t,e=.15){return Km(t)>.5?e5(t,e):t5(t,e)}function Ste(t,e,n){try{return P7(t,e)}catch{return t}}function Rte(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Ri(t),o=Ri(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Hu({type:"rgb",values:a})}const Ate=["mode","contrastThreshold","tonalOffset"],iS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rf.white,default:rf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vv={text:{primary:rf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function sS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=T7(t.main,i):e==="dark"&&(t.dark=C7(t.main,s)))}function kte(t="light"){return t==="dark"?{main:rc[200],light:rc[50],dark:rc[400]}:{main:rc[700],light:rc[400],dark:rc[800]}}function Pte(t="light"){return t==="dark"?{main:nc[200],light:nc[50],dark:nc[400]}:{main:nc[500],light:nc[300],dark:nc[700]}}function Nte(t="light"){return t==="dark"?{main:tc[500],light:tc[300],dark:tc[700]}:{main:tc[700],light:tc[400],dark:tc[800]}}function Lte(t="light"){return t==="dark"?{main:ic[400],light:ic[300],dark:ic[700]}:{main:ic[700],light:ic[500],dark:ic[900]}}function Dte(t="light"){return t==="dark"?{main:sc[400],light:sc[300],dark:sc[700]}:{main:sc[800],light:sc[500],dark:sc[900]}}function Ote(t="light"){return t==="dark"?{main:_d[400],light:_d[300],dark:_d[700]}:{main:"#ed6c02",light:_d[500],dark:_d[900]}}function Mte(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=he(t,Ate),s=t.primary||kte(e),o=t.secondary||Pte(e),a=t.error||Nte(e),l=t.info||Lte(e),c=t.success||Dte(e),u=t.warning||Ote(e);function d(y){return yte(y,Vv.text.primary)>=n?Vv.text.primary:iS.text.primary}const f=({color:y,name:x,mainShade:g=500,lightShade:w=300,darkShade:_=700})=>{if(y=M({},y),!y.main&&y[g]&&(y.main=y[g]),!y.hasOwnProperty("main"))throw new Error(io(11,x?` (${x})`:"",g));if(typeof y.main!="string")throw new Error(io(12,x?` (${x})`:"",JSON.stringify(y.main)));return sS(y,"light",w,r),sS(y,"dark",_,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:Vv,light:iS};return wr(M({common:M({},rf),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:iJ,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const $te=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function jte(t){return Math.round(t*1e5)/1e5}const oS={textTransform:"uppercase"},aS='"Roboto", "Helvetica", "Arial", sans-serif';function Fte(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=aS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=he(n,$te),p=i/14,m=d||(g=>`${g/c*p}rem`),y=(g,w,_,I,T)=>M({fontFamily:r,fontWeight:g,fontSize:m(w),lineHeight:_},r===aS?{letterSpacing:`${jte(I/w)}em`}:{},T,u),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,oS),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,oS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wr(M({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),f,{clone:!1})}const Vte=.2,Ute=.14,zte=.12;function jt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Vte})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Ute})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${zte})`].join(",")}const Bte=["none",jt(0,2,1,-1,0,1,1,0,0,1,3,0),jt(0,3,1,-2,0,2,2,0,0,1,5,0),jt(0,3,3,-2,0,3,4,0,0,1,8,0),jt(0,2,4,-1,0,4,5,0,0,1,10,0),jt(0,3,5,-1,0,5,8,0,0,1,14,0),jt(0,3,5,-1,0,6,10,0,0,1,18,0),jt(0,4,5,-2,0,7,10,1,0,2,16,1),jt(0,5,5,-3,0,8,10,1,0,3,14,2),jt(0,5,6,-3,0,9,12,1,0,3,16,2),jt(0,6,6,-3,0,10,14,1,0,4,18,3),jt(0,6,7,-4,0,11,15,1,0,4,20,3),jt(0,7,8,-4,0,12,17,2,0,5,22,4),jt(0,7,8,-4,0,13,19,2,0,5,24,4),jt(0,7,9,-4,0,14,21,2,0,5,26,4),jt(0,8,9,-5,0,15,22,2,0,6,28,5),jt(0,8,10,-5,0,16,24,2,0,6,30,5),jt(0,8,11,-5,0,17,26,2,0,6,32,5),jt(0,9,11,-5,0,18,28,2,0,7,34,6),jt(0,9,12,-6,0,19,29,2,0,7,36,6),jt(0,10,13,-6,0,20,31,3,0,8,38,7),jt(0,10,13,-6,0,21,33,3,0,8,40,7),jt(0,10,14,-6,0,22,35,3,0,8,42,7),jt(0,11,14,-7,0,23,36,3,0,9,44,8),jt(0,11,15,-7,0,24,38,3,0,9,46,8)],Wte=Bte,Hte=["duration","easing","delay"],qte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Gte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lS(t){return`${Math.round(t)}ms`}function Kte(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Qte(t){const e=M({},qte,t.easing),n=M({},Gte,t.duration);return M({getAutoHeightDuration:Kte,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return he(s,Hte),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:lS(o)} ${a} ${typeof l=="string"?l:lS(l)}`).join(",")}},t,{easing:e,duration:n})}const Yte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xte=Yte,Jte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function N7(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=he(t,Jte);if(t.vars)throw new Error(io(18));const a=Mte(r),l=Zf(t);let c=wr(l,{mixins:pte(l.breakpoints,n),palette:a,shadows:Wte.slice(),typography:Fte(a,s),transitions:Qte(i),zIndex:M({},Xte)});return c=wr(c,o),c=e.reduce((u,d)=>wr(u,d),c),c.unstable_sxConfig=M({},Xf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Jf({sx:d,theme:this})},c}function Zte(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function ene(t){return parseFloat(t)}const tne=N7(),n5=tne;function xa(){const t=Xg(n5);return t[kg]||t}var t0={},Uv={exports:{}},cS;function nne(){return cS||(cS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Uv)),Uv.exports}const rne=ua(aZ),ine=ua(lZ),sne=ua(mZ),one=ua(wee),ane=ua(ree),lne=ua(uee);var qu=I7;Object.defineProperty(t0,"__esModule",{value:!0});var cne=t0.default=Ene;t0.shouldForwardProp=Sp;t0.systemDefaultTheme=void 0;var li=qu(n7()),_w=qu(nne()),uS=gne(rne),une=ine;qu(sne);qu(one);var dne=qu(ane),hne=qu(lne);const fne=["ownerState"],pne=["variants"],mne=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function L7(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(L7=function(r){return r?n:e})(t)}function gne(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=L7(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function vne(t){return Object.keys(t).length===0}function yne(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Sp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const _ne=t0.systemDefaultTheme=(0,dne.default)(),wne=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function z0({defaultTheme:t,theme:e,themeId:n}){return vne(e)?t:e[n]||e}function xne(t){return t?(e,n)=>n[t]:null}function Rp(t,e){let{ownerState:n}=e,r=(0,_w.default)(e,fne);const i=typeof t=="function"?t((0,li.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Rp(s,(0,li.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,_w.default)(i,pne);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,li.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,li.default)({ownerState:n},r,n)):l.style))}),a}return i}function Ene(t={}){const{themeId:e,defaultTheme:n=_ne,rootShouldForwardProp:r=Sp,slotShouldForwardProp:i=Sp}=t,s=o=>(0,hne.default)((0,li.default)({},o,{theme:z0((0,li.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,uS.internal_processStyles)(o,T=>T.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=xne(wne(c))}=a,p=(0,_w.default)(a,mne),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,g=Sp;c==="Root"||c==="root"?g=r:c?g=i:yne(o)&&(g=void 0);const w=(0,uS.default)(o,(0,li.default)({shouldForwardProp:g,label:x},p)),_=T=>typeof T=="function"&&T.__emotion_real!==T||(0,une.isPlainObject)(T)?E=>Rp(T,(0,li.default)({},E,{theme:z0({theme:E.theme,defaultTheme:n,themeId:e})})):T,I=(T,...E)=>{let C=_(T);const b=E?E.map(_):[];l&&f&&b.push(A=>{const N=z0((0,li.default)({},A,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const O=N.components[l].styleOverrides,L={};return Object.entries(O).forEach(([$,P])=>{L[$]=Rp(P,(0,li.default)({},A,{theme:N}))}),f(A,L)}),l&&!m&&b.push(A=>{var N;const O=z0((0,li.default)({},A,{defaultTheme:n,themeId:e})),L=O==null||(N=O.components)==null||(N=N[l])==null?void 0:N.variants;return Rp({variants:L},(0,li.default)({},A,{theme:O}))}),y||b.push(s);const R=b.length-E.length;if(Array.isArray(T)&&R>0){const A=new Array(R).fill("");C=[...T,...A],C.raw=[...T.raw,...A]}const S=w(C,...b);return o.muiName&&(S.muiName=o.muiName),S};return w.withConfig&&(I.withConfig=w.withConfig),I}}function D7(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ine=t=>D7(t)&&t!=="classes",Fr=Ine,bne=cne({themeId:kg,defaultTheme:n5,rootShouldForwardProp:Fr}),ae=bne,Cne=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},dS=Cne;function Xe(t){return ste(t)}function Tne(t){return Ye("MuiSvgIcon",t)}We("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Sne=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Rne=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${se(e)}`,`fontSize${se(n)}`]};return Ze(i,Tne,r)},Ane=ae("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${se(n.color)}`],e[`fontSize${se(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),O7=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=he(r,Sne),m=v.isValidElement(i)&&i.type==="svg",y=M({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m}),x={};u||(x.viewBox=f);const g=Rne(y);return h.jsxs(Ane,M({as:a,className:xe(g.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},x,p,m&&i.props,{ownerState:y,children:[m?i.props.children:i,d?h.jsx("title",{children:d}):null]}))});O7.muiName="SvgIcon";const hS=O7;function kne(t,e){function n(r,i){return h.jsx(hS,M({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=hS.muiName,v.memo(v.forwardRef(n))}var Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=Symbol.for("react.element"),i5=Symbol.for("react.portal"),u1=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),h1=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),Pne=Symbol.for("react.server_context"),m1=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),v1=Symbol.for("react.suspense_list"),y1=Symbol.for("react.memo"),_1=Symbol.for("react.lazy"),Nne=Symbol.for("react.offscreen"),M7;M7=Symbol.for("react.module.reference");function Ni(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case r5:switch(t=t.type,t){case u1:case h1:case d1:case g1:case v1:return t;default:switch(t=t&&t.$$typeof,t){case Pne:case p1:case m1:case _1:case y1:case f1:return t;default:return e}}case i5:return e}}}Ct.ContextConsumer=p1;Ct.ContextProvider=f1;Ct.Element=r5;Ct.ForwardRef=m1;Ct.Fragment=u1;Ct.Lazy=_1;Ct.Memo=y1;Ct.Portal=i5;Ct.Profiler=h1;Ct.StrictMode=d1;Ct.Suspense=g1;Ct.SuspenseList=v1;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(t){return Ni(t)===p1};Ct.isContextProvider=function(t){return Ni(t)===f1};Ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r5};Ct.isForwardRef=function(t){return Ni(t)===m1};Ct.isFragment=function(t){return Ni(t)===u1};Ct.isLazy=function(t){return Ni(t)===_1};Ct.isMemo=function(t){return Ni(t)===y1};Ct.isPortal=function(t){return Ni(t)===i5};Ct.isProfiler=function(t){return Ni(t)===h1};Ct.isStrictMode=function(t){return Ni(t)===d1};Ct.isSuspense=function(t){return Ni(t)===g1};Ct.isSuspenseList=function(t){return Ni(t)===v1};Ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u1||t===h1||t===d1||t===g1||t===v1||t===Nne||typeof t=="object"&&t!==null&&(t.$$typeof===_1||t.$$typeof===y1||t.$$typeof===f1||t.$$typeof===p1||t.$$typeof===m1||t.$$typeof===M7||t.getModuleId!==void 0)};Ct.typeOf=Ni;function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ww(t,e)}function $7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ww(t,e)}const fS={disabled:!1},Qm=fr.createContext(null);var Lne=function(e){return e.scrollTop},jd="unmounted",Da="exited",Oa="entering",hc="entered",xw="exiting",mo=function(t){$7(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Da,s.appearStatus=Oa):l=hc:r.unmountOnExit||r.mountOnEnter?l=jd:l=Da,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===jd?{status:Da}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Oa&&o!==hc&&(s=Oa):(o===Oa||o===hc)&&(s=xw)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Oa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:I0.findDOMNode(this);o&&Lne(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Da&&this.setState({status:jd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[I0.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||fS.disabled){this.safeSetState({status:hc},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Oa},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:hc},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:I0.findDOMNode(this);if(!s||fS.disabled){this.safeSetState({status:Da},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:xw},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Da},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:I0.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=he(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fr.createElement(Qm.Provider,{value:null},typeof o=="function"?o(i,a):fr.cloneElement(fr.Children.only(o),a))},e}(fr.Component);mo.contextType=Qm;mo.propTypes={};function oc(){}mo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oc,onEntering:oc,onEntered:oc,onExit:oc,onExiting:oc,onExited:oc};mo.UNMOUNTED=jd;mo.EXITED=Da;mo.ENTERING=Oa;mo.ENTERED=hc;mo.EXITING=xw;const s5=mo;function Dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o5(t,e){var n=function(s){return e&&v.isValidElement(s)?e(s):s},r=Object.create(null);return t&&v.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function One(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Qa(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Mne(t,e){return o5(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Qa(n,"appear",t),enter:Qa(n,"enter",t),exit:Qa(n,"exit",t)})})}function $ne(t,e,n){var r=o5(t.children),i=One(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(v.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Qa(o,"exit",t),enter:Qa(o,"enter",t)}):!l&&a&&!u?i[s]=v.cloneElement(o,{in:!1}):l&&a&&v.isValidElement(c)&&(i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Qa(o,"exit",t),enter:Qa(o,"enter",t)}))}}),i}var jne=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Fne={component:"div",childFactory:function(e){return e}},a5=function(t){$7(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Dne(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Mne(i,a):$ne(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=o5(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=M({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=he(i,["component","childFactory"]),l=this.state.contextValue,c=jne(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?fr.createElement(Qm.Provider,{value:l},c):fr.createElement(Qm.Provider,{value:l},fr.createElement(s,a,c))},e}(fr.Component);a5.propTypes={};a5.defaultProps=Fne;const Vne=a5,l5=t=>t.scrollTop;function Pl(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Une(t){return Ye("MuiPaper",t)}We("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const zne=["className","component","elevation","square","variant"],Bne=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ze(s,Une,i)},Wne=ae("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return M({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&M({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${_i("#fff",dS(e.elevation))}, ${_i("#fff",dS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Hne=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=he(r,zne),u=M({},r,{component:s,elevation:o,square:a,variant:l}),d=Bne(u);return h.jsx(Wne,M({as:s,ownerState:u,className:xe(d.root,i),ref:n},c))}),Gu=Hne;function qne(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=v.useState(!1),f=xe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=xe(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),h.jsx("span",{className:f,style:p,children:h.jsx("span",{className:m})})}const Gne=We("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ci=Gne,Kne=["center","classes","className"];let w1=t=>t,pS,mS,gS,vS;const Ew=550,Qne=80,Yne=es(pS||(pS=w1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Xne=es(mS||(mS=w1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Jne=es(gS||(gS=w1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Zne=ae("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ere=ae(qne,{name:"MuiTouchRipple",slot:"Ripple"})(vS||(vS=w1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ci.rippleVisible,Yne,Ew,({theme:t})=>t.transitions.easing.easeInOut,ci.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ci.child,ci.childLeaving,Xne,Ew,({theme:t})=>t.transitions.easing.easeInOut,ci.childPulsate,Jne,({theme:t})=>t.transitions.easing.easeInOut),tre=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=he(r,Kne),[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=v.useRef(!1),p=XE(),m=v.useRef(null),y=v.useRef(null),x=v.useCallback(I=>{const{pulsate:T,rippleX:E,rippleY:C,rippleSize:b,cb:R}=I;c(S=>[...S,h.jsx(ere,{classes:{ripple:xe(s.ripple,ci.ripple),rippleVisible:xe(s.rippleVisible,ci.rippleVisible),ripplePulsate:xe(s.ripplePulsate,ci.ripplePulsate),child:xe(s.child,ci.child),childLeaving:xe(s.childLeaving,ci.childLeaving),childPulsate:xe(s.childPulsate,ci.childPulsate)},timeout:Ew,pulsate:T,rippleX:E,rippleY:C,rippleSize:b},u.current)]),u.current+=1,d.current=R},[s]),g=v.useCallback((I={},T={},E=()=>{})=>{const{pulsate:C=!1,center:b=i||T.pulsate,fakeElement:R=!1}=T;if((I==null?void 0:I.type)==="mousedown"&&f.current){f.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(f.current=!0);const S=R?null:y.current,A=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,O,L;if(b||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)N=Math.round(A.width/2),O=Math.round(A.height/2);else{const{clientX:$,clientY:P}=I.touches&&I.touches.length>0?I.touches[0]:I;N=Math.round($-A.left),O=Math.round(P-A.top)}if(b)L=Math.sqrt((2*A.width**2+A.height**2)/3),L%2===0&&(L+=1);else{const $=Math.max(Math.abs((S?S.clientWidth:0)-N),N)*2+2,P=Math.max(Math.abs((S?S.clientHeight:0)-O),O)*2+2;L=Math.sqrt($**2+P**2)}I!=null&&I.touches?m.current===null&&(m.current=()=>{x({pulsate:C,rippleX:N,rippleY:O,rippleSize:L,cb:E})},p.start(Qne,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:C,rippleX:N,rippleY:O,rippleSize:L,cb:E})},[i,x,p]),w=v.useCallback(()=>{g({},{pulsate:!0})},[g]),_=v.useCallback((I,T)=>{if(p.clear(),(I==null?void 0:I.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(I,T)});return}m.current=null,c(E=>E.length>0?E.slice(1):E),d.current=T},[p]);return v.useImperativeHandle(n,()=>({pulsate:w,start:g,stop:_}),[w,g,_]),h.jsx(Zne,M({className:xe(ci.root,s.root,o),ref:y},a,{children:h.jsx(Vne,{component:null,exit:!0,children:l})}))}),nre=tre;function rre(t){return Ye("MuiButtonBase",t)}const ire=We("MuiButtonBase",["root","disabled","focusVisible"]),sre=ire,ore=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],are=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ze({root:["root",e&&"disabled",n&&"focusVisible"]},rre,i);return n&&r&&(o.root+=` ${r}`),o},lre=ae("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${sre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),cre=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:m,onClick:y,onContextMenu:x,onDragLeave:g,onFocus:w,onFocusVisible:_,onKeyDown:I,onKeyUp:T,onMouseDown:E,onMouseLeave:C,onMouseUp:b,onTouchEnd:R,onTouchMove:S,onTouchStart:A,tabIndex:N=0,TouchRippleProps:O,touchRippleRef:L,type:$}=r,P=he(r,ore),k=v.useRef(null),D=v.useRef(null),j=Nn(D,L),{isFocusVisibleRef:F,onFocus:G,onBlur:W,ref:B}=Xee(),[U,V]=v.useState(!1);c&&U&&V(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),k.current.focus()}}),[]);const[q,oe]=v.useState(!1);v.useEffect(()=>{oe(!0)},[]);const ce=q&&!u&&!c;v.useEffect(()=>{U&&f&&!u&&q&&D.current.pulsate()},[u,f,U,q]);function ee(ve,St,ln=d){return yi(cn=>(St&&St(cn),!ln&&D.current&&D.current[ve](cn),!0))}const me=ee("start",E),le=ee("stop",x),ie=ee("stop",g),ye=ee("stop",b),Pe=ee("stop",ve=>{U&&ve.preventDefault(),C&&C(ve)}),Se=ee("start",A),wt=ee("stop",R),je=ee("stop",S),Me=ee("stop",ve=>{W(ve),F.current===!1&&V(!1),m&&m(ve)},!1),rt=yi(ve=>{k.current||(k.current=ve.currentTarget),G(ve),F.current===!0&&(V(!0),_&&_(ve)),w&&w(ve)}),it=()=>{const ve=k.current;return l&&l!=="button"&&!(ve.tagName==="A"&&ve.href)},Re=v.useRef(!1),kt=yi(ve=>{f&&!Re.current&&U&&D.current&&ve.key===" "&&(Re.current=!0,D.current.stop(ve,()=>{D.current.start(ve)})),ve.target===ve.currentTarget&&it()&&ve.key===" "&&ve.preventDefault(),I&&I(ve),ve.target===ve.currentTarget&&it()&&ve.key==="Enter"&&!c&&(ve.preventDefault(),y&&y(ve))}),He=yi(ve=>{f&&ve.key===" "&&D.current&&U&&!ve.defaultPrevented&&(Re.current=!1,D.current.stop(ve,()=>{D.current.pulsate(ve)})),T&&T(ve),y&&ve.target===ve.currentTarget&&it()&&ve.key===" "&&!ve.defaultPrevented&&y(ve)});let Ie=l;Ie==="button"&&(P.href||P.to)&&(Ie=p);const Tt={};Ie==="button"?(Tt.type=$===void 0?"button":$,Tt.disabled=c):(!P.href&&!P.to&&(Tt.role="button"),c&&(Tt["aria-disabled"]=c));const nn=Nn(n,B,k),Gn=M({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:N,focusVisible:U}),Ae=are(Gn);return h.jsxs(lre,M({as:Ie,className:xe(Ae.root,a),ownerState:Gn,onBlur:Me,onClick:y,onContextMenu:le,onFocus:rt,onKeyDown:kt,onKeyUp:He,onMouseDown:me,onMouseLeave:Pe,onMouseUp:ye,onDragLeave:ie,onTouchEnd:wt,onTouchMove:je,onTouchStart:Se,ref:nn,tabIndex:c?-1:N,type:$},Tt,P,{children:[o,ce?h.jsx(nre,M({ref:j,center:s},O)):null]}))}),c5=cre;function ure(t){return Ye("MuiIconButton",t)}const dre=We("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),hre=dre,fre=["edge","children","className","color","disabled","disableFocusRipple","size"],pre=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${se(r)}`,i&&`edge${se(i)}`,`size${se(s)}`]};return Ze(o,ure,e)},mre=ae(c5,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${se(n.color)}`],n.edge&&e[`edge${se(n.edge)}`],e[`size${se(n.size)}`]]}})(({theme:t,ownerState:e})=>M({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_i(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return M({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&M({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":M({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_i(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${hre.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),gre=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=he(r,fre),f=M({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=pre(f);return h.jsx(mre,M({className:xe(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:f,children:s}))}),kn=gre;function vre(t){return Ye("MuiTypography",t)}We("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const yre=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],_re=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${se(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ze(a,vre,o)},wre=ae("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${se(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>M({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),yS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xre={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ere=t=>xre[t]||t,Ire=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiTypography"}),i=Ere(r.color),s=e0(M({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=yS}=s,m=he(s,yre),y=M({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),x=l||(d?"p":p[f]||yS[f])||"span",g=_re(y);return h.jsx(wre,M({as:x,ref:n,ownerState:y,className:xe(g.root,a)},m))}),Et=Ire;function bre(t){return Ye("MuiAppBar",t)}We("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Cre=["className","color","enableColorOnDark","position"],Tre=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${se(e)}`,`position${se(n)}`]};return Ze(i,bre,r)},B0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Sre=ae(Gu,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${se(n.position)}`],e[`color${se(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return M({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&M({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&M({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&M({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:B0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:B0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:B0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:B0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Rre=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=he(r,Cre),c=M({},r,{color:s,position:a,enableColorOnDark:o}),u=Tre(c);return h.jsx(Sre,M({square:!0,component:"header",ownerState:c,elevation:4,className:xe(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),j7=Rre;function Are(t){return typeof t=="function"?t():t}const kre=v.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=v.useState(null),l=Nn(v.isValidElement(r)?r.ref:null,n);if(Ts(()=>{s||a(Are(i)||document.body)},[i,s]),Ts(()=>{if(o&&!s)return vw(n,o),()=>{vw(n,null)}},[n,o,s]),s){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return h.jsx(v.Fragment,{children:r})}return h.jsx(v.Fragment,{children:o&&Ph.createPortal(r,o)})}),Pre=kre,Nre=["onChange","maxRows","minRows","style","value"];function W0(t){return parseInt(t,10)||0}const Lre={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Dre(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const Ore=v.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=he(e,Nre),{current:c}=v.useRef(a!=null),u=v.useRef(null),d=Nn(n,u),f=v.useRef(null),p=v.useRef(null),m=v.useCallback(()=>{const g=u.current,_=Qr(g).getComputedStyle(g);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const I=p.current;I.style.width=_.width,I.value=g.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const T=_.boxSizing,E=W0(_.paddingBottom)+W0(_.paddingTop),C=W0(_.borderBottomWidth)+W0(_.borderTopWidth),b=I.scrollHeight;I.value="x";const R=I.scrollHeight;let S=b;s&&(S=Math.max(Number(s)*R,S)),i&&(S=Math.min(Number(i)*R,S)),S=Math.max(S,R);const A=S+(T==="border-box"?E+C:0),N=Math.abs(S-b)<=1;return{outerHeightStyle:A,overflowing:N}},[i,s,e.placeholder]),y=v.useCallback(()=>{const g=m();if(Dre(g))return;const w=g.outerHeightStyle,_=u.current;f.current!==w&&(f.current=w,_.style.height=`${w}px`),_.style.overflow=g.overflowing?"hidden":""},[m]);Ts(()=>{const g=()=>{y()};let w;const _=QE(g),I=u.current,T=Qr(I);T.addEventListener("resize",_);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(g),E.observe(I)),()=>{_.clear(),cancelAnimationFrame(w),T.removeEventListener("resize",_),E&&E.disconnect()}},[m,y]),Ts(()=>{y()});const x=g=>{c||y(),r&&r(g)};return h.jsxs(v.Fragment,{children:[h.jsx("textarea",M({value:a,onChange:x,ref:d,rows:s,style:o},l)),h.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:M({},Lre.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Mre=Ore;function Ku({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const $re=v.createContext(void 0),u5=$re;function Qu(){return v.useContext(u5)}function jre(t){return h.jsx(aee,M({},t,{defaultTheme:n5,themeId:kg}))}function _S(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Ym(t,e=!1){return t&&(_S(t.value)&&t.value!==""||e&&_S(t.defaultValue)&&t.defaultValue!=="")}function Fre(t){return t.startAdornment}function Vre(t){return Ye("MuiInputBase",t)}const Ure=We("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),yu=Ure,zre=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],x1=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${se(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},E1=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Bre=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:m}=t,y={root:["root",`color${se(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${se(f)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ze(y,Vre,e)},I1=ae("div",{name:"MuiInputBase",slot:"Root",overridesResolver:x1})(({theme:t,ownerState:e})=>M({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${yu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&M({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),b1=ae("input",{name:"MuiInputBase",slot:"Input",overridesResolver:E1})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=M({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return M({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${yu.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${yu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Wre=h.jsx(jre,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Hre=v.forwardRef(function(e,n){var r;const i=Xe({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:y=!1,id:x,inputComponent:g="input",inputProps:w={},inputRef:_,maxRows:I,minRows:T,multiline:E=!1,name:C,onBlur:b,onChange:R,onClick:S,onFocus:A,onKeyDown:N,onKeyUp:O,placeholder:L,readOnly:$,renderSuffix:P,rows:k,slotProps:D={},slots:j={},startAdornment:F,type:G="text",value:W}=i,B=he(i,zre),U=w.value!=null?w.value:W,{current:V}=v.useRef(U!=null),q=v.useRef(),oe=v.useCallback(Ae=>{},[]),ce=Nn(q,_,w.ref,oe),[ee,me]=v.useState(!1),le=Qu(),ie=Ku({props:i,muiFormControl:le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=le?le.focused:ee,v.useEffect(()=>{!le&&f&&ee&&(me(!1),b&&b())},[le,f,ee,b]);const ye=le&&le.onFilled,Pe=le&&le.onEmpty,Se=v.useCallback(Ae=>{Ym(Ae)?ye&&ye():Pe&&Pe()},[ye,Pe]);Ts(()=>{V&&Se({value:U})},[U,Se,V]);const wt=Ae=>{if(ie.disabled){Ae.stopPropagation();return}A&&A(Ae),w.onFocus&&w.onFocus(Ae),le&&le.onFocus?le.onFocus(Ae):me(!0)},je=Ae=>{b&&b(Ae),w.onBlur&&w.onBlur(Ae),le&&le.onBlur?le.onBlur(Ae):me(!1)},Me=(Ae,...ve)=>{if(!V){const St=Ae.target||q.current;if(St==null)throw new Error(io(1));Se({value:St.value})}w.onChange&&w.onChange(Ae,...ve),R&&R(Ae,...ve)};v.useEffect(()=>{Se(q.current)},[]);const rt=Ae=>{q.current&&Ae.currentTarget===Ae.target&&q.current.focus(),S&&S(Ae)};let it=g,Re=w;E&&it==="input"&&(k?Re=M({type:void 0,minRows:k,maxRows:k},Re):Re=M({type:void 0,maxRows:I,minRows:T},Re),it=Mre);const kt=Ae=>{Se(Ae.animationName==="mui-auto-fill-cancel"?q.current:{value:"x"})};v.useEffect(()=>{le&&le.setAdornedStart(!!F)},[le,F]);const He=M({},i,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:m,error:ie.error,focused:ie.focused,formControl:le,fullWidth:y,hiddenLabel:ie.hiddenLabel,multiline:E,size:ie.size,startAdornment:F,type:G}),Ie=Bre(He),Tt=j.root||c.Root||I1,nn=D.root||u.root||{},Gn=j.input||c.Input||b1;return Re=M({},Re,(r=D.input)!=null?r:u.input),h.jsxs(v.Fragment,{children:[!p&&Wre,h.jsxs(Tt,M({},nn,!qm(Tt)&&{ownerState:M({},He,nn.ownerState)},{ref:n,onClick:rt},B,{className:xe(Ie.root,nn.className,l,$&&"MuiInputBase-readOnly"),children:[F,h.jsx(u5.Provider,{value:null,children:h.jsx(Gn,M({ownerState:He,"aria-invalid":ie.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ie.disabled,id:x,onAnimationStart:kt,name:C,placeholder:L,readOnly:$,required:ie.required,rows:k,value:U,onKeyDown:N,onKeyUp:O,type:G},Re,!qm(Gn)&&{as:it,ownerState:M({},He,Re.ownerState)},{ref:ce,className:xe(Ie.input,Re.className,$&&"MuiInputBase-readOnly"),onBlur:je,onChange:Me,onFocus:wt}))}),m,P?P(M({},ie,{startAdornment:F})):null]}))]})}),d5=Hre;function qre(t){return Ye("MuiInput",t)}const Gre=M({},yu,We("MuiInput",["root","underline","input"])),xd=Gre;function Kre(t){return Ye("MuiOutlinedInput",t)}const Qre=M({},yu,We("MuiOutlinedInput",["root","notchedOutline","input"])),wo=Qre;function Yre(t){return Ye("MuiFilledInput",t)}const Xre=M({},yu,We("MuiFilledInput",["root","underline","input"])),Sa=Xre,Jre=kne(h.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Zre=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],eie={entering:{opacity:1},entered:{opacity:1}},tie=v.forwardRef(function(e,n){const r=xa(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:x,timeout:g=i,TransitionComponent:w=s5}=e,_=he(e,Zre),I=v.useRef(null),T=Nn(I,a.ref,n),E=L=>$=>{if(L){const P=I.current;$===void 0?L(P):L(P,$)}},C=E(f),b=E((L,$)=>{l5(L);const P=Pl({style:x,timeout:g,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",P),L.style.transition=r.transitions.create("opacity",P),u&&u(L,$)}),R=E(d),S=E(y),A=E(L=>{const $=Pl({style:x,timeout:g,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",$),L.style.transition=r.transitions.create("opacity",$),p&&p(L)}),N=E(m),O=L=>{s&&s(I.current,L)};return h.jsx(w,M({appear:o,in:c,nodeRef:I,onEnter:b,onEntered:R,onEntering:C,onExit:A,onExited:N,onExiting:S,addEndListener:O,timeout:g},_,{children:(L,$)=>v.cloneElement(a,M({style:M({opacity:0,visibility:L==="exited"&&!c?"hidden":void 0},eie[L],x,a.props.style),ref:T},$))}))}),F7=tie;function nie(t){return Ye("MuiBackdrop",t)}We("MuiBackdrop",["root","invisible"]);const rie=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],iie=t=>{const{classes:e,invisible:n}=t;return Ze({root:["root",n&&"invisible"]},nie,e)},sie=ae("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>M({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),oie=v.forwardRef(function(e,n){var r,i,s;const o=Xe({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:p,slotProps:m={},slots:y={},TransitionComponent:x=F7,transitionDuration:g}=o,w=he(o,rie),_=M({},o,{component:c,invisible:f}),I=iie(_),T=(r=m.root)!=null?r:d.root;return h.jsx(x,M({in:p,timeout:g},w,{children:h.jsx(sie,M({"aria-hidden":!0},T,{as:(i=(s=y.root)!=null?s:u.Root)!=null?i:c,className:xe(I.root,l,T==null?void 0:T.className),ownerState:M({},_,T==null?void 0:T.ownerState),classes:I,ref:n,children:a}))}))}),V7=oie,aie=We("MuiBox",["root"]),lie=aie,cie=N7(),uie=pee({themeId:kg,defaultTheme:cie,defaultClassName:lie.root,generateClassName:f7.generate}),Ue=uie;function die(t){return Ye("MuiButton",t)}const hie=We("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),H0=hie,fie=v.createContext({}),pie=fie,mie=v.createContext(void 0),gie=mie,vie=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],yie=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${se(e)}`,`size${se(i)}`,`${s}Size${se(i)}`,`color${se(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${se(i)}`],endIcon:["icon","endIcon",`iconSize${se(i)}`]},l=Ze(a,die,o);return M({},o,l)},U7=t=>M({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),_ie=ae(c5,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${se(n.color)}`],e[`size${se(n.size)}`],e[`${n.variant}Size${se(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return M({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":M({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_i(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_i(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_i(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":M({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${H0.focusVisible}`]:M({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${H0.disabled}`]:M({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${_i(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${H0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${H0.disabled}`]:{boxShadow:"none"}}),wie=ae("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>M({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},U7(t))),xie=ae("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>M({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},U7(t))),Eie=v.forwardRef(function(e,n){const r=v.useContext(pie),i=v.useContext(gie),s=lf(r,e),o=Xe({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:x=!1,size:g="medium",startIcon:w,type:_,variant:I="text"}=o,T=he(o,vie),E=M({},o,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:x,size:g,type:_,variant:I}),C=yie(E),b=w&&h.jsx(wie,{className:C.startIcon,ownerState:E,children:w}),R=m&&h.jsx(xie,{className:C.endIcon,ownerState:E,children:m}),S=i||"";return h.jsxs(_ie,M({ownerState:E,className:xe(r.className,C.root,u,S),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:xe(C.focusVisible,y),ref:n,type:_},T,{classes:C,children:[b,a,R]}))}),Oe=Eie;function Iie(t){return Ye("MuiCircularProgress",t)}We("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const bie=["className","color","disableShrink","size","style","thickness","value","variant"];let C1=t=>t,wS,xS,ES,IS;const xo=44,Cie=es(wS||(wS=C1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Tie=es(xS||(xS=C1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Sie=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${se(r)}`],svg:["svg"],circle:["circle",`circle${se(n)}`,i&&"circleDisableShrink"]};return Ze(s,Iie,e)},Rie=ae("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${se(n.color)}`]]}})(({ownerState:t,theme:e})=>M({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&so(ES||(ES=C1`
      animation: ${0} 1.4s linear infinite;
    `),Cie)),Aie=ae("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),kie=ae("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${se(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>M({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&so(IS||(IS=C1`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Tie)),Pie=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=he(r,bie),p=M({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),m=Sie(p),y={},x={},g={};if(d==="determinate"){const w=2*Math.PI*((xo-c)/2);y.strokeDasharray=w.toFixed(3),g["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return h.jsx(Rie,M({className:xe(m.root,i),style:M({width:a,height:a},x,l),ownerState:p,ref:n,role:"progressbar"},g,f,{children:h.jsx(Aie,{className:m.svg,ownerState:p,viewBox:`${xo/2} ${xo/2} ${xo} ${xo}`,children:h.jsx(kie,{className:m.circle,style:y,ownerState:p,cx:xo,cy:xo,r:(xo-c)/2,fill:"none",strokeWidth:c})})}))}),Nie=Pie;function bS(t){return t.substring(2).toLowerCase()}function Lie(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Die(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=v.useRef(!1),a=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1);v.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Nn(e.ref,a),d=yi(m=>{const y=c.current;c.current=!1;const x=mn(a.current);if(!l.current||!a.current||"clientX"in m&&Lie(m,x))return;if(o.current){o.current=!1;return}let g;m.composedPath?g=m.composedPath().indexOf(a.current)>-1:g=!x.documentElement.contains(m.target)||a.current.contains(m.target),!g&&(n||!y)&&i(m)}),f=m=>y=>{c.current=!0;const x=e.props[m];x&&x(y)},p={ref:u};return s!==!1&&(p[s]=f(s)),v.useEffect(()=>{if(s!==!1){const m=bS(s),y=mn(a.current),x=()=>{o.current=!0};return y.addEventListener(m,d),y.addEventListener("touchmove",x),()=>{y.removeEventListener(m,d),y.removeEventListener("touchmove",x)}}},[d,s]),r!==!1&&(p[r]=f(r)),v.useEffect(()=>{if(r!==!1){const m=bS(r),y=mn(a.current);return y.addEventListener(m,d),()=>{y.removeEventListener(m,d)}}},[d,r]),h.jsx(v.Fragment,{children:v.cloneElement(e,p)})}function Oie(t){const e=mn(t);return e.body===t?Qr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ch(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function CS(t){return parseInt(Qr(t).getComputedStyle(t).paddingRight,10)||0}function Mie(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function TS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Mie(o);a&&l&&ch(o,i)})}function zv(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function $ie(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Oie(r)){const o=x7(mn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${CS(r)+o}px`;const a=mn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${CS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=mn(r).body;else{const o=r.parentElement,a=Qr(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function jie(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Fie{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&ch(e.modalRef,!1);const i=jie(n);TS(n,e.mount,e.modalRef,i,!0);const s=zv(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=zv(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=$ie(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=zv(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&ch(e.modalRef,n),TS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&ch(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Vie=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Uie(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function zie(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Bie(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||zie(t))}function Wie(t){const e=[],n=[];return Array.from(t.querySelectorAll(Vie)).forEach((r,i)=>{const s=Uie(r);s===-1||!Bie(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Hie(){return!0}function qie(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Wie,isEnabled:o=Hie,open:a}=t,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),p=v.useRef(!1),m=v.useRef(null),y=Nn(e.ref,m),x=v.useRef(null);v.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!m.current)return;const _=mn(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!m.current)return;const _=mn(m.current),I=C=>{x.current=C,!(r||!o()||C.key!=="Tab")&&_.activeElement===m.current&&C.shiftKey&&(l.current=!0,u.current&&u.current.focus())},T=()=>{const C=m.current;if(C===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let b=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(b=s(m.current)),b.length>0){var R,S;const A=!!((R=x.current)!=null&&R.shiftKey&&((S=x.current)==null?void 0:S.key)==="Tab"),N=b[0],O=b[b.length-1];typeof N!="string"&&typeof O!="string"&&(A?O.focus():N.focus())}else C.focus()};_.addEventListener("focusin",T),_.addEventListener("keydown",I,!0);const E=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(E),_.removeEventListener("focusin",T),_.removeEventListener("keydown",I,!0)}},[n,r,i,o,a,s]);const g=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,f.current=_.target;const I=e.props.onFocus;I&&I(_)},w=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return h.jsxs(v.Fragment,{children:[h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:y,onFocus:g}),h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function Gie(t){return typeof t=="function"?t():t}function Kie(t){return t?t.props.hasOwnProperty("in"):!1}const Qie=new Fie;function Yie(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Qie,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=v.useRef({}),p=v.useRef(null),m=v.useRef(null),y=Nn(m,d),[x,g]=v.useState(!u),w=Kie(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const I=()=>mn(p.current),T=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),E=()=>{i.mount(T(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},C=yi(()=>{const P=Gie(e)||I().body;i.add(T(),P),m.current&&E()}),b=v.useCallback(()=>i.isTopModal(T()),[i]),R=yi(P=>{p.current=P,P&&(u&&b()?E():m.current&&ch(m.current,_))}),S=v.useCallback(()=>{i.remove(T(),_)},[_,i]);v.useEffect(()=>()=>{S()},[S]),v.useEffect(()=>{u?C():(!w||!s)&&S()},[u,S,w,s,C]);const A=P=>k=>{var D;(D=P.onKeyDown)==null||D.call(P,k),!(k.key!=="Escape"||k.which===229||!b())&&(n||(k.stopPropagation(),c&&c(k,"escapeKeyDown")))},N=P=>k=>{var D;(D=P.onClick)==null||D.call(P,k),k.target===k.currentTarget&&c&&c(k,"backdropClick")};return{getRootProps:(P={})=>{const k=Gm(t);delete k.onTransitionEnter,delete k.onTransitionExited;const D=M({},k,P);return M({role:"presentation"},D,{onKeyDown:A(D),ref:y})},getBackdropProps:(P={})=>{const k=P;return M({"aria-hidden":!0},k,{onClick:N(k),open:u})},getTransitionProps:()=>{const P=()=>{g(!1),o&&o()},k=()=>{g(!0),a&&a(),s&&S()};return{onEnter:XT(P,l==null?void 0:l.props.onEnter),onExited:XT(k,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:R,isTopModal:b,exited:x,hasTransition:w}}function Xie(t){return Ye("MuiModal",t)}We("MuiModal",["root","hidden","backdrop"]);const Jie=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Zie=t=>{const{open:e,exited:n,classes:r}=t;return Ze({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Xie,r)},ese=ae("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>M({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),tse=ae(V7,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),nse=v.forwardRef(function(e,n){var r,i,s,o,a,l;const c=Xe({name:"MuiModal",props:e}),{BackdropComponent:u=tse,BackdropProps:d,className:f,closeAfterTransition:p=!1,children:m,container:y,component:x,components:g={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:T=!1,disablePortal:E=!1,disableRestoreFocus:C=!1,disableScrollLock:b=!1,hideBackdrop:R=!1,keepMounted:S=!1,onBackdropClick:A,open:N,slotProps:O,slots:L}=c,$=he(c,Jie),P=M({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:I,disableEscapeKeyDown:T,disablePortal:E,disableRestoreFocus:C,disableScrollLock:b,hideBackdrop:R,keepMounted:S}),{getRootProps:k,getBackdropProps:D,getTransitionProps:j,portalRef:F,isTopModal:G,exited:W,hasTransition:B}=Yie(M({},P,{rootRef:n})),U=M({},P,{exited:W}),V=Zie(U),q={};if(m.props.tabIndex===void 0&&(q.tabIndex="-1"),B){const{onEnter:ye,onExited:Pe}=j();q.onEnter=ye,q.onExited=Pe}const oe=(r=(i=L==null?void 0:L.root)!=null?i:g.Root)!=null?r:ese,ce=(s=(o=L==null?void 0:L.backdrop)!=null?o:g.Backdrop)!=null?s:u,ee=(a=O==null?void 0:O.root)!=null?a:w.root,me=(l=O==null?void 0:O.backdrop)!=null?l:w.backdrop,le=kl({elementType:oe,externalSlotProps:ee,externalForwardedProps:$,getSlotProps:k,additionalProps:{ref:n,as:x},ownerState:U,className:xe(f,ee==null?void 0:ee.className,V==null?void 0:V.root,!U.open&&U.exited&&(V==null?void 0:V.hidden))}),ie=kl({elementType:ce,externalSlotProps:me,additionalProps:d,getSlotProps:ye=>D(M({},ye,{onClick:Pe=>{A&&A(Pe),ye!=null&&ye.onClick&&ye.onClick(Pe)}})),className:xe(me==null?void 0:me.className,d==null?void 0:d.className,V==null?void 0:V.backdrop),ownerState:U});return!S&&!N&&(!B||W)?null:h.jsx(Pre,{ref:F,container:y,disablePortal:E,children:h.jsxs(oe,M({},le,{children:[!R&&u?h.jsx(ce,M({},ie)):null,h.jsx(qie,{disableEnforceFocus:I,disableAutoFocus:_,disableRestoreFocus:C,isEnabled:G,open:N,children:v.cloneElement(m,q)})]}))})}),h5=nse;function rse(t){return Ye("MuiDialog",t)}const ise=We("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Bv=ise,sse=v.createContext({}),z7=sse,ose=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ase=ae(V7,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),lse=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${se(n)}`],paper:["paper",`paperScroll${se(n)}`,`paperWidth${se(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ze(o,rse,e)},cse=ae(h5,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),use=ae("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${se(n.scroll)}`]]}})(({ownerState:t})=>M({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),dse=ae(Gu,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${se(n.scroll)}`],e[`paperWidth${se(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>M({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Bv.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Bv.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Bv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),hse=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiDialog"}),i=xa(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:y="sm",onBackdropClick:x,onClick:g,onClose:w,open:_,PaperComponent:I=Gu,PaperProps:T={},scroll:E="paper",TransitionComponent:C=F7,transitionDuration:b=s,TransitionProps:R}=r,S=he(r,ose),A=M({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:m,maxWidth:y,scroll:E}),N=lse(A),O=v.useRef(),L=D=>{O.current=D.target===D.currentTarget},$=D=>{g&&g(D),O.current&&(O.current=null,x&&x(D),w&&w(D,"backdropClick"))},P=YE(a),k=v.useMemo(()=>({titleId:P}),[P]);return h.jsx(cse,M({className:xe(N.root,d),closeAfterTransition:!0,components:{Backdrop:ase},componentsProps:{backdrop:M({transitionDuration:b,as:l},c)},disableEscapeKeyDown:f,onClose:w,open:_,ref:n,onClick:$,ownerState:A},S,{children:h.jsx(C,M({appear:!0,in:_,timeout:b,role:"presentation"},R,{children:h.jsx(use,{className:xe(N.container),onMouseDown:L,ownerState:A,children:h.jsx(dse,M({as:I,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},T,{className:xe(N.paper,T.className),ownerState:A,children:h.jsx(z7.Provider,{value:k,children:u})}))})}))}))}),ts=hse;function fse(t){return Ye("MuiDialogTitle",t)}We("MuiDialogTitle",["root"]);const pse=["className","id"],mse=t=>{const{classes:e}=t;return Ze({root:["root"]},fse,e)},gse=ae(Et,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),vse=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=he(r,pse),a=r,l=mse(a),{titleId:c=s}=v.useContext(z7);return h.jsx(gse,M({component:"h2",className:xe(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c},o))}),yse=vse,_se=We("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),SS=_se,wse=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function xse(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Qr(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Ese(t){return typeof t=="function"?t():t}function q0(t,e,n){const r=Ese(n),i=xse(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const Ise=v.forwardRef(function(e,n){const r=xa(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:f,onEnter:p,onEntered:m,onEntering:y,onExit:x,onExited:g,onExiting:w,style:_,timeout:I=s,TransitionComponent:T=s5}=e,E=he(e,wse),C=v.useRef(null),b=Nn(l.ref,C,n),R=D=>j=>{D&&(j===void 0?D(C.current):D(C.current,j))},S=R((D,j)=>{q0(u,D,c),l5(D),p&&p(D,j)}),A=R((D,j)=>{const F=Pl({timeout:I,style:_,easing:d},{mode:"enter"});D.style.webkitTransition=r.transitions.create("-webkit-transform",M({},F)),D.style.transition=r.transitions.create("transform",M({},F)),D.style.webkitTransform="none",D.style.transform="none",y&&y(D,j)}),N=R(m),O=R(w),L=R(D=>{const j=Pl({timeout:I,style:_,easing:d},{mode:"exit"});D.style.webkitTransition=r.transitions.create("-webkit-transform",j),D.style.transition=r.transitions.create("transform",j),q0(u,D,c),x&&x(D)}),$=R(D=>{D.style.webkitTransition="",D.style.transition="",g&&g(D)}),P=D=>{o&&o(C.current,D)},k=v.useCallback(()=>{C.current&&q0(u,C.current,c)},[u,c]);return v.useEffect(()=>{if(f||u==="down"||u==="right")return;const D=QE(()=>{C.current&&q0(u,C.current,c)}),j=Qr(C.current);return j.addEventListener("resize",D),()=>{D.clear(),j.removeEventListener("resize",D)}},[u,f,c]),v.useEffect(()=>{f||k()},[f,k]),h.jsx(T,M({nodeRef:C,onEnter:S,onEntered:N,onEntering:A,onExit:L,onExited:$,onExiting:O,addEndListener:P,appear:a,in:f,timeout:I},E,{children:(D,j)=>v.cloneElement(l,M({ref:b,style:M({visibility:D==="exited"&&!f?"hidden":void 0},_,l.props.style)},j))}))}),B7=Ise;function bse(t){return Ye("MuiDrawer",t)}We("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Cse=["BackdropProps"],Tse=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],W7=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},Sse=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${se(n)}`,r!=="temporary"&&`paperAnchorDocked${se(n)}`]};return Ze(i,bse,e)},Rse=ae(h5,{name:"MuiDrawer",slot:"Root",overridesResolver:W7})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),RS=ae("div",{shouldForwardProp:Fr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:W7})({flex:"0 0 auto"}),Ase=ae(Gu,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${se(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${se(n.anchor)}`]]}})(({theme:t,ownerState:e})=>M({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),H7={left:"right",right:"left",top:"down",bottom:"up"};function Va(t){return["left","right"].indexOf(t)!==-1}function Fd({direction:t},e){return t==="rtl"&&Va(e)?H7[e]:e}const kse=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiDrawer"}),i=xa(),s=JE(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:y=!1,PaperProps:x={},SlideProps:g,TransitionComponent:w=B7,transitionDuration:_=o,variant:I="temporary"}=r,T=he(r.ModalProps,Cse),E=he(r,Tse),C=v.useRef(!1);v.useEffect(()=>{C.current=!0},[]);const b=Fd({direction:s?"rtl":"ltr"},a),S=M({},r,{anchor:a,elevation:d,open:y,variant:I},E),A=Sse(S),N=h.jsx(Ase,M({elevation:I==="temporary"?d:0,square:!0},x,{className:xe(A.paper,x.className),ownerState:S,children:c}));if(I==="permanent")return h.jsx(RS,M({className:xe(A.root,A.docked,u),ownerState:S,ref:n},E,{children:N}));const O=h.jsx(w,M({in:y,direction:H7[b],timeout:_,appear:C.current},g,{children:N}));return I==="persistent"?h.jsx(RS,M({className:xe(A.root,A.docked,u),ownerState:S,ref:n},E,{children:O})):h.jsx(Rse,M({BackdropProps:M({},l,p,{transitionDuration:_}),className:xe(A.root,A.modal,u),open:y,ownerState:S,onClose:m,hideBackdrop:f,ref:n},E,T,{children:O}))}),Pse=kse,Nse=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Lse=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},Yre,e);return M({},e,i)},Dse=ae(I1,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...x1(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return M({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Sa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Sa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sa.disabled}, .${Sa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Sa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&M({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Ose=ae(b1,{name:"MuiFilledInput",slot:"Input",overridesResolver:E1})(({theme:t,ownerState:e})=>M({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),q7=v.forwardRef(function(e,n){var r,i,s,o;const a=Xe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:m={},type:y="text"}=a,x=he(a,Nse),g=M({},a,{fullWidth:u,inputComponent:d,multiline:f,type:y}),w=Lse(a),_={root:{ownerState:g},input:{ownerState:g}},I=p??c?wr(_,p??c):_,T=(r=(i=m.root)!=null?i:l.Root)!=null?r:Dse,E=(s=(o=m.input)!=null?o:l.Input)!=null?s:Ose;return h.jsx(d5,M({slots:{root:T,input:E},componentsProps:I,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:y},x,{classes:w}))});q7.muiName="Input";const G7=q7;function Mse(t){return Ye("MuiFormControl",t)}We("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const $se=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],jse=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${se(n)}`,r&&"fullWidth"]};return Ze(i,Mse,e)},Fse=ae("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>M({},e.root,e[`margin${se(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>M({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Vse=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:y="medium",variant:x="outlined"}=r,g=he(r,$se),w=M({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:m,size:y,variant:x}),_=jse(w),[I,T]=v.useState(()=>{let O=!1;return i&&v.Children.forEach(i,L=>{if(!jv(L,["Input","Select"]))return;const $=jv(L,["Select"])?L.props.input:L;$&&Fre($.props)&&(O=!0)}),O}),[E,C]=v.useState(()=>{let O=!1;return i&&v.Children.forEach(i,L=>{jv(L,["Input","Select"])&&(Ym(L.props,!0)||Ym(L.props.inputProps,!0))&&(O=!0)}),O}),[b,R]=v.useState(!1);l&&b&&R(!1);const S=u!==void 0&&!l?u:b;let A;const N=v.useMemo(()=>({adornedStart:I,setAdornedStart:T,color:o,disabled:l,error:c,filled:E,focused:S,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{R(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{R(!0)},registerEffect:A,required:m,variant:x}),[I,o,l,c,E,S,d,f,A,m,y,x]);return h.jsx(u5.Provider,{value:N,children:h.jsx(Fse,M({as:a,ownerState:w,className:xe(_.root,s),ref:n},g,{children:i}))})}),Use=Vse,zse=fte({createStyledComponent:ae("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Xe({props:t,name:"MuiStack"})}),Yr=zse;function Bse(t){return Ye("MuiFormHelperText",t)}const Wse=We("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),AS=Wse;var kS;const Hse=["children","className","component","disabled","error","filled","focused","margin","required","variant"],qse=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${se(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ze(c,Bse,e)},Gse=ae("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${se(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>M({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${AS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${AS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Kse=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=he(r,Hse),l=Qu(),c=Ku({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=M({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=qse(u);return h.jsx(Gse,M({as:o,ownerState:u,className:xe(d.root,s),ref:n},a,{children:i===" "?kS||(kS=h.jsx("span",{className:"notranslate",children:""})):i}))}),Qse=Kse;function Yse(t){return Ye("MuiFormLabel",t)}const Xse=We("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uh=Xse,Jse=["children","className","color","component","disabled","error","filled","focused","required"],Zse=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${se(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ze(l,Yse,e)},eoe=ae("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>M({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>M({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${uh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${uh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${uh.error}`]:{color:(t.vars||t).palette.error.main}})),toe=ae("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${uh.error}`]:{color:(t.vars||t).palette.error.main}})),noe=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=he(r,Jse),l=Qu(),c=Ku({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=M({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Zse(u);return h.jsxs(eoe,M({as:o,ownerState:u,className:xe(d.root,s),ref:n},a,{children:[i,c.required&&h.jsxs(toe,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),roe=noe,ioe=v.createContext(),PS=ioe;function soe(t){return Ye("MuiGrid",t)}const ooe=[0,1,2,3,4,5,6,7,8,9,10],aoe=["column-reverse","column","row-reverse","row"],loe=["nowrap","wrap-reverse","wrap"],Ed=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],cf=We("MuiGrid",["root","container","item","zeroMinWidth",...ooe.map(t=>`spacing-xs-${t}`),...aoe.map(t=>`direction-xs-${t}`),...loe.map(t=>`wrap-xs-${t}`),...Ed.map(t=>`grid-xs-${t}`),...Ed.map(t=>`grid-sm-${t}`),...Ed.map(t=>`grid-md-${t}`),...Ed.map(t=>`grid-lg-${t}`),...Ed.map(t=>`grid-xl-${t}`)]),coe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Gc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function uoe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=sl({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${Gc(u)})`;c={flexBasis:d,maxWidth:d}}}s=M({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function doe({theme:t,ownerState:e}){const n=sl({values:e.direction,breakpoints:t.breakpoints.values});return $r({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${cf.item}`]={maxWidth:"none"}),i})}function K7({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function hoe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=sl({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=K7({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Gc(u)}`,[`& > .${cf.item}`]:{paddingTop:Gc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${cf.item}`]:{paddingTop:0}}})}return i}function foe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=sl({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=K7({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Gc(u)})`,marginLeft:`-${Gc(u)}`,[`& > .${cf.item}`]:{paddingLeft:Gc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${cf.item}`]:{paddingLeft:0}}})}return i}function poe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const moe=ae("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=poe(o,c,e));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>M({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),doe,hoe,foe,uoe);function goe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const voe=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=goe(s,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Ze(d,soe,e)},yoe=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiGrid"}),{breakpoints:i}=xa(),s=e0(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:m=0,wrap:y="wrap",zeroMinWidth:x=!1}=s,g=he(s,coe),w=p||m,_=l||m,I=v.useContext(PS),T=u?a||12:I,E={},C=M({},g);i.keys.forEach(S=>{g[S]!=null&&(E[S]=g[S],delete C[S])});const b=M({},s,{columns:T,container:u,direction:d,item:f,rowSpacing:w,columnSpacing:_,wrap:y,zeroMinWidth:x,spacing:m},E,{breakpoints:i.keys}),R=voe(b);return h.jsx(PS.Provider,{value:T,children:h.jsx(moe,M({ownerState:b,className:xe(R.root,o),as:c,ref:n},C))})}),dh=yoe,_oe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Iw(t){return`scale(${t}, ${t**2})`}const woe={entering:{opacity:1,transform:Iw(1)},entered:{opacity:1,transform:"none"}},Wv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Q7=v.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:m,timeout:y="auto",TransitionComponent:x=s5}=e,g=he(e,_oe),w=XE(),_=v.useRef(),I=xa(),T=v.useRef(null),E=Nn(T,s.ref,n),C=$=>P=>{if($){const k=T.current;P===void 0?$(k):$(k,P)}},b=C(u),R=C(($,P)=>{l5($);const{duration:k,delay:D,easing:j}=Pl({style:m,timeout:y,easing:o},{mode:"enter"});let F;y==="auto"?(F=I.transitions.getAutoHeightDuration($.clientHeight),_.current=F):F=k,$.style.transition=[I.transitions.create("opacity",{duration:F,delay:D}),I.transitions.create("transform",{duration:Wv?F:F*.666,delay:D,easing:j})].join(","),l&&l($,P)}),S=C(c),A=C(p),N=C($=>{const{duration:P,delay:k,easing:D}=Pl({style:m,timeout:y,easing:o},{mode:"exit"});let j;y==="auto"?(j=I.transitions.getAutoHeightDuration($.clientHeight),_.current=j):j=P,$.style.transition=[I.transitions.create("opacity",{duration:j,delay:k}),I.transitions.create("transform",{duration:Wv?j:j*.666,delay:Wv?k:k||j*.333,easing:D})].join(","),$.style.opacity=0,$.style.transform=Iw(.75),d&&d($)}),O=C(f),L=$=>{y==="auto"&&w.start(_.current||0,$),r&&r(T.current,$)};return h.jsx(x,M({appear:i,in:a,nodeRef:T,onEnter:R,onEntered:S,onEntering:b,onExit:N,onExited:O,onExiting:A,addEndListener:L,timeout:y==="auto"?null:y},g,{children:($,P)=>v.cloneElement(s,M({style:M({opacity:0,transform:Iw(.75),visibility:$==="exited"&&!a?"hidden":void 0},woe[$],m,s.props.style),ref:E},P))}))});Q7.muiSupportAuto=!0;const Y7=Q7,xoe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Eoe=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},qre,e);return M({},e,i)},Ioe=ae(I1,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...x1(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),M({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xd.disabled}, .${xd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${xd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),boe=ae(b1,{name:"MuiInput",slot:"Input",overridesResolver:E1})({}),X7=v.forwardRef(function(e,n){var r,i,s,o;const a=Xe({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:y={},type:x="text"}=a,g=he(a,xoe),w=Eoe(a),I={root:{ownerState:{disableUnderline:l}}},T=m??u?wr(m??u,I):I,E=(r=(i=y.root)!=null?i:c.Root)!=null?r:Ioe,C=(s=(o=y.input)!=null?o:c.Input)!=null?s:boe;return h.jsx(d5,M({slots:{root:E,input:C},slotProps:T,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:x},g,{classes:w}))});X7.muiName="Input";const J7=X7;function Coe(t){return Ye("MuiInputLabel",t)}We("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Toe=["disableAnimation","margin","shrink","variant","className"],Soe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${se(r)}`,o],asterisk:[a&&"asterisk"]},c=Ze(l,Coe,e);return M({},e,c)},Roe=ae(roe,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${uh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>M({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&M({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&M({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&M({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Aoe=v.forwardRef(function(e,n){const r=Xe({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=he(r,Toe),l=Qu();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Ku({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=M({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=Soe(d);return h.jsx(Roe,M({"data-shrink":c,ownerState:d,ref:n,className:xe(f.root,o)},a,{classes:f}))}),koe=Aoe;function Poe(t){return Ye("MuiLinearProgress",t)}We("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Noe=["className","color","value","valueBuffer","variant"];let Yu=t=>t,NS,LS,DS,OS,MS,$S;const bw=4,Loe=es(NS||(NS=Yu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Doe=es(LS||(LS=Yu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Ooe=es(DS||(DS=Yu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Moe=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${se(r)}`,n],dashed:["dashed",`dashedColor${se(r)}`],bar1:["bar",`barColor${se(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${se(r)}`,n==="buffer"&&`color${se(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Ze(i,Poe,e)},f5=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?T7(t.palette[e].main,.62):C7(t.palette[e].main,.5),$oe=ae("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${se(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>M({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:f5(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),joe=ae("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${se(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=f5(e,t.color);return M({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},so(OS||(OS=Yu`
    animation: ${0} 3s infinite linear;
  `),Ooe)),Foe=ae("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>M({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${bw}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${bw}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&so(MS||(MS=Yu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Loe)),Voe=ae("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>M({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:f5(e,t.color),transition:`transform .${bw}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&so($S||($S=Yu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Doe)),Uoe=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=he(r,Noe),u=M({},r,{color:s,variant:l}),d=Moe(u),f=JE(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=o-100;f&&(y=-y),m.bar1.transform=`translateX(${y}%)`}if(l==="buffer"&&a!==void 0){let y=(a||0)-100;f&&(y=-y),m.bar2.transform=`translateX(${y}%)`}return h.jsxs($oe,M({className:xe(d.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?h.jsx(joe,{className:d.dashed,ownerState:u}):null,h.jsx(Foe,{className:d.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:h.jsx(Voe,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),zoe=Uoe,Boe=v.createContext({}),Cw=Boe;function Woe(t){return Ye("MuiList",t)}We("MuiList",["root","padding","dense","subheader"]);const Hoe=["children","className","component","dense","disablePadding","subheader"],qoe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ze({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Woe,e)},Goe=ae("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>M({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Koe=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=he(r,Hoe),d=v.useMemo(()=>({dense:a}),[a]),f=M({},r,{component:o,dense:a,disablePadding:l}),p=qoe(f);return h.jsx(Cw.Provider,{value:d,children:h.jsxs(Goe,M({as:o,className:xe(p.root,s),ref:n,ownerState:f},u,{children:[c,i]}))})}),Qoe=Koe,Yoe=We("MuiListItemIcon",["root","alignItemsFlexStart"]),jS=Yoe,Xoe=We("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),FS=Xoe,Joe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Hv(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function VS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Z7(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Id(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Z7(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Zoe=v.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=he(e,Joe),p=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ts(()=>{i&&p.current.focus()},[i]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:I})=>{const T=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&T){const E=`${x7(mn(_))}px`;p.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=E,p.current.style.width=`calc(100% + ${E})`}return p.current}}),[]);const y=_=>{const I=p.current,T=_.key,E=mn(I).activeElement;if(T==="ArrowDown")_.preventDefault(),Id(I,E,c,l,Hv);else if(T==="ArrowUp")_.preventDefault(),Id(I,E,c,l,VS);else if(T==="Home")_.preventDefault(),Id(I,null,c,l,Hv);else if(T==="End")_.preventDefault(),Id(I,null,c,l,VS);else if(T.length===1){const C=m.current,b=T.toLowerCase(),R=performance.now();C.keys.length>0&&(R-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&b!==C.keys[0]&&(C.repeating=!1)),C.lastTime=R,C.keys.push(b);const S=E&&!C.repeating&&Z7(E,C);C.previousKeyMatched&&(S||Id(I,E,!1,l,Hv,C))?_.preventDefault():C.previousKeyMatched=!1}u&&u(_)},x=Nn(p,n);let g=-1;v.Children.forEach(o,(_,I)=>{if(!v.isValidElement(_)){g===I&&(g+=1,g>=o.length&&(g=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||g===-1)&&(g=I),g===I&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(g+=1,g>=o.length&&(g=-1))});const w=v.Children.map(o,(_,I)=>{if(I===g){const T={};return s&&(T.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(T.tabIndex=0),v.cloneElement(_,T)}return _});return h.jsx(Qoe,M({role:"menu",ref:x,className:a,onKeyDown:y,tabIndex:i?0:-1},f,{children:w}))}),eae=Zoe;function tae(t){return Ye("MuiPopover",t)}We("MuiPopover",["root","paper"]);const nae=["onEntering"],rae=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iae=["slotProps"];function US(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function zS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function BS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function qv(t){return typeof t=="function"?t():t}const sae=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"]},tae,e)},oae=ae(h5,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),eL=ae(Gu,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),aae=v.forwardRef(function(e,n){var r,i,s;const o=Xe({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:p,container:m,elevation:y=8,marginThreshold:x=16,open:g,PaperProps:w={},slots:_,slotProps:I,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:E=Y7,transitionDuration:C="auto",TransitionProps:{onEntering:b}={},disableScrollLock:R=!1}=o,S=he(o.TransitionProps,nae),A=he(o,rae),N=(r=I==null?void 0:I.paper)!=null?r:w,O=v.useRef(),L=Nn(O,N.ref),$=M({},o,{anchorOrigin:c,anchorReference:d,elevation:y,marginThreshold:x,externalPaperSlotProps:N,transformOrigin:T,TransitionComponent:E,transitionDuration:C,TransitionProps:S}),P=sae($),k=v.useCallback(()=>{if(d==="anchorPosition")return u;const ye=qv(l),Se=(ye&&ye.nodeType===1?ye:mn(O.current).body).getBoundingClientRect();return{top:Se.top+US(Se,c.vertical),left:Se.left+zS(Se,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),D=v.useCallback(ye=>({vertical:US(ye,T.vertical),horizontal:zS(ye,T.horizontal)}),[T.horizontal,T.vertical]),j=v.useCallback(ye=>{const Pe={width:ye.offsetWidth,height:ye.offsetHeight},Se=D(Pe);if(d==="none")return{top:null,left:null,transformOrigin:BS(Se)};const wt=k();let je=wt.top-Se.vertical,Me=wt.left-Se.horizontal;const rt=je+Pe.height,it=Me+Pe.width,Re=Qr(qv(l)),kt=Re.innerHeight-x,He=Re.innerWidth-x;if(x!==null&&je<x){const Ie=je-x;je-=Ie,Se.vertical+=Ie}else if(x!==null&&rt>kt){const Ie=rt-kt;je-=Ie,Se.vertical+=Ie}if(x!==null&&Me<x){const Ie=Me-x;Me-=Ie,Se.horizontal+=Ie}else if(it>He){const Ie=it-He;Me-=Ie,Se.horizontal+=Ie}return{top:`${Math.round(je)}px`,left:`${Math.round(Me)}px`,transformOrigin:BS(Se)}},[l,d,k,D,x]),[F,G]=v.useState(g),W=v.useCallback(()=>{const ye=O.current;if(!ye)return;const Pe=j(ye);Pe.top!==null&&(ye.style.top=Pe.top),Pe.left!==null&&(ye.style.left=Pe.left),ye.style.transformOrigin=Pe.transformOrigin,G(!0)},[j]);v.useEffect(()=>(R&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,R,W]);const B=(ye,Pe)=>{b&&b(ye,Pe),W()},U=()=>{G(!1)};v.useEffect(()=>{g&&W()}),v.useImperativeHandle(a,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),v.useEffect(()=>{if(!g)return;const ye=QE(()=>{W()}),Pe=Qr(l);return Pe.addEventListener("resize",ye),()=>{ye.clear(),Pe.removeEventListener("resize",ye)}},[l,g,W]);let V=C;C==="auto"&&!E.muiSupportAuto&&(V=void 0);const q=m||(l?mn(qv(l)).body:void 0),oe=(i=_==null?void 0:_.root)!=null?i:oae,ce=(s=_==null?void 0:_.paper)!=null?s:eL,ee=kl({elementType:ce,externalSlotProps:M({},N,{style:F?N.style:M({},N.style,{opacity:0})}),additionalProps:{elevation:y,ref:L},ownerState:$,className:xe(P.paper,N==null?void 0:N.className)}),me=kl({elementType:oe,externalSlotProps:(I==null?void 0:I.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:q,open:g},ownerState:$,className:xe(P.root,p)}),{slotProps:le}=me,ie=he(me,iae);return h.jsx(oe,M({},ie,!qm(oe)&&{slotProps:le,disableScrollLock:R},{children:h.jsx(E,M({appear:!0,in:g,onEntering:B,onExited:U,timeout:V},S,{children:h.jsx(ce,M({},ee,{children:f}))}))}))}),lae=aae;function cae(t){return Ye("MuiMenu",t)}We("MuiMenu",["root","paper","list"]);const uae=["onEntering"],dae=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],hae={vertical:"top",horizontal:"right"},fae={vertical:"top",horizontal:"left"},pae=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"],list:["list"]},cae,e)},mae=ae(lae,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gae=ae(eL,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),vae=ae(eae,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),yae=v.forwardRef(function(e,n){var r,i;const s=Xe({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:x}={},variant:g="selectedMenu",slots:w={},slotProps:_={}}=s,I=he(s.TransitionProps,uae),T=he(s,dae),E=JE(),C=M({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:x,PaperProps:p,transitionDuration:y,TransitionProps:I,variant:g}),b=pae(C),R=o&&!c&&f,S=v.useRef(null),A=(D,j)=>{S.current&&S.current.adjustStyleForScrollbar(D,{direction:E?"rtl":"ltr"}),x&&x(D,j)},N=D=>{D.key==="Tab"&&(D.preventDefault(),d&&d(D,"tabKeyDown"))};let O=-1;v.Children.map(a,(D,j)=>{v.isValidElement(D)&&(D.props.disabled||(g==="selectedMenu"&&D.props.selected||O===-1)&&(O=j))});const L=(r=w.paper)!=null?r:gae,$=(i=_.paper)!=null?i:p,P=kl({elementType:w.root,externalSlotProps:_.root,ownerState:C,className:[b.root,l]}),k=kl({elementType:L,externalSlotProps:$,ownerState:C,className:b.paper});return h.jsx(mae,M({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?hae:fae,slots:{paper:L,root:w.root},slotProps:{root:P,paper:k},open:f,ref:n,transitionDuration:y,TransitionProps:M({onEntering:A},I),ownerState:C},T,{classes:m,children:h.jsx(vae,M({onKeyDown:N,actions:S,autoFocus:o&&(O===-1||c),autoFocusItem:R,variant:g},u,{className:xe(b.list,u.className),children:a}))}))}),_ae=yae;function wae(t){return Ye("MuiMenuItem",t)}const xae=We("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),bd=xae,Eae=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Iae=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},bae=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Ze({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},wae,o);return M({},o,l)},Cae=ae(c5,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Iae})(({theme:t,ownerState:e})=>M({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_i(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${bd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_i(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${bd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_i(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_i(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${bd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${bd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${SS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${SS.inset}`]:{marginLeft:52},[`& .${FS.root}`]:{marginTop:0,marginBottom:0},[`& .${FS.inset}`]:{paddingLeft:36},[`& .${jS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&M({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${jS.root} svg`]:{fontSize:"1.25rem"}}))),Tae=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=he(r,Eae),m=v.useContext(Cw),y=v.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),x=v.useRef(null);Ts(()=>{i&&x.current&&x.current.focus()},[i]);const g=M({},r,{dense:y.dense,divider:a,disableGutters:l}),w=bae(r),_=Nn(x,n);let I;return r.disabled||(I=d!==void 0?d:-1),h.jsx(Cw.Provider,{value:y,children:h.jsx(Cae,M({ref:_,role:u,tabIndex:I,component:s,focusVisibleClassName:xe(w.focusVisible,c),className:xe(w.root,f)},p,{ownerState:g,classes:w}))})}),Sae=Tae;function Rae(t){return Ye("MuiNativeSelect",t)}const Aae=We("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),p5=Aae,kae=["className","disabled","error","IconComponent","inputRef","variant"],Pae=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",r&&"disabled"]};return Ze(a,Rae,e)},tL=({ownerState:t,theme:e})=>M({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":M({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${p5.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Nae=ae("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Fr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${p5.multiple}`]:e.multiple}]}})(tL),nL=({ownerState:t,theme:e})=>M({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${p5.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Lae=ae("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(nL),Dae=v.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=he(e,kae),u=M({},e,{disabled:i,variant:l,error:s}),d=Pae(u);return h.jsxs(v.Fragment,{children:[h.jsx(Nae,M({ownerState:u,className:xe(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:h.jsx(Lae,{as:o,ownerState:u,className:d.icon})]})}),Oae=Dae;function Mae(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=v.useState(!1);return Ts(()=>{n||s(!0)},[n]),v.useEffect(()=>{n&&s(!0)},[n]),h.jsx(v.Fragment,{children:i?e:r})}var WS;const $ae=["children","classes","className","label","notched"],jae=ae("fieldset",{shouldForwardProp:Fr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Fae=ae("legend",{shouldForwardProp:Fr})(({ownerState:t,theme:e})=>M({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&M({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Vae(t){const{className:e,label:n,notched:r}=t,i=he(t,$ae),s=n!=null&&n!=="",o=M({},t,{notched:r,withLabel:s});return h.jsx(jae,M({"aria-hidden":!0,className:e,ownerState:o},i,{children:h.jsx(Fae,{ownerState:o,children:s?h.jsx("span",{children:n}):WS||(WS=h.jsx("span",{className:"notranslate",children:""}))})}))}const Uae=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],zae=t=>{const{classes:e}=t,r=Ze({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Kre,e);return M({},e,r)},Bae=ae(I1,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:x1})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return M({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${wo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${wo.focused} .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${wo.error} .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${wo.disabled} .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&M({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Wae=ae(Vae,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Hae=ae(b1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:E1})(({theme:t,ownerState:e})=>M({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),rL=v.forwardRef(function(e,n){var r,i,s,o,a;const l=Xe({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:m,slots:y={},type:x="text"}=l,g=he(l,Uae),w=zae(l),_=Qu(),I=Ku({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=M({},l,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:_,fullWidth:u,hiddenLabel:I.hiddenLabel,multiline:p,size:I.size,type:x}),E=(r=(i=y.root)!=null?i:c.Root)!=null?r:Bae,C=(s=(o=y.input)!=null?o:c.Input)!=null?s:Hae;return h.jsx(d5,M({slots:{root:E,input:C},renderSuffix:b=>h.jsx(Wae,{ownerState:T,className:w.notchedOutline,label:f!=null&&f!==""&&I.required?a||(a=h.jsxs(v.Fragment,{children:[f,"","*"]})):f,notched:typeof m<"u"?m:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:x},g,{classes:M({},w,{notchedOutline:null})}))});rL.muiName="Input";const iL=rL;function qae(t){return Ye("MuiSelect",t)}const Gae=We("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Cd=Gae;var HS;const Kae=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Qae=ae("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Cd.select}`]:e.select},{[`&.${Cd.select}`]:e[n.variant]},{[`&.${Cd.error}`]:e.error},{[`&.${Cd.multiple}`]:e.multiple}]}})(tL,{[`&.${Cd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Yae=ae("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(nL),Xae=ae("input",{shouldForwardProp:t=>D7(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function qS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Jae(t){return t==null||typeof t=="string"&&!t.trim()}const Zae=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ze(a,qae,e)},ele=v.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:x,labelId:g,MenuProps:w={},multiple:_,name:I,onBlur:T,onChange:E,onClose:C,onFocus:b,onOpen:R,open:S,readOnly:A,renderValue:N,SelectDisplayProps:O={},tabIndex:L,value:$,variant:P="standard"}=e,k=he(e,Kae),[D,j]=eS({controlled:$,default:d,name:"Select"}),[F,G]=eS({controlled:S,default:u,name:"Select"}),W=v.useRef(null),B=v.useRef(null),[U,V]=v.useState(null),{current:q}=v.useRef(S!=null),[oe,ce]=v.useState(),ee=Nn(n,x),me=v.useCallback(pe=>{B.current=pe,pe&&V(pe)},[]),le=U==null?void 0:U.parentNode;v.useImperativeHandle(ee,()=>({focus:()=>{B.current.focus()},node:W.current,value:D}),[D]),v.useEffect(()=>{u&&F&&U&&!q&&(ce(a?null:le.clientWidth),B.current.focus())},[U,a]),v.useEffect(()=>{o&&B.current.focus()},[o]),v.useEffect(()=>{if(!g)return;const pe=mn(B.current).getElementById(g);if(pe){const qe=()=>{getSelection().isCollapsed&&B.current.focus()};return pe.addEventListener("click",qe),()=>{pe.removeEventListener("click",qe)}}},[g]);const ie=(pe,qe)=>{pe?R&&R(qe):C&&C(qe),q||(ce(a?null:le.clientWidth),G(pe))},ye=pe=>{pe.button===0&&(pe.preventDefault(),B.current.focus(),ie(!0,pe))},Pe=pe=>{ie(!1,pe)},Se=v.Children.toArray(l),wt=pe=>{const qe=Se.find(xt=>xt.props.value===pe.target.value);qe!==void 0&&(j(qe.props.value),E&&E(pe,qe))},je=pe=>qe=>{let xt;if(qe.currentTarget.hasAttribute("tabindex")){if(_){xt=Array.isArray(D)?D.slice():[];const ue=D.indexOf(pe.props.value);ue===-1?xt.push(pe.props.value):xt.splice(ue,1)}else xt=pe.props.value;if(pe.props.onClick&&pe.props.onClick(qe),D!==xt&&(j(xt),E)){const ue=qe.nativeEvent||qe,lt=new ue.constructor(ue.type,ue);Object.defineProperty(lt,"target",{writable:!0,value:{value:xt,name:I}}),E(lt,pe)}_||ie(!1,qe)}},Me=pe=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pe.key)!==-1&&(pe.preventDefault(),ie(!0,pe))},rt=U!==null&&F,it=pe=>{!rt&&T&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:D,name:I}}),T(pe))};delete k["aria-invalid"];let Re,kt;const He=[];let Ie=!1;(Ym({value:D})||p)&&(N?Re=N(D):Ie=!0);const Tt=Se.map(pe=>{if(!v.isValidElement(pe))return null;let qe;if(_){if(!Array.isArray(D))throw new Error(io(2));qe=D.some(xt=>qS(xt,pe.props.value)),qe&&Ie&&He.push(pe.props.children)}else qe=qS(D,pe.props.value),qe&&Ie&&(kt=pe.props.children);return v.cloneElement(pe,{"aria-selected":qe?"true":"false",onClick:je(pe),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(xt)},role:"option",selected:qe,value:void 0,"data-value":pe.props.value})});Ie&&(_?He.length===0?Re=null:Re=He.reduce((pe,qe,xt)=>(pe.push(qe),xt<He.length-1&&pe.push(", "),pe),[]):Re=kt);let nn=oe;!a&&q&&U&&(nn=le.clientWidth);let Gn;typeof L<"u"?Gn=L:Gn=f?null:0;const Ae=O.id||(I?`mui-component-select-${I}`:void 0),ve=M({},e,{variant:P,value:D,open:rt,error:m}),St=Zae(ve),ln=M({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),cn=YE();return h.jsxs(v.Fragment,{children:[h.jsx(Qae,M({ref:me,tabIndex:Gn,role:"combobox","aria-controls":cn,"aria-disabled":f?"true":void 0,"aria-expanded":rt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[g,Ae].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Me,onMouseDown:f||A?null:ye,onBlur:it,onFocus:b},O,{ownerState:ve,className:xe(O.className,St.select,c),id:Ae,children:Jae(Re)?HS||(HS=h.jsx("span",{className:"notranslate",children:""})):Re})),h.jsx(Xae,M({"aria-invalid":m,value:Array.isArray(D)?D.join(","):D,name:I,ref:W,"aria-hidden":!0,onChange:wt,tabIndex:-1,disabled:f,className:St.nativeInput,autoFocus:o,ownerState:ve},k)),h.jsx(Yae,{as:y,className:St.icon,ownerState:ve}),h.jsx(_ae,M({id:`menu-${I||""}`,anchorEl:le,open:rt,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:M({"aria-labelledby":g,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:cn},w.MenuListProps),slotProps:M({},w.slotProps,{paper:M({},ln,{style:M({minWidth:nn},ln!=null?ln.style:null)})}),children:Tt}))]})}),tle=ele,nle=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],rle=["root"],ile=t=>{const{classes:e}=t;return e},m5={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Fr(t)&&t!=="variant",slot:"Root"},sle=ae(J7,m5)(""),ole=ae(iL,m5)(""),ale=ae(G7,m5)(""),sL=v.forwardRef(function(e,n){const r=Xe({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Jre,id:d,input:f,inputProps:p,label:m,labelId:y,MenuProps:x,multiple:g=!1,native:w=!1,onClose:_,onOpen:I,open:T,renderValue:E,SelectDisplayProps:C,variant:b="outlined"}=r,R=he(r,nle),S=w?Oae:tle,A=Qu(),N=Ku({props:r,muiFormControl:A,states:["variant","error"]}),O=N.variant||b,L=M({},r,{variant:O,classes:o}),$=ile(L),P=he($,rle),k=f||{standard:h.jsx(sle,{ownerState:L}),outlined:h.jsx(ole,{label:m,ownerState:L}),filled:h.jsx(ale,{ownerState:L})}[O],D=Nn(n,k.ref);return h.jsx(v.Fragment,{children:v.cloneElement(k,M({inputComponent:S,inputProps:M({children:s,error:N.error,IconComponent:u,variant:O,type:void 0,multiple:g},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:x,onClose:_,onOpen:I,open:T,renderValue:E,SelectDisplayProps:M({id:d},C)},p,{classes:p?wr(P,p.classes):P},f?f.props.inputProps:{})},(g&&w||c)&&O==="outlined"?{notched:!0}:{},{ref:D,className:xe(k.props.className,a,$.root)},!f&&{variant:O},R))})});sL.muiName="Select";const oL=sL;function lle(t){return Ye("MuiSkeleton",t)}We("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const cle=["animation","className","component","height","style","variant","width"];let Xm=t=>t,GS,KS,QS,YS;const ule=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return Ze({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},lle,e)},dle=es(GS||(GS=Xm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),hle=es(KS||(KS=Xm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),fle=ae("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=Zte(t.shape.borderRadius)||"px",r=ene(t.shape.borderRadius);return M({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Fee(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&so(QS||(QS=Xm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),dle),({ownerState:t,theme:e})=>t.animation==="wave"&&so(YS||(YS=Xm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),hle,(e.vars||e).palette.action.hover)),ple=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=he(r,cle),f=M({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=ule(f);return h.jsx(fle,M({as:o,ref:n,className:xe(p.root,s),ownerState:f},d,{style:M({width:u,height:a},l)}))}),fe=ple;function mle(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=XE();v.useEffect(()=>{if(!i)return;function g(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[i,r]);const a=yi((g,w)=>{r==null||r(g,w)}),l=yi(g=>{!r||g==null||o.start(g,()=>{a(null,"timeout")})});v.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const c=g=>{r==null||r(g,"clickaway")},u=o.clear,d=v.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),f=g=>w=>{const _=g.onBlur;_==null||_(w),d()},p=g=>w=>{const _=g.onFocus;_==null||_(w),u()},m=g=>w=>{const _=g.onMouseEnter;_==null||_(w),u()},y=g=>w=>{const _=g.onMouseLeave;_==null||_(w),d()};return v.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(g={})=>{const w=M({},Gm(t),Gm(g));return M({role:"presentation"},g,w,{onBlur:f(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:y(w)})},onClickAway:c}}function gle(t){return Ye("MuiSnackbarContent",t)}We("MuiSnackbarContent",["root","message","action"]);const vle=["action","className","message","role"],yle=t=>{const{classes:e}=t;return Ze({root:["root"],action:["action"],message:["message"]},gle,e)},_le=ae(Gu,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=vte(t.palette.background.default,e);return M({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),wle=ae("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),xle=ae("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Ele=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=he(r,vle),c=r,u=yle(c);return h.jsxs(_le,M({role:a,square:!0,elevation:6,className:xe(u.root,s),ownerState:c,ref:n},l,{children:[h.jsx(wle,{className:u.message,ownerState:c,children:o}),i?h.jsx(xle,{className:u.action,ownerState:c,children:i}):null]}))}),Ile=Ele;function ble(t){return Ye("MuiSnackbar",t)}We("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Cle=["onEnter","onExited"],Tle=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Sle=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${se(n.vertical)}${se(n.horizontal)}`]};return Ze(r,ble,e)},XS=ae("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${se(n.anchorOrigin.vertical)}${se(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return M({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:M({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Rle=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiSnackbar"}),i=xa(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:m=!1,message:y,open:x,TransitionComponent:g=Y7,transitionDuration:w=s,TransitionProps:{onEnter:_,onExited:I}={}}=r,T=he(r.TransitionProps,Cle),E=he(r,Tle),C=M({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:g,transitionDuration:w}),b=Sle(C),{getRootProps:R,onClickAway:S}=mle(M({},C)),[A,N]=v.useState(!0),O=kl({elementType:XS,getSlotProps:R,externalForwardedProps:E,ownerState:C,additionalProps:{ref:n},className:[b.root,d]}),L=P=>{N(!0),I&&I(P)},$=(P,k)=>{N(!1),_&&_(P,k)};return!x&&A?null:h.jsx(Die,M({onClickAway:S},f,{children:h.jsx(XS,M({},O,{children:h.jsx(g,M({appear:!0,in:x,timeout:w,direction:a==="top"?"down":"up",onEnter:$,onExited:L},T,{children:u||h.jsx(Ile,M({message:y,action:o},p))}))}))}))}),Tw=Rle,Ale=["anchor","classes","className","width","style"],kle=ae("div",{shouldForwardProp:Fr})(({theme:t,ownerState:e})=>M({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),Ple=v.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:o,style:a}=e,l=he(e,Ale),c=e;return h.jsx(kle,M({className:xe("PrivateSwipeArea-root",i.root,i[`anchor${se(r)}`],s),ref:n,style:M({[Va(r)?"width":"height"]:o},a),ownerState:c},l))}),Nle=Ple,Lle=["BackdropProps"],Dle=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],G0=3,Gv=20;let ks=null;function Kv(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function Qv(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function Td(t,e){return t?e.clientWidth:e.clientHeight}function JS(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function Ole(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=Qr(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function Mle({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(s[i.scrollPosition[a]]),c=l>0,u=l+s[i.clientLength[a]]<s[i.scrollLength[a]];return!!(o&&u||!o&&c)})}const $le=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),jle=v.forwardRef(function(e,n){const r=Xe({name:"MuiSwipeableDrawer",props:e}),i=xa(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=$le,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:f=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:y,onOpen:x,open:g=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:I=20,transitionDuration:T=s,variant:E="temporary"}=r,C=he(r.ModalProps,Lle),b=he(r,Dle),[R,S]=v.useState(!1),A=v.useRef({isSwiping:null}),N=v.useRef(),O=v.useRef(),L=v.useRef(),$=Nn(w.ref,L),P=v.useRef(!1),k=v.useRef();Ts(()=>{k.current=null},[g]);const D=v.useCallback((B,U={})=>{const{mode:V=null,changeTransition:q=!0}=U,oe=Fd(i,o),ce=["right","bottom"].indexOf(oe)!==-1?1:-1,ee=Va(o),me=ee?`translate(${ce*B}px, 0)`:`translate(0, ${ce*B}px)`,le=L.current.style;le.webkitTransform=me,le.transform=me;let ie="";if(V&&(ie=i.transitions.create("all",Pl({easing:void 0,style:void 0,timeout:T},{mode:V}))),q&&(le.webkitTransition=ie,le.transition=ie),!a&&!u){const ye=O.current.style;ye.opacity=1-B/Td(ee,L.current),q&&(ye.webkitTransition=ie,ye.transition=ie)}},[o,a,u,i,T]),j=yi(B=>{if(!P.current)return;if(ks=null,P.current=!1,Ph.flushSync(()=>{S(!1)}),!A.current.isSwiping){A.current.isSwiping=null;return}A.current.isSwiping=null;const U=Fd(i,o),V=Va(o);let q;V?q=Kv(U,B.changedTouches,mn(B.currentTarget)):q=Qv(U,B.changedTouches,Qr(B.currentTarget));const oe=V?A.current.startX:A.current.startY,ce=Td(V,L.current),ee=JS(q,oe,g,ce),me=ee/ce;if(Math.abs(A.current.velocity)>p&&(k.current=Math.abs((ce-ee)/A.current.velocity)*1e3),g){A.current.velocity>p||me>d?y():D(0,{mode:"exit"});return}A.current.velocity<-p||1-me>d?x():D(Td(V,L.current),{mode:"enter"})}),F=(B=!1)=>{if(!R){(B||!(l&&f))&&Ph.flushSync(()=>{S(!0)});const U=Va(o);!g&&L.current&&D(Td(U,L.current)+(l?15:-Gv),{changeTransition:!1}),A.current.velocity=0,A.current.lastTime=null,A.current.lastTranslate=null,A.current.paperHit=!1,P.current=!0}},G=yi(B=>{if(!L.current||!P.current||ks!==null&&ks!==A.current)return;F(!0);const U=Fd(i,o),V=Va(o),q=Kv(U,B.touches,mn(B.currentTarget)),oe=Qv(U,B.touches,Qr(B.currentTarget));if(g&&L.current.contains(B.target)&&ks===null){const ie=Ole(B.target,L.current);if(Mle({domTreeShapes:ie,start:V?A.current.startX:A.current.startY,current:V?q:oe,anchor:o})){ks=!0;return}ks=A.current}if(A.current.isSwiping==null){const ie=Math.abs(q-A.current.startX),ye=Math.abs(oe-A.current.startY),Pe=V?ie>ye&&ie>G0:ye>ie&&ye>G0;if(Pe&&B.cancelable&&B.preventDefault(),Pe===!0||(V?ye>G0:ie>G0)){if(A.current.isSwiping=Pe,!Pe){j(B);return}A.current.startX=q,A.current.startY=oe,!l&&!g&&(V?A.current.startX-=Gv:A.current.startY-=Gv)}}if(!A.current.isSwiping)return;const ce=Td(V,L.current);let ee=V?A.current.startX:A.current.startY;g&&!A.current.paperHit&&(ee=Math.min(ee,ce));const me=JS(V?q:oe,ee,g,ce);if(g)if(A.current.paperHit)me===0&&(A.current.startX=q,A.current.startY=oe);else if(V?q<ce:oe<ce)A.current.paperHit=!0,A.current.startX=q,A.current.startY=oe;else return;A.current.lastTranslate===null&&(A.current.lastTranslate=me,A.current.lastTime=performance.now()+1);const le=(me-A.current.lastTranslate)/(performance.now()-A.current.lastTime)*1e3;A.current.velocity=A.current.velocity*.4+le*.6,A.current.lastTranslate=me,A.current.lastTime=performance.now(),B.cancelable&&B.preventDefault(),D(me)}),W=yi(B=>{if(B.defaultPrevented||B.defaultMuiPrevented||g&&(u||!O.current.contains(B.target))&&!L.current.contains(B.target))return;const U=Fd(i,o),V=Va(o),q=Kv(U,B.touches,mn(B.currentTarget)),oe=Qv(U,B.touches,Qr(B.currentTarget));if(!g){var ce;if(c||!(B.target===N.current||(ce=L.current)!=null&&ce.contains(B.target)&&(typeof f=="function"?f(B,N.current,L.current):f)))return;if(V){if(q>I)return}else if(oe>I)return}B.defaultMuiPrevented=!0,ks=null,A.current.startX=q,A.current.startY=oe,F()});return v.useEffect(()=>{if(E==="temporary"){const B=mn(L.current);return B.addEventListener("touchstart",W),B.addEventListener("touchmove",G,{passive:!g}),B.addEventListener("touchend",j),()=>{B.removeEventListener("touchstart",W),B.removeEventListener("touchmove",G,{passive:!g}),B.removeEventListener("touchend",j)}}},[E,g,W,G,j]),v.useEffect(()=>()=>{ks===A.current&&(ks=null)},[]),v.useEffect(()=>{g||S(!1)},[g]),h.jsxs(v.Fragment,{children:[h.jsx(Pse,M({open:E==="temporary"&&R?!0:g,variant:E,ModalProps:M({BackdropProps:M({},m,{ref:O})},E==="temporary"&&{keepMounted:!0},C),hideBackdrop:u,PaperProps:M({},w,{style:M({pointerEvents:E==="temporary"&&!g&&!f?"none":""},w.style),ref:$}),anchor:o,transitionDuration:k.current||T,onClose:y,ref:n},b)),!c&&E==="temporary"&&h.jsx(Mae,{children:h.jsx(Nle,M({anchor:o,ref:N,width:I},_))})]})}),Fle=jle;function Vle(t){return Ye("MuiToolbar",t)}We("MuiToolbar",["root","gutters","regular","dense"]);const Ule=["className","component","disableGutters","variant"],zle=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ze({root:["root",!n&&"gutters",r]},Vle,e)},Ble=ae("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>M({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Wle=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=he(r,Ule),c=M({},r,{component:s,disableGutters:o,variant:a}),u=zle(c);return h.jsx(Ble,M({as:s,className:xe(u.root,i),ref:n,ownerState:c},l))}),aL=Wle;function Hle(t){return Ye("MuiTextField",t)}We("MuiTextField",["root"]);const qle=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Gle={standard:J7,filled:G7,outlined:iL},Kle=t=>{const{classes:e}=t;return Ze({root:["root"]},Hle,e)},Qle=ae(Use,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Yle=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:x,inputProps:g,InputProps:w,inputRef:_,label:I,maxRows:T,minRows:E,multiline:C=!1,name:b,onBlur:R,onChange:S,onFocus:A,placeholder:N,required:O=!1,rows:L,select:$=!1,SelectProps:P,type:k,value:D,variant:j="outlined"}=r,F=he(r,qle),G=M({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:C,required:O,select:$,variant:j}),W=Kle(G),B={};j==="outlined"&&(x&&typeof x.shrink<"u"&&(B.notched=x.shrink),B.label=I),$&&((!P||!P.native)&&(B.id=void 0),B["aria-describedby"]=void 0);const U=YE(y),V=m&&U?`${U}-helper-text`:void 0,q=I&&U?`${U}-label`:void 0,oe=Gle[j],ce=h.jsx(oe,M({"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:C,name:b,rows:L,maxRows:T,minRows:E,type:k,value:D,id:U,inputRef:_,onBlur:R,onChange:S,onFocus:A,placeholder:N,inputProps:g},B,w));return h.jsxs(Qle,M({className:xe(W.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:O,color:l,variant:j,ownerState:G},F,{children:[I!=null&&I!==""&&h.jsx(koe,M({htmlFor:U,id:q},x,{children:I})),$?h.jsx(oL,M({"aria-describedby":V,id:U,labelId:q,value:D,input:ce},P,{children:o})):ce,m&&h.jsx(Qse,M({id:V},f,{children:m}))]}))}),pi=Yle,br=({isLoading:t,text:e})=>{v.useState(0);const{theme:n,headerTitle:r}=v.useContext(Z);if(t)return h.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${n==="light"?"bg-white":"bg-slate-600 text-white"}`,children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[h.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),h.jsxs("div",{className:"h-3 w-[200px] grid justify-center",children:[h.jsx("div",{className:"mb-3",children:e}),h.jsx(zoe,{})]})]})})},At=({text:t})=>h.jsx(Ue,{m:2,children:h.jsx("div",{children:t})}),Xle=()=>{const{theme:t,userId:e}=v.useContext(Z),[n,r]=v.useState(!0),[i,s]=v.useState(!1),[o,a]=v.useState(null),[l,c]=v.useState(null),u=`${l==null?void 0:l.testName} - Results`,d=Math.round((l==null?void 0:l.score)/(l==null?void 0:l.totalScore)*100),f=En(),{resultId:p}=yf();v.useEffect(()=>{(async()=>{try{r(!0);const x=ke(_e(Ee,"users",e),"history"),g=_e(x,p),w=await Vu(g);w.exists()?(c(w.data()),xn(r,1200)):(xn(r),s(!0))}catch(x){xn(r),a("Error fetching current result: "+x.message),console.log("Error")}})()},[p]),v.useEffect(()=>(Ii(),Ii()),[]);const m=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${l.score} out of ${l.totalScore} in '${l.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return i?h.jsx(At,{text:"No result available"}):o?h.jsx(At,{text:o}):h.jsx("div",{className:"p-5 ",children:h.jsxs("div",{className:"",children:[h.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[h.jsx(wn,{data:{image:"back",clickFn:()=>f("/app/history")}}),n?h.jsx(fe,{height:40,width:150}):h.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:u})]}),h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx("div",{children:h.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:h.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:h.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:h.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:h.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[h.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),n?h.jsx(fe,{height:40,width:60}):h.jsxs("div",{className:" text-lg ",children:[l.score," / ",l.totalScore]})]})})})})})}),h.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:n?h.jsx(fe,{height:40,width:60}):h.jsxs("div",{children:[" ",l.level]})})]}),n?h.jsx(fe,{width:"100%"}):h.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[h.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${d}%`}}),h.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-d}%`}})]}),n?h.jsx(fe,{height:200,width:"100%"}):h.jsxs("div",{className:`grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-slate-200":"border-slate-500/70 text-white"}`,children:[h.jsx(Ra,{text:"Score Percentage",value:`${d}%`,color:"text-lime-500"}),h.jsx(Ra,{text:"Total Questions",value:l.totalScore,color:"text-lime-500"}),h.jsx(Ra,{text:"Correct",value:l.score,color:"text-green-500"}),h.jsx(Ra,{text:"Wrong",value:l.totalScore-l.score,color:"text-red-500"}),h.jsx(Ra,{text:"Date",value:l.date,color:"text-lime-500"}),h.jsx(Ra,{text:"Time",value:l.time,color:"text-lime-500"}),h.jsx(Ra,{text:"Time taken",value:GX(l.timeTaken)||"Unknown",color:"text-lime-500"})]}),h.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n?h.jsx(fe,{height:28,width:28}):h.jsx(wn,{data:{clickFn:()=>f(`/app/history/${p}/reviews`),image:"review"}}),n?h.jsx(fe,{width:60}):h.jsx("div",{className:"text-sm",children:"Review Answers"})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n?h.jsx(fe,{height:28,width:28}):h.jsx(wn,{data:{clickFn:m,image:"share"}}),n?h.jsx(fe,{width:60}):h.jsx("div",{className:"text-sm",children:"Share Score"})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n?h.jsx(fe,{height:28,width:28}):h.jsx(wn,{data:{clickFn:()=>f("/app/posts"),image:"home"}}),n?h.jsx(fe,{width:60}):h.jsx("div",{className:"text-sm",children:"Home"})]})]})]})})},Ra=({text:t,value:e,color:n})=>h.jsxs("div",{children:[h.jsxs("div",{className:`font-medium ${n}`,children:[" ",e]}),h.jsx("div",{className:"text-sm",children:t})]});function Ea(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const si=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:i})=>{const s=t&&t.trim(),o=e&&e.trim(),a=s&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(s||a)return h.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${i}`,src:t});if(o)return h.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return h.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},_u=({data:t})=>{const{clickFn:e,text:n,image:r}=t,i=Le(r),{theme:s}=v.useContext(Z),o=()=>{e&&e()};return h.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${s==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&h.jsx("img",{className:" h-7",src:i}),n&&h.jsx("span",{children:n})]})},oo=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:i,value:s}=t;return v.useContext(Z),h.jsxs(ts,{open:!!s,onClose:()=>i(!1),children:[h.jsx(yse,{children:r}),h.jsxs(Yr,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[h.jsx(Oe,{onClick:e,children:"Yes"}),h.jsx(Oe,{onClick:n,children:"No"})]})]})},Jt=({name:t,className:e,size:n="size-7"})=>h.jsx("img",{className:`${n} ${e}`,src:Le(t)}),Jle=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=v.useState(!1),[i,s]=v.useState(!1),o=v.useRef(null),a=En(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:f,isOnline:p}=v.useContext(Z),m=async()=>{try{await Jk(Sr),e(!1),l(!1),zi.remove("userId"),a("/login")}catch(y){console.log(y.message)}};return Rg(o,r),h.jsxs("div",{ref:o,className:"p-2 ",children:[h.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:h.jsx(oo,{data:{value:i,yesButton:m,noButton:()=>{s(!1)},text:"Are you sure to log out ?",setValue:s}})}),h.jsx(Oe,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start",border:"1px solid transparent"},onClick:()=>r(!n),className:`transition-all p-1 flex items-center rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:h.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[h.jsx("div",{className:"relative size-10",children:h.jsx(si,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),h.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[h.jsx(Et,{className:"font-bold",children:u!=null&&u.name?u.name:"Unknown User"}),f&&h.jsx(wn,{data:{clickFn:d,image:"exit"}})]})]})}),n&&h.jsx("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:h.jsxs("div",{children:[h.jsx(Oe,{onClick:()=>{a("/app/settings"),e(!1),r(!1)},startIcon:h.jsx(Jt,{name:"admin"}),children:"Settings"}),h.jsx(Oe,{onClick:()=>{s(!0)},startIcon:h.jsx(Jt,{name:"logout"}),children:"Log out"})]})})]})},Zle=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:i,historyCount:s,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=v.useContext(Z),u=ku(),d=u.pathname.includes("/app/history"),f=n.includes(u.pathname),p=u.pathname==="/app/"||u.pathname==="/app",m=u.pathname.includes("/app/tests"),y=u.pathname.includes("/app/help"),x=u.pathname.includes("/app/notifications"),g=u.pathname.includes("/app/chatroom");v.useEffect(()=>{try{Ks(ke(_e(Ee,"users",c),"history"),o),Ks(ke(Ee,"notifications"),l)}catch(E){console.log(E.message)}},[]);const w=()=>{let E=0;return i.forEach(C=>{Ag(i,C.id)||(E+=1)}),!!(E>0&&(r!=null&&r.name))},_=[{text:"Home",image:"home",path:"/app",active:p},{text:"Tests",image:"exam",path:"/app/tests",active:m},{text:"History",image:"history",path:"/app/history",items:s,active:d},{text:"Notifications",image:"notification",path:"/app/notifications",items:a,active:x},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:g},{text:"Admin",image:"admin",path:"/app/admin",active:f},{text:"Help",image:"help",path:"/app/help",active:y}],I=["Admin"],T=_.filter(E=>r!=null&&r.isAdmin?!0:!I.includes(E.text));return h.jsxs(Fle,{variant:"temporary",transitionDuration:{enter:500,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[h.jsx("div",{className:"flex p-2 items-center",children:h.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[h.jsx(kn,{onClick:()=>e(!1),children:h.jsx("img",{className:"w-8",src:Le("close")})}),h.jsx(Et,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),h.jsxs(Yr,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[h.jsx(B7,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:h.jsx("div",{className:"mr-2 ml-2",children:T.map(E=>h.jsx(ece,{setIsMenuOpen:e,data:{active:E.active,image:E.image,path:E.path,text:E.text,items:E==null?void 0:E.items,color:E.color,isThereNewMessages:w}},E.text))})}),h.jsx(Jle,{data:{setIsMenuOpen:e}})]})]})},ece=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:i,items:s,path:o,color:a,isThereNewMessages:l}=e,c=En(),{theme:u,currentTest:d}=v.useContext(Z);return h.jsxs(Oe,{sx:{justifyContent:"start",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      ${u==="light"?` ${n?"bg-blue-500/70":"hover:bg-slate-200"}`:` ${n?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[h.jsx("img",{className:`size-9 p-1 transition-all
        `,src:Le(r)}),h.jsx("div",{children:i}),s&&s>=0?h.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}):"",d&&i==="Home"&&h.jsxs("div",{className:"text-sm",children:["(Taking ",Ea(d.name,45),")"]}),i==="Chat Room"&&(l()?h.jsx("div",{className:"absolute left-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},tce=()=>{const{headerTitle:t,newMessages:e,userData:n,isLogin:r}=v.useContext(Z),[i,s]=v.useState(!1);return h.jsx(j7,{position:"sticky",sx:{zIndex:"20"},children:h.jsx(aL,{sx:{padding:"5px",backgroundColor:"white"},children:h.jsxs(dh,{container:!0,justifyContent:"space-between",children:[h.jsxs(dh,{item:!0,display:"flex",alignItems:"center",children:[r&&h.jsxs(h.Fragment,{children:[h.jsxs(kn,{sx:{position:"relative"},onClick:()=>s(!0),children:[h.jsx("img",{className:"w-8",src:Le("menu")}),KX(e,n)?h.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]}),i&&h.jsx(Zle,{setIsMenuOpen:s,isMenuOpen:i})]}),h.jsx(Et,{sx:{fontWeight:"bold",color:"black"},children:t})]}),h.jsx(dh,{item:!0,children:h.jsx("div",{className:"flex gap-x-2 items-center",children:h.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},lL=({title:t,text:e})=>{const{isLogin:n,theme:r,headerTitle:i,setHeaderTitle:s}=v.useContext(Z),o=En();return v.useEffect(()=>(s("STAR EDUCATION ACADEMY"),()=>{document.title=i}),[]),h.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&h.jsx(Et,{variant:"subtitle2",children:e}),h.jsx("div",{children:h.jsx(Oe,{onClick:()=>o(n?"/app":"/login"),startIcon:h.jsx("img",{className:"size-7",src:Le("redo")}),children:"Return Home"})})]})},Rc=()=>h.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),nce=()=>{var T;const{theme:t,userId:e,setHeaderTitle:n}=v.useContext(Z),r=0,i=10,[s,o]=v.useState(i),[a,l]=v.useState({}),c=(T=a==null?void 0:a.results)==null?void 0:T.slice(r,s),u=`${a==null?void 0:a.testName} - Review your answers`,{resultId:d}=yf(),[f,p]=v.useState(!0),[m,y]=v.useState(!1),[x,g]=v.useState(null),w=async()=>{try{p(!0);const E=ke(_e(Ee,"users",e),"history"),C=_e(E,d),b=await Vu(C);if(b.exists){const R={id:b.id,...b.data()};l(R),xn(p)}else y(!0),xn(p)}catch(E){g("Error fetching reviews: "+E.message),xn(p)}};v.useEffect(()=>{w()},[d]),v.useEffect(()=>(Ii(),Ii()),[]);const _=()=>{o(s+i)},I=()=>{var E;if(s>((E=a==null?void 0:a.results)==null?void 0:E.length))return!0};return v.useEffect(()=>{n(u)}),f?h.jsx(br,{isLoading:f,text:"Loading reviews..."}):m?h.jsx(At,{text:"No reviews available"}):x?h.jsx(At,{text:x}):h.jsx("div",{className:"p-5",children:a?h.jsxs("div",{className:"grid gap-y-5",children:[h.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:u}),c==null?void 0:c.map(E=>{const{id:C,question:b,isTrue:R,answer:S,userAnswer:A}=E;return R?h.jsxs("div",{className:"grid font-padauk gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),h.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:b})]}),h.jsx("div",{children:h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),h.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[h.jsx("img",{className:"w-5 h-5",src:Le("trueIcon")}),h.jsx("div",{children:S})]})]})}),h.jsx(Rc,{})]},`result-${C}`):h.jsxs("div",{className:"grid font-padauk gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),h.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:b})]}),h.jsxs("div",{className:"grid gap-y-1",children:[h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),h.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[h.jsx("img",{className:"w-5 h-5",src:Le("falseIcon")}),h.jsx("div",{children:A})]})]}),h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),h.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[h.jsx("img",{className:"w-5 h-5",src:Le("trueIcon")}),h.jsx("div",{children:S})]})]})]}),h.jsx(Rc,{})]},`result-${C}`)}),I()?"":h.jsx("div",{className:"flex justify-center",children:h.jsx(Oe,{size:"small",onClick:_,startIcon:h.jsx(Jt,{name:"down"}),children:"See More"})}),h.jsx("div",{children:h.jsx(G$,{to:`/app/history/${d}`,children:h.jsx(Oe,{size:"small",startIcon:h.jsx(Jt,{name:"back"}),children:"Back to results"})})})]}):h.jsx(lL,{text:"Unavailable"})})},cL=()=>h.jsxs("div",{className:"grid gap-y-2  p-2 ",children:[h.jsx(fe,{variant:"text",width:150}),h.jsx(fe,{variant:"rectangular",height:55,width:"100%"})]}),ZS=()=>{const{deleteFromHistory:t,theme:e,setHeaderTitle:n,userId:r,historyCount:i}=v.useContext(Z),s=En(),[o,a]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,p]=v.useState(!1),[m,y]=v.useState(!1),[x,g]=v.useState([]),w=ke(_e(Ee,"users",r),"history"),[_,I]=v.useState(!0),[T,E]=v.useState(!1),[C,b]=v.useState(null),[R,S]=v.useState(null),A=5,N=async()=>{I(!0);let k=xr(w,no(A));R&&(k=xr(k,yg(R)));try{const D=await wa(k);if(D.empty)E(!0);else{const j=D.docs.map(F=>({id:F.id,...F.data()}));a([...o,...j]),S(D.docs[D.docs.length-1]),xn(I)}}catch(D){const j="Error fetching history: "+D.message;console.log(j),I(!1),b(j)}};v.useEffect(()=>{N()},[]);const O=k=>{m||s(`/app/history/${k.id}`)},L=()=>{t(l),c(null),d(!1)},$=()=>{d(!1),c(null)},P=()=>{const k=o.filter(D=>!x.includes(D.id));a(k),g([]),p(!1),y(!1)};return Gf("history-page"),Kf("history-page"),v.useEffect(()=>{n("History")},[]),_?h.jsx(br,{isLoading:_,text:"Loading history..."}):T?h.jsx(At,{text:"No posts available"}):C?h.jsx(At,{text:C}):h.jsxs("div",{className:"p-5",children:[h.jsx(oo,{data:{value:f,setValue:p,text:`Are you sure to delete ${x.length} ${x.length<=1?"item":"items"} ?`,yesButton:P,noButton:()=>p(!1),setValue:p}}),h.jsx(oo,{data:{value:u,text:"Are you sure to delete ?",yesButton:L,noButton:$,setValue:d}}),h.jsxs("div",{className:"grid border border-slate-200 rounded-md shadow-md ",children:[o.map((k,D)=>h.jsx(rce,{h:k,index:D,goToResults:O},`history-item-${k.id}`)),i>A&&o.length<i?h.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:h.jsx(Oe,{size:"small",onClick:N,children:"load more"})}):""]})]})},rce=({h:t,index:e,goToResults:n})=>{const{theme:r}=v.useContext(Z),[i,s]=v.useState(!0);return xn(s,2e3),i?h.jsx(cL,{}):h.jsxs(Ue,{onClick:()=>n(t,e),className:`min-h-20 p-2 border-t  cursor-pointer ${e===0&&"border-t-0"} gap-x-3 ${r==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[h.jsx("div",{className:`font-medium  ${r==="light"?" ":"bg-slate-500/70"}`,children:t.testName}),h.jsx("div",{className:"p-2 flex items-center gap-x-2",children:h.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:h.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[h.jsxs("div",{className:"",children:["Score: ",t.score," / ",t.results.length," "]}),h.jsxs("div",{className:" ",children:["Date: ",t.date," (",` ${t.time}`,")"]})]})})})]})},ice=()=>{const[t,e]=v.useState(0),n=()=>{const r=window.innerHeight,i=document.documentElement.scrollHeight,s=window.scrollY,o=i-r,a=s/o*100;e(a)};return v.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:h.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},sce=()=>{const{users:t,theme:e,setHeaderTitle:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(null),[a,l]=v.useState(null),c=[{name:"Posts",image:"home",path:"/app/admin/posts",counts:r},{name:"Tests",image:"exam",path:"/app/admin/tests",counts:s},{name:"Users",image:"user",path:"/app/admin/users",counts:a}],[u,d]=v.useState(c);v.useEffect(()=>{(async()=>{await Ks(ke(Ee,"posts"),i),await Ks(ke(Ee,"tests"),o),await Ks(ke(Ee,"users"),l)})()},[]);const f=En();return v.useEffect(()=>{n("Admin")},[]),v.useEffect(()=>{d(c)},[r,s,a]),h.jsxs("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md  ",children:[h.jsx(br,{}),u.map((p,m)=>h.jsxs(Ue,{onClick:()=>{f(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer hover:bg-slate-100`,children:[h.jsx("img",{className:"w-7 ",src:Le(p.image)}),h.jsx("div",{children:p.name}),p.counts&&h.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))]})},oce=()=>{const e=new Date().getFullYear();return v.useContext(Z),h.jsxs(Yr,{className:" w-full shadow-t-md flex flex-col items-center p-1 bg-white border-t  mt-auto border-t-slate-200 ",rowGap:.5,children:[h.jsxs(Et,{children:["SEA copyright 2015 - ",e]}),h.jsx(Et,{children:"All rights reserved."}),h.jsx(Et,{children:"Author: Than Aung Naing"})]})},ace=({message:t,bgColor:e="bg-slate-200"})=>h.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:h.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),lce=()=>{const{setHeaderTitle:t,theme:e,setIsLogIn:n}=v.useContext(Z),[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(null),[p,m]=v.useState("login"),y=En();v.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const x=()=>{y("/app")};Rl("auto");const g=async(C,b,R,S="",A)=>{try{const N=_e(Ee,"users",A),O=await Vu(N),L={name:C,email:b,password:R,image:S,isAdmin:!1,createdAt:rr()};console.log("User exists: ",O.exists()),O.exists()||await WX(()=>nl(_e(Ee,"users",A),L))}catch(N){console.log(N.message)}},w=async()=>{try{const b=(await _z(Sr,zX)).user;await g(Sr.currentUser.displayName,Sr.currentUser.email,"",Sr.currentUser.photoURL,b.uid),zi.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){f(C.message),u(!0)}},_=async()=>{try{const b=(await GU(Sr,s,a)).user;zi.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){f(C.message),u(!0)}},I=async()=>{try{const C=await qU(Sr,s,a),{user:b}=C;zi.set("userId",b.uid,{expires:365}),await g(r,s,a,"",b.uid),n(!0),x()}catch(C){f(C.message),u(!0)}},T=()=>{const C=zi.get("userId")||null;let b=!1;return C&&(b=!0),{loggedIn:b,userId:C}},E=()=>{switch(p){case"login":return h.jsxs("div",{children:[h.jsx(Tw,{open:c,onClose:()=>u(!1),message:d,autoHideDuration:3e3}),h.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[h.jsx(Et,{variant:"h6",color:"primary",children:"Log In"}),h.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[h.jsx(pi,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:C=>o(C.target.value)}),h.jsx(pi,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:C=>l(C.target.value)}),h.jsx(Oe,{onClick:_,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),h.jsx(e4,{}),h.jsx("div",{children:h.jsx(Oe,{onClick:w,startIcon:h.jsx("img",{className:"size-7",src:Le("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),h.jsx(e4,{}),h.jsx("div",{children:h.jsx(Oe,{onClick:()=>m("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})]});case"signup":return h.jsx("div",{children:h.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[h.jsx(Tw,{open:c,onClose:()=>u(!1),message:d,autoHideDuration:2e3}),h.jsx(Et,{variant:"h6",color:"primary",children:"Create a new account"}),h.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[h.jsx(pi,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:r,onChange:C=>i(C.target.value)}),h.jsx(pi,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:C=>o(C.target.value)}),h.jsx(pi,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:C=>l(C.target.value)}),h.jsx(Oe,{onClick:()=>{I()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),h.jsx("div",{children:h.jsx(Oe,{startIcon:h.jsx("img",{className:"size-7",src:Le("back")}),onClick:()=>m("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return h.jsxs("div",{className:"Login mb-5",children:[h.jsx(br,{}),T().loggedIn?h.jsx(cce,{userId:T().userId}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${e==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),E()]})]})},e4=()=>{const{theme:t}=v.useContext(Z);return h.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})},cce=({userId:t})=>{_e(ke(Ee,"users"),t),v.useState(null);const e=En(),{userData:n}=v.useContext(Z);return h.jsxs(Yr,{m:2,children:[h.jsxs(Et,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),h.jsx(Ue,{mt:1,children:h.jsx(Oe,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function uce(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function uL(t,e){return new Promise(function(n,r){let i;return dce(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const dce=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,u),f=c+d+2+12*s.getUint16(c+d,u);for(let p=c+d+2;p<f;p+=12)if(s.getUint16(p,u)==274){if(s.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Jm={},hce={get exports(){return Jm},set exports(t){Jm=t}};(function(t){var e,n,r={};hce.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var f=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var y=0;y<f;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var x=a(u,l+=4),g=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var I=a(u,l+=8);l+=4,l+=g+w+_,r._readLocal(u,I,c,p,x,s)}return c},r._readLocal=function(i,s,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var f=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=u(i,s+=8),m=u(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,p);if(s+=p,s+=m,c)o[y]={size:l,csize:a};else{var x=new Uint8Array(i.buffer,s);if(f==0)o[y]=new Uint8Array(x.buffer.slice(s,s+a));else{if(f!=8)throw"unknown compression method: "+f;var g=new Uint8Array(l);r.inflateRaw(x,g),o[y]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var d=!r._noNeed(u)&&!s,f=i[u],p=r.crc.crc(f,0,f.length);c[u]={cpr:d,usize:f.length,crc:p,file:d?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),y=0,x=[];for(var u in c){var g=c[u];x.push(y),y=r._writeHeader(m,y,u,g,0)}var w=0,_=y;for(var u in c)g=c[u],x.push(y),y=r._writeHeader(m,y,u,g,1,x[w++]);var I=y-_;return a(m,y,101010256),y+=4,l(m,y+=4,w),l(m,y+=2,w),a(m,y+=2,I),a(m,y+=4,_),y+=4,y+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,f=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,f.length),u(i,s+=4,a.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(f,s),s+=f.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,u=s+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,f=0,p=o<<3,m=0,y=i.length;if(a==0){for(;f<y;)d(s,p,f+(A=Math.min(65535,y-f))==y?1:0),p=r.F._copyExact(i,f,A,s,p+8),f+=A;return p>>>3}var x=c.lits,g=c.strt,w=c.prev,_=0,I=0,T=0,E=0,C=0,b=0;for(y>2&&(g[b=r.F._hash(i,0)]=0),f=0;f<y;f++){if(C=b,f+1<y-2){b=r.F._hash(i,f+1);var R=f+1&32767;w[R]=g[b],g[b]=R}if(m<=f){(_>14e3||I>26697)&&y-f>100&&(m<f&&(x[_]=f-m,_+=2,m=f),p=r.F._writeBlock(f==y-1||m==y?1:0,x,_,E,i,T,f-T,s,p),_=I=E=0,T=f);var S=0;f<y-2&&(S=r.F._bestMatch(i,f,w,C,Math.min(l[2],y-f),l[3]));var A=S>>>16,N=65535&S;if(S!=0){N=65535&S;var O=u(A=S>>>16,c.of0);c.lhst[257+O]++;var L=u(N,c.df0);c.dhst[L]++,E+=c.exb[O]+c.dxb[L],x[_]=A<<23|f-m,x[_+1]=N<<16|O<<8|L,_+=2,m=f+A}else c.lhst[i[f]]++;I++}}for(T==f&&i.length!=0||(m<f&&(x[_]=f-m,_+=2,m=f),p=r.F._writeBlock(1,x,_,E,i,T,f-T,s,p),_=0,I=0,_=I=E=0,T=f);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var u=32767&s,d=o[u],f=u-d+32768&32767;if(d==u||a!=r.F._hash(i,s-f))return 0;for(var p=0,m=0,y=Math.min(32767,s);f<=y&&--c!=0&&d!=u;){if(p==0||i[s+p]==i[s+p-f]){var x=r.F._howLong(i,s,f);if(x>p){if(m=f,(p=x)>=l)break;f+2<x&&(x=f+2);for(var g=0,w=0;w<x-2;w++){var _=s-f+w+32768&32767,I=_-o[_]+32768&32767;I>g&&(g=I,d=_)}}}f+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,u,d,f){var p,m,y,x,g,w,_,I,T,E=r.F.U,C=r.F._putsF,b=r.F._putsE;E.lhst[256]++,m=(p=r.F.getTrees())[0],y=p[1],x=p[2],g=p[3],w=p[4],_=p[5],I=p[6],T=p[7];var R=32+(f+3&7?8-(f+3&7):0)+(u<<3),S=a+r.F.contSize(E.fltree,E.lhst)+r.F.contSize(E.fdtree,E.dhst),A=a+r.F.contSize(E.ltree,E.lhst)+r.F.contSize(E.dtree,E.dhst);A+=14+3*_+r.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var N=0;N<286;N++)E.lhst[N]=0;for(N=0;N<30;N++)E.dhst[N]=0;for(N=0;N<19;N++)E.ihst[N]=0;var O=R<S&&R<A?0:S<A?1:2;if(C(d,f,i),C(d,f+1,O),f+=3,O==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,d,f)}else{var L,$;if(O==1&&(L=E.fltree,$=E.fdtree),O==2){r.F.makeCodes(E.ltree,m),r.F.revCodes(E.ltree,m),r.F.makeCodes(E.dtree,y),r.F.revCodes(E.dtree,y),r.F.makeCodes(E.itree,x),r.F.revCodes(E.itree,x),L=E.ltree,$=E.dtree,b(d,f,g-257),b(d,f+=5,w-1),b(d,f+=5,_-4),f+=4;for(var P=0;P<_;P++)b(d,f+3*P,E.itree[1+(E.ordr[P]<<1)]);f+=3*_,f=r.F._codeTiny(I,E.itree,d,f),f=r.F._codeTiny(T,E.itree,d,f)}for(var k=c,D=0;D<o;D+=2){for(var j=s[D],F=j>>>23,G=k+(8388607&j);k<G;)f=r.F._writeLit(l[k++],L,d,f);if(F!=0){var W=s[D+1],B=W>>16,U=W>>8&255,V=255&W;b(d,f=r.F._writeLit(257+U,L,d,f),F-E.of0[U]),f+=E.exb[U],C(d,f=r.F._writeLit(V,$,d,f),B-E.df0[V]),f+=E.dxb[V],k+=F}}f=r.F._writeLit(256,L,d,f)}return f},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],u=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var f=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,f,l,u,p,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];a=r.F._writeLit(c,s,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&i[f+2]==l;)f+=2;(p=Math.min(f+1-a>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(f=a+5;f+2<o&&i[f+2]==l;)f+=2;var p=Math.min(f+1-a>>>1,6);s.push(16,p-3),a+=2*p-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var d=a.length,f=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return f=p==0?1:0,s[1+(p<<1)]=1,s[1+(f<<1)]=1,1}a.sort(function(I,T){return I.f-T.f});var m=a[0],y=a[1],x=0,g=1,w=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],y=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],a[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var _=r.F.setDepth(a[g-1],0);for(_>o&&(r.F.restrictDepth(f,o,_),_=o),u=0;u<d;u++)s[1+(f[u].lit<<1)]=f[u].d;return _},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,c+=l-(1<<o-u)}for(c>>>=o-s;c>0;)(u=i[a].d)<s?(i[a].d++,c-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,f=a.codes2map,p=a._get17,m=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var x,g,w=0,_=0,I=0,T=0,E=0,C=0,b=0,R=0,S=0;w==0;)if(w=l(i,S,1),_=l(i,S+1,2),S+=3,_!=0){if(y&&(s=r.F._check(s,R+(1<<17))),_==1&&(x=m.flmap,g=m.fdmap,C=511,b=31),_==2){I=c(i,S,5)+257,T=c(i,S+5,5)+1,E=c(i,S+10,4)+4,S+=14;for(var A=0;A<38;A+=2)m.itree[A]=0,m.itree[A+1]=0;var N=1;for(A=0;A<E;A++){var O=c(i,S+3*A,3);m.itree[1+(m.ordr[A]<<1)]=O,O>N&&(N=O)}S+=3*E,d(m.itree,N),f(m.itree,N,m.imap),x=m.lmap,g=m.dmap,S=u(m.imap,(1<<N)-1,I+T,i,S,m.ttree);var L=a._copyOut(m.ttree,0,I,m.ltree);C=(1<<L)-1;var $=a._copyOut(m.ttree,I,T,m.dtree);b=(1<<$)-1,d(m.ltree,L),f(m.ltree,L,x),d(m.dtree,$),f(m.dtree,$,g)}for(;;){var P=x[p(i,S)&C];S+=15&P;var k=P>>>4;if(!(k>>>8))s[R++]=k;else{if(k==256)break;var D=R+k-254;if(k>264){var j=m.ldef[k-257];D=R+(j>>>3)+c(i,S,7&j),S+=7&j}var F=g[p(i,S)&b];S+=15&F;var G=F>>>4,W=m.ddef[G],B=(W>>>4)+l(i,S,15&W);for(S+=15&W,y&&(s=r.F._check(s,R+(1<<17)));R<D;)s[R]=s[R++-B],s[R]=s[R++-B],s[R]=s[R++-B],s[R]=s[R++-B];R=D}}}else{7&S&&(S+=8-(7&S));var U=4+(S>>>3),V=i[U-4]|i[U-3]<<8;y&&(s=r.F._check(s,R+V)),s.set(new o(i.buffer,i.byteOffset+U,V),R),S=U+V<<3,R+=V}return s.length==R?s:s.slice(0,R)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,f=0;f<o;){var p=i[d(a,l)&s];l+=15&p;var m=p>>>4;if(m<=15)c[f]=m,f++;else{var y=0,x=0;m==16?(x=3+u(a,l,2),l+=2,y=c[f-1]):m==17?(x=3+u(a,l,3),l+=3):m==18&&(x=11+u(a,l,7),l+=7);for(var g=f+x;f<g;)c[f]=y,f++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=i[c+s];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,u=r.F.U,d=i.length,f=u.bl_count,p=0;p<=s;p++)f[p]=0;for(p=1;p<d;p+=2)f[i[p]]++;var m=u.next_code;for(o=0,f[0]=0,a=1;a<=s;a++)o=o+f[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=m[c],m[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],f=u<<4|d,p=s-d,m=i[c]<<p,y=m+(1<<p);m!=y;)o[l[m]>>>15-s]=f,m++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var fce=uce({__proto__:null,default:Jm},[Jm]);const Mi=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,f){u[d]=f>>8&255,u[d+1]=255&f},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,f){u[d]=f>>24&255,u[d+1]=f>>16&255,u[d+2]=f>>8&255,u[d+3]=255&f},readASCII(u,d,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,f){for(let p=0;p<f.length;p++)u[d+p]=f.charCodeAt(p)},readBytes(u,d,f){const p=[];for(let m=0;m<f;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,f){let p,m="";for(let y=0;y<f;y++)m+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,f)}return p}};function e(u,d,f,p){const m=d*f,y=s(p),x=Math.ceil(d*y/8),g=new Uint8Array(4*m),w=new Uint32Array(g.buffer),{ctype:_}=p,{depth:I}=p,T=t.readUshort;if(_==6){const j=m<<2;if(I==8)for(var E=0;E<j;E+=4)g[E]=u[E],g[E+1]=u[E+1],g[E+2]=u[E+2],g[E+3]=u[E+3];if(I==16)for(E=0;E<j;E++)g[E]=u[E<<1]}else if(_==2){const j=p.tabs.tRNS;if(j==null){if(I==8)for(E=0;E<m;E++){var C=3*E;w[E]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C]}if(I==16)for(E=0;E<m;E++)C=6*E,w[E]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C]}else{var b=j[0];const F=j[1],G=j[2];if(I==8)for(E=0;E<m;E++){var R=E<<2;C=3*E,w[E]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C],u[C]==b&&u[C+1]==F&&u[C+2]==G&&(g[R+3]=0)}if(I==16)for(E=0;E<m;E++)R=E<<2,C=6*E,w[E]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C],T(u,C)==b&&T(u,C+2)==F&&T(u,C+4)==G&&(g[R+3]=0)}}else if(_==3){const j=p.tabs.PLTE,F=p.tabs.tRNS,G=F?F.length:0;if(I==1)for(var S=0;S<f;S++){var A=S*x,N=S*d;for(E=0;E<d;E++){R=N+E<<2;var O=3*(L=u[A+(E>>3)]>>7-((7&E)<<0)&1);g[R]=j[O],g[R+1]=j[O+1],g[R+2]=j[O+2],g[R+3]=L<G?F[L]:255}}if(I==2)for(S=0;S<f;S++)for(A=S*x,N=S*d,E=0;E<d;E++)R=N+E<<2,O=3*(L=u[A+(E>>2)]>>6-((3&E)<<1)&3),g[R]=j[O],g[R+1]=j[O+1],g[R+2]=j[O+2],g[R+3]=L<G?F[L]:255;if(I==4)for(S=0;S<f;S++)for(A=S*x,N=S*d,E=0;E<d;E++)R=N+E<<2,O=3*(L=u[A+(E>>1)]>>4-((1&E)<<2)&15),g[R]=j[O],g[R+1]=j[O+1],g[R+2]=j[O+2],g[R+3]=L<G?F[L]:255;if(I==8)for(E=0;E<m;E++){var L;R=E<<2,O=3*(L=u[E]),g[R]=j[O],g[R+1]=j[O+1],g[R+2]=j[O+2],g[R+3]=L<G?F[L]:255}}else if(_==4){if(I==8)for(E=0;E<m;E++){R=E<<2;var $=u[P=E<<1];g[R]=$,g[R+1]=$,g[R+2]=$,g[R+3]=u[P+1]}if(I==16)for(E=0;E<m;E++){var P;R=E<<2,$=u[P=E<<2],g[R]=$,g[R+1]=$,g[R+2]=$,g[R+3]=u[P+2]}}else if(_==0)for(b=p.tabs.tRNS?p.tabs.tRNS:-1,S=0;S<f;S++){const j=S*x,F=S*d;if(I==1)for(var k=0;k<d;k++){var D=($=255*(u[j+(k>>>3)]>>>7-(7&k)&1))==255*b?0:255;w[F+k]=D<<24|$<<16|$<<8|$}else if(I==2)for(k=0;k<d;k++)D=($=85*(u[j+(k>>>2)]>>>6-((3&k)<<1)&3))==85*b?0:255,w[F+k]=D<<24|$<<16|$<<8|$;else if(I==4)for(k=0;k<d;k++)D=($=17*(u[j+(k>>>1)]>>>4-((1&k)<<2)&15))==17*b?0:255,w[F+k]=D<<24|$<<16|$<<8|$;else if(I==8)for(k=0;k<d;k++)D=($=u[j+k])==b?0:255,w[F+k]=D<<24|$<<16|$<<8|$;else if(I==16)for(k=0;k<d;k++)$=u[j+(k<<1)],D=T(u,j+(k<<1))==b?0:255,w[F+k]=D<<24|$<<16|$<<8|$}return g}function n(u,d,f,p){const m=s(u),y=Math.ceil(f*m/8),x=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?i(d,x):r(d,x),u.interlace==0?d=o(d,u,0,f,p):u.interlace==1&&(d=function(w,_){const I=_.width,T=_.height,E=s(_),C=E>>3,b=Math.ceil(I*E/8),R=new Uint8Array(T*b);let S=0;const A=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],O=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const k=O[$],D=L[$];let j=0,F=0,G=A[$];for(;G<T;)G+=k,F++;let W=N[$];for(;W<I;)W+=D,j++;const B=Math.ceil(j*E/8);o(w,_,S,j,F);let U=0,V=A[$];for(;V<T;){let q=N[$],oe=S+U*B<<3;for(;q<I;){var P;if(E==1&&(P=(P=w[oe>>3])>>7-(7&oe)&1,R[V*b+(q>>3)]|=P<<7-((7&q)<<0)),E==2&&(P=(P=w[oe>>3])>>6-(7&oe)&3,R[V*b+(q>>2)]|=P<<6-((3&q)<<1)),E==4&&(P=(P=w[oe>>3])>>4-(7&oe)&15,R[V*b+(q>>1)]|=P<<4-((1&q)<<2)),E>=8){const ce=V*b+q*C;for(let ee=0;ee<C;ee++)R[ce+ee]=w[(oe>>3)+ee]}oe+=E,q+=D}U++,V+=k}j*F!=0&&(S+=F*(1+B)),$+=1}return R}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,f){const p=Uint8Array;let m,y,x=0,g=0,w=0,_=0,I=0,T=0,E=0,C=0,b=0;if(d[0]==3&&d[1]==0)return f||new p(0);const R=u.H,S=R.b,A=R.e,N=R.R,O=R.n,L=R.A,$=R.Z,P=R.m,k=f==null;for(k&&(f=new p(d.length>>>2<<5));x==0;)if(x=S(d,b,1),g=S(d,b+1,2),b+=3,g!=0){if(k&&(f=u.H.W(f,C+(1<<17))),g==1&&(m=P.J,y=P.h,T=511,E=31),g==2){w=A(d,b,5)+257,_=A(d,b+5,5)+1,I=A(d,b+10,4)+4,b+=14;let j=1;for(var D=0;D<38;D+=2)P.Q[D]=0,P.Q[D+1]=0;for(D=0;D<I;D++){const W=A(d,b+3*D,3);P.Q[1+(P.X[D]<<1)]=W,W>j&&(j=W)}b+=3*I,O(P.Q,j),L(P.Q,j,P.u),m=P.w,y=P.d,b=N(P.u,(1<<j)-1,w+_,d,b,P.v);const F=R.V(P.v,0,w,P.C);T=(1<<F)-1;const G=R.V(P.v,w,_,P.D);E=(1<<G)-1,O(P.C,F),L(P.C,F,m),O(P.D,G),L(P.D,G,y)}for(;;){const j=m[$(d,b)&T];b+=15&j;const F=j>>>4;if(!(F>>>8))f[C++]=F;else{if(F==256)break;{let G=C+F-254;if(F>264){const q=P.q[F-257];G=C+(q>>>3)+A(d,b,7&q),b+=7&q}const W=y[$(d,b)&E];b+=15&W;const B=W>>>4,U=P.c[B],V=(U>>>4)+S(d,b,15&U);for(b+=15&U;C<G;)f[C]=f[C++-V],f[C]=f[C++-V],f[C]=f[C++-V],f[C]=f[C++-V];C=G}}}}else{7&b&&(b+=8-(7&b));const j=4+(b>>>3),F=d[j-4]|d[j-3]<<8;k&&(f=u.H.W(f,C+F)),f.set(new p(d.buffer,d.byteOffset+j,F),C),b=j+F<<3,C+=F}return f.length==C?f:f.slice(0,C)},u.H.W=function(d,f){const p=d.length;if(f<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,f,p,m,y,x){const g=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const I=d[w(m,y)&f];y+=15&I;const T=I>>>4;if(T<=15)x[_]=T,_++;else{let E=0,C=0;T==16?(C=3+g(m,y,2),y+=2,E=x[_-1]):T==17?(C=3+g(m,y,3),y+=3):T==18&&(C=11+g(m,y,7),y+=7);const b=_+C;for(;_<b;)x[_]=E,_++}}return y},u.H.V=function(d,f,p,m){let y=0,x=0;const g=m.length>>>1;for(;x<p;){const w=d[x+f];m[x<<1]=0,m[1+(x<<1)]=w,w>y&&(y=w),x++}for(;x<g;)m[x<<1]=0,m[1+(x<<1)]=0,x++;return y},u.H.n=function(d,f){const p=u.H.m,m=d.length;let y,x,g,w;const _=p.j;for(var I=0;I<=f;I++)_[I]=0;for(I=1;I<m;I+=2)_[d[I]]++;const T=p.K;for(y=0,_[0]=0,x=1;x<=f;x++)y=y+_[x-1]<<1,T[x]=y;for(g=0;g<m;g+=2)w=d[g+1],w!=0&&(d[g]=T[w],T[w]++)},u.H.A=function(d,f,p){const m=d.length,y=u.H.m.r;for(let x=0;x<m;x+=2)if(d[x+1]!=0){const g=x>>1,w=d[x+1],_=g<<4|w,I=f-w;let T=d[x]<<I;const E=T+(1<<I);for(;T!=E;)p[y[T]>>>15-f]=_,T++}},u.H.l=function(d,f){const p=u.H.m.r,m=15-f;for(let y=0;y<d.length;y+=2){const x=d[y]<<f-d[y+1];d[y]=p[x]>>>m}},u.H.M=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},u.H.b=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},u.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[f]=(m>>>16|m<<16)>>>17}function p(m,y,x){for(;y--!=0;)m.push(0,x)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,f,p,m){let y=s(d);const x=Math.ceil(p*y/8);let g,w;y=Math.ceil(y/8);let _=u[f],I=0;if(_>1&&(u[f]=[0,0,1][_-2]),_==3)for(I=y;I<x;I++)u[I+1]=u[I+1]+(u[I+1-y]>>>1)&255;for(let T=0;T<m;T++)if(g=f+T*x,w=g+T+1,_=u[w-1],I=0,_==0)for(;I<x;I++)u[g+I]=u[w+I];else if(_==1){for(;I<y;I++)u[g+I]=u[w+I];for(;I<x;I++)u[g+I]=u[w+I]+u[g+I-y]}else if(_==2)for(;I<x;I++)u[g+I]=u[w+I]+u[g+I-x];else if(_==3){for(;I<y;I++)u[g+I]=u[w+I]+(u[g+I-x]>>>1);for(;I<x;I++)u[g+I]=u[w+I]+(u[g+I-x]+u[g+I-y]>>>1)}else{for(;I<y;I++)u[g+I]=u[w+I]+a(0,u[g+I-x],0);for(;I<x;I++)u[g+I]=u[w+I]+a(u[g+I-y],u[g+I-x],u[g+I-y-x])}return u}function a(u,d,f){const p=u+d-f,m=p-u,y=p-d,x=p-f;return m*m<=y*y&&m*m<=x*x?u:y*y<=x*x?d:f}function l(u,d,f){f.width=t.readUint(u,d),d+=4,f.height=t.readUint(u,d),d+=4,f.depth=u[d],d++,f.ctype=u[d],d++,f.compress=u[d],d++,f.filter=u[d],d++,f.interlace=u[d],d++}function c(u,d,f,p,m,y,x,g,w){const _=Math.min(d,m),I=Math.min(f,y);let T=0,E=0;for(let $=0;$<I;$++)for(let P=0;P<_;P++)if(x>=0&&g>=0?(T=$*d+P<<2,E=(g+$)*m+x+P<<2):(T=(-g+$)*d-x+P<<2,E=$*m+P<<2),w==0)p[E]=u[T],p[E+1]=u[T+1],p[E+2]=u[T+2],p[E+3]=u[T+3];else if(w==1){var C=u[T+3]*.00392156862745098,b=u[T]*C,R=u[T+1]*C,S=u[T+2]*C,A=p[E+3]*(1/255),N=p[E]*A,O=p[E+1]*A,L=p[E+2]*A;const k=1-C,D=C+A*k,j=D==0?0:1/D;p[E+3]=255*D,p[E+0]=(b+N*k)*j,p[E+1]=(R+O*k)*j,p[E+2]=(S+L*k)*j}else if(w==2)C=u[T+3],b=u[T],R=u[T+1],S=u[T+2],A=p[E+3],N=p[E],O=p[E+1],L=p[E+2],C==A&&b==N&&R==O&&S==L?(p[E]=0,p[E+1]=0,p[E+2]=0,p[E+3]=0):(p[E]=b,p[E+1]=R,p[E+2]=S,p[E+3]=C);else if(w==3){if(C=u[T+3],b=u[T],R=u[T+1],S=u[T+2],A=p[E+3],N=p[E],O=p[E+1],L=p[E+2],C==A&&b==N&&R==O&&S==L)continue;if(C<220&&A>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let p=8;const m=t,y=m.readUshort,x=m.readUint,g={tabs:{},frames:[]},w=new Uint8Array(f.length);let _,I=0,T=0;const E=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(f[C]!=E[C])throw"The input is not a PNG file!";for(;p<f.length;){const $=m.readUint(f,p);p+=4;const P=m.readASCII(f,p,4);if(p+=4,P=="IHDR")l(f,p,g);else if(P=="iCCP"){for(var b=p;f[b]!=0;)b++;m.readASCII(f,p,b-p),f[b+1];const k=f.slice(b+2,p+$);let D=null;try{D=r(k)}catch{D=i(k)}g.tabs[P]=D}else if(P=="CgBI")g.tabs[P]=f.slice(p,p+4);else if(P=="IDAT"){for(C=0;C<$;C++)w[I+C]=f[p+C];I+=$}else if(P=="acTL")g.tabs[P]={num_frames:x(f,p),num_plays:x(f,p+4)},_=new Uint8Array(f.length);else if(P=="fcTL"){T!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,T),L.rect.width,L.rect.height),T=0);const k={x:x(f,p+12),y:x(f,p+16),width:x(f,p+4),height:x(f,p+8)};let D=y(f,p+22);D=y(f,p+20)/(D==0?100:D);const j={rect:k,delay:Math.round(1e3*D),dispose:f[p+24],blend:f[p+25]};g.frames.push(j)}else if(P=="fdAT"){for(C=0;C<$-4;C++)_[T+C]=f[p+C+4];T+=$-4}else if(P=="pHYs")g.tabs[P]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(P=="cHRM")for(g.tabs[P]=[],C=0;C<8;C++)g.tabs[P].push(m.readUint(f,p+4*C));else if(P=="tEXt"||P=="zTXt"){g.tabs[P]==null&&(g.tabs[P]={});var R=m.nextZero(f,p),S=m.readASCII(f,p,R-p),A=p+$-R-1;if(P=="tEXt")O=m.readASCII(f,R+1,A);else{var N=r(f.slice(R+2,R+2+A));O=m.readUTF8(N,0,N.length)}g.tabs[P][S]=O}else if(P=="iTXt"){g.tabs[P]==null&&(g.tabs[P]={}),R=0,b=p,R=m.nextZero(f,b),S=m.readASCII(f,b,R-b);const k=f[b=R+1];var O;f[b+1],b+=2,R=m.nextZero(f,b),m.readASCII(f,b,R-b),b=R+1,R=m.nextZero(f,b),m.readUTF8(f,b,R-b),A=$-((b=R+1)-p),k==0?O=m.readUTF8(f,b,A):(N=r(f.slice(b,b+A)),O=m.readUTF8(N,0,N.length)),g.tabs[P][S]=O}else if(P=="PLTE")g.tabs[P]=m.readBytes(f,p,$);else if(P=="hIST"){const k=g.tabs.PLTE.length/3;for(g.tabs[P]=[],C=0;C<k;C++)g.tabs[P].push(y(f,p+2*C))}else if(P=="tRNS")g.ctype==3?g.tabs[P]=m.readBytes(f,p,$):g.ctype==0?g.tabs[P]=y(f,p):g.ctype==2&&(g.tabs[P]=[y(f,p),y(f,p+2),y(f,p+4)]);else if(P=="gAMA")g.tabs[P]=m.readUint(f,p)/1e5;else if(P=="sRGB")g.tabs[P]=f[p];else if(P=="bKGD")g.ctype==0||g.ctype==4?g.tabs[P]=[y(f,p)]:g.ctype==2||g.ctype==6?g.tabs[P]=[y(f,p),y(f,p+2),y(f,p+4)]:g.ctype==3&&(g.tabs[P]=f[p]);else if(P=="IEND")break;p+=$,m.readUint(f,p),p+=4}var L;return T!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,T),L.rect.width,L.rect.height)),g.data=n(g,w,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const f=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,f,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=f*p*4,x=new Uint8Array(y),g=new Uint8Array(y),w=new Uint8Array(y);for(let I=0;I<d.frames.length;I++){const T=d.frames[I],E=T.rect.x,C=T.rect.y,b=T.rect.width,R=T.rect.height,S=e(T.data,b,R,d);if(I!=0)for(var _=0;_<y;_++)w[_]=x[_];if(T.blend==0?c(S,b,R,x,f,p,E,C,0):T.blend==1&&c(S,b,R,x,f,p,E,C,1),m.push(x.buffer.slice(0)),T.dispose!=0){if(T.dispose==1)c(g,b,R,x,f,p,E,C,0);else if(T.dispose==2)for(_=0;_<y;_++)x[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Mi,{_bin:e}=Mi,n=Mi._paeth;var r={table:function(){const b=new Uint32Array(256);for(let R=0;R<256;R++){let S=R;for(let A=0;A<8;A++)1&S?S=3988292384^S>>>1:S>>>=1;b[R]=S}return b}(),update(b,R,S,A){for(let N=0;N<A;N++)b=r.table[255&(b^R[S+N])]^b>>>8;return b},crc:(b,R,S)=>4294967295^r.update(4294967295,b,R,S)};function i(b,R,S,A){R[S]+=b[0]*A>>4,R[S+1]+=b[1]*A>>4,R[S+2]+=b[2]*A>>4,R[S+3]+=b[3]*A>>4}function s(b){return Math.max(0,Math.min(255,b))}function o(b,R){const S=b[0]-R[0],A=b[1]-R[1],N=b[2]-R[2],O=b[3]-R[3];return S*S+A*A+N*N+O*O}function a(b,R,S,A,N,O,L){L==null&&(L=1);const $=A.length,P=[];for(var k=0;k<$;k++){const V=A[k];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(k=0;k<$;k++){let V=4294967295;for(var D=0,j=0;j<$;j++){var F=o(P[k],P[j]);j!=k&&F<V&&(V=F,D=j)}}const G=new Uint32Array(N.buffer),W=new Int16Array(R*S*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<B.length;k++)B[k]=255*((B[k]+.5)/16-.5);for(let V=0;V<S;V++)for(let q=0;q<R;q++){var U;k=4*(V*R+q),L!=2?U=[s(b[k]+W[k]),s(b[k+1]+W[k+1]),s(b[k+2]+W[k+2]),s(b[k+3]+W[k+3])]:(F=B[4*(3&V)+(3&q)],U=[s(b[k]+F),s(b[k+1]+F),s(b[k+2]+F),s(b[k+3]+F)]),D=0;let oe=16777215;for(j=0;j<$;j++){const me=o(U,P[j]);me<oe&&(oe=me,D=j)}const ce=P[D],ee=[U[0]-ce[0],U[1]-ce[1],U[2]-ce[2],U[3]-ce[3]];L==1&&(q!=R-1&&i(ee,W,k+4,7),V!=S-1&&(q!=0&&i(ee,W,k+4*R-4,3),i(ee,W,k+4*R,5),q!=R-1&&i(ee,W,k+4*R+4,1))),O[k>>2]=D,G[k>>2]=A[D]}}function l(b,R,S,A,N){N==null&&(N={});const{crc:O}=r,L=e.writeUint,$=e.writeUshort,P=e.writeASCII;let k=8;const D=b.frames.length>1;let j,F=!1,G=33+(D?20:0);if(N.sRGB!=null&&(G+=13),N.pHYs!=null&&(G+=21),N.iCCP!=null&&(j=pako.deflate(N.iCCP),G+=21+j.length+4),b.ctype==3){for(var W=b.plte.length,B=0;B<W;B++)b.plte[B]>>>24!=255&&(F=!0);G+=8+3*W+4+(F?8+1*W+4:0)}for(var U=0;U<b.frames.length;U++)D&&(G+=38),G+=(ce=b.frames[U]).cimg.length+12,U!=0&&(G+=4);G+=12;const V=new Uint8Array(G),q=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)V[B]=q[B];if(L(V,k,13),k+=4,P(V,k,"IHDR"),k+=4,L(V,k,R),k+=4,L(V,k,S),k+=4,V[k]=b.depth,k++,V[k]=b.ctype,k++,V[k]=0,k++,V[k]=0,k++,V[k]=0,k++,L(V,k,O(V,k-17,17)),k+=4,N.sRGB!=null&&(L(V,k,1),k+=4,P(V,k,"sRGB"),k+=4,V[k]=N.sRGB,k++,L(V,k,O(V,k-5,5)),k+=4),N.iCCP!=null){const ee=13+j.length;L(V,k,ee),k+=4,P(V,k,"iCCP"),k+=4,P(V,k,"ICC profile"),k+=11,k+=2,V.set(j,k),k+=j.length,L(V,k,O(V,k-(ee+4),ee+4)),k+=4}if(N.pHYs!=null&&(L(V,k,9),k+=4,P(V,k,"pHYs"),k+=4,L(V,k,N.pHYs[0]),k+=4,L(V,k,N.pHYs[1]),k+=4,V[k]=N.pHYs[2],k++,L(V,k,O(V,k-13,13)),k+=4),D&&(L(V,k,8),k+=4,P(V,k,"acTL"),k+=4,L(V,k,b.frames.length),k+=4,L(V,k,N.loop!=null?N.loop:0),k+=4,L(V,k,O(V,k-12,12)),k+=4),b.ctype==3){for(L(V,k,3*(W=b.plte.length)),k+=4,P(V,k,"PLTE"),k+=4,B=0;B<W;B++){const ee=3*B,me=b.plte[B],le=255&me,ie=me>>>8&255,ye=me>>>16&255;V[k+ee+0]=le,V[k+ee+1]=ie,V[k+ee+2]=ye}if(k+=3*W,L(V,k,O(V,k-3*W-4,3*W+4)),k+=4,F){for(L(V,k,W),k+=4,P(V,k,"tRNS"),k+=4,B=0;B<W;B++)V[k+B]=b.plte[B]>>>24&255;k+=W,L(V,k,O(V,k-W-4,W+4)),k+=4}}let oe=0;for(U=0;U<b.frames.length;U++){var ce=b.frames[U];D&&(L(V,k,26),k+=4,P(V,k,"fcTL"),k+=4,L(V,k,oe++),k+=4,L(V,k,ce.rect.width),k+=4,L(V,k,ce.rect.height),k+=4,L(V,k,ce.rect.x),k+=4,L(V,k,ce.rect.y),k+=4,$(V,k,A[U]),k+=2,$(V,k,1e3),k+=2,V[k]=ce.dispose,k++,V[k]=ce.blend,k++,L(V,k,O(V,k-30,30)),k+=4);const ee=ce.cimg;L(V,k,(W=ee.length)+(U==0?0:4)),k+=4;const me=k;P(V,k,U==0?"IDAT":"fdAT"),k+=4,U!=0&&(L(V,k,oe++),k+=4),V.set(ee,k),k+=W,L(V,k,O(V,me,k-me)),k+=4}return L(V,k,0),k+=4,P(V,k,"IEND"),k+=4,L(V,k,O(V,k-4,4)),k+=4,V.buffer}function c(b,R,S){for(let A=0;A<b.frames.length;A++){const N=b.frames[A];N.rect.width;const O=N.rect.height,L=new Uint8Array(O*N.bpl+O);N.cimg=p(N.img,O,N.bpp,N.bpl,L,R,S)}}function u(b,R,S,A,N){const O=N[0],L=N[1],$=N[2],P=N[3],k=N[4],D=N[5];let j=6,F=8,G=255;for(var W=0;W<b.length;W++){const wt=new Uint8Array(b[W]);for(var B=wt.length,U=0;U<B;U+=4)G&=wt[U+3]}const V=G!=255,q=function(je,Me,rt,it,Re,kt){const He=[];for(var Ie=0;Ie<je.length;Ie++){const St=new Uint8Array(je[Ie]),ln=new Uint32Array(St.buffer);var Tt;let cn=0,pe=0,qe=Me,xt=rt,ue=it?1:0;if(Ie!=0){const lt=kt||it||Ie==1||He[Ie-2].dispose!=0?1:2;let ht=0,qt=1e9;for(let Mn=0;Mn<lt;Mn++){var nn=new Uint8Array(je[Ie-1-Mn]);const Ia=new Uint32Array(je[Ie-1-Mn]);let oi=Me,ai=rt,Di=-1,Ju=-1;for(let ba=0;ba<rt;ba++)for(let Ca=0;Ca<Me;Ca++)ln[Ae=ba*Me+Ca]!=Ia[Ae]&&(Ca<oi&&(oi=Ca),Ca>Di&&(Di=Ca),ba<ai&&(ai=ba),ba>Ju&&(Ju=ba));Di==-1&&(oi=ai=Di=Ju=0),Re&&((1&oi)==1&&oi--,(1&ai)==1&&ai--);const D5=(Di-oi+1)*(Ju-ai+1);D5<qt&&(qt=D5,ht=Mn,cn=oi,pe=ai,qe=Di-oi+1,xt=Ju-ai+1)}nn=new Uint8Array(je[Ie-1-ht]),ht==1&&(He[Ie-1].dispose=2),Tt=new Uint8Array(qe*xt*4),t(nn,Me,rt,Tt,qe,xt,-cn,-pe,0),ue=t(St,Me,rt,Tt,qe,xt,-cn,-pe,3)?1:0,ue==1?f(St,Me,rt,Tt,{x:cn,y:pe,width:qe,height:xt}):t(St,Me,rt,Tt,qe,xt,-cn,-pe,0)}else Tt=St.slice(0);He.push({rect:{x:cn,y:pe,width:qe,height:xt},img:Tt,blend:ue,dispose:0})}if(it)for(Ie=0;Ie<He.length;Ie++){if((ve=He[Ie]).blend==1)continue;const St=ve.rect,ln=He[Ie-1].rect,cn=Math.min(St.x,ln.x),pe=Math.min(St.y,ln.y),qe={x:cn,y:pe,width:Math.max(St.x+St.width,ln.x+ln.width)-cn,height:Math.max(St.y+St.height,ln.y+ln.height)-pe};He[Ie-1].dispose=1,Ie-1!=0&&d(je,Me,rt,He,Ie-1,qe,Re),d(je,Me,rt,He,Ie,qe,Re)}let Gn=0;if(je.length!=1)for(var Ae=0;Ae<He.length;Ae++){var ve;Gn+=(ve=He[Ae]).rect.width*ve.rect.height}return He}(b,R,S,O,L,$),oe={},ce=[],ee=[];if(A!=0){const wt=[];for(U=0;U<q.length;U++)wt.push(q[U].img.buffer);const je=function(Re){let kt=0;for(var He=0;He<Re.length;He++)kt+=Re[He].byteLength;const Ie=new Uint8Array(kt);let Tt=0;for(He=0;He<Re.length;He++){const nn=new Uint8Array(Re[He]),Gn=nn.length;for(let Ae=0;Ae<Gn;Ae+=4){let ve=nn[Ae],St=nn[Ae+1],ln=nn[Ae+2];const cn=nn[Ae+3];cn==0&&(ve=St=ln=0),Ie[Tt+Ae]=ve,Ie[Tt+Ae+1]=St,Ie[Tt+Ae+2]=ln,Ie[Tt+Ae+3]=cn}Tt+=Gn}return Ie.buffer}(wt),Me=y(je,A);for(U=0;U<Me.plte.length;U++)ce.push(Me.plte[U].est.rgba);let rt=0;for(U=0;U<q.length;U++){const it=(le=q[U]).img.length;var me=new Uint8Array(Me.inds.buffer,rt>>2,it>>2);ee.push(me);const Re=new Uint8Array(Me.abuf,rt,it);D&&a(le.img,le.rect.width,le.rect.height,ce,Re,me),le.img.set(Re),rt+=it}}else for(W=0;W<q.length;W++){var le=q[W];const wt=new Uint32Array(le.img.buffer);var ie=le.rect.width;for(B=wt.length,me=new Uint8Array(B),ee.push(me),U=0;U<B;U++){const je=wt[U];if(U!=0&&je==wt[U-1])me[U]=me[U-1];else if(U>ie&&je==wt[U-ie])me[U]=me[U-ie];else{let Me=oe[je];if(Me==null&&(oe[je]=Me=ce.length,ce.push(je),ce.length>=300))break;me[U]=Me}}}const ye=ce.length;for(ye<=256&&k==0&&(F=ye<=2?1:ye<=4?2:ye<=16?4:8,F=Math.max(F,P)),W=0;W<q.length;W++){(le=q[W]).rect.x,le.rect.y,ie=le.rect.width;const wt=le.rect.height;let je=le.img;new Uint32Array(je.buffer);let Me=4*ie,rt=4;if(ye<=256&&k==0){Me=Math.ceil(F*ie/8);var Pe=new Uint8Array(Me*wt);const it=ee[W];for(let Re=0;Re<wt;Re++){U=Re*Me;const kt=Re*ie;if(F==8)for(var Se=0;Se<ie;Se++)Pe[U+Se]=it[kt+Se];else if(F==4)for(Se=0;Se<ie;Se++)Pe[U+(Se>>1)]|=it[kt+Se]<<4-4*(1&Se);else if(F==2)for(Se=0;Se<ie;Se++)Pe[U+(Se>>2)]|=it[kt+Se]<<6-2*(3&Se);else if(F==1)for(Se=0;Se<ie;Se++)Pe[U+(Se>>3)]|=it[kt+Se]<<7-1*(7&Se)}je=Pe,j=3,rt=1}else if(V==0&&q.length==1){Pe=new Uint8Array(ie*wt*3);const it=ie*wt;for(U=0;U<it;U++){const Re=3*U,kt=4*U;Pe[Re]=je[kt],Pe[Re+1]=je[kt+1],Pe[Re+2]=je[kt+2]}je=Pe,j=2,rt=3,Me=3*ie}le.img=je,le.bpl=Me,le.bpp=rt}return{ctype:j,depth:F,plte:ce,frames:q}}function d(b,R,S,A,N,O,L){const $=Uint8Array,P=Uint32Array,k=new $(b[N-1]),D=new P(b[N-1]),j=N+1<b.length?new $(b[N+1]):null,F=new $(b[N]),G=new P(F.buffer);let W=R,B=S,U=-1,V=-1;for(let oe=0;oe<O.height;oe++)for(let ce=0;ce<O.width;ce++){const ee=O.x+ce,me=O.y+oe,le=me*R+ee,ie=G[le];ie==0||A[N-1].dispose==0&&D[le]==ie&&(j==null||j[4*le+3]!=0)||(ee<W&&(W=ee),ee>U&&(U=ee),me<B&&(B=me),me>V&&(V=me))}U==-1&&(W=B=U=V=0),L&&((1&W)==1&&W--,(1&B)==1&&B--),O={x:W,y:B,width:U-W+1,height:V-B+1};const q=A[N];q.rect=O,q.blend=1,q.img=new Uint8Array(O.width*O.height*4),A[N-1].dispose==0?(t(k,R,S,q.img,O.width,O.height,-O.x,-O.y,0),f(F,R,S,q.img,O)):t(F,R,S,q.img,O.width,O.height,-O.x,-O.y,0)}function f(b,R,S,A,N){t(b,R,S,A,N.width,N.height,-N.x,-N.y,2)}function p(b,R,S,A,N,O,L){const $=[];let P,k=[0,1,2,3,4];O!=-1?k=[O]:(R*A>5e5||S==1)&&(k=[0]),L&&(P={level:0});const D=fce;for(var j=0;j<k.length;j++){for(let W=0;W<R;W++)m(N,b,W,A,S,k[j]);$.push(D.deflate(N,P))}let F,G=1e9;for(j=0;j<$.length;j++)$[j].length<G&&(F=j,G=$[j].length);return $[F]}function m(b,R,S,A,N,O){const L=S*A;let $=L+S;if(b[$]=O,$++,O==0)if(A<500)for(var P=0;P<A;P++)b[$+P]=R[L+P];else b.set(new Uint8Array(R.buffer,L,A),$);else if(O==1){for(P=0;P<N;P++)b[$+P]=R[L+P];for(P=N;P<A;P++)b[$+P]=R[L+P]-R[L+P-N]+256&255}else if(S==0){for(P=0;P<N;P++)b[$+P]=R[L+P];if(O==2)for(P=N;P<A;P++)b[$+P]=R[L+P];if(O==3)for(P=N;P<A;P++)b[$+P]=R[L+P]-(R[L+P-N]>>1)+256&255;if(O==4)for(P=N;P<A;P++)b[$+P]=R[L+P]-n(R[L+P-N],0,0)+256&255}else{if(O==2)for(P=0;P<A;P++)b[$+P]=R[L+P]+256-R[L+P-A]&255;if(O==3){for(P=0;P<N;P++)b[$+P]=R[L+P]+256-(R[L+P-A]>>1)&255;for(P=N;P<A;P++)b[$+P]=R[L+P]+256-(R[L+P-A]+R[L+P-N]>>1)&255}if(O==4){for(P=0;P<N;P++)b[$+P]=R[L+P]+256-n(0,R[L+P-A],0)&255;for(P=N;P<A;P++)b[$+P]=R[L+P]+256-n(R[L+P-N],R[L+P-A],R[L+P-N-A])&255}}}function y(b,R){const S=new Uint8Array(b),A=S.slice(0),N=new Uint32Array(A.buffer),O=x(A,R),L=O[0],$=O[1],P=S.length,k=new Uint8Array(P>>2);let D;if(S.length<2e7)for(var j=0;j<P;j+=4)D=g(L,F=S[j]*(1/255),G=S[j+1]*(1/255),W=S[j+2]*(1/255),B=S[j+3]*(1/255)),k[j>>2]=D.ind,N[j>>2]=D.est.rgba;else for(j=0;j<P;j+=4){var F=S[j]*.00392156862745098,G=S[j+1]*(1/255),W=S[j+2]*(1/255),B=S[j+3]*(1/255);for(D=L;D.left;)D=w(D.est,F,G,W,B)<=0?D.left:D.right;k[j>>2]=D.ind,N[j>>2]=D.est.rgba}return{abuf:A.buffer,inds:k,plte:$}}function x(b,R,S){S==null&&(S=1e-4);const A=new Uint32Array(b.buffer),N={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=T(b,N.i0,N.i1),N.est=E(N.bst);const O=[N];for(;O.length<R;){let $=0,P=0;for(var L=0;L<O.length;L++)O[L].est.L>$&&($=O[L].est.L,P=L);if($<S)break;const k=O[P],D=_(b,A,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=D||k.i1<=D){k.est.L=0;continue}const j={i0:k.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};j.bst=T(b,j.i0,j.i1),j.est=E(j.bst);const F={i0:D,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:k.bst.N-j.bst.N},L=0;L<16;L++)F.bst.R[L]=k.bst.R[L]-j.bst.R[L];for(L=0;L<4;L++)F.bst.m[L]=k.bst.m[L]-j.bst.m[L];F.est=E(F.bst),k.left=j,k.right=F,O[P]=j,O.push(F)}for(O.sort(($,P)=>P.bst.N-$.bst.N),L=0;L<O.length;L++)O[L].ind=L;return[N,O]}function g(b,R,S,A,N){if(b.left==null)return b.tdst=function(j,F,G,W,B){const U=F-j[0],V=G-j[1],q=W-j[2],oe=B-j[3];return U*U+V*V+q*q+oe*oe}(b.est.q,R,S,A,N),b;const O=w(b.est,R,S,A,N);let L=b.left,$=b.right;O>0&&(L=b.right,$=b.left);const P=g(L,R,S,A,N);if(P.tdst<=O*O)return P;const k=g($,R,S,A,N);return k.tdst<P.tdst?k:P}function w(b,R,S,A,N){const{e:O}=b;return O[0]*R+O[1]*S+O[2]*A+O[3]*N-b.eMq}function _(b,R,S,A,N,O){for(A-=4;S<A;){for(;I(b,S,N)<=O;)S+=4;for(;I(b,A,N)>O;)A-=4;if(S>=A)break;const L=R[S>>2];R[S>>2]=R[A>>2],R[A>>2]=L,S+=4,A-=4}for(;I(b,S,N)>O;)S-=4;return S+4}function I(b,R,S){return b[R]*S[0]+b[R+1]*S[1]+b[R+2]*S[2]+b[R+3]*S[3]}function T(b,R,S){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],O=S-R>>2;for(let L=R;L<S;L+=4){const $=b[L]*.00392156862745098,P=b[L+1]*(1/255),k=b[L+2]*(1/255),D=b[L+3]*(1/255);N[0]+=$,N[1]+=P,N[2]+=k,N[3]+=D,A[0]+=$*$,A[1]+=$*P,A[2]+=$*k,A[3]+=$*D,A[5]+=P*P,A[6]+=P*k,A[7]+=P*D,A[10]+=k*k,A[11]+=k*D,A[15]+=D*D}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:N,N:O}}function E(b){const{R}=b,{m:S}=b,{N:A}=b,N=S[0],O=S[1],L=S[2],$=S[3],P=A==0?0:1/A,k=[R[0]-N*N*P,R[1]-N*O*P,R[2]-N*L*P,R[3]-N*$*P,R[4]-O*N*P,R[5]-O*O*P,R[6]-O*L*P,R[7]-O*$*P,R[8]-L*N*P,R[9]-L*O*P,R[10]-L*L*P,R[11]-L*$*P,R[12]-$*N*P,R[13]-$*O*P,R[14]-$*L*P,R[15]-$*$*P],D=k,j=C;let F=[Math.random(),Math.random(),Math.random(),Math.random()],G=0,W=0;if(A!=0)for(let U=0;U<16&&(F=j.multVec(D,F),W=Math.sqrt(j.dot(F,F)),F=j.sml(1/W,F),!(U!=0&&Math.abs(W-G)<1e-9));U++)G=W;const B=[N*P,O*P,L*P,$*P];return{Cov:k,q:B,e:F,L:G,eMq255:j.dot(j.sml(255,B),F),eMq:j.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var C={multVec:(b,R)=>[b[0]*R[0]+b[1]*R[1]+b[2]*R[2]+b[3]*R[3],b[4]*R[0]+b[5]*R[1]+b[6]*R[2]+b[7]*R[3],b[8]*R[0]+b[9]*R[1]+b[10]*R[2]+b[11]*R[3],b[12]*R[0]+b[13]*R[1]+b[14]*R[2]+b[15]*R[3]],dot:(b,R)=>b[0]*R[0]+b[1]*R[1]+b[2]*R[2]+b[3]*R[3],sml:(b,R)=>[b*R[0],b*R[1],b*R[2],b*R[3]]};Mi.encode=function(R,S,A,N,O,L,$){N==null&&(N=0),$==null&&($=!1);const P=u(R,S,A,N,[!1,!1,!1,0,$,!1]);return c(P,-1),l(P,S,A,O,L)},Mi.encodeLL=function(R,S,A,N,O,L,$,P){const k={ctype:0+(N==1?0:2)+(O==0?0:4),depth:L,frames:[]},D=(N+O)*L,j=D*S;for(let F=0;F<R.length;F++)k.frames.push({rect:{x:0,y:0,width:S,height:A},img:new Uint8Array(R[F]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(j/8)});return c(k,0,!0),l(k,S,A,$,P)},Mi.encode.compress=u,Mi.encode.dither=a,Mi.quantize=y,Mi.quantize.getKDtree=x,Mi.quantize.getNearest=g})();const dL={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),f=1<<20;let p,m,y,x,g=f,w=0,_=0,I=0;function T(b){d.setUint16(_,b,!0),_+=2}function E(b){d.setUint32(_,b,!0),_+=4}function C(b){_+=b}T(19778),E(c),C(4),E(122),E(108),E(n),E(-r>>>0),T(1),T(32),E(3),E(l),E(2835),E(2835),C(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function b(){for(;w<r&&g>0;){for(x=122+w*a,p=0;p<i;)g--,m=o[I++],y=m>>>24,d.setUint32(x+p,m<<8|y),p+=4;w++}I<o.length?(g=f,setTimeout(b,dL._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Rr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},pce={[Rr.CHROME]:16384,[Rr.FIREFOX]:11180,[Rr.DESKTOP_SAFARI]:16384,[Rr.IE]:8192,[Rr.IOS]:4096,[Rr.ETC]:8192};const g5=typeof window<"u",hL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Zm=g5&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),mce=(g5||hL)&&(Zm&&Zm.getOriginalSymbol(window,"File")||typeof File<"u"&&File),fL=(g5||hL)&&(Zm&&Zm.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function v5(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function pL(t){return new Promise((e,n)=>{const r=new fL;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function mL(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ya(){if(Ya.cachedResult!==void 0)return Ya.cachedResult;let t=Rr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Rr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Rr.IOS:/Safari/i.test(e)?t=Rr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Rr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Rr.IE),Ya.cachedResult=t,Ya.cachedResult}function gL(t,e){const n=Ya(),r=pce[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function T1(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function vL(t,e){const{width:n,height:r}=gL(t.width,t.height),[i,s]=T1(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Ap(){return Ap.cachedResult!==void 0||(Ap.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ap.cachedResult}function e2(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=vL(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return pL(t).then(function(d){try{return u=d,mL(u).then(function(f){try{return i=f,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(Ap()||[Rr.DESKTOP_SAFARI,Rr.MOBILE_SAFARI].includes(Ya()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function t2(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let d,f,p;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),p=Mi.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(f=>dL.toBlob(t,f)).then((function(f){try{return a=f,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let f=function(){return d.call(this)};var u=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,i),v5(p,n,r).then((function(m){try{return a=m,f.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function os(t){t.width=0,t.height=0}function Ac(){return new Promise(function(t,e){let n,r,i,s;return Ac.cachedResult!==void 0?t(Ac.cachedResult):v5("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,e2(n).then(function(a){try{return r=a[1],t2(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,os(r),e2(i).then(function(c){try{return s=c[0],Ac.cachedResult=s.width===1&&s.height===2,t(Ac.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function yL(t){return new Promise((e,n)=>{const r=new fL;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const u=s.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(s.getUint16(a+12*d,c)==274)return e(s.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function _L(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=T1(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),os(t)),o}function wL(t,e){const{width:n}=t,{height:r}=t,[i,s]=T1(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),os(t),i}function t4(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,u,d,f,p,m,y,x,g,w,_,I,T,E,C,b;function R(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function S(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,R(),e2(t,e).then((function(A){try{return[,l]=A,R(),c=_L(l,e),R(),new Promise(function(N,O){var L;if(!(L=e.exifOrientation))return yL(t).then((function(P){try{return L=P,$.call(this)}catch(k){return O(k)}}).bind(this),O);function $(){return N(L)}return $.call(this)}).then((function(N){try{return u=N,R(),Ac().then((function(O){try{return d=O?c:wL(c,u),R(),f=e.initialQuality||1,p=e.fileType||t.type,t2(d,p,t.name,t.lastModified,f).then((function(L){try{{let D=function(){if(o--&&(_>a||_>g)){let F,G;return F=b?.95*C.width:C.width,G=b?.95*C.height:C.height,[T,E]=T1(F,G),E.drawImage(C,0,0,F,G),f*=p==="image/png"?.85:.95,t2(T,p,t.name,t.lastModified,f).then(function(W){try{return I=W,os(C),C=T,_=I.size,S(Math.min(99,Math.floor((w-_)/(w-a)*100))),D}catch(B){return i(B)}},i)}return[1]},j=function(){return os(C),os(T),os(c),os(d),os(l),S(100),r(I)};var P=D,k=j;if(m=L,R(),y=m.size>a,x=m.size>t.size,!y&&!x)return S(100),r(m);var $;return g=t.size,w=m.size,_=w,C=d,b=!e.alwaysKeepResolution&&y,($=(function(F){for(;F;){if(F.then)return void F.then($,i);try{if(F.pop){if(F.length)return F.pop()?j.call(this):F;F=D}else F=F.call(this)}catch(G){return i(G)}}}).bind(this))(D)}}catch(D){return i(D)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(O){return i(O)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)})}const gce=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Yv;function vce(t,e){return new Promise((n,r)=>{Yv||(Yv=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(gce));const i=new Worker(Yv);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function vn(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof mce))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return t4(t,i).then((function(p){try{return s=p,f.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return t4(t,i).then(function(m){try{return s=m,u()}catch(y){return r(y)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",vce(t,i).then(function(p){try{return s=p,u()}catch{return d()}},d)}catch{d()}function f(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=uL(t,s))}catch{}return n(s)}})}vn.getDataUrlFromFile=pL,vn.getFilefromDataUrl=v5,vn.loadImage=mL,vn.drawImageInCanvas=vL,vn.drawFileInCanvas=e2,vn.canvasToFile=t2,vn.getExifOrientation=yL,vn.handleMaxWidthOrHeight=_L,vn.followExifOrientation=wL,vn.cleanupCanvasMemory=os,vn.isAutoOrientationInBrowser=Ac,vn.approximateBelowMaximumCanvasSizeOfBrowser=gL,vn.copyExifWithoutOrientation=uL,vn.getBrowserName=Ya,vn.version="2.0.2";const yce=({options:t,setValue:e,label:n,gender:r})=>{const[i,s]=v.useState(r),o=a=>{s(a.target.value)};return v.useEffect(()=>{e(i)},[i]),v.useEffect(()=>{s(r)},[r]),h.jsx(oL,{size:"small",variant:"standard",id:n,labelId:n,value:i,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>h.jsx(Sae,{value:a.value,children:a.label},a.value))})};var n4="__sak";function xL(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var _ce=xL,Sw=new ma("auth","Firebase",xL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kc=new _f("@firebase/auth");function wce(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kc.logLevel<=ze.WARN&&Kc.warn.apply(Kc,zn(["Auth (".concat(Zi,"): ").concat(t)],e,!1))}function kp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kc.logLevel<=ze.ERROR&&Kc.error.apply(Kc,zn(["Auth (".concat(Zi,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw _5.apply(void 0,zn([t],e,!1))}function y5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return _5.apply(void 0,zn([t],e,!1))}function xce(t,e,n){var r,i=Ge(Ge({},_ce()),(r={},r[e]=n,r)),s=new ma("auth","Firebase",i);return s.create(e,{appName:t.name})}function _5(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=zn([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,zn([i],s,!1))}return Sw.create.apply(Sw,zn([t],n,!1))}function Ve(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw _5.apply(void 0,zn([e],n,!1))}function Ws(t){var e="INTERNAL ASSERTION FAILED: "+t;throw kp(e),new Error(e)}function wu(t,e){t||Ws(e)}function Ece(){return r4()==="http:"||r4()==="https:"}function r4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ice(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ece()||gk()||"connection"in navigator)?navigator.onLine:!0}function bce(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cce=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,wu(n>e,"Short delay should be less than long delay!"),this.isMobile=T2()||jx()}return t.prototype.get=function(){return Ice()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(t,e){wu(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EL=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Sce=(Ce={},Ce.CREDENTIAL_MISMATCH="custom-token-mismatch",Ce.MISSING_CUSTOM_TOKEN="internal-error",Ce.INVALID_IDENTIFIER="invalid-email",Ce.MISSING_CONTINUE_URI="internal-error",Ce.INVALID_PASSWORD="wrong-password",Ce.MISSING_PASSWORD="missing-password",Ce.INVALID_LOGIN_CREDENTIALS="invalid-credential",Ce.EMAIL_EXISTS="email-already-in-use",Ce.PASSWORD_LOGIN_DISABLED="operation-not-allowed",Ce.INVALID_IDP_RESPONSE="invalid-credential",Ce.INVALID_PENDING_TOKEN="invalid-credential",Ce.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",Ce.MISSING_REQ_TYPE="internal-error",Ce.EMAIL_NOT_FOUND="user-not-found",Ce.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",Ce.EXPIRED_OOB_CODE="expired-action-code",Ce.INVALID_OOB_CODE="invalid-action-code",Ce.MISSING_OOB_CODE="internal-error",Ce.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",Ce.INVALID_ID_TOKEN="invalid-user-token",Ce.TOKEN_EXPIRED="user-token-expired",Ce.USER_NOT_FOUND="user-token-expired",Ce.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",Ce.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",Ce.INVALID_CODE="invalid-verification-code",Ce.INVALID_SESSION_INFO="invalid-verification-id",Ce.INVALID_TEMPORARY_PROOF="invalid-credential",Ce.MISSING_SESSION_INFO="missing-verification-id",Ce.SESSION_EXPIRED="code-expired",Ce.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",Ce.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",Ce.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",Ce.ADMIN_ONLY_OPERATION="admin-restricted-operation",Ce.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",Ce.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",Ce.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",Ce.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",Ce.SECOND_FACTOR_EXISTS="second-factor-already-in-use",Ce.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",Ce.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",Ce.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",Ce.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",Ce.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",Ce.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",Ce.MISSING_CLIENT_TYPE="missing-client-type",Ce.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",Ce.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",Ce.INVALID_REQ_TYPE="invalid-req-type",Ce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rce=new Cce(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?Ge(Ge({},e),{tenantId:t.tenantId}):e}function Wl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s=this;return X(this,function(o){return[2,IL(t,i,function(){return Y(s,void 0,void 0,function(){var a,l,c,u;return X(this,function(d){switch(d.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=uo(Ge({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,EL.fetch()(bL(t,t.config.apiHost,n,c),Ge({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function IL(t,e,n){return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,f;return X(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=Ge(Ge({},Sce),e),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new kce(t),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Vd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vd(t,"user-disabled",o);if(d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw xce(t,d,u);return ao(t,d),[3,5];case 4:if(f=p.sent(),f instanceof ri)throw f;return ao(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function Hl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s;return X(this,function(o){switch(o.label){case 0:return[4,Wl(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&ao(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function bL(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Tce(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function Ace(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var kce=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(y5(n.auth,"network-request-failed"))},Rce.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Vd(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=y5(t,e,r);return i.customData._tokenResponse=n,i}function i4(t){return t!==void 0&&t.enterprise!==void 0}var Pce=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return Ace(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function Nce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"GET","/v2/recaptchaConfig",As(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:delete",e)]})})}function Dce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Oce(t,e){return e===void 0&&(e=!1),Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:return n=ot(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=w5(r),Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:hh(Xv(i.auth_time)),issuedAtTime:hh(Xv(i.iat)),expirationTime:hh(Xv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function Xv(t){return Number(t)*1e3}function w5(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return kp("JWT malformed, contained fewer than 3 sections"),null;try{var s=Dh(r);return s?JSON.parse(s):(kp("Failed to decode base64 JWT payload"),null)}catch(o){return kp("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mce(t){var e=w5(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof ri&&$ce(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function $ce(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jce=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=hh(this.lastLoginAt),this.creationTime=hh(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){var e;return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u,d;return X(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,uf(t,Dce(n,{idToken:r}))];case 2:return i=f.sent(),Ve(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Uce(s.providerUserInfo):[],a=Vce(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new CL(s.createdAt,s.lastLoginAt),isAnonymous:u},Object.assign(t,d),[2]}})})}function Fce(t){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return e=ot(t),[4,n2(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function Vce(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return zn(zn([],n,!0),e,!0)}function Uce(t){return t.map(function(e){var n=e.providerId,r=Nu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zce(t,e){return Y(this,void 0,void 0,function(){var n,r=this;return X(this,function(i){switch(i.label){case 0:return[4,IL(t,{},function(){return Y(r,void 0,void 0,function(){var s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:return s=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=bL(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,EL.fetch()(c,{method:"POST",headers:u,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function Bce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v2/accounts:revokeToken",As(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s4=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mce(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return Ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return Y(this,void 0,void 0,function(){var r,i,s,o;return X(this,function(a){switch(a.label){case 0:return[4,zce(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Ws("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rw=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=Nu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?zn([],s.providerData,!0):[],this.metadata=new CL(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,uf(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),Ve(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return Oce(this,e)},t.prototype.reload=function(){return Fce(this)},t.prototype._assign=function(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return Ge({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(Ge(Ge({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,n2(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,uf(this,Lce(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return Ge(Ge({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Ge({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,l,c,u,d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,I=n.emailVerified,T=n.isAnonymous,E=n.providerData,C=n.stsTokenManager;Ve(_&&C,e,"internal-error");var b=s4.fromJSON(this.name,C);Ve(typeof _=="string",e,"internal-error"),Eo(d,e.name),Eo(f,e.name),Ve(typeof I=="boolean",e,"internal-error"),Ve(typeof T=="boolean",e,"internal-error"),Eo(p,e.name),Eo(m,e.name),Eo(y,e.name),Eo(x,e.name),Eo(g,e.name),Eo(w,e.name);var R=new t({uid:_,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:b,createdAt:g,lastLoginAt:w});return E&&Array.isArray(E)&&(R.providerData=E.map(function(S){return Ge({},S)})),x&&(R._redirectEventId=x),R},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:return i=new s4,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,n2(s)];case 1:return o.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o4=new Map;function Vo(t){wu(t instanceof Function,"Expected a class definition");var e=o4.get(t);return e?(wu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wce=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return Y(this,void 0,void 0,function(){return X(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),a4=Wce;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var l4=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=Pp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Pp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?Rw._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),Y(this,void 0,void 0,function(){var i,s,o,a,l,c,u,d,f,p,m=this;return X(this,function(y){switch(y.label){case 0:return n.length?[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:return[4,x._isAvailable()];case 1:return g.sent()?[2,x]:[2,void 0]}})})}))]:[2,new t(Vo(a4),e,r)];case 1:i=y.sent().filter(function(x){return x}),s=i[0]||Vo(a4),o=Pp(r,e.config.apiKey,e.name),a=null,l=0,c=n,y.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],y.label=3;case 3:return y.trys.push([3,5,,6]),[4,u._get(o)];case 4:return d=y.sent(),d?(f=Rw._fromJSON(e,d),u!==s&&(a=f),s=u,[3,7]):[3,6];case 5:return y.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=i.filter(function(x){return x._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new t(s,e,r)]:(s=p[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:y.sent(),y.label=9;case 9:return[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:if(x===s)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,x._remove(o)];case 2:return g.sent(),[3,4];case 3:return g.sent(),[3,4];case 4:return[2]}})})}))];case 10:return y.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hce(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AL(e))return"Blackberry";if(kL(e))return"Webos";if(TL(e))return"Safari";if((e.includes("chrome/")||qce(e))&&!e.includes("edge/"))return"Chrome";if(RL(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function Hce(t){return t===void 0&&(t=at()),/firefox\//i.test(t)}function TL(t){t===void 0&&(t=at());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qce(t){return t===void 0&&(t=at()),/crios\//i.test(t)}function SL(t){return t===void 0&&(t=at()),/iemobile/i.test(t)}function RL(t){return t===void 0&&(t=at()),/android/i.test(t)}function AL(t){return t===void 0&&(t=at()),/blackberry/i.test(t)}function kL(t){return t===void 0&&(t=at()),/webos/i.test(t)}function PL(t){return t===void 0&&(t=at()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gce(){return vk()&&document.documentMode===10}function Kce(t){return t===void 0&&(t=at()),PL(t)||RL(t)||kL(t)||AL(t)||/windows phone/i.test(t)||SL(t)}function Qce(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=c4(at());break;case"Worker":n="".concat(c4(at()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Zi,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yce=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,i=this.queue,u.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:u.sent(),s.onAbort&&n.push(s.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xce(t,e){return e===void 0&&(e={}),Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"GET","/v2/passwordPolicy",As(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jce=6,Zce=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Jce,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eue=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u4(this),this.idTokenSubscription=new u4(this),this.beforeStateQueue=new Yce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=Vo(n)),this._initializationPromise=this.queue(function(){return Y(r,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,l4.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),i=r,s=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0),u.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return Ve(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n2(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=bce()},t.prototype._delete=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=e?ot(e):null,n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r=this;return X(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return Y(r,void 0,void 0,function(){return X(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Vo(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){switch(r.label){case 0:return[4,Xce(this)];case 1:return e=r.sent(),n=new Zce(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new ma("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return Y(this,void 0,void 0,function(){var n,r;return X(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,Bce(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&Vo(e)||this._popupRedirectResolver,Ve(n,this,"argument-error"),r=this,[4,l4.create(this,[Vo(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return Y(this,void 0,void 0,function(){var i=this;return X(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return Y(i,void 0,void 0,function(){return X(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return Y(this,void 0,void 0,function(){var n=this;return X(this,function(r){return e===this.currentUser?[2,this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(l,this,"internal-error"),l.then(function(){a||o(s.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,i);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NL(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return Y(this,void 0,void 0,function(){var n,r,i,s;return X(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&wce("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function LL(t){return ot(t)}var u4=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=Ek(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DL={loadJS:function(){return Y(this,void 0,void 0,function(){return X(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tue(t){return DL.loadJS(t)}function nue(){return DL.recaptchaEnterpriseScript}var rue="recaptcha-enterprise",iue="NO_RECAPTCHA",sue=function(){function t(e){this.type=rue,this.auth=LL(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),Y(this,void 0,void 0,function(){function r(o){return Y(this,void 0,void 0,function(){var a=this;return X(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return Y(a,void 0,void 0,function(){return X(this,function(d){return Nce(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new Pce(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(f){u(f)}),[2]})})})]})})}function i(o,a,l){var c=window.grecaptcha;i4(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(iue)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return X(this,function(o){return[2,new Promise(function(a,l){r(s.auth).then(function(c){if(!n&&i4(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=nue();u.length!==0&&(u+=c),tue(u).then(function(){i(c,a,l)}).catch(function(d){l(d)})}}).catch(function(c){l(c)})})]})})},t}();function d4(t,e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:i=new sue(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=Ge({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function h4(t,e,n,r){var i;return Y(this,void 0,void 0,function(){var s,o=this;return X(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,d4(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(l){return Y(o,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,d4(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function oue(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n0=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Ws("not implemented")},t.prototype._getIdTokenResponse=function(e){return Ws("not implemented")},t.prototype._linkToIdToken=function(e,n){return Ws("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Ws("not implemented")},t}();function aue(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lue(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Hl(t,"POST","/v1/accounts:signInWithPassword",As(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cue(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Hl(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))]})})}function uue(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Hl(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f4=function(t){Vt(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,h4(n,r,"signInWithPassword",lue)];case"emailLink":return[2,cue(n,{email:this._email,oobCode:this._password})];default:ao(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,h4(n,i,"signUpPassword",aue)];case"emailLink":return[2,uue(n,{idToken:r,email:this._email,oobCode:this._password})];default:ao(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(n0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Hl(t,"POST","/v1/accounts:signInWithIdp",As(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var due="http://localhost",xu=function(t){Vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):ao("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=Nu(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Qs(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Qs(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Qs(n,r)},e.prototype.buildRequest=function(){var n={requestUri:due,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=uo(r)}return n},e}(n0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jv;function hue(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Hl(t,"POST","/v1/accounts:signInWithPhoneNumber",As(t,e))]})})}function fue(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,Hl(t,"POST","/v1/accounts:signInWithPhoneNumber",As(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Vd(t,"account-exists-with-different-credential",n);return[2,n]}})})}var pue=(Jv={},Jv.USER_NOT_FOUND="user-not-found",Jv);function mue(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=Ge(Ge({},e),{operation:"REAUTH"}),[2,Hl(t,"POST","/v1/accounts:signInWithPhoneNumber",As(t,n),pue)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return hue(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return fue(n,Ge({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return mue(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(n0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vue(t){var e=us(ds(t)).link,n=e?us(ds(e)).deep_link_id:null,r=us(ds(t)).deep_link_id,i=r?us(ds(r)).link:null;return i||r||n||e||t}var yue=function(){function t(e){var n,r,i,s,o,a,l=us(ds(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=gue((i=l.mode)!==null&&i!==void 0?i:null);Ve(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=vue(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ue=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return f4._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=yue.parseLink(n);return Ve(r,"argument-error"),f4._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r0=function(t){Vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return zn([],this.scopes,!0)},e}(OL);(function(t){Vt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return Ve("providerId"in r&&"signInMethod"in r,"argument-error"),xu._fromParams(r)},e.prototype.credential=function(n){return this._credential(Ge(Ge({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return Ve(n.idToken||n.accessToken,"argument-error"),xu._fromParams(Ge(Ge({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,l=i.pendingToken,c=i.nonce,u=i.providerId;if(!o&&!a&&!s&&!l||!u)return null;try{return new e(u)._credential({idToken:s,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wue="http://localhost",p4=function(t){Vt(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Qs(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Qs(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Qs(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:wue,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(n0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xue="saml.";(function(t){Vt(e,t);function e(n){return Ve(n.startsWith(xue),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=p4.fromJSON(n);return Ve(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return p4._create(o,s)}catch{return null}},e})(OL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x5=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),Y(this,void 0,void 0,function(){var s,o,a;return X(this,function(l){switch(l.label){case 0:return[4,Rw._fromIdTokenResponse(e,r,i)];case 1:return s=l.sent(),o=m4(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=m4(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function m4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eue=function(t){Vt(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(ri);function ML(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?Eue._fromErrorAndOperation(t,s,e,r):s})}function Iue(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:return i=uf,s=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,x5._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:r=t.auth,i="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,uf(t,ML(r,i,e,t),n)];case 2:return s=c.sent(),Ve(s.idToken,r,"internal-error"),o=w5(s.idToken),Ve(o,r,"internal-error"),a=o.sub,Ve(t.uid===a,r,"user-mismatch"),[2,x5._forOperation(t,i,s)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&ao(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cue(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s;return X(this,function(o){switch(o.label){case 0:return r="signIn",[4,ML(t,r,e)];case 1:return i=o.sent(),[4,x5._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?Tue._fromServerResponse(e,n):"totpInfo"in n?Sue._fromServerResponse(e,n):ao(e,"internal-error")},t}(),Tue=function(t){Vt(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}($L),Sue=function(t){Vt(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}($L),E5=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),jL=function(t){Vt(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(E5);(function(t){Vt(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(E5);(function(t){Vt(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(jL);(function(t){Vt(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(E5);(function(t){Vt(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(jL);var g4="@firebase/auth",v4="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rue=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kue(t){bs(new Qi("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,l=a.apiKey,c=a.authDomain;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NL(t)},d=new eue(i,s,o,u);return oue(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),bs(new Qi("auth-internal",function(e){var n=LL(e.getProvider("auth").getImmediate());return function(r){return new Rue(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(g4,v4,Aue(t)),Or(g4,v4,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FL=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(n4,"1"),this.storage.removeItem(n4),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pue(){var t=at();return TL(t)||PL(t)}var Nue=1e3,Lue=10;(function(t){Vt(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=Pue()&&Qce(),n.fallbackToPolling=Kce(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,d){i.notifyListeners(c,d)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(s);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var a=function(){var c=i.storage.getItem(s);!r&&i.localCache[s]===c||i.notifyListeners(s,c)},l=this.storage.getItem(s);Gce()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,Lue):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},Nue)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return Y(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(FL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I5=function(t){Vt(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Qs(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Qs(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Qs(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(n0);function Due(t){return Cue(t.auth,new I5(t),t.bypassAuthState)}function Oue(t){var e=t.auth,n=t.user;return Ve(n,e,"internal-error"),bue(n,new I5(t),t.bypassAuthState)}function Mue(t){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){return e=t.auth,n=t.user,Ve(n,e,"internal-error"),[2,Iue(n,new I5(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ue=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return Y(e,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},d.label=1;case 1:return d.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[d.sent()]),[3,4];case 3:return u=d.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Due;case"linkViaPopup":case"linkViaRedirect":return Mue;case"reauthViaPopup":case"reauthViaRedirect":return Oue;default:ao(this.auth,"internal-error")}},t.prototype.resolve=function(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jue="pendingRedirect",Zv=new Map;(function(t){Vt(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:if(n=Zv.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,Fue(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:Zv.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||Zv.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})($ue);function Fue(t,e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return n=Uue(e),r=Vue(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function Vue(t){return Vo(t._redirectPersistence)}function Uue(t){return Pp(jue,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zue=10*60*1e3,Bue=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wue(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!VL(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(y5(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=zue&&this.cachedEventUids.clear(),this.cachedEventUids.has(y4(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(y4(e)),this.lastProcessedEventTime=Date.now()},t}();function y4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function VL(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function Wue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VL(t);default:return!1}}(function(t){Vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(Bue);kue("Cordova");const Hue=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{v.useContext(Z);const[r,i]=v.useState(""),[s,o]=v.useState(""),a=async()=>{const d=Sr.currentUser;r.trim()&&s.trim()?await l(d):n("Enter both old and new password")},l=async d=>{try{const f=_ue.credential(d.email,r);await BU(d,f),await KU(d,s),n("Your password is changed successfully"),e(!1)}catch(f){f.code==="auth/invalid-credentail"?n("Your old password is wrong"):n(`Re-authentication failed: ${f.message}`)}},c=()=>{try{a()}catch(d){n(d.message)}},u=async()=>{try{await HU(Sr,Sr.currentUser.email),n("Password rest email was sent to "+Sr.currentUser.email)}catch(d){n(d.message)}};return h.jsxs(ts,{open:t,onClose:()=>e(!1),children:[h.jsxs(Ue,{m:2,children:[h.jsxs(Ue,{mb:2,children:[h.jsx(Et,{variant:"h6",children:"Change your account password"}),h.jsx(Et,{variant:"caption",children:"Only change the password if you need to and keep your password"})]}),h.jsxs(Yr,{gap:2,children:[h.jsx(pi,{type:"password",size:"small",label:"Enter old password",value:r,onChange:d=>i(d.target.value)}),h.jsx(pi,{type:"password",size:"small",label:"Enter new password",value:s,onChange:d=>o(d.target.value)})]}),h.jsx(Oe,{size:"small",onClick:c,variant:"outlined",sx:{mt:1},children:"Change"})]}),h.jsx(Ue,{pb:2,pl:2,pr:2,children:h.jsxs(Et,{variant:"caption",children:["If you forgot your password,"," ",h.jsxs(Oe,{onClick:u,sx:{textDecoration:"underline"},size:"small",children:[" ","click here"]})," ","to reset."]})})]})},que=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=v.useContext(Z),[r,i]=v.useState(!1),s=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return h.jsx(ts,{open:t,onClose:()=>e(!1),children:h.jsxs(Ue,{m:3,children:[h.jsx(Et,{variant:"h6",mb:2,children:"Your account password"}),h.jsxs(Yr,{gap:2,children:[h.jsx(Et,{children:r?s():"*************"}),h.jsx(Oe,{onClick:()=>i(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},Gue=()=>{var B;const{userData:t,theme:e,setHeaderTitle:n,setIsLogIn:r,setSnackbarOpen:i,setSnackbarMessage:s}=v.useContext(Z),[o,a]=v.useState((t==null?void 0:t.name)||""),[l,c]=v.useState((t==null?void 0:t.gender)||""),[u,d]=v.useState(null),[f,p]=v.useState(!1),[m,y]=v.useState(!1),[x,g]=v.useState(!0),w=v.useRef(null),_=_e(Ee,"users",zi.get("userId")),I=(t==null?void 0:t.nameChangeCount)||0,T=(B=t==null?void 0:t.lastNameChangeDate)==null?void 0:B.toDate(),E=new Date,C=E.getMonth()===(T==null?void 0:T.getMonth())&&E.getFullYear()===(T==null?void 0:T.getFullYear()),[b,R]=v.useState(!1),[S,A]=v.useState(!1),[N,O]=v.useState(null);v.useEffect(()=>{JU(Sr,U=>{U&&(O(U),g(!1))})},[Sr]);const L=En(),$=U=>{i(!0),s(U)};Rg(w,p);const P=()=>(t==null?void 0:t.gender)!==l;v.useEffect(()=>{n("Settings")},[]),v.useEffect(()=>{(async()=>{!C&&(t!=null&&t.name)&&await mr(_,{nameChangeCount:0,lastNameChangeDate:E})})()},[t]);const k=async(U,V)=>{if(o.trim())try{await mr(_,U),$(V)}catch(q){$(q.message)}},D=()=>{const U=new Date;if(C)if(I<3){const V={name:o.trim(),nameChangeCount:I+1,lastNameChangeDate:U};k(V,"Updated name successfully!")}else $("You can only change your name 3 times per month!");else{const V={name:o.trim(),nameChangeCount:1,lastNameChangeDate:U};k(V,"Updated name successfully!")}};v.useEffect(()=>{a(t==null?void 0:t.name),c(t==null?void 0:t.gender)},[t]);const j=async()=>{const U=await vn(u,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),V=Fo(Ka,`profile/${t==null?void 0:t.uid}/${t==null?void 0:t.name}-${u.name}`);try{const q=_e(Ee,"users",t==null?void 0:t.uid);$("Uploading image...");const oe=await Zh(V,U),ee={image:await ef(oe.ref)};await mr(q,ee),d(null),$("Updated profile picture successfully!")}catch(q){$(q.message)}},F=async()=>{try{await mr(_,{gender:l}),$("Updated gender successfully!")}catch(U){$("Error updating gender: "+U.message)}},G=()=>{u&&j(),(o==null?void 0:o.trim())!==(t==null?void 0:t.name)&&D(),P()&&F()},W=async()=>{try{await Jk(Sr),r(!1),zi.remove("userId"),L("/login")}catch(U){console.log(U.message)}};return h.jsxs("div",{className:"Settings m-2",children:[b&&h.jsx(Hue,{openChangePassword:b,setOpenChangePassword:R,openMessage:$}),S&&h.jsx(que,{openViewPassword:S,setOpenViewPassword:A}),h.jsx(oo,{data:{value:m,yesButton:W,noButton:()=>{y(!1)},text:"Are you sure to log out ?",setValue:y}}),h.jsx(br,{}),h.jsxs(Ue,{className:"",children:[h.jsx(Et,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),h.jsxs(Ue,{className:"border border-slate-300 rounded-md shadow-lg",children:[h.jsxs(Ue,{className:"p-2 flex flex-col items-center",children:[h.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[t?h.jsx(si,{className:"hover:opacity-70 cursor-pointer",name:(t==null?void 0:t.name)||o||"User",image:u?URL.createObjectURL(u):t==null?void 0:t.image,size:"size-full",fontSize:"text-3xl"}):h.jsx(fe,{variant:"circular",width:"100%",height:"100%"}),h.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:U=>d(U.target.files[0])})]}),h.jsxs("div",{ref:w,className:"flex mt-2 gap-x-2 items-center",children:[f?h.jsx(pi,{size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:o,onChange:U=>a(U.target.value),className:`pl-1 pr-1 w-auto font-bold ${e==="light"?"outline-none bg-slate-200/60":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}):h.jsx(h.Fragment,{children:t?h.jsx(Et,{className:"font-bold",children:o||(t==null?void 0:t.name)||"Username"}):h.jsx(fe,{height:40,width:150})}),t?h.jsx(kn,{size:"small",onClick:()=>{p(!f)},className:" p-1  cursor-pointer ",children:h.jsx("img",{className:"w-5",src:Le("edit")})}):h.jsx(fe,{variant:"circular",height:20,width:20})]}),t?h.jsx(Et,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:(t==null?void 0:t.email)||"example@gmail.com"}):h.jsx(fe,{height:30,width:120}),t?h.jsxs(Et,{sx:{fontSize:"0.8rem"},className:"text-slate-500",children:["User ID: ",(t==null?void 0:t.uid)||"user12345"," ",h.jsx(kn,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),$("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:h.jsx(Jt,{size:"size-5",name:"clipboard"})})]}):h.jsx(fe,{height:30,width:180}),t?h.jsx(Oe,{onClick:()=>y(!0),sx:{mt:2},variant:"outlined",children:"Log Out"}):h.jsx(fe,{width:90,height:55})]}),h.jsx(Ue,{className:"p-2 flex justify-center border-t border-slate-200",children:h.jsxs(Yr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(Et,{variant:"subtitle1",children:"Gender"}):h.jsx(fe,{height:45,width:70}),t?h.jsx(yce,{label:"Gender",gender:l,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:c}):h.jsx(fe,{height:45,width:70})]})}),N&&h.jsx(h.Fragment,{children:h.jsx(Ue,{className:"p-2 flex justify-center border-t border-b border-slate-200",children:h.jsxs(Yr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(Et,{variant:"subtitle1",children:"Password"}):h.jsx(fe,{height:45,width:70}),t?h.jsx(Yr,{direction:"row",children:h.jsx(Oe,{size:"small",sx:{textDecoration:"underline"},className:" text-blue",onClick:()=>R(!0),variant:"text",children:"Change"})}):h.jsx(fe,{height:45,width:70})]})})}),h.jsx("div",{className:`grid gap-y-2 p-2  ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:h.jsx("div",{children:(t==null?void 0:t.name)&&h.jsxs("p",{className:"text-red-600 font-bold text-sm mb-1",children:["You have changed your name ",`${I} of 3`," ",I>1?"times":"time"," this month!"]})})})]})]}),h.jsx("div",{className:"flex gap-x-2 mt-2",children:P()||u||(o==null?void 0:o.trim())!==(t==null?void 0:t.name)?h.jsx(Oe,{variant:"outlined",onClick:G,startIcon:h.jsx("img",{className:"size-7",src:Le("save")}),children:"Update"}):""})]})},_4=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:i}=t,{theme:s}=v.useContext(Z);return h.jsxs("div",{className:"grid items-center gap-y-2",children:[h.jsx("div",{className:"font-medium",children:e}),h.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${s==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:i})]})},Kue=({data:t})=>{const{close:e}=t,{theme:n,userId:r}=v.useContext(Z),[i,s]=v.useState(""),[o,a]=v.useState(""),l=i.trim(),c=ke(Ee,"tests"),u=async p=>{try{await la(c,p)}catch(m){console.log(m.message)}},d=()=>{const p={uid:r,isUploaded:!1,name:i,description:o,quizzes:[],gradingRules:[],time:rr()};u(p),e()},f=()=>{l&&d()};return v.useEffect(()=>(Rl("hidden"),()=>{Rl("auto")}),[]),h.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:h.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(_4,{data:{text:"Name",onChangeFn:p=>s(p.target.value),value:i,placeholder:"Type test name here"}}),h.jsx(_4,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),h.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[h.jsx(_u,{data:{clickFn:f,text:"Save",image:"save"}}),h.jsx(_u,{data:{clickFn:e,text:"Cancel"}})]})]})})},Que=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:i}=v.useContext(Z),[s,o]=v.useState(!1),a=v.useRef(null);Rg(a,o);const l=()=>{o(!s)},c=u=>{r(u)};return h.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[h.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${i==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[h.jsx("span",{children:n||"Select correct answer"}),h.jsx("img",{className:"h-6 w-6",src:Le(s?"up":"down")})]}),s&&e.length!==0?h.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${i==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>h.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${i==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},Do=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:i}=t,{theme:s}=v.useContext(Z);return h.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[h.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:e}),h.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${s==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:i})]})},Yue=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:i,clearEditData:s}=t,{theme:o}=v.useContext(Z),[a,l]=v.useState(i?i.question:""),[c,u]=v.useState(i?i.choices[0]:""),[d,f]=v.useState(i?i.choices[1]:""),[p,m]=v.useState(i?i.choices[2]:""),[y,x]=v.useState(i?i.choices[3]:""),[g,w]=v.useState(i?i.answer:"");let _=[];const I=c.trim()&&d.trim()&&p.trim()&&y.trim(),T=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&g.trim();I&&(_=[c,d,p,y]);const E=(N,O)=>{N.toLowerCase()==="question"?l(O.target.value):w(O.target.value)},C=()=>{let N,O;T&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:g},O=[...n,N],r(O),ah(),e())},b=()=>{const N=i.id,O={id:N,question:a,choices:_,answer:g},L=n.map($=>N===$.id?O:$);r(L),e(),s()},R=(N,O)=>{N.toLowerCase()==="choice 1"?u(O.target.value):N.toLowerCase()==="choice 2"?f(O.target.value):N.toLowerCase()==="choice 3"?m(O.target.value):x(O.target.value)},S=()=>{i?b():C()},A=()=>{e(),s()};return v.useEffect(()=>(Rl("hidden"),()=>{Rl("auto")}),[]),h.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:h.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[h.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:i?i.number:n.length+1}),h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(Do,{data:{handleFn:E,value:a,choice:"Question",placeholder:"Enter question"}}),h.jsx(Do,{data:{handleFn:R,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),h.jsx(Do,{data:{handleFn:R,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),h.jsx(Do,{data:{handleFn:R,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),h.jsx(Do,{data:{handleFn:R,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),h.jsxs("div",{className:"flex items-center gap-x-5",children:[h.jsx("div",{className:"font-medium",children:"Answer"}),h.jsx(Que,{data:{options:_,value:g,setValue:w}})]})]}),h.jsxs("div",{className:"flex justify-end gap-x-2",children:[h.jsx(_u,{data:{clickFn:S,text:"Save",image:"save"}}),h.jsx(_u,{data:{clickFn:A,text:"Cancel"}})]})]})})},Xue=({data:t})=>{const{theme:e}=v.useContext(Z),{testName:n,numbers:r,changePage:i}=t;return h.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:h.jsxs("div",{className:"flex items-center gap-x-2",children:[h.jsx(wn,{data:{clickFn:()=>i("test"),image:"back"}}),h.jsxs("div",{children:[n,h.jsxs("span",{className:"text-sm",children:["  "," ",r," ",r>1?"questions":"question"]})]})]})})},Jue=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:i,changePage:s}=t,{theme:o}=v.useContext(Z);return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>h.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[h.jsx(wn,{data:{clickFn:()=>n(a,l),image:"edit"}}),h.jsx(wn,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),h.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[h.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),h.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),h.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>h.jsxs("div",{className:"flex gap-x-2",children:[h.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),h.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),h.jsx("div",{className:"flex justify-center sticky bottom-5",children:h.jsx(wn,{data:{clickFn:i,image:"add"}})})]})},Zue=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:i}=t,{theme:s}=v.useContext(Z),{gradingRules:o}=e,[a,l]=v.useState(null),c=m=>{const y=o.filter(g=>g.id!==m),x={...e,gradingRules:y};n(x)},u=m=>{l(m)},d=m=>{i(m),r(!0)},f=()=>{c(a),l(null)},p=()=>{l(null)};return h.jsxs("div",{className:"grid gap-y-3",children:[h.jsx("div",{className:`pl-1 font-medium ${s==="light"?"":"text-white"}`,children:"Grading Rules"}),h.jsx(oo,{data:{value:a,setValue:l,yesButton:f,noButton:p,text:"Are you sure to delete?"}}),o.map((m,y)=>h.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${s==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[h.jsx(ey,{data:{text:"From",value:m.from}}),h.jsx(ey,{data:{text:"To",value:m.to}}),h.jsx(ey,{data:{text:"Level",value:m.level}})]}),h.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[h.jsx(wn,{data:{clickFn:()=>d(m),image:"edit"}}),h.jsx(wn,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${y}-${m.from}-${m.to}-${m.level}`)),h.jsx("div",{className:"flex justify-center sticky bottom-5",children:h.jsx(wn,{data:{clickFn:()=>r(!0),image:"add"}})})]})},ey=({data:t})=>{const{text:e,value:n}=t,{theme:r}=v.useContext(Z);return h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"font-medium",children:e}),h.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?Ea(n,15):n})]})},ede=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:i,setIsRulesAdding:s}=t,{theme:o}=v.useContext(Z),{gradingRules:a}=e,[l,c]=v.useState(r?r.from:null),[u,d]=v.useState(r?r.to:null),[f,p]=v.useState(r?r.level:""),m=l&&u&&f.trim(),y=()=>{const I={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:f},T={...e,gradingRules:[...a,I]};n(T)},x=()=>{const I=r.id,T={id:I,from:Number(l),to:Number(u),level:f},E=a.map(b=>I===b.id?T:b),C={...e,gradingRules:E};n(C)},g=()=>{s(!1),i(null)},w=()=>{m&&(r?x():y(),g())},_=(I,T)=>{const E=T.target.value;I.toLowerCase()==="from"?c(E):I.toLowerCase()==="to"?d(E):p(E)};return v.useEffect(()=>(Rl("hidden"),()=>{Rl("auto")}),[]),h.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:h.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[h.jsx(Do,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),h.jsx(Do,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),h.jsx(Do,{data:{handleFn:_,value:f,choice:"Level",placeholder:"Enter level"}}),h.jsxs("div",{className:"flex justify-end gap-x-2",children:[h.jsx(_u,{data:{clickFn:w,text:"Save",image:"save"}}),h.jsx(_u,{data:{clickFn:g,text:"Cancel"}})]})]})})},w4=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:i}=v.useContext(Z),{description:s,name:o}=e,[a,l]=v.useState(r==="Description"?s:o),[c,u]=v.useState(!1),d=y=>{l(y.target.value)},f=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{f(),u(!1)},m=()=>{u(!1),l(r==="Description"?s:o)};return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:r}),c?h.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${i==="light"?"":"text-white bg-slate-600"}`,value:a}):h.jsx("div",{className:`text-gray-500 p-1 ${i==="light"?"":"text-white"}`,children:a||"No description"}),c?h.jsxs("div",{className:"flex gap-x-2",children:[h.jsx(wn,{data:{clickFn:p,image:"save"}}),h.jsx(wn,{data:{clickFn:m,image:"falseIcon"}})]}):h.jsx(wn,{data:{clickFn:()=>u(!0),image:"edit"}})]})},tde=({data:t})=>{v.useContext(Z);const{setPage:e,currentTest:n,setCurrentTest:r}=t,[i,s]=v.useState(!1),[o,a]=v.useState(!1),[l,c]=v.useState(n.quizzes),[u,d]=v.useState(null),[f,p]=v.useState(null),m=async(A,N)=>{try{const O=_e(Ee,"tests",A);await mr(O,N)}catch(O){console.log(O.message)}};v.useEffect(()=>{y()},[n,l]);const y=()=>{m(n.id,{...n,quizzes:l})},x=()=>{s(!0)},g=()=>{s(!1),p(null)},w=A=>{p(A)},_=()=>{E(f),p(null)},I=()=>{p(null)},T=A=>{e(A)},E=A=>{const N=l.filter(O=>O.id!==A);c(N)},C=(A,N)=>{const O={...A,number:N+1};d(O),x()},b=()=>{d(null)},R={testName:n.name,numbers:l.length,changePage:T},S={quizzes:l,editQuestion:C,askToDelete:w,add:x};return h.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[h.jsx(Xue,{data:R}),h.jsx(Rc,{}),h.jsx(w4,{data:{title:"Test Name",currentTest:n,setCurrentTest:r}}),h.jsx(w4,{data:{title:"Description",currentTest:n,setCurrentTest:r}}),h.jsx(Rc,{}),h.jsx(Zue,{data:{currentTest:n,setEditData:d,setCurrentTest:r,setIsRulesAdding:a}}),h.jsx(Rc,{}),h.jsx(Jue,{data:S}),i&&h.jsx(Yue,{data:{cancel:g,setQuizzes:c,quizzes:l,editData:u,clearEditData:b}}),o&&h.jsx(ede,{data:{currentTest:n,setCurrentTest:r,editData:u,setEditData:d,setIsRulesAdding:a}}),h.jsx(oo,{data:{value:f,setValue:p,yesButton:_,noButton:I,text:"Are you sure to delete ?"}}),h.jsx(Rc,{})]})},b5=({text:t,length:e})=>{const n=En(),{theme:r}=v.useContext(Z);return h.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[h.jsx(kn,{onClick:()=>n("/app/admin"),children:h.jsx("img",{className:"size-7",src:Le("back")})}),h.jsxs("p",{children:[t," (",e,")"]})]})},UL=({options:t,handleClick:e,message:n,chatId:r,isComment:i,messageOption:s,setMessageOption:o,isOpened:a})=>{const{userId:l}=v.useContext(Z),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async f=>{const p=_e(ke(_e(ke(_e(Ee,"chats",r),"messages"),n.id),"reactedBy"),l);await nl(p,{uid:l,reactionType:f})},d=()=>i?a:!!s;return h.jsx(ts,{open:d,onClose:e,children:h.jsxs("div",{className:"m-5 md:w-[450px] lg:w-[500px] ",children:[i?h.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):h.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(f=>h.jsx(kn,{onClick:()=>{e(),u(f.name)},children:h.jsx("img",{className:"w-6",src:Le(f.image)})},f.name))}),h.jsx("div",{className:"grid gap-y-1",children:t.map(f=>{if(f)return h.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{f.onClick(),e()},children:[h.jsx("img",{className:"w-6",src:Le(f.icon)}),h.jsx("p",{children:f.text})]},f.text)})})]})})},C5=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:i})=>{const[s,o]=v.useState(!1),a=v.useRef(null);return Rg(a,o),h.jsxs(h.Fragment,{children:[h.jsx(kn,{onClick:()=>o(!0),children:h.jsx("img",{className:"w-6",src:Le("moreOption")})}),s&&h.jsx(UL,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:i,isOpened:s})]})},nde=()=>{const[t,e]=v.useState("test"),{theme:n,tests:r,setTests:i,setHeaderTitle:s}=v.useContext(Z),[o,a]=v.useState({}),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,p]=v.useState(null),m=ke(Ee,"tests"),[y,x]=v.useState(!0),[g,w]=v.useState(!1),[_,I]=v.useState(null);Bl(m,[],i,x,w,!1,I),v.useEffect(()=>{s("Admin - Tests")},[t]),v.useEffect(()=>(Ii(),Ii()),[]);const T=L=>{a(L),e("editTest")},E=L=>{p(L),d(!0)},C=async L=>{const $=_e(Ee,"tests",L.id);await mr($,{isUploaded:!L.isUploaded})},b=()=>{N(f),p(null),d(!1)},R=()=>{d(!1)},S=()=>{c(!0)},A=()=>{c(!1)},N=async L=>{try{const $=_e(Ee,"tests",L);await qs($)}catch($){console.log($.message)}},O=()=>{switch(t){case"test":return h.jsxs("div",{className:"p-5 grid gap-y-2",children:[h.jsx("div",{className:"flex justify-between",children:h.jsx(b5,{text:"Tests",length:r.length})}),l&&h.jsx(Kue,{data:{close:A}}),h.jsx(oo,{data:{value:u,setValue:d,yesButton:b,noButton:R,text:"Are you sure to delete ?"}}),h.jsx("div",{className:"grid border border-slate-200 shadow-md rounded-md overflow-hidden",children:r.map((L,$)=>h.jsxs("div",{className:`cursor-pointer hover:bg-slate-100 ${$===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px] ${n==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{onClick:()=>{T(L)},className:"flex flex-1 gap-x-2 items-center",children:[h.jsx("input",{checked:L.isUploaded,onChange:()=>C(L),className:"size-6",type:"checkbox"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:L.name}),h.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[L.quizzes.length,L.quizzes.length>1?" questions":" question",L.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),h.jsx("div",{className:"flex gap-x-2",children:h.jsx(C5,{isComment:!0,options:[{text:"Delete",icon:"deleteIcon",onClick:()=>E(L.id)}]})})]},` tests-${L.id}`))}),h.jsx("div",{children:h.jsx(Oe,{variant:"outlined",startIcon:h.jsx(Jt,{name:"add"}),onClick:S,children:"New test"})})]});case"editTest":return h.jsx(tde,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}};return y?h.jsx(br,{text:"Loading tests..."}):g?h.jsx(At,{text:"No test available"}):_?h.jsx(At,{text:_}):O()},rde=["January","February","March","April","May","June","July","August","September","October","November","December"];function ql(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),f=u.getMonth(),p=u.getDate(),m=`${rde[f]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(s>0)return`${s} ${s===1?"hour":"hours"} ago`;if(i>0)return`${i} ${i===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}function Li(t,e,n="timestamp",r="older"){var o,a;const i=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),s=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?i-s:s-i}const ide=["January","February","March","April","May","June","July","August","September","October","November","December"],sde=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function r2(t){const e=new Date().getTime(),n=new Date,r=e-t,i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),f=d.getFullYear(),p=d.getMonth(),m=d.getDate(),y=sde[d.getDay()],g=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,w=ide[p],_=`${w} ${m}, ${f}`,I=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${I}  ${_}`;if(c>0)return`${I}  ${w} ${m}`;if(l>0)return`${y}, ${I}  ${w} ${m}`;if(a>0)return`${g?"Yesterday":y}, ${I}`;if(o>0)return`${g?"Yesterday, ":""}${I}`;if(s>0)return I;if(i>0)return I}function jr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const ode=({password:t})=>{const[e,n]=v.useState(!1);return h.jsxs("div",{children:["Password: ",e?t:"*********"," ",h.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},ade=()=>{const{setUserData:t,users:e,theme:n,setHeaderTitle:r,userId:i,setUsers:s}=v.useContext(Z),o=ke(Ee,"users"),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>(Ii(),Ii()),[]),v.useEffect(()=>{r("Admin - Users")},[]);const p=En(),m=x=>{t(x),p("/app")},y=async x=>{const g=_e(Ee,"users",x.uid);await mr(g,{isAdmin:!x.isAdmin})};return Bl(o,[],s,l,u,!0,f),a?h.jsx(br,{isLoading:a,text:"Loading users..."}):c?h.jsx(At,{text:"No users available"}):d?h.jsx(At,{text:d}):h.jsxs("div",{className:"mt-2 p-5",children:[h.jsx(b5,{text:"Users",length:e==null?void 0:e.length}),h.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:e.sort((x,g)=>Li(x,g,"createdAt","older")).map((x,g)=>h.jsxs("div",{className:` hover:border-slate-200 ${g===0&&"border-t-0"} border-t p-2   ${n==="light"?`hover:bg-slate-50 ${i===x.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${i===x.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[h.jsx(si,{image:x.image,name:x.name}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"font-medium",children:[x.name," ",h.jsxs("span",{className:`${x!=null&&x.isAdmin?"text-blue-500":"text-white"}`,children:["(",x!=null&&x.isAdmin?"admin":"user",")"," ",i===x.uid?"(You)":""]})]}),h.jsx("div",{className:"text-md ",children:x.email}),h.jsxs("div",{className:"text-md",children:["Created: ",r2(jr(x.createdAt))]}),h.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",x.uid]}),h.jsx(ode,{password:x.password})]})]}),i!==x.uid&&h.jsx(kn,{onClick:()=>m(x),children:h.jsx(Jt,{name:"review"})})]}),i!==x.uid&&h.jsx(Oe,{onClick:()=>y(x),size:"small",startIcon:h.jsx(Jt,{name:"admin"}),children:x.isAdmin?"Remove from admin":"Set as admin"})]},x.uid))})]})},lde=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:i}=t,[s,o]=v.useState(""),[a,l]=v.useState(""),c=s.trim()&&a.trim(),u=()=>{if(c){const d={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:a.trim()},f=[...e,d];n(f),r(!1)}};return h.jsx(ts,{open:i,onClose:()=>r(!1),children:h.jsxs(Ue,{m:4,children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(pi,{size:"small",value:s,onChange:d=>o(d.target.value),placeholder:"Enter title..."}),h.jsx(pi,{size:"small",value:a,onChange:d=>l(d.target.value),placeholder:"Enter link..."})]}),h.jsx("div",{className:"mt-2",children:h.jsx(Oe,{variant:"outlined",startIcon:h.jsx("img",{src:Le("add"),className:"size-7"}),onClick:u,children:"Add Link"})})]})})},cde=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:i,setHeaderTitle:s,userId:o}=v.useContext(Z),a=ke(Ee,"posts"),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,p]=v.useState(null),[m,y]=v.useState("posts"),[x,g]=v.useState(null),[w,_]=v.useState(!1);v.useEffect(()=>{s("Admin - Posts")},[]),Bl(a,[],i,c,d,!1,p);const I=async()=>{const E=_e(Ee,"posts",w);await qs(E)};if(l)return h.jsx(br,{text:"Loading posts..."});if(u)return h.jsx(At,{text:"No posts available"});if(f)return h.jsx(At,{text:f});const T=()=>{switch(m){case"posts":return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(oo,{data:{yesButton:I,noButton:()=>_(!1),text:"Are you sure to delete this post?",setValue:_,value:w}}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx(b5,{text:"Posts",length:r.length}),h.jsx(Oe,{onClick:()=>y("createPost"),children:"Create a post"})]}),h.jsx("div",{className:"grid border shadow-md rounded-md border-slate-200 mb-2",children:r.sort((E,C)=>Li(E,C,"time","newer")).map((E,C)=>{var b,R,S;return t.forEach(A=>{A.uid,E.uid}),h.jsxs(Ue,{className:`${C===0&&"border-t-0"} overflow-hidden hover:bg-slate-100 cursor-pointer p-2 border-t   min-h-20 flex items-center  ${e==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(ude,{post:E}),h.jsx("p",{className:"mb-2 break-words whitespace-normal",children:Ea(E.description,25)}),h.jsxs("div",{className:"flex items-center gap-x-1",children:[E.images.length!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(Jt,{name:"image"}),h.jsxs("span",{children:[E.images.length," ",E.images.length<=1?"image":"images"]})]}),E.files.length!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(Jt,{name:"file"}),h.jsxs("span",{children:[E.files.length," ",E.files.length<=1?"file":"files"]})]}),E.links&&((b=E==null?void 0:E.links)==null?void 0:b.length)!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(Jt,{name:"link"}),h.jsxs("span",{children:[(R=E==null?void 0:E.links)==null?void 0:R.length," ",((S=E==null?void 0:E.links)==null?void 0:S.length)<=1?"link":"links"]})]}),E.draft&&h.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:h.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),h.jsx("div",{className:"flex items-center gap-x-1",children:h.jsx(C5,{isComment:!0,options:[{text:"Edit",icon:"editPencil",onClick:()=>{g(E),y("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>_(E.id)}]})})]},`post-${E.id}`)})})]});case"createPost":return h.jsx(dde,{setPage:y,postData:x,setPostData:g})}};return h.jsx("div",{className:"m-5",children:T()})},ude=({post:t})=>{const{users:e,theme:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return qn(t.uid,e,i,o,[],1200),h.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[s?h.jsx(fe,{variant:"circular",width:40,height:40}):h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),h.jsxs("div",{children:[s?h.jsx(fe,{height:40,width:120}):h.jsx("div",{className:"font-medium",children:r==null?void 0:r.name}),h.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:ql(jr(t.time))})]})]})},dde=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=v.useContext(Z),[i,s]=v.useState(e?e.images:[]),[o,a]=v.useState(null),[l,c]=v.useState(e?e.description:""),[u,d]=v.useState(e?e==null?void 0:e.files:[]),[f,p]=v.useState(e?(e==null?void 0:e.links)||[]:[]),[m,y]=v.useState(!1),x=l.trim()||i.length!==0||u.length!==0||f.length!==0,g=async(S=!1)=>{try{const A=ke(Ee,"posts");await la(A,{uid:userId,time:rr(),editedTime:rr(),description:l,images:i,files:u,links:f,draft:S}),t("posts")}catch(A){console.log(A.message)}},w=async()=>{try{const S=_e(Ee,"posts",e.id);await mr(S,{editedTime:rr(),description:l,images:i,files:u,links:f,draft:!1}),t("posts")}catch(S){console.log(S.message)}},_=async()=>{try{if(e){const S=_e(Ee,"posts",e.id);await mr(S,{editedTime:rr(),description:l,images:i,files:u,links:f,draft:!0})}else g(!0);t("posts")}catch(S){console.log(S.message)}},I=async S=>{try{const A=await vn(S,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${userId}/${S.name}`,O=Fo(Ka,N);a("Uploading image...");const L=await Zh(O,A),$=await ef(L.ref),P=[...i,{name:S.name,path:N,imageURL:$}];s(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(A){a(A.message),setTimeout(()=>{a(null)},3e3)}},T=async S=>{try{const A=`posts/${userId}/${S.name}`,N=Fo(Ka,A);a("Uploading file...");const O=await Zh(N,S),L=await ef(O.ref),$=[...u,{name:S.name,path:A,fileURL:L,size:S.size}];d($),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(A){a(A.message),setTimeout(()=>{a(null)},3e3)}},E=async(S,A)=>{const N=i.filter(L=>A!==L.imageURL);s(N);const O=Fo(Ka,S);await Z_(O)},C=async(S,A)=>{const N=u.filter(L=>A!==L.fileURL);d(N);const O=Fo(Ka,S);await Z_(O)},b=S=>{const A=f.filter(N=>S!==N.id);p(A)},R=S=>{document.getElementById(S).click()};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&h.jsx(ace,{message:o}),h.jsxs("div",{className:"flex gap-x-1 items-center",children:[h.jsx(kn,{onClick:()=>{t("posts"),n(null)},children:h.jsx("img",{className:"size-7",src:Le("back")})}),h.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(Oe,{onClick:()=>{x&&_()},children:"Draft"}),h.jsx(Oe,{onClick:()=>{x?(e?w():g(),n(null)):a("Create a post first!")},startIcon:h.jsx("img",{className:"size-7",src:Le(e?"save":"upload")}),children:e?"Save":"Publish"})]})]}),h.jsxs("div",{className:"mb-2",children:[h.jsx("textarea",{value:l,onChange:S=>c(S.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-300  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),h.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:S=>I(S.target.files[0])}),h.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:S=>T(S.target.files[0])}),h.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[h.jsx(Oe,{onClick:()=>R("imagesInput"),variant:"outlined",startIcon:h.jsx("img",{className:" h-7",src:Le("image")}),children:"Image"}),h.jsx(Oe,{onClick:()=>R("filesInput"),variant:"outlined",startIcon:h.jsx("img",{className:" h-7",src:Le("file")}),children:"File"}),h.jsx(Oe,{onClick:()=>{y(!0)},variant:"outlined",startIcon:h.jsx("img",{className:" h-7",src:Le("link")}),children:"Link"}),h.jsx(lde,{data:{links:f,setLinks:p,setIsLinkAdding:y,isLinkAdding:m}})]})]}),i.length!==0&&h.jsx("div",{className:"grid gap-y-2",children:i.map(S=>h.jsxs("div",{className:"relative min-h-20",children:[h.jsx("img",{alt:S.name,className:"size-full",src:S.imageURL}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(wn,{data:{clickFn:()=>E(S.path,S.imageURL),image:"falseIcon"}})})]},S.imageURL))}),u.length!==0&&h.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(S=>h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[h.jsx("img",{className:"w-7 ",src:Le("download")}),h.jsxs("div",{children:[h.jsx("p",{className:"underline text-blue-600",children:S.name}),(S==null?void 0:S.size)&&h.jsxs("p",{children:[(S.size/(1024*1024)).toFixed(2)," MB"]})]})]}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(wn,{data:{clickFn:()=>C(S.path,S.fileURL),image:"falseIcon"}})})]},S.fileURL))}),f.length!==0&&h.jsx("div",{className:"grid gap-y-1 mt-2",children:f.map(S=>h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[h.jsx("img",{className:"w-7 ",src:Le("link")}),h.jsx("div",{children:h.jsx("p",{className:"underline text-blue-600",children:S.title})})]}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(wn,{data:{image:"falseIcon",clickFn:()=>b(S.id)}})})]},S.link))})]})},hde=()=>h.jsxs("div",{className:"flex gap-x-2 rounded-md p-2 items-center",children:[h.jsx("div",{children:h.jsx(fe,{variant:"circular",width:40,height:40})}),h.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[h.jsx(fe,{variant:"text",width:200}),h.jsx(fe,{variant:"rectangular",height:55,width:"90%"})]})]}),fde=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=v.useContext(Z),r=5,[i,s]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,p]=v.useState(null),m=async()=>{c(!0);const y=ke(Ee,"notifications");let x=xr(y,pu("timestamp","desc"),no(r));o&&(x=xr(x,yg(o)));try{const g=await wa(x);if(Ks(y,n),g.empty)d(!0);else{const w=g.docs.map(_=>({id:_.id,..._.data()}));s([...i,...w]),a(g.docs[g.docs.length-1]),xn(c)}}catch(g){const w="Error fetching notifications: "+g.message;console.log(w),c(!1),p(w)}};return v.useEffect(()=>{m()},[]),v.useEffect(()=>{t("Notifications")},[]),l?h.jsx(br,{isLoading:l,text:"Loading notifications..."}):u?h.jsx(At,{text:"No notifications available"}):f?h.jsx(At,{text:f}):h.jsxs(Ue,{className:"m-2",children:[h.jsxs(Ue,{className:"border overflow-hidden shadow-md border-slate-200 rounded-md",children:[i.map((y,x)=>h.jsx(pde,{length:i.length,notification:y,index:x},y.id)),l&&h.jsx(Ue,{className:"flex justify-center",children:h.jsxs(Ue,{children:[h.jsx("div",{className:"mb-2",children:"Loading..."}),h.jsx(Nie,{})]})})]}),e>r&&e>i.length?h.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:h.jsx(Oe,{size:"small",onClick:m,children:"load more"})}):""]})},pde=({notification:t,index:e,length:n})=>{let r;const{type:i,description:s,timestamp:o,testName:a,comment:l}=t,c=`${i[0]} ${i[1]}`,{theme:u,users:d}=v.useContext(Z),[f,p]=v.useState(null),[m,y]=v.useState(!0);switch(qn(t.uid,d,p,y),c){case"like post":r="liked a post";break;case"like test":r="liked a test";break;case"comment post":r="commented on a post";break;case"comment test":r="commented on a test";break;case"added post":r="added a post";break;case"added test":r="added a test";break;case"took test":r="took a test";break}return m?h.jsx(hde,{}):h.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"}  ${u==="light"?"border-slate-200 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[h.jsx("div",{children:h.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:f==null?void 0:f.image})}),h.jsxs("div",{children:[h.jsxs("p",{children:[h.jsx("b",{children:f?f==null?void 0:f.name:"Unknown User"})," ",r]}),s&&h.jsx("p",{children:Ea(s,30)}),a&&h.jsx("p",{children:a}),l&&h.jsx("p",{children:l}),h.jsx("p",{children:ql(jr(o))})]})]})},mde=({isCreating:t,setIsCreating:e})=>{const[n,r]=v.useState(""),{userId:i}=v.useContext(Z),s=async()=>{if(!n.trim())return;const o=ke(Ee,"chats"),a=await la(o,{name:n,image:null,lastMessage:{}}),l=ke(_e(o,a.id),"members");await la(l,{uid:i,joinedAt:rr()})};return h.jsx(ts,{open:t,onClose:()=>e(!1),children:h.jsxs(Ue,{className:"m-5 ",children:[h.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),h.jsxs(Yr,{direction:"row",gap:1,children:[h.jsx(pi,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),h.jsx(Oe,{onClick:()=>{n.trim()&&(s(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var Nt="-ms-",fh="-moz-",ft="-webkit-",zL="comm",S1="rule",T5="decl",gde="@import",BL="@keyframes",vde="@layer",WL=Math.abs,S5=String.fromCharCode,Aw=Object.assign;function yde(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function HL(t){return t.trim()}function Ls(t,e){return(t=e.exec(t))?t[0]:t}function Fe(t,e,n){return t.replace(e,n)}function Np(t,e,n){return t.indexOf(e,n)}function Sn(t,e){return t.charCodeAt(e)|0}function Eu(t,e,n){return t.slice(e,n)}function as(t){return t.length}function qL(t){return t.length}function Ud(t,e){return e.push(t),t}function _de(t,e){return t.map(e).join("")}function x4(t,e){return t.filter(function(n){return!Ls(n,e)})}var R1=1,Iu=1,GL=0,Ai=0,fn=0,Xu="";function A1(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:R1,column:Iu,length:o,return:"",siblings:a}}function Io(t,e){return Aw(A1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ac(t){for(;t.root;)t=Io(t.root,{children:[t]});Ud(t,t.siblings)}function wde(){return fn}function xde(){return fn=Ai>0?Sn(Xu,--Ai):0,Iu--,fn===10&&(Iu=1,R1--),fn}function Gi(){return fn=Ai<GL?Sn(Xu,Ai++):0,Iu++,fn===10&&(Iu=1,R1++),fn}function ol(){return Sn(Xu,Ai)}function Lp(){return Ai}function k1(t,e){return Eu(Xu,t,e)}function kw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ede(t){return R1=Iu=1,GL=as(Xu=t),Ai=0,[]}function Ide(t){return Xu="",t}function ty(t){return HL(k1(Ai-1,Pw(t===91?t+2:t===40?t+1:t)))}function bde(t){for(;(fn=ol())&&fn<33;)Gi();return kw(t)>2||kw(fn)>3?"":" "}function Cde(t,e){for(;--e&&Gi()&&!(fn<48||fn>102||fn>57&&fn<65||fn>70&&fn<97););return k1(t,Lp()+(e<6&&ol()==32&&Gi()==32))}function Pw(t){for(;Gi();)switch(fn){case t:return Ai;case 34:case 39:t!==34&&t!==39&&Pw(fn);break;case 40:t===41&&Pw(t);break;case 92:Gi();break}return Ai}function Tde(t,e){for(;Gi()&&t+fn!==57;)if(t+fn===84&&ol()===47)break;return"/*"+k1(e,Ai-1)+"*"+S5(t===47?t:Gi())}function Sde(t){for(;!kw(ol());)Gi();return k1(t,Ai)}function Rde(t){return Ide(Dp("",null,null,null,[""],t=Ede(t),0,[0],t))}function Dp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,y=1,x=1,g=1,w=0,_="",I=i,T=s,E=r,C=_;x;)switch(m=w,w=Gi()){case 40:if(m!=108&&Sn(C,d-1)==58){Np(C+=Fe(ty(w),"&","&\f"),"&\f",WL(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:C+=ty(w);break;case 9:case 10:case 13:case 32:C+=bde(m);break;case 92:C+=Cde(Lp()-1,7);continue;case 47:switch(ol()){case 42:case 47:Ud(Ade(Tde(Gi(),Lp()),e,n,l),l);break;default:C+="/"}break;case 123*y:a[c++]=as(C)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(C=Fe(C,/\f/g,"")),p>0&&as(C)-d&&Ud(p>32?I4(C+";",r,n,d-1,l):I4(Fe(C," ","")+";",r,n,d-2,l),l);break;case 59:C+=";";default:if(Ud(E=E4(C,e,n,c,u,i,a,_,I=[],T=[],d,s),s),w===123)if(u===0)Dp(C,e,E,E,I,s,d,a,T);else switch(f===99&&Sn(C,3)===110?100:f){case 100:case 108:case 109:case 115:Dp(t,E,E,r&&Ud(E4(t,E,E,0,0,i,a,_,i,I=[],d,T),T),i,T,d,a,r?I:T);break;default:Dp(C,E,E,E,[""],T,0,a,T)}}c=u=p=0,y=g=1,_=C="",d=o;break;case 58:d=1+as(C),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&xde()==125)continue}switch(C+=S5(w),w*y){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(as(C)-1)*g,g=1;break;case 64:ol()===45&&(C+=ty(Gi())),f=ol(),u=d=as(_=C+=Sde(Lp())),w++;break;case 45:m===45&&as(C)==2&&(y=0)}}return s}function E4(t,e,n,r,i,s,o,a,l,c,u,d){for(var f=i-1,p=i===0?s:[""],m=qL(p),y=0,x=0,g=0;y<r;++y)for(var w=0,_=Eu(t,f+1,f=WL(x=o[y])),I=t;w<m;++w)(I=HL(x>0?p[w]+" "+_:Fe(_,/&\f/g,p[w])))&&(l[g++]=I);return A1(t,e,n,i===0?S1:a,l,c,u,d)}function Ade(t,e,n,r){return A1(t,e,n,zL,S5(wde()),Eu(t,2,-2),0,r)}function I4(t,e,n,r,i){return A1(t,e,n,T5,Eu(t,0,r),Eu(t,r+1,-1),r,i)}function KL(t,e,n){switch(yde(t,e)){case 5103:return ft+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ft+t+t;case 4789:return fh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ft+t+fh+t+Nt+t+t;case 5936:switch(Sn(t,e+11)){case 114:return ft+t+Nt+Fe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ft+t+Nt+Fe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ft+t+Nt+Fe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ft+t+Nt+t+t;case 6165:return ft+t+Nt+"flex-"+t+t;case 5187:return ft+t+Fe(t,/(\w+).+(:[^]+)/,ft+"box-$1$2"+Nt+"flex-$1$2")+t;case 5443:return ft+t+Nt+"flex-item-"+Fe(t,/flex-|-self/g,"")+(Ls(t,/flex-|baseline/)?"":Nt+"grid-row-"+Fe(t,/flex-|-self/g,""))+t;case 4675:return ft+t+Nt+"flex-line-pack"+Fe(t,/align-content|flex-|-self/g,"")+t;case 5548:return ft+t+Nt+Fe(t,"shrink","negative")+t;case 5292:return ft+t+Nt+Fe(t,"basis","preferred-size")+t;case 6060:return ft+"box-"+Fe(t,"-grow","")+ft+t+Nt+Fe(t,"grow","positive")+t;case 4554:return ft+Fe(t,/([^-])(transform)/g,"$1"+ft+"$2")+t;case 6187:return Fe(Fe(Fe(t,/(zoom-|grab)/,ft+"$1"),/(image-set)/,ft+"$1"),t,"")+t;case 5495:case 3959:return Fe(t,/(image-set\([^]*)/,ft+"$1$`$1");case 4968:return Fe(Fe(t,/(.+:)(flex-)?(.*)/,ft+"box-pack:$3"+Nt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ft+t+t;case 4200:if(!Ls(t,/flex-|baseline/))return Nt+"grid-column-align"+Eu(t,e)+t;break;case 2592:case 3360:return Nt+Fe(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ls(r.props,/grid-\w+-end/)})?~Np(t+(n=n[e].value),"span",0)?t:Nt+Fe(t,"-start","")+t+Nt+"grid-row-span:"+(~Np(n,"span",0)?Ls(n,/\d+/):+Ls(n,/\d+/)-+Ls(t,/\d+/))+";":Nt+Fe(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ls(r.props,/grid-\w+-start/)})?t:Nt+Fe(Fe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Fe(t,/(.+)-inline(.+)/,ft+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Fe(t,/(.+:)(.+)-([^]+)/,"$1"+ft+"$2-$3$1"+fh+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Np(t,"stretch",0)?KL(Fe(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Fe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return Nt+i+":"+s+c+(o?Nt+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Sn(t,e+6)===121)return Fe(t,":",":"+ft)+t;break;case 6444:switch(Sn(t,Sn(t,14)===45?18:11)){case 120:return Fe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ft+(Sn(t,14)===45?"inline-":"")+"box$3$1"+ft+"$2$3$1"+Nt+"$2box$3")+t;case 100:return Fe(t,":",":"+Nt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Fe(t,"scroll-","scroll-snap-")+t}return t}function i2(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function kde(t,e,n,r){switch(t.type){case vde:if(t.children.length)break;case gde:case T5:return t.return=t.return||t.value;case zL:return"";case BL:return t.return=t.value+"{"+i2(t.children,r)+"}";case S1:if(!as(t.value=t.props.join(",")))return""}return as(n=i2(t.children,r))?t.return=t.value+"{"+n+"}":""}function Pde(t){var e=qL(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Nde(t){return function(e){e.root||(e=e.return)&&t(e)}}function Lde(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case T5:t.return=KL(t.value,t.length,n);return;case BL:return i2([Io(t,{value:Fe(t.value,"@","@"+ft)})],r);case S1:if(t.length)return _de(n=t.props,function(i){switch(Ls(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ac(Io(t,{props:[Fe(i,/:(read-\w+)/,":"+fh+"$1")]})),ac(Io(t,{props:[i]})),Aw(t,{props:x4(n,r)});break;case"::placeholder":ac(Io(t,{props:[Fe(i,/:(plac\w+)/,":"+ft+"input-$1")]})),ac(Io(t,{props:[Fe(i,/:(plac\w+)/,":"+fh+"$1")]})),ac(Io(t,{props:[Fe(i,/:(plac\w+)/,Nt+"input-$1")]})),ac(Io(t,{props:[i]})),Aw(t,{props:x4(n,r)});break}return""})}}var Vr={},bu=typeof process<"u"&&Vr!==void 0&&(Vr.REACT_APP_SC_ATTR||Vr.SC_ATTR)||"data-styled",QL="active",YL="data-styled-version",P1="6.1.11",R5=`/*!sc*/
`,A5=typeof window<"u"&&"HTMLElement"in window,Dde=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==""?Vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.SC_DISABLE_SPEEDY!==void 0&&Vr.SC_DISABLE_SPEEDY!==""&&Vr.SC_DISABLE_SPEEDY!=="false"&&Vr.SC_DISABLE_SPEEDY),N1=Object.freeze([]),Cu=Object.freeze({});function Ode(t,e,n){return n===void 0&&(n=Cu),t.theme!==n.theme&&t.theme||e||n.theme}var XL=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Mde=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$de=/(^-|-$)/g;function b4(t){return t.replace(Mde,"-").replace($de,"")}var jde=/(a)(d)/gi,K0=52,C4=function(t){return String.fromCharCode(t+(t>25?39:97))};function Nw(t){var e,n="";for(e=Math.abs(t);e>K0;e=e/K0|0)n=C4(e%K0)+n;return(C4(e%K0)+n).replace(jde,"$1-$2")}var ny,JL=5381,kc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ZL=function(t){return kc(JL,t)};function eD(t){return Nw(ZL(t)>>>0)}function Fde(t){return t.displayName||t.name||"Component"}function ry(t){return typeof t=="string"&&!0}var tD=typeof Symbol=="function"&&Symbol.for,nD=tD?Symbol.for("react.memo"):60115,Vde=tD?Symbol.for("react.forward_ref"):60112,Ude={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zde={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bde=((ny={})[Vde]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ny[nD]=rD,ny);function T4(t){return("type"in(e=t)&&e.type.$$typeof)===nD?rD:"$$typeof"in t?Bde[t.$$typeof]:Ude;var e}var Wde=Object.defineProperty,Hde=Object.getOwnPropertyNames,S4=Object.getOwnPropertySymbols,qde=Object.getOwnPropertyDescriptor,Gde=Object.getPrototypeOf,R4=Object.prototype;function iD(t,e,n){if(typeof e!="string"){if(R4){var r=Gde(e);r&&r!==R4&&iD(t,r,n)}var i=Hde(e);S4&&(i=i.concat(S4(e)));for(var s=T4(t),o=T4(e),a=0;a<i.length;++a){var l=i[a];if(!(l in zde||n&&n[l]||o&&l in o||s&&l in s)){var c=qde(e,l);try{Wde(t,l,c)}catch{}}}}return t}function Tu(t){return typeof t=="function"}function k5(t){return typeof t=="object"&&"styledComponentId"in t}function Xa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Lw(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function df(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Dw(t,e,n){if(n===void 0&&(n=!1),!n&&!df(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Dw(t[r],e[r]);else if(df(e))for(var r in e)t[r]=Dw(t[r],e[r]);return t}function P5(t,e){Object.defineProperty(t,"toString",{value:e})}function i0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Kde=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw i0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(R5);return n},t}(),Op=new Map,s2=new Map,Mp=1,Q0=function(t){if(Op.has(t))return Op.get(t);for(;s2.has(Mp);)Mp++;var e=Mp++;return Op.set(t,e),s2.set(e,t),e},Qde=function(t,e){Mp=e+1,Op.set(t,e),s2.set(e,t)},Yde="style[".concat(bu,"][").concat(YL,'="').concat(P1,'"]'),Xde=new RegExp("^".concat(bu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Jde=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Zde=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(R5),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Xde);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Qde(u,c),Jde(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function ehe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sD=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(bu,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(bu,QL),r.setAttribute(YL,P1);var o=ehe();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},the=function(){function t(e){this.element=sD(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw i0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),nhe=function(){function t(e){this.element=sD(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),rhe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),A4=A5,ihe={isServer:!A5,useCSSOMInjection:!Dde},oD=function(){function t(e,n,r){e===void 0&&(e=Cu),n===void 0&&(n={});var i=this;this.options=Ge(Ge({},ihe),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&A5&&A4&&(A4=!1,function(s){for(var o=document.querySelectorAll(Yde),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(bu)!==QL&&(Zde(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),P5(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var f=function(g){return s2.get(g)}(d);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var y="".concat(bu,".g").concat(d,'[id="').concat(f,'"]'),x="";p!==void 0&&p.forEach(function(g){g.length>0&&(x+="".concat(g,","))}),l+="".concat(m).concat(y,'{content:"').concat(x,'"}').concat(R5)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Q0(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ge(Ge({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new rhe(i):r?new the(i):new nhe(i)}(this.options),new Kde(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Q0(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Q0(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Q0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),she=/&/g,ohe=/^\s*\/\/.*$/gm;function aD(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=aD(n.children,e)),n})}function ahe(t){var e,n,r,i=t===void 0?Cu:t,s=i.options,o=s===void 0?Cu:s,a=i.plugins,l=a===void 0?N1:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===S1&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(she,n).replace(r,c))}),o.prefix&&u.push(Lde),u.push(kde);var d=function(f,p,m,y){p===void 0&&(p=""),m===void 0&&(m=""),y===void 0&&(y="&"),e=y,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var x=f.replace(ohe,""),g=Rde(m||p?"".concat(m," ").concat(p," { ").concat(x," }"):x);o.namespace&&(g=aD(g,o.namespace));var w=[];return i2(g,Pde(u.concat(Nde(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(f,p){return p.name||i0(15),kc(f,p.name)},JL).toString():"",d}var lhe=new oD,Ow=ahe(),lD=fr.createContext({shouldForwardProp:void 0,styleSheet:lhe,stylis:Ow});lD.Consumer;fr.createContext(void 0);function k4(){return v.useContext(lD)}var cD=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Ow);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,P5(this,function(){throw i0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Ow),this.name+e.hash},t}(),che=function(t){return t>="A"&&t<="Z"};function P4(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;che(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var uD=function(t){return t==null||t===!1||t===""},dD=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!uD(s)&&(Array.isArray(s)&&s.isCss||Tu(s)?r.push("".concat(P4(i),":"),s,";"):df(s)?r.push.apply(r,zn(zn(["".concat(i," {")],dD(s),!1),["}"],!1)):r.push("".concat(P4(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in X8||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function al(t,e,n,r){if(uD(t))return[];if(k5(t))return[".".concat(t.styledComponentId)];if(Tu(t)){if(!Tu(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return al(i,e,n,r)}var s;return t instanceof cD?n?(t.inject(n,r),[t.getName(r)]):[t]:df(t)?dD(t):Array.isArray(t)?Array.prototype.concat.apply(N1,t.map(function(o){return al(o,e,n,r)})):[t.toString()]}function uhe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Tu(n)&&!k5(n))return!1}return!0}var dhe=ZL(P1),hhe=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&uhe(e),this.componentId=n,this.baseHash=kc(dhe,n),this.baseStyle=r,oD.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Xa(i,this.staticRulesId);else{var s=Lw(al(this.rules,e,n,r)),o=Nw(kc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Xa(i,o),this.staticRulesId=o}else{for(var l=kc(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=Lw(al(d,e,n,r));l=kc(l,f+u),c+=f}}if(c){var p=Nw(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Xa(i,p)}}return i},t}(),hD=fr.createContext(void 0);hD.Consumer;var iy={};function fhe(t,e,n){var r=k5(t),i=t,s=!ry(t),o=e.attrs,a=o===void 0?N1:o,l=e.componentId,c=l===void 0?function(I,T){var E=typeof I!="string"?"sc":b4(I);iy[E]=(iy[E]||0)+1;var C="".concat(E,"-").concat(eD(P1+E+iy[E]));return T?"".concat(T,"-").concat(C):C}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(I){return ry(I)?"styled.".concat(I):"Styled(".concat(Fde(I),")")}(t):u,f=e.displayName&&e.componentId?"".concat(b4(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;m=function(I,T){return y(I,T)&&x(I,T)}}else m=y}var g=new hhe(n,f,r?i.componentStyle:void 0);function w(I,T){return function(E,C,b){var R=E.attrs,S=E.componentStyle,A=E.defaultProps,N=E.foldedComponentIds,O=E.styledComponentId,L=E.target,$=fr.useContext(hD),P=k4(),k=E.shouldForwardProp||P.shouldForwardProp,D=Ode(C,$,A)||Cu,j=function(V,q,oe){for(var ce,ee=Ge(Ge({},q),{className:void 0,theme:oe}),me=0;me<V.length;me+=1){var le=Tu(ce=V[me])?ce(ee):ce;for(var ie in le)ee[ie]=ie==="className"?Xa(ee[ie],le[ie]):ie==="style"?Ge(Ge({},ee[ie]),le[ie]):le[ie]}return q.className&&(ee.className=Xa(ee.className,q.className)),ee}(R,C,D),F=j.as||L,G={};for(var W in j)j[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&j.theme===D||(W==="forwardedAs"?G.as=j.forwardedAs:k&&!k(W,F)||(G[W]=j[W]));var B=function(V,q){var oe=k4(),ce=V.generateAndInjectStyles(q,oe.styleSheet,oe.stylis);return ce}(S,j),U=Xa(N,O);return B&&(U+=" "+B),j.className&&(U+=" "+j.className),G[ry(F)&&!XL.has(F)?"class":"className"]=U,G.ref=b,v.createElement(F,G)}(_,I,T)}w.displayName=d;var _=fr.forwardRef(w);return _.attrs=p,_.componentStyle=g,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?Xa(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(I){this._foldedDefaultProps=r?function(T){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var b=0,R=E;b<R.length;b++)Dw(T,R[b],!0);return T}({},i.defaultProps,I):I}}),P5(_,function(){return".".concat(_.styledComponentId)}),s&&iD(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function N4(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var L4=function(t){return Object.assign(t,{isCss:!0})};function fD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tu(t)||df(t))return L4(al(N4(N1,zn([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?al(r):L4(al(N4(r,e)))}function Mw(t,e,n){if(n===void 0&&(n=Cu),!e)throw i0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,fD.apply(void 0,zn([i],s,!1)))};return r.attrs=function(i){return Mw(t,e,Ge(Ge({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Mw(t,e,Ge(Ge({},n),i))},r}var pD=function(t){return Mw(fhe,t)},Gl=pD;XL.forEach(function(t){Gl[t]=pD(t)});function N5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Lw(fD.apply(void 0,zn([t],e,!1))),i=eD(r);return new cD(i,r)}Gl.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const $i=242.776657104492,phe=1.6,mhe=N5`
12.5% {
  stroke-dasharray: ${$i*.14}px, ${$i}px;
  stroke-dashoffset: -${$i*.11}px;
}
43.75% {
  stroke-dasharray: ${$i*.35}px, ${$i}px;
  stroke-dashoffset: -${$i*.35}px;
}
100% {
  stroke-dasharray: ${$i*.01}px, ${$i}px;
  stroke-dashoffset: -${$i*.99}px;
}
`;Gl.path`
  stroke-dasharray: ${$i*.01}px, ${$i};
  stroke-dashoffset: 0;
  animation: ${mhe} ${phe}s linear infinite;
`;const ghe=N5`
to {
   transform: rotate(360deg);
 }
`;Gl.svg`
  animation: ${ghe} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Gl.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const vhe=N5`
to {
   stroke-dashoffset: 136;
 }
`;Gl.polygon`
  stroke-dasharray: 17;
  animation: ${vhe} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Gl.svg`
  transform-origin: 50% 65%;
`;const yhe=({chat:t,index:e,chats:n})=>{var w;const[r,i]=v.useState(null),{newMessages:s}=v.useContext(Z),[o,a]=v.useState(!0),[l,c]=v.useState(null),u=En(),[d,f]=v.useState(!0),[p,m]=v.useState(!1),[y,x]=v.useState(null),g=async()=>{a(!0);const _=ke(_e(ke(Ee,"chats"),t.id),"messages");console.log("fetching message counts..."),await Ks(_,i),xn(a)};return v.useEffect(()=>{const I=(()=>{const T=ke(Ee,"chats"),E=ke(_e(T,t.id),"messages"),C=xr(E,pu("timestamp","desc"),no(1));return Ji(C,R=>{if(f(!0),console.log("fetching last messages..."),R.empty)m(!0),xn(f,300);else{const S=R.docs.map(A=>({id:A.id,...A.data()}));c(S[0]),g(),xn(f,300)}},R=>{x("Error fetching last message: "+R.message),xn(f,300)})})();return()=>{I&&I()}},[]),h.jsxs(Ue,{className:`flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative hover:bg-slate-100 border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>u(`/app/chatroom/${t.id}`),children:[h.jsx(Ue,{className:"flex items-start h-full mt-3",children:h.jsx("img",{alt:t.name,src:((w=t.image)==null?void 0:w.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),h.jsxs(Ue,{className:"grid items-start h-full",children:[h.jsxs(Et,{variant:"h6",children:[t.name,h.jsx(_he,{messageCounts:r})]}),h.jsxs(Ue,{container:!0,sx:{display:"grid"},children:[h.jsx(Ue,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:h.jsx(xhe,{lastMessage:l})}),h.jsx(whe,{lastMessage:l,isMessageEmpty:p,isMessageLoading:d,messageError:y}),h.jsx(Ehe,{chat:t})]})]}),!Ag(s,t.id)&&h.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},_he=({messageCounts:t})=>t?h.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[t," messages"]}):h.jsx(fe,{width:120}),whe=({lastMessage:t,isMessageLoading:e,isMessageEmpty:n,messageError:r})=>{var i,s;return e?h.jsxs("div",{children:[h.jsx(fe,{width:"70%"}),h.jsx(fe,{width:"60%"})]}):n?h.jsx(Et,{color:"warning",children:"No messages yet"}):r?h.jsx(Et,{color:"warning",children:r}):h.jsxs(Ue,{sx:{marginTop:"2px",display:"grid"},children:[h.jsx(Et,{size:"small",variant:"caption",color:"textSecondary",children:Ea(t==null?void 0:t.content,30)}),(t==null?void 0:t.image)&&h.jsx("img",{alt:(i=t==null?void 0:t.image)==null?void 0:i.name,className:"w-12",src:(s=t==null?void 0:t.image)==null?void 0:s.URL}),h.jsxs(Et,{size:"small",variant:"caption",color:"textSecondary",children:[(t==null?void 0:t.editedTime)&&"edited ",r2(jr(t!=null&&t.editedTime?t.editedTime:t==null?void 0:t.timestamp))]})]})},xhe=({lastMessage:t})=>{const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState(!0);return qn(t==null?void 0:t.senderId,e,r,s,[t]),i?h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(fe,{variant:"circular",height:30,width:30}),h.jsx(fe,{height:30,width:100})]}):h.jsxs(h.Fragment,{children:[h.jsx(si,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx(Et,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:n==null?void 0:n.name})]})},Ehe=({chat:t})=>{const e=_e(Ee,"chats",t.id),n=ke(e,"typingUsers"),[r,i]=v.useState([]);if(v.useEffect(()=>{const o=Ji(n,l=>{const c=l.docs.map(u=>({uid:u.id,...u.data()}));i(c)});return()=>{o&&o()}},[]),r.length>0)return h.jsx("div",{children:r.sort((s,o)=>Li(s,o,"timestamp","older")).map(s=>h.jsx(Ihe,{typingUser:s},`typing-users-${s.uid}`))})},Ihe=({typingUser:t})=>{const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState();return qn(t.uid,e,r,s),h.jsx("div",{className:"flex items-center gap-x-1  p-1",children:i?h.jsx(fe,{width:30,height:30}):h.jsxs(h.Fragment,{children:[h.jsx(si,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx(fe,{height:35,width:120})]})})},bhe=()=>{const{setHeaderTitle:t,chats:e,setChats:n,myChats:r,setMyChats:i}=v.useContext(Z),s=ke(Ee,"chats"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);return Bl(s,[],n,a,c,!1,d,500),v.useEffect(()=>{t("Chat Room")},[]),o?h.jsx(br,{isLoading:o,text:"Loading chat rooms..."}):l?h.jsx(At,{text:"No chat rooms available"}):u?h.jsx(At,{text:u}):h.jsx(Che,{myChats:r,setMyChats:i})},Che=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:i}=v.useContext(Z),[s,o]=v.useState(!1),[a,l]=v.useState(0),c=async(u,d)=>{const f=ke(Ee,"chats"),p=ke(_e(f,u),"members"),m=xr(p,vg("uid","==",d),no(1));return console.log("Checking if a member..."),!(await wa(m)).empty};return v.useEffect(()=>{(async()=>{const d=await Promise.all(n.map(async f=>{const p=await c(f.id,i);return p&&l(a+1),p?f:null}));e(d.filter(f=>f!==null))})()},[n]),a?h.jsxs(h.Fragment,{children:[h.jsx(mde,{isCreating:s,setIsCreating:o}),h.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[t.map((u,d)=>h.jsx(yhe,{chat:u,index:d,chats:n},u.id)),(r==null?void 0:r.isAdmin)&&h.jsx(Ue,{className:"m-2",children:h.jsx(Oe,{size:"small",onClick:()=>o(!0),endIcon:h.jsx("img",{className:"w-7",src:Le("add")}),children:"Create group"})})]})]}):h.jsx(At,{text:"No chat rooms available for you"})},The=()=>{const{headerTitle:t,setIsLogIn:e,setUserId:n}=v.useContext(Z),r=En(),i=ku(),s=i.pathname!=="/"?i.pathname:"/app";v.useEffect(()=>{document.title="SEA  "+t||"STAR EDUCATION ACADEMY"},[t]),v.useEffect(()=>{const o=zi.get("userId")||null;o?(e(!0),n(o),r(s)):r("/login")},[])},She=()=>{const{setHeaderTitle:t}=v.useContext(Z),e={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${ql(1712655376346)}.`}];return Gf("help-page"),Kf("help-page"),v.useEffect(()=>{t("Help")},[]),h.jsxs(Ue,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[h.jsx(br,{}),h.jsx(Sd,{image:e.image,text:e.text,answer:e.answer}),h.jsx(Sd,{text:"FAQ",image:"faq",answer:n.map(i=>h.jsx(Sd,{text:i.text,answer:i.answer},i.text))}),h.jsx(Sd,{image:"update",text:"Updates",answer:r.map(i=>h.jsx(Sd,{text:i.text,answer:i.answer},i.text))})]})},Sd=({image:t,text:e,answer:n})=>{const[r,i]=v.useState(!1);return h.jsxs("div",{className:" p-2  mb-2 ",children:[h.jsxs("div",{onClick:()=>i(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[h.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&h.jsx(Rhe,{image:t}),h.jsx("div",{children:e})]}),h.jsx(kn,{children:h.jsx("img",{className:"w-6",src:Le(r?"up":"down")})})]}),r&&h.jsx("div",{className:"font-medium ",children:n})]})},Rhe=({image:t})=>h.jsx("img",{className:"w-7",src:Le(t)}),mD=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const i=(t==null?void 0:t.size)/1048576,s=(t==null?void 0:t.size)/1024;return i>1?`${i.toFixed(2)} MB`:isNaN(i)?null:`${s.toFixed(2)} kB`};return h.jsxs(ts,{open:!!t,onClose:()=>e(!1),children:[h.jsx(Yr,{direction:"row",justifyContent:"end",children:h.jsx(kn,{onClick:()=>{e(!1)},children:h.jsx(Jt,{name:"close"})})}),t?h.jsxs("div",{className:"bg-white m-3 overflow-auto min-h-[200px] min-w-[200px] relative",children:[r()&&h.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),h.jsx("img",{alt:t.name,className:"h-full ",src:n?t.imageURL:t.URL})]}):h.jsx("div",{className:"bg-white border border-slate-300 rounded-md",children:"Image not available."})]})},Ahe=({post:t,setViewingImage:e})=>{const[r,i]=v.useState(4),[s,o]=v.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),i(t.images.length)};return a.map((u,d)=>h.jsxs(dh,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[h.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),h.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&s&&l?h.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:h.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},khe=({files:t})=>h.jsxs("div",{className:"grid mt-2",children:[h.jsx("p",{className:"p-2 font-bold",children:"Files"}),t.map((e,n)=>h.jsx("a",{href:e.fileURL,download:e.name,target:"_blank",children:h.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[h.jsx(Jt,{name:"download"}),h.jsxs("div",{children:[h.jsx("p",{className:"underline",children:e.name}),(e==null?void 0:e.size)&&h.jsxs("p",{children:[(e.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${n}-${e.fileURL}`))]}),Phe=({links:t})=>h.jsxs("div",{className:"grid gap-y-2 mt-2",children:[h.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((e,n)=>h.jsx("a",{href:e.link,target:"_blank",children:h.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[h.jsx(Jt,{name:"link"}),h.jsx("div",{children:h.jsx("p",{className:"underline",children:e.title})})]})},`${n}-${e.link}`))]});async function L5(t,e,n,r=null){const i=zi.get("userId");try{const s=ke(Ee,"notifications"),o={uid:i,type:t,[e]:n,isReadBy:[],timestamp:rr(),comment:r};await la(s,o)}catch(s){console.log(s.message)}}const s0=()=>h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx(fe,{variant:"circular",height:40,width:40}),h.jsx(fe,{variant:"text",height:40,width:"200px"})]}),gD=({post:t,collectionName:e})=>{const{id:n}=t,[r,i]=v.useState(null),[s,o]=v.useState(null),{theme:a,userId:l}=v.useContext(Z),[c,u]=v.useState(!1),[d,f]=v.useState(!1),p=e==="posts",m=ke(_e(Ee,e,n),"comments"),y=ke(_e(Ee,e,n),"likes"),[x,g]=v.useState(!1),w=async(I,T)=>{const E=ke(_e(Ee,e,n),I);console.log("Fetching counts...");const C=await sN(E);T(C.data().count)};v.useEffect(()=>{(async()=>{await w("likes",i),await w("comments",o)})()},[]),v.useEffect(()=>{(async()=>{const T=xr(y,vg("uid","==",l)),E=await wa(T);g(!E.empty)})()},[]);const _=async()=>{try{const I=async()=>{await w("likes",i)},T=_e(y,l),E={uid:l,timestamp:rr()};x?(g(!1),await qs(T),I()):(g(!0),await nl(T,E),I(),L5(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(I){console.log(I.message)}};return h.jsxs("div",{className:"mt-2",children:[h.jsxs("div",{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[h.jsx("button",{onClick:()=>{u(!c),f(!1)},className:`transition-all ${a==="light"?`${c?"bg-slate-200":"hover:bg-slate-200"}`:`${c?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:h.jsxs("span",{children:[r||0," ",r>1?"Likes":"Like"]})}),h.jsxs("button",{onClick:()=>{f(!d),u(!1)},className:`transition-all ${a==="light"?`${d?"bg-slate-200":"hover:bg-slate-200"}`:`${d?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[s||0," ",s>1?"Comments":"Comment"]})]}),h.jsxs("div",{className:`p-2 shadow-lg border-t border-b pt-2 flex gap-x-2 ${a==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[h.jsx(Oe,{sx:{textTransform:"capitalize"},color:a!=="light"?"warning":"primary",onClick:_,startIcon:h.jsx("img",{className:"w-6",src:Le(x?"liked":"like")}),children:x?"Liked":"Like"}),h.jsx(Oe,{sx:{textTransform:"capitalize"},color:a!=="light"?"warning":"primary",onClick:()=>{f(!d),u(!1)},startIcon:h.jsx("img",{className:"w-6",src:Le("comment")}),children:"Comment"})]}),c&&h.jsx(Nhe,{isLikesOpen:c,setIsLikesOpen:u,likesRef:y,likeCounts:r}),d&&h.jsx(Dhe,{isPost:p,post:t,commentsRef:m,collectionName:e,commentCounts:s,setCommentCounts:o,getCounts:w})]})},Nhe=({likesRef:t,likeCounts:e,isLikesOpen:n,setIsLikesOpen:r})=>{const[s,o]=v.useState([]),[a,l]=v.useState(null),[c,u]=v.useState(!0),d=async()=>{let f=xr(t,pu("timestamp","desc"),no(5));a&&(f=xr(f,yg(a)));const p=await wa(f),m=p.docs.map(y=>({id:y.id,...y.data()}));o([...s,...m]),u(!1),l(p.docs[p.docs.length-1])};return v.useEffect(()=>{d()},[]),h.jsx(ts,{anchor:"bottom",open:n,onClose:()=>r(!1),children:h.jsxs(Ue,{className:"min-w-[300px] min-h-[100px] m-2",children:[h.jsx(Yr,{direction:"row",justifyContent:"end",children:h.jsx(Oe,{size:"small",className:"",onClick:()=>r(!1),children:"Close"})}),c?h.jsx(Ue,{className:"text-center",children:"Loading..."}):h.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[s.sort((f,p)=>Li(f,p,"timestamp","newer")).map((f,p)=>h.jsx(Lhe,{like:f},`user-${f.uid}-${p}`)),h.jsx(Yr,{direction:"row",justifyContent:"center",children:e>5&&s.length<e&&s.length>0?h.jsx(Oe,{size:"small",onClick:d,children:"Load More"}):""})]})]})})},Lhe=({like:t})=>{const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState();return qn(t.uid,e,r,s),i?h.jsx(s0,{}):h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx(si,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),h.jsx("div",{children:n?n.name:"Unknown User"})]})},Dhe=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:i})=>{const[s,o]=v.useState(""),[a,l]=v.useState([]),{theme:c,userId:u}=v.useContext(Z),[d,f]=v.useState(null),p=()=>{const g=xr(n,pu("timestamp","desc"));return Ji(g,_=>{_.empty||(i("comments",r),l(_.docs.map(I=>({id:I.id,...I.data()})).sort((I,T)=>Li(I,T,"timestamp"))))})};v.useEffect(()=>{const g=p();return()=>{g&&g()}},[]);const m=async()=>{if(s.trim()){const g={uid:u,text:s.trim(),timestamp:rr()};await la(n,g),o(""),L5(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,s.trim())}},y=async()=>{const g=_e(n,d);if(s.trim()){const w={text:s.trim(),editedTime:rr()};await mr(g,w),o(""),f(null)}},x=async g=>{const w=_e(n,g);try{await qs(w)}catch(_){console.log(_.message)}};return h.jsxs("div",{className:"mt-2 p-2",children:[h.jsx("div",{className:"grid gap-y-2",children:a.map(g=>{const w=g.uid===u,_=w&&{text:"Edit",icon:"editPencil",onClick:()=>{f(g.id),o(g.text)}};return h.jsx(Ohe,{comment:g,editOption:_,yourComment:w,deleteComment:x},`${g.uid}-${g.id}`)})}),h.jsxs("div",{className:"mt-2 flex gap-x-1",children:[h.jsx("input",{autoFocus:!0,onChange:g=>o(g.target.value),value:s,className:`h-10 flex-1 rounded-lg pl-2 border-slate-200 shadow-md border ${c==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),h.jsxs("div",{className:"flex gap-x-1",children:[d&&h.jsx(kn,{onClick:()=>{f(null),o("")},children:h.jsx(Jt,{name:"falseIcon"})}),h.jsx(kn,{onClick:()=>{s.trim()&&(d?y():m())},children:h.jsx(Jt,{name:"send"})})]})]})]})},Ohe=({comment:t,editOption:e,yourComment:n,deleteComment:r})=>{const{users:i,theme:s,userData:o}=v.useContext(Z),[a,l]=v.useState(null),[c,u]=v.useState();return qn(t.uid,i,l,u),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex gap-x-1",children:[h.jsx("div",{children:c?h.jsx(fe,{variant:"circular",height:40,width:40}):h.jsx(si,{image:a&&a.image,name:a&&a.name})}),h.jsxs("div",{className:"max-w-[250px]",children:[h.jsxs("div",{className:`p-2 border shadow-md border-slate-200 rounded-lg ${s==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[c?h.jsx(fe,{height:40,width:120}):h.jsx("div",{className:"font-bold",children:a?a.name:"Unknown User"}),c?h.jsx(fe,{sx:{mt:-1},height:60,width:200}):h.jsx("div",{children:t.text})]}),h.jsx("div",{className:`text-sm mt-1 ${s==="light"?"text-gray-600":"text-white"}`,children:t!=null&&t.editedTime?h.jsxs("span",{children:["edited ",r2(jr(t.editedTime))]}):h.jsx("span",{children:r2(jr(t.timestamp))})})]})]}),n||o!=null&&o.isAdmin?h.jsx(C5,{options:[e,{text:"Delete",icon:"deleteIcon",onClick:()=>r(t.id)}],isComment:!0}):""]})},vD=()=>h.jsxs("div",{className:"border border-slate rounded-md shadow-md",children:[h.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[h.jsx(fe,{variant:"circular",width:35,height:35}),h.jsx(fe,{width:"40%",height:50,variant:"text"})]}),h.jsxs("div",{className:"pl-2 pr-2",children:[h.jsx(fe,{width:"100%"}),h.jsx(fe,{width:"60%"})]}),h.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[h.jsx(fe,{height:100,width:"20%"}),h.jsx(fe,{height:100,width:"20%"}),h.jsx(fe,{height:100,width:"20%"})]}),h.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[h.jsx(fe,{width:70,animation:"wave",variant:"rounded",height:30}),h.jsx(fe,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),Mhe=({post:t,setViewingImage:e})=>{var l,c;const{theme:n,users:r}=v.useContext(Z),[i,s]=v.useState(null),[o,a]=v.useState(!0);return qn(t.uid,r,s,a,[],1200),o?h.jsx(vD,{}):h.jsxs(Ue,{className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full",backgroundColor:"white",color:n!=="light"?"white":"black"},children:[h.jsxs(Ue,{className:"top-section flex gap-x-2 mb-2 p-2",children:[h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i?i.image:"images/sea-logo.jpg"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:i?i.name:"Unknown User"}),h.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:ql(jr(t.time))})]})]}),(t==null?void 0:t.description)&&h.jsx("p",{className:"mb-2 p-2 break-words whitespace-pre-wrap",children:t.description}),t.images.length!==0?h.jsx(dh,{container:!0,spacing:1,className:" p-0 m-0",children:h.jsx(Ahe,{post:t,setViewingImage:e})}):"",t.files&&((l=t==null?void 0:t.files)==null?void 0:l.length)!==0&&h.jsx(khe,{files:t.files}),(t==null?void 0:t.links)&&((c=t==null?void 0:t.links)==null?void 0:c.length)!==0&&h.jsx(Phe,{links:t.links}),h.jsx(gD,{post:t,collectionName:"posts"})]})},$he=()=>{const{posts:t,setPosts:e,setHeaderTitle:n}=v.useContext(Z),r=ke(Ee,"posts"),[i,s]=v.useState(!0),[o,a]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);return v.useEffect(()=>{n("STAR EDUCATION ACADEMY")},[]),Bl(r,[],e,s,a,!1,c,500),Gf("posts-page"),Kf("posts-page"),i?h.jsx(br,{isLoading:i,text:"Loading posts..."}):o?h.jsx(At,{text:"No posts available"}):l?h.jsx(At,{text:l}):h.jsxs("div",{className:"grid gap-y-6 m-2",children:[u&&h.jsx(mD,{image:u,setViewingImage:d,postImage:!0}),t.sort((f,p)=>Li(f,p,"time","newer")).map(f=>h.jsx(Mhe,{setViewingImage:d,post:f},f.id))]})},yD=()=>h.jsxs("div",{className:"border border-slate rounded-md shadow-md",children:[h.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[h.jsx(fe,{variant:"circular",width:35,height:35}),h.jsx(fe,{width:"40%",height:50,variant:"text"})]}),h.jsxs("div",{className:"pl-2 pr-2",children:[h.jsx(fe,{width:"100%"}),h.jsx(fe,{width:"60%"})]}),h.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:h.jsx(fe,{height:100,width:"30%"})}),h.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[h.jsx(fe,{width:70,animation:"wave",variant:"rounded",height:30}),h.jsx(fe,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),jhe=()=>{const{tests:t,setTests:e,setHeaderTitle:n,theme:r,startTimer:i}=v.useContext(Z);En();const s=ke(Ee,"tests"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);Bl(s,[],e,a,c,!1,d,500),v.useEffect(()=>{n("Tests")},[]);const f=()=>{i()};return Gf("tests-page"),Kf("tests-page"),o?h.jsx(br,{isLoading:o,text:"Loading tests..."}):l?h.jsx(At,{text:"No tests available"}):u?h.jsx(At,{text:u}):h.jsx("div",{className:"grid gap-y-6 mb-2 m-2",children:t.sort((p,m)=>Li(p,m,"timestamp","newer")).map(p=>h.jsx(Fhe,{takeTest:f,t:p},p.id))})},Fhe=({t,takeTest:e})=>{const{theme:n,users:r}=v.useContext(Z),[i,s]=v.useState(null),[o,a]=v.useState(!0),l=En();return qn(t.uid,r,s,a),o?h.jsx(yD,{}):h.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-lg rounded-md bg-gradient-to-tr ${n==="light"?"border-slate-300 ":"border-slate-300 text-white shadow-slate-500"}`,children:[h.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i==null?void 0:i.image}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold",children:i==null?void 0:i.name}),h.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500 ":"text-white"}`,children:ql(jr(t.time))})]}),h.jsxs("span",{className:`rounded-md border border-slate-200 text-sm text-gray-400 flex items-center p-1 ${n==="light"?"bg-slate-100 ":"bg-slate-500/70  "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&h.jsx("div",{className:"m-2 flex justify-center p-2",children:h.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),h.jsxs("div",{className:`p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md ${n==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[h.jsx("div",{className:"font-medium text-lg",children:t.name}),h.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),h.jsx(Oe,{onClick:()=>{e(),l(`/app/tests/${t.id}`)},children:"Take the test"})]}),h.jsx(gD,{post:t,collectionName:"tests"})]})},Vhe=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:i,answerLength:s,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=v.useContext(Z),u=En(),[d,f]=v.useState(!1),p=()=>{a(),f(!1),u("/app/tests")},m=()=>{f(!1)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[h.jsx(wn,{data:{clickFn:()=>f(!0),image:"back"}}),h.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),h.jsx(oo,{data:{value:d,yesButton:p,noButton:m,text:"Are you sure to stop the test ?",setValue:f}})]}),h.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[h.jsxs("div",{children:["Page ",n," of ",r]}),h.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[h.jsx("div",{style:{width:`${i}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),h.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[s," ","/"," ",o]})]}),h.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},Uhe=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t,{theme:i}=v.useContext(Z);return h.jsx("div",{children:e==null?void 0:e.map((s,o)=>h.jsxs("div",{children:[h.jsxs("div",{className:`grid gap-y-2 ${i==="light"?"":"text-white"}`,children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:s.id}),h.jsx("div",{className:"flex-1 font-padauk",children:s.question})]}),h.jsx("div",{className:"grid gap-y-2",children:s.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{s.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),h.jsxs("div",{onClick:()=>{n(s.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${i==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[h.jsx("input",{onChange:()=>{n(s.id,a)},className:"h-5 w-5",name:`question-${s.id}`,type:"radio",checked:!!u}),h.jsx("div",{children:a})]},`choice-${s.id}-${l}-${a}`)})})]}),h.jsx(zhe,{})]},`question-${s.id}-${o}-${s.question}`))})},zhe=()=>h.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),Bhe=()=>(v.useContext(Z),h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx("img",{className:"w-8 ",src:Le("error")}),h.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));function Whe(t,e,n){const r=e.name,i=Hhe(t,e.quizzes),s=qhe(i),o=t.length,a=e.gradingRules.length!==0?Ghe(s,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=Khe(),c=Qhe();return{testName:r,results:i,score:s,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function Hhe(t,e){return e.map(r=>{const{id:i,question:s,answer:o}=r;let a;t.forEach(c=>{i===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:i,question:s,userAnswer:l,answer:o,isTrue:!0}:{id:i,question:s,userAnswer:l,answer:o,isTrue:!1}})}function qhe(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function Ghe(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function Khe(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function Qhe(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const i=n<10?`0${n}`:n;return`${e}:${i} ${r}`}const Yhe=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:i,currentTest:s,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=v.useContext(Z),u=En(),d=async()=>{try{const p=ke(_e(Ee,"users",c),"history"),m=Whe(o,s,a),y=await la(p,m),x=(await Vu(y)).id;u(`/app/history/${x}`)}catch(p){console.log(p.message)}},f=()=>{d(),l(),L5(["took","test"],"testName",s.name)};return h.jsxs("div",{className:"flex justify-center gap-x-5",children:[i!==0&&h.jsx(Oe,{variant:"outlined",size:"small",onClick:n,startIcon:h.jsx(Jt,{name:"back"}),children:"Previous"}),r?h.jsx(Oe,{variant:"outlined",size:"small",onClick:f,startIcon:h.jsx(Jt,{name:"finish"}),children:"Finish"}):h.jsx(Oe,{variant:"outlined",size:"small",onClick:e,startIcon:h.jsx(Jt,{name:"next"}),children:"Next"})]})},Xhe=()=>{var $,P;v.useContext(Z);const{testId:t}=yf(),[e,n]=v.useState([]),[r,i]=v.useState(null),[s,o]=v.useState(!0),[a,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1);v.useEffect(()=>{(async()=>{try{o(!0);const D=_e(Ee,"tests",t),j=await Vu(D);j.exists()?(i(j.data()),xn(o,1200)):(xn(o),l(!0))}catch(D){xn(o,1200),u("Failed to fetch current test: "+D.message)}})()},[]);const p=e==null?void 0:e.length,m=($=r==null?void 0:r.quizzes)==null?void 0:$.length,[y,x]=v.useState(0),[g,w]=v.useState(!1),[_,I]=v.useState(!1),T=10;let E=(P=r==null?void 0:r.quizzes)==null?void 0:P.slice(y,y+T);const C=r==null?void 0:r.name,b=Math.ceil(m/T),R=Math.ceil((y+T)/T),S=Math.round(p/m*100);v.useEffect(()=>(Ii(),Ii()),[]),v.useEffect(()=>{p===m&&y+T>=m?w(!0):w(!1)},[y,e]),v.useEffect(()=>{p>=y+T?I(!0):I(!1)},[e,y]);const L={pageTitle:C,currentPage:R,totalPage:b,percentage:S,answerLength:p,questionsLength:m,answeredQuestions:e,currentQuestions:E,isEnded:g,chooseAnswer:(k,D)=>{const j=HX(k,e);n(j?e.map(F=>k===F.id?{id:k,userAnswer:D}:F):[...e,{id:k,userAnswer:D}])},nextPage:()=>{_?(x(y+T),p<=y+T&&Ii()):qX(f)},prevPage:()=>{x(Math.max(y-T,0))},startIndex:y,currentTest:r};return s?h.jsx(br,{isLoading:s,text:"Loading test..."}):a?h.jsx(At,{text:"No test available"}):c?h.jsx(At,{text:d}):h.jsxs("div",{className:"p-3 grid gap-y-3",children:[h.jsx(Vhe,{data:L}),h.jsx(Uhe,{data:L}),d&&h.jsx(Bhe,{}),h.jsx(Yhe,{data:L})]})},Jhe=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=v.useContext(Z);return h.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[h.jsx("p",{className:"text-lg font-bold",children:"Members"}),h.jsx(Ue,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((i,s)=>Li(i,s,"joinedAt","newer")).map((i,s)=>{const o=e(i.uid);return h.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===s&&"border-b"} ${s===0&&"border-t-0"} ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:h.jsx(Zhe,{member:i,onlineUser:o})},i.uid+i.joinedAt)})})]})},Zhe=({member:t,onlineUser:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return qn(t.uid,n,i,o),s?h.jsx(s0,{}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(si,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e.isOnline?"bg-green-500":"bg-gray-500"}`})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{children:r==null?void 0:r.name}),h.jsx("p",{className:`text-sm ${e.isOnline?"text-blue-500":"text-red-500"}`,children:e.isOnline?"Online":ql(jr(e.lastSeen))})]})]})},_D=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:i})=>{var o;const s=En();return h.jsx(j7,{sx:{background:"white"},children:h.jsxs(aL,{className:"h-[70px] bg-white z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ",children:[h.jsxs("div",{className:"flex gap-x-1",children:[h.jsx("div",{children:h.jsx(kn,{onClick:()=>{r?e(t):s("/app/chatroom")},children:h.jsx(Jt,{name:"back"})})}),h.jsxs("div",{onClick:()=>e(t),className:"cursor-pointer",children:[h.jsx("p",{className:"text-lg text-black font-bold",children:n.name}),i?h.jsxs("p",{className:"text-sm text-black",children:[i," ",i<=1?"member":"members"]}):h.jsx(fe,{height:40,width:100})]})]}),h.jsx("button",{onClick:()=>e(t),children:h.jsx("img",{src:((o=n==null?void 0:n.image)==null?void 0:o.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},efe=({setSubPage:t,currentChat:e,onlineUsers:n,memberCounts:r,setMemberCounts:i,members:s,setMembers:o})=>{var R;const{chatId:a}=yf(),{theme:l,users:c,userData:u}=v.useContext(Z),d=_e(Ee,"chats",a),[f,p]=v.useState(""),[m,y]=v.useState(null),x=_e(Ee,"chats",a),g=ke(x,"members");v.useEffect(()=>{p(e.name)},[e]);const w=S=>{let A=!1;return s.forEach(N=>{N.uid===S&&(A=!0)}),A},_=async S=>{let A=!1;const N=xr(g,vg("uid","==",S),no(1));return console.log("Checking if a member..."),A=!(await wa(N)).empty,A};v.useEffect(()=>Ji(g,O=>{O.empty||((async()=>await Ks(g,i))(),o(O.docs.map($=>({...$.data(),id:$.id}))))}),[]);const I=async S=>{try{const A=_e(g,S);await _(S)||await nl(A,{uid:S,joinedAt:rr()})}catch(A){console.log(A.message)}},T=async S=>{try{const A=_e(g,S);await qs(A)}catch(A){console.log(A.message)}},E=S=>{let A=!1,N=null;return n.forEach(O=>{O.uid===S&&(A=!0,N=O)}),{isOnline:A,...N}},C=async()=>{if(!m)return;const S=`chats/${e.id}/groupImage-${m.name}`,A=Fo(storage,S),N=await vn(m,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),O=await Zh(A,N),L=await ef(O.ref),$={name:m.name,path:S,URL:L,size:N.size};await mr(d,{image:$})},b=async()=>{f.trim()&&await mr(d,{name:f})};if(v.useEffect(()=>{C()},[m]),v.useEffect(()=>{scrollTo({top:0})},[]),e)return h.jsxs("div",{className:"",children:[h.jsx(_D,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:r}),(u==null?void 0:u.isAdmin)&&h.jsxs("div",{className:"p-2 m-1 mt-4 shadow-lg  border border-slate-300 rounded-md",children:[h.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:S=>y(S.target.files[0])}),h.jsxs("div",{className:"relative size-24",children:[h.jsx("img",{src:(R=e==null?void 0:e.image)==null?void 0:R.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),h.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${l==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:h.jsx("img",{className:"w-5",src:Le("edit")})})]}),h.jsxs("div",{className:`mt-2 ${l==="light"?"":"text-white"}`,children:[h.jsx("p",{children:"Group Name"}),h.jsx(pi,{size:"small",value:f,onChange:S=>p(S.target.value)}),h.jsx(kn,{onClick:b,children:h.jsx("img",{className:"w-7",src:Le("save")})})]})]}),s&&h.jsx(Jhe,{members:s,onlineUsers:n,isUserOnline:E}),(u==null?void 0:u.isAdmin)&&h.jsxs("div",{className:`p-2 grid gap-y-2 ${l==="light"?"":"text-white"}`,children:[h.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),h.jsx(Ue,{className:"border rounded-md shadow-lg border-slate-200",children:c.sort((S,A)=>Li(S,A,"createdAt","newer")).map((S,A)=>{const N=E(S.uid);return h.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t ${(s==null?void 0:s.length)===A&&"border-b"} ${A===0&&"border-t-0"} ${l==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsxs("div",{className:"relative",children:[h.jsx(si,{image:S.image,name:S.name}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${N.isOnline?"bg-green-500":"bg-gray-500"}`})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{children:S.name}),h.jsx("p",{className:`text-sm ${N.isOnline?"text-blue-500":"text-red-500"}`,children:N.isOnline?"Online":ql(jr(N.lastSeen))})]})]}),h.jsx("div",{children:w(S.uid)?!S.isAdmin&&h.jsx(kn,{size:"small",onClick:()=>T(S.uid),children:h.jsx(Jt,{name:"trash"})}):h.jsx(kn,{size:"small",onClick:()=>I(S.uid),children:h.jsx(Jt,{name:"add"})})})]},S.name+" "+S.image+A)})})]})]})},tfe=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],nfe=({chatId:t,message:e,setReactedUsers:n})=>{v.useState(!1);const[r,i]=v.useState([]),s=ke(_e(ke(_e(Ee,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=v.useContext(Z),a=()=>Ji(s,f=>{if(f.empty)i([]);else{const p=f.docs.map(m=>m.data());i(p)}});v.useEffect(()=>{const d=a();return()=>{d&&d()}},[]);const l=async()=>{const d=_e(s,o);await qs(d)},c=d=>{let f=!1;return r.forEach(p=>{p.reactionType===d&&(f=!0)}),f},u=tfe.filter(d=>c(d.name));if(r.length!==0)return h.jsx("div",{children:h.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:l}),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[u.map((d,f)=>h.jsx("img",{className:"w-4 ml-[-3px]",src:Le(d.image)},`reaction-${d.name}-${f}`)),h.jsx("span",{className:"ml-1",children:r.length})]})})};function $w(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const rfe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ife=/[\0-\x1F\x7F-\x9F]/,sfe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,ofe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function afe(t){const e={};t=t||{},e.src_Any=rfe.source,e.src_Cc=ife.source,e.src_Z=ofe.source,e.src_P=sfe.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function jw(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function L1(t){return Object.prototype.toString.call(t)}function lfe(t){return L1(t)==="[object String]"}function cfe(t){return L1(t)==="[object Object]"}function ufe(t){return L1(t)==="[object RegExp]"}function D4(t){return L1(t)==="[object Function]"}function dfe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const wD={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function hfe(t){return Object.keys(t||{}).reduce(function(e,n){return e||wD.hasOwnProperty(n)},!1)}const ffe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},pfe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",mfe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function gfe(t){t.__index__=-1,t.__text_cache__=""}function vfe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function O4(){return function(t,e){e.normalize(t)}}function o2(t){const e=t.re=afe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(pfe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,cfe(l)){ufe(l.validate)?c.validate=vfe(l.validate):D4(l.validate)?c.validate=l.validate:s(a,l),D4(l.normalize)?c.normalize=l.normalize:l.normalize?s(a,l):c.normalize=O4();return}if(lfe(l)){i.push(a);return}s(a,l)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:O4()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(dfe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),gfe(t)}function yfe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function Fw(t,e){const n=new yfe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function ei(t,e){if(!(this instanceof ei))return new ei(t,e);e||hfe(t)&&(e=t,t={}),this.__opts__=jw({},wD,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=jw({},ffe,t),this.__compiled__={},this.__tlds__=mfe,this.__tlds_replaced__=!1,this.re={},o2(this)}ei.prototype.add=function(e,n){return this.__schemas__[e]=n,o2(this),this};ei.prototype.set=function(e){return this.__opts__=jw(this.__opts__,e),this};ei.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};ei.prototype.pretest=function(e){return this.re.pretest.test(e)};ei.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};ei.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(Fw(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(Fw(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};ei.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Fw(this,0)):null};ei.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),o2(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,o2(this),this)};ei.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};ei.prototype.onCompile=function(){};const _fe=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageObject:i,setViewingImage:s,setReplyMessage:o,isUserOnline:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:f,messages:p,setMessageOption:m,setReactedUsers:y})=>{var $;const{theme:x,userData:g,userId:w}=v.useContext(Z),_=w===t.senderId,I=a(t.senderId),T=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,E=v.useRef(!1),[C,b]=v.useState(!1),R=P=>{b(P)},S={...t,index:u},A=_?{text:"Edit",icon:"editPencil",onClick:()=>{i(S),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}}:null,N=_||g!=null&&g.isAdmin?{text:"Delete",icon:"deleteIcon",onClick:()=>{e(t,u)}}:null,O=()=>{let P=!1;return((t==null?void 0:t.seenBy)||[]).forEach(D=>{w===D.uid&&(P=!0)}),P},L=()=>{let P=!1;return u>=p.length-5&&u<=p.length-1&&(P=!0),P};return v.useEffect(()=>{(async()=>{const k=_e(c,t.id);E.current||!O()&&!_&&L()&&!d&&(await mr(k,{seenBy:X_({uid:w,timestamp:new Date().getTime()})}),E.current=!0)})()},[]),h.jsxs("div",{onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:`hover:bg-slate-100 rounded-md shadow-md shadow-r-none shadow-l-none flex mb-2 gap-x-2 pt-2 pb-2 border border-slate-200 border-dashed border-r-0 border-l-0 ${_?"flex-row-reverse":""} `,children:[h.jsx(wfe,{senderId:t.senderId,onlineUser:I}),h.jsx("div",{className:`grid gap-y-1 whitespace-pre-wrap ${x==="light"?"":"text-white"}`,children:h.jsxs("div",{className:`flex  items-start gap-x-1 ${_?"flex-row-reverse justify-start":""}`,children:[h.jsx("div",{className:"relative",children:h.jsxs("div",{className:`max-w-[300px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] kkborder border-slate-200 p-3  ${x==="light"?`${_?" dfbg-blue-300 justify-start":"fdbg-white  "}`:`${_?" fdbg-blue-300":"fdbg-white  text-black "}`}`,children:[h.jsx(xfe,{senderId:t.senderId,isYourMessage:_}),(t==null?void 0:t.reply)&&h.jsx(Efe,{message:t,setViewingImage:s}),h.jsx(xD,{content:t.content,isYourMessage:_}),(t==null?void 0:t.image)&&h.jsx("img",{onClick:()=>{s(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),h.jsx(nfe,{chatId:l,message:t,setReactedUsers:y}),h.jsx("div",{className:`flex  ${_?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:h.jsxs("p",{className:`border border-slate-200 shadow-md rounded-md mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${_?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?h.jsxs("span",{children:["edited ",$w(jr(t.editedTime))]}):h.jsx("span",{children:$w(jr(t.timestamp))}),T?h.jsxs("button",{onClick:()=>{f(t.seenBy)},className:"flex gap-x-1 items-center",children:[h.jsx("img",{className:"w-4",src:Le("eye")}),($=t==null?void 0:t.seenBy)==null?void 0:$.length]}):""]})})]})}),C&&h.jsx(kn,{onClick:()=>m({...t,options:[A,N,{text:"Reply",icon:"reply",onClick:()=>o(t)}]}),children:h.jsx("img",{className:"w-6",src:Le("moreOption")})})]})})]})},xD=({content:t,isYourMessage:e=!0})=>{const n=new ei;n.tlds("onion",!0),n.set({fuzzyLink:!0});const r=n.match(t),i=(s,o=30)=>s.length>o?s.slice(0,o)+"...":s;return r&&r.forEach(s=>{const o=s.url.startsWith("http")?s.url:`https://${s.url}`;t=t.replace(s.url,`<a href="${o}" style="text-decoration: underline; color: blue;" target="_blank" rel="noopener norefereer">${i(o)}<a>`)}),h.jsx("div",{className:`w-full max-w-full break-words  ${e?"text-right":"text-left"}`,dangerouslySetInnerHTML:{__html:t}})},wfe=({senderId:t,onlineUser:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return qn(t,n,i,o),s?h.jsx(fe,{variant:"circular",height:40,width:40}):h.jsxs("div",{className:"size-10  relative",children:[h.jsx(si,{name:r&&r.name,image:r&&r.image}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},xfe=({senderId:t,isYourMessage:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return qn(t,n,i,o),s?h.jsx("div",{className:"-mt-3",children:h.jsx(fe,{height:40,width:120})}):h.jsx("p",{className:`font-bold mb-2 ${e?"text-right":"text-left"} `,children:r!=null&&r.name?r.name:"Unknown User"})},Efe=({message:t,setViewingImage:e})=>{const{users:n,theme:r}=v.useContext(Z),{senderId:i,content:s,image:o}=t.reply,[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null);return qn(i,n,f,l),h.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${r==="light"?"bg-green-200":"bg-green-300"}`,children:[a?h.jsx(fe,{width:120,height:40}):h.jsx("p",{className:"font-bold ",children:d==null?void 0:d.name}),s&&h.jsxs("p",{className:"w-full max-w-full break-words",children:[h.jsx(xD,{content:c?s:Ea(s,25)}),s.length>=25&&h.jsx("span",{onClick:()=>{u(!c)},className:"font-bold text-blue-400 cursor-pointer",children:c?" see less":" see more"})]}),o&&h.jsx("img",{onClick:()=>{e(o)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:o.name,src:o.URL})]})},Ife=({setIsRulesOpen:t,isRulesOpen:e,rules:n=[" - Group         ","No spamming -    (link)   emoji   ","Privacy  -        ","  (rules)    Group       ()   "]})=>h.jsx(ts,{open:e,onClose:()=>t(!1),children:n?h.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[h.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,i)=>h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:i+1}),h.jsx("p",{className:"flex-1",children:r})]},`${i}-${r}`))]}):h.jsx("div",{className:"p-2",children:"No rules"})}),bfe=({isUserOnline:t,typingUsersRef:e,viewingOldMessages:n})=>{const{theme:r,userId:i}=v.useContext(Z),[s,o]=v.useState([]);if(v.useEffect(()=>{const l=Ji(e,u=>{console.log("fetching typing users...");const d=u.docs.map(f=>({uid:f.id,...f.data()}));o(d)},u=>{console.log("Error fetching typing users: ",u.message)});return()=>{l&&l()}},[]),v.useEffect(()=>{!n&&s.length!==0&&ah()},[s]),s.length>0)return h.jsx("div",{className:"",children:h.jsx("div",{className:"grid gap-y-1",children:s.sort((a,l)=>Li(a,l,"timestamp","older")).map(a=>{const l=t(a.uid),c=i===a.uid;return h.jsxs("div",{className:`flex mb-2 gap-x-2 ${c?"flex-row-reverse":""} `,children:[h.jsx(Cfe,{typingUser:a,onlineUser:l}),h.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${r==="light"?"":"text-white"}`,children:[h.jsx(Tfe,{isYourMessage:c,typingUser:a}),h.jsx("div",{className:`flex items-start gap-x-1 ${c?"flex-row-reverse justify-start":""}`,children:h.jsxs("div",{children:[h.jsx(fe,{height:40,width:150}),h.jsx(fe,{sx:{mt:-1},height:30,width:100})]})})]})]},`typingUsers-${a.uid}`)})})})},Cfe=({typingUser:t,onlineUser:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return qn(t.uid,n,i,o),h.jsxs("div",{className:"size-10 relative",children:[s?h.jsx(fe,{width:40,height:40}):h.jsx(si,{name:r==null?void 0:r.name,image:r==null?void 0:r.image}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},Tfe=({typingUser:t,isYourMessage:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return qn(t.uid,n,i,o),h.jsx(h.Fragment,{children:s?h.jsx(fe,{height:40,width:120}):h.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})})},Sfe=["January","February","March","April","May","June","July","August","September","October","November","December"],Rfe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ED(t){const e=new Date(t),n=new Date,r=e.getFullYear(),i=e.getMonth(),s=e.getDate(),o=Rfe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${Sfe[i]} ${s}, ${r}`}const Afe=({seenUsers:t,setSeenUsers:e})=>{v.useContext(Z);const n=()=>{const r=t.reduce((i,s)=>{const o=new Date(jr(s.timestamp)),a=o.getFullYear(),l=o.getMonth(),c=o.getDate(),u=`${a}-${l+1}-${c}`;return i[u]||(i[u]={date:u,users:[]}),i[u].users.push(s),i},{});return Object.values(r)};return h.jsx(ts,{anchor:"bottom",open:!!t,onClose:()=>e(!1),children:h.jsxs("div",{className:" sm:w-[400px] md:w-[450px] lg:w-[500px]  bg-slate-200 rounded-l-md rounded-r-md ",children:[h.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),h.jsx("div",{className:"flex flex-col p-2",children:n().map(r=>{const i=new Date(r.date).getTime(),s=ED(i);return h.jsxs(Ue,{children:[h.jsx(Ue,{className:"mb-1",children:s}),r.users.sort((o,a)=>Li(o,a,"timestamp","older")).map((o,a)=>h.jsx(kfe,{seenPerson:o},`seenUser-${o.uid}-${a}`))]},s+"seenUsers")})})]})})},kfe=({seenPerson:t})=>{var o;const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState(!0);return qn(t.uid,e,r,s),i?h.jsx("div",{className:"mb-1 w-[275px]",children:h.jsx(s0,{})}):h.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(si,{image:n==null?void 0:n.image,name:n==null?void 0:n.name,size:"size-9"}),h.jsx("p",{children:((o=n==null?void 0:n.name)==null?void 0:o.length)>20?Ea(n==null?void 0:n.name,20):n==null?void 0:n.name})]}),h.jsx("p",{className:"ml-[4px]",children:$w(t.timestamp)})]})},Pfe=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:i}=v.useContext(Z),s=o=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[o];return h.jsx(ts,{open:!!t,onClose:()=>r(null),children:h.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[h.jsx("div",{className:"p-2 rounded-md pl-4 text-lg font-bold",children:"Reactions"}),h.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((o,a)=>{const l=o.uid===i;return h.jsx(Nfe,{okToRemove:l,reactedPerson:o,getReactIcon:s,removeReaction:e,close:()=>r(null)},`reactedBy-${o.uid}-${a}`)})})]})})},Nfe=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:i})=>{const{users:s}=v.useContext(Z),[o,a]=v.useState(null),[l,c]=v.useState(!0);return qn(e.uid,s,a,c),l?h.jsx(s0,{}):h.jsxs("div",{onClick:()=>{n&&(i(),r())},className:`flex justify-between items-center hover:bg-slate-100 ${n?"cursor-pointer":""}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(si,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),h.jsxs("p",{className:"ml-[4px]",children:[o==null?void 0:o.name," ",n?"(Click to remove)":""]})]}),h.jsx("img",{className:"w-6 ",src:Le(t(e.reactionType))})]})},M4=15,Lfe=()=>{const{userId:t}=v.useContext(Z),{chatId:e}=yf(),[n,r]=v.useState(null),[i,s]=v.useState(!1),o=_e(Ee,"chats",e),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null);return v.useEffect(()=>{const p=()=>Ji(o,g=>{l(!0),g.exists()?r({...g.data(),id:g.id}):u(!0),l(!1)},g=>{const w="Error fetching the current chat: "+g.message;console.log(w),f(w),l(!1)});(async()=>{try{const x=ke(o,"members"),g=xr(x,vg("uid","==",t),no(1));console.log("Checking if a member...");const w=await wa(g);s(!w.empty)}catch(x){console.log(x.message)}})();const y=p();return()=>{y&&y()}},[e,i]),a?h.jsx(br,{isLoading:a,text:"Loading chat..."}):c?h.jsx(At,{text:"No chat available"}):i?d?h.jsx(At,{text:d}):h.jsx(Dfe,{chatId:e,currentChat:n}):h.jsx(At,{text:"You are not a member of this chat room"})},Dfe=({chatId:t,currentChat:e})=>{const{theme:n,userData:r,users:i,newMessages:s,userId:o,setHeaderTitle:a}=v.useContext(Z),[l,c]=v.useState(""),[u,d]=v.useState("chat"),[f,p]=v.useState(null),m=_e(Ee,"chats",t),y=ke(m,"messages"),[x,g]=v.useState(null),[w,_]=v.useState(!1),[I,T]=v.useState(!1),[E,C]=v.useState(null),[b,R]=v.useState(null),[S,A]=v.useState(null),[N,O]=v.useState(!1),L=ke(m,"typingUsers"),$=_e(L,o),[P,k]=v.useState(!1),D=ke(m,"onlineUsers"),j=_e(D,o),[F,G]=v.useState([]),[W,B]=v.useState(null),[U,V]=v.useState([]),[q,oe]=v.useState([]),[ce,ee]=v.useState(),[me,le]=v.useState(null),[ie,ye]=v.useState(!1),[Pe,Se]=v.useState([]),[wt,je]=v.useState(null),[Me,rt]=v.useState(null),[it,Re]=v.useState(null);v.useEffect(()=>{(async()=>{const lt=_e(Ee,"chats",e.id),ht=ke(lt,"members");await Ks(ht,je)})()},[e]),v.useEffect(()=>{a((e==null?void 0:e.name)||"SEA - Chat ")},[]),v.useEffect(()=>{let ue;return l.trim()?k(!0):k(!1),ue=setTimeout(()=>{k(!1)},3e3),()=>{clearTimeout(ue)}},[l]);const kt=async()=>{console.log("I am typing...");try{await nl($,{timestamp:rr()})}catch(ue){console.error("Error adding user to typing collection: ",ue)}},He=async()=>{console.log("I am not typing...");try{await qs($)}catch(ue){console.error("Error removing user from typing collection: ",ue)}};v.useEffect(()=>(P?kt():He(),()=>{He()}),[P]);const Ie=ue=>{ue.docs.length>0&&(ee(ue.docs[0]),le(ue.docs[ue.docs.length-1]));const lt=ue.docs.map(ht=>({id:ht.id,...ht.data()}));V(lt.sort((ht,qt)=>Li(ht,qt,"timestamp")))},Tt=()=>{let ue;if(ie)return;const lt=ke(_e(Ee,"chats",t),"messages");let ht=xr(lt,pu("timestamp","desc"),no(M4));return ue=Ji(ht,qt=>{console.log("Fetching messages..."),Ie(qt)}),()=>ue()};v.useEffect(()=>{const ue=Tt();return()=>{ue&&ue()}},[t]);const nn=async ue=>{const lt=ue==="old"?"desc":"asc";if(!me)return;const ht=xr(y,pu("timestamp",lt),yg(me),no(M4));console.log("Fetching messages...");const qt=await wa(ht);Ie(qt)};v.useEffect(()=>{const lt=Ji(D,qt=>{if(!qt.empty){const Mn=qt.docs.map(Ia=>({...Ia.data()}));G(Mn)}});return()=>{lt&&lt()}},[]);const Gn=async()=>{await nl(j,{uid:o,lastSeen:rr()})},Ae=async()=>{const ue=_e(D,o);await qs(ue)};v.useEffect(()=>(Gn(),window.addEventListener("beforeunload",Ae),()=>{window.addEventListener("beforeunload",Ae),Ae()}),[]),qn(b==null?void 0:b.senderId,i,A,()=>{},[b]);const ve=async ue=>{const lt=new Date().getTime(),ht=`chats/${t}/${lt}-${r==null?void 0:r.name}-${ue==null?void 0:ue.name}`,qt=Fo(Ka,ht);_(!0),T(!0);const Mn=await vn(ue,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),Ia=await Zh(qt,Mn),oi=await ef(Ia.ref),ai={name:ue.name,path:ht,URL:oi,size:Mn.size};g(ai),_(!1),T(!1)},St=async ue=>{const lt=Fo(Ka,ue);await Z_(lt),g(null)},ln=async()=>{const ue=_e(ke(Ee,"newMessages"),t);await nl(ue,{seenBy:X_(o)})};v.useEffect(()=>{(async()=>{const lt=_e(ke(Ee,"newMessages"),t);Ag(s,t)||await mr(lt,{seenBy:X_(o)})})()},[U]);const cn=async()=>{try{const ue={senderId:o,content:l.trim(),timestamp:rr(),image:x||null,reply:b||null,seenBy:[]};T(!0),await la(y,ue),ln(),c(""),g(null),ah(),T(!1),R(null),A(null),k(!1)}catch(ue){console.log(ue.message)}},pe=async()=>{try{const ue=_e(y,f.id),lt={senderId:o,content:l.trim(),editedTime:rr(),image:x||null,reply:b||null};T(!0),await mr(ue,lt),ln(),pe&&c(""),g(null),p(null),T(!1),R(null),A(null)}catch(ue){console.log(ue.message)}},qe=async(ue,lt)=>{const ht=_e(y,ue.id);await qs(ht),ie&&nn("old")},xt=ue=>{let lt=!1,ht=null;return F.forEach(qt=>{qt.uid===ue&&(lt=!0,ht=qt)}),{isOnline:lt,...ht}};return v.useEffect(()=>{oe((()=>{if(U.length>0){const lt=U.reduce((ht,qt)=>{const Mn=new Date(jr(qt.timestamp)),Ia=Mn.getFullYear(),oi=Mn.getMonth(),ai=Mn.getDate(),Di=`${Ia}-${oi+1}-${ai}`;return ht[Di]||(ht[Di]={date:Di,messages:[]}),ht[Di].messages.push(qt),ht},{});return Object.values(lt)}else return})())},[U]),u==="info"?h.jsx(efe,{setSubPage:d,currentChat:e,onlineUsers:F,memberCounts:wt,setMemberCounts:je,members:Pe,setMembers:Se}):h.jsxs("div",{className:"",children:[h.jsx(Ofe,{}),it&&h.jsx(Pfe,{reactedBy:it.reactedBy,removeReaction:it.removeReaction,reactedUsers:it,setReactedUsers:Re}),Me&&h.jsx(UL,{handleClick:()=>{rt(null)},messageOption:Me,setMessageOption:rt,options:Me.options,message:Me,chatId:t,isComment:!1}),E&&h.jsx(mD,{image:E,setViewingImage:C}),N&&h.jsx(Ife,{isRulesOpen:N,setIsRulesOpen:O,rules:e==null?void 0:e.rules}),W&&h.jsx(Afe,{seenUsers:W,setSeenUsers:B}),h.jsx(_D,{pageName:"info",setSubPage:d,currentChat:e,memberCounts:wt}),h.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsx(Oe,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{nn("old"),ah(),ye(!0)},children:"Older messages"})}),h.jsx(Ue,{children:q==null?void 0:q.map(ue=>{const lt=new Date(ue.date).getTime(),ht=ED(lt);return h.jsxs(Ue,{children:[h.jsx(Ue,{className:"z-10 sticky top-[71px] bg-white/50 backdrop-blur-md  p-2 rounded-md",children:ht}),ue.messages.map((qt,Mn)=>h.jsx(_fe,{editMessage:pe,setEditMessageObject:p,deleteMessage:qe,message:qt,setMessage:c,setImageObject:g,setViewingImage:C,setReplyMessage:R,isUserOnline:xt,chatId:t,messagesRef:y,messageIndex:Mn,viewingOldMessages:ie,setSeenUsers:B,messages:U,setMessageOption:rt,setReactedUsers:Re},`${Mn}-${qt.id}`))]},ue.date)})}),ie?h.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[h.jsx(Oe,{size:"small",sx:{textTransform:"capitalize"},onClick:async()=>{await nn("new"),Ii()},children:"Newer messages"}),h.jsx(Oe,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{Tt(),ye(!1),ah()},children:"Latest messages"})]}):"",h.jsx(bfe,{typingUsersRef:L,viewingOldMessages:ie,isUserOnline:xt})]}),h.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${n==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[h.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:h.jsx("button",{onClick:()=>O(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),f&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsx("p",{children:"Editing a message"}),h.jsx("button",{onClick:()=>{p(null),c(""),g(null),R(null),A(null)},className:" rounded-full shadow-sm p-1",children:h.jsx("img",{className:"w-6",src:Le("falseIcon")})})]}),b&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("p",{className:"font-bold",children:["Reply to ",S==null?void 0:S.name]}),h.jsx("p",{children:Ea(b==null?void 0:b.content,25)})]}),h.jsx("button",{onClick:()=>{R(null),A(null)},className:"rounded-full shadow-sm p-1",children:h.jsx("img",{className:"w-6",src:Le("falseIcon")})})]}),w&&h.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:h.jsx("p",{children:"Uploading image..."})}),x&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[h.jsx("img",{src:x.URL,className:"h-10 rounded-sm"}),h.jsx("p",{children:x.name})]}),h.jsx("button",{onClick:()=>{St(x.path),g(null)},className:"rounded-full shadow-sm p-1",children:h.jsx("img",{className:"w-6",src:Le("falseIcon")})})]}),h.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${n==="light"?"border-slate-200":"border-slate-600"}`,children:[h.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:ue=>{ve(ue.target.files[0])},accept:"image/*"}),h.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:h.jsx("img",{className:"w-7",src:Le("image")})}),h.jsx("textarea",{onChange:ue=>c(ue.target.value),value:l,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${n==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),h.jsx("button",{onClick:()=>{!I&&(l.trim()||x)&&(f?pe():cn())},children:h.jsx("img",{className:"w-10",src:Le(I?"sendingLetter":"sendLetter")})})]})]})]})},Ofe=()=>{Gf("chat-page"),Kf("chat-page")},Mfe=()=>h.jsxs("div",{className:"m-3 grid gap-y-2",children:[h.jsx(vD,{}),h.jsx(yD,{}),h.jsx(s0,{}),h.jsx(cL,{})]}),Z=v.createContext();function $fe(){var ee,me,le;const t=O8("sea-localStorage"),[e,n]=v.useState("light"),[r,i]=v.useState(((ee=t==null?void 0:t.timer)==null?void 0:ee.seconds)||0),[s,o]=v.useState(((me=t==null?void 0:t.timer)==null?void 0:me.minutes)||0),[a,l]=v.useState(((le=t==null?void 0:t.timer)==null?void 0:le.hours)||0),[c,u]=v.useState(!1),[d,f]=v.useState(null),[p,m]=v.useState([]),[y,x]=v.useState(null),[g,w]=v.useState(null),[_,I]=v.useState(null),[T,E]=v.useState(!1),[C,b]=v.useState(""),[R,S]=v.useState(!1),[A,N]=v.useState([]),[O,L]=v.useState([]),[$,P]=v.useState([]),[k,D]=v.useState(null),[j,F]=v.useState([]),[G,W]=v.useState(!1),[B,U]=v.useState("");BX(_e(Ee,"users",y||"user1"),f,y),Bl(ke(Ee,"newMessages"),[],P,()=>{},()=>{});const V=()=>{},q=()=>{i(0),o(0),l(0)},oe=()=>{q()};v.useEffect(()=>{D8("seaacademy-theme-data",e)},[e]);const ce=`${a}:${DT(s)}:${DT(r)}`;return v.useEffect(()=>{const ie=setInterval(()=>{r<59?i(r+1):(i(0),o(s+1)),s===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(ie)}},[r]),h.jsx(Z.Provider,{value:{myChats:j,setMyChats:F,stopTest:oe,seaLocalStorage:t,formattedTime:ce,startTimer:q,seconds:r,minutes:s,hours:a,inspecting:T,userData:d,isLogin:c,setUserData:f,users:p,setUsers:m,headerTitle:C,setHeaderTitle:b,theme:e,setTheme:n,refreshUserData:V,isOnline:R,setIsOnline:S,userId:y,setUserId:x,setInspecting:E,setIsLogIn:u,posts:A,setPosts:N,tests:O,setTests:L,history,chats:k,setChats:D,newMessages:$,notiCount:_,setNotiCount:I,historyCount:g,setHistoryCount:w,snackbarOpen:G,setSnackbarOpen:W,snackbarMessage:B,setSnackbarMessage:U},children:h.jsxs(Ue,{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:[h.jsx(Tw,{open:G,onClose:()=>W(!1),autoHideDuration:3e3,message:B}),h.jsxs(W$,{children:[h.jsx(The,{}),C!=="Chat"&&h.jsx(tce,{}),h.jsx(ice,{}),h.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:h.jsxs($$,{children:[h.jsx(un,{exact:!0,path:"/test",element:h.jsx(Mfe,{})}),h.jsx(un,{exact:!0,path:"/login",element:h.jsx(lce,{})}),c&&h.jsxs(h.Fragment,{children:[h.jsx(un,{exact:!0,path:"/app",element:h.jsx($he,{})}),h.jsx(un,{exact:!0,path:"/app/tests",element:h.jsx(jhe,{})}),h.jsx(un,{exact:!0,path:"/app/tests/:testId",element:h.jsx(Xhe,{})}),h.jsx(un,{exact:!0,path:"/app/history",element:h.jsx(ZS,{})}),h.jsx(un,{exact:!0,path:"/app/history/:resultId",element:h.jsx(Xle,{})}),h.jsx(un,{exact:!0,path:"/app/help",element:h.jsx(She,{})}),h.jsx(un,{exact:!0,path:"/app/history/:resultId/reviews",element:h.jsx(nce,{})}),h.jsx(un,{path:"/app/history",element:h.jsx(ZS,{})}),h.jsx(un,{path:"/app/chatroom",element:h.jsx(bhe,{})}),h.jsx(un,{path:"/app/chatroom/:chatId",element:h.jsx(Lfe,{})}),h.jsx(un,{path:"/app/notifications",element:h.jsx(fde,{})}),(d==null?void 0:d.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsx(un,{path:"/app/admin",element:h.jsx(sce,{})}),h.jsx(un,{path:"/app/admin/tests",element:h.jsx(nde,{})}),h.jsx(un,{path:"/app/admin/users",element:h.jsx(ade,{})}),h.jsx(un,{path:"/app/admin/posts",element:h.jsx(cde,{})})]}),h.jsx(un,{exact:!0,path:"/app/settings",element:h.jsx(Gue,{})})]}),h.jsx(un,{path:"*",element:h.jsx(lL,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&h.jsx(oce,{})]})]})})}sy.createRoot(document.getElementById("root")).render(h.jsx(h.Fragment,{children:h.jsx($fe,{})}));
