function n9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function r9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ri(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ox={exports:{}},M0={},Mx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),s9=Symbol.for("react.portal"),i9=Symbol.for("react.fragment"),o9=Symbol.for("react.strict_mode"),a9=Symbol.for("react.profiler"),l9=Symbol.for("react.provider"),c9=Symbol.for("react.context"),u9=Symbol.for("react.forward_ref"),d9=Symbol.for("react.suspense"),h9=Symbol.for("react.memo"),f9=Symbol.for("react.lazy"),x_=Symbol.iterator;function p9(t){return t===null||typeof t!="object"?null:(t=x_&&t[x_]||t["@@iterator"],typeof t=="function"?t:null)}var Dx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jx=Object.assign,$x={};function hl(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Dx}hl.prototype.isReactComponent={};hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fx(){}Fx.prototype=hl.prototype;function Gg(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Dx}var Kg=Gg.prototype=new Fx;Kg.constructor=Gg;jx(Kg,hl.prototype);Kg.isPureReactComponent=!0;var E_=Array.isArray,Ux=Object.prototype.hasOwnProperty,Qg={current:null},Vx={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ux.call(e,r)&&!Vx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Su,type:t,key:i,ref:o,props:s,_owner:Qg.current}}function m9(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function g9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C_=/\/+/g;function M2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?g9(""+t.key):e.toString(36)}function Hd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case s9:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+M2(o,0):r,E_(s)?(n="",t!=null&&(n=t.replace(C_,"$&/")+"/"),Hd(s,e,n,"",function(c){return c})):s!=null&&(Yg(s)&&(s=m9(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(C_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",E_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+M2(i,a);o+=Hd(i,e,n,l,s)}else if(l=p9(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+M2(i,a++),o+=Hd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ud(t,e,n){if(t==null)return t;var r=[],s=0;return Hd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function y9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},qd={transition:null},v9={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:qd,ReactCurrentOwner:Qg};ge.Children={map:ud,forEach:function(t,e,n){ud(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ud(t,function(){e++}),e},toArray:function(t){return ud(t,function(e){return e})||[]},only:function(t){if(!Yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=hl;ge.Fragment=i9;ge.Profiler=a9;ge.PureComponent=Gg;ge.StrictMode=o9;ge.Suspense=d9;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v9;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ux.call(e,l)&&!Vx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Su,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:c9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:l9,_context:t},t.Consumer=t};ge.createElement=zx;ge.createFactory=function(t){var e=zx.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:u9,render:t}};ge.isValidElement=Yg;ge.lazy=function(t){return{$$typeof:f9,_payload:{_status:-1,_result:t},_init:y9}};ge.memo=function(t,e){return{$$typeof:h9,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return In.current.useCallback(t,e)};ge.useContext=function(t){return In.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return In.current.useDeferredValue(t)};ge.useEffect=function(t,e){return In.current.useEffect(t,e)};ge.useId=function(){return In.current.useId()};ge.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return In.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};ge.useRef=function(t){return In.current.useRef(t)};ge.useState=function(t){return In.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return In.current.useTransition()};ge.version="18.2.0";Mx.exports=ge;var T=Mx.exports;const Xi=r9(T),Wp=n9({__proto__:null,default:Xi},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _9=T,w9=Symbol.for("react.element"),x9=Symbol.for("react.fragment"),E9=Object.prototype.hasOwnProperty,C9=_9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T9={key:!0,ref:!0,__self:!0,__source:!0};function Bx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)E9.call(e,r)&&!T9.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:w9,type:t,key:i,ref:o,props:s,_owner:C9.current}}M0.Fragment=x9;M0.jsx=Bx;M0.jsxs=Bx;Ox.exports=M0;var f=Ox.exports,Hp={},Wx={exports:{}},Zn={},Hx={exports:{}},qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var $=D.length;D.push(M);e:for(;0<$;){var H=$-1>>>1,z=D[H];if(0<s(z,M))D[H]=M,D[$]=z,$=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var H=0,z=D.length,X=z>>>1;H<X;){var V=2*(H+1)-1,F=D[V],ee=V+1,he=D[ee];if(0>s(F,$))ee<z&&0>s(he,F)?(D[H]=he,D[ee]=$,H=ee):(D[H]=F,D[V]=$,H=V);else if(ee<z&&0>s(he,$))D[H]=he,D[ee]=$,H=ee;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=D)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function I(D){if(y=!1,w(D),!m)if(n(l)!==null)m=!0,k(R);else{var M=n(c);M!==null&&A(I,M.startTime-D)}}function R(D,M){m=!1,y&&(y=!1,g(C),C=-1),p=!0;var $=h;try{for(w(M),d=n(l);d!==null&&(!(d.expirationTime>M)||D&&!P());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var z=H(d.expirationTime<=M);M=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),w(M)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var V=n(c);V!==null&&A(I,V.startTime-M),X=!1}return X}finally{d=null,h=$,p=!1}}var E=!1,b=null,C=-1,x=5,S=-1;function P(){return!(t.unstable_now()-S<x)}function N(){if(b!==null){var D=t.unstable_now();S=D;var M=!0;try{M=b(!0,D)}finally{M?L():(E=!1,b=null)}}else E=!1}var L;if(typeof v=="function")L=function(){v(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=N,L=function(){j.postMessage(null)}}else L=function(){_(N,0)};function k(D){b=D,E||(E=!0,L())}function A(D,M){C=_(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k(R))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return M()}finally{h=$}},t.unstable_scheduleCallback=function(D,M,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,D={id:u++,callback:M,priorityLevel:D,startTime:$,expirationTime:z,sortIndex:-1},$>H?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(g(C),C=-1):y=!0,A(I,$-H))):(D.sortIndex=z,e(l,D),m||p||(m=!0,k(R))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var M=h;return function(){var $=h;h=M;try{return D.apply(this,arguments)}finally{h=$}}}})(qx);Hx.exports=qx;var I9=Hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=T,Qn=I9;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kx=new Set,Pc={};function jo(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(Pc[t]=e,t=0;t<e.length;t++)Kx.add(e[t])}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,S9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T_={},I_={};function b9(t){return qp.call(I_,t)?!0:qp.call(T_,t)?!1:S9.test(t)?I_[t]=!0:(T_[t]=!0,!1)}function A9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R9(t,e,n,r){if(e===null||typeof e>"u"||A9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xg=/[\-:]([a-z])/g;function Jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);tn[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);tn[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xg,Jg);tn[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var s=tn.hasOwnProperty(e)?tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R9(e,n,s,r)&&(n=null),r||s===null?b9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dd=Symbol.for("react.element"),aa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),Xx=Symbol.for("react.offscreen"),S_=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=S_&&t[S_]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,D2;function tc(t){if(D2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);D2=e&&e[1]||""}return`
`+D2+t}var j2=!1;function $2(t,e){if(!t||j2)return"";j2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{j2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function k9(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=$2(t.type,!1),t;case 11:return t=$2(t.type.render,!1),t;case 1:return t=$2(t.type,!0),t;default:return""}}function Yp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case la:return"Fragment";case aa:return"Portal";case Gp:return"Profiler";case e1:return"StrictMode";case Kp:return"Suspense";case Qp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yx:return(t.displayName||"Context")+".Consumer";case Qx:return(t._context.displayName||"Context")+".Provider";case t1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n1:return e=t.displayName||null,e!==null?e:Yp(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return Yp(t(e))}catch{}}return null}function N9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yp(e);case 8:return e===e1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P9(t){var e=Jx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hd(t){t._valueTracker||(t._valueTracker=P9(t))}function Zx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xp(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eE(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function Jp(t,e){eE(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zp(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zp(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function Ta(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(nc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function tE(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fd,rE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fd=fd||document.createElement("div"),fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L9=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){L9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function sE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function iE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var O9=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(t,e){if(e){if(O9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function r1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var im=null,Ia=null,Sa=null;function N_(t){if(t=Ru(t)){if(typeof im!="function")throw Error(W(280));var e=t.stateNode;e&&(e=U0(e),im(t.stateNode,t.type,e))}}function oE(t){Ia?Sa?Sa.push(t):Sa=[t]:Ia=t}function aE(){if(Ia){var t=Ia,e=Sa;if(Sa=Ia=null,N_(t),e)for(t=0;t<e.length;t++)N_(e[t])}}function lE(t,e){return t(e)}function cE(){}var F2=!1;function uE(t,e,n){if(F2)return t(e,n);F2=!0;try{return lE(t,e,n)}finally{F2=!1,(Ia!==null||Sa!==null)&&(cE(),aE())}}function Oc(t,e){var n=t.stateNode;if(n===null)return null;var r=U0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var om=!1;if(ks)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){om=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{om=!1}function M9(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fc=!1,vh=null,_h=!1,am=null,D9={onError:function(t){fc=!0,vh=t}};function j9(t,e,n,r,s,i,o,a,l){fc=!1,vh=null,M9.apply(D9,arguments)}function $9(t,e,n,r,s,i,o,a,l){if(j9.apply(this,arguments),fc){if(fc){var c=vh;fc=!1,vh=null}else throw Error(W(198));_h||(_h=!0,am=c)}}function $o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P_(t){if($o(t)!==t)throw Error(W(188))}function F9(t){var e=t.alternate;if(!e){if(e=$o(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return P_(s),t;if(i===r)return P_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function hE(t){return t=F9(t),t!==null?fE(t):null}function fE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fE(t);if(e!==null)return e;t=t.sibling}return null}var pE=Qn.unstable_scheduleCallback,L_=Qn.unstable_cancelCallback,U9=Qn.unstable_shouldYield,V9=Qn.unstable_requestPaint,vt=Qn.unstable_now,z9=Qn.unstable_getCurrentPriorityLevel,s1=Qn.unstable_ImmediatePriority,mE=Qn.unstable_UserBlockingPriority,wh=Qn.unstable_NormalPriority,B9=Qn.unstable_LowPriority,gE=Qn.unstable_IdlePriority,D0=null,rs=null;function W9(t){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(D0,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:G9,H9=Math.log,q9=Math.LN2;function G9(t){return t>>>=0,t===0?32:31-(H9(t)/q9|0)|0}var pd=64,md=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rc(a):(i&=o,i!==0&&(r=rc(i)))}else o=n&~s,o!==0?r=rc(o):i!==0&&(r=rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),s=1<<n,r|=t[n],e&=~s;return r}function K9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Dr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=K9(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yE(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function U2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function Y9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Dr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function i1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function vE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _E,o1,wE,xE,EE,cm=!1,gd=[],li=null,ci=null,ui=null,Mc=new Map,Dc=new Map,Qs=[],X9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O_(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function Dl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ru(e),e!==null&&o1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function J9(t,e,n,r,s){switch(e){case"focusin":return li=Dl(li,t,e,n,r,s),!0;case"dragenter":return ci=Dl(ci,t,e,n,r,s),!0;case"mouseover":return ui=Dl(ui,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mc.set(i,Dl(Mc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dc.set(i,Dl(Dc.get(i)||null,t,e,n,r,s)),!0}return!1}function CE(t){var e=Ji(t.target);if(e!==null){var n=$o(e);if(n!==null){if(e=n.tag,e===13){if(e=dE(n),e!==null){t.blockedOn=e,EE(t.priority,function(){wE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sm=r,n.target.dispatchEvent(r),sm=null}else return e=Ru(n),e!==null&&o1(e),t.blockedOn=n,!1;e.shift()}return!0}function M_(t,e,n){Gd(t)&&n.delete(e)}function Z9(){cm=!1,li!==null&&Gd(li)&&(li=null),ci!==null&&Gd(ci)&&(ci=null),ui!==null&&Gd(ui)&&(ui=null),Mc.forEach(M_),Dc.forEach(M_)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,cm||(cm=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,Z9)))}function jc(t){function e(s){return jl(s,t)}if(0<gd.length){jl(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(li!==null&&jl(li,t),ci!==null&&jl(ci,t),ui!==null&&jl(ui,t),Mc.forEach(e),Dc.forEach(e),n=0;n<Qs.length;n++)r=Qs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&Qs.shift()}var ba=Vs.ReactCurrentBatchConfig,Eh=!0;function eA(t,e,n,r){var s=Le,i=ba.transition;ba.transition=null;try{Le=1,a1(t,e,n,r)}finally{Le=s,ba.transition=i}}function tA(t,e,n,r){var s=Le,i=ba.transition;ba.transition=null;try{Le=4,a1(t,e,n,r)}finally{Le=s,ba.transition=i}}function a1(t,e,n,r){if(Eh){var s=um(t,e,n,r);if(s===null)Y2(t,e,r,Ch,n),O_(t,r);else if(J9(s,t,e,n,r))r.stopPropagation();else if(O_(t,r),e&4&&-1<X9.indexOf(t)){for(;s!==null;){var i=Ru(s);if(i!==null&&_E(i),i=um(t,e,n,r),i===null&&Y2(t,e,r,Ch,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Y2(t,e,r,null,n)}}var Ch=null;function um(t,e,n,r){if(Ch=null,t=r1(r),t=Ji(t),t!==null)if(e=$o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ch=t,null}function TE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z9()){case s1:return 1;case mE:return 4;case wh:case B9:return 16;case gE:return 536870912;default:return 16}default:return 16}}var ri=null,l1=null,Kd=null;function IE(){if(Kd)return Kd;var t,e=l1,n=e.length,r,s="value"in ri?ri.value:ri.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Kd=s.slice(t,1<r?1-r:void 0)}function Qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function D_(){return!1}function er(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yd:D_,this.isPropagationStopped=D_,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c1=er(fl),Au=lt({},fl,{view:0,detail:0}),nA=er(Au),V2,z2,$l,j0=lt({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(V2=t.screenX-$l.screenX,z2=t.screenY-$l.screenY):z2=V2=0,$l=t),V2)},movementY:function(t){return"movementY"in t?t.movementY:z2}}),j_=er(j0),rA=lt({},j0,{dataTransfer:0}),sA=er(rA),iA=lt({},Au,{relatedTarget:0}),B2=er(iA),oA=lt({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=er(oA),lA=lt({},fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cA=er(lA),uA=lt({},fl,{data:0}),$_=er(uA),dA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fA[t])?!!e[t]:!1}function u1(){return pA}var mA=lt({},Au,{key:function(t){if(t.key){var e=dA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u1,charCode:function(t){return t.type==="keypress"?Qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gA=er(mA),yA=lt({},j0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F_=er(yA),vA=lt({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u1}),_A=er(vA),wA=lt({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xA=er(wA),EA=lt({},j0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CA=er(EA),TA=[9,13,27,32],d1=ks&&"CompositionEvent"in window,pc=null;ks&&"documentMode"in document&&(pc=document.documentMode);var IA=ks&&"TextEvent"in window&&!pc,SE=ks&&(!d1||pc&&8<pc&&11>=pc),U_=" ",V_=!1;function bE(t,e){switch(t){case"keyup":return TA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function SA(t,e){switch(t){case"compositionend":return AE(e);case"keypress":return e.which!==32?null:(V_=!0,U_);case"textInput":return t=e.data,t===U_&&V_?null:t;default:return null}}function bA(t,e){if(ca)return t==="compositionend"||!d1&&bE(t,e)?(t=IE(),Kd=l1=ri=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SE&&e.locale!=="ko"?null:e.data;default:return null}}var AA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AA[t.type]:e==="textarea"}function RE(t,e,n,r){oE(r),e=Th(e,"onChange"),0<e.length&&(n=new c1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mc=null,$c=null;function RA(t){UE(t,0)}function $0(t){var e=ha(t);if(Zx(e))return t}function kA(t,e){if(t==="change")return e}var kE=!1;if(ks){var W2;if(ks){var H2="oninput"in document;if(!H2){var B_=document.createElement("div");B_.setAttribute("oninput","return;"),H2=typeof B_.oninput=="function"}W2=H2}else W2=!1;kE=W2&&(!document.documentMode||9<document.documentMode)}function W_(){mc&&(mc.detachEvent("onpropertychange",NE),$c=mc=null)}function NE(t){if(t.propertyName==="value"&&$0($c)){var e=[];RE(e,$c,t,r1(t)),uE(RA,e)}}function NA(t,e,n){t==="focusin"?(W_(),mc=e,$c=n,mc.attachEvent("onpropertychange",NE)):t==="focusout"&&W_()}function PA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $0($c)}function LA(t,e){if(t==="click")return $0(e)}function OA(t,e){if(t==="input"||t==="change")return $0(e)}function MA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:MA;function Fc(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qp.call(e,s)||!Fr(t[s],e[s]))return!1}return!0}function H_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q_(t,e){var n=H_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H_(n)}}function PE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LE(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function h1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DA(t){var e=LE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PE(n.ownerDocument.documentElement,n)){if(r!==null&&h1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=q_(n,i);var o=q_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jA=ks&&"documentMode"in document&&11>=document.documentMode,ua=null,dm=null,gc=null,hm=!1;function G_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||ua==null||ua!==yh(r)||(r=ua,"selectionStart"in r&&h1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gc&&Fc(gc,r)||(gc=r,r=Th(dm,"onSelect"),0<r.length&&(e=new c1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ua)))}function vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var da={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},q2={},OE={};ks&&(OE=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function F0(t){if(q2[t])return q2[t];if(!da[t])return t;var e=da[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OE)return q2[t]=e[n];return t}var ME=F0("animationend"),DE=F0("animationiteration"),jE=F0("animationstart"),$E=F0("transitionend"),FE=new Map,K_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){FE.set(t,e),jo(e,[t])}for(var G2=0;G2<K_.length;G2++){var K2=K_[G2],$A=K2.toLowerCase(),FA=K2[0].toUpperCase()+K2.slice(1);ki($A,"on"+FA)}ki(ME,"onAnimationEnd");ki(DE,"onAnimationIteration");ki(jE,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki($E,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Q_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$9(r,e,void 0,t),t.currentTarget=null}function UE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Q_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Q_(s,a,c),i=l}}}if(_h)throw t=am,_h=!1,am=null,t}function Je(t,e){var n=e[ym];n===void 0&&(n=e[ym]=new Set);var r=t+"__bubble";n.has(r)||(VE(e,t,2,!1),n.add(r))}function Q2(t,e,n){var r=0;e&&(r|=4),VE(n,t,r,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Uc(t){if(!t[_d]){t[_d]=!0,Kx.forEach(function(n){n!=="selectionchange"&&(UA.has(n)||Q2(n,!1,t),Q2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,Q2("selectionchange",!1,e))}}function VE(t,e,n,r){switch(TE(e)){case 1:var s=eA;break;case 4:s=tA;break;default:s=a1}n=s.bind(null,e,n,t),s=void 0,!om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Y2(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}uE(function(){var c=i,u=r1(n),d=[];e:{var h=FE.get(t);if(h!==void 0){var p=c1,m=t;switch(t){case"keypress":if(Qd(n)===0)break e;case"keydown":case"keyup":p=gA;break;case"focusin":m="focus",p=B2;break;case"focusout":m="blur",p=B2;break;case"beforeblur":case"afterblur":p=B2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=j_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_A;break;case ME:case DE:case jE:p=aA;break;case $E:p=xA;break;case"scroll":p=nA;break;case"wheel":p=CA;break;case"copy":case"cut":case"paste":p=cA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=F_}var y=(e&4)!==0,_=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,w;v!==null;){w=v;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,g!==null&&(I=Oc(v,g),I!=null&&y.push(Vc(v,I,w)))),_)break;v=v.return}0<y.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==sm&&(m=n.relatedTarget||n.fromElement)&&(Ji(m)||m[Ns]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ji(m):null,m!==null&&(_=$o(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=j_,I="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=F_,I="onPointerLeave",g="onPointerEnter",v="pointer"),_=p==null?h:ha(p),w=m==null?h:ha(m),h=new y(I,v+"leave",p,n,u),h.target=_,h.relatedTarget=w,I=null,Ji(u)===c&&(y=new y(g,v+"enter",m,n,u),y.target=w,y.relatedTarget=_,I=y),_=I,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=Yo(w))v++;for(w=0,I=g;I;I=Yo(I))w++;for(;0<v-w;)y=Yo(y),v--;for(;0<w-v;)g=Yo(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Yo(y),g=Yo(g)}y=null}else y=null;p!==null&&Y_(d,h,p,y,!1),m!==null&&_!==null&&Y_(d,_,m,y,!0)}}e:{if(h=c?ha(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var R=kA;else if(z_(h))if(kE)R=OA;else{R=PA;var E=NA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=LA);if(R&&(R=R(t,c))){RE(d,R,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Zp(h,"number",h.value)}switch(E=c?ha(c):window,t){case"focusin":(z_(E)||E.contentEditable==="true")&&(ua=E,dm=c,gc=null);break;case"focusout":gc=dm=ua=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,G_(d,n,u);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":G_(d,n,u)}var b;if(d1)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ca?bE(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(SE&&n.locale!=="ko"&&(ca||C!=="onCompositionStart"?C==="onCompositionEnd"&&ca&&(b=IE()):(ri=u,l1="value"in ri?ri.value:ri.textContent,ca=!0)),E=Th(c,C),0<E.length&&(C=new $_(C,t,null,n,u),d.push({event:C,listeners:E}),b?C.data=b:(b=AE(n),b!==null&&(C.data=b)))),(b=IA?SA(t,n):bA(t,n))&&(c=Th(c,"onBeforeInput"),0<c.length&&(u=new $_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=b))}UE(d,e)})}function Vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Th(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oc(t,n),i!=null&&r.unshift(Vc(t,i,s)),i=Oc(t,e),i!=null&&r.push(Vc(t,i,s))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Y_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Oc(n,i),l!=null&&o.unshift(Vc(n,l,a))):s||(l=Oc(n,i),l!=null&&o.push(Vc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(VA,`
`).replace(zA,"")}function wd(t,e,n){if(e=X_(e),X_(t)!==e&&n)throw Error(W(425))}function Ih(){}var fm=null,pm=null;function mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(t){return J_.resolve(null).then(t).catch(HA)}:gm;function HA(t){setTimeout(function(){throw t})}function X2(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jc(e)}function di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Xr="__reactFiber$"+pl,zc="__reactProps$"+pl,Ns="__reactContainer$"+pl,ym="__reactEvents$"+pl,qA="__reactListeners$"+pl,GA="__reactHandles$"+pl;function Ji(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ns]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Z_(t);t!==null;){if(n=t[Xr])return n;t=Z_(t)}return e}t=n,n=t.parentNode}return null}function Ru(t){return t=t[Xr]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function U0(t){return t[zc]||null}var vm=[],fa=-1;function Ni(t){return{current:t}}function nt(t){0>fa||(t.current=vm[fa],vm[fa]=null,fa--)}function Qe(t,e){fa++,vm[fa]=t.current,t.current=e}var Ci={},yn=Ni(Ci),On=Ni(!1),wo=Ci;function Ha(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mn(t){return t=t.childContextTypes,t!=null}function Sh(){nt(On),nt(yn)}function ew(t,e,n){if(yn.current!==Ci)throw Error(W(168));Qe(yn,e),Qe(On,n)}function zE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,N9(t)||"Unknown",s));return lt({},n,r)}function bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,wo=yn.current,Qe(yn,t),Qe(On,On.current),!0}function tw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=zE(t,e,wo),r.__reactInternalMemoizedMergedChildContext=t,nt(On),nt(yn),Qe(yn,t)):nt(On),Qe(On,n)}var ws=null,V0=!1,J2=!1;function BE(t){ws===null?ws=[t]:ws.push(t)}function KA(t){V0=!0,BE(t)}function Pi(){if(!J2&&ws!==null){J2=!0;var t=0,e=Le;try{var n=ws;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ws=null,V0=!1}catch(s){throw ws!==null&&(ws=ws.slice(t+1)),pE(s1,Pi),s}finally{Le=e,J2=!1}}return null}var pa=[],ma=0,Ah=null,Rh=0,ar=[],lr=0,xo=null,Es=1,Cs="";function Hi(t,e){pa[ma++]=Rh,pa[ma++]=Ah,Ah=t,Rh=e}function WE(t,e,n){ar[lr++]=Es,ar[lr++]=Cs,ar[lr++]=xo,xo=t;var r=Es;t=Cs;var s=32-Dr(r)-1;r&=~(1<<s),n+=1;var i=32-Dr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Es=1<<32-Dr(e)+s|n<<s|r,Cs=i+t}else Es=1<<i|n<<s|r,Cs=t}function f1(t){t.return!==null&&(Hi(t,1),WE(t,1,0))}function p1(t){for(;t===Ah;)Ah=pa[--ma],pa[ma]=null,Rh=pa[--ma],pa[ma]=null;for(;t===xo;)xo=ar[--lr],ar[lr]=null,Cs=ar[--lr],ar[lr]=null,Es=ar[--lr],ar[lr]=null}var qn=null,zn=null,it=!1,Lr=null;function HE(t,e){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,zn=di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:Es,overflow:Cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,zn=null,!0):!1;default:return!1}}function _m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wm(t){if(it){var e=zn;if(e){var n=e;if(!nw(t,e)){if(_m(t))throw Error(W(418));e=di(n.nextSibling);var r=qn;e&&nw(t,e)?HE(r,n):(t.flags=t.flags&-4097|2,it=!1,qn=t)}}else{if(_m(t))throw Error(W(418));t.flags=t.flags&-4097|2,it=!1,qn=t}}}function rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function xd(t){if(t!==qn)return!1;if(!it)return rw(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mm(t.type,t.memoizedProps)),e&&(e=zn)){if(_m(t))throw qE(),Error(W(418));for(;e;)HE(t,e),e=di(e.nextSibling)}if(rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=qn?di(t.stateNode.nextSibling):null;return!0}function qE(){for(var t=zn;t;)t=di(t.nextSibling)}function qa(){zn=qn=null,it=!1}function m1(t){Lr===null?Lr=[t]:Lr.push(t)}var QA=Vs.ReactCurrentBatchConfig;function Nr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kh=Ni(null),Nh=null,ga=null,g1=null;function y1(){g1=ga=Nh=null}function v1(t){var e=kh.current;nt(kh),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Aa(t,e){Nh=t,g1=ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(g1!==t)if(t={context:t,memoizedValue:e,next:null},ga===null){if(Nh===null)throw Error(W(308));ga=t,Nh.dependencies={lanes:0,firstContext:t}}else ga=ga.next=t;return e}var Zi=null;function _1(t){Zi===null?Zi=[t]:Zi.push(t)}function GE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,_1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ps(t,r)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function w1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ps(t,n)}return s=r.interleaved,s===null?(e.next=e,_1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ps(t,n)}function Yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i1(t,n)}}function sw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ph(t,e,n,r){var s=t.updateQueue;Ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=lt({},d,h);break e;case 2:Ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Co|=o,t.lanes=o,t.memoizedState=d}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var QE=new Gx.Component().refs;function Em(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var z0={isMounted:function(t){return(t=t._reactInternals)?$o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=pi(t),i=As(r,s);i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,s),e!==null&&(jr(e,t,s,r),Yd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=pi(t),i=As(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,s),e!==null&&(jr(e,t,s,r),Yd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=pi(t),s=As(n,r);s.tag=2,e!=null&&(s.callback=e),e=hi(t,s,r),e!==null&&(jr(e,t,r,n),Yd(e,t,r))}};function ow(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fc(n,r)||!Fc(s,i):!0}function YE(t,e,n){var r=!1,s=Ci,i=e.contextType;return typeof i=="object"&&i!==null?i=gr(i):(s=Mn(e)?wo:yn.current,r=e.contextTypes,i=(r=r!=null)?Ha(t,s):Ci),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function aw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&z0.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=QE,w1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gr(i):(i=Mn(e)?wo:yn.current,s.context=Ha(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Em(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&z0.enqueueReplaceState(s,s.state,null),Ph(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===QE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lw(t){var e=t._init;return e(t._payload)}function XE(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=mi(g,v),g.index=0,g.sibling=null,g}function i(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,I){return v===null||v.tag!==6?(v=ip(w,g.mode,I),v.return=g,v):(v=s(v,w),v.return=g,v)}function l(g,v,w,I){var R=w.type;return R===la?u(g,v,w.props.children,I,w.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gs&&lw(R)===v.type)?(I=s(v,w.props),I.ref=Fl(g,v,w),I.return=g,I):(I=nh(w.type,w.key,w.props,null,g.mode,I),I.ref=Fl(g,v,w),I.return=g,I)}function c(g,v,w,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=op(w,g.mode,I),v.return=g,v):(v=s(v,w.children||[]),v.return=g,v)}function u(g,v,w,I,R){return v===null||v.tag!==7?(v=po(w,g.mode,I,R),v.return=g,v):(v=s(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ip(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dd:return w=nh(v.type,v.key,v.props,null,g.mode,w),w.ref=Fl(g,null,v),w.return=g,w;case aa:return v=op(v,g.mode,w),v.return=g,v;case Gs:var I=v._init;return d(g,I(v._payload),w)}if(nc(v)||Ol(v))return v=po(v,g.mode,w,null),v.return=g,v;Ed(g,v)}return null}function h(g,v,w,I){var R=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:a(g,v,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dd:return w.key===R?l(g,v,w,I):null;case aa:return w.key===R?c(g,v,w,I):null;case Gs:return R=w._init,h(g,v,R(w._payload),I)}if(nc(w)||Ol(w))return R!==null?null:u(g,v,w,I,null);Ed(g,w)}return null}function p(g,v,w,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return g=g.get(w)||null,a(v,g,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case dd:return g=g.get(I.key===null?w:I.key)||null,l(v,g,I,R);case aa:return g=g.get(I.key===null?w:I.key)||null,c(v,g,I,R);case Gs:var E=I._init;return p(g,v,w,E(I._payload),R)}if(nc(I)||Ol(I))return g=g.get(w)||null,u(v,g,I,R,null);Ed(v,I)}return null}function m(g,v,w,I){for(var R=null,E=null,b=v,C=v=0,x=null;b!==null&&C<w.length;C++){b.index>C?(x=b,b=null):x=b.sibling;var S=h(g,b,w[C],I);if(S===null){b===null&&(b=x);break}t&&b&&S.alternate===null&&e(g,b),v=i(S,v,C),E===null?R=S:E.sibling=S,E=S,b=x}if(C===w.length)return n(g,b),it&&Hi(g,C),R;if(b===null){for(;C<w.length;C++)b=d(g,w[C],I),b!==null&&(v=i(b,v,C),E===null?R=b:E.sibling=b,E=b);return it&&Hi(g,C),R}for(b=r(g,b);C<w.length;C++)x=p(b,g,C,w[C],I),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?C:x.key),v=i(x,v,C),E===null?R=x:E.sibling=x,E=x);return t&&b.forEach(function(P){return e(g,P)}),it&&Hi(g,C),R}function y(g,v,w,I){var R=Ol(w);if(typeof R!="function")throw Error(W(150));if(w=R.call(w),w==null)throw Error(W(151));for(var E=R=null,b=v,C=v=0,x=null,S=w.next();b!==null&&!S.done;C++,S=w.next()){b.index>C?(x=b,b=null):x=b.sibling;var P=h(g,b,S.value,I);if(P===null){b===null&&(b=x);break}t&&b&&P.alternate===null&&e(g,b),v=i(P,v,C),E===null?R=P:E.sibling=P,E=P,b=x}if(S.done)return n(g,b),it&&Hi(g,C),R;if(b===null){for(;!S.done;C++,S=w.next())S=d(g,S.value,I),S!==null&&(v=i(S,v,C),E===null?R=S:E.sibling=S,E=S);return it&&Hi(g,C),R}for(b=r(g,b);!S.done;C++,S=w.next())S=p(b,g,C,S.value,I),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?C:S.key),v=i(S,v,C),E===null?R=S:E.sibling=S,E=S);return t&&b.forEach(function(N){return e(g,N)}),it&&Hi(g,C),R}function _(g,v,w,I){if(typeof w=="object"&&w!==null&&w.type===la&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dd:e:{for(var R=w.key,E=v;E!==null;){if(E.key===R){if(R=w.type,R===la){if(E.tag===7){n(g,E.sibling),v=s(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gs&&lw(R)===E.type){n(g,E.sibling),v=s(E,w.props),v.ref=Fl(g,E,w),v.return=g,g=v;break e}n(g,E);break}else e(g,E);E=E.sibling}w.type===la?(v=po(w.props.children,g.mode,I,w.key),v.return=g,g=v):(I=nh(w.type,w.key,w.props,null,g.mode,I),I.ref=Fl(g,v,w),I.return=g,g=I)}return o(g);case aa:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=s(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=op(w,g.mode,I),v.return=g,g=v}return o(g);case Gs:return E=w._init,_(g,v,E(w._payload),I)}if(nc(w))return m(g,v,w,I);if(Ol(w))return y(g,v,w,I);Ed(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,w),v.return=g,g=v):(n(g,v),v=ip(w,g.mode,I),v.return=g,g=v),o(g)):n(g,v)}return _}var Ga=XE(!0),JE=XE(!1),ku={},ss=Ni(ku),Bc=Ni(ku),Wc=Ni(ku);function eo(t){if(t===ku)throw Error(W(174));return t}function x1(t,e){switch(Qe(Wc,e),Qe(Bc,t),Qe(ss,ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tm(e,t)}nt(ss),Qe(ss,e)}function Ka(){nt(ss),nt(Bc),nt(Wc)}function ZE(t){eo(Wc.current);var e=eo(ss.current),n=tm(e,t.type);e!==n&&(Qe(Bc,t),Qe(ss,n))}function E1(t){Bc.current===t&&(nt(ss),nt(Bc))}var ot=Ni(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Z2=[];function C1(){for(var t=0;t<Z2.length;t++)Z2[t]._workInProgressVersionPrimary=null;Z2.length=0}var Xd=Vs.ReactCurrentDispatcher,ep=Vs.ReactCurrentBatchConfig,Eo=0,at=null,Nt=null,jt=null,Oh=!1,yc=!1,Hc=0,YA=0;function rn(){throw Error(W(321))}function T1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function I1(t,e,n,r,s,i){if(Eo=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xd.current=t===null||t.memoizedState===null?eR:tR,t=n(r,s),yc){i=0;do{if(yc=!1,Hc=0,25<=i)throw Error(W(301));i+=1,jt=Nt=null,e.updateQueue=null,Xd.current=nR,t=n(r,s)}while(yc)}if(Xd.current=Mh,e=Nt!==null&&Nt.next!==null,Eo=0,jt=Nt=at=null,Oh=!1,e)throw Error(W(300));return t}function S1(){var t=Hc!==0;return Hc=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?at.memoizedState=jt=t:jt=jt.next=t,jt}function yr(){if(Nt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=jt===null?at.memoizedState:jt.next;if(e!==null)jt=e,Nt=t;else{if(t===null)throw Error(W(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},jt===null?at.memoizedState=jt=t:jt=jt.next=t}return jt}function qc(t,e){return typeof e=="function"?e(t):e}function tp(t){var e=yr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Eo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,at.lanes|=u,Co|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Fr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,Co|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function np(t){var e=yr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Fr(i,e.memoizedState)||(Pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function e4(){}function t4(t,e){var n=at,r=yr(),s=e(),i=!Fr(r.memoizedState,s);if(i&&(r.memoizedState=s,Pn=!0),r=r.queue,b1(s4.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Gc(9,r4.bind(null,n,r,s,e),void 0,null),Ut===null)throw Error(W(349));Eo&30||n4(n,e,s)}return s}function n4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r4(t,e,n,r){e.value=n,e.getSnapshot=r,i4(e)&&o4(t)}function s4(t,e,n){return n(function(){i4(e)&&o4(t)})}function i4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fr(t,n)}catch{return!0}}function o4(t){var e=Ps(t,1);e!==null&&jr(e,t,1,-1)}function cw(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:t},e.queue=t,t=t.dispatch=ZA.bind(null,at,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a4(){return yr().memoizedState}function Jd(t,e,n,r){var s=Gr();at.flags|=t,s.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function B0(t,e,n,r){var s=yr();r=r===void 0?null:r;var i=void 0;if(Nt!==null){var o=Nt.memoizedState;if(i=o.destroy,r!==null&&T1(r,o.deps)){s.memoizedState=Gc(e,n,i,r);return}}at.flags|=t,s.memoizedState=Gc(1|e,n,i,r)}function uw(t,e){return Jd(8390656,8,t,e)}function b1(t,e){return B0(2048,8,t,e)}function l4(t,e){return B0(4,2,t,e)}function c4(t,e){return B0(4,4,t,e)}function u4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d4(t,e,n){return n=n!=null?n.concat([t]):null,B0(4,4,u4.bind(null,e,t),n)}function A1(){}function h4(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f4(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p4(t,e,n){return Eo&21?(Fr(n,e)||(n=yE(),at.lanes|=n,Co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function XA(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=ep.transition;ep.transition={};try{t(!1),e()}finally{Le=n,ep.transition=r}}function m4(){return yr().memoizedState}function JA(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g4(t))y4(e,n);else if(n=GE(t,e,n,r),n!==null){var s=Tn();jr(n,t,r,s),v4(n,e,r)}}function ZA(t,e,n){var r=pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g4(t))y4(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Fr(a,o)){var l=e.interleaved;l===null?(s.next=s,_1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=GE(t,e,s,r),n!==null&&(s=Tn(),jr(n,t,r,s),v4(n,e,r))}}function g4(t){var e=t.alternate;return t===at||e!==null&&e===at}function y4(t,e){yc=Oh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,i1(t,n)}}var Mh={readContext:gr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},eR={readContext:gr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:uw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jd(4194308,4,u4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jd(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:cw,useDebugValue:A1,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=cw(!1),e=t[0];return t=XA.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,s=Gr();if(it){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ut===null)throw Error(W(349));Eo&30||n4(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uw(s4.bind(null,r,i,t),[t]),r.flags|=2048,Gc(9,r4.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Ut.identifierPrefix;if(it){var n=Cs,r=Es;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tR={readContext:gr,useCallback:h4,useContext:gr,useEffect:b1,useImperativeHandle:d4,useInsertionEffect:l4,useLayoutEffect:c4,useMemo:f4,useReducer:tp,useRef:a4,useState:function(){return tp(qc)},useDebugValue:A1,useDeferredValue:function(t){var e=yr();return p4(e,Nt.memoizedState,t)},useTransition:function(){var t=tp(qc)[0],e=yr().memoizedState;return[t,e]},useMutableSource:e4,useSyncExternalStore:t4,useId:m4,unstable_isNewReconciler:!1},nR={readContext:gr,useCallback:h4,useContext:gr,useEffect:b1,useImperativeHandle:d4,useInsertionEffect:l4,useLayoutEffect:c4,useMemo:f4,useReducer:np,useRef:a4,useState:function(){return np(qc)},useDebugValue:A1,useDeferredValue:function(t){var e=yr();return Nt===null?e.memoizedState=t:p4(e,Nt.memoizedState,t)},useTransition:function(){var t=np(qc)[0],e=yr().memoizedState;return[t,e]},useMutableSource:e4,useSyncExternalStore:t4,useId:m4,unstable_isNewReconciler:!1};function Qa(t,e){try{var n="",r=e;do n+=k9(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rR=typeof WeakMap=="function"?WeakMap:Map;function _4(t,e,n){n=As(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jh||(jh=!0,Om=r),Tm(t,e)},n}function w4(t,e,n){n=As(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Tm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Tm(t,e),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=yR.bind(null,t,e,n),e.then(t,t))}function hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=As(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var sR=Vs.ReactCurrentOwner,Pn=!1;function En(t,e,n,r){e.child=t===null?JE(e,null,n,r):Ga(e,t.child,n,r)}function pw(t,e,n,r,s){n=n.render;var i=e.ref;return Aa(e,s),r=I1(t,e,n,r,i,s),n=S1(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(it&&n&&f1(e),e.flags|=1,En(t,e,r,s),e.child)}function mw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!D1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,x4(t,e,i,r,s)):(t=nh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(o,r)&&t.ref===e.ref)return Ls(t,e,s)}return e.flags|=1,t=mi(i,r),t.ref=e.ref,t.return=e,e.child=t}function x4(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fc(i,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ls(t,e,s)}return Im(t,e,n,r,s)}function E4(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(va,Un),Un|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(va,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qe(va,Un),Un|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qe(va,Un),Un|=r;return En(t,e,s,n),e.child}function C4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Im(t,e,n,r,s){var i=Mn(n)?wo:yn.current;return i=Ha(e,i),Aa(e,s),n=I1(t,e,n,r,i,s),r=S1(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(it&&r&&f1(e),e.flags|=1,En(t,e,n,s),e.child)}function gw(t,e,n,r,s){if(Mn(n)){var i=!0;bh(e)}else i=!1;if(Aa(e,s),e.stateNode===null)Zd(t,e),YE(e,n,r),Cm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gr(c):(c=Mn(n)?wo:yn.current,c=Ha(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&aw(e,o,r,c),Ks=!1;var h=e.memoizedState;o.state=h,Ph(e,r,o,s),l=e.memoizedState,a!==r||h!==l||On.current||Ks?(typeof u=="function"&&(Em(e,n,u,r),l=e.memoizedState),(a=Ks||ow(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Mn(n)?wo:yn.current,l=Ha(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&aw(e,o,r,l),Ks=!1,h=e.memoizedState,o.state=h,Ph(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||On.current||Ks?(typeof p=="function"&&(Em(e,n,p,r),m=e.memoizedState),(c=Ks||ow(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,i,s)}function Sm(t,e,n,r,s,i){C4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tw(e,n,!1),Ls(t,e,i);r=e.stateNode,sR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ga(e,t.child,null,i),e.child=Ga(e,null,a,i)):En(t,e,a,i),e.memoizedState=r.state,s&&tw(e,n,!0),e.child}function T4(t){var e=t.stateNode;e.pendingContext?ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ew(t,e.context,!1),x1(t,e.containerInfo)}function yw(t,e,n,r,s){return qa(),m1(s),e.flags|=256,En(t,e,n,r),e.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function Am(t){return{baseLanes:t,cachePool:null,transitions:null}}function I4(t,e,n){var r=e.pendingProps,s=ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qe(ot,s&1),t===null)return wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=q0(o,r,0,null),t=po(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Am(n),e.memoizedState=bm,t):R1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return iR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=mi(a,i):(i=po(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bm,r}return i=t.child,t=i.sibling,r=mi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R1(t,e){return e=q0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,n,r){return r!==null&&m1(r),Ga(e,t.child,null,n),t=R1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=rp(Error(W(422))),Cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=q0({mode:"visible",children:r.children},s,0,null),i=po(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ga(e,t.child,null,o),e.child.memoizedState=Am(o),e.memoizedState=bm,i);if(!(e.mode&1))return Cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=rp(i,r,void 0),Cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pn||a){if(r=Ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ps(t,s),jr(r,t,s,-1))}return M1(),r=rp(Error(W(421))),Cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zn=di(s.nextSibling),qn=e,it=!0,Lr=null,t!==null&&(ar[lr++]=Es,ar[lr++]=Cs,ar[lr++]=xo,Es=t.id,Cs=t.overflow,xo=e),e=R1(e,r.children),e.flags|=4096,e)}function vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function sp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function S4(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(En(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vw(t,n,e);else if(t.tag===19)vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sp(e,!0,n,null,i);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oR(t,e,n){switch(e.tag){case 3:T4(e),qa();break;case 5:ZE(e);break;case 1:Mn(e.type)&&bh(e);break;case 4:x1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qe(kh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?I4(t,e,n):(Qe(ot,ot.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);Qe(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return S4(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,E4(t,e,n)}return Ls(t,e,n)}var b4,Rm,A4,R4;b4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rm=function(){};A4=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,eo(ss.current);var i=null;switch(n){case"input":s=Xp(t,s),r=Xp(t,r),i=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":s=em(t,s),r=em(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ih)}nm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};R4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ul(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aR(t,e,n){var r=e.pendingProps;switch(p1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Mn(e.type)&&Sh(),sn(e),null;case 3:return r=e.stateNode,Ka(),nt(On),nt(yn),C1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(jm(Lr),Lr=null))),Rm(t,e),sn(e),null;case 5:E1(e);var s=eo(Wc.current);if(n=e.type,t!==null&&e.stateNode!=null)A4(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return sn(e),null}if(t=eo(ss.current),xd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xr]=e,r[zc]=i,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<sc.length;s++)Je(sc[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":b_(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":R_(r,i),Je("invalid",r)}nm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),s=["children",""+a]):Pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":hd(r),A_(r,i,!0);break;case"textarea":hd(r),k_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ih)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[zc]=r,b4(t,e,!1,!1),e.stateNode=t;e:{switch(o=rm(n,r),n){case"dialog":Je("cancel",t),Je("close",t),s=r;break;case"iframe":case"object":case"embed":Je("load",t),s=r;break;case"video":case"audio":for(s=0;s<sc.length;s++)Je(sc[s],t);s=r;break;case"source":Je("error",t),s=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),s=r;break;case"details":Je("toggle",t),s=r;break;case"input":b_(t,r),s=Xp(t,r),Je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),Je("invalid",t);break;case"textarea":R_(t,r),s=em(t,r),Je("invalid",t);break;default:s=r}nm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?iE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lc(t,l):typeof l=="number"&&Lc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Je("scroll",t):l!=null&&Zg(t,i,l,o))}switch(n){case"input":hd(t),A_(t,r,!1);break;case"textarea":hd(t),k_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ta(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)R4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=eo(Wc.current),eo(ss.current),xd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(i=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return sn(e),null;case 13:if(nt(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&zn!==null&&e.mode&1&&!(e.flags&128))qE(),qa(),e.flags|=98560,i=!1;else if(i=xd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Xr]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),i=!1}else Lr!==null&&(jm(Lr),Lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Pt===0&&(Pt=3):M1())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Ka(),Rm(t,e),t===null&&Uc(e.stateNode.containerInfo),sn(e),null;case 10:return v1(e.type._context),sn(e),null;case 17:return Mn(e.type)&&Sh(),sn(e),null;case 19:if(nt(ot),i=e.memoizedState,i===null)return sn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ul(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lh(t),o!==null){for(e.flags|=128,Ul(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ot,ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&vt()>Ya&&(e.flags|=128,r=!0,Ul(i,!1),e.lanes=4194304)}else{if(!r)if(t=Lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ul(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return sn(e),null}else 2*vt()-i.renderingStartTime>Ya&&n!==1073741824&&(e.flags|=128,r=!0,Ul(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vt(),e.sibling=null,n=ot.current,Qe(ot,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return O1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function lR(t,e){switch(p1(e),e.tag){case 1:return Mn(e.type)&&Sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),nt(On),nt(yn),C1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E1(e),null;case 13:if(nt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ot),null;case 4:return Ka(),null;case 10:return v1(e.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var Td=!1,cn=!1,cR=typeof WeakSet=="function"?WeakSet:Set,J=null;function ya(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function km(t,e,n){try{n()}catch(r){ht(t,e,r)}}var _w=!1;function uR(t,e){if(fm=Eh,t=LE(),h1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pm={focusedElem:t,selectionRange:n},Eh=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Nr(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){ht(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return m=_w,_w=!1,m}function vc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&km(e,n,i)}s=s.next}while(s!==r)}}function W0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function k4(t){var e=t.alternate;e!==null&&(t.alternate=null,k4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[zc],delete e[ym],delete e[qA],delete e[GA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N4(t){return t.tag===5||t.tag===3||t.tag===4}function ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ih));else if(r!==4&&(t=t.child,t!==null))for(Pm(t,e,n),t=t.sibling;t!==null;)Pm(t,e,n),t=t.sibling}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}var Gt=null,Pr=!1;function Hs(t,e,n){for(n=n.child;n!==null;)P4(t,e,n),n=n.sibling}function P4(t,e,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(D0,n)}catch{}switch(n.tag){case 5:cn||ya(n,e);case 6:var r=Gt,s=Pr;Gt=null,Hs(t,e,n),Gt=r,Pr=s,Gt!==null&&(Pr?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(Pr?(t=Gt,n=n.stateNode,t.nodeType===8?X2(t.parentNode,n):t.nodeType===1&&X2(t,n),jc(t)):X2(Gt,n.stateNode));break;case 4:r=Gt,s=Pr,Gt=n.stateNode.containerInfo,Pr=!0,Hs(t,e,n),Gt=r,Pr=s;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&km(n,e,o),s=s.next}while(s!==r)}Hs(t,e,n);break;case 1:if(!cn&&(ya(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,e,a)}Hs(t,e,n);break;case 21:Hs(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Hs(t,e,n),cn=r):Hs(t,e,n);break;default:Hs(t,e,n)}}function xw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cR),e.forEach(function(r){var s=_R.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,Pr=!1;break e;case 3:Gt=a.stateNode.containerInfo,Pr=!0;break e;case 4:Gt=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(Gt===null)throw Error(W(160));P4(i,o,s),Gt=null,Pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ht(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L4(e,t),e=e.sibling}function L4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),qr(t),r&4){try{vc(3,t,t.return),W0(3,t)}catch(y){ht(t,t.return,y)}try{vc(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:Rr(e,t),qr(t),r&512&&n!==null&&ya(n,n.return);break;case 5:if(Rr(e,t),qr(t),r&512&&n!==null&&ya(n,n.return),t.flags&32){var s=t.stateNode;try{Lc(s,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&eE(s,i),rm(a,o);var c=rm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?iE(s,d):u==="dangerouslySetInnerHTML"?rE(s,d):u==="children"?Lc(s,d):Zg(s,u,d,c)}switch(a){case"input":Jp(s,i);break;case"textarea":tE(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ta(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ta(s,!!i.multiple,i.defaultValue,!0):Ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[zc]=i}catch(y){ht(t,t.return,y)}}break;case 6:if(Rr(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ht(t,t.return,y)}}break;case 3:if(Rr(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jc(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:Rr(e,t),qr(t);break;case 13:Rr(e,t),qr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(P1=vt())),r&4&&xw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(c=cn)||u,Rr(e,t),cn=c):Rr(e,t),qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(d=J=u;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:vc(4,h,h.return);break;case 1:ya(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:ya(h,h.return);break;case 22:if(h.memoizedState!==null){Cw(d);continue}}p!==null?(p.return=h,J=p):Cw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sE("display",o))}catch(y){ht(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ht(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rr(e,t),qr(t),r&4&&xw(t);break;case 21:break;default:Rr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N4(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lc(s,""),r.flags&=-33);var i=ww(t);Lm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ww(t);Pm(t,a,o);break;default:throw Error(W(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dR(t,e,n){J=t,O4(t)}function O4(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Td;var c=cn;if(Td=o,(cn=l)&&!c)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?Tw(s):l!==null?(l.return=o,J=l):Tw(s);for(;i!==null;)J=i,O4(i),i=i.sibling;J=s,Td=a,cn=c}Ew(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Ew(t)}}function Ew(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||W0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&jc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}cn||e.flags&512&&Nm(e)}catch(h){ht(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Cw(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Tw(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{W0(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ht(e,s,l)}}var i=e.return;try{Nm(e)}catch(l){ht(e,i,l)}break;case 5:var o=e.return;try{Nm(e)}catch(l){ht(e,o,l)}}}catch(l){ht(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var hR=Math.ceil,Dh=Vs.ReactCurrentDispatcher,k1=Vs.ReactCurrentOwner,fr=Vs.ReactCurrentBatchConfig,Ce=0,Ut=null,It=null,Jt=0,Un=0,va=Ni(0),Pt=0,Kc=null,Co=0,H0=0,N1=0,_c=null,Rn=null,P1=0,Ya=1/0,_s=null,jh=!1,Om=null,fi=null,Id=!1,si=null,$h=0,wc=0,Mm=null,eh=-1,th=0;function Tn(){return Ce&6?vt():eh!==-1?eh:eh=vt()}function pi(t){return t.mode&1?Ce&2&&Jt!==0?Jt&-Jt:QA.transition!==null?(th===0&&(th=yE()),th):(t=Le,t!==0||(t=window.event,t=t===void 0?16:TE(t.type)),t):1}function jr(t,e,n,r){if(50<wc)throw wc=0,Mm=null,Error(W(185));bu(t,n,r),(!(Ce&2)||t!==Ut)&&(t===Ut&&(!(Ce&2)&&(H0|=n),Pt===4&&Ys(t,Jt)),Dn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Ya=vt()+500,V0&&Pi()))}function Dn(t,e){var n=t.callbackNode;Q9(t,e);var r=xh(t,t===Ut?Jt:0);if(r===0)n!==null&&L_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L_(n),e===1)t.tag===0?KA(Iw.bind(null,t)):BE(Iw.bind(null,t)),WA(function(){!(Ce&6)&&Pi()}),n=null;else{switch(vE(r)){case 1:n=s1;break;case 4:n=mE;break;case 16:n=wh;break;case 536870912:n=gE;break;default:n=wh}n=z4(n,M4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M4(t,e){if(eh=-1,th=0,Ce&6)throw Error(W(327));var n=t.callbackNode;if(Ra()&&t.callbackNode!==n)return null;var r=xh(t,t===Ut?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fh(t,r);else{e=r;var s=Ce;Ce|=2;var i=j4();(Ut!==t||Jt!==e)&&(_s=null,Ya=vt()+500,fo(t,e));do try{mR();break}catch(a){D4(t,a)}while(!0);y1(),Dh.current=i,Ce=s,It!==null?e=0:(Ut=null,Jt=0,e=Pt)}if(e!==0){if(e===2&&(s=lm(t),s!==0&&(r=s,e=Dm(t,s))),e===1)throw n=Kc,fo(t,0),Ys(t,r),Dn(t,vt()),n;if(e===6)Ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!fR(s)&&(e=Fh(t,r),e===2&&(i=lm(t),i!==0&&(r=i,e=Dm(t,i))),e===1))throw n=Kc,fo(t,0),Ys(t,r),Dn(t,vt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:qi(t,Rn,_s);break;case 3:if(Ys(t,r),(r&130023424)===r&&(e=P1+500-vt(),10<e)){if(xh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gm(qi.bind(null,t,Rn,_s),e);break}qi(t,Rn,_s);break;case 4:if(Ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Dr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hR(r/1960))-r,10<r){t.timeoutHandle=gm(qi.bind(null,t,Rn,_s),r);break}qi(t,Rn,_s);break;case 5:qi(t,Rn,_s);break;default:throw Error(W(329))}}}return Dn(t,vt()),t.callbackNode===n?M4.bind(null,t):null}function Dm(t,e){var n=_c;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=Fh(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&jm(e)),t}function jm(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function fR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~N1,e&=~H0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function Iw(t){if(Ce&6)throw Error(W(327));Ra();var e=xh(t,0);if(!(e&1))return Dn(t,vt()),null;var n=Fh(t,e);if(t.tag!==0&&n===2){var r=lm(t);r!==0&&(e=r,n=Dm(t,r))}if(n===1)throw n=Kc,fo(t,0),Ys(t,e),Dn(t,vt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,Rn,_s),Dn(t,vt()),null}function L1(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Ya=vt()+500,V0&&Pi())}}function To(t){si!==null&&si.tag===0&&!(Ce&6)&&Ra();var e=Ce;Ce|=1;var n=fr.transition,r=Le;try{if(fr.transition=null,Le=1,t)return t()}finally{Le=r,fr.transition=n,Ce=e,!(Ce&6)&&Pi()}}function O1(){Un=va.current,nt(va)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BA(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(p1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:Ka(),nt(On),nt(yn),C1();break;case 5:E1(r);break;case 4:Ka();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:v1(r.type._context);break;case 22:case 23:O1()}n=n.return}if(Ut=t,It=t=mi(t.current,null),Jt=Un=e,Pt=0,Kc=null,N1=H0=Co=0,Rn=_c=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zi=null}return t}function D4(t,e){do{var n=It;try{if(y1(),Xd.current=Mh,Oh){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oh=!1}if(Eo=0,jt=Nt=at=null,yc=!1,Hc=0,k1.current=null,n===null||n.return===null){Pt=1,Kc=e,It=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=hw(o);if(p!==null){p.flags&=-257,fw(p,o,a,i,e),p.mode&1&&dw(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){dw(i,c,e),M1();break e}l=Error(W(426))}}else if(it&&a.mode&1){var _=hw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),fw(_,o,a,i,e),m1(Qa(l,a));break e}}i=l=Qa(l,a),Pt!==4&&(Pt=2),_c===null?_c=[i]:_c.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=_4(i,l,e);sw(i,g);break e;case 1:a=l;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fi===null||!fi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=w4(i,a,e);sw(i,I);break e}}i=i.return}while(i!==null)}F4(n)}catch(R){e=R,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function j4(){var t=Dh.current;return Dh.current=Mh,t===null?Mh:t}function M1(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ut===null||!(Co&268435455)&&!(H0&268435455)||Ys(Ut,Jt)}function Fh(t,e){var n=Ce;Ce|=2;var r=j4();(Ut!==t||Jt!==e)&&(_s=null,fo(t,e));do try{pR();break}catch(s){D4(t,s)}while(!0);if(y1(),Ce=n,Dh.current=r,It!==null)throw Error(W(261));return Ut=null,Jt=0,Pt}function pR(){for(;It!==null;)$4(It)}function mR(){for(;It!==null&&!U9();)$4(It)}function $4(t){var e=V4(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?F4(t):It=e,k1.current=null}function F4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lR(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,It=null;return}}else if(n=aR(n,e,Un),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Pt===0&&(Pt=5)}function qi(t,e,n){var r=Le,s=fr.transition;try{fr.transition=null,Le=1,gR(t,e,n,r)}finally{fr.transition=s,Le=r}return null}function gR(t,e,n,r){do Ra();while(si!==null);if(Ce&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Y9(t,i),t===Ut&&(It=Ut=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,z4(wh,function(){return Ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fr.transition,fr.transition=null;var o=Le;Le=1;var a=Ce;Ce|=4,k1.current=null,uR(t,n),L4(n,t),DA(pm),Eh=!!fm,pm=fm=null,t.current=n,dR(n),V9(),Ce=a,Le=o,fr.transition=i}else t.current=n;if(Id&&(Id=!1,si=t,$h=s),i=t.pendingLanes,i===0&&(fi=null),W9(n.stateNode),Dn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(jh)throw jh=!1,t=Om,Om=null,t;return $h&1&&t.tag!==0&&Ra(),i=t.pendingLanes,i&1?t===Mm?wc++:(wc=0,Mm=t):wc=0,Pi(),null}function Ra(){if(si!==null){var t=vE($h),e=fr.transition,n=Le;try{if(fr.transition=null,Le=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,$h=0,Ce&6)throw Error(W(331));var s=Ce;for(Ce|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:vc(8,u,i)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var h=u.sibling,p=u.return;if(k4(u),u===c){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,J=g;break e}J=i.return}}var v=t.current;for(J=v;J!==null;){o=J;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,J=w;else e:for(o=v;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:W0(9,a)}}catch(R){ht(a,a.return,R)}if(a===o){J=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,J=I;break e}J=a.return}}if(Ce=s,Pi(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(D0,t)}catch{}r=!0}return r}finally{Le=n,fr.transition=e}}return!1}function Sw(t,e,n){e=Qa(n,e),e=_4(t,e,1),t=hi(t,e,1),e=Tn(),t!==null&&(bu(t,1,e),Dn(t,e))}function ht(t,e,n){if(t.tag===3)Sw(t,t,n);else for(;e!==null;){if(e.tag===3){Sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){t=Qa(n,t),t=w4(e,t,1),e=hi(e,t,1),t=Tn(),e!==null&&(bu(e,1,t),Dn(e,t));break}}e=e.return}}function yR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Jt&n)===n&&(Pt===4||Pt===3&&(Jt&130023424)===Jt&&500>vt()-P1?fo(t,0):N1|=n),Dn(t,e)}function U4(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=Tn();t=Ps(t,e),t!==null&&(bu(t,e,n),Dn(t,n))}function vR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),U4(t,n)}function _R(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),U4(t,n)}var V4;V4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,oR(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,it&&e.flags&1048576&&WE(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zd(t,e),t=e.pendingProps;var s=Ha(e,yn.current);Aa(e,n),s=I1(null,e,r,t,s,n);var i=S1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(i=!0,bh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,w1(e),s.updater=z0,e.stateNode=s,s._reactInternals=e,Cm(e,r,t,n),e=Sm(null,e,r,!0,i,n)):(e.tag=0,it&&i&&f1(e),En(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xR(r),t=Nr(r,t),s){case 0:e=Im(null,e,r,t,n);break e;case 1:e=gw(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=mw(null,e,r,Nr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),Im(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),gw(t,e,r,s,n);case 3:e:{if(T4(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,KE(t,e),Ph(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qa(Error(W(423)),e),e=yw(t,e,r,n,s);break e}else if(r!==s){s=Qa(Error(W(424)),e),e=yw(t,e,r,n,s);break e}else for(zn=di(e.stateNode.containerInfo.firstChild),qn=e,it=!0,Lr=null,n=JE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),r===s){e=Ls(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return ZE(e),t===null&&wm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mm(r,s)?o=null:i!==null&&mm(r,i)&&(e.flags|=32),C4(t,e),En(t,e,o,n),e.child;case 6:return t===null&&wm(e),null;case 13:return I4(t,e,n);case 4:return x1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),pw(t,e,r,s,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Qe(kh,r._currentValue),r._currentValue=o,i!==null)if(Fr(i.value,o)){if(i.children===s.children&&!On.current){e=Ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=As(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}En(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Aa(e,n),s=gr(s),r=r(s),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,s=Nr(r,e.pendingProps),s=Nr(r.type,s),mw(t,e,r,s,n);case 15:return x4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nr(r,s),Zd(t,e),e.tag=1,Mn(r)?(t=!0,bh(e)):t=!1,Aa(e,n),YE(e,r,s),Cm(e,r,s,n),Sm(null,e,r,!0,t,n);case 19:return S4(t,e,n);case 22:return E4(t,e,n)}throw Error(W(156,e.tag))};function z4(t,e){return pE(t,e)}function wR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,e,n,r){return new wR(t,e,n,r)}function D1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xR(t){if(typeof t=="function")return D1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t1)return 11;if(t===n1)return 14}return 2}function mi(t,e){var n=t.alternate;return n===null?(n=dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")D1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case la:return po(n.children,s,i,e);case e1:o=8,s|=8;break;case Gp:return t=dr(12,n,e,s|2),t.elementType=Gp,t.lanes=i,t;case Kp:return t=dr(13,n,e,s),t.elementType=Kp,t.lanes=i,t;case Qp:return t=dr(19,n,e,s),t.elementType=Qp,t.lanes=i,t;case Xx:return q0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qx:o=10;break e;case Yx:o=9;break e;case t1:o=11;break e;case n1:o=14;break e;case Gs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=dr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function po(t,e,n,r){return t=dr(7,t,r,e),t.lanes=n,t}function q0(t,e,n,r){return t=dr(22,t,r,e),t.elementType=Xx,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=dr(6,t,null,e),t.lanes=n,t}function op(t,e,n){return e=dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ER(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U2(0),this.expirationTimes=U2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function j1(t,e,n,r,s,i,o,a,l){return t=new ER(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w1(i),t}function CR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B4(t){if(!t)return Ci;t=t._reactInternals;e:{if($o(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Mn(n))return zE(t,n,e)}return e}function W4(t,e,n,r,s,i,o,a,l){return t=j1(n,r,!0,t,s,i,o,a,l),t.context=B4(null),n=t.current,r=Tn(),s=pi(n),i=As(r,s),i.callback=e??null,hi(n,i,s),t.current.lanes=s,bu(t,s,r),Dn(t,r),t}function G0(t,e,n,r){var s=e.current,i=Tn(),o=pi(s);return n=B4(n),e.context===null?e.context=n:e.pendingContext=n,e=As(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(s,e,o),t!==null&&(jr(t,s,o,i),Yd(t,s,o)),o}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $1(t,e){bw(t,e),(t=t.alternate)&&bw(t,e)}function TR(){return null}var H4=typeof reportError=="function"?reportError:function(t){console.error(t)};function F1(t){this._internalRoot=t}K0.prototype.render=F1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));G0(t,e,null,null)};K0.prototype.unmount=F1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){G0(null,t,null,null)}),e[Ns]=null}};function K0(t){this._internalRoot=t}K0.prototype.unstable_scheduleHydration=function(t){if(t){var e=xE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qs.length&&e!==0&&e<Qs[n].priority;n++);Qs.splice(n,0,t),n===0&&CE(t)}};function U1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function IR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Uh(o);i.call(c)}}var o=W4(e,r,t,0,null,!1,!1,"",Aw);return t._reactRootContainer=o,t[Ns]=o.current,Uc(t.nodeType===8?t.parentNode:t),To(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Uh(l);a.call(c)}}var l=j1(t,0,!1,null,null,!1,!1,"",Aw);return t._reactRootContainer=l,t[Ns]=l.current,Uc(t.nodeType===8?t.parentNode:t),To(function(){G0(e,l,n,r)}),l}function Y0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Uh(o);a.call(l)}}G0(e,o,t,s)}else o=IR(n,e,t,s,r);return Uh(o)}_E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(i1(e,n|1),Dn(e,vt()),!(Ce&6)&&(Ya=vt()+500,Pi()))}break;case 13:To(function(){var r=Ps(t,1);if(r!==null){var s=Tn();jr(r,t,1,s)}}),$1(t,1)}};o1=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=Tn();jr(e,t,134217728,n)}$1(t,134217728)}};wE=function(t){if(t.tag===13){var e=pi(t),n=Ps(t,e);if(n!==null){var r=Tn();jr(n,t,e,r)}$1(t,e)}};xE=function(){return Le};EE=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};im=function(t,e,n){switch(e){case"input":if(Jp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=U0(r);if(!s)throw Error(W(90));Zx(r),Jp(r,s)}}}break;case"textarea":tE(t,n);break;case"select":e=n.value,e!=null&&Ta(t,!!n.multiple,e,!1)}};lE=L1;cE=To;var SR={usingClientEntryPoint:!1,Events:[Ru,ha,U0,oE,aE,L1]},Vl={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bR={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hE(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||TR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{D0=Sd.inject(bR),rs=Sd}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U1(e))throw Error(W(200));return CR(t,e,null,n)};Zn.createRoot=function(t,e){if(!U1(t))throw Error(W(299));var n=!1,r="",s=H4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=j1(t,1,!1,null,null,n,!1,r,s),t[Ns]=e.current,Uc(t.nodeType===8?t.parentNode:t),new F1(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=hE(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return To(t)};Zn.hydrate=function(t,e,n){if(!Q0(e))throw Error(W(200));return Y0(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!U1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=H4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=W4(e,null,t,1,n??null,s,!1,i,o),t[Ns]=e.current,Uc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new K0(e)};Zn.render=function(t,e,n){if(!Q0(e))throw Error(W(200));return Y0(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!Q0(t))throw Error(W(40));return t._reactRootContainer?(To(function(){Y0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};Zn.unstable_batchedUpdates=L1;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Q0(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Y0(t,e,n,!1,r)};Zn.version="18.2.0-next-9e3b772b8-20220608";function q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q4)}catch(t){console.error(t)}}q4(),Wx.exports=Zn;var AR=Wx.exports,Rw=AR;Hp.createRoot=Rw.createRoot,Hp.hydrateRoot=Rw.hydrateRoot;const RR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",kR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",NR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",PR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",LR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",OR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",MR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",DR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",jR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",$R="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",FR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",UR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",VR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",zR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",BR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",WR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",HR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",qR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",GR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",KR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",QR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",YR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",XR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",JR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",ZR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",e8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",t8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",n8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",r8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",s8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",i8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",o8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",a8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",l8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",c8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",u8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",d8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",h8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",f8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",p8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",m8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",g8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",y8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",v8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",_8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",w8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",x8="/assets/dark-i8sdGySW.svg",E8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",C8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",T8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",I8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",S8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",b8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",A8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",R8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",k8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",N8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",P8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",L8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",O8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",M8={link:N8,reply:O8,sendLetter:P8,sendingLetter:L8,deleteIcon:R8,editPencil:k8,moreOption:A8,download:E8,offline:S8,online:b8,chat:I8,notification:T8,file:C8,light:w8,dark:x8,upload:_8,trueIcon:RR,falseIcon:kR,error:NR,down:PR,back:LR,thumbUp:OR,redo:MR,next:DR,finish:jR,history:$R,trash:FR,add:UR,edit:VR,save:zR,up:BR,clipboard:WR,admin:HR,menu:qR,home:GR,result:KR,help:QR,about:YR,update:XR,faq:JR,plus:ZR,minus:e8,share:t8,review:n8,fullScreen:r8,search:s8,searchLeft:i8,close:o8,copy:a8,google:l8,refresh:c8,exit:u8,exam:d8,like:h8,liked:f8,comment:p8,send:m8,logout:g8,user:y8,image:v8};function de(t){return M8[t]||null}const Ve=({data:t})=>{const{clickFn:e,image:n}=t,r=de(n),{theme:s}=T.useContext(Z),i=()=>{e&&e()};return f.jsx("button",{onClick:i,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${s==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};function D8(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let kw;function j8(t){t(!0),clearTimeout(kw),kw=setTimeout(()=>{t(!1)},[4e3])}function jn(){scrollTo({top:0,behavior:"smooth"})}function to(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200,behavior:"smooth"})}function Yn(t){document.body.style.overflow=t}function Fo(t,e){T.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function G4(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${ap(n,"hours")} ${ap(r,"minutes")} ${ap(s,"seconds")}`}catch{return null}}function ap(t,e){return t?`${t} ${e}`:""}function Nw(t){return t>=10?t:`0${t}`}const ze=({data:t})=>{const{clickFn:e,text:n,image:r}=t,s=de(r),{theme:i}=T.useContext(Z),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${i==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:s}),n&&f.jsx("span",{children:n})]})},Io=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s}=t,{theme:i}=T.useContext(Z),o=T.useRef(null);return Fo(o,s),T.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsx("div",{ref:o,className:`w-4/5 sm:w-3/5 md:w-2/5 min-h-40 grid gap-y-3 rounded-md items-center border  ${i==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:f.jsxs("div",{children:[f.jsx("div",{className:"text-center",children:r}),f.jsxs("div",{className:"flex justify-center mt-2 items-center gap-x-3 ",children:[f.jsx(ze,{data:{clickFn:e,image:"trueIcon",text:"Yes"}}),f.jsx(ze,{data:{clickFn:n,image:"falseIcon",text:"No"}})]})]})})})},$8=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=T.useContext(Z),[u,d]=T.useState(!1),h=()=>{a(),d(!1)},p=()=>{d(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(Ve,{data:{clickFn:()=>d(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),u&&f.jsx(Io,{data:{yesButton:h,noButton:p,text:"Are you sure to stop the test ?",setValue:d}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${s}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},F8=({data:t})=>{const{currentQuestions:e,chooseAnswer:n}=t,{answeredQuestions:r,theme:s}=T.useContext(Z);return f.jsx("div",{children:e.map((i,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${s==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:i.id}),f.jsx("div",{className:"flex-1 font-padauk",children:i.question})]}),f.jsx("div",{className:"grid gap-y-2",children:i.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{i.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(i.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${s==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(i.id,a)},className:"h-5 w-5",name:`question-${i.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${i.id}-${l}-${a}`)})})]}),f.jsx(U8,{})]},`question-${i.id}-${o}-${i.question}`))})},U8=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),V8=()=>(T.useContext(Z),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:de("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ii||(ii={}));const Pw="popstate";function z8(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Uo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$m("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Vh(i))}function r(s,i){X0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return W8(e,n,r,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B8(){return Math.random().toString(36).substr(2,8)}function Lw(t,e){return{usr:t.state,key:t.key,idx:e}}function $m(t,e,n,r){return n===void 0&&(n=null),Qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uo(e):e,{state:n,key:e&&e.key||r||B8()})}function Vh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function W8(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ii.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Qc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ii.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:g})}function h(_,g){a=ii.Push;let v=$m(y.location,_,g);n&&n(v,_),c=u()+1;let w=Lw(v,c),I=y.createHref(v);try{o.pushState(w,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function p(_,g){a=ii.Replace;let v=$m(y.location,_,g);n&&n(v,_),c=u();let w=Lw(v,c),I=y.createHref(v);o.replaceState(w,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function m(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:Vh(_);return bt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Pw,d),l=_,()=>{s.removeEventListener(Pw,d),l=null}},createHref(_){return e(s,_)},createURL:m,encodeLocation(_){let g=m(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(_){return o.go(_)}};return y}var Ow;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ow||(Ow={}));function H8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Uo(e):e,s=V1(r.pathname||"/",n);if(s==null)return null;let i=K4(t);q8(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=tk(i[a],sk(s));return o}function K4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=gi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),K4(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Z8(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Q4(i.path))s(i,o,l)}),e}function Q4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Q4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function q8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G8=/^:[\w-]+$/,K8=3,Q8=2,Y8=1,X8=10,J8=-2,Mw=t=>t==="*";function Z8(t,e){let n=t.split("/"),r=n.length;return n.some(Mw)&&(r+=J8),e&&(r+=Q8),n.filter(s=>!Mw(s)).reduce((s,i)=>s+(G8.test(i)?K8:i===""?Y8:X8),r)}function ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tk(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=nk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:gi([s,u.pathname]),pathnameBase:ck(gi([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=gi([s,u.pathnameBase]))}return i}function nk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=ik(m||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function rk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sk(t){try{return decodeURI(t)}catch(e){return X0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ik(t,e){try{return decodeURIComponent(t)}catch(n){return X0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function V1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ok(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Uo(t):t;return{pathname:n?n.startsWith("/")?n:ak(n,e):e,search:uk(r),hash:dk(s)}}function ak(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y4(t,e){let n=lk(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X4(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Uo(t):(s=Qc({},t),bt(!s.pathname||!s.pathname.includes("?"),lp("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),lp("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),lp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=ok(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const gi=t=>t.join("/").replace(/\/\/+/g,"/"),ck=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J4=["post","put","patch","delete"];new Set(J4);const fk=["get",...J4];new Set(fk);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const z1=T.createContext(null),pk=T.createContext(null),Vo=T.createContext(null),J0=T.createContext(null),Li=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Z4=T.createContext(null);function mk(t,e){let{relative:n}=e===void 0?{}:e;Nu()||bt(!1);let{basename:r,navigator:s}=T.useContext(Vo),{hash:i,pathname:o,search:a}=tC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:gi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Nu(){return T.useContext(J0)!=null}function ml(){return Nu()||bt(!1),T.useContext(J0).location}function eC(t){T.useContext(Vo).static||T.useLayoutEffect(t)}function tr(){let{isDataRoute:t}=T.useContext(Li);return t?Ak():gk()}function gk(){Nu()||bt(!1);let t=T.useContext(z1),{basename:e,future:n,navigator:r}=T.useContext(Vo),{matches:s}=T.useContext(Li),{pathname:i}=ml(),o=JSON.stringify(Y4(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return eC(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=X4(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:gi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function B1(){let{matches:t}=T.useContext(Li),e=t[t.length-1];return e?e.params:{}}function tC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Vo),{matches:s}=T.useContext(Li),{pathname:i}=ml(),o=JSON.stringify(Y4(s,r.v7_relativeSplatPath));return T.useMemo(()=>X4(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function yk(t,e){return vk(t,e)}function vk(t,e,n,r){Nu()||bt(!1);let{navigator:s}=T.useContext(Vo),{matches:i}=T.useContext(Li),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ml(),u;if(e){var d;let _=typeof e=="string"?Uo(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||bt(!1),u=_}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=H8(t,{pathname:p}),y=Ck(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:gi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:gi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&y?T.createElement(J0.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ii.Pop}},y):y}function _k(){let t=bk(),e=hk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const wk=T.createElement(_k,null);class xk extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Li.Provider,{value:this.props.routeContext},T.createElement(Z4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ek(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(z1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Li.Provider,{value:e},r)}function Ck(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||bt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||wk,l&&(c<0&&h===0?(Rk("route-fallback",!1),m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),v=()=>{let w;return p?w=y:m?w=_:d.route.Component?w=T.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,T.createElement(Ek,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(xk,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var nC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nC||{}),zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zh||{});function Tk(t){let e=T.useContext(z1);return e||bt(!1),e}function Ik(t){let e=T.useContext(pk);return e||bt(!1),e}function Sk(t){let e=T.useContext(Li);return e||bt(!1),e}function rC(t){let e=Sk(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function bk(){var t;let e=T.useContext(Z4),n=Ik(zh.UseRouteError),r=rC(zh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ak(){let{router:t}=Tk(nC.UseNavigateStable),e=rC(zh.UseNavigateStable),n=T.useRef(!1);return eC(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yc({fromRouteId:e},i)))},[t,e])}const Dw={};function Rk(t,e,n){!e&&!Dw[t]&&(Dw[t]=!0)}function xn(t){bt(!1)}function kk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ii.Pop,navigator:i,static:o=!1,future:a}=t;Nu()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:o,future:Yc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Uo(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=T.useMemo(()=>{let _=V1(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:s}},[l,u,d,h,p,m,s]);return y==null?null:T.createElement(Vo.Provider,{value:c},T.createElement(J0.Provider,{children:n,value:y}))}function Nk(t){let{children:e,location:n}=t;return yk(Fm(e),n)}new Promise(()=>{});function Fm(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Fm(r.props.children,i));return}r.type!==xn&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}function Pk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ok(t,e){return t.button===0&&(!e||e==="_self")&&!Lk(t)}const Mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Dk="6";try{window.__reactRouterVersion=Dk}catch{}const jk="startTransition",jw=Wp[jk];function $k(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=z8({window:s,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=T.useCallback(d=>{c&&jw?jw(()=>l(d)):l(d)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(kk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vk=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=Pk(e,Mk),{basename:p}=T.useContext(Vo),m,y=!1;if(typeof c=="string"&&Uk.test(c)&&(m=c,Fk))try{let w=new URL(window.location.href),I=c.startsWith("//")?new URL(w.protocol+c):new URL(c),R=V1(I.pathname,p);I.origin===w.origin&&R!=null?c=R+I.search+I.hash:y=!0}catch{}let _=mk(c,{relative:s}),g=zk(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function v(w){r&&r(w),w.defaultPrevented||g(w)}return T.createElement("a",Um({},h,{href:m||_,onClick:y||i?r:v,ref:n,target:l}))});var $w;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($w||($w={}));var Fw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fw||(Fw={}));function zk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=tr(),c=ml(),u=tC(t,{relative:o});return T.useCallback(d=>{if(Ok(d,n)){d.preventDefault();let h=r!==void 0?r:Vh(c)===Vh(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Bk(t,e,n){const r=e.name,s=Wk(t,e.quizzes),i=Hk(s),o=t.length,a=e.gradingRules.length!==0?qk(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=Gk(),c=Kk();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function Wk(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function Hk(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function qk(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function Gk(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function Kk(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}var Uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw gl(e)},gl=function(t){return new Error("Firebase Database ("+sC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Qk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},W1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new Yk;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oC=function(t){const e=iC(t);return W1.encodeByteArray(e,!0)},Bh=function(t){return oC(t).replace(/\./g,"")},Wh=function(t){try{return W1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){return aC(void 0,t)}function aC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Jk(n)||(t[n]=aC(t[n],e[n]));return t}function Jk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=()=>Zk().__FIREBASE_DEFAULTS__,t7=()=>{if(typeof process>"u"||typeof Uw>"u")return;const t=Uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wh(t[1]);return e&&JSON.parse(e)},Z0=()=>{try{return e7()||t7()||n7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lC=t=>{var e,n;return(n=(e=Z0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H1=t=>{const e=lC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cC=()=>{var t;return(t=Z0())===null||t===void 0?void 0:t.config},uC=t=>{var e;return(e=Z0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Bh(JSON.stringify(n)),Bh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function r7(){var t;const e=(t=Z0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i7(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hC(){return sC.NODE_ADMIN===!0}function o7(){return!r7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fC(){try{return typeof indexedDB=="object"}catch{return!1}}function a7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l7,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?c7(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ps(s,a,r)}}function c7(t,e){return t.replace(u7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const u7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){return JSON.parse(t)}function Yt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Xc(Wh(i[0])||""),n=Xc(Wh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},d7=function(t){const e=pC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h7=function(t){const e=pC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Vw(i)&&Vw(o)){if(!Jc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Vw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function p7(t,e){const n=new m7(t,e);return n.subscribe.bind(n)}class m7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cp),s.error===void 0&&(s.error=cp),s.complete===void 0&&(s.complete=cp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cp(){}function y7(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ef=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x7(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w7(t){return t===Gi?void 0:t}function x7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const C7={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},T7=pe.INFO,I7={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},S7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=I7[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tf{constructor(e){this.name=e,this._logLevel=T7,this._logHandler=S7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const b7=(t,e)=>e.some(n=>t instanceof n);let zw,Bw;function A7(){return zw||(zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R7(){return Bw||(Bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mC=new WeakMap,zm=new WeakMap,gC=new WeakMap,up=new WeakMap,Q1=new WeakMap;function k7(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(yi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mC.set(n,t)}).catch(()=>{}),Q1.set(e,t),e}function N7(t){if(zm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zm.set(t,e)}let Bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P7(t){Bm=t(Bm)}function L7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dp(this),e,...n);return gC.set(r,e.sort?e.sort():[e]),yi(r)}:R7().includes(t)?function(...e){return t.apply(dp(this),e),yi(mC.get(this))}:function(...e){return yi(t.apply(dp(this),e))}}function O7(t){return typeof t=="function"?L7(t):(t instanceof IDBTransaction&&N7(t),b7(t,A7())?new Proxy(t,Bm):t)}function yi(t){if(t instanceof IDBRequest)return k7(t);if(up.has(t))return up.get(t);const e=O7(t);return e!==t&&(up.set(t,e),Q1.set(e,t)),e}const dp=t=>Q1.get(t);function M7(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=yi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yi(o.result),l.oldVersion,l.newVersion,yi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const D7=["get","getKey","getAll","getAllKeys","count"],j7=["put","add","delete","clear"],hp=new Map;function Ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=j7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||D7.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return hp.set(e,i),i}P7(t=>({...t,get:(e,n,r)=>Ww(e,n)||t.get(e,n,r),has:(e,n)=>!!Ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",Hw="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new tf("@firebase/app"),U7="@firebase/app-compat",V7="@firebase/analytics-compat",z7="@firebase/analytics",B7="@firebase/app-check-compat",W7="@firebase/app-check",H7="@firebase/auth",q7="@firebase/auth-compat",G7="@firebase/database",K7="@firebase/database-compat",Q7="@firebase/functions",Y7="@firebase/functions-compat",X7="@firebase/installations",J7="@firebase/installations-compat",Z7="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",rN="@firebase/remote-config",sN="@firebase/remote-config-compat",iN="@firebase/storage",oN="@firebase/storage-compat",aN="@firebase/firestore",lN="@firebase/firestore-compat",cN="firebase",uN="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",dN={[Wm]:"fire-core",[U7]:"fire-core-compat",[z7]:"fire-analytics",[V7]:"fire-analytics-compat",[W7]:"fire-app-check",[B7]:"fire-app-check-compat",[H7]:"fire-auth",[q7]:"fire-auth-compat",[G7]:"fire-rtdb",[K7]:"fire-rtdb-compat",[Q7]:"fire-fn",[Y7]:"fire-fn-compat",[X7]:"fire-iid",[J7]:"fire-iid-compat",[Z7]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[rN]:"fire-rc",[sN]:"fire-rc-compat",[iN]:"fire-gcs",[oN]:"fire-gcs-compat",[aN]:"fire-fst",[lN]:"fire-fst-compat","fire-js":"fire-js",[cN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,qm=new Map;function hN(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(qm.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const n of qh.values())hN(n,t);return!0}function Lu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vi=new Pu("app","Firebase",fN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=uN;function yC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw vi.create("bad-app-name",{appName:String(s)});if(n||(n=cC()),!n)throw vi.create("no-options");const i=qh.get(s);if(i){if(Jc(n,i.options)&&Jc(r,i.config))return i;throw vi.create("duplicate-app",{appName:s})}const o=new E7(s);for(const l of qm.values())o.addComponent(l);const a=new pN(n,r,o);return qh.set(s,a),a}function nf(t=Hm){const e=qh.get(t);if(!e&&t===Hm&&cC())return yC();if(!e)throw vi.create("no-app",{appName:t});return e}function pr(t,e,n){var r;let s=(r=dN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}Ti(new Os(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="firebase-heartbeat-database",gN=1,Zc="firebase-heartbeat-store";let fp=null;function vC(){return fp||(fp=M7(mN,gN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),fp}async function yN(t){try{const n=(await vC()).transaction(Zc),r=await n.objectStore(Zc).get(_C(t));return await n.done,r}catch(e){if(e instanceof ps)So.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function qw(t,e){try{const r=(await vC()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,_C(t)),await r.done}catch(n){if(n instanceof ps)So.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(r.message)}}}function _C(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1024,_N=30*24*60*60*1e3;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_N}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gw(),{heartbeatsToSend:r,unsentEntries:s}=xN(this._heartbeatsCache.heartbeats),i=Bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Gw(){return new Date().toISOString().substring(0,10)}function xN(t,e=vN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Kw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Kw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fC()?a7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kw(t){return Bh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){Ti(new Os("platform-logger",e=>new $7(e),"PRIVATE")),Ti(new Os("heartbeat",e=>new wN(e),"PRIVATE")),pr(Wm,Hw,t),pr(Wm,Hw,"esm2017"),pr("fire-js","")}CN("");var TN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,Y1=Y1||{},le=TN||self;function rf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ou(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function IN(t){return Object.prototype.hasOwnProperty.call(t,pp)&&t[pp]||(t[pp]=++SN)}var pp="closure_uid_"+(1e9*Math.random()>>>0),SN=0;function bN(t,e,n){return t.call.apply(t.bind,arguments)}function AN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function pn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pn=bN:pn=AN,pn.apply(null,arguments)}function bd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Mi(){this.s=this.s,this.o=this.o}var RN=0;Mi.prototype.s=!1;Mi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),RN!=0)&&IN(this)};Mi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function X1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Qw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function mn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var kN=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function eu(t){return/^[\s\xa0]*$/.test(t)}function sf(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function Jr(t){return sf().indexOf(t)!=-1}function J1(t){return J1[" "](t),t}J1[" "]=function(){};function NN(t,e){var n=CP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var PN=Jr("Opera"),Ja=Jr("Trident")||Jr("MSIE"),xC=Jr("Edge"),Gm=xC||Ja,EC=Jr("Gecko")&&!(sf().toLowerCase().indexOf("webkit")!=-1&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),LN=sf().toLowerCase().indexOf("webkit")!=-1&&!Jr("Edge");function CC(){var t=le.document;return t?t.documentMode:void 0}var Km;e:{var mp="",gp=function(){var t=sf();if(EC)return/rv:([^\);]+)(\)|;)/.exec(t);if(xC)return/Edge\/([\d\.]+)/.exec(t);if(Ja)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LN)return/WebKit\/(\S+)/.exec(t);if(PN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gp&&(mp=gp?gp[1]:""),Ja){var yp=CC();if(yp!=null&&yp>parseFloat(mp)){Km=String(yp);break e}}Km=mp}var Qm;if(le.document&&Ja){var Yw=CC();Qm=Yw||parseInt(Km,10)||void 0}else Qm=void 0;var ON=Qm;function tu(t,e){if(mn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EC){e:{try{J1(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:MN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&tu.$.h.call(this)}}Bt(tu,mn);var MN={2:"touch",3:"pen",4:"mouse"};tu.prototype.h=function(){tu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mu="closure_listenable_"+(1e6*Math.random()|0),DN=0;function jN(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++DN,this.fa=this.ia=!1}function of(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Z1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $N(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function TC(t){const e={};for(const n in t)e[n]=t[n];return e}const Xw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Xw.length;i++)n=Xw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function af(t){this.src=t,this.g={},this.h=0}af.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Xm(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new jN(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Ym(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=wC(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(of(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Xm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var ey="closure_lm_"+(1e6*Math.random()|0),vp={};function SC(t,e,n,r,s){if(r&&r.once)return AC(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)SC(t,e[i],n,r,s);return null}return n=ry(n),t&&t[Mu]?t.O(e,n,Ou(r)?!!r.capture:!!r,s):bC(t,e,n,!1,r,s)}function bC(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Ou(s)?!!s.capture:!!s,a=ny(t);if(a||(t[ey]=a=new af(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=FN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kN||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(kC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FN(){function t(n){return e.call(t.src,t.listener,n)}const e=UN;return t}function AC(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)AC(t,e[i],n,r,s);return null}return n=ry(n),t&&t[Mu]?t.P(e,n,Ou(r)?!!r.capture:!!r,s):bC(t,e,n,!0,r,s)}function RC(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)RC(t,e[i],n,r,s);else r=Ou(r)?!!r.capture:!!r,n=ry(n),t&&t[Mu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Xm(i,n,r,s),-1<n&&(of(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=ny(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xm(e,n,r,s)),(n=-1<t?e[t]:null)&&ty(n))}function ty(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Mu])Ym(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ny(e))?(Ym(n,t),n.h==0&&(n.src=null,e[ey]=null)):of(t)}}}function kC(t){return t in vp?vp[t]:vp[t]="on"+t}function UN(t,e){if(t.fa)t=!0;else{e=new tu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ty(t),t=n.call(r,e)}return t}function ny(t){return t=t[ey],t instanceof af?t:null}var _p="__closure_events_fn_"+(1e9*Math.random()>>>0);function ry(t){return typeof t=="function"?t:(t[_p]||(t[_p]=function(e){return t.handleEvent(e)}),t[_p])}function zt(){Mi.call(this),this.i=new af(this),this.S=this,this.J=null}Bt(zt,Mi);zt.prototype[Mu]=!0;zt.prototype.removeEventListener=function(t,e,n,r){RC(this,t,e,n,r)};function Zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new mn(e,t);else if(e instanceof mn)e.target=e.target||t;else{var s=e;e=new mn(r,t),IC(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ad(o,r,!0,e)&&s}if(o=e.g=t,s=Ad(o,r,!0,e)&&s,s=Ad(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ad(o,r,!1,e)&&s}zt.prototype.N=function(){if(zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)of(n[r]);delete t.g[e],t.h--}}this.J=null};zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ad(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ym(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var sy=le.JSON.stringify;class VN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function zN(){var t=iy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class BN{constructor(){this.h=this.g=null}add(e,n){const r=NC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var NC=new VN(()=>new WN,t=>t.reset());class WN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function HN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function qN(t){le.setTimeout(()=>{throw t},0)}let nu,ru=!1,iy=new BN,PC=()=>{const t=le.Promise.resolve(void 0);nu=()=>{t.then(GN)}};var GN=()=>{for(var t;t=zN();){try{t.h.call(t.g)}catch(n){qN(n)}var e=NC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ru=!1};function lf(t,e){zt.call(this),this.h=t||1,this.g=e||le,this.j=pn(this.qb,this),this.l=Date.now()}Bt(lf,zt);Y=lf.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zt(this,"tick"),this.ga&&(oy(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function oy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){lf.$.N.call(this),oy(this),delete this.g};function ay(t,e,n){if(typeof t=="function")n&&(t=pn(t,n));else if(t&&typeof t.handleEvent=="function")t=pn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function LC(t){t.g=ay(()=>{t.g=null,t.i&&(t.i=!1,LC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class KN extends Mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LC(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function su(t){Mi.call(this),this.h=t,this.g={}}Bt(su,Mi);var Jw=[];function OC(t,e,n,r){Array.isArray(n)||(n&&(Jw[0]=n.toString()),n=Jw);for(var s=0;s<n.length;s++){var i=SC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function MC(t){Z1(t.g,function(e,n){this.g.hasOwnProperty(n)&&ty(e)},t),t.g={}}su.prototype.N=function(){su.$.N.call(this),MC(this)};su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cf(){this.g=!0}cf.prototype.Ea=function(){this.g=!1};function QN(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function YN(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function _a(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+JN(t,n)+(r?" "+r:"")})}function XN(t,e){t.info(function(){return"TIMEOUT: "+e})}cf.prototype.info=function(){};function JN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return sy(n)}catch{return e}}var zo={},Zw=null;function uf(){return Zw=Zw||new zt}zo.Ta="serverreachability";function DC(t){mn.call(this,zo.Ta,t)}Bt(DC,mn);function iu(t){const e=uf();Zt(e,new DC(e))}zo.STAT_EVENT="statevent";function jC(t,e){mn.call(this,zo.STAT_EVENT,t),this.stat=e}Bt(jC,mn);function Cn(t){const e=uf();Zt(e,new jC(e,t))}zo.Ua="timingevent";function $C(t,e){mn.call(this,zo.Ua,t),this.size=e}Bt($C,mn);function Du(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var df={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ly(){}ly.prototype.h=null;function e3(t){return t.h||(t.h=t.i())}function UC(){}var ju={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cy(){mn.call(this,"d")}Bt(cy,mn);function uy(){mn.call(this,"c")}Bt(uy,mn);var Jm;function hf(){}Bt(hf,ly);hf.prototype.g=function(){return new XMLHttpRequest};hf.prototype.i=function(){return{}};Jm=new hf;function $u(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new su(this),this.P=ZN,t=Gm?125:void 0,this.V=new lf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VC}function VC(){this.i=null,this.g="",this.h=!1}var ZN=45e3,zC={},Zm={};Y=$u.prototype;Y.setTimeout=function(t){this.P=t};function eg(t,e,n){t.L=1,t.A=pf(Ms(e)),t.u=n,t.S=!0,BC(t,null)}function BC(t,e){t.G=Date.now(),Fu(t),t.B=Ms(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),XC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new VC,t.g=vT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new KN(pn(t.Pa,t,t.g),t.O)),OC(t.U,t.g,"readystatechange",t.nb),e=t.I?TC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),iu(),QN(t.j,t.v,t.B,t.m,t.W,t.u)}Y.nb=function(t){t=t.target;const e=this.M;e&&Zr(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const u=Zr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Gm||this.g&&(this.h.h||this.g.ja()||s3(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?iu(3):iu(2)),ff(this);var n=this.g.da();this.ca=n;t:if(WC(this)){var r=s3(this.g);t="";var s=r.length,i=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),xc(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,YN(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eu(a)){var c=a;break t}}c=null}if(n=c)_a(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tg(this,n);else{this.i=!1,this.s=3,Cn(12),no(this),xc(this);break e}}this.S?(HC(this,u,o),Gm&&this.i&&u==3&&(OC(this.U,this.V,"tick",this.mb),this.V.start())):(_a(this.j,this.m,o,null),tg(this,o)),u==4&&no(this),this.i&&!this.J&&(u==4?pT(this.l,this):(this.i=!1,Fu(this)))}else wP(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),no(this),xc(this)}}}catch{}finally{}};function WC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function HC(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=eP(t,n),s==Zm){e==4&&(t.s=4,Cn(14),r=!1),_a(t.j,t.m,null,"[Incomplete Response]");break}else if(s==zC){t.s=4,Cn(15),_a(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _a(t.j,t.m,s,null),tg(t,s);WC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gy(e),e.M=!0,Cn(11))):(_a(t.j,t.m,n,"[Invalid Chunked Response]"),no(t),xc(t))}Y.mb=function(){if(this.g){var t=Zr(this.g),e=this.g.ja();this.o<e.length&&(ff(this),HC(this,t,e),this.i&&t!=4&&Fu(this))}};function eP(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Zm:(n=Number(e.substring(n,r)),isNaN(n)?zC:(r+=1,r+n>e.length?Zm:(e=e.slice(r,r+n),t.o=r+n,e)))}Y.cancel=function(){this.J=!0,no(this)};function Fu(t){t.Y=Date.now()+t.P,qC(t,t.P)}function qC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Du(pn(t.lb,t),e)}function ff(t){t.C&&(le.clearTimeout(t.C),t.C=null)}Y.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(XN(this.j,this.B),this.L!=2&&(iu(),Cn(17)),no(this),this.s=2,xc(this)):qC(this,this.Y-t)};function xc(t){t.l.H==0||t.J||pT(t.l,t)}function no(t){ff(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,oy(t.V),MC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ng(n.i,t))){if(!t.K&&ng(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Qh(n),vf(n);else break e;my(n),Cn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Du(pn(n.ib,n),6e3));if(1>=eT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ro(n,11)}else if((t.K||n.g==t)&&Qh(n),!eu(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(dy(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,tt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=yT(r,r.J?r.pa:null,r.Y),o.K){tT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(ff(a),Fu(a)),r.g=o}else hT(r);0<n.j.length&&_f(n)}else c[0]!="stop"&&c[0]!="close"||ro(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ro(n,7):py(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}iu(4)}catch{}}function tP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(rf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function nP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(rf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function GC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(rf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=nP(t),r=tP(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var KC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function mo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mo){this.h=t.h,Gh(this,t.j),this.s=t.s,this.g=t.g,Kh(this,t.m),this.l=t.l;var e=t.i,n=new ou;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),t3(this,n),this.o=t.o}else t&&(e=String(t).match(KC))?(this.h=!1,Gh(this,e[1]||"",!0),this.s=ac(e[2]||""),this.g=ac(e[3]||"",!0),Kh(this,e[4]),this.l=ac(e[5]||"",!0),t3(this,e[6]||"",!0),this.o=ac(e[7]||"")):(this.h=!1,this.i=new ou(null,this.h))}mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lc(e,n3,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(lc(e,n3,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(lc(n,n.charAt(0)=="/"?oP:iP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lc(n,lP)),t.join("")};function Ms(t){return new mo(t)}function Gh(t,e,n){t.j=n?ac(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function t3(t,e,n){e instanceof ou?(t.i=e,cP(t.i,t.h)):(n||(e=lc(e,aP)),t.i=new ou(e,t.h))}function tt(t,e,n){t.i.set(e,n)}function pf(t){return tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ac(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var n3=/[#\/\?@]/g,iP=/[#\?:]/g,oP=/[#\?]/g,aP=/[#\?@]/g,lP=/#/g;function ou(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Di(t){t.g||(t.g=new Map,t.h=0,t.i&&rP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=ou.prototype;Y.add=function(t,e){Di(this),this.i=null,t=vl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function QC(t,e){Di(t),e=vl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function YC(t,e){return Di(t),e=vl(t,e),t.g.has(e)}Y.forEach=function(t,e){Di(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Y.ta=function(){Di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Y.Z=function(t){Di(this);let e=[];if(typeof t=="string")YC(this,t)&&(e=e.concat(this.g.get(vl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return Di(this),this.i=null,t=vl(this,t),YC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function XC(t,e,n){QC(t,e),0<n.length&&(t.i=null,t.g.set(vl(t,e),X1(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function vl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cP(t,e){e&&!t.j&&(Di(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(QC(this,r),XC(this,s,n))},t)),t.j=e}var uP=class{constructor(t,e){this.g=t,this.map=e}};function JC(t){this.l=t||dP,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dP=10;function ZC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function eT(t){return t.h?1:t.g?t.g.size:0}function ng(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function dy(t,e){t.g?t.g.add(e):t.h=e}function tT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}JC.prototype.cancel=function(){if(this.i=nT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function nT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return X1(t.i)}var hP=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function fP(){this.g=new hP}function pP(t,e,n){const r=n||"";try{GC(t,function(s,i){let o=s;Ou(s)&&(o=sy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function mP(t,e){const n=new cf;if(le.Image){const r=new Image;r.onload=bd(Rd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bd(Rd,n,r,"TestLoadImage: error",!1,e),r.onabort=bd(Rd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bd(Rd,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Rd(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function mf(t){this.l=t.ec||null,this.j=t.ob||!1}Bt(mf,ly);mf.prototype.g=function(){return new gf(this.l,this.j)};mf.prototype.i=function(t){return function(){return t}}({});function gf(t,e){zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bt(gf,zt);var hy=0;Y=gf.prototype;Y.open=function(t,e){if(this.readyState!=hy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,au(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uu(this)),this.readyState=hy};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function rT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Uu(this):au(this),this.readyState==3&&rT(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Uu(this))};Y.Ya=function(t){this.g&&(this.response=t,Uu(this))};Y.ka=function(){this.g&&Uu(this)};function Uu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,au(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function au(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var gP=le.JSON.parse;function ft(t){zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sT,this.L=this.M=!1}Bt(ft,zt);var sT="",yP=/^https?$/i,vP=["POST","PUT"];Y=ft.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jm.g(),this.C=this.u?e3(this.u):e3(Jm),this.g.onreadystatechange=pn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){r3(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=le.FormData&&t instanceof le.FormData,!(0<=wC(vP,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{aT(this),0<this.B&&((this.L=_P(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pn(this.ua,this)):this.A=ay(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){r3(this,i)}};function _P(t){return Ja&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof Y1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))};function r3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iT(t),yf(t)}function iT(t){t.F||(t.F=!0,Zt(t,"complete"),Zt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Zt(this,"complete"),Zt(this,"abort"),yf(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yf(this,!0)),ft.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?oT(this):this.kb())};Y.kb=function(){oT(this)};function oT(t){if(t.h&&typeof Y1<"u"&&(!t.C[1]||Zr(t)!=4||t.da()!=2)){if(t.v&&Zr(t)==4)ay(t.La,0,t);else if(Zt(t,"readystatechange"),Zr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(KC)[1]||null;!s&&le.self&&le.self.location&&(s=le.self.location.protocol.slice(0,-1)),r=!yP.test(s?s.toLowerCase():"")}n=r}if(n)Zt(t,"complete"),Zt(t,"success");else{t.m=6;try{var i=2<Zr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",iT(t)}}finally{yf(t)}}}}function yf(t,e){if(t.g){aT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function aT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Zr(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),gP(e)}};function s3(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case sT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function wP(t){const e={};t=(t.g&&2<=Zr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(eu(t[r]))continue;var n=HN(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}$N(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function lT(t){let e="";return Z1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tt(t,e,n))}function zl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cT(t){this.Ga=0,this.j=[],this.l=new cf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zl("baseRetryDelayMs",5e3,t),this.hb=zl("retryDelaySeedMs",1e4,t),this.eb=zl("forwardChannelMaxRetries",2,t),this.xa=zl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new JC(t&&t.concurrentRequestLimit),this.Ja=new fP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=cT.prototype;Y.ra=8;Y.H=1;function py(t){if(uT(t),t.H==3){var e=t.W++,n=Ms(t.I);if(tt(n,"SID",t.K),tt(n,"RID",e),tt(n,"TYPE","terminate"),Vu(t,n),e=new $u(t,t.l,e),e.L=2,e.A=pf(Ms(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=vT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fu(e)}gT(t)}function vf(t){t.g&&(gy(t),t.g.cancel(),t.g=null)}function uT(t){vf(t),t.u&&(le.clearTimeout(t.u),t.u=null),Qh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function _f(t){if(!ZC(t.i)&&!t.m){t.m=!0;var e=t.Na;nu||PC(),ru||(nu(),ru=!0),iy.add(e,t),t.C=0}}function xP(t,e){return eT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Du(pn(t.Na,t,e),mT(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new $u(this,this.l,t);let i=this.s;if(this.U&&(i?(i=TC(i),IC(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=dT(this,s,e),n=Ms(this.I),tt(n,"RID",t),tt(n,"CVER",22),this.F&&tt(n,"X-HTTP-Session-Id",this.F),Vu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(lT(i)))+"&"+e:this.o&&fy(n,this.o,i)),dy(this.i,s),this.bb&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",e),tt(n,"SID","null"),s.aa=!0,eg(s,n,null)):eg(s,n,e),this.H=2}}else this.H==3&&(t?i3(this,t):this.j.length==0||ZC(this.i)||i3(this))};function i3(t,e){var n;e?n=e.m:n=t.W++;const r=Ms(t.I);tt(r,"SID",t.K),tt(r,"RID",n),tt(r,"AID",t.V),Vu(t,r),t.o&&t.s&&fy(r,t.o,t.s),n=new $u(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=dT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dy(t.i,n),eg(n,r,e)}function Vu(t,e){t.na&&Z1(t.na,function(n,r){tt(e,r,n)}),t.h&&GC({},function(n,r){tt(e,r,n)})}function dT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?pn(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{pP(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function hT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nu||PC(),ru||(nu(),ru=!0),iy.add(e,t),t.A=0}}function my(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Du(pn(t.Ma,t),mT(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,fT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Du(pn(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),vf(this),fT(this))};function gy(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function fT(t){t.g=new $u(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ms(t.wa);tt(e,"RID","rpc"),tt(e,"SID",t.K),tt(e,"AID",t.V),tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tt(e,"TO",t.qa),tt(e,"TYPE","xmlhttp"),Vu(t,e),t.o&&t.s&&fy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=pf(Ms(e)),n.u=null,n.S=!0,BC(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,vf(this),my(this),Cn(19))};function Qh(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function pT(t,e){var n=null;if(t.g==e){Qh(t),gy(t),t.g=null;var r=2}else if(ng(t.i,e))n=e.F,tT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=uf(),Zt(r,new $C(r,n)),_f(t)}else hT(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&xP(t,e)||r==2&&my(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ro(t,5);break;case 4:ro(t,10);break;case 3:ro(t,6);break;default:ro(t,2)}}}function mT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ro(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=pn(t.pb,t);n||(n=new mo("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Gh(n,"https"),pf(n)),mP(n.toString(),r)}else Cn(2);t.H=0,t.h&&t.h.za(e),gT(t),uT(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))};function gT(t){if(t.H=0,t.ma=[],t.h){const e=nT(t.i);(e.length!=0||t.j.length!=0)&&(Qw(t.ma,e),Qw(t.ma,t.j),t.i.i.length=0,X1(t.j),t.j.length=0),t.h.ya()}}function yT(t,e,n){var r=n instanceof mo?Ms(n):new mo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Kh(r,r.m);else{var s=le.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new mo(null);r&&Gh(i,r),e&&(i.g=e),s&&Kh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&tt(r,n,e),tt(r,"VER",t.ra),Vu(t,r),r}function vT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ft(new mf({ob:n})):new ft(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function _T(){}Y=_T.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Yh(){if(Ja&&!(10<=Number(ON)))throw Error("Environmental error: no available transport.")}Yh.prototype.g=function(t,e){return new Xn(t,e)};function Xn(t,e){zt.call(this),this.g=new cT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!eu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!eu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _l(this)}Bt(Xn,zt);Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yT(t,null,t.Y),_f(t)};Xn.prototype.close=function(){py(this.g)};Xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sy(t),t=n);e.j.push(new uP(e.fb++,t)),e.H==3&&_f(e)};Xn.prototype.N=function(){this.g.h=null,delete this.j,py(this.g),delete this.g,Xn.$.N.call(this)};function wT(t){cy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Bt(wT,cy);function xT(){uy.call(this),this.status=1}Bt(xT,uy);function _l(t){this.g=t}Bt(_l,_T);_l.prototype.Ba=function(){Zt(this.g,"a")};_l.prototype.Aa=function(t){Zt(this.g,new wT(t))};_l.prototype.za=function(t){Zt(this.g,new xT)};_l.prototype.ya=function(){Zt(this.g,"b")};function EP(){this.blockSize=-1}function Ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Bt(Ur,EP);Ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Ur.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)wp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){wp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){wp(this,r),s=0;break}}this.h=s,this.i+=e};Ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var CP={};function yy(t){return-128<=t&&128>t?NN(t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function es(t){if(isNaN(t)||!isFinite(t))return ka;if(0>t)return Qt(es(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rg;return new Me(e,0)}function ET(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qt(ET(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=es(Math.pow(e,8)),r=ka,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=es(Math.pow(e,i)),r=r.R(i).add(es(o))):(r=r.R(n),r=r.add(es(o)))}return r}var rg=4294967296,ka=yy(0),sg=yy(1),o3=yy(16777216);Y=Me.prototype;Y.ea=function(){if(ur(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rg+r)*e,e*=rg}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ts(this))return"0";if(ur(this))return"-"+Qt(this).toString(t);for(var e=es(Math.pow(t,6)),n=this,r="";;){var s=Jh(n,e).g;n=Xh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ts(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ts(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ur(t){return t.h==-1}Y.X=function(t){return t=Xh(this,t),ur(t)?-1:Ts(t)?0:1};function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(sg)}Y.abs=function(){return ur(this)?Qt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function Xh(t,e){return t.add(Qt(e))}Y.R=function(t){if(Ts(this)||Ts(t))return ka;if(ur(this))return ur(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(ur(t))return Qt(this.R(Qt(t)));if(0>this.X(o3)&&0>t.X(o3))return es(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,kd(n,2*r+2*s),n[2*r+2*s+1]+=i*l,kd(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,kd(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,kd(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function kd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bl(t,e){this.g=t,this.h=e}function Jh(t,e){if(Ts(e))throw Error("division by zero");if(Ts(t))return new Bl(ka,ka);if(ur(t))return e=Jh(Qt(t),e),new Bl(Qt(e.g),Qt(e.h));if(ur(e))return e=Jh(t,Qt(e)),new Bl(Qt(e.g),e.h);if(30<t.g.length){if(ur(t)||ur(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sg,r=e;0>=r.X(t);)n=a3(n),r=a3(r);var s=Xo(n,1),i=Xo(r,1);for(r=Xo(r,2),n=Xo(n,2);!Ts(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Xo(r,1),n=Xo(n,1)}return e=Xh(t,s.R(e)),new Bl(s,e)}for(s=ka;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=es(n),o=i.R(e);ur(o)||0<o.X(t);)n-=r,i=es(n),o=i.R(e);Ts(i)&&(i=sg),s=s.add(i),t=Xh(t,o)}return new Bl(s,t)}Y.gb=function(t){return Jh(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function a3(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Xo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Me(s,t.h)}Yh.prototype.createWebChannel=Yh.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;df.NO_ERROR=0;df.TIMEOUT=8;df.HTTP_ERROR=6;FC.COMPLETE="complete";UC.EventType=ju;ju.OPEN="a";ju.CLOSE="b";ju.ERROR="c";ju.MESSAGE="d";zt.prototype.listen=zt.prototype.O;ft.prototype.listenOnce=ft.prototype.P;ft.prototype.getLastError=ft.prototype.Sa;ft.prototype.getLastErrorCode=ft.prototype.Ia;ft.prototype.getStatus=ft.prototype.da;ft.prototype.getResponseJson=ft.prototype.Wa;ft.prototype.getResponseText=ft.prototype.ja;ft.prototype.send=ft.prototype.ha;ft.prototype.setWithCredentials=ft.prototype.Oa;Ur.prototype.digest=Ur.prototype.l;Ur.prototype.reset=Ur.prototype.reset;Ur.prototype.update=Ur.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=es;Me.fromString=ET;var TP=function(){return new Yh},IP=function(){return uf()},xp=df,SP=FC,bP=zo,l3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nd=UC,AP=ft,RP=Ur,Na=Me;const c3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new tf("@firebase/firestore");function Wl(){return bo.logLevel}function K(t,...e){if(bo.logLevel<=pe.DEBUG){const n=e.map(vy);bo.debug(`Firestore (${wl}): ${t}`,...n)}}function hs(t,...e){if(bo.logLevel<=pe.ERROR){const n=e.map(vy);bo.error(`Firestore (${wl}): ${t}`,...n)}}function Za(t,...e){if(bo.logLevel<=pe.WARN){const n=e.map(vy);bo.warn(`Firestore (${wl}): ${t}`,...n)}}function vy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+t;throw hs(e),new Error(e)}function Ye(t,e){t||ae()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class NP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PP{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new CT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new ln(e)}}class LP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new MP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=jP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function el(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Lt(0,0))}static max(){return new ce(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends lu{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const $P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends lu{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return $P.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ge.fromString(e))}static fromName(e){return new re(Ge.fromString(e).popFirst(5))}static empty(){return new re(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ge(e.slice()))}}function FP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Ii(s,re.empty(),e)}function UP(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(ce.min(),re.empty(),-1)}static max(){return new Ii(ce.max(),re.empty(),-1)}}function VP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==zP)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new is,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ec(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=wy(r.target.error);this.V.reject(new Ec(e,s))}}static open(e,n,r,s){try{return new _y(n,e.transaction(s,r))}catch(i){throw new Ec(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new HP(n)}}class so{constructor(e,n,r){this.name=e,this.version=n,this.p=r,so.S(At())===12.2&&hs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Qi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!fC())return!1;if(so.C())return!0;const e=At(),n=so.S(e),r=0<n&&n<10,s=so.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Ec(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new q(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new q(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ec(e,o))},s.onupgradeneeded=i=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=_y.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),B.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class WP{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Qi(this.k.delete())}}class Ec extends q{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Bu(t){return t.name==="IndexedDbTransactionError"}class HP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qi(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Qi(this.store.add(e))}get(e){return Qi(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Qi(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Qi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new B((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new B((r,s)=>{n.onerror=i=>{const o=wy(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new B((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new WP(a),c=n(a.primaryKey,a.value,l);if(c instanceof B){const u=c.catch(d=>(l.done(),B.reject(d)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Qi(t){return new B((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=wy(r.target.error);n(s)}})}let u3=!1;function wy(t){const e=so.S(At());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return u3||(u3=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}xy._e=-1;function wf(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function qP(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rt=class ig{constructor(e,n){this.comparator=e,this.root=n||_i.EMPTY}insert(e,n){return new ig(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new ig(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}},Pd=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_i=class vs{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vs.RED,this.left=s??vs.EMPTY,this.right=i??vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vs(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1;_i.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _i(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h3(this.data.getIterator())}getIteratorFrom(e){return new h3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class h3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ST("Invalid base64 string: "+i):i}}(e);return new vn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const GP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=GP.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ey(t){const e=t.mapValue.fields.__previous_value__;return xf(e)?Ey(e):e}function cu(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class uu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xf(t)?4:QP(t)?9007199254740991:10:ae()}function fs(t,e){if(t===e)return!0;const n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Si(s.timestampValue),a=Si(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ao(s.bytesValue).isEqual(Ao(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ct(s.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(s.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ct(s.integerValue)===Ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ct(s.doubleValue),a=Ct(i.doubleValue);return o===a?Zh(o)===Zh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(d3(o)!==d3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fs(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function du(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Ro(t),r=Ro(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ct(i.integerValue||i.doubleValue),l=Ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return f3(t.timestampValue,e.timestampValue);case 4:return f3(cu(t),cu(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ao(i),l=Ao(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Re(Ct(i.latitude),Ct(o.latitude));return a!==0?a:Re(Ct(i.longitude),Ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=tl(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ld.mapValue&&o===Ld.mapValue)return 0;if(i===Ld.mapValue)return 1;if(o===Ld.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const p=tl(a[l[d]],c[u[d]]);if(p!==0)return p}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ae()}}function f3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Si(t),r=Si(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function nl(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=og(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${og(n.fields[o])}`;return s+"}"}(t.mapValue):ae()}function e0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function Cy(t){return!!t&&"arrayValue"in t}function p3(t){return!!t&&"nullValue"in t}function m3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function Cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=Xt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Cc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nn(Cc(this.value))}}function bT(t){const e=[];return Bo(t.fields,(n,r)=>{const s=new Xt([n]);if(rh(r)){const i=bT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,ce.min(),ce.min(),ce.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new un(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new un(e,2,n,ce.min(),ce.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,ce.min(),ce.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.position=e,this.inclusive=n}}function g3(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=tl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function y3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function YP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class St extends AT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JP(e,n,r):n==="array-contains"?new tL(e,r):n==="in"?new nL(e,r):n==="not-in"?new rL(e,r):n==="array-contains-any"?new sL(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZP(e,r):new eL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tl(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends AT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Vr(e,n)}matches(e){return RT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function RT(t){return t.op==="and"}function kT(t){return XP(t)&&RT(t)}function XP(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function lg(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(kT(t))return t.filters.map(e=>lg(e)).join(",");{const e=t.filters.map(n=>lg(n)).join(",");return`${t.op}(${e})`}}function NT(t,e){return t instanceof St?function(r,s){return s instanceof St&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof Vr?function(r,s){return s instanceof Vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&NT(o,s.filters[a]),!0):!1}(t,e):void ae()}function PT(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(PT).join(" ,")+"}"}(t):"Filter"}class JP extends St{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZP extends St{constructor(e,n){super(e,"in",n),this.keys=LT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eL extends St{constructor(e,n){super(e,"not-in",n),this.keys=LT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class tL extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cy(n)&&du(n.arrayValue,this.value)}}class nL extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class rL extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!du(this.value.arrayValue,n)}}class sL extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function v3(t,e=null,n=[],r=[],s=null,i=null,o=null){return new iL(t,e,n,r,s,i,o)}function Ty(t){const e=ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nl(r)).join(",")),e.ce=n}return e.ce}function Iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y3(t.startAt,e.startAt)&&y3(t.endAt,e.endAt)}function cg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function oL(t,e,n,r,s,i,o,a){return new Wo(t,e,n,r,s,i,o,a)}function Ef(t){return new Wo(t)}function _3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sy(t){return t.collectionGroup!==null}function Pa(t){const e=ue(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(Xt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new hu(i,r))}),n.has(Xt.keyField().canonicalString())||e.le.push(new hu(Xt.keyField(),r))}return e.le}function os(t){const e=ue(t);return e.he||(e.he=aL(e,Pa(t))),e.he}function aL(t,e){if(t.limitType==="F")return v3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new hu(s.field,i)});const n=t.endAt?new rl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rl(t.startAt.position,t.startAt.inclusive):null;return v3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function t0(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return Iy(os(t),os(e))&&t.limitType===e.limitType}function OT(t){return`${Ty(os(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PT(s)).join(", ")}]`),wf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nl(s)).join(",")),`Target(${r})`}(os(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=g3(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Pa(r),s)||r.endAt&&!function(o,a,l){const c=g3(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Pa(r),s))}(t,e)}function lL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MT(t){return(e,n)=>{let r=!1;for(const s of Pa(t)){const i=cL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function cL(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?tl(l,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return IT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new Rt(re.comparator);function Ds(){return uL}const DT=new Rt(re.comparator);function cc(...t){let e=DT;for(const n of t)e=e.insert(n.key,n);return e}function jT(t){let e=DT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function io(){return Tc()}function $T(){return Tc()}function Tc(){return new xl(t=>t.toString(),(t,e)=>t.isEqual(e))}const dL=new Rt(re.comparator),hL=new en(re.comparator);function me(...t){let e=hL;for(const n of t)e=e.add(n);return e}const fL=new en(Re);function pL(){return fL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function mL(t,e){return qP(e)?UT(e):FT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function gL(t,e,n){return t instanceof fu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xf(i)&&(i=Ey(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof sl?zT(t,e):t instanceof pu?BT(t,e):function(s,i){const o=VT(s,i),a=w3(o)+w3(s.Ie);return ag(o)&&ag(s.Ie)?UT(a):FT(s.serializer,a)}(t,e)}function yL(t,e,n){return t instanceof sl?zT(t,e):t instanceof pu?BT(t,e):n}function VT(t,e){return t instanceof n0?function(r){return ag(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fu extends If{}class sl extends If{constructor(e){super(),this.elements=e}}function zT(t,e){const n=WT(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class pu extends If{constructor(e){super(),this.elements=e}}function BT(t,e){let n=WT(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class n0 extends If{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function w3(t){return Ct(t.integerValue||t.doubleValue)}function WT(t){return Cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.field=e,this.transform=n}}function vL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sl&&s instanceof sl||r instanceof pu&&s instanceof pu?el(r.elements,s.elements,fs):r instanceof n0&&s instanceof n0?fs(r.Ie,s.Ie):r instanceof fu&&s instanceof fu}(t.transform,e.transform)}class _L{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function qT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,mr.none()):new Wu(t.key,t.data,mr.none());{const n=t.data,r=Nn.empty();let s=new en(Xt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ji(t.key,r,new Bn(s.toArray()),mr.none())}}function wL(t,e,n){t instanceof Wu?function(s,i,o){const a=s.value.clone(),l=E3(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(s,i,o){if(!sh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=E3(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(GT(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof Wu?function(i,o,a,l){if(!sh(i.precondition,o))return a;const c=i.value.clone(),u=C3(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,o,a,l){if(!sh(i.precondition,o))return a;const c=C3(i.fieldTransforms,l,o),u=o.data;return u.setAll(GT(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return sh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function xL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=VT(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function x3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&el(r,s,(i,o)=>vL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends Sf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ji extends Sf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function E3(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,yL(o,a,n[s]))}return r}function C3(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,gL(i,o,e))}return r}class by extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EL extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$T();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=qT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>x3(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>x3(n,r))}}class Ay{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=function(){return dL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ay(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,we;function SL(t){switch(t){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function KT(t){if(t===void 0)return hs("GRPC error has no .code"),U.UNKNOWN;switch(t){case Et.OK:return U.OK;case Et.CANCELLED:return U.CANCELLED;case Et.UNKNOWN:return U.UNKNOWN;case Et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Et.INTERNAL:return U.INTERNAL;case Et.UNAVAILABLE:return U.UNAVAILABLE;case Et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Et.NOT_FOUND:return U.NOT_FOUND;case Et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Et.ABORTED:return U.ABORTED;case Et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Et.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(we=Et||(Et={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new Na([4294967295,4294967295],0);function T3(t){const e=bL().encode(t),n=new RP;return n.update(e),new Uint8Array(n.digest())}function I3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Na([n,r],0),new Na([s,i],0)]}class Ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(r<0)throw new uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Na.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Na.fromNumber(r)));return s.compare(AL)===1&&(s=new Na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=T3(e),[r,s]=I3(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ry(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=T3(e),[r,s]=I3(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(ce.min(),s,new Rt(Re),Ds(),me())}}class Hu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hu(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class QT{constructor(e,n){this.targetId=e,this.fe=n}}class YT{constructor(e,n,r=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class S3{constructor(){this.ge=0,this.pe=A3(),this.ye=vn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=me(),n=me(),r=me();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new Hu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=A3()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ye(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class RL{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ds(),this.Qe=b3(),this.Ke=new Rt(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(cg(i))if(r===0){const o=new re(i.path);this.We(n,o,un.newNoDocument(o,ce.min()))}else Ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ao(r).toUint8Array()}catch(l){if(l instanceof ST)return Za("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ry(o,s,i)}catch(l){return Za(l instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&cg(a.target)){const l=new re(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,un.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=me();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new bf(e,n,this.Ke,this.qe,r);return this.qe=Ds(),this.Qe=b3(),this.Ke=new Rt(Re),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new S3,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new en(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new S3),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function b3(){return new Rt(re.comparator)}function A3(){return new Rt(re.comparator)}const kL={asc:"ASCENDING",desc:"DESCENDING"},NL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PL={and:"AND",or:"OR"};class LL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function r0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OL(t,e){return r0(t,e.toTimestamp())}function as(t){return Ye(!!t),ce.fromTimestamp(function(n){const r=Si(n);return new Lt(r.seconds,r.nanos)}(t))}function ky(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(s){return new Ge(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JT(t){const e=Ge.fromString(t);return Ye(rI(e)),e}function fg(t,e){return ky(t.databaseId,e.path)}function Ep(t,e){const n=JT(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(eI(n))}function ZT(t,e){return ky(t.databaseId,e)}function ML(t){const e=JT(t);return e.length===4?Ge.emptyPath():eI(e)}function pg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eI(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R3(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function DL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ye(u===void 0||typeof u=="string"),vn.fromBase64String(u||"")):(Ye(u===void 0||u instanceof Uint8Array),vn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?U.UNKNOWN:KT(c.code);return new q(u,c.message||"")}(o);n=new YT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ep(t,r.document.name),i=as(r.document.updateTime),o=r.document.createTime?as(r.document.createTime):ce.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ih(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ep(t,r.document),i=r.readTime?as(r.readTime):ce.min(),o=un.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ih([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ep(t,r.document),i=r.removedTargetIds||[];n=new ih([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new IL(s,i),a=r.targetId;n=new QT(a,o)}}return n}function jL(t,e){let n;if(e instanceof Wu)n={update:R3(t,e.key,e.value)};else if(e instanceof by)n={delete:fg(t,e.key)};else if(e instanceof ji)n={update:R3(t,e.key,e.data),updateMask:qL(e.fieldMask)};else{if(!(e instanceof EL))return ae();n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof n0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:OL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function $L(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?as(s.updateTime):as(i);return o.isEqual(ce.min())&&(o=as(i)),new _L(o,s.transformResults||[])}(n,e))):[]}function FL(t,e){return{documents:[ZT(t,e.path)]}}function UL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZT(t,s);const i=function(c){if(c.length!==0)return nI(Vr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ia(h.field),direction:BL(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function VL(t){let e=ML(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const h=tI(d);return h instanceof Vr&&kT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new hu(oa(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,wf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new rl(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new rl(p,h)}(n.endAt)),oL(e,s,o,i,a,"F",l,c)}function zL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oa(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oa(n.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oa(n.unaryFilter.field);return St.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oa(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return St.create(oa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>tI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function BL(t){return kL[t]}function WL(t){return NL[t]}function HL(t){return PL[t]}function ia(t){return{fieldPath:t.canonicalString()}}function oa(t){return Xt.fromServerFormat(t.fieldPath)}function nI(t){return t instanceof St?function(n){if(n.op==="=="){if(m3(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(p3(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m3(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(p3(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:WL(n.op),value:n.value}}}(t):t instanceof Vr?function(n){const r=n.getFilters().map(s=>nI(s));return r.length===1?r[0]:{compositeFilter:{op:HL(n.op),filters:r}}}(t):ae()}function qL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=vn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.ct=e}}function KL(t){const e=VL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this._n=new YL}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ii.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class YL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(Ge.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new il(0)}static Ln(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.changes=new xl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ic(r.mutation,s,Bn.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=io();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ds();const o=Tc(),a=function(){return Tc()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof ji)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ic(u.mutation,c,u.mutation.getFieldMask(),Lt.now())):o.set(c.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new JL(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let s=new Rt((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Bn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=$T();u.forEach(h=>{if(!i.has(h)){const p=qT(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(io());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,me())).next(u=>({batchId:a,changes:jT(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=cc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cc();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(d,h){return new Wo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,un.newInvalidDocument(u)))});let a=cc();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Ic(u.mutation,c,Bn.empty(),Lt.now()),Tf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:as(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:KL(s.bundledQuery),readTime:as(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.overlays=new Rt(re.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=io();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=io(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Rt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=io(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=io(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TL(n,r));let i=this.hr.get(n);i===void 0&&(i=me(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Pr=new en(Dt.Ir),this.Tr=new en(Dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new re(new Ge([])),r=new Dt(n,e),s=new Dt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new re(new Ge([])),r=new Dt(n,e),s=new Dt(n,e+1);let i=me();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return re.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new en(Dt.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),s=new Dt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Re);return n.forEach(s=>{const i=new Dt(s,0),o=new Dt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new Dt(new re(i),0);let a=new en(Re);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,s=>{const i=new Dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Dt(n,0),s=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.vr=e,this.docs=function(){return new Rt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():un.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ds();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||VP(UP(u),r)<=0||(s.has(u.key)||Tf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sO(this)}getSize(e){return B.resolve(this.size)}}class sO extends XL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.persistence=e,this.Mr=new xl(n=>Ty(n),Iy),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ny,this.targetCount=0,this.Lr=il.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new il(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.Br={},this.overlays={},this.kr=new xy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new iO(this),this.indexManager=new QL,this.remoteDocumentCache=function(s){return new rO(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new GL(n),this.$r=new eO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new nO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new aO(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class aO extends BP{constructor(e){super(),this.currentSequenceNumber=e}}class Py{constructor(e){this.persistence=e,this.zr=new Ny,this.jr=null}static Hr(e){return new Py(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const s=re.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ly(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return o7()?8:so.v(At())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new lO;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Wl()<=pe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(Wl()<=pe.DEBUG&&K("QueryEngine","Query:",sa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Wl()<=pe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):B.resolve())}ji(e,n){if(_3(n))return B.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=t0(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,t0(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return _3(n)||s.isEqual(ce.min())?B.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?B.resolve(null):(Wl()<=pe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sa(n)),this.es(e,o,n,FP(s,-1)).next(a=>a))})}Zi(e,n){let r=new en(MT(e));return n.forEach((s,i)=>{Tf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Wl()<=pe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",sa(n)),this.zi.getDocumentsMatchingQuery(e,n,Ii.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Rt(Re),this.rs=new xl(i=>Ty(i),Iy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function dO(t,e,n,r){return new uO(t,e,n,r)}async function sI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function hO(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=B.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const _=c.docVersions.get(m);Ye(_!==null),y.version.compareTo(_)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function fO(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(vn.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(y,_,g){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=Ds(),c=me();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(pO(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(ce.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function pO(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ds();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function mO(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gO(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function mg(t,e,n){const r=ue(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Bu(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function k3(t,e,n){const r=ue(t);let s=ce.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ue(l),h=d.rs.get(u);return h!==void 0?B.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,os(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:me())).next(a=>(yO(r,lL(e),a),{documents:a,hs:i})))}function yO(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class N3{constructor(){this.activeTargetIds=pL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vO{constructor(){this.no=new N3,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new N3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function Cp(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class EO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Cp(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Za("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=wO[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Cp();return new Promise((o,a)=>{const l=new AP;l.setWithCredentials(!0),l.listenOnce(SP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xp.NO_ERROR:const u=l.getResponseJson();K(on,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case xp.TIMEOUT:K(on,`RPC '${e}' ${i} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const d=l.getStatus();if(K(on,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(g)>=0?g:U.UNKNOWN}(p.status);a(new q(m,p.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{K(on,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);K(on,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=Cp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TP(),a=IP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");K(on,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new xO({lo:_=>{p?K(on,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(h||(K(on,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),K(on,`RPC '${e}' stream ${s} sending:`,_),d.send(_))},ho:()=>d.close()}),y=(_,g,v)=>{_.listen(g,w=>{try{v(w)}catch(I){setTimeout(()=>{throw I},0)}})};return y(d,Nd.EventType.OPEN,()=>{p||K(on,`RPC '${e}' stream ${s} transport opened.`)}),y(d,Nd.EventType.CLOSE,()=>{p||(p=!0,K(on,`RPC '${e}' stream ${s} transport closed`),m.Vo())}),y(d,Nd.EventType.ERROR,_=>{p||(p=!0,Za(on,`RPC '${e}' stream ${s} transport errored:`,_),m.Vo(new q(U.UNAVAILABLE,"The operation could not be completed")))}),y(d,Nd.EventType.MESSAGE,_=>{var g;if(!p){const v=_.data[0];Ye(!!v);const w=v,I=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(I){K(on,`RPC '${e}' stream ${s} received error:`,I);const R=I.status;let E=function(x){const S=Et[x];if(S!==void 0)return KT(S)}(R),b=I.message;E===void 0&&(E=U.INTERNAL,b="Unknown error status: "+R+" with message "+I.message),p=!0,m.Vo(new q(E,b)),d.close()}else K(on,`RPC '${e}' stream ${s} received:`,v),m.mo(v)}}),y(a,bP.STAT_EVENT,_=>{_.stat===l3.PROXY?K(on,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===l3.NOPROXY&&K(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return new LL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new oI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CO extends aI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=DL(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?as(o.readTime):ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=cg(l)?{documents:FL(i,l)}:{query:UL(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XT(i,o.resumeToken);const c=dg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=r0(i,o.snapshotVersion.toTimestamp());const c=dg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=zL(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.t_(n)}}class TO extends aI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=$L(e.writeResults,e.commitTime),r=as(e.commitTime);return this.listener.T_(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=pg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jL(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,hg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,hg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class SO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(hs(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ho(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.v_.add(4),await qu(c),c.x_.set("Unknown"),c.v_.delete(4),await Rf(c)}(this))})}),this.x_=new SO(r,s)}}async function Rf(t){if(Ho(t))for(const e of t.F_)await e(!0)}async function qu(t){for(const e of t.F_)await e(!1)}function lI(t,e){const n=ue(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jy(n)?Dy(n):El(n).Jo()&&My(n,e))}function Oy(t,e){const n=ue(t),r=El(n);n.C_.delete(e),r.Jo()&&cI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ho(n)&&n.x_.set("Unknown"))}function My(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(t).c_(e)}function cI(t,e){t.O_.Oe(e),El(t).l_(e)}function Dy(t){t.O_=new RL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),El(t).start(),t.x_.p_()}function jy(t){return Ho(t)&&!El(t).Ho()&&t.C_.size>0}function Ho(t){return ue(t).v_.size===0}function uI(t){t.O_=void 0}async function AO(t){t.C_.forEach((e,n)=>{My(t,e)})}async function RO(t,e){uI(t),jy(t)?(t.x_.S_(e),Dy(t)):t.x_.set("Unknown")}async function kO(t,e,n){if(t.x_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await s0(t,r)}else if(e instanceof ih?t.O_.$e(e):e instanceof QT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ce.min()))try{const r=await iI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(vn.EMPTY_BYTE_STRING,u.snapshotVersion)),cI(i,l);const d=new oi(u.target,l,c,u.sequenceNumber);My(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await s0(t,r)}}async function s0(t,e,n){if(!Bu(e))throw e;t.v_.add(1),await qu(t),t.x_.set("Offline"),n||(n=()=>iI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Rf(t)})}function dI(t,e){return e().catch(n=>s0(t,n,e))}async function kf(t){const e=ue(t),n=bi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;NO(e);)try{const s=await mO(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,PO(e,s)}catch(s){await s0(e,s)}hI(e)&&fI(e)}function NO(t){return Ho(t)&&t.D_.length<10}function PO(t,e){t.D_.push(e);const n=bi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function hI(t){return Ho(t)&&!bi(t).Ho()&&t.D_.length>0}function fI(t){bi(t).start()}async function LO(t){bi(t).d_()}async function OO(t){const e=bi(t);for(const n of t.D_)e.I_(n.mutations)}async function MO(t,e,n){const r=t.D_.shift(),s=Ay.from(r,e,n);await dI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await kf(t)}async function DO(t,e){e&&bi(t).P_&&await async function(r,s){if(function(o){return SL(o)&&o!==U.ABORTED}(s.code)){const i=r.D_.shift();bi(r).Zo(),await dI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await kf(r)}}(t,e),hI(t)&&fI(t)}async function L3(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Ho(n);n.v_.add(3),await qu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Rf(n)}async function jO(t,e){const n=ue(t);e?(n.v_.delete(2),await Rf(n)):e||(n.v_.add(2),await qu(n),n.x_.set("Unknown"))}function El(t){return t.N_||(t.N_=function(n,r,s){const i=ue(n);return i.R_(),new CO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:AO.bind(null,t),To:RO.bind(null,t),u_:kO.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),jy(t)?Dy(t):t.x_.set("Unknown")):(await t.N_.stop(),uI(t))})),t.N_}function bi(t){return t.L_||(t.L_=function(n,r,s){const i=ue(n);return i.R_(),new TO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:LO.bind(null,t),To:DO.bind(null,t),E_:OO.bind(null,t),T_:MO.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await kf(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $y(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(t,e){if(hs("AsyncQueue",`${e}: ${t}`),Bu(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.B_=new Rt(re.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ae():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ol{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ol(e,n,La.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class FO{constructor(){this.queries=new xl(e=>OT(e),Cf),this.onlineState="Unknown",this.W_=new Set}}async function Uy(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new $O,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Fy(o,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&zy(n)}async function Vy(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UO(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&zy(n)}function VO(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function zy(t){t.W_.forEach(e=>{e.next()})}var gg,M3;(M3=gg||(gg={})).j_="default",M3.Cache="cache";class By{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.key=e}}class mI{constructor(e){this.key=e}}class zO{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=me(),this.mutatedKeys=me(),this.ha=MT(e),this.Pa=new La(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new O3,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),p=Tf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),_=!0):this.da(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return y(p)-y(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new ol(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new O3,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=me(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new mI(r))}),this.la.forEach(r=>{e.has(r)||n.push(new pI(r))}),n}fa(e){this.ua=e.hs,this.la=me();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return ol.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class BO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WO{constructor(e){this.key=e,this.pa=!1}}class HO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new xl(a=>OT(a),Cf),this.Sa=new Map,this.ba=new Set,this.Da=new Rt(re.comparator),this.Ca=new Map,this.va=new Ny,this.Fa={},this.Ma=new Map,this.xa=il.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function qO(t,e,n=!0){const r=xI(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await gI(r,e,n,!0),s}async function GO(t,e){const n=xI(t);await gI(n,e,!0,!1)}async function gI(t,e,n,r){const s=await gO(t.localStore,os(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await KO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lI(t.remoteStore,s),a}async function KO(t,e,n,r,s){t.Na=(d,h,p)=>async function(y,_,g,v){let w=_.view.Ta(g);w.Xi&&(w=await k3(y.localStore,_.query,!1).then(({documents:b})=>_.view.Ta(b,w)));const I=v&&v.targetChanges.get(_.targetId),R=v&&v.targetMismatches.get(_.targetId)!=null,E=_.view.applyChanges(w,y.isPrimaryClient,I,R);return j3(y,_.targetId,E.Va),E.snapshot}(t,d,h,p);const i=await k3(t.localStore,e,!0),o=new zO(e,i.hs),a=o.Ta(i.documents),l=Hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);j3(t,n,c.Va);const u=new BO(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function QO(t,e,n){const r=ue(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Cf(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Oy(r.remoteStore,s.targetId),yg(r,s.targetId)}).catch(zu)):(yg(r,s.targetId),await mg(r.localStore,s.targetId,!0))}async function YO(t,e){const n=ue(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(n.remoteStore,r.targetId))}async function XO(t,e,n){const r=sM(t);try{const s=await function(o,a){const l=ue(o),c=Lt.now(),u=a.reduce((p,m)=>p.add(m.key),me());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ds(),y=me();return l.os.getEntries(p,u).next(_=>{m=_,m.forEach((g,v)=>{v.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const g=[];for(const v of a){const w=xL(v,d.get(v.key).overlayedDocument);w!=null&&g.push(new ji(v.key,w,bT(w.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(_=>{h=_;const g=_.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,_.batchId,g)})}).then(()=>({batchId:h.batchId,changes:jT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Rt(Re)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Gu(r,s.changes),await kf(r.remoteStore)}catch(s){const i=Fy(s,"Failed to persist write");n.reject(i)}}async function yI(t,e){const n=ue(t);try{const r=await fO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Ye(o.pa):s.removedDocuments.size>0&&(Ye(o.pa),o.pa=!1))}),await Gu(n,r,e)}catch(r){await zu(r)}}function D3(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&zy(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JO(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Rt(re.comparator);o=o.insert(i,un.newNoDocument(i,ce.min()));const a=me().add(i),l=new bf(ce.min(),new Map,new Rt(Re),o,a);await yI(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),Wy(r)}else await mg(r.localStore,e,!1).then(()=>yg(r,e,n)).catch(zu)}async function ZO(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await hO(n.localStore,e);_I(n,r,null),vI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,s)}catch(s){await zu(s)}}async function eM(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ye(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_I(r,e,n),vI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gu(r,s)}catch(s){await zu(s)}}function vI(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function _I(t,e,n){const r=ue(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||wI(t,r)})}function wI(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Oy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Wy(t))}function j3(t,e,n){for(const r of n)r instanceof pI?(t.va.addReference(r.key,e),tM(t,r)):r instanceof mI?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||wI(t,r.key)):ae()}function tM(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),Wy(t))}function Wy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new re(Ge.fromString(e)),r=t.xa.next();t.Ca.set(r,new WO(n)),t.Da=t.Da.insert(n,r),lI(t.remoteStore,new oi(os(Ef(n.path)),r,"TargetPurposeLimboResolution",xy._e))}}async function Gu(t,e,n){const r=ue(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Ly.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(c,h=>B.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>B.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Bu(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,y)}}}(r.localStore,i))}async function nM(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await sI(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.us)}}function rM(t,e){const n=ue(t),r=n.Ca.get(e);if(r&&r.pa)return me().add(r.key);{let s=me();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function xI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.ya.u_=UO.bind(null,e.eventManager),e.ya.La=VO.bind(null,e.eventManager),e}function sM(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eM.bind(null,e),e}class $3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dO(this.persistence,new cO,e.initialUser,this.serializer)}createPersistence(e){return new oO(Py.Hr,this.serializer)}createSharedClientState(e){return new vO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nM.bind(null,this.syncEngine),await jO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FO}()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=function(i){return new EO(i)}(e.databaseInfo);return function(i,o,a,l){return new IO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new bO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D3(this.syncEngine,n,0),function(){return P3.D()?new P3:new _O}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new HO(s,i,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ue(r);K("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await qu(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{K("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(K("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function F3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lM(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>L3(e.remoteStore,s)),t._onlineComponents=e}function aM(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function lM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!aM(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new $3)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Ip(t,new $3);return t._offlineComponents}async function EI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await F3(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await F3(t,new iM))),t._onlineComponents}function cM(t){return EI(t).then(e=>e.syncEngine)}async function i0(t){const e=await EI(t),n=e.eventManager;return n.onListen=qO.bind(null,e.syncEngine),n.onUnlisten=QO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YO.bind(null,e.syncEngine),n}function uM(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Hy({next:h=>{o.enqueueAndForget(()=>Vy(i,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new By(Ef(a.path),u,{includeMetadataChanges:!0,ta:!0});return Uy(i,d)}(await i0(t),t.asyncQueue,e,n,r)),r.promise}function dM(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Hy({next:h=>{o.enqueueAndForget(()=>Vy(i,d)),h.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new By(a,u,{includeMetadataChanges:!0,ta:!0});return Uy(i,d)}(await i0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hM(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V3(t){if(!re.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z3(t){if(re.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fM(t,e){if(e<=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B3(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kP;switch(r.type){case"firstParty":return new OP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U3.get(n);r&&(K("ComponentProvider","Removing Datastore"),U3.delete(n),r.terminate())}(this),Promise.resolve()}}function pM(t,e,n,r={}){var s;const i=(t=$n(t,Pf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ln.MOCK_USER;else{a=G1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(c)}t._authCredentials=new NP(new CT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class wi extends ms{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new re(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function Vt(t,e,...n){if(t=Be(t),TI("collection","path",e),t instanceof Pf){const r=Ge.fromString(e,...n);return z3(r),new wi(t,null,r)}{if(!(t instanceof gn||t instanceof wi))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return z3(r),new wi(t.firestore,null,r)}}function _e(t,e,...n){if(t=Be(t),arguments.length===1&&(e=TT.newId()),TI("doc","path",e),t instanceof Pf){const r=Ge.fromString(e,...n);return V3(r),new gn(t,null,new re(r))}{if(!(t instanceof gn||t instanceof wi))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return V3(r),new gn(t.firestore,t instanceof wi?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new oI(this,"async_queue_retry"),this.cu=()=>{const n=Tp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new is;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Bu(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=$y.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&ae()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function W3(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class js extends Pf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new mM}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||II(this),this._firestoreClient.terminate()}}function gM(t,e){const n=typeof t=="object"?t:nf(),r=typeof t=="string"?t:e||"(default)",s=Lu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H1("firestore");i&&pM(s,...i)}return s}function Lf(t){return t._firestoreClient||II(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function II(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new KP(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,CI(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new oM(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(vn.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new al(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=/^__.*__$/;class vM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}class SI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Mf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return o0(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(bI(this.Vu)&&yM.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class _M{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}Cu(e,n,r,s=!1){return new Mf({Vu:e,methodName:n,Du:r,path:Xt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new _M(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AI(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);Qy("Data must be an object, but it was:",o,r);const a=kI(r,o);let l,c;if(i.merge)l=new Bn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=vg(e,d,n);if(!o.contains(h))throw new q(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PI(u,h)||u.push(h)}l=new Bn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new vM(new Nn(a),l,c)}class Df extends Ku{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function wM(t,e,n){return new Mf({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gy extends Ku{_toFieldTransform(e){return new HT(e.path,new fu)}isEqual(e){return e instanceof Gy}}class Ky extends Ku{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=wM(this,e,!0),r=this.vu.map(i=>Cl(i,n)),s=new sl(r);return new HT(e.path,s)}isEqual(e){return e instanceof Ky&&Jc(this.vu,e.vu)}}function xM(t,e,n,r){const s=t.Cu(1,e,n);Qy("Data must be an object, but it was:",s,r);const i=[],o=Nn.empty();Bo(r,(l,c)=>{const u=Yy(e,l,n);c=Be(c);const d=s.yu(u);if(c instanceof Df)i.push(u);else{const h=Cl(c,d);h!=null&&(i.push(u),o.set(u,h))}});const a=new Bn(i);return new SI(o,a,s.fieldTransforms)}function EM(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[vg(e,r,n)],l=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(vg(e,i[h])),l.push(i[h+1]);const c=[],u=Nn.empty();for(let h=a.length-1;h>=0;--h)if(!PI(c,a[h])){const p=a[h];let m=l[h];m=Be(m);const y=o.yu(p);if(m instanceof Df)c.push(p);else{const _=Cl(m,y);_!=null&&(c.push(p),u.set(p,_))}}const d=new Bn(c);return new SI(u,d,o.fieldTransforms)}function RI(t,e,n,r=!1){return Cl(n,t.Cu(r?4:3,e))}function Cl(t,e){if(NI(t=Be(t)))return Qy("Unsupported field value:",e,t),kI(t,e);if(t instanceof Ku)return function(r,s){if(!bI(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Cl(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:r0(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:r0(s.serializer,i)}}if(r instanceof qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:XT(s.serializer,r._byteString)};if(r instanceof gn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ky(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Nf(r)}`)}(t,e)}function kI(t,e){const n={};return IT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,(r,s)=>{const i=Cl(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function NI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof qy||t instanceof al||t instanceof gn||t instanceof Ku)}function Qy(t,e,n){if(!NI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Nf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function vg(t,e,n){if((e=Be(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Yy(t,e);throw o0("Field path arguments must be of type string or ",t,!1,void 0,n)}const CM=new RegExp("[~\\*/\\[\\]]");function Yy(t,e,n){if(e.search(CM)>=0)throw o0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw o0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function o0(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function PI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TM extends Xy{data(){return super.data()}}function Jy(t,e){return typeof e=="string"?Yy(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zy{}class jf extends Zy{}function Oa(t,e,...n){let r=[];e instanceof Zy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof tv).length,a=i.filter(l=>l instanceof ev).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ev extends jf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ev(e,n,r)}_apply(e){const n=this._parse(e);return MI(e._query,n),new ms(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=Qu(e.firestore);return function(i,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){q3(d,u);const p=[];for(const m of d)p.push(H3(l,i,m));h={arrayValue:{values:p}}}else h=H3(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||q3(d,u),h=RI(a,o,d,u==="in"||u==="not-in");return St.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class tv extends Zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)MI(o,l),o=ug(o,l)}(e._query,n),new ms(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nv extends jf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(i,o)}(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Wo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function a0(t,e="asc"){const n=e,r=Jy("orderBy",t);return nv._create(r,n)}class rv extends jf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rv(e,n,r)}_apply(e){return new ms(e.firestore,e.converter,t0(e._query,this._limit,this._limitType))}}function l0(t){return fM("limit",t),rv._create("limit",t,"F")}class sv extends jf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=IM(e,this.type,this._docOrFields,this._inclusive);return new ms(e.firestore,e.converter,function(s,i){return new Wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function OI(...t){return sv._create("startAfter",t,!1)}function IM(t,e,n,r){if(n[0]=Be(n[0]),n[0]instanceof Xy)return function(i,o,a,l,c){if(!l)throw new q(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Pa(i))if(d.field.isKeyField())u.push(e0(o,l.key));else{const h=l.data.field(d.field);if(xf(h))throw new q(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new q(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new rl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Qu(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new q(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const y=u[m];if(h[m].field.isKeyField()){if(typeof y!="string")throw new q(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!Sy(o)&&y.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const _=o.path.child(Ge.fromString(y));if(!re.isDocumentKey(_))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const g=new re(_);p.push(e0(a,g))}else{const _=RI(l,c,y);p.push(_)}}return new rl(p,d)}(t._query,t.firestore._databaseId,s,e,n,r)}}function H3(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sy(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!re.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e0(t,new re(r))}if(n instanceof gn)return e0(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function q3(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SM{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new qy(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ey(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ye(rI(r));const s=new uu(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||hs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jI extends Xy{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class oh extends jI{data(e={}){return super.data(e)}}class $I{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new oh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new oh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:bM(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){t=$n(t,gn);const e=$n(t.firestore,js);return uM(Lf(e),t._key).then(n=>UI(e,t,n))}class iv extends SM{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function AM(t){t=$n(t,ms);const e=$n(t.firestore,js),n=Lf(e),r=new iv(e);return LI(t._query),dM(n,t._query).then(s=>new $I(e,r,t,s))}function c0(t,e,n){t=$n(t,gn);const r=$n(t.firestore,js),s=DI(t.converter,e,n);return $f(r,[AI(Qu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mr.none())])}function vr(t,e,n,...r){t=$n(t,gn);const s=$n(t.firestore,js),i=Qu(s);let o;return o=typeof(e=Be(e))=="string"||e instanceof Of?EM(i,"updateDoc",t._key,e,n,r):xM(i,"updateDoc",t._key,e),$f(s,[o.toMutation(t._key,mr.exists(!0))])}function go(t){return $f($n(t.firestore,js),[new by(t._key,mr.none())])}function Tl(t,e){const n=$n(t.firestore,js),r=_e(t),s=DI(t.converter,e);return $f(n,[AI(Qu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function _r(t,...e){var n,r,s;t=Be(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||W3(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(W3(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof gn)c=$n(t.firestore,js),u=Ef(t._key.path),l={next:d=>{e[o]&&e[o](UI(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=$n(t,ms);c=$n(d.firestore,js),u=d._query;const h=new iv(c);l={next:p=>{e[o]&&e[o](new $I(c,h,d,p))},error:e[o+1],complete:e[o+2]},LI(t._query)}return function(h,p,m,y){const _=new Hy(y),g=new By(p,_,m);return h.asyncQueue.enqueueAndForget(async()=>Uy(await i0(h),g)),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(async()=>Vy(await i0(h),g))}}(Lf(c),u,a,l)}function $f(t,e){return function(r,s){const i=new is;return r.asyncQueue.enqueueAndForget(async()=>XO(await cM(r),s,i)),i.promise}(Lf(t),e)}function UI(t,e,n){const r=n.docs.get(e._key),s=new iv(t);return new jI(t,s,e._key,r,new dc(n.hasPendingWrites,n.fromCache),e.converter)}function Wn(){return new Gy("serverTimestamp")}function RM(...t){return new Ky("arrayUnion",t)}(function(e,n=!0){(function(s){wl=s})(Oi),Ti(new Os("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new js(new PP(r.getProvider("auth-internal")),new DP(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),pr(c3,"4.5.0",e),pr(c3,"4.5.0","esm2017")})();var kM="firebase",NM="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(kM,NM,"app");function ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PM=VI,zI=new Pu("auth","Firebase",VI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new tf("@firebase/auth");function LM(t,...e){u0.logLevel<=pe.WARN&&u0.warn(`Auth (${Oi}): ${t}`,...e)}function ah(t,...e){u0.logLevel<=pe.ERROR&&u0.error(`Auth (${Oi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw av(t,...e)}function ls(t,...e){return av(t,...e)}function BI(t,e,n){const r=Object.assign(Object.assign({},PM()),{[e]:n});return new Pu("auth","Firebase",r).create(e,{appName:t.name})}function OM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(t,"argument-error"),BI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function av(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zI.create(t,...e)}function oe(t,e,...n){if(!t)throw av(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function $s(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MM(){return G3()==="http:"||G3()==="https:"}function G3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MM()||s7()||"connection"in navigator)?navigator.onLine:!0}function jM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=K1()||dC()}get(){return DM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new Yu(3e4,6e4);function $i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fi(t,e,n,r,s={}){return HI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=yl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WI.fetch()(qI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function HI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$M),e);try{const s=new VM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Md(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Md(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Md(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw BI(t,u,c);wr(t,u)}}catch(s){if(s instanceof ps)throw s;wr(t,"network-request-failed",{message:String(s)})}}async function Xu(t,e,n,r,s={}){const i=await Fi(t,e,n,r,s);return"mfaPendingCredential"in i&&wr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function qI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?lv(t.config,s):`${t.config.apiScheme}://${s}`}function UM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ls(this.auth,"network-request-failed")),FM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ls(t,e,r);return s.customData._tokenResponse=n,s}function K3(t){return t!==void 0&&t.enterprise!==void 0}class zM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BM(t,e){return Fi(t,"GET","/v2/recaptchaConfig",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function HM(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qM(t,e=!1){const n=Be(t),r=await n.getIdToken(e),s=cv(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sc(Sp(s.auth_time)),issuedAtTime:Sc(Sp(s.iat)),expirationTime:Sc(Sp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sp(t){return Number(t)*1e3}function cv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wh(n);return s?JSON.parse(s):(ah("Failed to decode base64 JWT payload"),null)}catch(s){return ah("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function GM(t){const e=cv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&KM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){var e;const n=t.auth,r=await t.getIdToken(),s=await mu(t,HM(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?JM(i.providerUserInfo):[],a=XM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new GI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function YM(t){const e=Be(t);await d0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JM(t){return t.map(e=>{var{providerId:n}=e,r=ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e){const n=await HI(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=qI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eD(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ZM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new gu;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new GI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qM(this,e)}reload(){return YM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await d0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mu(this,WM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:I,isAnonymous:R,providerData:E,stsTokenManager:b}=n;oe(w&&b,e,"internal-error");const C=gu.fromJSON(this.name,b);oe(typeof w=="string",e,"internal-error"),qs(d,e.name),qs(h,e.name),oe(typeof I=="boolean",e,"internal-error"),oe(typeof R=="boolean",e,"internal-error"),qs(p,e.name),qs(m,e.name),qs(y,e.name),qs(_,e.name),qs(g,e.name),qs(v,e.name);const x=new yo({uid:w,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:R,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:C,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(x.providerData=E.map(S=>Object.assign({},S))),_&&(x._redirectEventId=_),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new gu;s.updateFromServerResponse(n);const i=new yo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await d0(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Map;function Ss(t){$s(t instanceof Function,"Expected a class definition");let e=Q3.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KI.type="NONE";const Y3=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=lh(this.userKey,s.apiKey,i),this.fullPersistenceKey=lh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ma(Ss(Y3),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ss(Y3);const o=lh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=yo._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ma(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ma(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZI(e))return"Blackberry";if(e6(e))return"Webos";if(uv(e))return"Safari";if((e.includes("chrome/")||YI(e))&&!e.includes("edge/"))return"Chrome";if(JI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QI(t=At()){return/firefox\//i.test(t)}function uv(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YI(t=At()){return/crios\//i.test(t)}function XI(t=At()){return/iemobile/i.test(t)}function JI(t=At()){return/android/i.test(t)}function ZI(t=At()){return/blackberry/i.test(t)}function e6(t=At()){return/webos/i.test(t)}function Ff(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tD(t=At()){var e;return Ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nD(){return i7()&&document.documentMode===10}function t6(t=At()){return Ff(t)||JI(t)||e6(t)||ZI(t)||/windows phone/i.test(t)||XI(t)}function rD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t,e=[]){let n;switch(t){case"Browser":n=X3(At());break;case"Worker":n=`${X3(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",$i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class aD{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J3(this),this.idTokenSubscription=new J3(this),this.beforeStateQueue=new sD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await d0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Be(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ui(t){return Be(t)}class J3{constructor(e){this.auth=e,this.observer=null,this.addObserver=p7(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(t){Uf=t}function r6(t){return Uf.loadJS(t)}function uD(){return Uf.recaptchaEnterpriseScript}function dD(){return Uf.gapiScript}function hD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fD="recaptcha-enterprise",pD="NO_RECAPTCHA";class mD{constructor(e){this.type=fD,this.auth=Ui(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{BM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new zM(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;K3(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(pD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&K3(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uD();l.length!==0&&(l+=a),r6(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Z3(t,e,n,r=!1){const s=new mD(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Z3(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Z3(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){const n=Lu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Jc(i,e??{}))return s;wr(s,"already-initialized")}return n.initialize({options:e})}function yD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vD(t,e,n){const r=Ui(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=s6(e),{host:o,port:a}=_D(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||wD()}function s6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _D(t){const e=s6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:e5(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:e5(o)}}}function e5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function xD(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e){return Xu(t,"POST","/v1/accounts:signInWithPassword",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}async function TD(t,e){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends dv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,n,"signInWithPassword",ED);case"emailLink":return CD(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,r,"signUpPassword",xD);case"emailLink":return TD(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return Xu(t,"POST","/v1/accounts:signInWithIdp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="http://localhost";class ko extends dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ov(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ko(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:ID,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bD(t){const e=ic(oc(t)).link,n=e?ic(oc(e)).deep_link_id:null,r=ic(oc(t)).deep_link_id;return(r?ic(oc(r)).link:null)||r||n||e||t}class hv{constructor(e){var n,r,s,i,o,a;const l=ic(oc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=SD((s=l.mode)!==null&&s!==void 0?s:null);oe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=bD(e);try{return new hv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hv.parseLink(n);return oe(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Ju{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ko._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Ju{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Ju{constructor(){super("twitter.com")}static credential(e,n){return ko._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return Xu(t,"POST","/v1/accounts:signUp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await yo._fromIdTokenResponse(e,r,s),o=t5(r);return new No({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=t5(r);return new No({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function t5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends ps{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,h0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new h0(e,n,r,s)}}function i6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?h0._fromErrorAndOperation(t,i,e,r):i})}async function RD(t,e,n=!1){const r=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await mu(t,i6(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=cv(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),No._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e,n=!1){const r="signIn",s=await i6(t,r,e),i=await No._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function ND(t,e){return o6(Ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t){const e=Ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PD(t,e,n){const r=Ui(t),o=await wg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&a6(t),l}),a=await No._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LD(t,e,n){return ND(Be(t),Il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a6(t),r})}function OD(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function MD(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function DD(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function jD(t){return Be(t).signOut()}const f0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(f0,"1"),this.storage.removeItem(f0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){const t=At();return uv(t)||Ff(t)}const FD=1e3,UD=10;class c6 extends l6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$D()&&rD(),this.fallbackToPolling=t6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);nD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,UD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c6.type="LOCAL";const VD=c6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6 extends l6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}u6.type="SESSION";const d6=u6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await zD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=pv("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function WD(t){cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function HD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GD(){return h6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="firebaseLocalStorageDb",KD=1,p0="firebaseLocalStorage",p6="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(t,e){return t.transaction([p0],e?"readwrite":"readonly").objectStore(p0)}function QD(){const t=indexedDB.deleteDatabase(f6);return new Zu(t).toPromise()}function xg(){const t=indexedDB.open(f6,KD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(p0,{keyPath:p6})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(p0)?e(r):(r.close(),await QD(),e(await xg()))})})}async function n5(t,e,n){const r=zf(t,!0).put({[p6]:e,value:n});return new Zu(r).toPromise()}async function YD(t,e){const n=zf(t,!1).get(e),r=await new Zu(n).toPromise();return r===void 0?null:r.value}function r5(t,e){const n=zf(t,!0).delete(e);return new Zu(n).toPromise()}const XD=800,JD=3;class m6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(GD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new BD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await n5(e,f0,"1"),await r5(e,f0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zf(s,!1).getAll();return new Zu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m6.type="LOCAL";const ZD=m6;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e){return e?Ss(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ej(t){return o6(t.auth,new mv(t),t.bypassAuthState)}function tj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),kD(n,new mv(t),t.bypassAuthState)}async function nj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),RD(n,new mv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ej;case"linkViaPopup":case"linkViaRedirect":return nj;case"reauthViaPopup":case"reauthViaRedirect":return tj;default:wr(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=new Yu(2e3,1e4);async function sj(t,e,n){const r=Ui(t);OM(t,e,fv);const s=g6(r,n);return new oo(r,"signInViaPopup",e,s).executeNotNull()}class oo extends y6{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rj.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="pendingRedirect",ch=new Map;class oj extends y6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aj(t,e){const n=uj(e),r=cj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function lj(t,e){ch.set(t._key(),e)}function cj(t){return Ss(t._redirectPersistence)}function uj(t){return lh(ij,t.config.apiKey,t.name)}async function dj(t,e,n=!1){const r=Ui(t),s=g6(r,e),o=await new oj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=10*60*1e3;class fj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v6(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ls(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(s5(e))}saveEventToCache(e){this.cachedEventUids.add(s5(e)),this.lastProcessedEventTime=Date.now()}}function s5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yj=/^https?/;async function vj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mj(t);for(const n of e)try{if(_j(n))return}catch{}wr(t,"unauthorized-domain")}function _j(t){const e=_g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yj.test(n))return!1;if(gj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Yu(3e4,6e4);function i5(){const t=cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xj(t){return new Promise((e,n)=>{var r,s,i;function o(){i5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i5(),n(ls(t,"network-request-failed"))},timeout:wj.get()})}if(!((s=(r=cs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=cs().gapi)===null||i===void 0)&&i.load)o();else{const a=hD("iframefcb");return cs()[a]=()=>{gapi.load?o():n(ls(t,"network-request-failed"))},r6(`${dD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uh=null,e})}let uh=null;function Ej(t){return uh=uh||xj(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new Yu(5e3,15e3),Tj="__/auth/iframe",Ij="emulator/auth/iframe",Sj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Aj(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,Ij):`https://${t.config.authDomain}/${Tj}`,r={apiKey:e.apiKey,appName:t.name,v:Oi},s=bj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yl(r).slice(1)}`}async function Rj(t){const e=await Ej(t),n=cs().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Aj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ls(t,"network-request-failed"),a=cs().setTimeout(()=>{i(o)},Cj.get());function l(){cs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nj=500,Pj=600,Lj="_blank",Oj="http://localhost";class o5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mj(t,e,n,r=Nj,s=Pj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=At().toLowerCase();n&&(a=YI(c)?Lj:n),QI(c)&&(e=e||Oj,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(tD(c)&&a!=="_self")return Dj(e||"",a),new o5(null);const d=window.open(e||"",a,u);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new o5(d)}function Dj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="__/auth/handler",$j="emulator/auth/handler",Fj=encodeURIComponent("fac");async function a5(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oi,eventId:s};if(e instanceof fv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof Ju){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Fj}=${encodeURIComponent(l)}`:"";return`${Uj(t)}?${yl(a).slice(1)}${c}`}function Uj({config:t}){return t.emulator?lv(t,$j):`https://${t.authDomain}/${jj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class Vj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d6,this._completeRedirectFn=dj,this._overrideRedirectResult=lj}async _openPopup(e,n,r,s){var i;$s((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await a5(e,n,r,_g(),s);return Mj(e,o,pv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await a5(e,n,r,_g(),s);return WD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Rj(e),r=new fj(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[bp];o!==void 0&&n(!!o),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t6()||uv()||Ff()}}const zj=Vj;var l5="@firebase/auth",c5="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hj(t){Ti(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n6(t)},c=new lD(r,s,i,l);return yD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new Os("auth-internal",e=>{const n=Ui(e.getProvider("auth").getImmediate());return(r=>new Bj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(l5,c5,Wj(t)),pr(l5,c5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=5*60,Gj=uC("authIdTokenMaxAge")||qj;let u5=null;const Kj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gj)return;const s=n==null?void 0:n.token;u5!==s&&(u5=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Qj(t=nf()){const e=Lu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gD(t,{popupRedirectResolver:zj,persistence:[ZD,VD,d6]}),r=uC("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=Kj(r);MD(n,i,()=>i(n.currentUser)),OD(n,o=>i(o))}const s=lC("auth");return s&&vD(n,`http://${s}`),n}function Yj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ls("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Yj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="firebasestorage.googleapis.com",w6="storageBucket",Xj=2*60*1e3,Jj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends ps{constructor(e,n,r=0){super(Ap(e),`Firebase Storage: ${n} (${Ap(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Ap(t){return"storage/"+t}function gv(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(pt.UNKNOWN,t)}function Zj(t){return new mt(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function e$(t){return new mt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(pt.UNAUTHENTICATED,t)}function n$(){return new mt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r$(t){return new mt(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function s$(){return new mt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i$(){return new mt(pt.CANCELED,"User canceled the upload/download.")}function o$(t){return new mt(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function a$(t){return new mt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function l$(){return new mt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+w6+"' property when initializing the app?")}function c$(){return new mt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u$(){return new mt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function d$(t){return new mt(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eg(t){return new mt(pt.INVALID_ARGUMENT,t)}function x6(){return new mt(pt.APP_DELETED,"The Firebase app was deleted.")}function h$(t){return new mt(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bc(t,e){return new mt(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hl(t){throw new mt(pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(r.path==="")return r;throw a$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),m={bucket:1,path:3},y=n===_6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",g=new RegExp(`^https?://${y}/${s}/${_}`,"i"),w=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<w.length;I++){const R=w[I],E=R.regex.exec(e);if(E){const b=E[R.indices.bucket];let C=E[R.indices.path];C||(C=""),r=new Hn(b,C),R.postModify(r);break}}if(r==null)throw o$(e);return r}}class f${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){s=setTimeout(()=>{s=null,t(p,l())},_)}function h(){i&&clearTimeout(i)}function p(_,...g){if(c){h();return}if(_){h(),u.call(null,_,...g);return}if(l()||o){h(),u.call(null,_,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function y(_){m||(m=!0,h(),!c&&(s!==null?(_||(a=2),clearTimeout(s),d(0)):_||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function m$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){return t!==void 0}function y$(t){return typeof t=="object"&&!Array.isArray(t)}function yv(t){return typeof t=="string"||t instanceof String}function d5(t){return vv()&&t instanceof Blob}function vv(){return typeof Blob<"u"}function h5(t,e,n,r){if(r<e)throw Eg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Eg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function E6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vo||(vo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n,r,s,i,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===vo.NO_ERROR,l=i.getStatus();if(!a||v$(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===vo.ABORT;r(!1,new Dd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Dd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());g$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=gv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?x6():i$();o(l)}else{const l=s$();o(l)}};this.canceled_?n(!1,new Dd(!1,null,!0)):this.backoffId_=p$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function w$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function T$(t,e,n,r,s,i,o=!0){const a=E6(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return E$(c,e),w$(c,n),x$(c,i),C$(c,r),new _$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S$(...t){const e=I$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vv())return new Blob(t);throw new mt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){if(typeof atob>"u")throw d$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rp{constructor(e,n){this.data=e,this.contentType=n||null}}function R$(t,e){switch(t){case ts.RAW:return new Rp(C6(e));case ts.BASE64:case ts.BASE64URL:return new Rp(T6(t,e));case ts.DATA_URL:return new Rp(N$(e),P$(e))}throw gv()}function C6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function k$(t){let e;try{e=decodeURIComponent(t)}catch{throw bc(ts.DATA_URL,"Malformed data URL.")}return C6(e)}function T6(t,e){switch(t){case ts.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw bc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ts.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw bc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=A$(e)}catch(s){throw s.message.includes("polyfill")?s:bc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class I6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bc(ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=L$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N$(t){const e=new I6(t);return e.base64?T6(ts.BASE64,e.rest):k$(e.rest)}function P$(t){return new I6(t).contentType}function L$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){let r=0,s="";d5(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(d5(this.data_)){const r=this.data_,s=b$(r,e,n);return s===null?null:new ei(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ei(r,!0)}}static getBlob(...e){if(vv()){const n=e.map(r=>r instanceof ei?r.data_:r);return new ei(S$.apply(null,n))}else{const n=e.map(o=>yv(o)?R$(ts.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ei(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){let e;try{e=JSON.parse(t)}catch{return null}return y$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function b6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e){return e}class wn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||D$}}let jd=null;function j$(t){return!yv(t)||t.length<2?t:b6(t)}function A6(){if(jd)return jd;const t=[];t.push(new wn("bucket")),t.push(new wn("generation")),t.push(new wn("metageneration")),t.push(new wn("name","fullPath",!0));function e(i,o){return j$(o)}const n=new wn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new wn("size");return s.xform=r,t.push(s),t.push(new wn("timeCreated")),t.push(new wn("updated")),t.push(new wn("md5Hash",null,!0)),t.push(new wn("cacheControl",null,!0)),t.push(new wn("contentDisposition",null,!0)),t.push(new wn("contentEncoding",null,!0)),t.push(new wn("contentLanguage",null,!0)),t.push(new wn("contentType",null,!0)),t.push(new wn("metadata","customMetadata",!0)),jd=t,jd}function $$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Hn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function F$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return $$(r,t),r}function R6(t,e,n){const r=S6(e);return r===null?null:F$(t,r,n)}function U$(t,e,n,r){const s=S6(e);if(s===null||!yv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=Bf(h,n,r),m=E6({alt:"media",token:c});return p+m})[0]}function V$(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class _v{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){if(!t)throw gv()}function z$(t,e){function n(r,s){const i=R6(t,s,e);return k6(i!==null),i}return n}function B$(t,e){function n(r,s){const i=R6(t,s,e);return k6(i!==null),U$(i,s,t.host,t._protocol)}return n}function N6(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=n$():s=t$():n.getStatus()===402?s=e$(t.bucket):n.getStatus()===403?s=r$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function P6(t){const e=N6(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Zj(t.path)),i.serverResponse=s.serverResponse,i}return n}function W$(t,e,n){const r=e.fullServerUrl(),s=Bf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new _v(s,i,B$(t,n),o);return a.errorHandler=P6(e),a}function H$(t,e){const n=e.fullServerUrl(),r=Bf(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new _v(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=P6(e),a}function q$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function G$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=q$(null,e)),r}function K$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let I=0;I<2;I++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=G$(e,r,s),u=V$(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ei.getBlob(d,r,h);if(p===null)throw c$();const m={name:c.fullPath},y=Bf(i,t.host,t._protocol),_="POST",g=t.maxUploadRetryTime,v=new _v(y,_,z$(t,n),g);return v.urlParams=m,v.headers=o,v.body=p.uploadData(),v.errorHandler=N6(e),v}class Q${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y$ extends Q${initXhr(){this.xhr_.responseType="text"}}function wv(){return new Y$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Po(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b6(this._location.path)}get storage(){return this._service}get parent(){const e=O$(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new Po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw h$(e)}}function X$(t,e,n){t._throwIfRoot("uploadBytes");const r=K$(t.storage,t._location,A6(),new ei(e,!0),n);return t.storage.makeRequestWithTokens(r,wv).then(s=>({metadata:s,ref:t}))}function J$(t){t._throwIfRoot("getDownloadURL");const e=W$(t.storage,t._location,A6());return t.storage.makeRequestWithTokens(e,wv).then(n=>{if(n===null)throw u$();return n})}function Z$(t){t._throwIfRoot("deleteObject");const e=H$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,wv)}function eF(t,e){const n=M$(t._location.path,e),r=new Hn(t._location.bucket,n);return new Po(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return/^[A-Za-z]+:\/\//.test(t)}function nF(t,e){return new Po(t,e)}function L6(t,e){if(t instanceof xv){const n=t;if(n._bucket==null)throw l$();const r=new Po(n,n._bucket);return e!=null?L6(r,e):r}else return e!==void 0?eF(t,e):t}function rF(t,e){if(e&&tF(e)){if(t instanceof xv)return nF(t,e);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}else return L6(t,e)}function f5(t,e){const n=e==null?void 0:e[w6];return n==null?null:Hn.makeFromBucketSpec(n,t)}function sF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:G1(s,t.app.options.projectId))}class xv{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=_6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xj,this._maxUploadRetryTime=Jj,this._requests=new Set,s!=null?this._bucket=Hn.makeFromBucketSpec(s,this._host):this._bucket=f5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=f5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){h5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){h5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Po(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new f$(x6());{const o=T$(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const p5="@firebase/storage",m5="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="storage";function m0(t,e,n){return t=Be(t),X$(t,e,n)}function g0(t){return t=Be(t),J$(t)}function Cg(t){return t=Be(t),Z$(t)}function ao(t,e){return t=Be(t),rF(t,e)}function iF(t=nf(),e){t=Be(t);const r=Lu(t,O6).getImmediate({identifier:e}),s=H1("storage");return s&&oF(r,...s),r}function oF(t,e,n,r={}){sF(t,e,n,r)}function aF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new xv(n,r,s,e,Oi)}function lF(){Ti(new Os(O6,aF,"PUBLIC").setMultipleInstances(!0)),pr(p5,m5,""),pr(p5,m5,"esm2017")}lF();var g5={};const y5="@firebase/database",v5="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M6="";function cF(t){M6=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uF(e)}}catch{}return new dF},lo=D6("localStorage"),Tg=D6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new tf("@firebase/database"),hF=function(){let t=1;return function(){return t++}}(),j6=function(t){const e=v7(t),n=new f7;n.update(e);const r=n.digest();return W1.encodeByteArray(r)},ed=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ed.apply(null,r):typeof r=="object"?e+=Yt(r):e+=r,e+=" "}return e};let _o=null,_5=!0;const fF=function(t,e){Q(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ja.logLevel=pe.VERBOSE,_o=ja.log.bind(ja),e&&Tg.set("logging_enabled",!0)):typeof t=="function"?_o=t:(_o=null,Tg.remove("logging_enabled"))},dn=function(...t){if(_5===!0&&(_5=!1,_o===null&&Tg.get("logging_enabled")===!0&&fF(!0)),_o){const e=ed.apply(null,t);_o(e)}},td=function(t){return function(...e){dn(t,...e)}},Ig=function(...t){const e="FIREBASE INTERNAL ERROR: "+ed(...t);ja.error(e)},Fs=function(...t){const e=`FIREBASE FATAL ERROR: ${ed(...t)}`;throw ja.error(e),new Error(e)},Gn=function(...t){const e="FIREBASE WARNING: "+ed(...t);ja.warn(e)},pF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$6=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ll="[MIN_NAME]",Lo="[MAX_NAME]",Sl=function(t,e){if(t===e)return 0;if(t===ll||e===Lo)return-1;if(e===ll||t===Lo)return 1;{const n=w5(t),r=w5(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gF=function(t,e){return t===e?0:t<e?-1:1},ql=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Yt(e))},Ev=function(t){if(typeof t!="object"||t===null)return Yt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Yt(e[r]),n+=":",n+=Ev(t[e[r]]);return n+="}",n},F6=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function xr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const U6=function(t){Q(!$6(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},yF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},_F=new RegExp("^-?(0*)\\d{1,10}$"),wF=-2147483648,xF=2147483647,w5=function(t){if(_F.test(t)){const e=Number(t);if(e>=wF&&e<=xF)return e}return null},nd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Gn("Exception was thrown by user callback.",n),e},Math.floor(0))}},EF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ac=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Gn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gn(e)}}class $a{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$a.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="5",V6="v",z6="s",B6="r",W6="f",H6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,q6="ls",G6="p",Sg="ac",K6="websocket",Q6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function IF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function X6(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let r;if(e===K6)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Q6)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);IF(t)&&(n.ns=t.namespace);const s=[];return xr(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.counters_={}}incrementCounter(e,n=1){zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Xk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp={},Np={};function Tv(t){const e=t.toString();return kp[e]||(kp[e]=new SF),kp[e]}function bF(t,e){const n=t.toString();return Np[n]||(Np[n]=e()),Np[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&nd(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="start",RF="close",kF="pLPCommand",NF="pRTLPCB",J6="id",Z6="pw",eS="ser",PF="cb",LF="seg",OF="ts",MF="d",DF="dframe",tS=1870,nS=30,jF=tS-nS,$F=25e3,FF=3e4;class wa{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=td(e),this.stats_=Tv(n),this.urlFn=l=>(this.appCheckToken&&(l[Sg]=this.appCheckToken),X6(n,Q6,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FF)),mF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Iv((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===x5)this.id=a,this.password=l;else if(o===RF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[x5]="t",r[eS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[PF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[V6]=Cv,this.transportSessionId&&(r[z6]=this.transportSessionId),this.lastSessionId&&(r[q6]=this.lastSessionId),this.applicationId&&(r[G6]=this.applicationId),this.appCheckToken&&(r[Sg]=this.appCheckToken),typeof location<"u"&&location.hostname&&H6.test(location.hostname)&&(r[B6]=W6);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wa.forceAllow_=!0}static forceDisallow(){wa.forceDisallow_=!0}static isAvailable(){return wa.forceAllow_?!0:!wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yF()&&!vF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Yt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=oC(n),s=F6(r,jF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[DF]="t",r[J6]=e,r[Z6]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Yt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Iv{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hF(),window[kF+this.uniqueCallbackIdentifier]=e,window[NF+this.uniqueCallbackIdentifier]=n,this.myIFrame=Iv.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[J6]=this.myID,e[Z6]=this.myPW,e[eS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nS+r.length<=tS;){const o=this.pendingSegs.shift();r=r+"&"+LF+s+"="+o.seg+"&"+OF+s+"="+o.ts+"&"+MF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor($F)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=16384,VF=45e3;let y0=null;typeof MozWebSocket<"u"?y0=MozWebSocket:typeof WebSocket<"u"&&(y0=WebSocket);class Or{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=td(this.connId),this.stats_=Tv(n),this.connURL=Or.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[V6]=Cv,typeof location<"u"&&location.hostname&&H6.test(location.hostname)&&(o[B6]=W6),n&&(o[z6]=n),r&&(o[q6]=r),s&&(o[Sg]=s),i&&(o[G6]=i),X6(e,K6,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lo.set("previous_websocket_failure",!0);try{let r;hC(),this.mySock=new y0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&y0!==null&&!Or.forceDisallow_}static previouslyFailed(){return lo.isInMemoryStorage||lo.get("previous_websocket_failure")===!0}markConnectionHealthy(){lo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Xc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Yt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=F6(n,UF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Or.responsesRequiredToBeHealthy=2;Or.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[wa,Or]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Or&&Or.isAvailable();let r=n&&!Or.previouslyFailed();if(e.webSocketOnly&&(n||Gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Or];else{const s=this.transports_=[];for(const i of vu.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);vu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=6e4,BF=5e3,WF=10*1024,HF=100*1024,Pp="t",E5="d",qF="s",C5="r",GF="e",T5="o",I5="a",S5="n",b5="p",KF="h";class QF{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=td("c:"+this.id+":"),this.transportManager_=new vu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ac(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pp in e){const n=e[Pp];n===I5?this.upgradeIfSecondaryHealthy_():n===C5?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===T5&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ql("t",e),r=ql("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:b5,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:I5,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:S5,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ql("t",e),r=ql("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ql(Pp,e);if(E5 in e){const r=e[E5];if(n===KF){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===S5){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qF?this.onConnectionShutdown_(r):n===C5?this.onReset_(r):n===GF?Ig("Server Error: "+r):n===T5?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ig("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cv!==r&&Gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ac(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ac(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:b5,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends sS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!K1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new v0}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=32,R5=768;class rt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ue(){return new rt("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ai(t){return t.pieces_.length-t.pieceNum_}function et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new rt(t.pieces_,e)}function iS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function aS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new rt(e,0)}function Ft(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof rt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new rt(n,0)}function ve(t){return t.pieceNum_>=t.pieces_.length}function hr(t,e){const n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return hr(et(t),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lS(t,e){if(Ai(t)!==Ai(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Mr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ai(t)>Ai(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class XF{constructor(e,n){this.errorPrefix_=n,this.parts_=oS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ef(this.parts_[r]);cS(this)}}function JF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ef(e),cS(t)}function ZF(t){const e=t.parts_.pop();t.byteLength_-=ef(e),t.parts_.length>0&&(t.byteLength_-=1)}function cS(t){if(t.byteLength_>R5)throw new Error(t.errorPrefix_+"has a key path longer than "+R5+" bytes ("+t.byteLength_+").");if(t.parts_.length>A5)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A5+") or object contains a cycle "+Ki(t))}function Ki(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends sS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Sv}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=1e3,eU=60*5*1e3,k5=30*1e3,tU=1.3,nU=3e4,rU="server_kill",N5=3;class Rs extends rS{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Rs.nextPersistentConnectionId_++,this.log_=td("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gl,this.maxReconnectDelay_=eU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!hC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&v0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Yt(i)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new q1,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Rs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zs(e,"w")){const r=Xa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||h7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=k5)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=d7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Yt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ig("Unrecognized action received from server: "+Yt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nU&&(this.reconnectDelay_=Gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Rs.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Q(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new QF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Gn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(rU)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Gn(d),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vm(this.interruptReasons_)&&(this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Ev(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new rt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=N5&&(this.reconnectDelay_=k5,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=N5&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+M6.replace(/\./g,"-")]=1,K1()?e["framework.cordova"]=1:dC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=v0.getInstance().currentlyOnline();return Vm(this.interruptReasons_)&&e}}Rs.nextPersistentConnectionId_=0;Rs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ee(ll,e),s=new Ee(ll,n);return this.compare(r,s)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d;class uS extends Wf{static get __EMPTY_NODE(){return $d}static set __EMPTY_NODE(e){$d=e}compare(e,n){return Sl(e.name,n.name)}isDefinedOn(e){throw gl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Lo,$d)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,$d)}toString(){return".key"}}const Fa=new uS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??Ln.EMPTY_NODE,this.right=i??Ln.EMPTY_NODE}copy(e,n,r,s,i){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ln.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ln.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$t.RED=!0;$t.BLACK=!1;class sU{copy(e,n,r,s,i){return this}insert(e,n,r){return new $t(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ln{constructor(e,n=Ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$t.BLACK,null,null))}remove(e){return new Ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$t.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fd(this.root_,null,this.comparator_,!0,e)}}Ln.EMPTY_NODE=new sU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t,e){return Sl(t.name,e.name)}function bv(t,e){return Sl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg;function oU(t){bg=t}const dS=function(t){return typeof t=="number"?"number:"+U6(t):"string:"+t},hS=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zs(e,".sv"),"Priority must be a string or number.")}else Q(t===bg||t.isEmpty(),"priority of unexpected type.");Q(t===bg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P5;class Mt{constructor(e,n=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hS(this.priorityNode_)}static set __childrenNodeConstructor(e){P5=e}static get __childrenNodeConstructor(){return P5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:xe(e)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Ai(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=U6(this.value_):e+=this.value_,this.lazyHash_=j6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mt.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Mt.VALUE_TYPE_ORDER.indexOf(n),i=Mt.VALUE_TYPE_ORDER.indexOf(r);return Q(s>=0,"Unknown leaf type: "+n),Q(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fS,pS;function aU(t){fS=t}function lU(t){pS=t}class cU extends Wf{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Sl(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Lo,new Mt("[PRIORITY-POST]",pS))}makePost(e,n){const r=fS(e);return new Ee(n,new Mt("[PRIORITY-POST]",r))}toString(){return".priority"}}const fn=new cU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=Math.log(2);class dU{constructor(e){const n=i=>parseInt(Math.log(i)/uU,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _0=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new $t(h,d.node,$t.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),y=s(p+1,c);return d=t[p],h=n?n(d):d,new $t(h,d.node,$t.BLACK,m,y)}},i=function(l){let c=null,u=null,d=t.length;const h=function(m,y){const _=d-m,g=d;d-=m;const v=s(_+1,g),w=t[_],I=n?n(w):w;p(new $t(I,w.node,y,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));y?h(_,$t.BLACK):(h(_,$t.BLACK),h(_,$t.RED))}return u},o=new dU(t.length),a=i(o);return new Ln(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;const Jo={};class bs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Q(Jo&&fn,"ChildrenNode.ts has not been loaded"),Lp=Lp||new bs({".priority":Jo},{".priority":fn}),Lp}get(e){const n=Xa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ln?n:null}hasIndex(e){return zs(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==Fa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ee.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=_0(r,e.getCompare()):a=Jo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new bs(u,c)}addToIndexes(e,n){const r=Hh(this.indexes_,(s,i)=>{const o=Xa(this.indexSet_,i);if(Q(o,"Missing index implementation for "+i),s===Jo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),_0(a,o.getCompare())}else return Jo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ee(e.name,a))),l.insert(e,e.node)}});return new bs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Hh(this.indexes_,s=>{if(s===Jo)return s;{const i=n.get(e.name);return i?s.remove(new Ee(e.name,i)):s}});return new bs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;class ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hS(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Kl||(Kl=new ke(new Ln(bv),null,bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Kl}updatePriority(e){return this.children_.isEmpty()?this:new ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Kl:n}}getChild(e){const n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ee(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Kl:this.priorityNode_;return new ke(s,o,i)}}updateChild(e,n){const r=xe(e);if(r===null)return n;{Q(xe(e)!==".priority"||Ai(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(et(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(fn,(o,a)=>{n[o]=a.val(e),r++,i&&ke.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+dS(this.getPriority().val())+":"),this.forEachChild(fn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":j6(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ee(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rd?-1:0}withIndex(e){if(e===Fa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Fa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(fn),s=n.getIterator(fn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Fa?null:this.indexMap_.get(e.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hU extends ke{constructor(){super(new Ln(bv),ke.EMPTY_NODE,bs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}}const rd=new hU;Object.defineProperties(Ee,{MIN:{value:new Ee(ll,ke.EMPTY_NODE)},MAX:{value:new Ee(Lo,rd)}});uS.__EMPTY_NODE=ke.EMPTY_NODE;Mt.__childrenNodeConstructor=ke;oU(rd);lU(rd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=!0;function hn(t,e=null){if(t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Mt(n,hn(e))}if(!(t instanceof Array)&&fU){const n=[];let r=!1;if(xr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ee(o,l)))}}),n.length===0)return ke.EMPTY_NODE;const i=_0(n,iU,o=>o.name,bv);if(r){const o=_0(n,fn.getCompare());return new ke(i,hn(e),new bs({".priority":o},{".priority":fn}))}else return new ke(i,hn(e),bs.Default)}else{let n=ke.EMPTY_NODE;return xr(t,(r,s)=>{if(zs(t,r)&&r.substring(0,1)!=="."){const i=hn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(hn(e))}}aU(hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU extends Wf{constructor(e){super(),this.indexPath_=e,Q(!ve(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Sl(e.name,n.name):i}makePost(e,n){const r=hn(e),s=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ee(n,s)}maxPost(){const e=ke.EMPTY_NODE.updateChild(this.indexPath_,rd);return new Ee(Lo,e)}toString(){return oS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU extends Wf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const r=hn(e);return new Ee(n,r)}toString(){return".value"}}const gU=new mU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){return{type:"value",snapshotNode:t}}function vU(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _U(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function L5(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ll}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){const e=new Av;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function O5(t){const e={};if(t.isDefault())return e;let n;if(t.index_===fn?n="$priority":t.index_===gU?n="$value":t.index_===Fa?n="$key":(Q(t.index_ instanceof pU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Yt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Yt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Yt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Yt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Yt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function M5(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==fn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends rS{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=td("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=w0.getListenId_(e,r),a={};this.listens_[o]=a;const l=O5(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Xa(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=w0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=O5(e._queryParams),r=e._path.toString(),s=new q1;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Xc(a.responseText)}catch{Gn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Gn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return{value:null,children:new Map}}function mS(t,e,n){if(ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xe(e);t.children.has(r)||t.children.set(r,x0());const s=t.children.get(r);e=et(e),mS(s,e,n)}}function Ag(t,e,n){t.value!==null?n(e,t.value):EU(t,(r,s)=>{const i=new rt(e.toString()+"/"+r);Ag(s,i,n)})}function EU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&xr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=10*1e3,TU=30*1e3,IU=5*60*1e3;class SU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new CU(e);const r=D5+(TU-D5)*Math.random();Ac(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xr(e,(s,i)=>{i>0&&zs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ac(this.reportStats_.bind(this),Math.floor(Math.random()*2*IU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ns||(ns={}));function gS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ns.ACK_USER_WRITE,this.source=gS()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new rt(e));return new E0(Ue(),n,this.revert)}}else return Q(xe(this.path)===e,"operationForChild called for unrelated child."),new E0(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ns.OVERWRITE}operationForChild(e){return ve(this.path)?new Oo(this.source,Ue(),this.snap.getImmediateChild(e)):new Oo(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ns.MERGE}operationForChild(e){if(ve(this.path)){const n=this.children.subtree(new rt(e));return n.isEmpty()?null:n.value?new Oo(this.source,Ue(),n.value):new _u(this.source,Ue(),n)}else return Q(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _u(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function bU(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(wU(o.childName,o.snapshotNode))}),Ql(t,s,"child_removed",e,r,n),Ql(t,s,"child_added",e,r,n),Ql(t,s,"child_moved",i,r,n),Ql(t,s,"child_changed",e,r,n),Ql(t,s,"value",e,r,n),s}function Ql(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>RU(t,a,l)),o.forEach(a=>{const l=AU(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function AU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RU(t,e,n){if(e.childName==null||n.childName==null)throw gl("Should only compare child_ events.");const r=new Ee(e.childName,e.snapshotNode),s=new Ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e){return{eventCache:t,serverCache:e}}function Rc(t,e,n,r){return _S(new Rv(e,n,r),t.serverCache)}function wS(t,e,n,r){return _S(t.eventCache,new Rv(e,n,r))}function Rg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;const kU=()=>(Op||(Op=new Ln(gF)),Op);class Ze{constructor(e,n=kU()){this.value=e,this.children=n}static fromObject(e){let n=new Ze(null);return xr(e,(r,s)=>{n=n.set(new rt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(ve(e))return null;{const r=xe(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(et(e),n);return i!=null?{path:Ft(new rt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const n=xe(e),r=this.children.get(n);return r!==null?r.subtree(et(e)):new Ze(null)}}set(e,n){if(ve(e))return new Ze(n,this.children);{const r=xe(e),i=(this.children.get(r)||new Ze(null)).set(et(e),n),o=this.children.insert(r,i);return new Ze(this.value,o)}}remove(e){if(ve(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=xe(e),r=this.children.get(n);if(r){const s=r.remove(et(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ze(null):new Ze(this.value,i)}else return this}}get(e){if(ve(e))return this.value;{const n=xe(e),r=this.children.get(n);return r?r.get(et(e)):null}}setTree(e,n){if(ve(e))return n;{const r=xe(e),i=(this.children.get(r)||new Ze(null)).setTree(et(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ze(this.value,o)}}fold(e){return this.fold_(Ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ft(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ue(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ve(e))return null;{const i=xe(e),o=this.children.get(i);return o?o.findOnPath_(et(e),Ft(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ue(),n)}foreachOnPath_(e,n,r){if(ve(e))return this;{this.value&&r(n,this.value);const s=xe(e),i=this.children.get(s);return i?i.foreachOnPath_(et(e),Ft(n,s),r):new Ze(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ft(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.writeTree_=e}static empty(){return new $r(new Ze(null))}}function kc(t,e,n){if(ve(e))return new $r(new Ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=hr(s,e);return i=i.updateChild(o,n),new $r(t.writeTree_.set(s,i))}else{const s=new Ze(n),i=t.writeTree_.setTree(e,s);return new $r(i)}}}function j5(t,e,n){let r=t;return xr(n,(s,i)=>{r=kc(r,Ft(e,s),i)}),r}function $5(t,e){if(ve(e))return $r.empty();{const n=t.writeTree_.setTree(e,new Ze(null));return new $r(n)}}function kg(t,e){return qo(t,e)!=null}function qo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(hr(n.path,e)):null}function F5(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fn,(r,s)=>{e.push(new Ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ee(r,s.value))}),e}function xi(t,e){if(ve(e))return t;{const n=qo(t,e);return n!=null?new $r(new Ze(n)):new $r(t.writeTree_.subtree(e))}}function Ng(t){return t.writeTree_.isEmpty()}function cl(t,e){return xS(Ue(),t.writeTree_,e)}function xS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Q(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=xS(Ft(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ft(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){return bS(e,t)}function NU(t,e,n,r,s){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=kc(t.visibleWrites,e,n)),t.lastWriteId=r}function PU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function LU(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&OU(a,r.path)?s=!1:Mr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return MU(t),!0;if(r.snap)t.visibleWrites=$5(t.visibleWrites,r.path);else{const a=r.children;xr(a,l=>{t.visibleWrites=$5(t.visibleWrites,Ft(r.path,l))})}return!0}else return!1}function OU(t,e){if(t.snap)return Mr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Mr(Ft(t.path,n),e))return!0;return!1}function MU(t){t.visibleWrites=CS(t.allWrites,DU,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function DU(t){return t.visible}function CS(t,e,n){let r=$r.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Mr(n,o)?(a=hr(n,o),r=kc(r,a,i.snap)):Mr(o,n)&&(a=hr(o,n),r=kc(r,Ue(),i.snap.getChild(a)));else if(i.children){if(Mr(n,o))a=hr(n,o),r=j5(r,a,i.children);else if(Mr(o,n))if(a=hr(o,n),ve(a))r=j5(r,Ue(),i.children);else{const l=Xa(i.children,xe(a));if(l){const c=l.getChild(et(a));r=kc(r,Ue(),c)}}}else throw gl("WriteRecord should have .snap or .children")}}return r}function TS(t,e,n,r,s){if(!r&&!s){const i=qo(t.visibleWrites,e);if(i!=null)return i;{const o=xi(t.visibleWrites,e);if(Ng(o))return n;if(n==null&&!kg(o,Ue()))return null;{const a=n||ke.EMPTY_NODE;return cl(o,a)}}}else{const i=xi(t.visibleWrites,e);if(!s&&Ng(i))return n;if(!s&&n==null&&!kg(i,Ue()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Mr(c.path,e)||Mr(e,c.path))},a=CS(t.allWrites,o,e),l=n||ke.EMPTY_NODE;return cl(a,l)}}}function jU(t,e,n){let r=ke.EMPTY_NODE;const s=qo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(fn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=xi(t.visibleWrites,e);return n.forEachChild(fn,(o,a)=>{const l=cl(xi(i,new rt(o)),a);r=r.updateImmediateChild(o,l)}),F5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=xi(t.visibleWrites,e);return F5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function $U(t,e,n,r,s){Q(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ft(e,n);if(kg(t.visibleWrites,i))return null;{const o=xi(t.visibleWrites,i);return Ng(o)?s.getChild(n):cl(o,s.getChild(n))}}function FU(t,e,n,r){const s=Ft(e,n),i=qo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=xi(t.visibleWrites,s);return cl(o,r.getNode().getImmediateChild(n))}else return null}function UU(t,e){return qo(t.visibleWrites,e)}function VU(t,e,n,r,s,i,o){let a;const l=xi(t.visibleWrites,e),c=qo(l,Ue());if(c!=null)a=c;else if(n!=null)a=cl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function zU(){return{visibleWrites:$r.empty(),allWrites:[],lastWriteId:-1}}function Pg(t,e,n,r){return TS(t.writeTree,t.treePath,e,n,r)}function IS(t,e){return jU(t.writeTree,t.treePath,e)}function U5(t,e,n,r){return $U(t.writeTree,t.treePath,e,n,r)}function C0(t,e){return UU(t.writeTree,Ft(t.treePath,e))}function BU(t,e,n,r,s,i){return VU(t.writeTree,t.treePath,e,n,r,s,i)}function kv(t,e,n){return FU(t.writeTree,t.treePath,e,n)}function SS(t,e){return bS(Ft(t.treePath,e),t.writeTree)}function bS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,L5(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,_U(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,vU(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,L5(r,e.snapshotNode,s.oldSnap));else throw gl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const AS=new HU;class Nv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Rv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mo(this.viewCache_),i=BU(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function qU(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function GU(t,e,n,r,s){const i=new WU;let o,a;if(n.type===ns.OVERWRITE){const c=n;c.source.fromUser?o=Lg(t,e,c.path,c.snap,r,s,i):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ve(c.path),o=T0(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===ns.MERGE){const c=n;c.source.fromUser?o=QU(t,e,c.path,c.children,r,s,i):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Og(t,e,c.path,c.children,r,s,a,i))}else if(n.type===ns.ACK_USER_WRITE){const c=n;c.revert?o=JU(t,e,c.path,r,s,i):o=YU(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===ns.LISTEN_COMPLETE)o=XU(t,e,n.path,r,i);else throw gl("Unknown operation type: "+n.type);const l=i.getChanges();return KU(e,o,l),{viewCache:o,changes:l}}function KU(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Rg(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(yU(Rg(e)))}}function RS(t,e,n,r,s,i){const o=e.eventCache;if(C0(r,n)!=null)return e;{let a,l;if(ve(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Mo(e),u=c instanceof ke?c:ke.EMPTY_NODE,d=IS(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Pg(r,Mo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=xe(n);if(c===".priority"){Q(Ai(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=U5(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=et(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=U5(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=kv(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return Rc(e,a,o.isFullyInitialized()||ve(n),t.filter.filtersNodes())}}function T0(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ve(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=xe(n);if(!l.isCompleteForPath(n)&&Ai(n)>1)return e;const m=et(n),_=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),p,_,m,AS,null)}const d=wS(e,c,l.isFullyInitialized()||ve(n),u.filtersNodes()),h=new Nv(s,d,i);return RS(t,d,n,s,h,a)}function Lg(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new Nv(s,e,i);if(ve(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Rc(e,c,!0,t.filter.filtersNodes());else{const d=xe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Rc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=et(n),p=a.getNode().getImmediateChild(d);let m;if(ve(h))m=r;else{const y=u.getCompleteChild(d);y!=null?iS(h)===".priority"&&y.getChild(aS(h)).isEmpty()?m=y:m=y.updateChild(h,r):m=ke.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=Rc(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function V5(t,e){return t.eventCache.isCompleteForChild(e)}function QU(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Ft(n,l);V5(e,xe(u))&&(a=Lg(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Ft(n,l);V5(e,xe(u))||(a=Lg(t,a,u,c,s,i,o))}),a}function z5(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Og(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ve(n)?c=r:c=new Ze(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=z5(t,p,h);l=T0(t,l,new rt(d),m,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=z5(t,m,h);l=T0(t,l,new rt(d),y,s,i,o,a)}}),l}function YU(t,e,n,r,s,i,o){if(C0(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return T0(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ve(n)){let c=new Ze(null);return l.getNode().forEachChild(Fa,(u,d)=>{c=c.set(new rt(u),d)}),Og(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ze(null);return r.foreach((u,d)=>{const h=Ft(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Og(t,e,n,c,s,i,a,o)}}function XU(t,e,n,r,s){const i=e.serverCache,o=wS(e,i.getNode(),i.isFullyInitialized()||ve(n),i.isFiltered());return RS(t,o,n,r,AS,s)}function JU(t,e,n,r,s,i){let o;if(C0(r,n)!=null)return e;{const a=new Nv(r,e,s),l=e.eventCache.getNode();let c;if(ve(n)||xe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Pg(r,Mo(e));else{const d=e.serverCache.getNode();Q(d instanceof ke,"serverChildren would be complete if leaf node"),u=IS(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=xe(n);let d=kv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,et(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ke.EMPTY_NODE,et(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Pg(r,Mo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||C0(r,Ue())!=null,Rc(e,c,o,t.filter.filtersNodes())}}function ZU(t,e){const n=Mo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ve(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function B5(t,e,n,r){e.type===ns.MERGE&&e.source.queryId!==null&&(Q(Mo(t.viewCache_),"We should always have a full cache before handling merges"),Q(Rg(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=GU(t.processor_,s,e,n,r);return qU(t.processor_,i.viewCache),Q(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,eV(t,i.changes,i.viewCache.eventCache.getNode(),null)}function eV(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return bU(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W5;function tV(t){Q(!W5,"__referenceConstructor has already been defined"),W5=t}function Pv(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Q(i!=null,"SyncTree gave us an op for an invalid query."),B5(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(B5(o,e,n,r));return i}}function Lv(t,e){let n=null;for(const r of t.views.values())n=n||ZU(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H5;function nV(t){Q(!H5,"__referenceConstructor has already been defined"),H5=t}class q5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=zU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rV(t,e,n,r,s){return NU(t.pendingWriteTree_,e,n,r,s),s?qf(t,new Oo(gS(),e,n)):[]}function xa(t,e,n=!1){const r=PU(t.pendingWriteTree_,e);if(LU(t.pendingWriteTree_,e)){let i=new Ze(null);return r.snap!=null?i=i.set(Ue(),!0):xr(r.children,o=>{i=i.set(new rt(o),!0)}),qf(t,new E0(r.path,i,n))}else return[]}function Hf(t,e,n){return qf(t,new Oo(yS(),e,n))}function sV(t,e,n){const r=Ze.fromObject(n);return qf(t,new _u(yS(),e,r))}function iV(t,e,n,r){const s=LS(t,r);if(s!=null){const i=OS(s),o=i.path,a=i.queryId,l=hr(o,e),c=new Oo(vS(a),l,n);return MS(t,o,c)}else return[]}function oV(t,e,n,r){const s=LS(t,r);if(s){const i=OS(s),o=i.path,a=i.queryId,l=hr(o,e),c=Ze.fromObject(n),u=new _u(vS(a),l,c);return MS(t,o,u)}else return[]}function kS(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=hr(o,e),c=Lv(a,l);if(c)return c});return TS(s,e,i,n,!0)}function qf(t,e){return NS(e,t.syncPointTree_,null,ES(t.pendingWriteTree_,Ue()))}function NS(t,e,n,r){if(ve(t.path))return PS(t,e,n,r);{const s=e.get(Ue());n==null&&s!=null&&(n=Lv(s,Ue()));let i=[];const o=xe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=SS(r,o);i=i.concat(NS(a,l,c,u))}return s&&(i=i.concat(Pv(s,t,r,n))),i}}function PS(t,e,n,r){const s=e.get(Ue());n==null&&s!=null&&(n=Lv(s,Ue()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=SS(r,o),u=t.operationForChild(o);u&&(i=i.concat(PS(u,a,l,c)))}),s&&(i=i.concat(Pv(s,t,r,n))),i}function LS(t,e){return t.tagToQueryMap.get(e)}function OS(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new rt(t.substr(0,e))}}function MS(t,e,n){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const s=ES(t.pendingWriteTree_,e);return Pv(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ov(n)}node(){return this.node_}}class Mv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ft(this.path_,e);return new Mv(this.syncTree_,n)}node(){return kS(this.syncTree_,this.path_)}}const aV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},G5=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return cV(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},cV=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const s=e.node();if(Q(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},uV=function(t,e,n,r){return Dv(e,new Mv(n,t),r)},dV=function(t,e,n){return Dv(t,new Ov(e),n)};function Dv(t,e,n){const r=t.getPriority().val(),s=G5(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=G5(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Mt(a,hn(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Mt(s))),o.forEachChild(fn,(a,l)=>{const c=Dv(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function $v(t,e){let n=e instanceof rt?e:new rt(e),r=t,s=xe(n);for(;s!==null;){const i=Xa(r.node.children,s)||{children:{},childCount:0};r=new jv(s,r,i),n=et(n),s=xe(n)}return r}function bl(t){return t.node.value}function DS(t,e){t.node.value=e,Mg(t)}function jS(t){return t.node.childCount>0}function hV(t){return bl(t)===void 0&&!jS(t)}function Gf(t,e){xr(t.node.children,(n,r)=>{e(new jv(n,t,r))})}function $S(t,e,n,r){n&&!r&&e(t),Gf(t,s=>{$S(s,e,!0,r)}),n&&r&&e(t)}function fV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sd(t){return new rt(t.parent===null?t.name:sd(t.parent)+"/"+t.name)}function Mg(t){t.parent!==null&&pV(t.parent,t.name,t)}function pV(t,e,n){const r=hV(n),s=zs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Mg(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Mg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/[\[\].#$\/\u0000-\u001F\u007F]/,gV=/[\[\].#$\u0000-\u001F\u007F]/,Mp=10*1024*1024,FS=function(t){return typeof t=="string"&&t.length!==0&&!mV.test(t)},yV=function(t){return typeof t=="string"&&t.length!==0&&!gV.test(t)},vV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yV(t)},US=function(t,e,n){const r=n instanceof rt?new XF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ki(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ki(r)+" with contents = "+e.toString());if($6(e))throw new Error(t+"contains "+e.toString()+" "+Ki(r));if(typeof e=="string"&&e.length>Mp/3&&ef(e)>Mp)throw new Error(t+"contains a string greater than "+Mp+" utf8 bytes "+Ki(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(xr(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!FS(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ki(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JF(r,o),US(t,a,r),ZF(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ki(r)+" in addition to actual children.")}},_V=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!FS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!vV(n))throw new Error(y7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xV(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!lS(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Go(t,e,n){xV(t,n),EV(t,r=>Mr(r,e)||Mr(e,r))}function EV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(CV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function CV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();_o&&dn("event: "+n.toString()),nd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="repo_interrupt",IV=25;class SV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x0(),this.transactionQueueTree_=new jv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bV(t,e,n){if(t.stats_=Tv(t.repoInfo_),t.forceRestClient_||EF())t.server_=new w0(t.repoInfo_,(r,s,i,o)=>{K5(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Q5(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rs(t.repoInfo_,e,(r,s,i,o)=>{K5(t,r,s,i,o)},r=>{Q5(t,r)},r=>{RV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bF(t.repoInfo_,()=>new SU(t.stats_,t.server_)),t.infoData_=new xU,t.infoSyncTree_=new q5({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Hf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Fv(t,"connected",!1),t.serverSyncTree_=new q5({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Go(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function AV(t){const n=t.infoData_.getNode(new rt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function VS(t){return aV({timestamp:AV(t)})}function K5(t,e,n,r,s){t.dataUpdateCount++;const i=new rt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Hh(n,c=>hn(c));o=oV(t.serverSyncTree_,i,l,s)}else{const l=hn(n);o=iV(t.serverSyncTree_,i,l,s)}else if(r){const l=Hh(n,c=>hn(c));o=sV(t.serverSyncTree_,i,l)}else{const l=hn(n);o=Hf(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Vv(t,i)),Go(t.eventQueue_,a,o)}function Q5(t,e){Fv(t,"connected",e),e===!1&&NV(t)}function RV(t,e){xr(e,(n,r)=>{Fv(t,n,r)})}function Fv(t,e,n){const r=new rt("/.info/"+e),s=hn(n);t.infoData_.updateSnapshot(r,s);const i=Hf(t.infoSyncTree_,r,s);Go(t.eventQueue_,r,i)}function kV(t){return t.nextWriteId_++}function NV(t){zS(t,"onDisconnectEvents");const e=VS(t),n=x0();Ag(t.onDisconnect_,Ue(),(s,i)=>{const o=uV(s,i,t.serverSyncTree_,e);mS(n,s,o)});let r=[];Ag(n,Ue(),(s,i)=>{r=r.concat(Hf(t.serverSyncTree_,s,i));const o=MV(t,s);Vv(t,o)}),t.onDisconnect_=x0(),Go(t.eventQueue_,Ue(),r)}function PV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(TV)}function zS(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function BS(t,e,n){return kS(t.serverSyncTree_,e,n)||ke.EMPTY_NODE}function Uv(t,e=t.transactionQueueTree_){if(e||Kf(t,e),bl(e)){const n=HS(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&LV(t,sd(e),n)}else jS(e)&&Gf(e,n=>{Uv(t,n)})}function LV(t,e,n){const r=n.map(c=>c.currentWriteId),s=BS(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];Q(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=hr(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{zS(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(xa(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Kf(t,$v(t.transactionQueueTree_,e)),Uv(t,t.transactionQueueTree_),Go(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)nd(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Gn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Vv(t,e)}},o)}function Vv(t,e){const n=WS(t,e),r=sd(n),s=HS(t,n);return OV(t,s,r),r}function OV(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=hr(n,l.path);let u=!1,d;if(Q(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(xa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=IV)u=!0,d="maxretry",s=s.concat(xa(t.serverSyncTree_,l.currentWriteId,!0));else{const h=BS(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){US("transaction failed: Data returned ",p,l.path);let m=hn(p);typeof p=="object"&&p!=null&&zs(p,".priority")||(m=m.updatePriority(h.getPriority()));const _=l.currentWriteId,g=VS(t),v=dV(m,h,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=kV(t),o.splice(o.indexOf(_),1),s=s.concat(rV(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(xa(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",s=s.concat(xa(t.serverSyncTree_,l.currentWriteId,!0))}Go(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Kf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)nd(r[a]);Uv(t,t.transactionQueueTree_)}function WS(t,e){let n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&bl(r)===void 0;)r=$v(r,n),e=et(e),n=xe(e);return r}function HS(t,e){const n=[];return qS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function qS(t,e,n){const r=bl(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Gf(e,s=>{qS(t,s,n)})}function Kf(t,e){const n=bl(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,DS(e,n.length>0?n:void 0)}Gf(e,r=>{Kf(t,r)})}function MV(t,e){const n=sd(WS(t,e)),r=$v(t.transactionQueueTree_,e);return fV(r,s=>{Dp(t,s)}),Dp(t,r),$S(r,s=>{Dp(t,s)}),n}function Dp(t,e){const n=bl(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Q(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(xa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?DS(e,void 0):n.length=i+1,Go(t.eventQueue_,sd(e),s);for(let o=0;o<r.length;o++)nd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function jV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gn(`Invalid query segment '${n}' in query '${t}'`)}return e}const Y5=function(t,e){const n=$V(t),r=n.namespace;n.domain==="firebase.com"&&Fs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pF();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Y6(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new rt(n.pathString)}},$V=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=DV(t.substring(u,d)));const h=jV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ve(this._path)?null:iS(this._path)}get ref(){return new Al(this._repo,this._path)}get _queryIdentifier(){const e=M5(this._queryParams),n=Ev(e);return n==="{}"?"default":n}get _queryObject(){return M5(this._queryParams)}isEqual(e){if(e=Be(e),!(e instanceof zv))return!1;const n=this._repo===e._repo,r=lS(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+YF(this._path)}}class Al extends zv{constructor(e,n){super(e,n,new Av,!1)}get parent(){const e=aS(this._path);return e===null?null:new Al(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}tV(Al);nV(Al);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FIREBASE_DATABASE_EMULATOR_HOST",Dg={};let UV=!1;function VV(t,e,n,r){t.repoInfo_=new Y6(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zV(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Y5(i,s),a=o.repoInfo,l,c;typeof process<"u"&&g5&&(c=g5[FV]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=Y5(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new $a($a.OWNER):new TF(t.name,t.options,e);_V("Invalid Firebase Database URL",o),ve(o.path)||Fs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=WV(a,t,u,new CF(t.name,n));return new HV(d,t)}function BV(t,e){const n=Dg[e];(!n||n[t.key]!==t)&&Fs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),PV(t),delete n[t.key]}function WV(t,e,n,r){let s=Dg[e.name];s||(s={},Dg[e.name]=s);let i=s[t.toURLString()];return i&&Fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new SV(t,UV,n,r),s[t.toURLString()]=i,i}class HV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Al(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fs("Cannot call "+e+" on a deleted database.")}}function qV(t=nf(),e){const n=Lu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=H1("database");r&&GV(n,...r)}return n}function GV(t,e,n,r={}){t=Be(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Fs("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new $a($a.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:G1(r.mockUserToken,t.app.options.projectId);i=new $a(o)}VV(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){cF(Oi),Ti(new Os("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return zV(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),pr(y5,v5,t),pr(y5,v5,"esm2017")}Rs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KV();function jg(t,e){localStorage.setItem(t,JSON.stringify(e))}function QV(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}const YV={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Qf=yC(YV),te=Qj(Qf),XV=new xs,Oe=gM(Qf),co=iF(Qf);qV(Qf);const ul=(t,e,n)=>{T.useEffect(()=>{try{if(n){const r=Vt(Oe,t),s=_r(r,i=>{const o=i.docs.map(a=>({...a.data(),[t==="users"?"uid":"id"]:a.id}));o.length!==0&&e(o)});return()=>{s()}}}catch(r){console.log(r.message)}},[n])},JV=(t,e,n)=>{T.useEffect(()=>{var r;try{if(n){const s=_e(Oe,t,(r=te==null?void 0:te.currentUser)==null?void 0:r.uid),i=_r(s,o=>{const a={uid:o.id,...o.data()};return a!=null&&a.name&&e(a),()=>i()})}}catch(s){console.log(s.message)}},[n])};function zr(t,e){let n;return t.forEach(r=>{r.uid===e&&(n=r)}),n}async function Bv(t,e,n,r=null){try{const s=Vt(Oe,"notifications"),i={uid:te.currentUser.uid,type:t,[e]:n,isReadBy:[],timestamp:Wn(),comment:r};await Tl(s,i)}catch(s){console.log(s.message)}}const ZV=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s}=t,{startTimer:i,formattedTime:o,stopTest:a,currentTest:l,answeredQuestions:c}=T.useContext(Z),u=tr(),d=async()=>{try{const p=Vt(_e(Oe,"users",te.currentUser.uid),"history"),m=Bk(c,l,o),y=await Tl(p,m),_=(await FI(y)).id;u(`/app/history/${_}`)}catch(p){console.log(p.message)}},h=()=>{i(),d(),a(),Bv(["took","test"],"testName",l.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&f.jsx(ze,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(ze,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(ze,{data:{clickFn:e,text:"Next",image:"next"}})]})},Br=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState(0),{theme:s}=T.useContext(Z);if(T.useEffect(()=>{const i=setInterval(()=>{r(Math.min(n+1,100)),n===100&&(e(!1),r(0))},5);return()=>{clearInterval(i)}},[n]),t&&(document.title="Loading..."),t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${s==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsx("div",{className:"h-3 w-[200px] rounded-md overflow-hidden",children:f.jsx("div",{style:{width:`${n}%`},className:"h-full bg-blue-300"})}),f.jsxs("p",{className:"text-lg",children:[n,"%"]})]})})},ez=()=>{const{answeredQuestions:t,setAnsweredQuestions:e,currentTest:n,seaLocalStorage:r,seconds:s,hours:i,minutes:o}=T.useContext(Z),a=t.length,l=n.quizzes.length,[c,u]=T.useState((r==null?void 0:r.startIndex)||0),[d,h]=T.useState(!1),[p,m]=T.useState(!1),[y,_]=T.useState(!1),g=10;let v=n.quizzes.slice(c,c+g);const w=n.name,I=Math.ceil(l/g),R=Math.ceil((c+g)/g),E=Math.round(a/l*100);T.useEffect(()=>(jn(),jn()),[]),T.useEffect(()=>{jg("sea-localStorage",{answeredQuestions:t,currentTest:n,startIndex:c,timer:{seconds:s,minutes:o,hours:i}})},[t,n,c,s]),T.useEffect(()=>{a===l&&c+g>=l?h(!0):h(!1)},[c,t]),T.useEffect(()=>{a>=c+g?m(!0):m(!1)},[t,c]);const S={pageTitle:w,currentPage:R,totalPage:I,percentage:E,answerLength:a,questionsLength:l,currentQuestions:v,isEnded:d,chooseAnswer:(P,N)=>{const L=D8(P,t);e(L?t.map(O=>P===O.id?{id:P,userAnswer:N}:O):[...t,{id:P,userAnswer:N}])},nextPage:()=>{p?(u(c+g),a<=c+g&&jn()):j8(_)},prevPage:()=>{u(Math.max(c-g,0))},startIndex:c};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(Br,{}),f.jsx($8,{data:S}),f.jsx(F8,{data:S}),y&&f.jsx(V8,{}),f.jsx(ZV,{data:S})]})},Wv=({title:t,text:e})=>{const{isLogin:n,theme:r}=T.useContext(Z),s=tr();return f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx("div",{className:` ${r==="light"?"":"text-white"}`,children:e}),f.jsx("div",{children:f.jsx(ze,{data:{clickFn:()=>s(n?"/app/posts":"/login"),image:"redo",text:n?"Return Home":"Login"}})})]})},tz=()=>{const{theme:t,userData:e}=T.useContext(Z),[n,r]=T.useState(null),s=`${n==null?void 0:n.testName} - Results`,i=Math.round((n==null?void 0:n.score)/(n==null?void 0:n.totalScore)*100),o=tr(),{resultId:a}=B1(),l=()=>{try{const u=Vt(_e(Oe,"users",e.uid),"history"),d=_e(u,a);return _r(d,p=>{const m={id:p.id,...p.data()};r(m)})}catch(u){return console.log(u.message),()=>{}}};T.useEffect(()=>{const u=l();return()=>{u()}},[a]),T.useEffect(()=>(jn(),jn()),[]);const c=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${n.score} out of ${n.totalScore} in '${n.testName}'.
Website URL - https://wwww.seaacademy.onrender.com
        `})}catch{console.log("Error")}};return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Br,{}),n?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(Ve,{data:{image:"back",clickFn:()=>o("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:s})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[n.score," / ",n.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:n.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${i}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-i}%`}})]}),f.jsxs("div",{className:`grid grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsx(Wi,{text:"Score Percentage",value:`${i}%`,color:"text-lime-500"}),f.jsx(Wi,{text:"Total Questions",value:n.totalScore,color:"text-lime-500"}),f.jsx(Wi,{text:"Correct",value:n.score,color:"text-green-500"}),f.jsx(Wi,{text:"Wrong",value:n.totalScore-n.score,color:"text-red-500"}),f.jsx(Wi,{text:"Date",value:n.date,color:"text-lime-500"}),f.jsx(Wi,{text:"Time",value:n.time,color:"text-lime-500"}),f.jsx(Wi,{text:"Time taken",value:G4(n.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(Ve,{data:{clickFn:()=>o(`/app/history/${a}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(Ve,{data:{clickFn:c,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(Ve,{data:{clickFn:()=>o("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsx(Wv,{text:"Unavailable"})]})},Wi=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:[" ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function gs(t,e=15){const n=t.slice(0,e);return e>=t.length?n:`${n}...`}const ys=({image:t,name:e,size:n="size-10",fontSize:r="text-lg"})=>{const s=t&&t.trim(),i=e&&e.trim(),o=s&&i,a=()=>{const l=e.trim().split(" ");return l.length<=3?l[0][0].toUpperCase():`${l[0][0]}${l[1][0]}`.toUpperCase()};if(s||o)return f.jsx("img",{className:`${n} rounded-full object-cover`,src:t});if(i)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:a()});if(!o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},nz=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=T.useState(!1),[s,i]=T.useState(!1),o=T.useRef(null),a=tr(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=T.useContext(Z),m=async()=>{try{await jD(te),e(!1),l(!1)}catch(y){console.log(y.message)}};return Fo(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"relative top-0 right-0 left-0 bottom-0",children:s&&f.jsx(Io,{data:{yesButton:m,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),f.jsx("button",{onClick:()=>r(!n),className:`transition-all p-1 rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-200/70":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative w-10",children:f.jsx(ys,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx("div",{className:"font-medium",children:u!=null&&u.name?u.name:"User"}),h&&f.jsx(Ve,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsxs("div",{className:`fixed bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:[f.jsx("div",{children:f.jsxs("button",{onClick:()=>{a("/app/settings"),e(!1),r(!1)},className:`flex w-full p-1 rounded-md gap-x-2 items-center  ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:de("admin")}),f.jsx("div",{children:"Settings"})]})}),f.jsxs("button",{onClick:()=>{i(!0)},className:`flex w-full p-1 rounded-md gap-x-2 items-center ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:de("logout")}),f.jsx("div",{children:"Log out"})]})]})]})},rz={black:"#000",white:"#fff"},wu=rz,sz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zo=sz,iz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ea=iz,oz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ta=oz,az={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},na=az,lz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ra=lz,cz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Yl=cz,uz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dz=uz;function xu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const hz=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Hv="$$material";function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(null,arguments)}function kt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GS(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var fz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pz=GS(function(t){return fz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function mz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var yz=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gz(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mz(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),an="-ms-",I0="-moz-",be="-webkit-",KS="comm",qv="rule",Gv="decl",vz="@import",QS="@keyframes",_z="@layer",wz=Math.abs,Yf=String.fromCharCode,xz=Object.assign;function Ez(t,e){return Kt(t,0)^45?(((e<<2^Kt(t,0))<<2^Kt(t,1))<<2^Kt(t,2))<<2^Kt(t,3):0}function YS(t){return t.trim()}function Cz(t,e){return(t=e.exec(t))?t[0]:t}function Ae(t,e,n){return t.replace(e,n)}function $g(t,e){return t.indexOf(e)}function Kt(t,e){return t.charCodeAt(e)|0}function Eu(t,e,n){return t.slice(e,n)}function Kr(t){return t.length}function Kv(t){return t.length}function Ud(t,e){return e.push(t),t}function Tz(t,e){return t.map(e).join("")}var Xf=1,dl=1,XS=0,Fn=0,Tt=0,Rl="";function Jf(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Xf,column:dl,length:o,return:""}}function Xl(t,e){return xz(Jf("",null,null,"",null,null,0),t,{length:-t.length},e)}function Iz(){return Tt}function Sz(){return Tt=Fn>0?Kt(Rl,--Fn):0,dl--,Tt===10&&(dl=1,Xf--),Tt}function Kn(){return Tt=Fn<XS?Kt(Rl,Fn++):0,dl++,Tt===10&&(dl=1,Xf++),Tt}function us(){return Kt(Rl,Fn)}function dh(){return Fn}function id(t,e){return Eu(Rl,t,e)}function Cu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JS(t){return Xf=dl=1,XS=Kr(Rl=t),Fn=0,[]}function ZS(t){return Rl="",t}function hh(t){return YS(id(Fn-1,Fg(t===91?t+2:t===40?t+1:t)))}function bz(t){for(;(Tt=us())&&Tt<33;)Kn();return Cu(t)>2||Cu(Tt)>3?"":" "}function Az(t,e){for(;--e&&Kn()&&!(Tt<48||Tt>102||Tt>57&&Tt<65||Tt>70&&Tt<97););return id(t,dh()+(e<6&&us()==32&&Kn()==32))}function Fg(t){for(;Kn();)switch(Tt){case t:return Fn;case 34:case 39:t!==34&&t!==39&&Fg(Tt);break;case 40:t===41&&Fg(t);break;case 92:Kn();break}return Fn}function Rz(t,e){for(;Kn()&&t+Tt!==57;)if(t+Tt===84&&us()===47)break;return"/*"+id(e,Fn-1)+"*"+Yf(t===47?t:Kn())}function kz(t){for(;!Cu(us());)Kn();return id(t,Fn)}function Nz(t){return ZS(fh("",null,null,null,[""],t=JS(t),0,[0],t))}function fh(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,y=1,_=1,g=1,v=0,w="",I=s,R=i,E=r,b=w;_;)switch(m=v,v=Kn()){case 40:if(m!=108&&Kt(b,d-1)==58){$g(b+=Ae(hh(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:b+=hh(v);break;case 9:case 10:case 13:case 32:b+=bz(m);break;case 92:b+=Az(dh()-1,7);continue;case 47:switch(us()){case 42:case 47:Ud(Pz(Rz(Kn(),dh()),e,n),l);break;default:b+="/"}break;case 123*y:a[c++]=Kr(b)*g;case 125*y:case 59:case 0:switch(v){case 0:case 125:_=0;case 59+u:g==-1&&(b=Ae(b,/\f/g,"")),p>0&&Kr(b)-d&&Ud(p>32?J5(b+";",r,n,d-1):J5(Ae(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(Ud(E=X5(b,e,n,c,u,s,a,w,I=[],R=[],d),i),v===123)if(u===0)fh(b,e,E,E,I,i,d,a,R);else switch(h===99&&Kt(b,3)===110?100:h){case 100:case 108:case 109:case 115:fh(t,E,E,r&&Ud(X5(t,E,E,0,0,s,a,w,s,I=[],d),R),s,R,d,a,r?I:R);break;default:fh(b,E,E,E,[""],R,0,a,R)}}c=u=p=0,y=g=1,w=b="",d=o;break;case 58:d=1+Kr(b),p=m;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&Sz()==125)continue}switch(b+=Yf(v),v*y){case 38:g=u>0?1:(b+="\f",-1);break;case 44:a[c++]=(Kr(b)-1)*g,g=1;break;case 64:us()===45&&(b+=hh(Kn())),h=us(),u=d=Kr(w=b+=kz(dh())),v++;break;case 45:m===45&&Kr(b)==2&&(y=0)}}return i}function X5(t,e,n,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],p=Kv(h),m=0,y=0,_=0;m<r;++m)for(var g=0,v=Eu(t,d+1,d=wz(y=o[m])),w=t;g<p;++g)(w=YS(y>0?h[g]+" "+v:Ae(v,/&\f/g,h[g])))&&(l[_++]=w);return Jf(t,e,n,s===0?qv:a,l,c,u)}function Pz(t,e,n){return Jf(t,e,n,KS,Yf(Iz()),Eu(t,2,-2),0)}function J5(t,e,n,r){return Jf(t,e,n,Gv,Eu(t,0,r),Eu(t,r+1,-1),r)}function Ua(t,e){for(var n="",r=Kv(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Lz(t,e,n,r){switch(t.type){case _z:if(t.children.length)break;case vz:case Gv:return t.return=t.return||t.value;case KS:return"";case QS:return t.return=t.value+"{"+Ua(t.children,r)+"}";case qv:t.value=t.props.join(",")}return Kr(n=Ua(t.children,r))?t.return=t.value+"{"+n+"}":""}function Oz(t){var e=Kv(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function Mz(t){return function(e){e.root||(e=e.return)&&t(e)}}var Dz=function(e,n,r){for(var s=0,i=0;s=i,i=us(),s===38&&i===12&&(n[r]=1),!Cu(i);)Kn();return id(e,Fn)},jz=function(e,n){var r=-1,s=44;do switch(Cu(s)){case 0:s===38&&us()===12&&(n[r]=1),e[r]+=Dz(Fn-1,n,r);break;case 2:e[r]+=hh(s);break;case 4:if(s===44){e[++r]=us()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Yf(s)}while(s=Kn());return e},$z=function(e,n){return ZS(jz(JS(e),n))},Z5=new WeakMap,Fz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Z5.get(r))&&!s){Z5.set(e,!0);for(var i=[],o=$z(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Uz=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function eb(t,e){switch(Ez(t,e)){case 5103:return be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return be+t+I0+t+an+t+t;case 6828:case 4268:return be+t+an+t+t;case 6165:return be+t+an+"flex-"+t+t;case 5187:return be+t+Ae(t,/(\w+).+(:[^]+)/,be+"box-$1$2"+an+"flex-$1$2")+t;case 5443:return be+t+an+"flex-item-"+Ae(t,/flex-|-self/,"")+t;case 4675:return be+t+an+"flex-line-pack"+Ae(t,/align-content|flex-|-self/,"")+t;case 5548:return be+t+an+Ae(t,"shrink","negative")+t;case 5292:return be+t+an+Ae(t,"basis","preferred-size")+t;case 6060:return be+"box-"+Ae(t,"-grow","")+be+t+an+Ae(t,"grow","positive")+t;case 4554:return be+Ae(t,/([^-])(transform)/g,"$1"+be+"$2")+t;case 6187:return Ae(Ae(Ae(t,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),t,"")+t;case 5495:case 3959:return Ae(t,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return Ae(Ae(t,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+an+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+t+t;case 4095:case 3583:case 4068:case 2532:return Ae(t,/(.+)-inline(.+)/,be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(t)-1-e>6)switch(Kt(t,e+1)){case 109:if(Kt(t,e+4)!==45)break;case 102:return Ae(t,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+I0+(Kt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$g(t,"stretch")?eb(Ae(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Kt(t,e+1)!==115)break;case 6444:switch(Kt(t,Kr(t)-3-(~$g(t,"!important")&&10))){case 107:return Ae(t,":",":"+be)+t;case 101:return Ae(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(Kt(t,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+an+"$2box$3")+t}break;case 5936:switch(Kt(t,e+11)){case 114:return be+t+an+Ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return be+t+an+Ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return be+t+an+Ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return be+t+an+t+t}return t}var Vz=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Gv:e.return=eb(e.value,e.length);break;case QS:return Ua([Xl(e,{value:Ae(e.value,"@","@"+be)})],s);case qv:if(e.length)return Tz(e.props,function(i){switch(Cz(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ua([Xl(e,{props:[Ae(i,/:(read-\w+)/,":"+I0+"$1")]})],s);case"::placeholder":return Ua([Xl(e,{props:[Ae(i,/:(plac\w+)/,":"+be+"input-$1")]}),Xl(e,{props:[Ae(i,/:(plac\w+)/,":"+I0+"$1")]}),Xl(e,{props:[Ae(i,/:(plac\w+)/,an+"input-$1")]})],s)}return""})}},zz=[Vz],tb=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||zz,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),g=1;g<_.length;g++)i[_[g]]=!0;a.push(y)});var l,c=[Fz,Uz];{var u,d=[Lz,Mz(function(y){u.insert(y)})],h=Oz(c.concat(s,d)),p=function(_){return Ua(Nz(_),h)};l=function(_,g,v,w){u=v,p(_?_+"{"+g.styles+"}":g.styles),w&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new yz({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m},nb={exports:{}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,Qv=Wt?Symbol.for("react.element"):60103,Yv=Wt?Symbol.for("react.portal"):60106,Zf=Wt?Symbol.for("react.fragment"):60107,e2=Wt?Symbol.for("react.strict_mode"):60108,t2=Wt?Symbol.for("react.profiler"):60114,n2=Wt?Symbol.for("react.provider"):60109,r2=Wt?Symbol.for("react.context"):60110,Xv=Wt?Symbol.for("react.async_mode"):60111,s2=Wt?Symbol.for("react.concurrent_mode"):60111,i2=Wt?Symbol.for("react.forward_ref"):60112,o2=Wt?Symbol.for("react.suspense"):60113,Bz=Wt?Symbol.for("react.suspense_list"):60120,a2=Wt?Symbol.for("react.memo"):60115,l2=Wt?Symbol.for("react.lazy"):60116,Wz=Wt?Symbol.for("react.block"):60121,Hz=Wt?Symbol.for("react.fundamental"):60117,qz=Wt?Symbol.for("react.responder"):60118,Gz=Wt?Symbol.for("react.scope"):60119;function nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qv:switch(t=t.type,t){case Xv:case s2:case Zf:case t2:case e2:case o2:return t;default:switch(t=t&&t.$$typeof,t){case r2:case i2:case l2:case a2:case n2:return t;default:return e}}case Yv:return e}}}function rb(t){return nr(t)===s2}De.AsyncMode=Xv;De.ConcurrentMode=s2;De.ContextConsumer=r2;De.ContextProvider=n2;De.Element=Qv;De.ForwardRef=i2;De.Fragment=Zf;De.Lazy=l2;De.Memo=a2;De.Portal=Yv;De.Profiler=t2;De.StrictMode=e2;De.Suspense=o2;De.isAsyncMode=function(t){return rb(t)||nr(t)===Xv};De.isConcurrentMode=rb;De.isContextConsumer=function(t){return nr(t)===r2};De.isContextProvider=function(t){return nr(t)===n2};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qv};De.isForwardRef=function(t){return nr(t)===i2};De.isFragment=function(t){return nr(t)===Zf};De.isLazy=function(t){return nr(t)===l2};De.isMemo=function(t){return nr(t)===a2};De.isPortal=function(t){return nr(t)===Yv};De.isProfiler=function(t){return nr(t)===t2};De.isStrictMode=function(t){return nr(t)===e2};De.isSuspense=function(t){return nr(t)===o2};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zf||t===s2||t===t2||t===e2||t===o2||t===Bz||typeof t=="object"&&t!==null&&(t.$$typeof===l2||t.$$typeof===a2||t.$$typeof===n2||t.$$typeof===r2||t.$$typeof===i2||t.$$typeof===Hz||t.$$typeof===qz||t.$$typeof===Gz||t.$$typeof===Wz)};De.typeOf=nr;nb.exports=De;var Kz=nb.exports,sb=Kz,Qz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ib={};ib[sb.ForwardRef]=Qz;ib[sb.Memo]=Yz;var Xz=!0;function Jz(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var ob=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||Xz===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},ab=function(e,n,r){ob(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Zz(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tB=/[A-Z]|^ms/g,nB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lb=function(e){return e.charCodeAt(1)===45},ex=function(e){return e!=null&&typeof e!="boolean"},jp=GS(function(t){return lb(t)?t:t.replace(tB,"-$&").toLowerCase()}),tx=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(nB,function(r,s,i){return Qr={name:s,styles:i,next:Qr},s})}return eB[e]!==1&&!lb(e)&&typeof n=="number"&&n!==0?n+"px":n};function Tu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Qr={name:n.name,styles:n.styles,next:Qr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Qr={name:r.name,styles:r.styles,next:Qr},r=r.next;var s=n.styles+";";return s}return rB(t,e,n)}case"function":{if(t!==void 0){var i=Qr,o=n(t);return Qr=i,Tu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function rB(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Tu(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":ex(o)&&(r+=jp(i)+":"+tx(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)ex(o[a])&&(r+=jp(i)+":"+tx(i,o[a])+";");else{var l=Tu(t,e,o);switch(i){case"animation":case"animationName":{r+=jp(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var nx=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Qr,Jv=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Qr=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=Tu(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Tu(r,n,e[a]),s&&(i+=o[a]);nx.lastIndex=0;for(var l="",c;(c=nx.exec(i))!==null;)l+="-"+c[1];var u=Zz(i)+l;return{name:u,styles:i,next:Qr}},sB=function(e){return e()},cb=Wp.useInsertionEffect?Wp.useInsertionEffect:!1,iB=cb||sB,rx=cb||T.useLayoutEffect,ub=T.createContext(typeof HTMLElement<"u"?tb({key:"css"}):null),oB=ub.Provider,db=function(e){return T.forwardRef(function(n,r){var s=T.useContext(ub);return e(n,s,r)})},c2=T.createContext({}),$p={exports:{}},sx;function hb(){return sx||(sx=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}($p)),$p.exports}hb();var aB=db(function(t,e){var n=t.styles,r=Jv([n],void 0,T.useContext(c2)),s=T.useRef();return rx(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),rx(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&ab(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function fb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Jv(e)}var u2=function(){var e=fb.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},lB=pz,cB=function(e){return e!=="theme"},ix=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?lB:cB},ox=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},uB=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return ob(n,r,s),iB(function(){return ab(n,r,s)}),null},dB=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=ox(e,n,r),l=a||ix(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=db(function(y,_,g){var v=c&&y.as||s,w="",I=[],R=y;if(y.theme==null){R={};for(var E in y)R[E]=y[E];R.theme=T.useContext(c2)}typeof y.className=="string"?w=Jz(_.registered,I,y.className):y.className!=null&&(w=y.className+" ");var b=Jv(d.concat(I),_.registered,R);w+=_.key+"-"+b.name,o!==void 0&&(w+=" "+o);var C=c&&a===void 0?ix(v):l,x={};for(var S in y)c&&S==="as"||C(S)&&(x[S]=y[S]);return x.className=w,x.ref=g,T.createElement(T.Fragment,null,T.createElement(uB,{cache:_,serialized:b,isStringTag:typeof v=="string"}),T.createElement(v,x))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(y,_){return t(y,G({},n,_,{shouldForwardProp:ox(m,_,!0)})).apply(void 0,d)},m}},hB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ug=dB.bind();hB.forEach(function(t){Ug[t]=Ug(t)});let Vg;typeof document=="object"&&(Vg=tb({key:"css",prepend:!0}));function fB(t){const{injectFirst:e,children:n}=t;return e&&Vg?f.jsx(oB,{value:Vg,children:n}):n}function pB(t){return t==null||Object.keys(t).length===0}function mB(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(pB(s)?n:s):e;return f.jsx(aB,{styles:r})}function gB(t,e){return Ug(t,e)}const yB=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},vB=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:mB,StyledEngineProvider:fB,ThemeContext:c2,css:fb,default:gB,internal_processStyles:yB,keyframes:u2},Symbol.toStringTag,{value:"Module"}));function ti(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pb(t){if(!ti(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=pb(t[n])}),e}function ds(t,e,n={clone:!0}){const r=n.clone?G({},t):t;return ti(t)&&ti(e)&&Object.keys(e).forEach(s=>{ti(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&ti(t[s])?r[s]=ds(t[s],e[s],n):n.clone?r[s]=ti(e[s])?pb(e[s]):e[s]:r[s]=e[s]}),r}const _B=Object.freeze(Object.defineProperty({__proto__:null,default:ds,isPlainObject:ti},Symbol.toStringTag,{value:"Module"})),wB=["values","unit","step"],xB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>G({},n,{[r.key]:r.val}),{})};function mb(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=kt(t,wB),i=xB(e),o=Object.keys(i);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},s)}const EB={borderRadius:4},CB=EB;function Nc(t,e){return e?ds(t,e,{clone:!1}):t}const Zv={xs:0,sm:600,md:900,lg:1200,xl:1536},ax={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Zv[t]}px)`};function Er(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||ax;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||ax;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||Zv).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function TB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function IB(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function SB(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function d2({values:t,breakpoints:e,base:n}){const r=n||SB(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function Ke(t){if(typeof t!="string")throw new Error(xu(7));return t.charAt(0).toUpperCase()+t.slice(1)}const bB=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));function h2(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function S0(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=h2(t,n)||r,e&&(s=e(s,r,t)),s}function _t(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=h2(l,r)||{};return Er(o,a,d=>{let h=S0(c,s,d);return d===h&&typeof d=="string"&&(h=S0(c,s,`${e}${d==="default"?"":Ke(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[e],i}function AB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const RB={m:"margin",p:"padding"},kB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},NB=AB(t=>{if(t.length>2)if(lx[t])t=lx[t];else return[t];const[e,n]=t.split(""),r=RB[e],s=kB[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),e_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],t_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...e_,...t_];function od(t,e,n,r){var s;const i=(s=h2(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function gb(t){return od(t,"spacing",8)}function ad(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function PB(t,e){return n=>t.reduce((r,s)=>(r[s]=ad(e,n),r),{})}function LB(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=NB(n),i=PB(s,r),o=t[n];return Er(t,o,i)}function yb(t,e){const n=gb(t.theme);return Object.keys(t).map(r=>LB(t,e,r,n)).reduce(Nc,{})}function ut(t){return yb(t,e_)}ut.propTypes={};ut.filterProps=e_;function dt(t){return yb(t,t_)}dt.propTypes={};dt.filterProps=t_;function OB(t=8){if(t.mui)return t;const e=gb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function f2(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Nc(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function cr(t){return typeof t!="number"?t:`${t}px solid`}function Tr(t,e){return _t({prop:t,themeKey:"borders",transform:e})}const MB=Tr("border",cr),DB=Tr("borderTop",cr),jB=Tr("borderRight",cr),$B=Tr("borderBottom",cr),FB=Tr("borderLeft",cr),UB=Tr("borderColor"),VB=Tr("borderTopColor"),zB=Tr("borderRightColor"),BB=Tr("borderBottomColor"),WB=Tr("borderLeftColor"),HB=Tr("outline",cr),qB=Tr("outlineColor"),p2=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=od(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ad(e,r)});return Er(t,t.borderRadius,n)}return null};p2.propTypes={};p2.filterProps=["borderRadius"];f2(MB,DB,jB,$B,FB,UB,VB,zB,BB,WB,p2,HB,qB);const m2=t=>{if(t.gap!==void 0&&t.gap!==null){const e=od(t.theme,"spacing",8),n=r=>({gap:ad(e,r)});return Er(t,t.gap,n)}return null};m2.propTypes={};m2.filterProps=["gap"];const g2=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=od(t.theme,"spacing",8),n=r=>({columnGap:ad(e,r)});return Er(t,t.columnGap,n)}return null};g2.propTypes={};g2.filterProps=["columnGap"];const y2=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=od(t.theme,"spacing",8),n=r=>({rowGap:ad(e,r)});return Er(t,t.rowGap,n)}return null};y2.propTypes={};y2.filterProps=["rowGap"];const GB=_t({prop:"gridColumn"}),KB=_t({prop:"gridRow"}),QB=_t({prop:"gridAutoFlow"}),YB=_t({prop:"gridAutoColumns"}),XB=_t({prop:"gridAutoRows"}),JB=_t({prop:"gridTemplateColumns"}),ZB=_t({prop:"gridTemplateRows"}),eW=_t({prop:"gridTemplateAreas"}),tW=_t({prop:"gridArea"});f2(m2,g2,y2,GB,KB,QB,YB,XB,JB,ZB,eW,tW);function Va(t,e){return e==="grey"?e:t}const nW=_t({prop:"color",themeKey:"palette",transform:Va}),rW=_t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Va}),sW=_t({prop:"backgroundColor",themeKey:"palette",transform:Va});f2(nW,rW,sW);function Vn(t){return t<=1&&t!==0?`${t*100}%`:t}const iW=_t({prop:"width",transform:Vn}),n_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Zv[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Vn(n)}};return Er(t,t.maxWidth,e)}return null};n_.filterProps=["maxWidth"];const oW=_t({prop:"minWidth",transform:Vn}),aW=_t({prop:"height",transform:Vn}),lW=_t({prop:"maxHeight",transform:Vn}),cW=_t({prop:"minHeight",transform:Vn});_t({prop:"size",cssProperty:"width",transform:Vn});_t({prop:"size",cssProperty:"height",transform:Vn});const uW=_t({prop:"boxSizing"});f2(iW,n_,oW,aW,lW,cW,uW);const dW={border:{themeKey:"borders",transform:cr},borderTop:{themeKey:"borders",transform:cr},borderRight:{themeKey:"borders",transform:cr},borderBottom:{themeKey:"borders",transform:cr},borderLeft:{themeKey:"borders",transform:cr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:cr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:p2},color:{themeKey:"palette",transform:Va},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Va},backgroundColor:{themeKey:"palette",transform:Va},p:{style:dt},pt:{style:dt},pr:{style:dt},pb:{style:dt},pl:{style:dt},px:{style:dt},py:{style:dt},padding:{style:dt},paddingTop:{style:dt},paddingRight:{style:dt},paddingBottom:{style:dt},paddingLeft:{style:dt},paddingX:{style:dt},paddingY:{style:dt},paddingInline:{style:dt},paddingInlineStart:{style:dt},paddingInlineEnd:{style:dt},paddingBlock:{style:dt},paddingBlockStart:{style:dt},paddingBlockEnd:{style:dt},m:{style:ut},mt:{style:ut},mr:{style:ut},mb:{style:ut},ml:{style:ut},mx:{style:ut},my:{style:ut},margin:{style:ut},marginTop:{style:ut},marginRight:{style:ut},marginBottom:{style:ut},marginLeft:{style:ut},marginX:{style:ut},marginY:{style:ut},marginInline:{style:ut},marginInlineStart:{style:ut},marginInlineEnd:{style:ut},marginBlock:{style:ut},marginBlockStart:{style:ut},marginBlockEnd:{style:ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:m2},rowGap:{style:y2},columnGap:{style:g2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vn},maxWidth:{style:n_},minWidth:{transform:Vn},height:{transform:Vn},maxHeight:{transform:Vn},minHeight:{transform:Vn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},ld=dW;function hW(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function fW(t,e){return typeof t=="function"?t(e):t}function vb(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=h2(s,c)||{};return d?d(o):Er(o,r,m=>{let y=S0(h,u,m);return m===y&&typeof m=="string"&&(y=S0(h,u,`${n}${m==="default"?"":Ke(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:ld;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=TB(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=fW(c[p],i);if(m!=null)if(typeof m=="object")if(o[p])h=Nc(h,t(p,m,i,o));else{const y=Er({theme:i},m,_=>({[p]:_}));hW(y,m)?h[p]=e({sx:m,theme:i}):h=Nc(h,y)}else h=Nc(h,t(p,m,i,o))}),IB(d,h)}return Array.isArray(s)?s.map(a):a(s)}return e}const _b=vb();_b.filterProps=["sx"];const r_=_b;function wb(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const pW=["breakpoints","palette","spacing","shape"];function s_(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=kt(t,pW),a=mb(n),l=OB(s);let c=ds({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},CB,i)},o);return c.applyStyles=wb,c=e.reduce((u,d)=>ds(u,d),c),c.unstable_sxConfig=G({},ld,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return r_({sx:d,theme:this})},c}const mW=Object.freeze(Object.defineProperty({__proto__:null,default:s_,private_createBreakpoints:mb,unstable_applyStyles:wb},Symbol.toStringTag,{value:"Module"}));function gW(t){return Object.keys(t).length===0}function yW(t=null){const e=T.useContext(c2);return!e||gW(e)?t:e}const vW=s_();function xb(t=vW){return yW(t)}const _W=["sx"],wW=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ld;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function i_(t){const{sx:e}=t,n=kt(t,_W),{systemProps:r,otherProps:s}=wW(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return ti(a)?G({},r,a):r}:i=G({},r,e),G({},s,{sx:i})}const xW=Object.freeze(Object.defineProperty({__proto__:null,default:r_,extendSxProp:i_,unstable_createStyleFunctionSx:vb,unstable_defaultSxConfig:ld},Symbol.toStringTag,{value:"Module"})),cx=t=>t,EW=()=>{let t=cx;return{configure(e){t=e},generate(e){return t(e)},reset(){t=cx}}},CW=EW(),TW=CW;function Eb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Eb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Eb(t))&&(r&&(r+=" "),r+=e);return r}const IW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ir(t,e,n="Mui"){const r=IW[e];return r?`${n}-${r}`:`${TW.generate(t)}-${e}`}function Sr(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Ir(t,s,n)}),r}var Cb={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=Symbol.for("react.element"),a_=Symbol.for("react.portal"),v2=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),w2=Symbol.for("react.profiler"),x2=Symbol.for("react.provider"),E2=Symbol.for("react.context"),SW=Symbol.for("react.server_context"),C2=Symbol.for("react.forward_ref"),T2=Symbol.for("react.suspense"),I2=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),b2=Symbol.for("react.lazy"),bW=Symbol.for("react.offscreen"),Tb;Tb=Symbol.for("react.module.reference");function br(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o_:switch(t=t.type,t){case v2:case w2:case _2:case T2:case I2:return t;default:switch(t=t&&t.$$typeof,t){case SW:case E2:case C2:case b2:case S2:case x2:return t;default:return e}}case a_:return e}}}je.ContextConsumer=E2;je.ContextProvider=x2;je.Element=o_;je.ForwardRef=C2;je.Fragment=v2;je.Lazy=b2;je.Memo=S2;je.Portal=a_;je.Profiler=w2;je.StrictMode=_2;je.Suspense=T2;je.SuspenseList=I2;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return br(t)===E2};je.isContextProvider=function(t){return br(t)===x2};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o_};je.isForwardRef=function(t){return br(t)===C2};je.isFragment=function(t){return br(t)===v2};je.isLazy=function(t){return br(t)===b2};je.isMemo=function(t){return br(t)===S2};je.isPortal=function(t){return br(t)===a_};je.isProfiler=function(t){return br(t)===w2};je.isStrictMode=function(t){return br(t)===_2};je.isSuspense=function(t){return br(t)===T2};je.isSuspenseList=function(t){return br(t)===I2};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===v2||t===w2||t===_2||t===T2||t===I2||t===bW||typeof t=="object"&&t!==null&&(t.$$typeof===b2||t.$$typeof===S2||t.$$typeof===x2||t.$$typeof===E2||t.$$typeof===C2||t.$$typeof===Tb||t.getModuleId!==void 0)};je.typeOf=br;Cb.exports=je;var ux=Cb.exports;const AW=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Ib(t){const e=`${t}`.match(AW);return e&&e[1]||""}function Sb(t,e=""){return t.displayName||t.name||Ib(t)||e}function dx(t,e,n){const r=Sb(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function RW(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Sb(t,"Component");if(typeof t=="object")switch(t.$$typeof){case ux.ForwardRef:return dx(t,t.render,"ForwardRef");case ux.Memo:return dx(t,t.type,"memo");default:return}}}const kW=Object.freeze(Object.defineProperty({__proto__:null,default:RW,getFunctionName:Ib},Symbol.toStringTag,{value:"Module"}));function l_(t,e){const n=G({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=G({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=G({},i),Object.keys(s).forEach(o=>{n[r][o]=l_(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function NW(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:l_(e.components[n].defaultProps,r)}function PW({props:t,name:e,defaultTheme:n,themeId:r}){let s=xb(n);return r&&(s=s[r]||s),NW({theme:s,name:e,props:t})}const LW=typeof window<"u"?T.useLayoutEffect:T.useEffect,OW=LW;function MW(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const DW=Object.freeze(Object.defineProperty({__proto__:null,default:MW},Symbol.toStringTag,{value:"Module"}));function jW(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Vd(t){const e=T.useRef(t);return OW(()=>{e.current=t}),T.useRef((...n)=>(0,e.current)(...n)).current}function hx(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{jW(n,e)})},t)}const fx={};function $W(t,e){const n=T.useRef(fx);return n.current===fx&&(n.current=t(e)),n}const FW=[];function UW(t){T.useEffect(t,FW)}class A2{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new A2}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function VW(){const t=$W(A2.create).current;return UW(t.disposeEffect),t}let R2=!0,zg=!1;const zW=new A2,BW={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function WW(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&BW[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function HW(t){t.metaKey||t.altKey||t.ctrlKey||(R2=!0)}function Fp(){R2=!1}function qW(){this.visibilityState==="hidden"&&zg&&(R2=!0)}function GW(t){t.addEventListener("keydown",HW,!0),t.addEventListener("mousedown",Fp,!0),t.addEventListener("pointerdown",Fp,!0),t.addEventListener("touchstart",Fp,!0),t.addEventListener("visibilitychange",qW,!0)}function KW(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return R2||WW(e)}function QW(){const t=T.useCallback(s=>{s!=null&&GW(s.ownerDocument)},[]),e=T.useRef(!1);function n(){return e.current?(zg=!0,zW.start(100,()=>{zg=!1}),e.current=!1,!0):!1}function r(s){return KW(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Wr(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function YW(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var wt={},bb={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(bb);var Ab=bb.exports;const XW=Ri(hz),JW=Ri(DW);var Rb=Ab;Object.defineProperty(wt,"__esModule",{value:!0});var ai=wt.alpha=Lb;wt.blend=dH;wt.colorChannel=void 0;var ZW=wt.darken=u_;wt.decomposeColor=Cr;wt.emphasize=Ob;var eH=wt.getContrastRatio=oH;wt.getLuminance=b0;wt.hexToRgb=kb;wt.hslToRgb=Pb;var tH=wt.lighten=d_;wt.private_safeAlpha=aH;wt.private_safeColorChannel=void 0;wt.private_safeDarken=lH;wt.private_safeEmphasize=uH;wt.private_safeLighten=cH;wt.recomposeColor=kl;wt.rgbToHex=iH;var px=Rb(XW),nH=Rb(JW);function c_(t,e=0,n=1){return(0,nH.default)(t,e,n)}function kb(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function rH(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Cr(t){if(t.type)return t;if(t.charAt(0)==="#")return Cr(kb(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,px.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,px.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const Nb=t=>{const e=Cr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};wt.colorChannel=Nb;const sH=(t,e)=>{try{return Nb(t)}catch{return t}};wt.private_safeColorChannel=sH;function kl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iH(t){if(t.indexOf("#")===0)return t;const{values:e}=Cr(t);return`#${e.map((n,r)=>rH(r===3?Math.round(255*n):n)).join("")}`}function Pb(t){t=Cr(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),kl({type:a,values:l})}function b0(t){t=Cr(t);let e=t.type==="hsl"||t.type==="hsla"?Cr(Pb(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function oH(t,e){const n=b0(t),r=b0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Lb(t,e){return t=Cr(t),e=c_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,kl(t)}function aH(t,e,n){try{return Lb(t,e)}catch{return t}}function u_(t,e){if(t=Cr(t),e=c_(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return kl(t)}function lH(t,e,n){try{return u_(t,e)}catch{return t}}function d_(t,e){if(t=Cr(t),e=c_(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return kl(t)}function cH(t,e,n){try{return d_(t,e)}catch{return t}}function Ob(t,e=.15){return b0(t)>.5?u_(t,e):d_(t,e)}function uH(t,e,n){try{return Ob(t,e)}catch{return t}}function dH(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=Cr(t),o=Cr(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return kl({type:"rgb",values:a})}const hH=["mode","contrastThreshold","tonalOffset"],mx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wu.white,default:wu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Up={text:{primary:wu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gx(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=tH(t.main,s):e==="dark"&&(t.dark=ZW(t.main,i)))}function fH(t="light"){return t==="dark"?{main:ta[200],light:ta[50],dark:ta[400]}:{main:ta[700],light:ta[400],dark:ta[800]}}function pH(t="light"){return t==="dark"?{main:ea[200],light:ea[50],dark:ea[400]}:{main:ea[500],light:ea[300],dark:ea[700]}}function mH(t="light"){return t==="dark"?{main:Zo[500],light:Zo[300],dark:Zo[700]}:{main:Zo[700],light:Zo[400],dark:Zo[800]}}function gH(t="light"){return t==="dark"?{main:na[400],light:na[300],dark:na[700]}:{main:na[700],light:na[500],dark:na[900]}}function yH(t="light"){return t==="dark"?{main:ra[400],light:ra[300],dark:ra[700]}:{main:ra[800],light:ra[500],dark:ra[900]}}function vH(t="light"){return t==="dark"?{main:Yl[400],light:Yl[300],dark:Yl[700]}:{main:"#ed6c02",light:Yl[500],dark:Yl[900]}}function _H(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=kt(t,hH),i=t.primary||fH(e),o=t.secondary||pH(e),a=t.error||mH(e),l=t.info||gH(e),c=t.success||yH(e),u=t.warning||vH(e);function d(y){return eH(y,Up.text.primary)>=n?Up.text.primary:mx.text.primary}const h=({color:y,name:_,mainShade:g=500,lightShade:v=300,darkShade:w=700})=>{if(y=G({},y),!y.main&&y[g]&&(y.main=y[g]),!y.hasOwnProperty("main"))throw new Error(xu(11,_?` (${_})`:"",g));if(typeof y.main!="string")throw new Error(xu(12,_?` (${_})`:"",JSON.stringify(y.main)));return gx(y,"light",v,r),gx(y,"dark",w,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:Up,light:mx};return ds(G({common:G({},wu),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:dz,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),s)}const wH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xH(t){return Math.round(t*1e5)/1e5}const yx={textTransform:"uppercase"},vx='"Roboto", "Helvetica", "Arial", sans-serif';function EH(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=vx,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=kt(n,wH),p=s/14,m=d||(g=>`${g/c*p}rem`),y=(g,v,w,I,R)=>G({fontFamily:r,fontWeight:g,fontSize:m(v),lineHeight:w},r===vx?{letterSpacing:`${xH(I/v)}em`}:{},R,u),_={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,yx),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,yx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ds(G({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const CH=.2,TH=.14,IH=.12;function st(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${CH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${TH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${IH})`].join(",")}const SH=["none",st(0,2,1,-1,0,1,1,0,0,1,3,0),st(0,3,1,-2,0,2,2,0,0,1,5,0),st(0,3,3,-2,0,3,4,0,0,1,8,0),st(0,2,4,-1,0,4,5,0,0,1,10,0),st(0,3,5,-1,0,5,8,0,0,1,14,0),st(0,3,5,-1,0,6,10,0,0,1,18,0),st(0,4,5,-2,0,7,10,1,0,2,16,1),st(0,5,5,-3,0,8,10,1,0,3,14,2),st(0,5,6,-3,0,9,12,1,0,3,16,2),st(0,6,6,-3,0,10,14,1,0,4,18,3),st(0,6,7,-4,0,11,15,1,0,4,20,3),st(0,7,8,-4,0,12,17,2,0,5,22,4),st(0,7,8,-4,0,13,19,2,0,5,24,4),st(0,7,9,-4,0,14,21,2,0,5,26,4),st(0,8,9,-5,0,15,22,2,0,6,28,5),st(0,8,10,-5,0,16,24,2,0,6,30,5),st(0,8,11,-5,0,17,26,2,0,6,32,5),st(0,9,11,-5,0,18,28,2,0,7,34,6),st(0,9,12,-6,0,19,29,2,0,7,36,6),st(0,10,13,-6,0,20,31,3,0,8,38,7),st(0,10,13,-6,0,21,33,3,0,8,40,7),st(0,10,14,-6,0,22,35,3,0,8,42,7),st(0,11,14,-7,0,23,36,3,0,9,44,8),st(0,11,15,-7,0,24,38,3,0,9,46,8)],bH=SH,AH=["duration","easing","delay"],RH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _x(t){return`${Math.round(t)}ms`}function NH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function PH(t){const e=G({},RH,t.easing),n=G({},kH,t.duration);return G({getAutoHeightDuration:NH,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return kt(i,AH),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:_x(o)} ${a} ${typeof l=="string"?l:_x(l)}`).join(",")}},t,{easing:e,duration:n})}const LH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},OH=LH,MH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function DH(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=kt(t,MH);if(t.vars)throw new Error(xu(18));const a=_H(r),l=s_(t);let c=ds(l,{mixins:YW(l.breakpoints,n),palette:a,shadows:bH.slice(),typography:EH(a,i),transitions:PH(s),zIndex:G({},OH)});return c=ds(c,o),c=e.reduce((u,d)=>ds(u,d),c),c.unstable_sxConfig=G({},ld,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return r_({sx:d,theme:this})},c}const jH=DH(),h_=jH;function $H(){const t=xb(h_);return t[Hv]||t}function Ar({props:t,name:e}){return PW({props:t,name:e,defaultTheme:h_,themeId:Hv})}var cd={},Vp={exports:{}},wx;function FH(){return wx||(wx=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)>=0)continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Vp)),Vp.exports}const UH=Ri(vB),VH=Ri(_B),zH=Ri(bB),BH=Ri(kW),WH=Ri(mW),HH=Ri(xW);var Nl=Ab;Object.defineProperty(cd,"__esModule",{value:!0});var qH=cd.default=iq;cd.shouldForwardProp=ph;cd.systemDefaultTheme=void 0;var ir=Nl(hb()),Bg=Nl(FH()),xx=ZH(UH),GH=VH;Nl(zH);Nl(BH);var KH=Nl(WH),QH=Nl(HH);const YH=["ownerState"],XH=["variants"],JH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Mb(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Mb=function(r){return r?n:e})(t)}function ZH(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Mb(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function eq(t){return Object.keys(t).length===0}function tq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ph(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const nq=cd.systemDefaultTheme=(0,KH.default)(),rq=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function zd({defaultTheme:t,theme:e,themeId:n}){return eq(e)?t:e[n]||e}function sq(t){return t?(e,n)=>n[t]:null}function mh(t,e){let{ownerState:n}=e,r=(0,Bg.default)(e,YH);const s=typeof t=="function"?t((0,ir.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>mh(i,(0,ir.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,Bg.default)(s,XH);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,ir.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,ir.default)({ownerState:n},r,n)):l.style))}),a}return s}function iq(t={}){const{themeId:e,defaultTheme:n=nq,rootShouldForwardProp:r=ph,slotShouldForwardProp:s=ph}=t,i=o=>(0,QH.default)((0,ir.default)({},o,{theme:zd((0,ir.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,xx.internal_processStyles)(o,R=>R.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=sq(rq(c))}=a,p=(0,Bg.default)(a,JH),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let _,g=ph;c==="Root"||c==="root"?g=r:c?g=s:tq(o)&&(g=void 0);const v=(0,xx.default)(o,(0,ir.default)({shouldForwardProp:g,label:_},p)),w=R=>typeof R=="function"&&R.__emotion_real!==R||(0,GH.isPlainObject)(R)?E=>mh(R,(0,ir.default)({},E,{theme:zd({theme:E.theme,defaultTheme:n,themeId:e})})):R,I=(R,...E)=>{let b=w(R);const C=E?E.map(w):[];l&&h&&C.push(P=>{const N=zd((0,ir.default)({},P,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const L=N.components[l].styleOverrides,O={};return Object.entries(L).forEach(([j,k])=>{O[j]=mh(k,(0,ir.default)({},P,{theme:N}))}),h(P,O)}),l&&!m&&C.push(P=>{var N;const L=zd((0,ir.default)({},P,{defaultTheme:n,themeId:e})),O=L==null||(N=L.components)==null||(N=N[l])==null?void 0:N.variants;return mh({variants:O},(0,ir.default)({},P,{theme:L}))}),y||C.push(i);const x=C.length-E.length;if(Array.isArray(R)&&x>0){const P=new Array(x).fill("");b=[...R,...P],b.raw=[...R.raw,...P]}const S=v(b,...C);return o.muiName&&(S.muiName=o.muiName),S};return v.withConfig&&(I.withConfig=v.withConfig),I}}function oq(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const aq=t=>oq(t)&&t!=="classes",Db=aq,lq=qH({themeId:Hv,defaultTheme:h_,rootShouldForwardProp:Db}),bn=lq,cq=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},Ex=cq;function Wg(t,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wg(t,e)}function uq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wg(t,e)}const Cx=Xi.createContext(null);function dq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f_(t,e){var n=function(i){return e&&T.isValidElement(i)?e(i):i},r=Object.create(null);return t&&T.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function hq(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function uo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function fq(t,e){return f_(t.children,function(n){return T.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:uo(n,"appear",t),enter:uo(n,"enter",t),exit:uo(n,"exit",t)})})}function pq(t,e,n){var r=f_(t.children),s=hq(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(T.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=T.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=T.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:uo(o,"exit",t),enter:uo(o,"enter",t)}):!l&&a&&!u?s[i]=T.cloneElement(o,{in:!1}):l&&a&&T.isValidElement(c)&&(s[i]=T.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:uo(o,"exit",t),enter:uo(o,"enter",t)}))}}),s}var mq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},gq={component:"div",childFactory:function(e){return e}},p_=function(t){uq(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(dq(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?fq(s,a):pq(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=f_(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=kt(s,["component","childFactory"]),l=this.state.contextValue,c=mq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?Xi.createElement(Cx.Provider,{value:l},c):Xi.createElement(Cx.Provider,{value:l},Xi.createElement(i,a,c))},e}(Xi.Component);p_.propTypes={};p_.defaultProps=gq;const yq=p_;function vq(t){return Ir("MuiPaper",t)}Sr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _q=["className","component","elevation","square","variant"],wq=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Wr(i,vq,s)},xq=bn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ai("#fff",Ex(e.elevation))}, ${ai("#fff",Ex(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Eq=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=kt(r,_q),u=G({},r,{component:i,elevation:o,square:a,variant:l}),d=wq(u);return f.jsx(xq,G({as:i,ownerState:u,className:yt(d.root,s),ref:n},c))}),jb=Eq;function Cq(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=T.useState(!1),h=yt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},m=yt(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),T.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:m})})}const Tq=Sr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),or=Tq,Iq=["center","classes","className"];let k2=t=>t,Tx,Ix,Sx,bx;const Hg=550,Sq=80,bq=u2(Tx||(Tx=k2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Aq=u2(Ix||(Ix=k2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Rq=u2(Sx||(Sx=k2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),kq=bn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Nq=bn(Cq,{name:"MuiTouchRipple",slot:"Ripple"})(bx||(bx=k2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),or.rippleVisible,bq,Hg,({theme:t})=>t.transitions.easing.easeInOut,or.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,or.child,or.childLeaving,Aq,Hg,({theme:t})=>t.transitions.easing.easeInOut,or.childPulsate,Rq,({theme:t})=>t.transitions.easing.easeInOut),Pq=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=kt(r,Iq),[l,c]=T.useState([]),u=T.useRef(0),d=T.useRef(null);T.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=T.useRef(!1),p=VW(),m=T.useRef(null),y=T.useRef(null),_=T.useCallback(I=>{const{pulsate:R,rippleX:E,rippleY:b,rippleSize:C,cb:x}=I;c(S=>[...S,f.jsx(Nq,{classes:{ripple:yt(i.ripple,or.ripple),rippleVisible:yt(i.rippleVisible,or.rippleVisible),ripplePulsate:yt(i.ripplePulsate,or.ripplePulsate),child:yt(i.child,or.child),childLeaving:yt(i.childLeaving,or.childLeaving),childPulsate:yt(i.childPulsate,or.childPulsate)},timeout:Hg,pulsate:R,rippleX:E,rippleY:b,rippleSize:C},u.current)]),u.current+=1,d.current=x},[i]),g=T.useCallback((I={},R={},E=()=>{})=>{const{pulsate:b=!1,center:C=s||R.pulsate,fakeElement:x=!1}=R;if((I==null?void 0:I.type)==="mousedown"&&h.current){h.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(h.current=!0);const S=x?null:y.current,P=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,L,O;if(C||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)N=Math.round(P.width/2),L=Math.round(P.height/2);else{const{clientX:j,clientY:k}=I.touches&&I.touches.length>0?I.touches[0]:I;N=Math.round(j-P.left),L=Math.round(k-P.top)}if(C)O=Math.sqrt((2*P.width**2+P.height**2)/3),O%2===0&&(O+=1);else{const j=Math.max(Math.abs((S?S.clientWidth:0)-N),N)*2+2,k=Math.max(Math.abs((S?S.clientHeight:0)-L),L)*2+2;O=Math.sqrt(j**2+k**2)}I!=null&&I.touches?m.current===null&&(m.current=()=>{_({pulsate:b,rippleX:N,rippleY:L,rippleSize:O,cb:E})},p.start(Sq,()=>{m.current&&(m.current(),m.current=null)})):_({pulsate:b,rippleX:N,rippleY:L,rippleSize:O,cb:E})},[s,_,p]),v=T.useCallback(()=>{g({},{pulsate:!0})},[g]),w=T.useCallback((I,R)=>{if(p.clear(),(I==null?void 0:I.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{w(I,R)});return}m.current=null,c(E=>E.length>0?E.slice(1):E),d.current=R},[p]);return T.useImperativeHandle(n,()=>({pulsate:v,start:g,stop:w}),[v,g,w]),f.jsx(kq,G({className:yt(or.root,i.root,o),ref:y},a,{children:f.jsx(yq,{component:null,exit:!0,children:l})}))}),Lq=Pq;function Oq(t){return Ir("MuiButtonBase",t)}const Mq=Sr("MuiButtonBase",["root","disabled","focusVisible"]),Dq=Mq,jq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$q=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=Wr({root:["root",e&&"disabled",n&&"focusVisible"]},Oq,s);return n&&r&&(o.root+=` ${r}`),o},Fq=bn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Dq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Uq=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:y,onContextMenu:_,onDragLeave:g,onFocus:v,onFocusVisible:w,onKeyDown:I,onKeyUp:R,onMouseDown:E,onMouseLeave:b,onMouseUp:C,onTouchEnd:x,onTouchMove:S,onTouchStart:P,tabIndex:N=0,TouchRippleProps:L,touchRippleRef:O,type:j}=r,k=kt(r,jq),A=T.useRef(null),D=T.useRef(null),M=hx(D,O),{isFocusVisibleRef:$,onFocus:H,onBlur:z,ref:X}=QW(),[V,F]=T.useState(!1);c&&V&&F(!1),T.useImperativeHandle(s,()=>({focusVisible:()=>{F(!0),A.current.focus()}}),[]);const[ee,he]=T.useState(!1);T.useEffect(()=>{he(!0)},[]);const ye=ee&&!u&&!c;T.useEffect(()=>{V&&h&&!u&&ee&&D.current.pulsate()},[u,h,V,ee]);function ie(ne,Fe,_n=d){return Vd(qt=>(Fe&&Fe(qt),!_n&&D.current&&D.current[ne](qt),!0))}const Ie=ie("start",E),Ne=ie("stop",_),We=ie("stop",g),An=ie("stop",C),nn=ie("stop",ne=>{V&&ne.preventDefault(),b&&b(ne)}),He=ie("start",P),xt=ie("stop",x),$e=ie("stop",S),Pe=ie("stop",ne=>{z(ne),$.current===!1&&F(!1),m&&m(ne)},!1),Se=Vd(ne=>{A.current||(A.current=ne.currentTarget),H(ne),$.current===!0&&(F(!0),w&&w(ne)),v&&v(ne)}),gt=()=>{const ne=A.current;return l&&l!=="button"&&!(ne.tagName==="A"&&ne.href)},qe=T.useRef(!1),Ht=Vd(ne=>{h&&!qe.current&&V&&D.current&&ne.key===" "&&(qe.current=!0,D.current.stop(ne,()=>{D.current.start(ne)})),ne.target===ne.currentTarget&&gt()&&ne.key===" "&&ne.preventDefault(),I&&I(ne),ne.target===ne.currentTarget&&gt()&&ne.key==="Enter"&&!c&&(ne.preventDefault(),y&&y(ne))}),Xe=Vd(ne=>{h&&ne.key===" "&&D.current&&V&&!ne.defaultPrevented&&(qe.current=!1,D.current.stop(ne,()=>{D.current.pulsate(ne)})),R&&R(ne),y&&ne.target===ne.currentTarget&&gt()&&ne.key===" "&&!ne.defaultPrevented&&y(ne)});let Te=l;Te==="button"&&(k.href||k.to)&&(Te=p);const ct={};Te==="button"?(ct.type=j===void 0?"button":j,ct.disabled=c):(!k.href&&!k.to&&(ct.role="button"),c&&(ct["aria-disabled"]=c));const rr=hx(n,X,A),se=G({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:V}),fe=$q(se);return f.jsxs(Fq,G({as:Te,className:yt(fe.root,a),ownerState:se,onBlur:Pe,onClick:y,onContextMenu:Ne,onFocus:Se,onKeyDown:Ht,onKeyUp:Xe,onMouseDown:Ie,onMouseLeave:nn,onMouseUp:An,onDragLeave:We,onTouchEnd:xt,onTouchMove:$e,onTouchStart:He,ref:rr,tabIndex:c?-1:N,type:j},ct,k,{children:[o,ye?f.jsx(Lq,G({ref:M,center:i},L)):null]}))}),$b=Uq;function Vq(t){return Ir("MuiIconButton",t)}const zq=Sr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Bq=zq,Wq=["edge","children","className","color","disabled","disableFocusRipple","size"],Hq=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Ke(r)}`,s&&`edge${Ke(s)}`,`size${Ke(i)}`]};return Wr(o,Vq,e)},qq=bn($b,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ke(n.color)}`],n.edge&&e[`edge${Ke(n.edge)}`],e[`size${Ke(n.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ai(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":G({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ai(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Bq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Gq=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=kt(r,Wq),h=G({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Hq(h);return f.jsx(qq,G({className:yt(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:i}))}),Fb=Gq;function Kq(t){return Ir("MuiTypography",t)}Sr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Qq=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Yq=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${Ke(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Wr(a,Kq,o)},Xq=bn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ke(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Ax={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Jq={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zq=t=>Jq[t]||t,eG=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiTypography"}),s=Zq(r.color),i=i_(G({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=Ax}=i,m=kt(i,Qq),y=G({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),_=l||(d?"p":p[h]||Ax[h])||"span",g=Yq(y);return f.jsx(Xq,G({as:_,ref:n,ownerState:y,className:yt(g.root,a)},m))}),Yi=eG;function tG(t){return Ir("MuiAppBar",t)}Sr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const nG=["className","color","enableColorOnDark","position"],rG=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${Ke(e)}`,`position${Ke(n)}`]};return Wr(s,tG,r)},Bd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,sG=bn(jb,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ke(n.position)}`],e[`color${Ke(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return G({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&G({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&G({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&G({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Bd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Bd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Bd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Bd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),iG=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=kt(r,nG),c=G({},r,{color:i,position:a,enableColorOnDark:o}),u=rG(c);return f.jsx(sG,G({square:!0,component:"header",ownerState:c,elevation:4,className:yt(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),oG=iG;function aG(t){return Ir("MuiButton",t)}const lG=Sr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Wd=lG,cG=T.createContext({}),uG=cG,dG=T.createContext(void 0),hG=dG,fG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${Ke(e)}`,`size${Ke(s)}`,`${i}Size${Ke(s)}`,`color${Ke(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ke(s)}`],endIcon:["icon","endIcon",`iconSize${Ke(s)}`]},l=Wr(a,aG,o);return G({},o,l)},Ub=t=>G({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),mG=bn($b,{shouldForwardProp:t=>Db(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ke(n.color)}`],e[`size${Ke(n.size)}`],e[`${n.variant}Size${Ke(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return G({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ai(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ai(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ai(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Wd.focusVisible}`]:G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Wd.disabled}`]:G({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ai(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wd.disabled}`]:{boxShadow:"none"}}),gG=bn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Ub(t))),yG=bn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Ub(t))),vG=T.forwardRef(function(e,n){const r=T.useContext(uG),s=T.useContext(hG),i=l_(r,e),o=Ar({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:_=!1,size:g="medium",startIcon:v,type:w,variant:I="text"}=o,R=kt(o,fG),E=G({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:_,size:g,type:w,variant:I}),b=pG(E),C=v&&f.jsx(gG,{className:b.startIcon,ownerState:E,children:v}),x=m&&f.jsx(yG,{className:b.endIcon,ownerState:E,children:m}),S=s||"";return f.jsxs(mG,G({ownerState:E,className:yt(r.className,b.root,u,S),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:yt(b.focusVisible,y),ref:n,type:w},R,{classes:b,children:[C,a,x]}))}),A0=vG;function _G(t){return Ir("MuiCard",t)}Sr("MuiCard",["root"]);const wG=["className","raised"],xG=t=>{const{classes:e}=t;return Wr({root:["root"]},_G,e)},EG=bn(jb,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),CG=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,o=kt(r,wG),a=G({},r,{raised:i}),l=xG(a);return f.jsx(EG,G({className:yt(l.root,s),elevation:i?8:void 0,ref:n,ownerState:a},o))}),qg=CG;function TG(t){return Ir("MuiCardActions",t)}Sr("MuiCardActions",["root","spacing"]);const IG=["disableSpacing","className"],SG=t=>{const{classes:e,disableSpacing:n}=t;return Wr({root:["root",!n&&"spacing"]},TG,e)},bG=bn("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>G({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),AG=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,o=kt(r,IG),a=G({},r,{disableSpacing:s}),l=SG(a);return f.jsx(bG,G({className:yt(l.root,i),ownerState:a,ref:n},o))}),RG=AG;function kG(t){return Ir("MuiCardMedia",t)}Sr("MuiCardMedia",["root","media","img"]);const NG=["children","className","component","image","src","style"],PG=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Wr({root:["root",n&&"media",r&&"img"]},kG,e)},LG=bn("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:s}=n;return[e.root,r&&e.media,s&&e.img]}})(({ownerState:t})=>G({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),OG=["video","audio","picture","iframe","img"],MG=["picture","img"],DG=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiCardMedia"}),{children:s,className:i,component:o="div",image:a,src:l,style:c}=r,u=kt(r,NG),d=OG.indexOf(o)!==-1,h=!d&&a?G({backgroundImage:`url("${a}")`},c):c,p=G({},r,{component:o,isMediaComponent:d,isImageComponent:MG.indexOf(o)!==-1}),m=PG(p);return f.jsx(LG,G({className:yt(m.root,i),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:p,src:d?a||l:void 0},u,{children:s}))}),jG=DG,$G=T.createContext(),Rx=$G;function FG(t){return Ir("MuiGrid",t)}const UG=[0,1,2,3,4,5,6,7,8,9,10],VG=["column-reverse","column","row-reverse","row"],zG=["nowrap","wrap-reverse","wrap"],Jl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Iu=Sr("MuiGrid",["root","container","item","zeroMinWidth",...UG.map(t=>`spacing-xs-${t}`),...VG.map(t=>`direction-xs-${t}`),...zG.map(t=>`wrap-xs-${t}`),...Jl.map(t=>`grid-xs-${t}`),...Jl.map(t=>`grid-sm-${t}`),...Jl.map(t=>`grid-md-${t}`),...Jl.map(t=>`grid-lg-${t}`),...Jl.map(t=>`grid-xl-${t}`)]),BG=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function za(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function WG({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=d2({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${za(u)})`;c={flexBasis:d,maxWidth:d}}}i=G({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function HG({theme:t,ownerState:e}){const n=d2({values:e.direction,breakpoints:t.breakpoints.values});return Er({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Iu.item}`]={maxWidth:"none"}),s})}function Vb({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function qG({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=d2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=Vb({breakpoints:t.breakpoints.values,values:i})),s=Er({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${za(u)}`,[`& > .${Iu.item}`]:{paddingTop:za(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Iu.item}`]:{paddingTop:0}}})}return s}function GG({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=d2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=Vb({breakpoints:t.breakpoints.values,values:i})),s=Er({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${za(u)})`,marginLeft:`-${za(u)}`,[`& > .${Iu.item}`]:{paddingLeft:za(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Iu.item}`]:{paddingLeft:0}}})}return s}function KG(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const QG=bn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=KG(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>G({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),HG,qG,GG,WG);function YG(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const XG=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=YG(i,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Wr(d,FG,e)},JG=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiGrid"}),{breakpoints:s}=$H(),i=i_(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:m=0,wrap:y="wrap",zeroMinWidth:_=!1}=i,g=kt(i,BG),v=p||m,w=l||m,I=T.useContext(Rx),R=u?a||12:I,E={},b=G({},g);s.keys.forEach(S=>{g[S]!=null&&(E[S]=g[S],delete b[S])});const C=G({},i,{columns:R,container:u,direction:d,item:h,rowSpacing:v,columnSpacing:w,wrap:y,zeroMinWidth:_,spacing:m},E,{breakpoints:s.keys}),x=XG(C);return f.jsx(Rx.Provider,{value:R,children:f.jsx(QG,G({ownerState:C,className:yt(x.root,o),as:c,ref:n},b))})}),Ba=JG;function ZG(t){return Ir("MuiToolbar",t)}Sr("MuiToolbar",["root","gutters","regular","dense"]);const eK=["className","component","disableGutters","variant"],tK=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Wr({root:["root",!n&&"gutters",r]},ZG,e)},nK=bn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>G({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),rK=T.forwardRef(function(e,n){const r=Ar({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=kt(r,eK),c=G({},r,{component:i,disableGutters:o,variant:a}),u=tK(c);return f.jsx(nK,G({as:i,className:yt(u.root,s),ref:n,ownerState:c},l))}),sK=rK,iK=({data:t})=>{const{isMenuOpen:e,setIsMenuOpen:n,homeActive:r,historyActive:s,helpActive:i,notificationActive:o,chatroomActive:a,adminActive:l}=t,c=T.useRef(null),{theme:u,userData:d}=T.useContext(Z),h=[{text:"Home",image:"home",path:"/app/posts",active:r,clickFn:()=>n(!1)},{text:"History",image:"history",path:"/app/history",active:s,clickFn:()=>n(!1)},{text:"Help",image:"help",path:"/app/help",active:i,clickFn:()=>n(!1)},{text:"Notifications",image:"notification",path:"/app/notifications",color:"bg-red-600",active:o,clickFn:()=>n(!1)},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:a,clickFn:()=>n(!1)},{text:"Admin",image:"admin",path:"/app/admin",active:l,clickFn:()=>n(!1)}],p=["Admin","Notifications"],m=h.filter(y=>d.isAdmin?!0:!p.includes(y.text));return Fo(c,n),f.jsx("div",{className:"z-30 transition-all duration-300 fixed right-0 left-0  top-0 bottom-0 bg-black/40",children:f.jsxs("div",{ref:c,className:"flex flex-col backdrop-blur-sm  justify-between transition-all duration-300 h-full w-5/6 sm:w-3/5 md:w-3/6 lg:w-2/6 shadow-lg shadow-black bg-[#e3f2fd] text-black",children:[f.jsxs("div",{children:[f.jsx("div",{className:"flex p-2 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(Fb,{onClick:()=>n(!1),children:f.jsx("img",{className:"w-8",src:de("close")})}),f.jsx(Yi,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsx("div",{className:"mr-2",children:m.map(y=>f.jsx(oK,{data:{active:y.active,image:y.image,path:y.path,text:y.text,items:y==null?void 0:y.items,clickFn:y.clickFn,color:y.color}},y.text))})]}),f.jsx(nz,{data:{setIsMenuOpen:n}})]})})},oK=({data:t})=>{const{active:e,image:n,text:r,items:s,path:i,clickFn:o,color:a}=t,l=tr(),{theme:c,currentTest:u}=T.useContext(Z),d=()=>{o&&o()};return f.jsxs("button",{onClick:()=>{l(i),d()},className:`p-2 pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex relative items-center gap-x-1 w-full  hover:shadow-md 
      ${c==="light"?` ${e?"bg-blue-500/70":"hover:bg-slate-200/70"}`:` ${e?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[f.jsx("img",{className:`h-9 w-9 p-1 transition-all
        `,src:de(n)}),f.jsx("div",{children:r}),s>=0&&f.jsx("div",{className:` flex items-center rounded-full justify-center w-6 h-6 text-sm  top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}),u&&r==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",gs(u.name,45),")"]})]})},aK=()=>{const{headerTitle:t,theme:e,setTheme:n,isLogin:r,setHeaderTitle:s}=T.useContext(Z),[i,o]=T.useState(!1),a=ml(),l=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],c=["/app/posts","/app/tests"],u=a.pathname.includes("/app/history"),d=l.includes(a.pathname),h=c.includes(a.pathname),p=a.pathname==="/app/help",m=a.pathname==="/app/settings",y=a.pathname==="/login",_=a.pathname==="/app/notifications",g=a.pathname==="/app/chatroom";if(u)s("History");else if(p)s("Help");else if(d)switch(a.pathname){case"/app/admin":s("Admin");break;case"/app/admin/posts":s("Admin - Posts");break;case"/app/admin/users":s("Admin - Users");break;case"/app/admin/tests":s("Admin - Tests");break;case"/app/admin/help":s("Admin - Help");break}else m?s("Settings"):(y||h)&&s("STAR EDUCATION ACADEMY");return T.useEffect(()=>{Yn(i?"hidden":"auto")},[i]),f.jsx(oG,{position:"relative",children:f.jsx(sK,{sx:{padding:"5px",backgroundColor:"#e3f2fd"},children:f.jsxs(Ba,{container:!0,justifyContent:"space-between",children:[f.jsxs(Ba,{item:!0,display:"flex",alignItems:"center",children:[r&&f.jsxs(f.Fragment,{children:[f.jsx(Fb,{onClick:()=>o(!0),children:f.jsx("img",{className:"w-8",src:de("menu")})}),i&&f.jsx(iK,{data:{homeActive:h,historyActive:u,helpActive:p,notificationActive:_,chatroomActive:g,adminActive:d,isMenuOpen:i,setIsMenuOpen:o}})]}),f.jsx(Yi,{sx:{fontWeight:"bold",color:"black"},children:t})]}),f.jsx(Ba,{item:!0,children:f.jsx("div",{className:"flex gap-x-2 items-center",children:f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},Ea=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),lK=()=>{var y;const{theme:t,userData:e}=T.useContext(Z),n=0,r=10,[s,i]=T.useState(r),[o,a]=T.useState(!1),[l,c]=T.useState({}),u=(y=l==null?void 0:l.results)==null?void 0:y.slice(n,s),d=`${l==null?void 0:l.testName} - Review your answers`,{resultId:h}=B1(),p=()=>{try{const _=Vt(_e(Oe,"users",e.uid),"history"),g=_e(_,h);return _r(g,w=>{const I={id:w.id,...w.data()};c(I)})}catch(_){console.log(_.message)}};T.useEffect(()=>{const _=p();return()=>{_()}},[h]),T.useEffect(()=>(jn(),jn()),[]);const m=()=>{i(s+r)};return T.useEffect(()=>{var _;s>=((_=l==null?void 0:l.results)==null?void 0:_.length)&&a(!0)},[s]),document.title=d,f.jsxs("div",{className:"p-5",children:[f.jsx(Br,{}),l?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:d}),u==null?void 0:u.map(_=>{const{id:g,question:v,isTrue:w,answer:I,userAnswer:R}=_;return w?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:v})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:de("trueIcon")}),f.jsx("div",{children:I})]})]})}),f.jsx(Ea,{})]},`result-${g}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:v})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:de("falseIcon")}),f.jsx("div",{children:R})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:de("trueIcon")}),f.jsx("div",{children:I})]})]})]}),f.jsx(Ea,{})]},`result-${g}`)}),o?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(ze,{data:{image:"down",text:"See More",clickFn:m}})}),f.jsx("div",{children:f.jsx(Vk,{to:`/app/history/${h}`,children:f.jsx(ze,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(Wv,{text:"Unavailable"})]})},cK=()=>{const{deleteFromHistory:t,theme:e,history:n,setHistory:r,userData:s,historyLastDoc:i,setHistoryLastDoc:o}=T.useContext(Z),a=tr(),[l,c]=T.useState(null),[u,d]=T.useState(!1),[h,p]=T.useState(!1),[m,y]=T.useState(!1),[_,g]=T.useState([]);T.useState(null);const v=5,w=()=>{try{const x=Vt(_e(Oe,"users",s.uid),"history");return _r(x,P=>{const N=P.docs.map(L=>({id:L.id,...L.data()}));N.length!==0&&r(N)})}catch(x){return console.log(x.message),()=>{}}};T.useEffect(()=>{jn();const x=w();return()=>{jn(),x()}},[]);const I=x=>{m||a(`/app/history/${x.id}`)},R=()=>{t(l),c(null),d(!1)},E=()=>{d(!1),c(null)},b=(x,S)=>{x.target.checked?g([..._,S]):g(_.filter(P=>P!==S))},C=()=>{const x=n.filter(S=>!_.includes(S.id));r(x),g([]),p(!1),y(!1)};return f.jsxs("div",{className:"p-5",children:[f.jsx(Br,{}),h&&f.jsx(Io,{data:{text:`Are you sure to delete ${_.length} ${_.length<=1?"item":"items"} ?`,yesButton:C,noButton:()=>p(!1),setValue:p}}),u&&f.jsx(Io,{data:{text:"Are you sure to delete ?",yesButton:R,noButton:E,setValue:d}}),n.length!==0?f.jsxs("div",{className:"grid gap-y-2  ",children:[f.jsxs("div",{className:"flex items-center gap-x-2 justify-between",children:[f.jsx(ze,{data:{clickFn:()=>{y(!m),g([])},text:m?"Done":"Select"}}),m&&f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsxs("div",{className:"font-medium rounded-lg",children:[_.length," ",_.length<=1?"item":"items"," selected"]}),f.jsx(Ve,{data:{clickFn:()=>{_.length&&p(!0)},image:"trash"}})]})]}),n.map((x,S)=>f.jsxs("div",{className:`min-h-20 border rounded-md gap-x-3 ${e==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium border-b p-2 rounded-tl-md rounded-tr-md ${e==="light"?"bg-slate-100 border-b-slate-200":"bg-slate-500/70 border-b-slate-400"}`,children:x.testName}),f.jsxs("div",{className:"p-2 flex items-center gap-x-2",children:[m&&f.jsx("input",{checked:_.includes(x.id),onChange:P=>b(P,x.id),className:"form-checkbox rounded-lg border-2 w-6 h-6 border-gray-200 checked:bg-transparent ",type:"checkbox"}),f.jsx("div",{onClick:()=>I(x),className:"flex flex-1 items-center gap-x-3 cursor-pointer",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",x.score," / ",x.results.length," "]}),f.jsxs("div",{className:"",children:["Message: ",gs(x.level,15)]}),f.jsxs("div",{className:" ",children:["Date: ",x.date," (",` ${x.time}`,")"]}),f.jsxs("div",{className:"",children:["Time taken: ",G4(x.timeTaken)||"Unknown"]})]})}),!1]})]},`shadow-md history-item-${x.id}`)),n.length>=v&&f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx("button",{onClick:loadMore,className:`border  rounded-md text-sm p-1 ${e==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"load more"})})]}):f.jsx("p",{children:"No items"})]})},uK=()=>{const[t,e]=T.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return T.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},dK=()=>{const{users:t,theme:e}=T.useContext(Z),n=tr(),r=[{name:"Posts",image:"home",path:"/app/admin/posts"},{name:"Tests",image:"exam",path:"/app/admin/tests"},{name:"Users",image:"user",path:"/app/admin/users"}];return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx(Br,{}),r.map(s=>f.jsxs("button",{onClick:()=>{n(s.path)},className:`transition-all flex items-center gap-x-2 border  p-2 rounded-lg hover:shadow-md  hover:font-bold min-h-[70px] ${e==="light"?"border-gray-200 hover:bg-slate-100 hover:shadow-gray-500 ":"border-slate-500/70 hover:bg-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de(s.image)}),f.jsx("div",{children:s.name})]},s.name))]})},hK=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ko(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=`${hK[h]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(i>0)return`${i} ${i===1?"hour":"hours"} ago`;if(s>0)return`${s} ${s===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const N2=({options:t,left:e="-left-[102px]"})=>{const[n,r]=T.useState(!1),s=T.useRef(null),{theme:i}=T.useContext(Z);Fo(s,r);const o=()=>{r(!n)};return f.jsxs("button",{className:`relative rounded-full p-1 ${i==="light"?"bg-slate-100":"bg-slate-500/70"}`,onClick:o,ref:s,children:[f.jsx("img",{className:"w-6",src:de("moreOption")}),n&&f.jsx("div",{className:`border p-1 rounded-md  grid absolute ${e} bottom-0 w-[100px] ${i==="light"?"border-gray-200 bg-white":"border-gray-500/70 bg-slate-500"}`,children:t.map(a=>{if(a)return f.jsxs("button",{onClick:a.onClick,className:`flex rounded-md items-center gap-x-1 b  p-2 ${i==="light"?"hover:bg-slate-100":"hover:bg-slate-600"}`,children:[f.jsx("img",{className:"w-6",src:de(a.icon)}),f.jsx("p",{children:a.text})]},a.text)})})]})},fK=["January","February","March","April","May","June","July","August","September","October","November","December"],pK=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Do(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=pK[u.getDay()],y=fK[h],_=`${y} ${p}, ${d}`,g=u.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(c>0)return`${g}  ${_}`;if(l>0)return`${g}  ${y} ${p}`;if(a>0)return`${m}, ${g}  ${y} ${p}`;if(o>0)return`${m}, ${g}`;if(i>0)return g;if(s>0)return g;if(r>0)return g}function Us(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}function Jn(t){return t!=null&&t.seconds?t.seconds*1e3:t}const zb=({post:t,collectionName:e})=>{const{id:n}=t,[r,s]=T.useState([]),[i,o]=T.useState([]),{users:a,theme:l}=T.useContext(Z),[c,u]=T.useState(!1),[d,h]=T.useState(!1),p=e==="posts",m=Vt(_e(Oe,e,n),"comments"),y=Vt(_e(Oe,e,n),"likes"),_=()=>_r(y,b=>{const C=b.docs.map(x=>({id:x.id,...x.data()})).sort((x,S)=>Us(x,S,"timestamp","newer"));s(C)}),g=()=>_r(m,b=>{const C=b.docs.map(x=>({id:x.id,...x.data()})).sort((x,S)=>Us(x,S,"timestamp"));o(C)});T.useEffect(()=>{const E=_(),b=g();return()=>{E(),b()}},[]);const v=()=>{let E=!1;return r.forEach(b=>{var C;b.uid===((C=te==null?void 0:te.currentUser)==null?void 0:C.uid)&&(E=!0)}),E},w=async()=>{try{const E=_e(y,te.currentUser.uid),b=v(),C={uid:te.currentUser.uid,timestamp:Wn()};b?await go(E):(await c0(E,C),Bv(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(E){console.log(E.message)}},I=v(),R=()=>{var b;return zr(a,(b=r[0])==null?void 0:b.uid)||null};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between",children:[f.jsx("button",{onClick:()=>{u(!c),h(!1)},className:`transition-all ${l==="light"?`${c?"bg-slate-200":"hover:bg-slate-200"}`:`${c?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:R()?f.jsx("span",{children:r.length===1?R().name:`${R().name} and ${r.length-1} others`}):f.jsxs("span",{children:[r.length," ",r.length>1?"likes":"like"]})}),f.jsxs("button",{onClick:()=>{h(!d),u(!1)},className:`transition-all ${l==="light"?`${d?"bg-slate-200":"hover:bg-slate-200"}`:`${d?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[i.length," ",i.length>1?"comments":"comment"]})]}),f.jsxs("div",{className:`border-t pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(A0,{variant:I?"outlined":"",color:l!=="light"?"warning":"primary",onClick:w,startIcon:f.jsx("img",{className:"w-6",src:de(I?"liked":"like")}),children:I?"Liked":"Like"}),f.jsx(A0,{color:l!=="light"?"warning":"primary",onClick:()=>{h(!d),u(!1)},startIcon:f.jsx("img",{className:"w-6",src:de("comment")}),children:"Comment"})]}),c&&f.jsx(mK,{likes:r,users:a}),d&&f.jsx(gK,{isPost:p,post:t,id:n,comments:i,collectionName:e})]})},mK=({likes:t})=>{const{users:e}=T.useContext(Z);return f.jsx("div",{className:"mt-2 grid gap-y-2",children:t.map(n=>{const r=zr(e,n.uid);return f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(ys,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{children:r==null?void 0:r.name})]},`user-${r==null?void 0:r.uid}`)})})},gK=({post:t,isPost:e,comments:n,id:r,collectionName:s})=>{const[i,o]=T.useState(""),{users:a,theme:l,userData:c}=T.useContext(Z),u=Vt(_e(Oe,s,r),"comments"),[d,h]=T.useState(null),p=async()=>{if(i.trim()){const _={uid:te.currentUser.uid,text:i.trim(),timestamp:Wn()};await Tl(u,_),o(""),Bv(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,i.trim())}},m=async()=>{const _=_e(u,d);if(i.trim()){const g={text:i.trim(),editedTime:Wn()};await vr(_,g),o(""),h(null)}},y=async _=>{const g=_e(u,_);try{await go(g)}catch(v){console.log(v.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"grid gap-y-2",children:n.map(_=>{var I;const g=zr(a,_.uid);console.log(g);const v=_.uid===((I=te==null?void 0:te.currentUser)==null?void 0:I.uid),w=v&&{text:"Edit",icon:"editPencil",onClick:()=>{h(_.id),o(_.text)}};return f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(ys,{image:g==null?void 0:g.image,name:g==null?void 0:g.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2  rounded-lg ${l==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:g==null?void 0:g.name}),f.jsx("div",{children:_.text})]}),f.jsx("div",{className:`text-sm mt-1 ${l==="light"?"text-gray-600":"text-white"}`,children:_!=null&&_.editedTime?f.jsxs("span",{children:["edited ",Do(Jn(_.editedTime))]}):f.jsx("span",{children:Do(Jn(_.timestamp))})})]})]}),v||c!=null&&c.isAdmin?f.jsx(N2,{options:[w,{text:"Delete",icon:"deleteIcon",onClick:()=>y(_.id)}]}):""]},`${_.uid}-${_.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:_=>o(_.target.value),value:i,className:`h-10 flex-1 rounded-lg pl-2 border ${l==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[d&&f.jsx(ze,{data:{image:"falseIcon",clickFn:()=>{h(null),o("")}}}),f.jsx(ze,{data:{clickFn:()=>{i.trim()&&(d?m():p())},image:"send"}})]})]})]})},yK=({t,takeTest:e})=>{const{users:n,theme:r}=T.useContext(Z),s=zr(n,t.uid);return f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-md  rounded-md bg-gradient-to-tr ${r==="light"?"border-blue-200 shadow-gray-200":"border-blue-200 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:s.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:s.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500 ":"text-white"}`,children:Ko(Jn(t.time))})]}),f.jsxs("span",{className:`rounded-md flex items-center p-1 ${r==="light"?"bg-slate-100 ":"bg-slate-500/70 "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&f.jsx("div",{className:"m-2 min-h-32",children:f.jsx("img",{className:"w-full",src:`images/tests/${t.image}`})}),f.jsxs("div",{className:`rounded-bl-lg rounded-br-lg border-t  p-2 pb-5 ${r==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:t.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),f.jsx(A0,{onClick:()=>e(t),children:"Take the test"}),f.jsx(zb,{post:t,collectionName:"tests"})]})]})},kx=({text:t})=>{const{theme:e}=T.useContext(Z);return f.jsx("div",{className:"h-[300px] flex flex-col justify-center items-center",children:f.jsx("p",{className:`text-center ${e==="light"?"":"text-white"}`,children:t})})},vK=()=>{const{setCurrentTest:t,startTimer:e,users:n,theme:r,isLogin:s,posts:i,setPosts:o,tests:a,setTests:l}=T.useContext(Z),{page:c}=B1(),u=ml(),d=tr(),h=u.pathname==="/app/posts",p=u.pathname==="/app/tests";T.useState(!0),T.useState(!0);const m=[{name:"Posts",active:h,image:"home",path:"/app/posts"},{name:"Tests",active:p,image:"exam",path:"/app/tests"}];ul("posts",o,s),ul("tests",l,s);const y=g=>{scrollTo({top:0}),t(g),e()},_=()=>{switch(c){case"posts":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:i.length===0?f.jsx(kx,{text:"No posts"}):i.sort((g,v)=>Us(g,v,"time","newer")).map(g=>{var w,I;const v=zr(n,g.uid);if(!g.draft)return f.jsxs(qg,{sx:{width:"full",padding:"8px",backgroundColor:r!=="light"?"#64748b":"white",color:r!=="light"?"white":"black"},children:[f.jsxs("div",{className:"top-section flex gap-x-2 mb-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:v.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:v.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500":"text-white"}`,children:Ko(Jn(g.time))})]})]}),(g==null?void 0:g.description)&&f.jsx("p",{className:"mb-2 break-words whitespace-pre-wrap",children:g.description}),g.images.length!==0&&f.jsx("div",{className:"image grid gap-y-2",children:f.jsx(_K,{data:{post:g}})}),g.files&&((w=g==null?void 0:g.files)==null?void 0:w.length)!==0&&f.jsx(wK,{files:g.files}),(g==null?void 0:g.links)&&((I=g==null?void 0:g.links)==null?void 0:I.length)!==0&&f.jsx(xK,{links:g.links}),f.jsx(zb,{post:g,collectionName:"posts"})]},`post-${g.id}`)})});case"tests":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:a.length===0?f.jsx(kx,{text:"No tests"}):a.sort((g,v)=>Us(g,v,"timestamp","newer")).map(g=>{if(g.isUploaded)return f.jsx(yK,{t:g,takeTest:y},`tests-${g.id}-${g.name}`)})})}};return f.jsxs("div",{children:[f.jsx(Br,{}),f.jsxs("div",{className:"grid pt-5 pb-5 pl-2 pr-2",children:[f.jsx("div",{className:"flex mb-2 -mt-5 justify-center",children:f.jsx(qg,{justify:"center",sx:{backgroundColor:"#e3f2fd"},children:f.jsx(RG,{children:m.map(g=>f.jsx(A0,{color:"success",onClick:()=>d(g.path),variant:g.active?"contained":"",startIcon:f.jsx("img",{className:"w-6",src:de(g.image)}),children:g.name},g.name))})})}),_()]})]})},_K=({data:t})=>{const{post:e}=t,n=0,[r,s]=T.useState(4),[i,o]=T.useState(!0),a=e.images.slice(n,r),l=e.images.length-4,c=()=>{o(!1),s(e.images.length)};return a.map((u,d)=>f.jsxs("div",{className:"relative ",children:[f.jsx("img",{className:"w-full shadow-md min-h-48",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&i&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-8xl text-white",children:["+",l]})}):""]},`post-${e.id}-image-${u.imageURL}`))},wK=({files:t})=>{const{theme:e}=T.useContext(Z);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.fileURL,download:n.name,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:n.name}),(n==null?void 0:n.size)&&f.jsxs("p",{children:[(n.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${r}-${n.fileURL}`))})},xK=({links:t})=>{const{theme:e}=T.useContext(Z);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.link,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex ga-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:n.title})})]})},`${r}-${n.link}`))})},EK=()=>{const e=new Date().getFullYear(),{theme:n}=T.useContext(Z);return f.jsxs("footer",{className:`w-full flex flex-col items-center p-1 bg-[#e3f2fd] border-t  mt-auto ${n==="light"?"border-t-gray-100":"bg-slate-600 text-white border-t-slate-500"}`,children:[f.jsxs("div",{children:["SEA copyright 2015 - ",e]}),f.jsx("div",{children:"All rights reserved."}),f.jsx("div",{children:"Author: Than Aung Naing"})]})},R0=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),CK=({data:t})=>{const{isLogin:e,refreshUserData:n,setHeaderTitle:r,theme:s}=T.useContext(Z),[i,o]=T.useState(""),[a,l]=T.useState(""),[c,u]=T.useState(""),[d,h]=T.useState(null),[p,m]=T.useState("login"),y=tr();let _;document.title="Login",T.useEffect(()=>{e&&y("/"),r("STAR EDUCATION ACADEMY")},[]),Yn("auto");const g=async(E,b,C,x)=>{try{const S=_e(Oe,"users",te.currentUser.uid),P=await FI(S),N={name:E,email:b,password:C,image:x,isAdmin:!1,createdAt:Wn()};P.exists()||await c0(S,N),n()}catch(S){console.log(S.message)}},v=async()=>{try{await sj(te,XV),g(te.currentUser.displayName,te.currentUser.email,"",te.currentUser.photoURL)}catch(E){clearTimeout(_),h(E.message),_=setTimeout(()=>{h(null)},3e3)}},w=async()=>{try{await LD(te,a,c)}catch(E){clearTimeout(_),h(E.message),_=setTimeout(()=>{h(null)},3e3)}},I=async()=>{try{await PD(te,a,c),g(i,a,c,null)}catch(E){clearTimeout(_),h(E.message),_=setTimeout(()=>{h(null)},3e3)}},R=()=>{switch(p){case"login":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":"text-white bg-slate-500/70 border-slate-500/70"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Log in"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(Zl,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(Zl,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(R0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:w,className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Log in"})]}),f.jsx(Nx,{}),f.jsx("div",{children:f.jsx(ze,{data:{clickFn:v,image:"google",text:"Sign in with Google"}})}),f.jsx(Nx,{}),f.jsx("div",{children:f.jsx(ze,{data:{clickFn:()=>m("signup"),text:"Create new Account"}})})]})]});case"signup":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Create new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(Zl,{data:{type:"text",value:i,setValue:o,placeholder:"Enter your name"}}),f.jsx(Zl,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(Zl,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(R0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:()=>{i.trim()&&I()},className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Sign up"}),f.jsx("div",{children:f.jsx(ze,{data:{clickFn:()=>m("login"),text:"Back",image:"back"}})})]})]})]})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(Br,{}),R()]})},Zl=({data:t})=>{const{value:e,setValue:n,placeholder:r,type:s}=t,{theme:i}=T.useContext(Z);return f.jsx("input",{type:s,value:e,onChange:o=>n(o.target.value),className:`h-10  pl-1 border rounded-lg   ${i==="light"?"border-gray-200 focus:outline-blue-500":"bg-slate-500/70 outline-none border-slate-500/70 text-white"}`,placeholder:r})},Nx=()=>{const{theme:t}=T.useContext(Z);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})};function TK(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Bb(t,e){return new Promise(function(n,r){let s;return IK(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const IK=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=i.getUint32(c+4,u),h=c+d+2+12*i.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var k0={},SK={get exports(){return k0},set exports(t){k0=t}};(function(t){var e,n,r={};SK.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var _=a(u,l+=4),g=o(u,l+=4),v=o(u,l+2),w=o(u,l+4);l+=6;var I=a(u,l+=8);l+=4,l+=g+v+w,r._readLocal(u,I,c,p,_,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var p=u(s,i+=8),m=u(s,i+=2);i+=2;var y=r.bin.readUTF8(s,i,p);if(i+=p,i+=m,c)o[y]={size:l,csize:a};else{var _=new Uint8Array(s.buffer,i);if(h==0)o[y]=new Uint8Array(_.buffer.slice(i,i+a));else{if(h!=8)throw"unknown compression method: "+h;var g=new Uint8Array(l);r.inflateRaw(_,g),o[y]=g}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var d=!r._noNeed(u)&&!i,h=s[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),y=0,_=[];for(var u in c){var g=c[u];_.push(y),y=r._writeHeader(m,y,u,g,0)}var v=0,w=y;for(var u in c)g=c[u],_.push(y),y=r._writeHeader(m,y,u,g,1,_[v++]);var I=y-w;return a(m,y,101010256),y+=4,l(m,y+=4,v),l(m,y+=2,v),a(m,y+=2,I),a(m,y+=4,w),y+=4,y+=2,m.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,h.length),u(s,i+=4,a.usize),d(s,i+=4,r.bin.sizeUTF8(o)),d(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,m=0,y=s.length;if(a==0){for(;h<y;)d(i,p,h+(P=Math.min(65535,y-h))==y?1:0),p=r.F._copyExact(s,h,P,i,p+8),h+=P;return p>>>3}var _=c.lits,g=c.strt,v=c.prev,w=0,I=0,R=0,E=0,b=0,C=0;for(y>2&&(g[C=r.F._hash(s,0)]=0),h=0;h<y;h++){if(b=C,h+1<y-2){C=r.F._hash(s,h+1);var x=h+1&32767;v[x]=g[C],g[C]=x}if(m<=h){(w>14e3||I>26697)&&y-h>100&&(m<h&&(_[w]=h-m,w+=2,m=h),p=r.F._writeBlock(h==y-1||m==y?1:0,_,w,E,s,R,h-R,i,p),w=I=E=0,R=h);var S=0;h<y-2&&(S=r.F._bestMatch(s,h,v,b,Math.min(l[2],y-h),l[3]));var P=S>>>16,N=65535&S;if(S!=0){N=65535&S;var L=u(P=S>>>16,c.of0);c.lhst[257+L]++;var O=u(N,c.df0);c.dhst[O]++,E+=c.exb[L]+c.dxb[O],_[w]=P<<23|h-m,_[w+1]=N<<16|L<<8|O,w+=2,m=h+P}else c.lhst[s[h]]++;I++}}for(R==h&&s.length!=0||(m<h&&(_[w]=h-m,w+=2,m=h),p=r.F._writeBlock(1,_,w,E,s,R,h-R,i,p),w=0,I=0,w=I=E=0,R=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(s,i-h))return 0;for(var p=0,m=0,y=Math.min(32767,i);h<=y&&--c!=0&&d!=u;){if(p==0||s[i+p]==s[i+p-h]){var _=r.F._howLong(s,i,h);if(_>p){if(m=h,(p=_)>=l)break;h+2<_&&(_=h+2);for(var g=0,v=0;v<_-2;v++){var w=i-h+v+32768&32767,I=w-o[w]+32768&32767;I>g&&(g=I,d=w)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,d,h){var p,m,y,_,g,v,w,I,R,E=r.F.U,b=r.F._putsF,C=r.F._putsE;E.lhst[256]++,m=(p=r.F.getTrees())[0],y=p[1],_=p[2],g=p[3],v=p[4],w=p[5],I=p[6],R=p[7];var x=32+(h+3&7?8-(h+3&7):0)+(u<<3),S=a+r.F.contSize(E.fltree,E.lhst)+r.F.contSize(E.fdtree,E.dhst),P=a+r.F.contSize(E.ltree,E.lhst)+r.F.contSize(E.dtree,E.dhst);P+=14+3*w+r.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var N=0;N<286;N++)E.lhst[N]=0;for(N=0;N<30;N++)E.dhst[N]=0;for(N=0;N<19;N++)E.ihst[N]=0;var L=x<S&&x<P?0:S<P?1:2;if(b(d,h,s),b(d,h+1,L),h+=3,L==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var O,j;if(L==1&&(O=E.fltree,j=E.fdtree),L==2){r.F.makeCodes(E.ltree,m),r.F.revCodes(E.ltree,m),r.F.makeCodes(E.dtree,y),r.F.revCodes(E.dtree,y),r.F.makeCodes(E.itree,_),r.F.revCodes(E.itree,_),O=E.ltree,j=E.dtree,C(d,h,g-257),C(d,h+=5,v-1),C(d,h+=5,w-4),h+=4;for(var k=0;k<w;k++)C(d,h+3*k,E.itree[1+(E.ordr[k]<<1)]);h+=3*w,h=r.F._codeTiny(I,E.itree,d,h),h=r.F._codeTiny(R,E.itree,d,h)}for(var A=c,D=0;D<o;D+=2){for(var M=i[D],$=M>>>23,H=A+(8388607&M);A<H;)h=r.F._writeLit(l[A++],O,d,h);if($!=0){var z=i[D+1],X=z>>16,V=z>>8&255,F=255&z;C(d,h=r.F._writeLit(257+V,O,d,h),$-E.of0[V]),h+=E.exb[V],b(d,h=r.F._writeLit(F,j,d,h),X-E.df0[F]),h+=E.dxb[F],A+=$}}h=r.F._writeLit(256,O,d,h)}return h},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),d=0;d<a.length;d+=2)s.ihst[a[d]]++;for(d=0;d<c.length;d+=2)s.ihst[c[d]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,h,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,d=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&s[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&s[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}a.sort(function(I,R){return I.f-R.f});var m=a[0],y=a[1],_=0,g=1,v=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=_!=g&&(v==d||a[_].f<a[v].f)?a[_++]:a[v++],y=_!=g&&(v==d||a[_].f<a[v].f)?a[_++]:a[v++],a[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var w=r.F.setDepth(a[g-1],0);for(w>o&&(r.F.restrictDepth(h,o,w),w=o),u=0;u<d;u++)i[1+(h[u].lit<<1)]=h[u].d;return w},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=i==null;y&&(i=new o(s.length>>>2<<3));for(var _,g,v=0,w=0,I=0,R=0,E=0,b=0,C=0,x=0,S=0;v==0;)if(v=l(s,S,1),w=l(s,S+1,2),S+=3,w!=0){if(y&&(i=r.F._check(i,x+(1<<17))),w==1&&(_=m.flmap,g=m.fdmap,b=511,C=31),w==2){I=c(s,S,5)+257,R=c(s,S+5,5)+1,E=c(s,S+10,4)+4,S+=14;for(var P=0;P<38;P+=2)m.itree[P]=0,m.itree[P+1]=0;var N=1;for(P=0;P<E;P++){var L=c(s,S+3*P,3);m.itree[1+(m.ordr[P]<<1)]=L,L>N&&(N=L)}S+=3*E,d(m.itree,N),h(m.itree,N,m.imap),_=m.lmap,g=m.dmap,S=u(m.imap,(1<<N)-1,I+R,s,S,m.ttree);var O=a._copyOut(m.ttree,0,I,m.ltree);b=(1<<O)-1;var j=a._copyOut(m.ttree,I,R,m.dtree);C=(1<<j)-1,d(m.ltree,O),h(m.ltree,O,_),d(m.dtree,j),h(m.dtree,j,g)}for(;;){var k=_[p(s,S)&b];S+=15&k;var A=k>>>4;if(!(A>>>8))i[x++]=A;else{if(A==256)break;var D=x+A-254;if(A>264){var M=m.ldef[A-257];D=x+(M>>>3)+c(s,S,7&M),S+=7&M}var $=g[p(s,S)&C];S+=15&$;var H=$>>>4,z=m.ddef[H],X=(z>>>4)+l(s,S,15&z);for(S+=15&z,y&&(i=r.F._check(i,x+(1<<17)));x<D;)i[x]=i[x++-X],i[x]=i[x++-X],i[x]=i[x++-X],i[x]=i[x++-X];x=D}}}else{7&S&&(S+=8-(7&S));var V=4+(S>>>3),F=s[V-4]|s[V-3]<<8;y&&(i=r.F._check(i,x+F)),i.set(new o(s.buffer,s.byteOffset+V,F),x),S=V+F<<3,x+=F}return i.length==x?i:i.slice(0,x)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=s[d(a,l)&i];l+=15&p;var m=p>>>4;if(m<=15)c[h]=m,h++;else{var y=0,_=0;m==16?(_=3+u(a,l,2),l+=2,y=c[h-1]):m==17?(_=3+u(a,l,3),l+=3):m==18&&(_=11+u(a,l,7),l+=7);for(var g=h+_;h<g;)c[h]=y,h++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=s[c+i];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,d=s.length,h=u.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<d;p+=2)h[s[p]]++;var m=u.next_code;for(o=0,h[0]=0,a=1;a<=i;a++)o=o+h[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=s[l+1])!=0&&(s[l]=m[c],m[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,d=s[c+1],h=u<<4|d,p=i-d,m=s[c]<<p,y=m+(1<<p);m!=y;)o[l[m]>>>15-i]=h,m++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var bK=TK({__proto__:null,default:k0},[k0]);const kr=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let m=0;m<h;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const m=d*h,y=i(p),_=Math.ceil(d*y/8),g=new Uint8Array(4*m),v=new Uint32Array(g.buffer),{ctype:w}=p,{depth:I}=p,R=t.readUshort;if(w==6){const M=m<<2;if(I==8)for(var E=0;E<M;E+=4)g[E]=u[E],g[E+1]=u[E+1],g[E+2]=u[E+2],g[E+3]=u[E+3];if(I==16)for(E=0;E<M;E++)g[E]=u[E<<1]}else if(w==2){const M=p.tabs.tRNS;if(M==null){if(I==8)for(E=0;E<m;E++){var b=3*E;v[E]=255<<24|u[b+2]<<16|u[b+1]<<8|u[b]}if(I==16)for(E=0;E<m;E++)b=6*E,v[E]=255<<24|u[b+4]<<16|u[b+2]<<8|u[b]}else{var C=M[0];const $=M[1],H=M[2];if(I==8)for(E=0;E<m;E++){var x=E<<2;b=3*E,v[E]=255<<24|u[b+2]<<16|u[b+1]<<8|u[b],u[b]==C&&u[b+1]==$&&u[b+2]==H&&(g[x+3]=0)}if(I==16)for(E=0;E<m;E++)x=E<<2,b=6*E,v[E]=255<<24|u[b+4]<<16|u[b+2]<<8|u[b],R(u,b)==C&&R(u,b+2)==$&&R(u,b+4)==H&&(g[x+3]=0)}}else if(w==3){const M=p.tabs.PLTE,$=p.tabs.tRNS,H=$?$.length:0;if(I==1)for(var S=0;S<h;S++){var P=S*_,N=S*d;for(E=0;E<d;E++){x=N+E<<2;var L=3*(O=u[P+(E>>3)]>>7-((7&E)<<0)&1);g[x]=M[L],g[x+1]=M[L+1],g[x+2]=M[L+2],g[x+3]=O<H?$[O]:255}}if(I==2)for(S=0;S<h;S++)for(P=S*_,N=S*d,E=0;E<d;E++)x=N+E<<2,L=3*(O=u[P+(E>>2)]>>6-((3&E)<<1)&3),g[x]=M[L],g[x+1]=M[L+1],g[x+2]=M[L+2],g[x+3]=O<H?$[O]:255;if(I==4)for(S=0;S<h;S++)for(P=S*_,N=S*d,E=0;E<d;E++)x=N+E<<2,L=3*(O=u[P+(E>>1)]>>4-((1&E)<<2)&15),g[x]=M[L],g[x+1]=M[L+1],g[x+2]=M[L+2],g[x+3]=O<H?$[O]:255;if(I==8)for(E=0;E<m;E++){var O;x=E<<2,L=3*(O=u[E]),g[x]=M[L],g[x+1]=M[L+1],g[x+2]=M[L+2],g[x+3]=O<H?$[O]:255}}else if(w==4){if(I==8)for(E=0;E<m;E++){x=E<<2;var j=u[k=E<<1];g[x]=j,g[x+1]=j,g[x+2]=j,g[x+3]=u[k+1]}if(I==16)for(E=0;E<m;E++){var k;x=E<<2,j=u[k=E<<2],g[x]=j,g[x+1]=j,g[x+2]=j,g[x+3]=u[k+2]}}else if(w==0)for(C=p.tabs.tRNS?p.tabs.tRNS:-1,S=0;S<h;S++){const M=S*_,$=S*d;if(I==1)for(var A=0;A<d;A++){var D=(j=255*(u[M+(A>>>3)]>>>7-(7&A)&1))==255*C?0:255;v[$+A]=D<<24|j<<16|j<<8|j}else if(I==2)for(A=0;A<d;A++)D=(j=85*(u[M+(A>>>2)]>>>6-((3&A)<<1)&3))==85*C?0:255,v[$+A]=D<<24|j<<16|j<<8|j;else if(I==4)for(A=0;A<d;A++)D=(j=17*(u[M+(A>>>1)]>>>4-((1&A)<<2)&15))==17*C?0:255,v[$+A]=D<<24|j<<16|j<<8|j;else if(I==8)for(A=0;A<d;A++)D=(j=u[M+A])==C?0:255,v[$+A]=D<<24|j<<16|j<<8|j;else if(I==16)for(A=0;A<d;A++)j=u[M+(A<<1)],D=R(u,M+(A<<1))==C?0:255,v[$+A]=D<<24|j<<16|j<<8|j}return g}function n(u,d,h,p){const m=i(u),y=Math.ceil(h*m/8),_=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?s(d,_):r(d,_),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(v,w){const I=w.width,R=w.height,E=i(w),b=E>>3,C=Math.ceil(I*E/8),x=new Uint8Array(R*C);let S=0;const P=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],O=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const A=L[j],D=O[j];let M=0,$=0,H=P[j];for(;H<R;)H+=A,$++;let z=N[j];for(;z<I;)z+=D,M++;const X=Math.ceil(M*E/8);o(v,w,S,M,$);let V=0,F=P[j];for(;F<R;){let ee=N[j],he=S+V*X<<3;for(;ee<I;){var k;if(E==1&&(k=(k=v[he>>3])>>7-(7&he)&1,x[F*C+(ee>>3)]|=k<<7-((7&ee)<<0)),E==2&&(k=(k=v[he>>3])>>6-(7&he)&3,x[F*C+(ee>>2)]|=k<<6-((3&ee)<<1)),E==4&&(k=(k=v[he>>3])>>4-(7&he)&15,x[F*C+(ee>>1)]|=k<<4-((1&ee)<<2)),E>=8){const ye=F*C+ee*b;for(let ie=0;ie<b;ie++)x[ye+ie]=v[(he>>3)+ie]}he+=E,ee+=D}V++,F+=A}M*$!=0&&(S+=$*(1+X)),j+=1}return x}(d,u)),d}function r(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let m,y,_=0,g=0,v=0,w=0,I=0,R=0,E=0,b=0,C=0;if(d[0]==3&&d[1]==0)return h||new p(0);const x=u.H,S=x.b,P=x.e,N=x.R,L=x.n,O=x.A,j=x.Z,k=x.m,A=h==null;for(A&&(h=new p(d.length>>>2<<5));_==0;)if(_=S(d,C,1),g=S(d,C+1,2),C+=3,g!=0){if(A&&(h=u.H.W(h,b+(1<<17))),g==1&&(m=k.J,y=k.h,R=511,E=31),g==2){v=P(d,C,5)+257,w=P(d,C+5,5)+1,I=P(d,C+10,4)+4,C+=14;let M=1;for(var D=0;D<38;D+=2)k.Q[D]=0,k.Q[D+1]=0;for(D=0;D<I;D++){const z=P(d,C+3*D,3);k.Q[1+(k.X[D]<<1)]=z,z>M&&(M=z)}C+=3*I,L(k.Q,M),O(k.Q,M,k.u),m=k.w,y=k.d,C=N(k.u,(1<<M)-1,v+w,d,C,k.v);const $=x.V(k.v,0,v,k.C);R=(1<<$)-1;const H=x.V(k.v,v,w,k.D);E=(1<<H)-1,L(k.C,$),O(k.C,$,m),L(k.D,H),O(k.D,H,y)}for(;;){const M=m[j(d,C)&R];C+=15&M;const $=M>>>4;if(!($>>>8))h[b++]=$;else{if($==256)break;{let H=b+$-254;if($>264){const ee=k.q[$-257];H=b+(ee>>>3)+P(d,C,7&ee),C+=7&ee}const z=y[j(d,C)&E];C+=15&z;const X=z>>>4,V=k.c[X],F=(V>>>4)+S(d,C,15&V);for(C+=15&V;b<H;)h[b]=h[b++-F],h[b]=h[b++-F],h[b]=h[b++-F],h[b]=h[b++-F];b=H}}}}else{7&C&&(C+=8-(7&C));const M=4+(C>>>3),$=d[M-4]|d[M-3]<<8;A&&(h=u.H.W(h,b+$)),h.set(new p(d.buffer,d.byteOffset+M,$),b),C=M+$<<3,b+=$}return h.length==b?h:h.slice(0,b)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,h,p,m,y,_){const g=u.H.e,v=u.H.Z;let w=0;for(;w<p;){const I=d[v(m,y)&h];y+=15&I;const R=I>>>4;if(R<=15)_[w]=R,w++;else{let E=0,b=0;R==16?(b=3+g(m,y,2),y+=2,E=_[w-1]):R==17?(b=3+g(m,y,3),y+=3):R==18&&(b=11+g(m,y,7),y+=7);const C=w+b;for(;w<C;)_[w]=E,w++}}return y},u.H.V=function(d,h,p,m){let y=0,_=0;const g=m.length>>>1;for(;_<p;){const v=d[_+h];m[_<<1]=0,m[1+(_<<1)]=v,v>y&&(y=v),_++}for(;_<g;)m[_<<1]=0,m[1+(_<<1)]=0,_++;return y},u.H.n=function(d,h){const p=u.H.m,m=d.length;let y,_,g,v;const w=p.j;for(var I=0;I<=h;I++)w[I]=0;for(I=1;I<m;I+=2)w[d[I]]++;const R=p.K;for(y=0,w[0]=0,_=1;_<=h;_++)y=y+w[_-1]<<1,R[_]=y;for(g=0;g<m;g+=2)v=d[g+1],v!=0&&(d[g]=R[v],R[v]++)},u.H.A=function(d,h,p){const m=d.length,y=u.H.m.r;for(let _=0;_<m;_+=2)if(d[_+1]!=0){const g=_>>1,v=d[_+1],w=g<<4|v,I=h-v;let R=d[_]<<I;const E=R+(1<<I);for(;R!=E;)p[y[R]>>>15-h]=w,R++}},u.H.l=function(d,h){const p=u.H.m.r,m=15-h;for(let y=0;y<d.length;y+=2){const _=d[y]<<h-d[y+1];d[y]=p[_]>>>m}},u.H.M=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,_){for(;y--!=0;)m.push(0,_)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,m){let y=i(d);const _=Math.ceil(p*y/8);let g,v;y=Math.ceil(y/8);let w=u[h],I=0;if(w>1&&(u[h]=[0,0,1][w-2]),w==3)for(I=y;I<_;I++)u[I+1]=u[I+1]+(u[I+1-y]>>>1)&255;for(let R=0;R<m;R++)if(g=h+R*_,v=g+R+1,w=u[v-1],I=0,w==0)for(;I<_;I++)u[g+I]=u[v+I];else if(w==1){for(;I<y;I++)u[g+I]=u[v+I];for(;I<_;I++)u[g+I]=u[v+I]+u[g+I-y]}else if(w==2)for(;I<_;I++)u[g+I]=u[v+I]+u[g+I-_];else if(w==3){for(;I<y;I++)u[g+I]=u[v+I]+(u[g+I-_]>>>1);for(;I<_;I++)u[g+I]=u[v+I]+(u[g+I-_]+u[g+I-y]>>>1)}else{for(;I<y;I++)u[g+I]=u[v+I]+a(0,u[g+I-_],0);for(;I<_;I++)u[g+I]=u[v+I]+a(u[g+I-y],u[g+I-_],u[g+I-y-_])}return u}function a(u,d,h){const p=u+d-h,m=p-u,y=p-d,_=p-h;return m*m<=y*y&&m*m<=_*_?u:y*y<=_*_?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,m,y,_,g,v){const w=Math.min(d,m),I=Math.min(h,y);let R=0,E=0;for(let j=0;j<I;j++)for(let k=0;k<w;k++)if(_>=0&&g>=0?(R=j*d+k<<2,E=(g+j)*m+_+k<<2):(R=(-g+j)*d-_+k<<2,E=j*m+k<<2),v==0)p[E]=u[R],p[E+1]=u[R+1],p[E+2]=u[R+2],p[E+3]=u[R+3];else if(v==1){var b=u[R+3]*.00392156862745098,C=u[R]*b,x=u[R+1]*b,S=u[R+2]*b,P=p[E+3]*(1/255),N=p[E]*P,L=p[E+1]*P,O=p[E+2]*P;const A=1-b,D=b+P*A,M=D==0?0:1/D;p[E+3]=255*D,p[E+0]=(C+N*A)*M,p[E+1]=(x+L*A)*M,p[E+2]=(S+O*A)*M}else if(v==2)b=u[R+3],C=u[R],x=u[R+1],S=u[R+2],P=p[E+3],N=p[E],L=p[E+1],O=p[E+2],b==P&&C==N&&x==L&&S==O?(p[E]=0,p[E+1]=0,p[E+2]=0,p[E+3]=0):(p[E]=C,p[E+1]=x,p[E+2]=S,p[E+3]=b);else if(v==3){if(b=u[R+3],C=u[R],x=u[R+1],S=u[R+2],P=p[E+3],N=p[E],L=p[E+1],O=p[E+2],b==P&&C==N&&x==L&&S==O)continue;if(b<220&&P>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const m=t,y=m.readUshort,_=m.readUint,g={tabs:{},frames:[]},v=new Uint8Array(h.length);let w,I=0,R=0;const E=[137,80,78,71,13,10,26,10];for(var b=0;b<8;b++)if(h[b]!=E[b])throw"The input is not a PNG file!";for(;p<h.length;){const j=m.readUint(h,p);p+=4;const k=m.readASCII(h,p,4);if(p+=4,k=="IHDR")l(h,p,g);else if(k=="iCCP"){for(var C=p;h[C]!=0;)C++;m.readASCII(h,p,C-p),h[C+1];const A=h.slice(C+2,p+j);let D=null;try{D=r(A)}catch{D=s(A)}g.tabs[k]=D}else if(k=="CgBI")g.tabs[k]=h.slice(p,p+4);else if(k=="IDAT"){for(b=0;b<j;b++)v[I+b]=h[p+b];I+=j}else if(k=="acTL")g.tabs[k]={num_frames:_(h,p),num_plays:_(h,p+4)},w=new Uint8Array(h.length);else if(k=="fcTL"){R!=0&&((O=g.frames[g.frames.length-1]).data=n(g,w.slice(0,R),O.rect.width,O.rect.height),R=0);const A={x:_(h,p+12),y:_(h,p+16),width:_(h,p+4),height:_(h,p+8)};let D=y(h,p+22);D=y(h,p+20)/(D==0?100:D);const M={rect:A,delay:Math.round(1e3*D),dispose:h[p+24],blend:h[p+25]};g.frames.push(M)}else if(k=="fdAT"){for(b=0;b<j-4;b++)w[R+b]=h[p+b+4];R+=j-4}else if(k=="pHYs")g.tabs[k]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(k=="cHRM")for(g.tabs[k]=[],b=0;b<8;b++)g.tabs[k].push(m.readUint(h,p+4*b));else if(k=="tEXt"||k=="zTXt"){g.tabs[k]==null&&(g.tabs[k]={});var x=m.nextZero(h,p),S=m.readASCII(h,p,x-p),P=p+j-x-1;if(k=="tEXt")L=m.readASCII(h,x+1,P);else{var N=r(h.slice(x+2,x+2+P));L=m.readUTF8(N,0,N.length)}g.tabs[k][S]=L}else if(k=="iTXt"){g.tabs[k]==null&&(g.tabs[k]={}),x=0,C=p,x=m.nextZero(h,C),S=m.readASCII(h,C,x-C);const A=h[C=x+1];var L;h[C+1],C+=2,x=m.nextZero(h,C),m.readASCII(h,C,x-C),C=x+1,x=m.nextZero(h,C),m.readUTF8(h,C,x-C),P=j-((C=x+1)-p),A==0?L=m.readUTF8(h,C,P):(N=r(h.slice(C,C+P)),L=m.readUTF8(N,0,N.length)),g.tabs[k][S]=L}else if(k=="PLTE")g.tabs[k]=m.readBytes(h,p,j);else if(k=="hIST"){const A=g.tabs.PLTE.length/3;for(g.tabs[k]=[],b=0;b<A;b++)g.tabs[k].push(y(h,p+2*b))}else if(k=="tRNS")g.ctype==3?g.tabs[k]=m.readBytes(h,p,j):g.ctype==0?g.tabs[k]=y(h,p):g.ctype==2&&(g.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(k=="gAMA")g.tabs[k]=m.readUint(h,p)/1e5;else if(k=="sRGB")g.tabs[k]=h[p];else if(k=="bKGD")g.ctype==0||g.ctype==4?g.tabs[k]=[y(h,p)]:g.ctype==2||g.ctype==6?g.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]:g.ctype==3&&(g.tabs[k]=h[p]);else if(k=="IEND")break;p+=j,m.readUint(h,p),p+=4}var O;return R!=0&&((O=g.frames[g.frames.length-1]).data=n(g,w.slice(0,R),O.rect.width,O.rect.height)),g.data=n(g,v,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=h*p*4,_=new Uint8Array(y),g=new Uint8Array(y),v=new Uint8Array(y);for(let I=0;I<d.frames.length;I++){const R=d.frames[I],E=R.rect.x,b=R.rect.y,C=R.rect.width,x=R.rect.height,S=e(R.data,C,x,d);if(I!=0)for(var w=0;w<y;w++)v[w]=_[w];if(R.blend==0?c(S,C,x,_,h,p,E,b,0):R.blend==1&&c(S,C,x,_,h,p,E,b,1),m.push(_.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)c(g,C,x,_,h,p,E,b,0);else if(R.dispose==2)for(w=0;w<y;w++)_[w]=v[w]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=kr,{_bin:e}=kr,n=kr._paeth;var r={table:function(){const C=new Uint32Array(256);for(let x=0;x<256;x++){let S=x;for(let P=0;P<8;P++)1&S?S=3988292384^S>>>1:S>>>=1;C[x]=S}return C}(),update(C,x,S,P){for(let N=0;N<P;N++)C=r.table[255&(C^x[S+N])]^C>>>8;return C},crc:(C,x,S)=>4294967295^r.update(4294967295,C,x,S)};function s(C,x,S,P){x[S]+=C[0]*P>>4,x[S+1]+=C[1]*P>>4,x[S+2]+=C[2]*P>>4,x[S+3]+=C[3]*P>>4}function i(C){return Math.max(0,Math.min(255,C))}function o(C,x){const S=C[0]-x[0],P=C[1]-x[1],N=C[2]-x[2],L=C[3]-x[3];return S*S+P*P+N*N+L*L}function a(C,x,S,P,N,L,O){O==null&&(O=1);const j=P.length,k=[];for(var A=0;A<j;A++){const F=P[A];k.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(A=0;A<j;A++){let F=4294967295;for(var D=0,M=0;M<j;M++){var $=o(k[A],k[M]);M!=A&&$<F&&(F=$,D=M)}}const H=new Uint32Array(N.buffer),z=new Int16Array(x*S*4),X=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<X.length;A++)X[A]=255*((X[A]+.5)/16-.5);for(let F=0;F<S;F++)for(let ee=0;ee<x;ee++){var V;A=4*(F*x+ee),O!=2?V=[i(C[A]+z[A]),i(C[A+1]+z[A+1]),i(C[A+2]+z[A+2]),i(C[A+3]+z[A+3])]:($=X[4*(3&F)+(3&ee)],V=[i(C[A]+$),i(C[A+1]+$),i(C[A+2]+$),i(C[A+3]+$)]),D=0;let he=16777215;for(M=0;M<j;M++){const Ie=o(V,k[M]);Ie<he&&(he=Ie,D=M)}const ye=k[D],ie=[V[0]-ye[0],V[1]-ye[1],V[2]-ye[2],V[3]-ye[3]];O==1&&(ee!=x-1&&s(ie,z,A+4,7),F!=S-1&&(ee!=0&&s(ie,z,A+4*x-4,3),s(ie,z,A+4*x,5),ee!=x-1&&s(ie,z,A+4*x+4,1))),L[A>>2]=D,H[A>>2]=P[D]}}function l(C,x,S,P,N){N==null&&(N={});const{crc:L}=r,O=e.writeUint,j=e.writeUshort,k=e.writeASCII;let A=8;const D=C.frames.length>1;let M,$=!1,H=33+(D?20:0);if(N.sRGB!=null&&(H+=13),N.pHYs!=null&&(H+=21),N.iCCP!=null&&(M=pako.deflate(N.iCCP),H+=21+M.length+4),C.ctype==3){for(var z=C.plte.length,X=0;X<z;X++)C.plte[X]>>>24!=255&&($=!0);H+=8+3*z+4+($?8+1*z+4:0)}for(var V=0;V<C.frames.length;V++)D&&(H+=38),H+=(ye=C.frames[V]).cimg.length+12,V!=0&&(H+=4);H+=12;const F=new Uint8Array(H),ee=[137,80,78,71,13,10,26,10];for(X=0;X<8;X++)F[X]=ee[X];if(O(F,A,13),A+=4,k(F,A,"IHDR"),A+=4,O(F,A,x),A+=4,O(F,A,S),A+=4,F[A]=C.depth,A++,F[A]=C.ctype,A++,F[A]=0,A++,F[A]=0,A++,F[A]=0,A++,O(F,A,L(F,A-17,17)),A+=4,N.sRGB!=null&&(O(F,A,1),A+=4,k(F,A,"sRGB"),A+=4,F[A]=N.sRGB,A++,O(F,A,L(F,A-5,5)),A+=4),N.iCCP!=null){const ie=13+M.length;O(F,A,ie),A+=4,k(F,A,"iCCP"),A+=4,k(F,A,"ICC profile"),A+=11,A+=2,F.set(M,A),A+=M.length,O(F,A,L(F,A-(ie+4),ie+4)),A+=4}if(N.pHYs!=null&&(O(F,A,9),A+=4,k(F,A,"pHYs"),A+=4,O(F,A,N.pHYs[0]),A+=4,O(F,A,N.pHYs[1]),A+=4,F[A]=N.pHYs[2],A++,O(F,A,L(F,A-13,13)),A+=4),D&&(O(F,A,8),A+=4,k(F,A,"acTL"),A+=4,O(F,A,C.frames.length),A+=4,O(F,A,N.loop!=null?N.loop:0),A+=4,O(F,A,L(F,A-12,12)),A+=4),C.ctype==3){for(O(F,A,3*(z=C.plte.length)),A+=4,k(F,A,"PLTE"),A+=4,X=0;X<z;X++){const ie=3*X,Ie=C.plte[X],Ne=255&Ie,We=Ie>>>8&255,An=Ie>>>16&255;F[A+ie+0]=Ne,F[A+ie+1]=We,F[A+ie+2]=An}if(A+=3*z,O(F,A,L(F,A-3*z-4,3*z+4)),A+=4,$){for(O(F,A,z),A+=4,k(F,A,"tRNS"),A+=4,X=0;X<z;X++)F[A+X]=C.plte[X]>>>24&255;A+=z,O(F,A,L(F,A-z-4,z+4)),A+=4}}let he=0;for(V=0;V<C.frames.length;V++){var ye=C.frames[V];D&&(O(F,A,26),A+=4,k(F,A,"fcTL"),A+=4,O(F,A,he++),A+=4,O(F,A,ye.rect.width),A+=4,O(F,A,ye.rect.height),A+=4,O(F,A,ye.rect.x),A+=4,O(F,A,ye.rect.y),A+=4,j(F,A,P[V]),A+=2,j(F,A,1e3),A+=2,F[A]=ye.dispose,A++,F[A]=ye.blend,A++,O(F,A,L(F,A-30,30)),A+=4);const ie=ye.cimg;O(F,A,(z=ie.length)+(V==0?0:4)),A+=4;const Ie=A;k(F,A,V==0?"IDAT":"fdAT"),A+=4,V!=0&&(O(F,A,he++),A+=4),F.set(ie,A),A+=z,O(F,A,L(F,Ie,A-Ie)),A+=4}return O(F,A,0),A+=4,k(F,A,"IEND"),A+=4,O(F,A,L(F,A-4,4)),A+=4,F.buffer}function c(C,x,S){for(let P=0;P<C.frames.length;P++){const N=C.frames[P];N.rect.width;const L=N.rect.height,O=new Uint8Array(L*N.bpl+L);N.cimg=p(N.img,L,N.bpp,N.bpl,O,x,S)}}function u(C,x,S,P,N){const L=N[0],O=N[1],j=N[2],k=N[3],A=N[4],D=N[5];let M=6,$=8,H=255;for(var z=0;z<C.length;z++){const xt=new Uint8Array(C[z]);for(var X=xt.length,V=0;V<X;V+=4)H&=xt[V+3]}const F=H!=255,ee=function($e,Pe,Se,gt,qe,Ht){const Xe=[];for(var Te=0;Te<$e.length;Te++){const Fe=new Uint8Array($e[Te]),_n=new Uint32Array(Fe.buffer);var ct;let qt=0,sr=0,Hr=Pe,Vi=Se,L2=gt?1:0;if(Te!=0){const e9=Ht||gt||Te==1||Xe[Te-2].dispose!=0?1:2;let O2=0,__=1e9;for(let Pl=0;Pl<e9;Pl++){var rr=new Uint8Array($e[Te-1-Pl]);const t9=new Uint32Array($e[Te-1-Pl]);let Bs=Pe,Ws=Se,Qo=-1,Ll=-1;for(let zi=0;zi<Se;zi++)for(let Bi=0;Bi<Pe;Bi++)_n[fe=zi*Pe+Bi]!=t9[fe]&&(Bi<Bs&&(Bs=Bi),Bi>Qo&&(Qo=Bi),zi<Ws&&(Ws=zi),zi>Ll&&(Ll=zi));Qo==-1&&(Bs=Ws=Qo=Ll=0),qe&&((1&Bs)==1&&Bs--,(1&Ws)==1&&Ws--);const w_=(Qo-Bs+1)*(Ll-Ws+1);w_<__&&(__=w_,O2=Pl,qt=Bs,sr=Ws,Hr=Qo-Bs+1,Vi=Ll-Ws+1)}rr=new Uint8Array($e[Te-1-O2]),O2==1&&(Xe[Te-1].dispose=2),ct=new Uint8Array(Hr*Vi*4),t(rr,Pe,Se,ct,Hr,Vi,-qt,-sr,0),L2=t(Fe,Pe,Se,ct,Hr,Vi,-qt,-sr,3)?1:0,L2==1?h(Fe,Pe,Se,ct,{x:qt,y:sr,width:Hr,height:Vi}):t(Fe,Pe,Se,ct,Hr,Vi,-qt,-sr,0)}else ct=Fe.slice(0);Xe.push({rect:{x:qt,y:sr,width:Hr,height:Vi},img:ct,blend:L2,dispose:0})}if(gt)for(Te=0;Te<Xe.length;Te++){if((ne=Xe[Te]).blend==1)continue;const Fe=ne.rect,_n=Xe[Te-1].rect,qt=Math.min(Fe.x,_n.x),sr=Math.min(Fe.y,_n.y),Hr={x:qt,y:sr,width:Math.max(Fe.x+Fe.width,_n.x+_n.width)-qt,height:Math.max(Fe.y+Fe.height,_n.y+_n.height)-sr};Xe[Te-1].dispose=1,Te-1!=0&&d($e,Pe,Se,Xe,Te-1,Hr,qe),d($e,Pe,Se,Xe,Te,Hr,qe)}let se=0;if($e.length!=1)for(var fe=0;fe<Xe.length;fe++){var ne;se+=(ne=Xe[fe]).rect.width*ne.rect.height}return Xe}(C,x,S,L,O,j),he={},ye=[],ie=[];if(P!=0){const xt=[];for(V=0;V<ee.length;V++)xt.push(ee[V].img.buffer);const $e=function(qe){let Ht=0;for(var Xe=0;Xe<qe.length;Xe++)Ht+=qe[Xe].byteLength;const Te=new Uint8Array(Ht);let ct=0;for(Xe=0;Xe<qe.length;Xe++){const rr=new Uint8Array(qe[Xe]),se=rr.length;for(let fe=0;fe<se;fe+=4){let ne=rr[fe],Fe=rr[fe+1],_n=rr[fe+2];const qt=rr[fe+3];qt==0&&(ne=Fe=_n=0),Te[ct+fe]=ne,Te[ct+fe+1]=Fe,Te[ct+fe+2]=_n,Te[ct+fe+3]=qt}ct+=se}return Te.buffer}(xt),Pe=y($e,P);for(V=0;V<Pe.plte.length;V++)ye.push(Pe.plte[V].est.rgba);let Se=0;for(V=0;V<ee.length;V++){const gt=(Ne=ee[V]).img.length;var Ie=new Uint8Array(Pe.inds.buffer,Se>>2,gt>>2);ie.push(Ie);const qe=new Uint8Array(Pe.abuf,Se,gt);D&&a(Ne.img,Ne.rect.width,Ne.rect.height,ye,qe,Ie),Ne.img.set(qe),Se+=gt}}else for(z=0;z<ee.length;z++){var Ne=ee[z];const xt=new Uint32Array(Ne.img.buffer);var We=Ne.rect.width;for(X=xt.length,Ie=new Uint8Array(X),ie.push(Ie),V=0;V<X;V++){const $e=xt[V];if(V!=0&&$e==xt[V-1])Ie[V]=Ie[V-1];else if(V>We&&$e==xt[V-We])Ie[V]=Ie[V-We];else{let Pe=he[$e];if(Pe==null&&(he[$e]=Pe=ye.length,ye.push($e),ye.length>=300))break;Ie[V]=Pe}}}const An=ye.length;for(An<=256&&A==0&&($=An<=2?1:An<=4?2:An<=16?4:8,$=Math.max($,k)),z=0;z<ee.length;z++){(Ne=ee[z]).rect.x,Ne.rect.y,We=Ne.rect.width;const xt=Ne.rect.height;let $e=Ne.img;new Uint32Array($e.buffer);let Pe=4*We,Se=4;if(An<=256&&A==0){Pe=Math.ceil($*We/8);var nn=new Uint8Array(Pe*xt);const gt=ie[z];for(let qe=0;qe<xt;qe++){V=qe*Pe;const Ht=qe*We;if($==8)for(var He=0;He<We;He++)nn[V+He]=gt[Ht+He];else if($==4)for(He=0;He<We;He++)nn[V+(He>>1)]|=gt[Ht+He]<<4-4*(1&He);else if($==2)for(He=0;He<We;He++)nn[V+(He>>2)]|=gt[Ht+He]<<6-2*(3&He);else if($==1)for(He=0;He<We;He++)nn[V+(He>>3)]|=gt[Ht+He]<<7-1*(7&He)}$e=nn,M=3,Se=1}else if(F==0&&ee.length==1){nn=new Uint8Array(We*xt*3);const gt=We*xt;for(V=0;V<gt;V++){const qe=3*V,Ht=4*V;nn[qe]=$e[Ht],nn[qe+1]=$e[Ht+1],nn[qe+2]=$e[Ht+2]}$e=nn,M=2,Se=3,Pe=3*We}Ne.img=$e,Ne.bpl=Pe,Ne.bpp=Se}return{ctype:M,depth:$,plte:ye,frames:ee}}function d(C,x,S,P,N,L,O){const j=Uint8Array,k=Uint32Array,A=new j(C[N-1]),D=new k(C[N-1]),M=N+1<C.length?new j(C[N+1]):null,$=new j(C[N]),H=new k($.buffer);let z=x,X=S,V=-1,F=-1;for(let he=0;he<L.height;he++)for(let ye=0;ye<L.width;ye++){const ie=L.x+ye,Ie=L.y+he,Ne=Ie*x+ie,We=H[Ne];We==0||P[N-1].dispose==0&&D[Ne]==We&&(M==null||M[4*Ne+3]!=0)||(ie<z&&(z=ie),ie>V&&(V=ie),Ie<X&&(X=Ie),Ie>F&&(F=Ie))}V==-1&&(z=X=V=F=0),O&&((1&z)==1&&z--,(1&X)==1&&X--),L={x:z,y:X,width:V-z+1,height:F-X+1};const ee=P[N];ee.rect=L,ee.blend=1,ee.img=new Uint8Array(L.width*L.height*4),P[N-1].dispose==0?(t(A,x,S,ee.img,L.width,L.height,-L.x,-L.y,0),h($,x,S,ee.img,L)):t($,x,S,ee.img,L.width,L.height,-L.x,-L.y,0)}function h(C,x,S,P,N){t(C,x,S,P,N.width,N.height,-N.x,-N.y,2)}function p(C,x,S,P,N,L,O){const j=[];let k,A=[0,1,2,3,4];L!=-1?A=[L]:(x*P>5e5||S==1)&&(A=[0]),O&&(k={level:0});const D=bK;for(var M=0;M<A.length;M++){for(let z=0;z<x;z++)m(N,C,z,P,S,A[M]);j.push(D.deflate(N,k))}let $,H=1e9;for(M=0;M<j.length;M++)j[M].length<H&&($=M,H=j[M].length);return j[$]}function m(C,x,S,P,N,L){const O=S*P;let j=O+S;if(C[j]=L,j++,L==0)if(P<500)for(var k=0;k<P;k++)C[j+k]=x[O+k];else C.set(new Uint8Array(x.buffer,O,P),j);else if(L==1){for(k=0;k<N;k++)C[j+k]=x[O+k];for(k=N;k<P;k++)C[j+k]=x[O+k]-x[O+k-N]+256&255}else if(S==0){for(k=0;k<N;k++)C[j+k]=x[O+k];if(L==2)for(k=N;k<P;k++)C[j+k]=x[O+k];if(L==3)for(k=N;k<P;k++)C[j+k]=x[O+k]-(x[O+k-N]>>1)+256&255;if(L==4)for(k=N;k<P;k++)C[j+k]=x[O+k]-n(x[O+k-N],0,0)+256&255}else{if(L==2)for(k=0;k<P;k++)C[j+k]=x[O+k]+256-x[O+k-P]&255;if(L==3){for(k=0;k<N;k++)C[j+k]=x[O+k]+256-(x[O+k-P]>>1)&255;for(k=N;k<P;k++)C[j+k]=x[O+k]+256-(x[O+k-P]+x[O+k-N]>>1)&255}if(L==4){for(k=0;k<N;k++)C[j+k]=x[O+k]+256-n(0,x[O+k-P],0)&255;for(k=N;k<P;k++)C[j+k]=x[O+k]+256-n(x[O+k-N],x[O+k-P],x[O+k-N-P])&255}}}function y(C,x){const S=new Uint8Array(C),P=S.slice(0),N=new Uint32Array(P.buffer),L=_(P,x),O=L[0],j=L[1],k=S.length,A=new Uint8Array(k>>2);let D;if(S.length<2e7)for(var M=0;M<k;M+=4)D=g(O,$=S[M]*(1/255),H=S[M+1]*(1/255),z=S[M+2]*(1/255),X=S[M+3]*(1/255)),A[M>>2]=D.ind,N[M>>2]=D.est.rgba;else for(M=0;M<k;M+=4){var $=S[M]*.00392156862745098,H=S[M+1]*(1/255),z=S[M+2]*(1/255),X=S[M+3]*(1/255);for(D=O;D.left;)D=v(D.est,$,H,z,X)<=0?D.left:D.right;A[M>>2]=D.ind,N[M>>2]=D.est.rgba}return{abuf:P.buffer,inds:A,plte:j}}function _(C,x,S){S==null&&(S=1e-4);const P=new Uint32Array(C.buffer),N={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=R(C,N.i0,N.i1),N.est=E(N.bst);const L=[N];for(;L.length<x;){let j=0,k=0;for(var O=0;O<L.length;O++)L[O].est.L>j&&(j=L[O].est.L,k=O);if(j<S)break;const A=L[k],D=w(C,P,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=D||A.i1<=D){A.est.L=0;continue}const M={i0:A.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};M.bst=R(C,M.i0,M.i1),M.est=E(M.bst);const $={i0:D,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:A.bst.N-M.bst.N},O=0;O<16;O++)$.bst.R[O]=A.bst.R[O]-M.bst.R[O];for(O=0;O<4;O++)$.bst.m[O]=A.bst.m[O]-M.bst.m[O];$.est=E($.bst),A.left=M,A.right=$,L[k]=M,L.push($)}for(L.sort((j,k)=>k.bst.N-j.bst.N),O=0;O<L.length;O++)L[O].ind=O;return[N,L]}function g(C,x,S,P,N){if(C.left==null)return C.tdst=function(M,$,H,z,X){const V=$-M[0],F=H-M[1],ee=z-M[2],he=X-M[3];return V*V+F*F+ee*ee+he*he}(C.est.q,x,S,P,N),C;const L=v(C.est,x,S,P,N);let O=C.left,j=C.right;L>0&&(O=C.right,j=C.left);const k=g(O,x,S,P,N);if(k.tdst<=L*L)return k;const A=g(j,x,S,P,N);return A.tdst<k.tdst?A:k}function v(C,x,S,P,N){const{e:L}=C;return L[0]*x+L[1]*S+L[2]*P+L[3]*N-C.eMq}function w(C,x,S,P,N,L){for(P-=4;S<P;){for(;I(C,S,N)<=L;)S+=4;for(;I(C,P,N)>L;)P-=4;if(S>=P)break;const O=x[S>>2];x[S>>2]=x[P>>2],x[P>>2]=O,S+=4,P-=4}for(;I(C,S,N)>L;)S-=4;return S+4}function I(C,x,S){return C[x]*S[0]+C[x+1]*S[1]+C[x+2]*S[2]+C[x+3]*S[3]}function R(C,x,S){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],L=S-x>>2;for(let O=x;O<S;O+=4){const j=C[O]*.00392156862745098,k=C[O+1]*(1/255),A=C[O+2]*(1/255),D=C[O+3]*(1/255);N[0]+=j,N[1]+=k,N[2]+=A,N[3]+=D,P[0]+=j*j,P[1]+=j*k,P[2]+=j*A,P[3]+=j*D,P[5]+=k*k,P[6]+=k*A,P[7]+=k*D,P[10]+=A*A,P[11]+=A*D,P[15]+=D*D}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:N,N:L}}function E(C){const{R:x}=C,{m:S}=C,{N:P}=C,N=S[0],L=S[1],O=S[2],j=S[3],k=P==0?0:1/P,A=[x[0]-N*N*k,x[1]-N*L*k,x[2]-N*O*k,x[3]-N*j*k,x[4]-L*N*k,x[5]-L*L*k,x[6]-L*O*k,x[7]-L*j*k,x[8]-O*N*k,x[9]-O*L*k,x[10]-O*O*k,x[11]-O*j*k,x[12]-j*N*k,x[13]-j*L*k,x[14]-j*O*k,x[15]-j*j*k],D=A,M=b;let $=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,z=0;if(P!=0)for(let V=0;V<16&&($=M.multVec(D,$),z=Math.sqrt(M.dot($,$)),$=M.sml(1/z,$),!(V!=0&&Math.abs(z-H)<1e-9));V++)H=z;const X=[N*k,L*k,O*k,j*k];return{Cov:A,q:X,e:$,L:H,eMq255:M.dot(M.sml(255,X),$),eMq:M.dot($,X),rgba:(Math.round(255*X[3])<<24|Math.round(255*X[2])<<16|Math.round(255*X[1])<<8|Math.round(255*X[0])<<0)>>>0}}var b={multVec:(C,x)=>[C[0]*x[0]+C[1]*x[1]+C[2]*x[2]+C[3]*x[3],C[4]*x[0]+C[5]*x[1]+C[6]*x[2]+C[7]*x[3],C[8]*x[0]+C[9]*x[1]+C[10]*x[2]+C[11]*x[3],C[12]*x[0]+C[13]*x[1]+C[14]*x[2]+C[15]*x[3]],dot:(C,x)=>C[0]*x[0]+C[1]*x[1]+C[2]*x[2]+C[3]*x[3],sml:(C,x)=>[C*x[0],C*x[1],C*x[2],C*x[3]]};kr.encode=function(x,S,P,N,L,O,j){N==null&&(N=0),j==null&&(j=!1);const k=u(x,S,P,N,[!1,!1,!1,0,j,!1]);return c(k,-1),l(k,S,P,L,O)},kr.encodeLL=function(x,S,P,N,L,O,j,k){const A={ctype:0+(N==1?0:2)+(L==0?0:4),depth:O,frames:[]},D=(N+L)*O,M=D*S;for(let $=0;$<x.length;$++)A.frames.push({rect:{x:0,y:0,width:S,height:P},img:new Uint8Array(x[$]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(M/8)});return c(A,0,!0),l(A,S,P,j,k)},kr.encode.compress=u,kr.encode.dither=a,kr.quantize=y,kr.quantize.getKDtree=_,kr.quantize.getNearest=g})();const Wb={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,m,y,_,g=h,v=0,w=0,I=0;function R(C){d.setUint16(w,C,!0),w+=2}function E(C){d.setUint32(w,C,!0),w+=4}function b(C){w+=C}R(19778),E(c),b(4),E(122),E(108),E(n),E(-r>>>0),R(1),R(32),E(3),E(l),E(2835),E(2835),b(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function C(){for(;v<r&&g>0;){for(_=122+v*a,p=0;p<s;)g--,m=o[I++],y=m>>>24,d.setUint32(_+p,m<<8|y),p+=4;v++}I<o.length?(g=h,setTimeout(C,Wb._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var kn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},AK={[kn.CHROME]:16384,[kn.FIREFOX]:11180,[kn.DESKTOP_SAFARI]:16384,[kn.IE]:8192,[kn.IOS]:4096,[kn.ETC]:8192};const m_=typeof window<"u",Hb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,N0=m_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),RK=(m_||Hb)&&(N0&&N0.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qb=(m_||Hb)&&(N0&&N0.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function g_(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function Gb(t){return new Promise((e,n)=>{const r=new qb;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function Kb(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function ho(){if(ho.cachedResult!==void 0)return ho.cachedResult;let t=kn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=kn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=kn.IOS:/Safari/i.test(e)?t=kn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=kn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=kn.IE),ho.cachedResult=t,ho.cachedResult}function Qb(t,e){const n=ho(),r=AK[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function P2(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Yb(t,e){const{width:n,height:r}=Qb(t.width,t.height),[s,i]=P2(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function gh(){return gh.cachedResult!==void 0||(gh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),gh.cachedResult}function P0(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=Yb(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return Gb(t).then(function(d){try{return u=d,Kb(u).then(function(h){try{return s=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(gh()||[kn.DESKTOP_SAFARI,kn.MOBILE_SAFARI].includes(ho()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function L0(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=kr.encode([h.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>Wb.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),g_(p,n,r).then((function(m){try{return a=m,h.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return i(a)}})}function Yr(t){t.width=0,t.height=0}function Ca(){return new Promise(function(t,e){let n,r,s,i;return Ca.cachedResult!==void 0?t(Ca.cachedResult):g_("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,P0(n).then(function(a){try{return r=a[1],L0(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,Yr(r),P0(s).then(function(c){try{return i=c[0],Ca.cachedResult=i.width===1&&i.height===2,t(Ca.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function Xb(t){return new Promise((e,n)=>{const r=new qb;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(i.getUint16(a+12*d,c)==274)return e(i.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function Jb(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=P2(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),Yr(t)),o}function Zb(t,e){const{width:n}=t,{height:r}=t,[s,i]=P2(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),Yr(t),s}function Px(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,d,h,p,m,y,_,g,v,w,I,R,E,b,C;function x(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=P,e.onProgress(Math.min(i,100))}function S(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(P,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,x(),P0(t,e).then((function(P){try{return[,l]=P,x(),c=Jb(l,e),x(),new Promise(function(N,L){var O;if(!(O=e.exifOrientation))return Xb(t).then((function(k){try{return O=k,j.call(this)}catch(A){return L(A)}}).bind(this),L);function j(){return N(O)}return j.call(this)}).then((function(N){try{return u=N,x(),Ca().then((function(L){try{return d=L?c:Zb(c,u),x(),h=e.initialQuality||1,p=e.fileType||t.type,L0(d,p,t.name,t.lastModified,h).then((function(O){try{{let D=function(){if(o--&&(w>a||w>g)){let $,H;return $=C?.95*b.width:b.width,H=C?.95*b.height:b.height,[R,E]=P2($,H),E.drawImage(b,0,0,$,H),h*=p==="image/png"?.85:.95,L0(R,p,t.name,t.lastModified,h).then(function(z){try{return I=z,Yr(b),b=R,w=I.size,S(Math.min(99,Math.floor((v-w)/(v-a)*100))),D}catch(X){return s(X)}},s)}return[1]},M=function(){return Yr(b),Yr(R),Yr(c),Yr(d),Yr(l),S(100),r(I)};var k=D,A=M;if(m=O,x(),y=m.size>a,_=m.size>t.size,!y&&!_)return S(100),r(m);var j;return g=t.size,v=m.size,w=v,b=d,C=!e.alwaysKeepResolution&&y,(j=(function($){for(;$;){if($.then)return void $.then(j,s);try{if($.pop){if($.length)return $.pop()?M.call(this):$;$=D}else $=$.call(this)}catch(H){return s(H)}}}).bind(this))(D)}}catch(D){return s(D)}}).bind(this),s)}catch(O){return s(O)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)})}const kK=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let zp;function NK(t,e){return new Promise((n,r)=>{zp||(zp=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(kK));const s=new Worker(zp);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Ot(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof RK))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return Px(t,s).then((function(p){try{return i=p,h.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return Px(t,s).then(function(m){try{return i=m,u()}catch(y){return r(y)}},r)}catch(m){return r(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",NK(t,s).then(function(p){try{return i=p,u()}catch{return d()}},d)}catch{d()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=Bb(t,i))}catch{}return n(i)}})}Ot.getDataUrlFromFile=Gb,Ot.getFilefromDataUrl=g_,Ot.loadImage=Kb,Ot.drawImageInCanvas=Yb,Ot.drawFileInCanvas=P0,Ot.canvasToFile=L0,Ot.getExifOrientation=Xb,Ot.handleMaxWidthOrHeight=Jb,Ot.followExifOrientation=Zb,Ot.cleanupCanvasMemory=Yr,Ot.isAutoOrientationInBrowser=Ca,Ot.approximateBelowMaximumCanvasSizeOfBrowser=Qb,Ot.copyExifWithoutOrientation=Bb,Ot.getBrowserName=ho,Ot.version="2.0.2";const PK=()=>{const{userData:t,refreshUserData:e,theme:n,setTheme:r,isOnline:s}=T.useContext(Z),[i,o]=T.useState(t.name||""),[a,l]=T.useState(null),[c,u]=T.useState(!1),d=T.useRef(null),[h,p]=T.useState(null),m=async()=>{var w;if(i.trim())try{const I=_e(Oe,"users",(w=te==null?void 0:te.currentUser)==null?void 0:w.uid),R={name:i.trim()};await vr(I,R),e(),v("Updated name successfully!")}catch(I){v(I.message)}};Fo(d,u),T.useEffect(()=>{o(t.name)},[t]);const y=async()=>{const w=await Ot(a,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),I=ao(co,`profile/${t.uid}/${t.name}-${a.name}`);try{const R=_e(Oe,"users",t.uid);v("Uploading image...");const E=await m0(I,w),C={image:await g0(E.ref)};await vr(R,C),l(null),v("Updated profile picture successfully!")}catch(R){v(R.message)}},_=()=>{a&&y(),i.trim()!==t.name&&m()};let g;const v=(w,I=3e3)=>{clearTimeout(g),p(w),g=setTimeout(()=>{p(null)},I)};return f.jsxs("div",{className:"Settings p-2",children:[f.jsx(Br,{}),f.jsxs("div",{className:"p-2",children:[f.jsxs("div",{className:"relative size-20",children:[f.jsx(ys,{name:t.name||i||"User",image:a?URL.createObjectURL(a):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden",onChange:w=>l(w.target.files[0])}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:de("edit")})})]}),f.jsxs("div",{className:`${n==="light"?"":"text-white"}`,children:["Hi, ",gs(t.name||i||"User",25),"!"]})]}),f.jsxs("div",{className:`grid gap-y-2 border  p-2 rounded-md ${n==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{children:[f.jsx("div",{children:"Name"}),f.jsxs("div",{ref:d,className:"flex gap-x-2 items-center",children:[!c&&f.jsx("div",{children:i||t.name||"User"}),c&&f.jsx("input",{autoFocus:!0,value:i,onChange:w=>o(w.target.value),className:` ${n==="light"?"focus:outline-blue-500":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx("button",{onClick:()=>{u(!c)},className:` p-1 rounded-full cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:de(c?"save":"edit")})})]})]}),f.jsxs("div",{children:[f.jsx("div",{children:"Email"}),f.jsx("div",{children:t.email||"example@gmail.com"})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:a||(i==null?void 0:i.trim())!==t.name?f.jsx(ze,{data:{clickFn:()=>{_()},image:"save",text:"Update"}}):""}),h&&f.jsx(R0,{message:h}),f.jsx("div",{className:`mt-4 ${n==="light"?"":"text-white"} md:hidden`})]})},O0=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t,{theme:i}=T.useContext(Z);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${i==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:s})]})},LK=({data:t})=>{const{close:e}=t,{theme:n}=T.useContext(Z),[r,s]=T.useState(""),[i,o]=T.useState(""),a=r.trim(),l=Vt(Oe,"tests"),c=async h=>{try{await Tl(l,h)}catch(p){console.log(p.message)}},u=()=>{const h={uid:te.currentUser.uid,isUploaded:!1,name:r,description:i,quizzes:[],gradingRules:[],time:Wn()};c(h),e()},d=()=>{a&&u()};return T.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(O0,{data:{text:"Name",onChangeFn:h=>s(h.target.value),value:r,placeholder:"Type test name here"}}),f.jsx(O0,{data:{text:"Description",onChangeFn:h=>o(h.target.value),value:i,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(ze,{data:{clickFn:d,text:"Save",image:"save"}}),f.jsx(ze,{data:{clickFn:e,text:"Cancel"}})]})]})})},OK=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:s}=T.useContext(Z),[i,o]=T.useState(!1),a=T.useRef(null);Fo(a,o);const l=()=>{o(!i)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${s==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:de(i?"up":"down")})]}),i&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${s==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${s==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},ni=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t,{theme:i}=T.useContext(Z);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${i==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:s})]})},MK=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i}=t,{theme:o}=T.useContext(Z),[a,l]=T.useState(s?s.question:""),[c,u]=T.useState(s?s.choices[0]:""),[d,h]=T.useState(s?s.choices[1]:""),[p,m]=T.useState(s?s.choices[2]:""),[y,_]=T.useState(s?s.choices[3]:""),[g,v]=T.useState(s?s.answer:"");let w=[];const I=c.trim()&&d.trim()&&p.trim()&&y.trim(),R=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&g.trim();I&&(w=[c,d,p,y]);const E=(N,L)=>{N.toLowerCase()==="question"?l(L.target.value):v(L.target.value)},b=()=>{let N,L;R&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:w,answer:g},L=[...n,N],r(L),to(),e())},C=()=>{const N=s.id,L={id:N,question:a,choices:w,answer:g},O=n.map(j=>N===j.id?L:j);r(O),e(),i()},x=(N,L)=>{N.toLowerCase()==="choice 1"?u(L.target.value):N.toLowerCase()==="choice 2"?h(L.target.value):N.toLowerCase()==="choice 3"?m(L.target.value):_(L.target.value)},S=()=>{s?C():b()},P=()=>{e(),i()};return T.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:s?s.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(ni,{data:{handleFn:E,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(ni,{data:{handleFn:x,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(ni,{data:{handleFn:x,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(ni,{data:{handleFn:x,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(ni,{data:{handleFn:x,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(OK,{data:{options:w,value:g,setValue:v}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(ze,{data:{clickFn:S,text:"Save",image:"save"}}),f.jsx(ze,{data:{clickFn:P,text:"Cancel"}})]})]})})},DK=({data:t})=>{const{theme:e}=T.useContext(Z),{testName:n,numbers:r,changePage:s}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(Ve,{data:{clickFn:()=>s("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:["  "," ",r," ",r>1?"questions":"question"]})]})]})})},jK=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s,changePage:i}=t,{theme:o}=T.useContext(Z);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(Ve,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(Ve,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(Ve,{data:{clickFn:s,image:"add"}})})]})},$K=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{theme:i}=T.useContext(Z),{gradingRules:o}=e,[a,l]=T.useState(null),c=m=>{const y=o.filter(g=>g.id!==m),_={...e,gradingRules:y};n(_)},u=m=>{l(m)},d=m=>{s(m),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${i==="light"?"":"text-white"}`,children:"Grading Rules"}),a&&f.jsx(Io,{data:{yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((m,y)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(Bp,{data:{text:"From",value:m.from}}),f.jsx(Bp,{data:{text:"To",value:m.to}}),f.jsx(Bp,{data:{text:"Level",value:m.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(Ve,{data:{clickFn:()=>d(m),image:"edit"}}),f.jsx(Ve,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${y}-${m.from}-${m.to}-${m.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(Ve,{data:{clickFn:()=>r(!0),image:"add"}})})]})},Bp=({data:t})=>{const{text:e,value:n}=t,{theme:r}=T.useContext(Z);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?gs(n,15):n})]})},FK=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,setIsRulesAdding:i}=t,{theme:o}=T.useContext(Z),{gradingRules:a}=e,[l,c]=T.useState(r?r.from:null),[u,d]=T.useState(r?r.to:null),[h,p]=T.useState(r?r.level:""),m=l&&u&&h.trim(),y=()=>{const I={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},R={...e,gradingRules:[...a,I]};n(R)},_=()=>{const I=r.id,R={id:I,from:Number(l),to:Number(u),level:h},E=a.map(C=>I===C.id?R:C),b={...e,gradingRules:E};n(b)},g=()=>{i(!1),s(null)},v=()=>{m&&(r?_():y(),g())},w=(I,R)=>{const E=R.target.value;I.toLowerCase()==="from"?c(E):I.toLowerCase()==="to"?d(E):p(E)};return T.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(ni,{data:{handleFn:w,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(ni,{data:{handleFn:w,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(ni,{data:{handleFn:w,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(ze,{data:{clickFn:v,text:"Save",image:"save"}}),f.jsx(ze,{data:{clickFn:g,text:"Cancel"}})]})]})})},Lx=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:s}=T.useContext(Z),{description:i,name:o}=e,[a,l]=T.useState(r==="Description"?i:o),[c,u]=T.useState(!1),d=y=>{l(y.target.value)},h=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{h(),u(!1)},m=()=>{u(!1),l(r==="Description"?i:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${s==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${s==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(Ve,{data:{clickFn:p,image:"save"}}),f.jsx(Ve,{data:{clickFn:m,image:"falseIcon"}})]}):f.jsx(Ve,{data:{clickFn:()=>u(!0),image:"edit"}})]})},UK=({data:t})=>{const{setHeaderTitle:e}=T.useContext(Z),{setPage:n,currentTest:r,setCurrentTest:s}=t,[i,o]=T.useState(!1),[a,l]=T.useState(!1),[c,u]=T.useState(r.quizzes),[d,h]=T.useState(null),[p,m]=T.useState(null);T.useEffect(()=>{e(r.name)});const y=async(N,L)=>{try{const O=_e(Oe,"tests",N);await vr(O,L)}catch(O){console.log(O.message)}};T.useEffect(()=>{_()},[r,c]);const _=()=>{y(r.id,{...r,quizzes:c})},g=()=>{o(!0)},v=()=>{o(!1),m(null)},w=N=>{m(N)},I=()=>{b(p),m(null)},R=()=>{m(null)},E=N=>{n(N)},b=N=>{const L=c.filter(O=>O.id!==N);u(L)},C=(N,L)=>{const O={...N,number:L+1};h(O),g()},x=()=>{h(null)},S={testName:r.name,numbers:c.length,changePage:E},P={quizzes:c,editQuestion:C,askToDelete:w,add:g};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(DK,{data:S}),f.jsx(Ea,{}),f.jsx(Lx,{data:{title:"Test Name",currentTest:r,setCurrentTest:s}}),f.jsx(Lx,{data:{title:"Description",currentTest:r,setCurrentTest:s}}),f.jsx(Ea,{}),f.jsx($K,{data:{currentTest:r,setEditData:h,setCurrentTest:s,setIsRulesAdding:l}}),f.jsx(Ea,{}),f.jsx(jK,{data:P}),i&&f.jsx(MK,{data:{cancel:v,setQuizzes:u,quizzes:c,editData:d,clearEditData:x}}),a&&f.jsx(FK,{data:{currentTest:r,setCurrentTest:s,editData:d,setEditData:h,setIsRulesAdding:l}}),p&&f.jsx(Io,{data:{yesButton:I,noButton:R,text:"Are you sure to delete ?"}}),f.jsx(Ea,{})]})},y_=({text:t,length:e})=>{const n=tr(),{theme:r}=T.useContext(Z);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(Ve,{data:{clickFn:()=>n("/app/admin"),image:"back"}}),f.jsxs("p",{children:[t," (",e,")"]})]})},VK=()=>{const[t,e]=T.useState("test"),{theme:n,isLogin:r,tests:s,setTests:i}=T.useContext(Z),[o,a]=T.useState({}),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[h,p]=T.useState(null);ul("tests",i,r),T.useEffect(()=>(jn(),jn()),[]);const m=b=>{a(b),e("editTest")},y=b=>{p(b),d(!0)},_=async b=>{const C=_e(Oe,"tests",b.id);await vr(C,{isUploaded:!b.isUploaded})},g=()=>{R(h),p(null),d(!1)},v=()=>{d(!1)},w=()=>{c(!0)},I=()=>{c(!1)},R=async b=>{try{const C=_e(Oe,"tests",b);await go(C)}catch(C){console.log(C.message)}};return(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(y_,{text:"Tests",length:s.length})}),l&&f.jsx(LK,{data:{close:I}}),u&&f.jsx(Io,{data:{yesButton:g,noButton:v,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid gap-y-2",children:s.map(b=>f.jsxs("div",{className:`flex items-center border p-2 rounded-md min-h-[100px] ${n==="light"?"border-gray-100":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:b.isUploaded,onChange:()=>_(b),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:b.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[b.quizzes.length,b.quizzes.length>1?" questions":" question",b.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(N2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{m(b)}},{text:"Delete",icon:"deleteIcon",onClick:()=>y(b.id)}]})})]},`tests-${b.id}`))}),f.jsx("div",{children:f.jsx(ze,{data:{clickFn:w,text:"New Test",image:"add"}})})]});case"editTest":return f.jsx(UK,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}})()},zK=({password:t})=>{const[e,n]=T.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},BK=()=>{const{setUserData:t,users:e,theme:n}=T.useContext(Z);T.useEffect(()=>(jn(),jn()),[]);const r=tr(),s=o=>{t(o),r("/app/posts")},i=async o=>{const a=_e(Oe,"users",o.uid);await vr(a,{isAdmin:!o.isAdmin})};return f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(y_,{text:"Users",length:e==null?void 0:e.length}),f.jsx("div",{className:"mt-2 grid gap-y-2",children:e.sort((o,a)=>Us(o,a,"timestamp","newer")).map(o=>{var a,l,c,u,d;return f.jsxs("div",{className:`hover:border-blue-300 border p-2  ${n==="light"?`hover:bg-slate-50 ${((a=te==null?void 0:te.currentUser)==null?void 0:a.uid)===o.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${((l=te==null?void 0:te.currentUser)==null?void 0:l.uid)===o.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(ys,{image:o.image,name:o.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[o.name," ",f.jsxs("span",{className:`${o!=null&&o.isAdmin?"text-blue-500":"text-white"}`,children:["(",o!=null&&o.isAdmin?"admin":"user",")"," ",((c=te==null?void 0:te.currentUser)==null?void 0:c.uid)===o.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:o.email}),f.jsxs("div",{className:"text-md",children:["Created: ",Do(Jn(o.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",o.uid]}),f.jsx(zK,{password:o.password})]})]}),((u=te==null?void 0:te.currentUser)==null?void 0:u.uid)!==o.uid&&f.jsx(Ve,{data:{clickFn:()=>s(o),image:"review"}})]}),((d=te==null?void 0:te.currentUser)==null?void 0:d.uid)!==o.uid&&f.jsx(ze,{data:{image:"admin",clickFn:()=>i(o),text:o.isAdmin?"Remove from admin":"Set as admin"}})]},o.uid)})})]})},v_=({data:t,children:e})=>{const{setValue:n}=t,{theme:r}=T.useContext(Z),s=T.useRef(null);return Fo(s,n),T.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-40 bg-black/60 justify-center top-0 left-0 right-0 bottom-0 ",children:f.jsx("div",{ref:s,className:`w-4/5 sm:w-3/5 md:w-2/5 p-5 min-h-40 grid gap-y-3 rounded-md items-center border  ${r==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:e})})},WK=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r}=t,[s,i]=T.useState(""),[o,a]=T.useState(""),l=s.trim()&&o.trim(),c=()=>{if(l){const u={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:o.trim()},d=[...e,u];n(d),r(!1)}};return f.jsxs(v_,{data:{setValue:r},children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(O0,{data:{text:"Title",onChangeFn:u=>i(u.target.value),value:s,placeholder:"Enter title..."}}),f.jsx(O0,{data:{text:"Link",onChangeFn:u=>a(u.target.value),value:o,placeholder:"Enter link..."}})]}),f.jsx("div",{children:f.jsx(ze,{data:{image:"add",text:"Add Link",clickFn:c}})})]})},HK=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:s}=T.useContext(Z),[i,o]=T.useState("posts"),[a,l]=T.useState(null);ul("posts",s,n);const c=async d=>{const h=_e(Oe,"posts",d);await go(h)},u=()=>{switch(i){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx(y_,{text:"Posts",length:r.length}),f.jsx(ze,{data:{clickFn:()=>o("createPost"),text:"Create a post"}})]}),f.jsx("div",{className:"grid gap-y-2 mb-2",children:r.sort((d,h)=>Us(d,h,"time","newer")).map(d=>{var p,m,y;let h;return t.forEach(_=>{_.uid===d.uid&&(h=_)}),f.jsxs("div",{className:`p-2 border min-h-20 flex items-center rounded-md ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:h.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:h.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500":"text-white"}`,children:Ko(Jn(d.time))})]})]}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:gs(d.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[d.images.length!==0&&f.jsxs("div",{className:`p-1 min-h-9 flex items-center gap-x-1  rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:de("image")}),f.jsxs("span",{children:[d.images.length," ",d.images.length<=1?"image":"images"]})]}),d.files.length!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:de("file")}),f.jsxs("span",{children:[d.files.length," ",d.files.length<=1?"file":"files"]})]}),d.links&&((p=d==null?void 0:d.links)==null?void 0:p.length)!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:de("link")}),f.jsxs("span",{children:[(m=d==null?void 0:d.links)==null?void 0:m.length," ",((y=d==null?void 0:d.links)==null?void 0:y.length)<=1?"link":"links"]})]}),d.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(N2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{l(d),o("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>c(d.id)}]})})]},`post-${d.id}`)})})]});case"createPost":return f.jsx(qK,{setPage:o,postData:a,setPostData:l})}};return f.jsx("div",{className:"p-5",children:u()})},qK=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=T.useContext(Z),[s,i]=T.useState(e?e.images:[]),[o,a]=T.useState(null),[l,c]=T.useState(e?e.description:""),[u,d]=T.useState(e?e==null?void 0:e.files:[]),[h,p]=T.useState(e?(e==null?void 0:e.links)||[]:[]),[m,y]=T.useState(!1),_=l.trim()||s.length!==0||u.length!==0||h.length!==0,g=async(x=!1)=>{try{const S=Vt(Oe,"posts");await Tl(S,{uid:te.currentUser.uid,time:Wn(),editedTime:Wn(),description:l,images:s,files:u,links:h,draft:x}),t("posts")}catch(S){console.log(S.message)}},v=async()=>{try{const x=_e(Oe,"posts",e.id);await vr(x,{editedTime:Wn(),description:l,images:s,files:u,links:h,draft:!1}),t("posts")}catch(x){console.log(x.message)}},w=async()=>{try{if(e){const x=_e(Oe,"posts",e.id);await vr(x,{editedTime:Wn(),description:l,images:s,files:u,links:h,draft:!0})}else g(!0);t("posts")}catch(x){console.log(x.message)}},I=async x=>{try{const S=await Ot(x,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),P=`posts/${te.currentUser.uid}/${x.name}`,N=ao(co,P);a("Uploading image...");const L=await m0(N,S),O=await g0(L.ref),j=[...s,{name:x.name,path:P,imageURL:O}];i(j),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(S){a(S.message),setTimeout(()=>{a(null)},3e3)}},R=async x=>{try{const S=`posts/${te.currentUser.uid}/${x.name}`,P=ao(co,S);a("Uploading file...");const N=await m0(P,x),L=await g0(N.ref),O=[...u,{name:x.name,path:S,fileURL:L,size:x.size}];d(O),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(S){a(S.message),setTimeout(()=>{a(null)},3e3)}},E=async(x,S)=>{const P=s.filter(L=>S!==L.imageURL);i(P);const N=ao(co,x);await Cg(N)},b=async(x,S)=>{const P=u.filter(L=>S!==L.fileURL);d(P);const N=ao(co,x);await Cg(N)},C=x=>{const S=h.filter(P=>x!==P.id);p(S)};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(R0,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(Ve,{data:{clickFn:()=>{t("posts"),n(null)},image:"back"}}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(ze,{data:{text:"Draft",clickFn:()=>{_&&w()}}}),f.jsx(ze,{data:{clickFn:()=>{_?(e?v():g(),n(null)):a("Create a post first!")},text:e?"Save":"Publish",image:e?"save":"upload"}})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:x=>c(x.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-200  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:x=>I(x.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:x=>R(x.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsxs("label",{htmlFor:"imagesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:de("image")}),f.jsx("span",{children:"Image"})]}),f.jsxs("label",{htmlFor:"filesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:de("file")}),f.jsx("span",{children:"File"})]}),f.jsxs("label",{onClick:()=>{y(!0)},className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:de("link")}),f.jsx("span",{children:"Link"})]}),m&&f.jsx(WK,{data:{links:h,setLinks:p,setIsLinkAdding:y}})]})]}),s.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:s.map(x=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:x.name,className:"size-full",src:x.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(Ve,{data:{clickFn:()=>E(x.path,x.imageURL),image:"falseIcon"}})})]},x.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(x=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:x.name}),(x==null?void 0:x.size)&&f.jsxs("p",{children:[(x.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(Ve,{data:{clickFn:()=>b(x.path,x.fileURL),image:"falseIcon"}})})]},x.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(x=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:x.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(Ve,{data:{image:"falseIcon",clickFn:()=>C(x.id)}})})]},x.link))})]})},GK=()=>{const{users:t,setHeaderTitle:e,theme:n,notifications:r,setNotifications:s,notificationLastDoc:i,setNotificationLastDoc:o}=T.useContext(Z),a=5,l=()=>{const c=Vt(Oe,"notifications");let u=Oa(c,a0("timestamp","desc"),l0(a));i&&(u=Oa(u,OI(i))),_r(u,d=>{const h=d.docs.map(p=>({id:p.id,...p.data()}));s([...r,...h]),o(d.docs[d.docs.length-1])})};return T.useEffect(()=>{const c=Vt(Oe,"notifications"),u=Oa(c,a0("timestamp","desc"),l0(5)),d=_r(u,h=>{const p=h.docs.map(m=>({id:m.id,...m.data()}));p.length!==0&&(s(p),setLastDoc(h.docs[h.docs.length-1]))});return()=>d()},[]),T.useEffect(()=>{e("Notifications")},[]),f.jsxs("div",{className:"p-5 grid gap-y-2 ",children:[f.jsx(Br,{}),r.map(c=>{let u;return t.forEach(d=>{c.uid===d.uid&&(u=d)}),f.jsx(KK,{notification:c,user:u},c.id)}),r.length===0&&f.jsx("div",{className:`${n==="light"?"":"text-white"}`,children:"No notifications"}),r.length>=a&&f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx("button",{onClick:l,className:`border  rounded-md text-sm p-1 ${n==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"load more"})})]})},KK=({notification:t,user:e})=>{let n;const{type:r,description:s,timestamp:i,testName:o,comment:a}=t,{theme:l}=T.useContext(Z);switch(`${r[0]} ${r[1]}`){case"like post":n="liked a post";break;case"like test":n="liked a test";break;case"comment post":n="commented on a post";break;case"comment test":n="commented on a test";break;case"added post":n="added a post";break;case"added test":n="added a test";break;case"took test":n="took a test";break}return f.jsxs("div",{className:`cursor-pointer shadow-md flex items-center gap-x-2 p-2 border  rounded-md ${l==="light"?"border-slate-300 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:e==null?void 0:e.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:e==null?void 0:e.name})," ",n]}),s&&f.jsx("p",{children:gs(s,30)}),o&&f.jsx("p",{children:o}),a&&f.jsx("p",{children:a}),f.jsx("p",{children:Ko(Jn(i))})]})]})},QK=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=T.useContext(Z);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),t.sort((s,i)=>Us(s,i,"joinedAt","newer")).map(s=>{const i=zr(n,s.uid),o=e(s.uid);return f.jsxs("div",{className:`p-2 flex gap-x-2 items-center border  rounded-md ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx(ys,{image:i.image,name:i.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${o.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:i==null?void 0:i.name}),f.jsx("p",{className:`text-sm ${o.isOnline?"text-blue-500":"text-red-500"}`,children:o.isOnline?"Online":Ko(Jn(o.lastSeen))})]})]},s.uid+s.joinedAt)})]})},YK=({setSubPage:t,currentChat:e,onlineUsers:n})=>{const{theme:r,users:s,userData:i}=T.useContext(Z),{members:o}=e,a=async d=>{try{const h=_e(Oe,"chats",e.id);await vr(h,{members:RM({uid:d,joinedAt:new Date().getTime()})})}catch(h){console.log(h.message)}},l=async d=>{try{const h=_e(Oe,"chats",e.id),p=o.filter(m=>d!==m.uid);await vr(h,{members:p})}catch(h){console.log(h.message)}},c=d=>{let h=!1;return o.forEach(p=>{d===p.uid&&(h=!0)}),h},u=d=>{let h=!1,p=null;return n.forEach(m=>{m.uid===d&&(h=!0,p=m)}),{isOnline:h,...p}};return f.jsxs("div",{className:"",children:[f.jsx("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${r==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Ve,{data:{image:"back",clickFn:()=>t("chat")}})}),f.jsxs("div",{className:` ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:e.name}),f.jsxs("p",{className:"text-sm",children:[o.length," ",o.length<=1?"member":"members"]})]})]})}),(i==null?void 0:i.isAdmin)&&f.jsxs("div",{className:"p-2",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*"}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:"images/sea-logo.jpg",className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${r==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:de("edit")})})]}),f.jsxs("div",{className:`mt-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx("p",{children:e.name})]})]}),f.jsx(QK,{members:o,onlineUsers:n,isUserOnline:u}),(i==null?void 0:i.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),s.sort((d,h)=>Us(d,h,"createdAt","newer")).map((d,h)=>{const p=u(d.uid);return f.jsxs("div",{className:`p-2 flex justify-between items-center border  rounded-md ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(ys,{image:d.image,name:d.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${p.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:d.name}),f.jsx("p",{className:`text-sm ${p.isOnline?"text-blue-500":"text-red-500"}`,children:p.isOnline?"Online":Ko(Jn(p.lastSeen))})]})]}),f.jsx("div",{children:c(d.uid)?!d.isAdmin&&f.jsx(Ve,{data:{clickFn:()=>l(d.uid),image:"trash"}}):f.jsx(Ve,{data:{clickFn:()=>a(d.uid),image:"add"}})})]},d.name+" "+d.image+h)})]})]})},XK=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageId:s,setViewingImage:i,setReplyMessage:o,isUserOnline:a})=>{const{users:l,theme:c,userData:u}=T.useContext(Z),d=te.currentUser.uid===t.senderId,h=zr(l,t.senderId),p=a(h.uid),m=d&&{text:"Edit",icon:"editPencil",onClick:()=>{s(t.id),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}};return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${d?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(ys,{name:h.name,image:h.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${p!=null&&p.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${c==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${d?"text-right":"text-left"} `,children:h==null?void 0:h.name}),f.jsxs("div",{className:`flex items-start gap-x-1 ${d?"flex-row-reverse justify-start":""}`,children:[f.jsxs("div",{children:[(t==null?void 0:t.content)&&f.jsxs("p",{className:`max-w-[250px] break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${c==="light"?`${d?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${d?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:[(t==null?void 0:t.reply)&&f.jsx(JK,{message:t}),t.content]}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{i(t.image)},className:"cursor-pointer border mt-1 rounded-sm border-slate-200 w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL})]}),d||u!=null&&u.isAdmin?f.jsx(N2,{options:[m,{text:"Delete",icon:"deleteIcon",onClick:()=>e(t.id)}],left:d?"left-[35px]":"-left-[102px]"}):""]}),f.jsxs("div",{className:`flex  ${d?"flex-row-reverse":""} gap-x-1 items-center`,children:[f.jsx("button",{onClick:()=>{o(t)},children:f.jsx("img",{className:"w-6",src:de("reply")})}),f.jsx("p",{className:`text-sm ${d?"text-right":"text-left"}`,children:t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Do(Jn(t.editedTime))]}):f.jsx("span",{children:Do(Jn(t.timestamp))})})]})]})]})},JK=({message:t})=>{const{users:e,theme:n}=T.useContext(Z),{senderId:r,content:s,image:i}=t.reply,[o,a]=T.useState(!1),l=zr(e,r);return f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${n==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:l.name}),s&&f.jsxs("p",{children:[o?s:gs(s,25),s.length>=25&&f.jsx("span",{onClick:()=>{a(!o)},className:"font-bold text-blue-400 cursor-pointer",children:o?" see less":" see more"})]}),i&&f.jsx("p",{children:"Image"})]})},ZK=({image:t,setViewingImage:e})=>f.jsx(v_,{data:{setValue:e},children:t&&f.jsxs("div",{className:"",children:[f.jsxs("p",{children:["File size: ",(t.size/(1024*1024)).toFixed(2)," MB"]}),f.jsx("img",{alt:t.name,className:"mt-1 h-full w-full",src:t.URL})]})}),eQ=({setIsRulesOpen:t,rules:e=[" - Group         ","No spamming -    (link)   emoji   ","Privacy  -        ","  (rules)    Group       ()   "]})=>f.jsx(v_,{data:{setValue:t},children:e?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),e.map((n,r)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:r+1}),f.jsx("p",{className:"flex-1",children:n})]},`${r}-${n}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),tQ=({message:t,loadMessages:e,setNewMessage:n,setViewingOldMessages:r})=>{const{senderId:s,content:i,timestamp:o}=t,{users:a,theme:l}=T.useContext(Z),c=zr(a,s);return f.jsx("div",{onClick:()=>{e(),to(),n(null),r(!1)},className:`z-30 cursor-pointer fixed  right-2 bottom-[200px] rounded-md border border-slate-300 p-2 ${l==="light"?"bg-white":"bg-slate-500 text-white"}`,children:f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-x-1 mb-1",children:[f.jsx("img",{className:"size-7 rounded-full object-center object-cover",src:c.image}),f.jsx("p",{className:"font-bold",children:c.name})]}),f.jsx("div",{children:gs(i)}),f.jsx("p",{className:"text-sm text-gray-300",children:Do(Jn(o))})]})})},nQ=()=>{const t="Typing...",[e,n]=T.useState("");let r=0;const[s,i]=T.useState(0);return T.useEffect(()=>(r=setInterval(()=>{s!==t.length?(n(e+t[s]),i(s+1)):(i(0),n(""))},250),()=>{clearInterval(r)}),[e,s]),f.jsx("p",{children:e.length===0?"":e})},rQ=({typingUsers:t,viewingOldMessages:e,isUserOnline:n})=>{const{users:r,theme:s}=T.useContext(Z);if(T.useEffect(()=>{!e&&t.length!==0&&to()},[t]),t.length!==0)return f.jsx("div",{className:"",children:f.jsx("div",{className:"grid gap-y-1",children:t.map(i=>{const o=zr(r,i.uid),a=n(i.uid),l=te.currentUser.uid===i.uid;return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${l?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(ys,{name:o.name,image:o.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${a!=null&&a.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${s==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${l?"text-right":"text-left"} `,children:o.name}),f.jsx("div",{className:`flex items-start gap-x-1 ${l?"flex-row-reverse justify-start":""}`,children:f.jsx("div",{children:f.jsx("p",{className:`max-w-[250px] w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${s==="light"?`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:f.jsx(nQ,{})})})})]})]})})})})},sQ=({data:t})=>{const{setPage:e,chatId:n,chats:r,messages:s,viewingOldMessages:i,setViewingOldMessages:o,loadMoreWithoutSnapshot:a,loadMessages:l}=t,{theme:c,userData:u,users:d,setIsOnline:h}=T.useContext(Z),[p,m]=T.useState(""),[y,_]=T.useState("chat"),[g,v]=T.useState(null),w=_e(Oe,"chats",n),I=Vt(w,"messages"),[R,E]=T.useState(null),[b,C]=T.useState(!1),[x,S]=T.useState(!1),[P,N]=T.useState(null),[L,O]=T.useState(null),[j,k]=T.useState(null),[A,D]=T.useState(!1),[M,$]=T.useState(null);let H=0;const z=Vt(w,"typingUsers"),X=_e(z,te.currentUser.uid),[V,F]=T.useState([]),[ee,he]=T.useState(!1);let ye=0;const ie=Vt(w,"onlineUsers"),Ie=_e(ie,te.currentUser.uid),[Ne,We]=T.useState([]),An=()=>_r(z,fe=>{const ne=fe.docs.map(Fe=>({...Fe.data()}));F(ne)});T.useEffect(()=>An(),[]),T.useEffect(()=>(p.trim()&&he(!0),ye=setTimeout(()=>{he(!1)},3e3),()=>{he(!1),clearTimeout(ye)}),[p]);const nn=async()=>{await c0(X,{uid:te.currentUser.uid})},He=async()=>{const se=_e(z,te.currentUser.uid);await go(se)};T.useEffect(()=>{ee?nn():He()},[ee]);const xt=()=>_r(ie,fe=>{const ne=fe.docs.map(Fe=>({...Fe.data()}));We(ne)});T.useEffect(()=>xt(),[]);const $e=async()=>{await c0(Ie,{uid:te.currentUser.uid,lastSeen:Wn()})},Pe=async()=>{const se=_e(ie,te.currentUser.uid);await go(se)};T.useEffect(()=>($e(),Pe),[]),T.useEffect(()=>($(Se==null?void 0:Se.lastMessage),H=setTimeout(()=>{$(null)},12e4),()=>clearTimeout(H)),[r]);let Se;r.forEach(se=>{n===se.id&&(Se=se)}),T.useEffect(()=>{const se=zr(d,L==null?void 0:L.senderId);k(se),console.log(L,se)},[L]),T.useEffect(()=>{to()},[]);const gt=async se=>{const fe=`chats/${n}/${u.name}-${se.name}`,ne=ao(co,fe);C(!0),S(!0);const Fe=await Ot(se,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),_n=await m0(ne,Fe),qt=await g0(_n.ref),sr={name:se.name,path:fe,URL:qt,size:Fe.size};E(sr),C(!1),S(!1)},qe=async se=>{const fe=ao(co,se);await Cg(fe),E(null)},Ht=async()=>{try{const se={senderId:te.currentUser.uid,content:p.trim(),timestamp:Wn(),image:R||null,reply:L||null};S(!0),await Tl(I,se),await vr(w,{lastMessage:se}),m(""),E(null),to(),S(!1),O(null),k(null),he(!1)}catch(se){console.log(se.message)}},Xe=async()=>{try{const se=_e(I,g),fe={content:p.trim(),editedTime:Wn(),image:R||null,reply:L||null};S(!0),await vr(se,fe),m(""),E(null),v(null),S(!1),O(null),k(null)}catch(se){console.log(se.message)}},Te=async se=>{const fe=_e(I,se);await go(fe)},ct=se=>{let fe=!1,ne=null;return Ne.forEach(Fe=>{Fe.uid===se&&(fe=!0,ne=Fe)}),{isOnline:fe,...ne}},rr=()=>{switch(y){case"chat":return f.jsxs("div",{className:"",children:[M&&i?f.jsx(tQ,{message:M,loadMessages:l,setNewMessage:$,setViewingOldMessages:o}):"",P&&f.jsx(ZK,{image:P,setViewingImage:N}),A&&f.jsx(eQ,{setIsRulesOpen:D,rules:Se==null?void 0:Se.rules}),f.jsxs("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${c==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Ve,{data:{image:"back",clickFn:()=>e("chatroom")}})}),f.jsxs("div",{className:` ${c==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:Se.name}),f.jsxs("p",{className:"text-sm",children:[Se.members.length," ",Se.members.length<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>_("info"),children:f.jsx("img",{src:"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]}),f.jsxs("div",{className:"p-2 gap-y-2 mb-[98px]",children:[f.jsx("div",{className:"flex justify-center mt-1 mb-2",children:f.jsx("button",{onClick:()=>{a("old"),o(!0),to()},className:`border  rounded-md text-sm p-1 ${c==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Older messages"})}),s.sort((se,fe)=>Us(se,fe)).map((se,fe)=>f.jsx(XK,{editMessage:Xe,setEditMessageId:v,deleteMessage:Te,message:se,setMessage:m,setImageObject:E,setViewingImage:N,setReplyMessage:O,isUserOnline:ct},`${fe}-${se.content}`)),i&&f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx("button",{onClick:()=>{a("newer"),jn()},className:`border  rounded-md text-sm p-1 ${c==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Newer messages"}),f.jsx("button",{onClick:()=>{l(),o(!1),to()},className:`border  rounded-md text-sm p-1 ${c==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Latest messages"})]}),f.jsx(rQ,{typingUsers:V,viewingOldMessages:i,isUserOnline:ct})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${c==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>D(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),g&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{v(null),m(""),E(null),O(null),k(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:de("falseIcon")})})]}),L&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",j==null?void 0:j.name]}),f.jsx("p",{children:gs(L==null?void 0:L.content,25)})]}),f.jsx("button",{onClick:()=>{O(null),k(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:de("falseIcon")})})]}),b&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),R&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:R.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:R.name})]}),f.jsx("button",{onClick:()=>{qe(R.path),E(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:de("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${c==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:se=>{gt(se.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:de("image")})}),f.jsx("textarea",{onChange:se=>m(se.target.value),value:p,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${c==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!x&&(p.trim()||R)&&(g?Xe():Ht())},children:f.jsx("img",{className:"w-10",src:de(x?"sendingLetter":"sendLetter")})})]})]})]});case"info":return f.jsx(YK,{setSubPage:_,currentChat:Se,onlineUsers:Ne})}};return f.jsx(f.Fragment,{children:rr()})},iQ=()=>{const[t,e]=T.useState("chatroom"),[n,r]=T.useState(null),[s,i]=T.useState(null),[o,a]=T.useState(!1),{theme:l,users:c,setHeaderTitle:u,isLogin:d,chats:h,setChats:p,messages:m,setMessages:y}=T.useContext(Z);let _=0;ul("chats",p,d);const g=()=>{let E;try{if(!o){const b=Vt(_e(Oe,"chats",n),"messages");let C=Oa(b,a0("timestamp","desc"),l0(15));return E=_r(C,x=>{const S=x.docs.map(P=>({id:P.id,...P.data()}));S.length!==0&&y(S),i(x.docs[x.docs.length-1])}),()=>{E&&E()}}}catch(b){console.log(b.message)}},v=async E=>{try{const b=Vt(_e(Oe,"chats",n),"messages");let x=Oa(b,a0("timestamp",E==="newer"?"asc":"desc"),l0(15));s&&(x=Oa(x,OI(s)));const S=await AM(x),P=S.docs.map(N=>({id:N.id,...N.data()}));P.length!==0&&y(P),i(S.docs[S.docs.length-1])}catch(b){console.log(b.message)}};T.useEffect(()=>g(),[o,n]),T.useEffect(()=>{u("Chat Room")},[]);const w=E=>{e("chat"),r(E)},I=(E,b)=>{let C=!1;return E.forEach(x=>{b===x.uid&&(C=!0)}),C},R=()=>{switch(t){case"chatroom":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[h.map(E=>{var C,x;let b;if(c.forEach(S=>{var P;S.uid===((P=E==null?void 0:E.lastMessage)==null?void 0:P.senderId)&&(b=S)}),I(E.members,(C=te==null?void 0:te.currentUser)==null?void 0:C.uid))return _++,f.jsxs(qg,{onClick:()=>w(E.id),sx:{display:"flex",minHeight:"100px",columnGap:"2px",alignItems:"center",cursor:"pointer",padding:"4px"},children:[f.jsx(jG,{component:"img",alt:"Group Image",image:"images/sea-logo.jpg",sx:{height:"48px",width:"48px"}}),f.jsxs("div",{children:[f.jsx(Yi,{sx:{fontWeight:"bold"},gutterBottom:!0,children:E==null?void 0:E.name}),f.jsxs(Ba,{container:!0,sx:{display:"grid"},children:[f.jsx(Ba,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:(E==null?void 0:E.lastMessage)&&f.jsxs(f.Fragment,{children:[f.jsx(ys,{size:"size-5",fontSize:"text-sm",name:b.name,image:b.image}),f.jsx(Yi,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:b==null?void 0:b.name})]})}),(E==null?void 0:E.lastMessage)&&f.jsxs(Ba,{sx:{marginTop:"2px",display:"grid"},children:[f.jsx(Yi,{size:"small",variant:"caption",color:"textSecondary",children:gs(E.lastMessage.content,30)}),((x=E.lastMessage)==null?void 0:x.image)&&f.jsx(Yi,{size:"small",variant:"caption",color:"textSecondary",children:"1 image"}),f.jsx(Yi,{size:"small",variant:"caption",color:"textSecondary",children:Do(Jn(E.lastMessage.timestamp))})]})]})]})]},E.id)}),_===0&&f.jsxs("div",{className:`${l==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"You don't have any chat rooms."}),f.jsx("p",{children:"Ask the admin to add you to a chat room."})]})]});case"chat":return f.jsx(sQ,{data:{page:t,chats:h,setPage:e,chatId:n,messages:m,viewingOldMessages:o,setViewingOldMessages:a,setLastDoc:i,loadMoreWithoutSnapshot:v,loadMessages:g}})}};return f.jsxs(f.Fragment,{children:[f.jsx(Br,{}),R()]})},oQ=()=>{const{headerTitle:t,refreshUserData:e,isLogin:n,setIsLogIn:r,setUserId:s}=T.useContext(Z);document.title=t;const i=tr();T.useEffect(()=>{e()},[n]),T.useEffect(()=>{const o=DD(te,a=>{a&&(r(a),s(te.currentUser.uid))});return()=>{o()}},[]),T.useEffect(()=>{i(n?"/app/posts":"/login")},[n])},aQ=()=>{const t={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},e=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],n=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated ${Ko(1712655376346)}.`}];return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Br,{}),f.jsx(ec,{image:t.image,text:t.text,answer:t.answer}),f.jsx(ec,{text:"FAQ",image:"faq",answer:e.map(r=>f.jsx(ec,{text:r.text,answer:r.answer},r.text))}),f.jsx(ec,{image:"update",text:"Updates",answer:n.map(r=>f.jsx(ec,{text:r.text,answer:r.answer},r.text))})]})},ec=({image:t,text:e,answer:n})=>{const[r,s]=T.useState(!1),{theme:i}=T.useContext(Z);return f.jsxs("div",{className:`border p-2  mb-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(lQ,{image:t}),f.jsx("div",{children:e})]}),f.jsx("button",{onClick:()=>s(!r),className:`mr-2  rounded-full p-1 ${i==="light"?"bg-gray-200":"bg-slate-500"}`,children:f.jsx("img",{className:"w-6",src:de(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},lQ=({image:t})=>f.jsx("img",{className:"w-7",src:de(t)}),Z=T.createContext();function cQ(){var Ne,We,An;const t=QV("sea-localStorage"),[e,n]=T.useState("light"),[r,s]=T.useState(((Ne=t==null?void 0:t.timer)==null?void 0:Ne.seconds)||0),[i,o]=T.useState(((We=t==null?void 0:t.timer)==null?void 0:We.minutes)||0),[a,l]=T.useState(((An=t==null?void 0:t.timer)==null?void 0:An.hours)||0),[c,u]=T.useState(!1),[d,h]=T.useState({}),[p,m]=T.useState([]),[y,_]=T.useState(null),[g,v]=T.useState((t==null?void 0:t.answeredQuestions)||[]),[w,I]=T.useState((t==null?void 0:t.currentTest)||null),[R,E]=T.useState(!1),[b,C]=T.useState(""),[x,S]=T.useState(!1),[P,N]=T.useState([]),[L,O]=T.useState([]),[j,k]=T.useState([]),[A,D]=T.useState(null),[M,$]=T.useState([]),[H,z]=T.useState([]),[X,V]=T.useState([]),[F,ee]=T.useState(null);ul("users",m,c),JV("users",h,c);const he=()=>{},ye=()=>{s(0),o(0),l(0)},ie=()=>{ye(),v([]),I(null),jg("sea-localStorage",{answeredQuestions:[],currentTest:null,startIndex:null,timer:{seconds:0,minutes:0,hours:0}})};T.useEffect(()=>{jg("seaacademy-theme-data",e)},[e]);const Ie=`${a}:${Nw(i)}:${Nw(r)}`;return T.useEffect(()=>{const nn=setInterval(()=>{r<59?s(r+1):(s(0),o(i+1)),i===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(nn)}},[r]),f.jsx(Z.Provider,{value:{answeredQuestions:g,setAnsweredQuestions:v,currentTest:w,stopTest:ie,seaLocalStorage:t,formattedTime:Ie,startTimer:ye,seconds:r,minutes:i,hours:a,inspecting:R,userData:d,isLogin:c,setUserData:h,users:p,setCurrentTest:I,headerTitle:b,setHeaderTitle:C,theme:e,setTheme:n,refreshUserData:he,isOnline:x,setIsOnline:S,userId:y,setUserId:_,setInspecting:E,setIsLogIn:u,posts:P,setPosts:N,tests:L,setTests:O,history:j,setHistory:k,chats:M,setChats:$,messages:H,setMessages:z,notifications:X,setNotifications:V,historyLastDoc:A,setHistoryLastDoc:D,notificationLastDoc:F,setNotificationLastDoc:ee},children:f.jsx("div",{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bg-[#e3f2fd]",children:f.jsxs($k,{children:[f.jsx(oQ,{}),f.jsx(aK,{}),f.jsx(uK,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5",children:f.jsxs(Nk,{children:[!c&&f.jsx(xn,{exact:!0,path:"/login",element:f.jsx(CK,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(xn,{exact:!0,path:"/app/:page",element:w?f.jsx(ez,{}):f.jsx(vK,{})}),f.jsx(xn,{exact:!0,path:"/app/history/:resultId",element:f.jsx(tz,{})}),f.jsx(xn,{exact:!0,path:"/app/help",element:f.jsx(aQ,{})}),f.jsx(xn,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(lK,{})}),f.jsx(xn,{path:"/app/history",element:f.jsx(cK,{})}),f.jsx(xn,{path:"/app/chatroom",element:f.jsx(iQ,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(xn,{path:"/app/notifications",element:f.jsx(GK,{})}),f.jsx(xn,{path:"/app/admin",element:f.jsx(dK,{})}),f.jsx(xn,{path:"/app/admin/tests",element:f.jsx(VK,{})}),f.jsx(xn,{path:"/app/admin/users",element:f.jsx(BK,{})}),f.jsx(xn,{path:"/app/admin/posts",element:f.jsx(HK,{})})]}),f.jsx(xn,{exact:!0,path:"/app/settings",element:f.jsx(PK,{})})]}),f.jsx(xn,{path:"*",element:f.jsx(Wv,{title:"No page found!",text:"There is no page!"})})]})}),b!=="Chat Room"&&f.jsx(EK,{})]})})})}Hp.createRoot(document.getElementById("root")).render(f.jsx(Xi.StrictMode,{children:f.jsx(cQ,{})}));
