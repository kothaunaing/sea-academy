var WV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dCe=WV((FCe,fg)=>{function HV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function L6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var M6={exports:{}},J1={},O6={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),GV=Symbol.for("react.portal"),qV=Symbol.for("react.fragment"),YV=Symbol.for("react.strict_mode"),KV=Symbol.for("react.profiler"),QV=Symbol.for("react.provider"),XV=Symbol.for("react.context"),JV=Symbol.for("react.forward_ref"),ZV=Symbol.for("react.suspense"),eU=Symbol.for("react.memo"),tU=Symbol.for("react.lazy"),dS=Symbol.iterator;function nU(t){return t===null||typeof t!="object"?null:(t=dS&&t[dS]||t["@@iterator"],typeof t=="function"?t:null)}var j6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$6=Object.assign,F6={};function ch(t,e,n){this.props=t,this.context=e,this.refs=F6,this.updater=n||j6}ch.prototype.isReactComponent={};ch.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ch.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V6(){}V6.prototype=ch.prototype;function yC(t,e,n){this.props=t,this.context=e,this.refs=F6,this.updater=n||j6}var _C=yC.prototype=new V6;_C.constructor=yC;$6(_C,ch.prototype);_C.isPureReactComponent=!0;var hS=Array.isArray,U6=Object.prototype.hasOwnProperty,wC={current:null},z6={key:!0,ref:!0,__self:!0,__source:!0};function B6(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)U6.call(e,r)&&!z6.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:bp,type:t,key:i,ref:o,props:s,_owner:wC.current}}function rU(t,e){return{$$typeof:bp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xC(t){return typeof t=="object"&&t!==null&&t.$$typeof===bp}function sU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fS=/\/+/g;function Y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sU(""+t.key):e.toString(36)}function E2(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bp:case GV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Y_(o,0):r,hS(s)?(n="",t!=null&&(n=t.replace(fS,"$&/")+"/"),E2(s,e,n,"",function(c){return c})):s!=null&&(xC(s)&&(s=rU(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Y_(i,a);o+=E2(i,e,n,l,s)}else if(l=nU(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Y_(i,a++),o+=E2(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sm(t,e,n){if(t==null)return t;var r=[],s=0;return E2(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},C2={transition:null},oU={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:C2,ReactCurrentOwner:wC};vt.Children={map:Sm,forEach:function(t,e,n){Sm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sm(t,function(){e++}),e},toArray:function(t){return Sm(t,function(e){return e})||[]},only:function(t){if(!xC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=ch;vt.Fragment=qV;vt.Profiler=KV;vt.PureComponent=yC;vt.StrictMode=YV;vt.Suspense=ZV;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oU;vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$6({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=wC.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)U6.call(e,l)&&!z6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bp,type:t.type,key:s,ref:i,props:r,_owner:o}};vt.createContext=function(t){return t={$$typeof:XV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QV,_context:t},t.Consumer=t};vt.createElement=B6;vt.createFactory=function(t){var e=B6.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:JV,render:t}};vt.isValidElement=xC;vt.lazy=function(t){return{$$typeof:tU,_payload:{_status:-1,_result:t},_init:iU}};vt.memo=function(t,e){return{$$typeof:eU,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=C2.transition;C2.transition={};try{t()}finally{C2.transition=e}};vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vt.useCallback=function(t,e){return Ur.current.useCallback(t,e)};vt.useContext=function(t){return Ur.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};vt.useEffect=function(t,e){return Ur.current.useEffect(t,e)};vt.useId=function(){return Ur.current.useId()};vt.useImperativeHandle=function(t,e,n){return Ur.current.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return Ur.current.useMemo(t,e)};vt.useReducer=function(t,e,n){return Ur.current.useReducer(t,e,n)};vt.useRef=function(t){return Ur.current.useRef(t)};vt.useState=function(t){return Ur.current.useState(t)};vt.useSyncExternalStore=function(t,e,n){return Ur.current.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return Ur.current.useTransition()};vt.version="18.2.0";O6.exports=vt;var v=O6.exports;const Nr=L6(v),pg=HV({__proto__:null,default:Nr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aU=v,lU=Symbol.for("react.element"),cU=Symbol.for("react.fragment"),uU=Object.prototype.hasOwnProperty,dU=aU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hU={key:!0,ref:!0,__self:!0,__source:!0};function W6(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uU.call(e,r)&&!hU.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lU,type:t,key:i,ref:o,props:s,_owner:dU.current}}J1.Fragment=cU;J1.jsx=W6;J1.jsxs=W6;M6.exports=J1;var d=M6.exports,Tx={},H6={exports:{}},As={},G6={exports:{}},q6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var F=L.length;L.push(j);e:for(;0<F;){var q=F-1>>>1,W=L[q];if(0<s(W,j))L[q]=j,L[F]=W,F=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],F=L.pop();if(F!==j){L[0]=F;e:for(var q=0,W=L.length,B=W>>>1;q<B;){var U=2*(q+1)-1,V=L[U],H=U+1,ie=L[H];if(0>s(V,F))H<W&&0>s(ie,V)?(L[q]=ie,L[H]=F,q=H):(L[q]=V,L[U]=F,q=U);else if(H<W&&0>s(ie,F))L[q]=ie,L[H]=F,q=H;else break e}}return j}function s(L,j){var F=L.sortIndex-j.sortIndex;return F!==0?F:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function x(L){if(g=!1,_(L),!m)if(n(l)!==null)m=!0,P(b);else{var j=n(c);j!==null&&R(x,j.startTime-L)}}function b(L,j){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var F=f;try{for(_(j),h=n(l);h!==null&&(!(h.expirationTime>j)||L&&!A());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var W=q(h.expirationTime<=j);j=t.unstable_now(),typeof W=="function"?h.callback=W:h===n(l)&&r(l),_(j)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var U=n(c);U!==null&&R(x,U.startTime-j),B=!1}return B}finally{h=null,f=F,p=!1}}var C=!1,T=null,I=-1,S=5,k=-1;function A(){return!(t.unstable_now()-k<S)}function N(){if(T!==null){var L=t.unstable_now();k=L;var j=!0;try{j=T(!0,L)}finally{j?O():(C=!1,T=null)}}else C=!1}var O;if(typeof w=="function")O=function(){w(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=N,O=function(){$.postMessage(null)}}else O=function(){E(N,0)};function P(L){T=L,C||(C=!0,O())}function R(L,j){I=E(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(b))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var F=f;f=j;try{return L()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return j()}finally{f=F}},t.unstable_scheduleCallback=function(L,j,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,L={id:u++,callback:j,priorityLevel:L,startTime:F,expirationTime:W,sortIndex:-1},F>q?(L.sortIndex=F,e(c,L),n(l)===null&&L===n(c)&&(g?(y(I),I=-1):g=!0,R(x,F-q))):(L.sortIndex=W,e(l,L),m||p||(m=!0,P(b))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var j=f;return function(){var F=f;f=j;try{return L.apply(this,arguments)}finally{f=F}}}})(q6);G6.exports=q6;var fU=G6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6=v,bs=fU;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K6=new Set,f0={};function Qc(t,e){bd(t,e),bd(t+"Capture",e)}function bd(t,e){for(f0[t]=e,t=0;t<e.length;t++)K6.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sx=Object.prototype.hasOwnProperty,pU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pS={},mS={};function mU(t){return Sx.call(mS,t)?!0:Sx.call(pS,t)?!1:pU.test(t)?mS[t]=!0:(pS[t]=!0,!1)}function gU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vU(t,e,n,r){if(e===null||typeof e>"u"||gU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ur[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ur[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ur[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var EC=/[\-:]([a-z])/g;function CC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(EC,CC);ur[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(EC,CC);ur[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(EC,CC);ur[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});ur.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ur[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bC(t,e,n,r){var s=ur.hasOwnProperty(e)?ur[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vU(e,n,s,r)&&(n=null),r||s===null?mU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ua=Y6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,km=Symbol.for("react.element"),$u=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),Q6=Symbol.for("react.provider"),X6=Symbol.for("react.context"),TC=Symbol.for("react.forward_ref"),Rx=Symbol.for("react.suspense"),Ax=Symbol.for("react.suspense_list"),SC=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),J6=Symbol.for("react.offscreen"),gS=Symbol.iterator;function zh(t){return t===null||typeof t!="object"?null:(t=gS&&t[gS]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,K_;function Ef(t){if(K_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);K_=e&&e[1]||""}return`
`+K_+t}var Q_=!1;function X_(t,e){if(!t||Q_)return"";Q_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Q_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ef(t):""}function yU(t){switch(t.tag){case 5:return Ef(t.type);case 16:return Ef("Lazy");case 13:return Ef("Suspense");case 19:return Ef("SuspenseList");case 0:case 2:case 15:return t=X_(t.type,!1),t;case 11:return t=X_(t.type.render,!1),t;case 1:return t=X_(t.type,!0),t;default:return""}}function Px(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fu:return"Fragment";case $u:return"Portal";case kx:return"Profiler";case IC:return"StrictMode";case Rx:return"Suspense";case Ax:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X6:return(t.displayName||"Context")+".Consumer";case Q6:return(t._context.displayName||"Context")+".Provider";case TC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case SC:return e=t.displayName||null,e!==null?e:Px(t.type)||"Memo";case Pa:e=t._payload,t=t._init;try{return Px(t(e))}catch{}}return null}function _U(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Px(e);case 8:return e===IC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wU(t){var e=Z6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rm(t){t._valueTracker||(t._valueTracker=wU(t))}function e9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Z6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nx(t,e){var n=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t9(t,e){e=e.checked,e!=null&&bC(t,"checked",e,!1)}function Dx(t,e){t9(t,e);var n=hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lx(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lx(t,e,n){(e!=="number"||mg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cf=Array.isArray;function nd(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hl(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _S(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Cf(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hl(n)}}function n9(t,e){var n=hl(e.value),r=hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function r9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ox(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?r9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Am,s9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Am=Am||document.createElement("div"),Am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function p0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xU=["Webkit","ms","Moz","O"];Object.keys($f).forEach(function(t){xU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$f[e]=$f[t]})});function i9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$f.hasOwnProperty(t)&&$f[t]?(""+e).trim():e+"px"}function o9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=i9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EU=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jx(t,e){if(e){if(EU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function $x(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fx=null;function kC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vx=null,rd=null,sd=null;function xS(t){if(t=Sp(t)){if(typeof Vx!="function")throw Error(X(280));var e=t.stateNode;e&&(e=rv(e),Vx(t.stateNode,t.type,e))}}function a9(t){rd?sd?sd.push(t):sd=[t]:rd=t}function l9(){if(rd){var t=rd,e=sd;if(sd=rd=null,xS(t),e)for(t=0;t<e.length;t++)xS(e[t])}}function c9(t,e){return t(e)}function u9(){}var J_=!1;function d9(t,e,n){if(J_)return t(e,n);J_=!0;try{return c9(t,e,n)}finally{J_=!1,(rd!==null||sd!==null)&&(u9(),l9())}}function m0(t,e){var n=t.stateNode;if(n===null)return null;var r=rv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Ux=!1;if(Yo)try{var Bh={};Object.defineProperty(Bh,"passive",{get:function(){Ux=!0}}),window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{Ux=!1}function CU(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ff=!1,gg=null,vg=!1,zx=null,bU={onError:function(t){Ff=!0,gg=t}};function IU(t,e,n,r,s,i,o,a,l){Ff=!1,gg=null,CU.apply(bU,arguments)}function TU(t,e,n,r,s,i,o,a,l){if(IU.apply(this,arguments),Ff){if(Ff){var c=gg;Ff=!1,gg=null}else throw Error(X(198));vg||(vg=!0,zx=c)}}function Xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ES(t){if(Xc(t)!==t)throw Error(X(188))}function SU(t){var e=t.alternate;if(!e){if(e=Xc(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ES(s),t;if(i===r)return ES(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function f9(t){return t=SU(t),t!==null?p9(t):null}function p9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p9(t);if(e!==null)return e;t=t.sibling}return null}var m9=bs.unstable_scheduleCallback,CS=bs.unstable_cancelCallback,kU=bs.unstable_shouldYield,RU=bs.unstable_requestPaint,Tn=bs.unstable_now,AU=bs.unstable_getCurrentPriorityLevel,RC=bs.unstable_ImmediatePriority,g9=bs.unstable_UserBlockingPriority,yg=bs.unstable_NormalPriority,PU=bs.unstable_LowPriority,v9=bs.unstable_IdlePriority,Z1=null,eo=null;function NU(t){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(Z1,t,void 0,(t.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:MU,DU=Math.log,LU=Math.LN2;function MU(t){return t>>>=0,t===0?32:31-(DU(t)/LU|0)|0}var Pm=64,Nm=4194304;function bf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _g(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=bf(a):(i&=o,i!==0&&(r=bf(i)))}else o=n&~s,o!==0?r=bf(o):i!==0&&(r=bf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bi(e),s=1<<n,r|=t[n],e&=~s;return r}function OU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bi(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=OU(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Bx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y9(){var t=Pm;return Pm<<=1,!(Pm&4194240)&&(Pm=64),t}function Z_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ip(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bi(e),t[e]=n}function $U(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function AC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var jt=0;function _9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w9,PC,x9,E9,C9,Wx=!1,Dm=[],Xa=null,Ja=null,Za=null,g0=new Map,v0=new Map,Da=[],FU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bS(t,e){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":g0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":v0.delete(e.pointerId)}}function Wh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sp(e),e!==null&&PC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VU(t,e,n,r,s){switch(e){case"focusin":return Xa=Wh(Xa,t,e,n,r,s),!0;case"dragenter":return Ja=Wh(Ja,t,e,n,r,s),!0;case"mouseover":return Za=Wh(Za,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return g0.set(i,Wh(g0.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,v0.set(i,Wh(v0.get(i)||null,t,e,n,r,s)),!0}return!1}function b9(t){var e=Jl(t.target);if(e!==null){var n=Xc(e);if(n!==null){if(e=n.tag,e===13){if(e=h9(n),e!==null){t.blockedOn=e,C9(t.priority,function(){x9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function b2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fx=r,n.target.dispatchEvent(r),Fx=null}else return e=Sp(n),e!==null&&PC(e),t.blockedOn=n,!1;e.shift()}return!0}function IS(t,e,n){b2(t)&&n.delete(e)}function UU(){Wx=!1,Xa!==null&&b2(Xa)&&(Xa=null),Ja!==null&&b2(Ja)&&(Ja=null),Za!==null&&b2(Za)&&(Za=null),g0.forEach(IS),v0.forEach(IS)}function Hh(t,e){t.blockedOn===e&&(t.blockedOn=null,Wx||(Wx=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,UU)))}function y0(t){function e(s){return Hh(s,t)}if(0<Dm.length){Hh(Dm[0],t);for(var n=1;n<Dm.length;n++){var r=Dm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xa!==null&&Hh(Xa,t),Ja!==null&&Hh(Ja,t),Za!==null&&Hh(Za,t),g0.forEach(e),v0.forEach(e),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)b9(n),n.blockedOn===null&&Da.shift()}var id=ua.ReactCurrentBatchConfig,wg=!0;function zU(t,e,n,r){var s=jt,i=id.transition;id.transition=null;try{jt=1,NC(t,e,n,r)}finally{jt=s,id.transition=i}}function BU(t,e,n,r){var s=jt,i=id.transition;id.transition=null;try{jt=4,NC(t,e,n,r)}finally{jt=s,id.transition=i}}function NC(t,e,n,r){if(wg){var s=Hx(t,e,n,r);if(s===null)cw(t,e,r,xg,n),bS(t,r);else if(VU(s,t,e,n,r))r.stopPropagation();else if(bS(t,r),e&4&&-1<FU.indexOf(t)){for(;s!==null;){var i=Sp(s);if(i!==null&&w9(i),i=Hx(t,e,n,r),i===null&&cw(t,e,r,xg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cw(t,e,r,null,n)}}var xg=null;function Hx(t,e,n,r){if(xg=null,t=kC(r),t=Jl(t),t!==null)if(e=Xc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=h9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xg=t,null}function I9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AU()){case RC:return 1;case g9:return 4;case yg:case PU:return 16;case v9:return 536870912;default:return 16}default:return 16}}var za=null,DC=null,I2=null;function T9(){if(I2)return I2;var t,e=DC,n=e.length,r,s="value"in za?za.value:za.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return I2=s.slice(t,1<r?1-r:void 0)}function T2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lm(){return!0}function TS(){return!1}function Ps(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lm:TS,this.isPropagationStopped=TS,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lm)},persist:function(){},isPersistent:Lm}),e}var uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LC=Ps(uh),Tp=hn({},uh,{view:0,detail:0}),WU=Ps(Tp),ew,tw,Gh,ev=hn({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gh&&(Gh&&t.type==="mousemove"?(ew=t.screenX-Gh.screenX,tw=t.screenY-Gh.screenY):tw=ew=0,Gh=t),ew)},movementY:function(t){return"movementY"in t?t.movementY:tw}}),SS=Ps(ev),HU=hn({},ev,{dataTransfer:0}),GU=Ps(HU),qU=hn({},Tp,{relatedTarget:0}),nw=Ps(qU),YU=hn({},uh,{animationName:0,elapsedTime:0,pseudoElement:0}),KU=Ps(YU),QU=hn({},uh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XU=Ps(QU),JU=hn({},uh,{data:0}),kS=Ps(JU),ZU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ez={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tz[t])?!!e[t]:!1}function MC(){return nz}var rz=hn({},Tp,{key:function(t){if(t.key){var e=ZU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=T2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ez[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MC,charCode:function(t){return t.type==="keypress"?T2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?T2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sz=Ps(rz),iz=hn({},ev,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RS=Ps(iz),oz=hn({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MC}),az=Ps(oz),lz=hn({},uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),cz=Ps(lz),uz=hn({},ev,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dz=Ps(uz),hz=[9,13,27,32],OC=Yo&&"CompositionEvent"in window,Vf=null;Yo&&"documentMode"in document&&(Vf=document.documentMode);var fz=Yo&&"TextEvent"in window&&!Vf,S9=Yo&&(!OC||Vf&&8<Vf&&11>=Vf),AS=" ",PS=!1;function k9(t,e){switch(t){case"keyup":return hz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vu=!1;function pz(t,e){switch(t){case"compositionend":return R9(e);case"keypress":return e.which!==32?null:(PS=!0,AS);case"textInput":return t=e.data,t===AS&&PS?null:t;default:return null}}function mz(t,e){if(Vu)return t==="compositionend"||!OC&&k9(t,e)?(t=T9(),I2=DC=za=null,Vu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S9&&e.locale!=="ko"?null:e.data;default:return null}}var gz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gz[t.type]:e==="textarea"}function A9(t,e,n,r){a9(r),e=Eg(e,"onChange"),0<e.length&&(n=new LC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uf=null,_0=null;function vz(t){U9(t,0)}function tv(t){var e=Bu(t);if(e9(e))return t}function yz(t,e){if(t==="change")return e}var P9=!1;if(Yo){var rw;if(Yo){var sw="oninput"in document;if(!sw){var DS=document.createElement("div");DS.setAttribute("oninput","return;"),sw=typeof DS.oninput=="function"}rw=sw}else rw=!1;P9=rw&&(!document.documentMode||9<document.documentMode)}function LS(){Uf&&(Uf.detachEvent("onpropertychange",N9),_0=Uf=null)}function N9(t){if(t.propertyName==="value"&&tv(_0)){var e=[];A9(e,_0,t,kC(t)),d9(vz,e)}}function _z(t,e,n){t==="focusin"?(LS(),Uf=e,_0=n,Uf.attachEvent("onpropertychange",N9)):t==="focusout"&&LS()}function wz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tv(_0)}function xz(t,e){if(t==="click")return tv(e)}function Ez(t,e){if(t==="input"||t==="change")return tv(e)}function Cz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ki=typeof Object.is=="function"?Object.is:Cz;function w0(t,e){if(ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sx.call(e,s)||!ki(t[s],e[s]))return!1}return!0}function MS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OS(t,e){var n=MS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MS(n)}}function D9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L9(){for(var t=window,e=mg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mg(t.document)}return e}function jC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bz(t){var e=L9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&D9(n.ownerDocument.documentElement,n)){if(r!==null&&jC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=OS(n,i);var o=OS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Iz=Yo&&"documentMode"in document&&11>=document.documentMode,Uu=null,Gx=null,zf=null,qx=!1;function jS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qx||Uu==null||Uu!==mg(r)||(r=Uu,"selectionStart"in r&&jC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zf&&w0(zf,r)||(zf=r,r=Eg(Gx,"onSelect"),0<r.length&&(e=new LC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uu)))}function Mm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zu={animationend:Mm("Animation","AnimationEnd"),animationiteration:Mm("Animation","AnimationIteration"),animationstart:Mm("Animation","AnimationStart"),transitionend:Mm("Transition","TransitionEnd")},iw={},M9={};Yo&&(M9=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function nv(t){if(iw[t])return iw[t];if(!zu[t])return t;var e=zu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in M9)return iw[t]=e[n];return t}var O9=nv("animationend"),j9=nv("animationiteration"),$9=nv("animationstart"),F9=nv("transitionend"),V9=new Map,$S="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(t,e){V9.set(t,e),Qc(e,[t])}for(var ow=0;ow<$S.length;ow++){var aw=$S[ow],Tz=aw.toLowerCase(),Sz=aw[0].toUpperCase()+aw.slice(1);Il(Tz,"on"+Sz)}Il(O9,"onAnimationEnd");Il(j9,"onAnimationIteration");Il($9,"onAnimationStart");Il("dblclick","onDoubleClick");Il("focusin","onFocus");Il("focusout","onBlur");Il(F9,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);Qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kz=new Set("cancel close invalid load scroll toggle".split(" ").concat(If));function FS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TU(r,e,void 0,t),t.currentTarget=null}function U9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;FS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;FS(s,a,c),i=l}}}if(vg)throw t=zx,vg=!1,zx=null,t}function Yt(t,e){var n=e[Jx];n===void 0&&(n=e[Jx]=new Set);var r=t+"__bubble";n.has(r)||(z9(e,t,2,!1),n.add(r))}function lw(t,e,n){var r=0;e&&(r|=4),z9(n,t,r,e)}var Om="_reactListening"+Math.random().toString(36).slice(2);function x0(t){if(!t[Om]){t[Om]=!0,K6.forEach(function(n){n!=="selectionchange"&&(kz.has(n)||lw(n,!1,t),lw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Om]||(e[Om]=!0,lw("selectionchange",!1,e))}}function z9(t,e,n,r){switch(I9(e)){case 1:var s=zU;break;case 4:s=BU;break;default:s=NC}n=s.bind(null,e,n,t),s=void 0,!Ux||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Jl(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}d9(function(){var c=i,u=kC(n),h=[];e:{var f=V9.get(t);if(f!==void 0){var p=LC,m=t;switch(t){case"keypress":if(T2(n)===0)break e;case"keydown":case"keyup":p=sz;break;case"focusin":m="focus",p=nw;break;case"focusout":m="blur",p=nw;break;case"beforeblur":case"afterblur":p=nw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=SS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=az;break;case O9:case j9:case $9:p=KU;break;case F9:p=cz;break;case"scroll":p=WU;break;case"wheel":p=dz;break;case"copy":case"cut":case"paste":p=XU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RS}var g=(e&4)!==0,E=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,y!==null&&(x=m0(w,y),x!=null&&g.push(E0(w,x,_)))),E)break;w=w.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Fx&&(m=n.relatedTarget||n.fromElement)&&(Jl(m)||m[Ko]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Jl(m):null,m!==null&&(E=Xc(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=SS,x="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=RS,x="onPointerLeave",y="onPointerEnter",w="pointer"),E=p==null?f:Bu(p),_=m==null?f:Bu(m),f=new g(x,w+"leave",p,n,u),f.target=E,f.relatedTarget=_,x=null,Jl(u)===c&&(g=new g(y,w+"enter",m,n,u),g.target=_,g.relatedTarget=E,x=g),E=x,p&&m)t:{for(g=p,y=m,w=0,_=g;_;_=vu(_))w++;for(_=0,x=y;x;x=vu(x))_++;for(;0<w-_;)g=vu(g),w--;for(;0<_-w;)y=vu(y),_--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=vu(g),y=vu(y)}g=null}else g=null;p!==null&&VS(h,f,p,g,!1),m!==null&&E!==null&&VS(h,E,m,g,!0)}}e:{if(f=c?Bu(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=yz;else if(NS(f))if(P9)b=Ez;else{b=wz;var C=_z}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=xz);if(b&&(b=b(t,c))){A9(h,b,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Lx(f,"number",f.value)}switch(C=c?Bu(c):window,t){case"focusin":(NS(C)||C.contentEditable==="true")&&(Uu=C,Gx=c,zf=null);break;case"focusout":zf=Gx=Uu=null;break;case"mousedown":qx=!0;break;case"contextmenu":case"mouseup":case"dragend":qx=!1,jS(h,n,u);break;case"selectionchange":if(Iz)break;case"keydown":case"keyup":jS(h,n,u)}var T;if(OC)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Vu?k9(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(S9&&n.locale!=="ko"&&(Vu||I!=="onCompositionStart"?I==="onCompositionEnd"&&Vu&&(T=T9()):(za=u,DC="value"in za?za.value:za.textContent,Vu=!0)),C=Eg(c,I),0<C.length&&(I=new kS(I,t,null,n,u),h.push({event:I,listeners:C}),T?I.data=T:(T=R9(n),T!==null&&(I.data=T)))),(T=fz?pz(t,n):mz(t,n))&&(c=Eg(c,"onBeforeInput"),0<c.length&&(u=new kS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}U9(h,e)})}function E0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eg(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=m0(t,n),i!=null&&r.unshift(E0(t,i,s)),i=m0(t,e),i!=null&&r.push(E0(t,i,s))),t=t.return}return r}function vu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=m0(n,i),l!=null&&o.unshift(E0(n,l,a))):s||(l=m0(n,i),l!=null&&o.push(E0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rz=/\r\n?/g,Az=/\u0000|\uFFFD/g;function US(t){return(typeof t=="string"?t:""+t).replace(Rz,`
`).replace(Az,"")}function jm(t,e,n){if(e=US(e),US(t)!==e&&n)throw Error(X(425))}function Cg(){}var Yx=null,Kx=null;function Qx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xx=typeof setTimeout=="function"?setTimeout:void 0,Pz=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,Nz=typeof queueMicrotask=="function"?queueMicrotask:typeof zS<"u"?function(t){return zS.resolve(null).then(t).catch(Dz)}:Xx;function Dz(t){setTimeout(function(){throw t})}function uw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),y0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);y0(e)}function el(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dh=Math.random().toString(36).slice(2),Bi="__reactFiber$"+dh,C0="__reactProps$"+dh,Ko="__reactContainer$"+dh,Jx="__reactEvents$"+dh,Lz="__reactListeners$"+dh,Mz="__reactHandles$"+dh;function Jl(t){var e=t[Bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ko]||n[Bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BS(t);t!==null;){if(n=t[Bi])return n;t=BS(t)}return e}t=n,n=t.parentNode}return null}function Sp(t){return t=t[Bi]||t[Ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function rv(t){return t[C0]||null}var Zx=[],Wu=-1;function Tl(t){return{current:t}}function Jt(t){0>Wu||(t.current=Zx[Wu],Zx[Wu]=null,Wu--)}function Gt(t,e){Wu++,Zx[Wu]=t.current,t.current=e}var fl={},Ir=Tl(fl),es=Tl(!1),bc=fl;function Id(t,e){var n=t.type.contextTypes;if(!n)return fl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ts(t){return t=t.childContextTypes,t!=null}function bg(){Jt(es),Jt(Ir)}function WS(t,e,n){if(Ir.current!==fl)throw Error(X(168));Gt(Ir,e),Gt(es,n)}function B9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,_U(t)||"Unknown",s));return hn({},n,r)}function Ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fl,bc=Ir.current,Gt(Ir,t),Gt(es,es.current),!0}function HS(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=B9(t,e,bc),r.__reactInternalMemoizedMergedChildContext=t,Jt(es),Jt(Ir),Gt(Ir,t)):Jt(es),Gt(es,n)}var ko=null,sv=!1,dw=!1;function W9(t){ko===null?ko=[t]:ko.push(t)}function Oz(t){sv=!0,W9(t)}function Sl(){if(!dw&&ko!==null){dw=!0;var t=0,e=jt;try{var n=ko;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ko=null,sv=!1}catch(s){throw ko!==null&&(ko=ko.slice(t+1)),m9(RC,Sl),s}finally{jt=e,dw=!1}}return null}var Hu=[],Gu=0,Tg=null,Sg=0,$s=[],Fs=0,Ic=null,No=1,Do="";function Vl(t,e){Hu[Gu++]=Sg,Hu[Gu++]=Tg,Tg=t,Sg=e}function H9(t,e,n){$s[Fs++]=No,$s[Fs++]=Do,$s[Fs++]=Ic,Ic=t;var r=No;t=Do;var s=32-bi(r)-1;r&=~(1<<s),n+=1;var i=32-bi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,No=1<<32-bi(e)+s|n<<s|r,Do=i+t}else No=1<<i|n<<s|r,Do=t}function $C(t){t.return!==null&&(Vl(t,1),H9(t,1,0))}function FC(t){for(;t===Tg;)Tg=Hu[--Gu],Hu[Gu]=null,Sg=Hu[--Gu],Hu[Gu]=null;for(;t===Ic;)Ic=$s[--Fs],$s[Fs]=null,Do=$s[--Fs],$s[Fs]=null,No=$s[--Fs],$s[Fs]=null}var xs=null,vs=null,rn=!1,wi=null;function G9(t,e){var n=Bs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,vs=el(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ic!==null?{id:No,overflow:Do}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xs=t,vs=null,!0):!1;default:return!1}}function e3(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t3(t){if(rn){var e=vs;if(e){var n=e;if(!GS(t,e)){if(e3(t))throw Error(X(418));e=el(n.nextSibling);var r=xs;e&&GS(t,e)?G9(r,n):(t.flags=t.flags&-4097|2,rn=!1,xs=t)}}else{if(e3(t))throw Error(X(418));t.flags=t.flags&-4097|2,rn=!1,xs=t}}}function qS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function $m(t){if(t!==xs)return!1;if(!rn)return qS(t),rn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qx(t.type,t.memoizedProps)),e&&(e=vs)){if(e3(t))throw q9(),Error(X(418));for(;e;)G9(t,e),e=el(e.nextSibling)}if(qS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vs=el(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vs=null}}else vs=xs?el(t.stateNode.nextSibling):null;return!0}function q9(){for(var t=vs;t;)t=el(t.nextSibling)}function Td(){vs=xs=null,rn=!1}function VC(t){wi===null?wi=[t]:wi.push(t)}var jz=ua.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kg=Tl(null),Rg=null,qu=null,UC=null;function zC(){UC=qu=Rg=null}function BC(t){var e=kg.current;Jt(kg),t._currentValue=e}function n3(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function od(t,e){Rg=t,UC=qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yr=!0),t.firstContext=null)}function Xs(t){var e=t._currentValue;if(UC!==t)if(t={context:t,memoizedValue:e,next:null},qu===null){if(Rg===null)throw Error(X(308));qu=t,Rg.dependencies={lanes:0,firstContext:t}}else qu=qu.next=t;return e}var Zl=null;function WC(t){Zl===null?Zl=[t]:Zl.push(t)}function Y9(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,WC(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Na=!1;function HC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qo(t,n)}return s=r.interleaved,s===null?(e.next=e,WC(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qo(t,n)}function S2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AC(t,n)}}function YS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ag(t,e,n,r){var s=t.updateQueue;Na=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=hn({},h,f);break e;case 2:Na=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Sc|=o,t.lanes=o,t.memoizedState=h}}function KS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Q9=new Y6.Component().refs;function r3(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var iv={isMounted:function(t){return(t=t._reactInternals)?Xc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Or(),s=rl(t),i=zo(r,s);i.payload=e,n!=null&&(i.callback=n),e=tl(t,i,s),e!==null&&(Ii(e,t,s,r),S2(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Or(),s=rl(t),i=zo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=tl(t,i,s),e!==null&&(Ii(e,t,s,r),S2(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Or(),r=rl(t),s=zo(n,r);s.tag=2,e!=null&&(s.callback=e),e=tl(t,s,r),e!==null&&(Ii(e,t,r,n),S2(e,t,r))}};function QS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!w0(n,r)||!w0(s,i):!0}function X9(t,e,n){var r=!1,s=fl,i=e.contextType;return typeof i=="object"&&i!==null?i=Xs(i):(s=ts(e)?bc:Ir.current,r=e.contextTypes,i=(r=r!=null)?Id(t,s):fl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function XS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&iv.enqueueReplaceState(e,e.state,null)}function s3(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Q9,HC(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xs(i):(i=ts(e)?bc:Ir.current,s.context=Id(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(r3(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&iv.enqueueReplaceState(s,s.state,null),Ag(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===Q9&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Fm(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JS(t){var e=t._init;return e(t._payload)}function J9(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=sl(y,w),y.index=0,y.sibling=null,y}function i(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,_,x){return w===null||w.tag!==6?(w=yw(_,y.mode,x),w.return=y,w):(w=s(w,_),w.return=y,w)}function l(y,w,_,x){var b=_.type;return b===Fu?u(y,w,_.props.children,x,_.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Pa&&JS(b)===w.type)?(x=s(w,_.props),x.ref=qh(y,w,_),x.return=y,x):(x=D2(_.type,_.key,_.props,null,y.mode,x),x.ref=qh(y,w,_),x.return=y,x)}function c(y,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=_w(_,y.mode,x),w.return=y,w):(w=s(w,_.children||[]),w.return=y,w)}function u(y,w,_,x,b){return w===null||w.tag!==7?(w=fc(_,y.mode,x,b),w.return=y,w):(w=s(w,_),w.return=y,w)}function h(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yw(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case km:return _=D2(w.type,w.key,w.props,null,y.mode,_),_.ref=qh(y,null,w),_.return=y,_;case $u:return w=_w(w,y.mode,_),w.return=y,w;case Pa:var x=w._init;return h(y,x(w._payload),_)}if(Cf(w)||zh(w))return w=fc(w,y.mode,_,null),w.return=y,w;Fm(y,w)}return null}function f(y,w,_,x){var b=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(y,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case km:return _.key===b?l(y,w,_,x):null;case $u:return _.key===b?c(y,w,_,x):null;case Pa:return b=_._init,f(y,w,b(_._payload),x)}if(Cf(_)||zh(_))return b!==null?null:u(y,w,_,x,null);Fm(y,_)}return null}function p(y,w,_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(_)||null,a(w,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case km:return y=y.get(x.key===null?_:x.key)||null,l(w,y,x,b);case $u:return y=y.get(x.key===null?_:x.key)||null,c(w,y,x,b);case Pa:var C=x._init;return p(y,w,_,C(x._payload),b)}if(Cf(x)||zh(x))return y=y.get(_)||null,u(w,y,x,b,null);Fm(w,x)}return null}function m(y,w,_,x){for(var b=null,C=null,T=w,I=w=0,S=null;T!==null&&I<_.length;I++){T.index>I?(S=T,T=null):S=T.sibling;var k=f(y,T,_[I],x);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(y,T),w=i(k,w,I),C===null?b=k:C.sibling=k,C=k,T=S}if(I===_.length)return n(y,T),rn&&Vl(y,I),b;if(T===null){for(;I<_.length;I++)T=h(y,_[I],x),T!==null&&(w=i(T,w,I),C===null?b=T:C.sibling=T,C=T);return rn&&Vl(y,I),b}for(T=r(y,T);I<_.length;I++)S=p(T,y,I,_[I],x),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?I:S.key),w=i(S,w,I),C===null?b=S:C.sibling=S,C=S);return t&&T.forEach(function(A){return e(y,A)}),rn&&Vl(y,I),b}function g(y,w,_,x){var b=zh(_);if(typeof b!="function")throw Error(X(150));if(_=b.call(_),_==null)throw Error(X(151));for(var C=b=null,T=w,I=w=0,S=null,k=_.next();T!==null&&!k.done;I++,k=_.next()){T.index>I?(S=T,T=null):S=T.sibling;var A=f(y,T,k.value,x);if(A===null){T===null&&(T=S);break}t&&T&&A.alternate===null&&e(y,T),w=i(A,w,I),C===null?b=A:C.sibling=A,C=A,T=S}if(k.done)return n(y,T),rn&&Vl(y,I),b;if(T===null){for(;!k.done;I++,k=_.next())k=h(y,k.value,x),k!==null&&(w=i(k,w,I),C===null?b=k:C.sibling=k,C=k);return rn&&Vl(y,I),b}for(T=r(y,T);!k.done;I++,k=_.next())k=p(T,y,I,k.value,x),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?I:k.key),w=i(k,w,I),C===null?b=k:C.sibling=k,C=k);return t&&T.forEach(function(N){return e(y,N)}),rn&&Vl(y,I),b}function E(y,w,_,x){if(typeof _=="object"&&_!==null&&_.type===Fu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case km:e:{for(var b=_.key,C=w;C!==null;){if(C.key===b){if(b=_.type,b===Fu){if(C.tag===7){n(y,C.sibling),w=s(C,_.props.children),w.return=y,y=w;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Pa&&JS(b)===C.type){n(y,C.sibling),w=s(C,_.props),w.ref=qh(y,C,_),w.return=y,y=w;break e}n(y,C);break}else e(y,C);C=C.sibling}_.type===Fu?(w=fc(_.props.children,y.mode,x,_.key),w.return=y,y=w):(x=D2(_.type,_.key,_.props,null,y.mode,x),x.ref=qh(y,w,_),x.return=y,y=x)}return o(y);case $u:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=s(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=_w(_,y.mode,x),w.return=y,y=w}return o(y);case Pa:return C=_._init,E(y,w,C(_._payload),x)}if(Cf(_))return m(y,w,_,x);if(zh(_))return g(y,w,_,x);Fm(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,_),w.return=y,y=w):(n(y,w),w=yw(_,y.mode,x),w.return=y,y=w),o(y)):n(y,w)}return E}var Sd=J9(!0),Z9=J9(!1),kp={},to=Tl(kp),b0=Tl(kp),I0=Tl(kp);function ec(t){if(t===kp)throw Error(X(174));return t}function GC(t,e){switch(Gt(I0,e),Gt(b0,t),Gt(to,kp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ox(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ox(e,t)}Jt(to),Gt(to,e)}function kd(){Jt(to),Jt(b0),Jt(I0)}function eN(t){ec(I0.current);var e=ec(to.current),n=Ox(e,t.type);e!==n&&(Gt(b0,t),Gt(to,n))}function qC(t){b0.current===t&&(Jt(to),Jt(b0))}var ln=Tl(0);function Pg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hw=[];function YC(){for(var t=0;t<hw.length;t++)hw[t]._workInProgressVersionPrimary=null;hw.length=0}var k2=ua.ReactCurrentDispatcher,fw=ua.ReactCurrentBatchConfig,Tc=0,un=null,Vn=null,Gn=null,Ng=!1,Bf=!1,T0=0,$z=0;function fr(){throw Error(X(321))}function KC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ki(t[n],e[n]))return!1;return!0}function QC(t,e,n,r,s,i){if(Tc=i,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k2.current=t===null||t.memoizedState===null?zz:Bz,t=n(r,s),Bf){i=0;do{if(Bf=!1,T0=0,25<=i)throw Error(X(301));i+=1,Gn=Vn=null,e.updateQueue=null,k2.current=Wz,t=n(r,s)}while(Bf)}if(k2.current=Dg,e=Vn!==null&&Vn.next!==null,Tc=0,Gn=Vn=un=null,Ng=!1,e)throw Error(X(300));return t}function XC(){var t=T0!==0;return T0=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?un.memoizedState=Gn=t:Gn=Gn.next=t,Gn}function Js(){if(Vn===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=Gn===null?un.memoizedState:Gn.next;if(e!==null)Gn=e,Vn=t;else{if(t===null)throw Error(X(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Gn===null?un.memoizedState=Gn=t:Gn=Gn.next=t}return Gn}function S0(t,e){return typeof e=="function"?e(t):e}function pw(t){var e=Js(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Vn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Tc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,un.lanes|=u,Sc|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ki(r,e.memoizedState)||(Yr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,un.lanes|=i,Sc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mw(t){var e=Js(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ki(i,e.memoizedState)||(Yr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tN(){}function nN(t,e){var n=un,r=Js(),s=e(),i=!ki(r.memoizedState,s);if(i&&(r.memoizedState=s,Yr=!0),r=r.queue,JC(iN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,k0(9,sN.bind(null,n,r,s,e),void 0,null),Xn===null)throw Error(X(349));Tc&30||rN(n,e,s)}return s}function rN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sN(t,e,n,r){e.value=n,e.getSnapshot=r,oN(e)&&aN(t)}function iN(t,e,n){return n(function(){oN(e)&&aN(t)})}function oN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ki(t,n)}catch{return!0}}function aN(t){var e=Qo(t,1);e!==null&&Ii(e,t,1,-1)}function ZS(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:t},e.queue=t,t=t.dispatch=Uz.bind(null,un,t),[e.memoizedState,t]}function k0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lN(){return Js().memoizedState}function R2(t,e,n,r){var s=$i();un.flags|=t,s.memoizedState=k0(1|e,n,void 0,r===void 0?null:r)}function ov(t,e,n,r){var s=Js();r=r===void 0?null:r;var i=void 0;if(Vn!==null){var o=Vn.memoizedState;if(i=o.destroy,r!==null&&KC(r,o.deps)){s.memoizedState=k0(e,n,i,r);return}}un.flags|=t,s.memoizedState=k0(1|e,n,i,r)}function e4(t,e){return R2(8390656,8,t,e)}function JC(t,e){return ov(2048,8,t,e)}function cN(t,e){return ov(4,2,t,e)}function uN(t,e){return ov(4,4,t,e)}function dN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hN(t,e,n){return n=n!=null?n.concat([t]):null,ov(4,4,dN.bind(null,e,t),n)}function ZC(){}function fN(t,e){var n=Js();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pN(t,e){var n=Js();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mN(t,e,n){return Tc&21?(ki(n,e)||(n=y9(),un.lanes|=n,Sc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yr=!0),t.memoizedState=n)}function Fz(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=fw.transition;fw.transition={};try{t(!1),e()}finally{jt=n,fw.transition=r}}function gN(){return Js().memoizedState}function Vz(t,e,n){var r=rl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vN(t))yN(e,n);else if(n=Y9(t,e,n,r),n!==null){var s=Or();Ii(n,t,r,s),_N(n,e,r)}}function Uz(t,e,n){var r=rl(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vN(t))yN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ki(a,o)){var l=e.interleaved;l===null?(s.next=s,WC(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Y9(t,e,s,r),n!==null&&(s=Or(),Ii(n,t,r,s),_N(n,e,r))}}function vN(t){var e=t.alternate;return t===un||e!==null&&e===un}function yN(t,e){Bf=Ng=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _N(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AC(t,n)}}var Dg={readContext:Xs,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},zz={readContext:Xs,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:Xs,useEffect:e4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,R2(4194308,4,dN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return R2(4194308,4,t,e)},useInsertionEffect:function(t,e){return R2(4,2,t,e)},useMemo:function(t,e){var n=$i();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$i();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Vz.bind(null,un,t),[r.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:ZS,useDebugValue:ZC,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=ZS(!1),e=t[0];return t=Fz.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=un,s=$i();if(rn){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Xn===null)throw Error(X(349));Tc&30||rN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,e4(iN.bind(null,r,i,t),[t]),r.flags|=2048,k0(9,sN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$i(),e=Xn.identifierPrefix;if(rn){var n=Do,r=No;n=(r&~(1<<32-bi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=T0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$z++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bz={readContext:Xs,useCallback:fN,useContext:Xs,useEffect:JC,useImperativeHandle:hN,useInsertionEffect:cN,useLayoutEffect:uN,useMemo:pN,useReducer:pw,useRef:lN,useState:function(){return pw(S0)},useDebugValue:ZC,useDeferredValue:function(t){var e=Js();return mN(e,Vn.memoizedState,t)},useTransition:function(){var t=pw(S0)[0],e=Js().memoizedState;return[t,e]},useMutableSource:tN,useSyncExternalStore:nN,useId:gN,unstable_isNewReconciler:!1},Wz={readContext:Xs,useCallback:fN,useContext:Xs,useEffect:JC,useImperativeHandle:hN,useInsertionEffect:cN,useLayoutEffect:uN,useMemo:pN,useReducer:mw,useRef:lN,useState:function(){return mw(S0)},useDebugValue:ZC,useDeferredValue:function(t){var e=Js();return Vn===null?e.memoizedState=t:mN(e,Vn.memoizedState,t)},useTransition:function(){var t=mw(S0)[0],e=Js().memoizedState;return[t,e]},useMutableSource:tN,useSyncExternalStore:nN,useId:gN,unstable_isNewReconciler:!1};function Rd(t,e){try{var n="",r=e;do n+=yU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function i3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hz=typeof WeakMap=="function"?WeakMap:Map;function wN(t,e,n){n=zo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mg||(Mg=!0,m3=r),i3(t,e)},n}function xN(t,e,n){n=zo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){i3(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){i3(t,e),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function t4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hz;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=iB.bind(null,t,e,n),e.then(t,t))}function n4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function r4(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zo(-1,1),e.tag=2,tl(n,e,1))),n.lanes|=1),t)}var Gz=ua.ReactCurrentOwner,Yr=!1;function Rr(t,e,n,r){e.child=t===null?Z9(e,null,n,r):Sd(e,t.child,n,r)}function s4(t,e,n,r,s){n=n.render;var i=e.ref;return od(e,s),r=QC(t,e,n,r,i,s),n=XC(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xo(t,e,s)):(rn&&n&&$C(e),e.flags|=1,Rr(t,e,r,s),e.child)}function i4(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ab(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,EN(t,e,i,r,s)):(t=D2(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:w0,n(o,r)&&t.ref===e.ref)return Xo(t,e,s)}return e.flags|=1,t=sl(i,r),t.ref=e.ref,t.return=e,e.child=t}function EN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(w0(i,r)&&t.ref===e.ref)if(Yr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Yr=!0);else return e.lanes=t.lanes,Xo(t,e,s)}return o3(t,e,n,r,s)}function CN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Ku,ms),ms|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gt(Ku,ms),ms|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Gt(Ku,ms),ms|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Gt(Ku,ms),ms|=r;return Rr(t,e,s,n),e.child}function bN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o3(t,e,n,r,s){var i=ts(n)?bc:Ir.current;return i=Id(e,i),od(e,s),n=QC(t,e,n,r,i,s),r=XC(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xo(t,e,s)):(rn&&r&&$C(e),e.flags|=1,Rr(t,e,n,s),e.child)}function o4(t,e,n,r,s){if(ts(n)){var i=!0;Ig(e)}else i=!1;if(od(e,s),e.stateNode===null)A2(t,e),X9(e,n,r),s3(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xs(c):(c=ts(n)?bc:Ir.current,c=Id(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&XS(e,o,r,c),Na=!1;var f=e.memoizedState;o.state=f,Ag(e,r,o,s),l=e.memoizedState,a!==r||f!==l||es.current||Na?(typeof u=="function"&&(r3(e,n,u,r),l=e.memoizedState),(a=Na||QS(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K9(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yi(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xs(l):(l=ts(n)?bc:Ir.current,l=Id(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&XS(e,o,r,l),Na=!1,f=e.memoizedState,o.state=f,Ag(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||es.current||Na?(typeof p=="function"&&(r3(e,n,p,r),m=e.memoizedState),(c=Na||QS(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a3(t,e,n,r,i,s)}function a3(t,e,n,r,s,i){bN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&HS(e,n,!1),Xo(t,e,i);r=e.stateNode,Gz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Sd(e,t.child,null,i),e.child=Sd(e,null,a,i)):Rr(t,e,a,i),e.memoizedState=r.state,s&&HS(e,n,!0),e.child}function IN(t){var e=t.stateNode;e.pendingContext?WS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WS(t,e.context,!1),GC(t,e.containerInfo)}function a4(t,e,n,r,s){return Td(),VC(s),e.flags|=256,Rr(t,e,n,r),e.child}var l3={dehydrated:null,treeContext:null,retryLane:0};function c3(t){return{baseLanes:t,cachePool:null,transitions:null}}function TN(t,e,n){var r=e.pendingProps,s=ln.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Gt(ln,s&1),t===null)return t3(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cv(o,r,0,null),t=fc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=c3(n),e.memoizedState=l3,t):eb(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qz(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sl(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=sl(a,i):(i=fc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?c3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=l3,r}return i=t.child,t=i.sibling,r=sl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function eb(t,e){return e=cv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vm(t,e,n,r){return r!==null&&VC(r),Sd(e,t.child,null,n),t=eb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qz(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gw(Error(X(422))),Vm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cv({mode:"visible",children:r.children},s,0,null),i=fc(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Sd(e,t.child,null,o),e.child.memoizedState=c3(o),e.memoizedState=l3,i);if(!(e.mode&1))return Vm(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=gw(i,r,void 0),Vm(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yr||a){if(r=Xn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qo(t,s),Ii(r,t,s,-1))}return ob(),r=gw(Error(X(421))),Vm(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=oB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vs=el(s.nextSibling),xs=e,rn=!0,wi=null,t!==null&&($s[Fs++]=No,$s[Fs++]=Do,$s[Fs++]=Ic,No=t.id,Do=t.overflow,Ic=e),e=eb(e,r.children),e.flags|=4096,e)}function l4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n3(t.return,e,n)}function vw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function SN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rr(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l4(t,n,e);else if(t.tag===19)l4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Gt(ln,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vw(e,!0,n,null,i);break;case"together":vw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function A2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=sl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yz(t,e,n){switch(e.tag){case 3:IN(e),Td();break;case 5:eN(e);break;case 1:ts(e.type)&&Ig(e);break;case 4:GC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Gt(kg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Gt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?TN(t,e,n):(Gt(ln,ln.current&1),t=Xo(t,e,n),t!==null?t.sibling:null);Gt(ln,ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Gt(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,CN(t,e,n)}return Xo(t,e,n)}var kN,u3,RN,AN;kN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u3=function(){};RN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ec(to.current);var i=null;switch(n){case"input":s=Nx(t,s),r=Nx(t,r),i=[];break;case"select":s=hn({},s,{value:void 0}),r=hn({},r,{value:void 0}),i=[];break;case"textarea":s=Mx(t,s),r=Mx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cg)}jx(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(f0.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(f0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};AN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yh(t,e){if(!rn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kz(t,e,n){var r=e.pendingProps;switch(FC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return ts(e.type)&&bg(),pr(e),null;case 3:return r=e.stateNode,kd(),Jt(es),Jt(Ir),YC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($m(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wi!==null&&(y3(wi),wi=null))),u3(t,e),pr(e),null;case 5:qC(e);var s=ec(I0.current);if(n=e.type,t!==null&&e.stateNode!=null)RN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return pr(e),null}if(t=ec(to.current),$m(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bi]=e,r[C0]=i,t=(e.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(s=0;s<If.length;s++)Yt(If[s],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":vS(r,i),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",r);break;case"textarea":_S(r,i),Yt("invalid",r)}jx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jm(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jm(r.textContent,a,t),s=["children",""+a]):f0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yt("scroll",r)}switch(n){case"input":Rm(r),yS(r,i,!0);break;case"textarea":Rm(r),wS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cg)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=r9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bi]=e,t[C0]=r,kN(t,e,!1,!1),e.stateNode=t;e:{switch(o=$x(n,r),n){case"dialog":Yt("cancel",t),Yt("close",t),s=r;break;case"iframe":case"object":case"embed":Yt("load",t),s=r;break;case"video":case"audio":for(s=0;s<If.length;s++)Yt(If[s],t);s=r;break;case"source":Yt("error",t),s=r;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),s=r;break;case"details":Yt("toggle",t),s=r;break;case"input":vS(t,r),s=Nx(t,r),Yt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=hn({},r,{value:void 0}),Yt("invalid",t);break;case"textarea":_S(t,r),s=Mx(t,r),Yt("invalid",t);break;default:s=r}jx(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?o9(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s9(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&p0(t,l):typeof l=="number"&&p0(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(f0.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Yt("scroll",t):l!=null&&bC(t,i,l,o))}switch(n){case"input":Rm(t),yS(t,r,!1);break;case"textarea":Rm(t),wS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hl(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nd(t,!!r.multiple,i,!1):r.defaultValue!=null&&nd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(t&&e.stateNode!=null)AN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=ec(I0.current),ec(to.current),$m(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bi]=e,(i=r.nodeValue!==n)&&(t=xs,t!==null))switch(t.tag){case 3:jm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bi]=e,e.stateNode=r}return pr(e),null;case 13:if(Jt(ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rn&&vs!==null&&e.mode&1&&!(e.flags&128))q9(),Td(),e.flags|=98560,i=!1;else if(i=$m(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Bi]=e}else Td(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),i=!1}else wi!==null&&(y3(wi),wi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Un===0&&(Un=3):ob())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return kd(),u3(t,e),t===null&&x0(e.stateNode.containerInfo),pr(e),null;case 10:return BC(e.type._context),pr(e),null;case 17:return ts(e.type)&&bg(),pr(e),null;case 19:if(Jt(ln),i=e.memoizedState,i===null)return pr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yh(i,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pg(t),o!==null){for(e.flags|=128,Yh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Gt(ln,ln.current&1|2),e.child}t=t.sibling}i.tail!==null&&Tn()>Ad&&(e.flags|=128,r=!0,Yh(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rn)return pr(e),null}else 2*Tn()-i.renderingStartTime>Ad&&n!==1073741824&&(e.flags|=128,r=!0,Yh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tn(),e.sibling=null,n=ln.current,Gt(ln,r?n&1|2:n&1),e):(pr(e),null);case 22:case 23:return ib(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ms&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function Qz(t,e){switch(FC(e),e.tag){case 1:return ts(e.type)&&bg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kd(),Jt(es),Jt(Ir),YC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qC(e),null;case 13:if(Jt(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Td()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(ln),null;case 4:return kd(),null;case 10:return BC(e.type._context),null;case 22:case 23:return ib(),null;case 24:return null;default:return null}}var Um=!1,vr=!1,Xz=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Yu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function d3(t,e,n){try{n()}catch(r){yn(t,e,r)}}var c4=!1;function Jz(t,e){if(Yx=wg,t=L9(),jC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kx={focusedElem:t,selectionRange:n},wg=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:yi(e.type,g),E);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){yn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return m=c4,c4=!1,m}function Wf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&d3(e,n,i)}s=s.next}while(s!==r)}}function av(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function h3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PN(t){var e=t.alternate;e!==null&&(t.alternate=null,PN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[C0],delete e[Jx],delete e[Lz],delete e[Mz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NN(t){return t.tag===5||t.tag===3||t.tag===4}function u4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function f3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cg));else if(r!==4&&(t=t.child,t!==null))for(f3(t,e,n),t=t.sibling;t!==null;)f3(t,e,n),t=t.sibling}function p3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p3(t,e,n),t=t.sibling;t!==null;)p3(t,e,n),t=t.sibling}var nr=null,_i=!1;function Ca(t,e,n){for(n=n.child;n!==null;)DN(t,e,n),n=n.sibling}function DN(t,e,n){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(Z1,n)}catch{}switch(n.tag){case 5:vr||Yu(n,e);case 6:var r=nr,s=_i;nr=null,Ca(t,e,n),nr=r,_i=s,nr!==null&&(_i?(t=nr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nr.removeChild(n.stateNode));break;case 18:nr!==null&&(_i?(t=nr,n=n.stateNode,t.nodeType===8?uw(t.parentNode,n):t.nodeType===1&&uw(t,n),y0(t)):uw(nr,n.stateNode));break;case 4:r=nr,s=_i,nr=n.stateNode.containerInfo,_i=!0,Ca(t,e,n),nr=r,_i=s;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&d3(n,e,o),s=s.next}while(s!==r)}Ca(t,e,n);break;case 1:if(!vr&&(Yu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yn(n,e,a)}Ca(t,e,n);break;case 21:Ca(t,e,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,Ca(t,e,n),vr=r):Ca(t,e,n);break;default:Ca(t,e,n)}}function d4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xz),e.forEach(function(r){var s=aB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nr=a.stateNode,_i=!1;break e;case 3:nr=a.stateNode.containerInfo,_i=!0;break e;case 4:nr=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(nr===null)throw Error(X(160));DN(i,o,s),nr=null,_i=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){yn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LN(e,t),e=e.sibling}function LN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),ji(t),r&4){try{Wf(3,t,t.return),av(3,t)}catch(g){yn(t,t.return,g)}try{Wf(5,t,t.return)}catch(g){yn(t,t.return,g)}}break;case 1:mi(e,t),ji(t),r&512&&n!==null&&Yu(n,n.return);break;case 5:if(mi(e,t),ji(t),r&512&&n!==null&&Yu(n,n.return),t.flags&32){var s=t.stateNode;try{p0(s,"")}catch(g){yn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&t9(s,i),$x(a,o);var c=$x(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?o9(s,h):u==="dangerouslySetInnerHTML"?s9(s,h):u==="children"?p0(s,h):bC(s,u,h,c)}switch(a){case"input":Dx(s,i);break;case"textarea":n9(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?nd(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?nd(s,!!i.multiple,i.defaultValue,!0):nd(s,!!i.multiple,i.multiple?[]:"",!1))}s[C0]=i}catch(g){yn(t,t.return,g)}}break;case 6:if(mi(e,t),ji(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){yn(t,t.return,g)}}break;case 3:if(mi(e,t),ji(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{y0(e.containerInfo)}catch(g){yn(t,t.return,g)}break;case 4:mi(e,t),ji(t);break;case 13:mi(e,t),ji(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rb=Tn())),r&4&&d4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vr=(c=vr)||u,mi(e,t),vr=c):mi(e,t),ji(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ve=t,u=t.child;u!==null;){for(h=ve=u;ve!==null;){switch(f=ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:Wf(4,f,f.return);break;case 1:Yu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){yn(r,n,g)}}break;case 5:Yu(f,f.return);break;case 22:if(f.memoizedState!==null){f4(h);continue}}p!==null?(p.return=f,ve=p):f4(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=i9("display",o))}catch(g){yn(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){yn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mi(e,t),ji(t),r&4&&d4(t);break;case 21:break;default:mi(e,t),ji(t)}}function ji(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NN(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(p0(s,""),r.flags&=-33);var i=u4(t);p3(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=u4(t);f3(t,a,o);break;default:throw Error(X(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zz(t,e,n){ve=t,MN(t)}function MN(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var s=ve,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Um;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||vr;a=Um;var c=vr;if(Um=o,(vr=l)&&!c)for(ve=s;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?p4(s):l!==null?(l.return=o,ve=l):p4(s);for(;i!==null;)ve=i,MN(i),i=i.sibling;ve=s,Um=a,vr=c}h4(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ve=i):h4(t)}}function h4(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||av(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&KS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&y0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}vr||e.flags&512&&h3(e)}catch(f){yn(e,e.return,f)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function f4(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function p4(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{av(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){yn(e,s,l)}}var i=e.return;try{h3(e)}catch(l){yn(e,i,l)}break;case 5:var o=e.return;try{h3(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var eB=Math.ceil,Lg=ua.ReactCurrentDispatcher,tb=ua.ReactCurrentOwner,Gs=ua.ReactCurrentBatchConfig,Ct=0,Xn=null,On=null,or=0,ms=0,Ku=Tl(0),Un=0,R0=null,Sc=0,lv=0,nb=0,Hf=null,Hr=null,rb=0,Ad=1/0,Io=null,Mg=!1,m3=null,nl=null,zm=!1,Ba=null,Og=0,Gf=0,g3=null,P2=-1,N2=0;function Or(){return Ct&6?Tn():P2!==-1?P2:P2=Tn()}function rl(t){return t.mode&1?Ct&2&&or!==0?or&-or:jz.transition!==null?(N2===0&&(N2=y9()),N2):(t=jt,t!==0||(t=window.event,t=t===void 0?16:I9(t.type)),t):1}function Ii(t,e,n,r){if(50<Gf)throw Gf=0,g3=null,Error(X(185));Ip(t,n,r),(!(Ct&2)||t!==Xn)&&(t===Xn&&(!(Ct&2)&&(lv|=n),Un===4&&La(t,or)),ns(t,r),n===1&&Ct===0&&!(e.mode&1)&&(Ad=Tn()+500,sv&&Sl()))}function ns(t,e){var n=t.callbackNode;jU(t,e);var r=_g(t,t===Xn?or:0);if(r===0)n!==null&&CS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&CS(n),e===1)t.tag===0?Oz(m4.bind(null,t)):W9(m4.bind(null,t)),Nz(function(){!(Ct&6)&&Sl()}),n=null;else{switch(_9(r)){case 1:n=RC;break;case 4:n=g9;break;case 16:n=yg;break;case 536870912:n=v9;break;default:n=yg}n=BN(n,ON.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ON(t,e){if(P2=-1,N2=0,Ct&6)throw Error(X(327));var n=t.callbackNode;if(ad()&&t.callbackNode!==n)return null;var r=_g(t,t===Xn?or:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jg(t,r);else{e=r;var s=Ct;Ct|=2;var i=$N();(Xn!==t||or!==e)&&(Io=null,Ad=Tn()+500,hc(t,e));do try{rB();break}catch(a){jN(t,a)}while(!0);zC(),Lg.current=i,Ct=s,On!==null?e=0:(Xn=null,or=0,e=Un)}if(e!==0){if(e===2&&(s=Bx(t),s!==0&&(r=s,e=v3(t,s))),e===1)throw n=R0,hc(t,0),La(t,r),ns(t,Tn()),n;if(e===6)La(t,r);else{if(s=t.current.alternate,!(r&30)&&!tB(s)&&(e=jg(t,r),e===2&&(i=Bx(t),i!==0&&(r=i,e=v3(t,i))),e===1))throw n=R0,hc(t,0),La(t,r),ns(t,Tn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Ul(t,Hr,Io);break;case 3:if(La(t,r),(r&130023424)===r&&(e=rb+500-Tn(),10<e)){if(_g(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Or(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xx(Ul.bind(null,t,Hr,Io),e);break}Ul(t,Hr,Io);break;case 4:if(La(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eB(r/1960))-r,10<r){t.timeoutHandle=Xx(Ul.bind(null,t,Hr,Io),r);break}Ul(t,Hr,Io);break;case 5:Ul(t,Hr,Io);break;default:throw Error(X(329))}}}return ns(t,Tn()),t.callbackNode===n?ON.bind(null,t):null}function v3(t,e){var n=Hf;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),t=jg(t,e),t!==2&&(e=Hr,Hr=n,e!==null&&y3(e)),t}function y3(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function tB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ki(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function La(t,e){for(e&=~nb,e&=~lv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bi(e),r=1<<n;t[n]=-1,e&=~r}}function m4(t){if(Ct&6)throw Error(X(327));ad();var e=_g(t,0);if(!(e&1))return ns(t,Tn()),null;var n=jg(t,e);if(t.tag!==0&&n===2){var r=Bx(t);r!==0&&(e=r,n=v3(t,r))}if(n===1)throw n=R0,hc(t,0),La(t,e),ns(t,Tn()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ul(t,Hr,Io),ns(t,Tn()),null}function sb(t,e){var n=Ct;Ct|=1;try{return t(e)}finally{Ct=n,Ct===0&&(Ad=Tn()+500,sv&&Sl())}}function kc(t){Ba!==null&&Ba.tag===0&&!(Ct&6)&&ad();var e=Ct;Ct|=1;var n=Gs.transition,r=jt;try{if(Gs.transition=null,jt=1,t)return t()}finally{jt=r,Gs.transition=n,Ct=e,!(Ct&6)&&Sl()}}function ib(){ms=Ku.current,Jt(Ku)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pz(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(FC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bg();break;case 3:kd(),Jt(es),Jt(Ir),YC();break;case 5:qC(r);break;case 4:kd();break;case 13:Jt(ln);break;case 19:Jt(ln);break;case 10:BC(r.type._context);break;case 22:case 23:ib()}n=n.return}if(Xn=t,On=t=sl(t.current,null),or=ms=e,Un=0,R0=null,nb=lv=Sc=0,Hr=Hf=null,Zl!==null){for(e=0;e<Zl.length;e++)if(n=Zl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zl=null}return t}function jN(t,e){do{var n=On;try{if(zC(),k2.current=Dg,Ng){for(var r=un.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ng=!1}if(Tc=0,Gn=Vn=un=null,Bf=!1,T0=0,tb.current=null,n===null||n.return===null){Un=1,R0=e,On=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=n4(o);if(p!==null){p.flags&=-257,r4(p,o,a,i,e),p.mode&1&&t4(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){t4(i,c,e),ob();break e}l=Error(X(426))}}else if(rn&&a.mode&1){var E=n4(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),r4(E,o,a,i,e),VC(Rd(l,a));break e}}i=l=Rd(l,a),Un!==4&&(Un=2),Hf===null?Hf=[i]:Hf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=wN(i,l,e);YS(i,y);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nl===null||!nl.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=xN(i,a,e);YS(i,x);break e}}i=i.return}while(i!==null)}VN(n)}catch(b){e=b,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function $N(){var t=Lg.current;return Lg.current=Dg,t===null?Dg:t}function ob(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||!(Sc&268435455)&&!(lv&268435455)||La(Xn,or)}function jg(t,e){var n=Ct;Ct|=2;var r=$N();(Xn!==t||or!==e)&&(Io=null,hc(t,e));do try{nB();break}catch(s){jN(t,s)}while(!0);if(zC(),Ct=n,Lg.current=r,On!==null)throw Error(X(261));return Xn=null,or=0,Un}function nB(){for(;On!==null;)FN(On)}function rB(){for(;On!==null&&!kU();)FN(On)}function FN(t){var e=zN(t.alternate,t,ms);t.memoizedProps=t.pendingProps,e===null?VN(t):On=e,tb.current=null}function VN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qz(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,On=null;return}}else if(n=Kz(n,e,ms),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Un===0&&(Un=5)}function Ul(t,e,n){var r=jt,s=Gs.transition;try{Gs.transition=null,jt=1,sB(t,e,n,r)}finally{Gs.transition=s,jt=r}return null}function sB(t,e,n,r){do ad();while(Ba!==null);if(Ct&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($U(t,i),t===Xn&&(On=Xn=null,or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zm||(zm=!0,BN(yg,function(){return ad(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gs.transition,Gs.transition=null;var o=jt;jt=1;var a=Ct;Ct|=4,tb.current=null,Jz(t,n),LN(n,t),bz(Kx),wg=!!Yx,Kx=Yx=null,t.current=n,Zz(n),RU(),Ct=a,jt=o,Gs.transition=i}else t.current=n;if(zm&&(zm=!1,Ba=t,Og=s),i=t.pendingLanes,i===0&&(nl=null),NU(n.stateNode),ns(t,Tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mg)throw Mg=!1,t=m3,m3=null,t;return Og&1&&t.tag!==0&&ad(),i=t.pendingLanes,i&1?t===g3?Gf++:(Gf=0,g3=t):Gf=0,Sl(),null}function ad(){if(Ba!==null){var t=_9(Og),e=Gs.transition,n=jt;try{if(Gs.transition=null,jt=16>t?16:t,Ba===null)var r=!1;else{if(t=Ba,Ba=null,Og=0,Ct&6)throw Error(X(331));var s=Ct;for(Ct|=4,ve=t.current;ve!==null;){var i=ve,o=i.child;if(ve.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var u=ve;switch(u.tag){case 0:case 11:case 15:Wf(8,u,i)}var h=u.child;if(h!==null)h.return=u,ve=h;else for(;ve!==null;){u=ve;var f=u.sibling,p=u.return;if(PN(u),u===c){ve=null;break}if(f!==null){f.return=p,ve=f;break}ve=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ve=o;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ve=y;break e}ve=i.return}}var w=t.current;for(ve=w;ve!==null;){o=ve;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ve=_;else e:for(o=w;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:av(9,a)}}catch(b){yn(a,a.return,b)}if(a===o){ve=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ve=x;break e}ve=a.return}}if(Ct=s,Sl(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(Z1,t)}catch{}r=!0}return r}finally{jt=n,Gs.transition=e}}return!1}function g4(t,e,n){e=Rd(n,e),e=wN(t,e,1),t=tl(t,e,1),e=Or(),t!==null&&(Ip(t,1,e),ns(t,e))}function yn(t,e,n){if(t.tag===3)g4(t,t,n);else for(;e!==null;){if(e.tag===3){g4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){t=Rd(n,t),t=xN(e,t,1),e=tl(e,t,1),t=Or(),e!==null&&(Ip(e,1,t),ns(e,t));break}}e=e.return}}function iB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Or(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(or&n)===n&&(Un===4||Un===3&&(or&130023424)===or&&500>Tn()-rb?hc(t,0):nb|=n),ns(t,e)}function UN(t,e){e===0&&(t.mode&1?(e=Nm,Nm<<=1,!(Nm&130023424)&&(Nm=4194304)):e=1);var n=Or();t=Qo(t,e),t!==null&&(Ip(t,e,n),ns(t,n))}function oB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UN(t,n)}function aB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),UN(t,n)}var zN;zN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||es.current)Yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yr=!1,Yz(t,e,n);Yr=!!(t.flags&131072)}else Yr=!1,rn&&e.flags&1048576&&H9(e,Sg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;A2(t,e),t=e.pendingProps;var s=Id(e,Ir.current);od(e,n),s=QC(null,e,r,t,s,n);var i=XC();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ts(r)?(i=!0,Ig(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,HC(e),s.updater=iv,e.stateNode=s,s._reactInternals=e,s3(e,r,t,n),e=a3(null,e,r,!0,i,n)):(e.tag=0,rn&&i&&$C(e),Rr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(A2(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=cB(r),t=yi(r,t),s){case 0:e=o3(null,e,r,t,n);break e;case 1:e=o4(null,e,r,t,n);break e;case 11:e=s4(null,e,r,t,n);break e;case 14:e=i4(null,e,r,yi(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yi(r,s),o3(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yi(r,s),o4(t,e,r,s,n);case 3:e:{if(IN(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,K9(t,e),Ag(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Rd(Error(X(423)),e),e=a4(t,e,r,n,s);break e}else if(r!==s){s=Rd(Error(X(424)),e),e=a4(t,e,r,n,s);break e}else for(vs=el(e.stateNode.containerInfo.firstChild),xs=e,rn=!0,wi=null,n=Z9(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Td(),r===s){e=Xo(t,e,n);break e}Rr(t,e,r,n)}e=e.child}return e;case 5:return eN(e),t===null&&t3(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qx(r,s)?o=null:i!==null&&Qx(r,i)&&(e.flags|=32),bN(t,e),Rr(t,e,o,n),e.child;case 6:return t===null&&t3(e),null;case 13:return TN(t,e,n);case 4:return GC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sd(e,null,r,n):Rr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yi(r,s),s4(t,e,r,s,n);case 7:return Rr(t,e,e.pendingProps,n),e.child;case 8:return Rr(t,e,e.pendingProps.children,n),e.child;case 12:return Rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Gt(kg,r._currentValue),r._currentValue=o,i!==null)if(ki(i.value,o)){if(i.children===s.children&&!es.current){e=Xo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zo(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),n3(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),n3(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,od(e,n),s=Xs(s),r=r(s),e.flags|=1,Rr(t,e,r,n),e.child;case 14:return r=e.type,s=yi(r,e.pendingProps),s=yi(r.type,s),i4(t,e,r,s,n);case 15:return EN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yi(r,s),A2(t,e),e.tag=1,ts(r)?(t=!0,Ig(e)):t=!1,od(e,n),X9(e,r,s),s3(e,r,s,n),a3(null,e,r,!0,t,n);case 19:return SN(t,e,n);case 22:return CN(t,e,n)}throw Error(X(156,e.tag))};function BN(t,e){return m9(t,e)}function lB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(t,e,n,r){return new lB(t,e,n,r)}function ab(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cB(t){if(typeof t=="function")return ab(t)?1:0;if(t!=null){if(t=t.$$typeof,t===TC)return 11;if(t===SC)return 14}return 2}function sl(t,e){var n=t.alternate;return n===null?(n=Bs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function D2(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ab(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fu:return fc(n.children,s,i,e);case IC:o=8,s|=8;break;case kx:return t=Bs(12,n,e,s|2),t.elementType=kx,t.lanes=i,t;case Rx:return t=Bs(13,n,e,s),t.elementType=Rx,t.lanes=i,t;case Ax:return t=Bs(19,n,e,s),t.elementType=Ax,t.lanes=i,t;case J6:return cv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q6:o=10;break e;case X6:o=9;break e;case TC:o=11;break e;case SC:o=14;break e;case Pa:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Bs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fc(t,e,n,r){return t=Bs(7,t,r,e),t.lanes=n,t}function cv(t,e,n,r){return t=Bs(22,t,r,e),t.elementType=J6,t.lanes=n,t.stateNode={isHidden:!1},t}function yw(t,e,n){return t=Bs(6,t,null,e),t.lanes=n,t}function _w(t,e,n){return e=Bs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z_(0),this.expirationTimes=Z_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z_(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lb(t,e,n,r,s,i,o,a,l){return t=new uB(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Bs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HC(i),t}function dB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$u,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WN(t){if(!t)return fl;t=t._reactInternals;e:{if(Xc(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(ts(n))return B9(t,n,e)}return e}function HN(t,e,n,r,s,i,o,a,l){return t=lb(n,r,!0,t,s,i,o,a,l),t.context=WN(null),n=t.current,r=Or(),s=rl(n),i=zo(r,s),i.callback=e??null,tl(n,i,s),t.current.lanes=s,Ip(t,s,r),ns(t,r),t}function uv(t,e,n,r){var s=e.current,i=Or(),o=rl(s);return n=WN(n),e.context===null?e.context=n:e.pendingContext=n,e=zo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tl(s,e,o),t!==null&&(Ii(t,s,o,i),S2(t,s,o)),o}function $g(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cb(t,e){v4(t,e),(t=t.alternate)&&v4(t,e)}function hB(){return null}var GN=typeof reportError=="function"?reportError:function(t){console.error(t)};function ub(t){this._internalRoot=t}dv.prototype.render=ub.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));uv(t,e,null,null)};dv.prototype.unmount=ub.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kc(function(){uv(null,t,null,null)}),e[Ko]=null}};function dv(t){this._internalRoot=t}dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=E9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Da.length&&e!==0&&e<Da[n].priority;n++);Da.splice(n,0,t),n===0&&b9(t)}};function db(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y4(){}function fB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$g(o);i.call(c)}}var o=HN(e,r,t,0,null,!1,!1,"",y4);return t._reactRootContainer=o,t[Ko]=o.current,x0(t.nodeType===8?t.parentNode:t),kc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$g(l);a.call(c)}}var l=lb(t,0,!1,null,null,!1,!1,"",y4);return t._reactRootContainer=l,t[Ko]=l.current,x0(t.nodeType===8?t.parentNode:t),kc(function(){uv(e,l,n,r)}),l}function fv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$g(o);a.call(l)}}uv(e,o,t,s)}else o=fB(n,e,t,s,r);return $g(o)}w9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bf(e.pendingLanes);n!==0&&(AC(e,n|1),ns(e,Tn()),!(Ct&6)&&(Ad=Tn()+500,Sl()))}break;case 13:kc(function(){var r=Qo(t,1);if(r!==null){var s=Or();Ii(r,t,1,s)}}),cb(t,1)}};PC=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=Or();Ii(e,t,134217728,n)}cb(t,134217728)}};x9=function(t){if(t.tag===13){var e=rl(t),n=Qo(t,e);if(n!==null){var r=Or();Ii(n,t,e,r)}cb(t,e)}};E9=function(){return jt};C9=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};Vx=function(t,e,n){switch(e){case"input":if(Dx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rv(r);if(!s)throw Error(X(90));e9(r),Dx(r,s)}}}break;case"textarea":n9(t,n);break;case"select":e=n.value,e!=null&&nd(t,!!n.multiple,e,!1)}};c9=sb;u9=kc;var pB={usingClientEntryPoint:!1,Events:[Sp,Bu,rv,a9,l9,sb]},Kh={findFiberByHostInstance:Jl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mB={bundleType:Kh.bundleType,version:Kh.version,rendererPackageName:Kh.rendererPackageName,rendererConfig:Kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f9(t),t===null?null:t.stateNode},findFiberByHostInstance:Kh.findFiberByHostInstance||hB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{Z1=Bm.inject(mB),eo=Bm}catch{}}As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pB;As.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!db(e))throw Error(X(200));return dB(t,e,null,n)};As.createRoot=function(t,e){if(!db(t))throw Error(X(299));var n=!1,r="",s=GN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lb(t,1,!1,null,null,n,!1,r,s),t[Ko]=e.current,x0(t.nodeType===8?t.parentNode:t),new ub(e)};As.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=f9(e),t=t===null?null:t.stateNode,t};As.flushSync=function(t){return kc(t)};As.hydrate=function(t,e,n){if(!hv(e))throw Error(X(200));return fv(null,t,e,!0,n)};As.hydrateRoot=function(t,e,n){if(!db(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HN(e,null,t,1,n??null,s,!1,i,o),t[Ko]=e.current,x0(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dv(e)};As.render=function(t,e,n){if(!hv(e))throw Error(X(200));return fv(null,t,e,!1,n)};As.unmountComponentAtNode=function(t){if(!hv(t))throw Error(X(40));return t._reactRootContainer?(kc(function(){fv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ko]=null})}),!0):!1};As.unstable_batchedUpdates=sb;As.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hv(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return fv(t,e,n,!1,r)};As.version="18.2.0-next-9e3b772b8-20220608";function qN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qN)}catch(t){console.error(t)}}qN(),H6.exports=As;var A0=H6.exports;const Wm=L6(A0);var _4=A0;Tx.createRoot=_4.createRoot,Tx.hydrateRoot=_4.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}var Wa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wa||(Wa={}));const w4="popstate";function gB(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Jc(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_3("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Fg(i))}function r(s,i){pv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return yB(e,n,r,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vB(){return Math.random().toString(36).substr(2,8)}function x4(t,e){return{usr:t.state,key:t.key,idx:e}}function _3(t,e,n,r){return n===void 0&&(n=null),P0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jc(e):e,{state:n,key:e&&e.key||r||vB()})}function Fg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Wa.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(P0({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Wa.Pop;let E=u(),y=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:y})}function f(E,y){a=Wa.Push;let w=_3(g.location,E,y);n&&n(w,E),c=u()+1;let _=x4(w,c),x=g.createHref(w);try{o.pushState(_,"",x)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(x)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,y){a=Wa.Replace;let w=_3(g.location,E,y);n&&n(w,E),c=u();let _=x4(w,c),x=g.createHref(w);o.replaceState(_,"",x),i&&l&&l({action:a,location:g.location,delta:0})}function m(E){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:Fg(E);return jn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(w4,h),l=E,()=>{s.removeEventListener(w4,h),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let y=m(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var E4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(E4||(E4={}));function _B(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Jc(e):e,s=hb(r.pathname||"/",n);if(s==null)return null;let i=YN(t);wB(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=RB(i[a],NB(s));return o}function YN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=il([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(jn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YN(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:SB(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of KN(i.path))s(i,o,l)}),e}function KN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=KN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xB=/^:[\w-]+$/,EB=3,CB=2,bB=1,IB=10,TB=-2,C4=t=>t==="*";function SB(t,e){let n=t.split("/"),r=n.length;return n.some(C4)&&(r+=TB),e&&(r+=CB),n.filter(s=>!C4(s)).reduce((s,i)=>s+(xB.test(i)?EB:i===""?bB:IB),r)}function kB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function RB(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=AB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:il([s,u.pathname]),pathnameBase:jB(il([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=il([s,u.pathnameBase]))}return i}function AB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=DB(m||"",f),c},{}),pathname:i,pathnameBase:o,pattern:t}}function PB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function NB(t){try{return decodeURI(t)}catch(e){return pv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DB(t,e){try{return decodeURIComponent(t)}catch(n){return pv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function hb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jc(t):t;return{pathname:n?n.startsWith("/")?n:MB(n,e):e,search:$B(r),hash:FB(s)}}function MB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ww(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QN(t,e){let n=OB(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function XN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jc(t):(s=P0({},t),jn(!s.pathname||!s.pathname.includes("?"),ww("?","pathname","search",s)),jn(!s.pathname||!s.pathname.includes("#"),ww("#","pathname","hash",s)),jn(!s.search||!s.search.includes("#"),ww("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=LB(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),jB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$B=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JN=["post","put","patch","delete"];new Set(JN);const UB=["get",...JN];new Set(UB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}const fb=v.createContext(null),zB=v.createContext(null),Zc=v.createContext(null),mv=v.createContext(null),kl=v.createContext({outlet:null,matches:[],isDataRoute:!1}),ZN=v.createContext(null);function BB(t,e){let{relative:n}=e===void 0?{}:e;Rp()||jn(!1);let{basename:r,navigator:s}=v.useContext(Zc),{hash:i,pathname:o,search:a}=t8(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:il([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Rp(){return v.useContext(mv)!=null}function hh(){return Rp()||jn(!1),v.useContext(mv).location}function e8(t){v.useContext(Zc).static||v.useLayoutEffect(t)}function on(){let{isDataRoute:t}=v.useContext(kl);return t?nW():WB()}function WB(){Rp()||jn(!1);let t=v.useContext(fb),{basename:e,future:n,navigator:r}=v.useContext(Zc),{matches:s}=v.useContext(kl),{pathname:i}=hh(),o=JSON.stringify(QN(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return e8(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=XN(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:il([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function eu(){let{matches:t}=v.useContext(kl),e=t[t.length-1];return e?e.params:{}}function t8(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Zc),{matches:s}=v.useContext(kl),{pathname:i}=hh(),o=JSON.stringify(QN(s,r.v7_relativeSplatPath));return v.useMemo(()=>XN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function HB(t,e){return GB(t,e)}function GB(t,e,n,r){Rp()||jn(!1);let{navigator:s}=v.useContext(Zc),{matches:i}=v.useContext(kl),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=hh(),u;if(e){var h;let E=typeof e=="string"?Jc(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||jn(!1),u=E}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",m=_B(t,{pathname:p}),g=XB(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:il([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:il([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&g?v.createElement(mv.Provider,{value:{location:N0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wa.Pop}},g):g}function qB(){let t=tW(),e=VB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,i)}const YB=v.createElement(qB,null);class KB extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(kl.Provider,{value:this.props.routeContext},v.createElement(ZN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QB(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(fb);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(kl.Provider,{value:e},r)}function XB(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||jn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,g=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||YB,l&&(c<0&&f===0?(rW("route-fallback",!1),m=!0,E=null):c===f&&(m=!0,E=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=g:m?_=E:h.route.Component?_=v.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,v.createElement(QB,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(KB,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var n8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(n8||{}),Vg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vg||{});function JB(t){let e=v.useContext(fb);return e||jn(!1),e}function ZB(t){let e=v.useContext(zB);return e||jn(!1),e}function eW(t){let e=v.useContext(kl);return e||jn(!1),e}function r8(t){let e=eW(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function tW(){var t;let e=v.useContext(ZN),n=ZB(Vg.UseRouteError),r=r8(Vg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nW(){let{router:t}=JB(n8.UseNavigateStable),e=r8(Vg.UseNavigateStable),n=v.useRef(!1);return e8(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,N0({fromRouteId:e},i)))},[t,e])}const b4={};function rW(t,e,n){!e&&!b4[t]&&(b4[t]=!0)}function mn(t){jn(!1)}function sW(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Wa.Pop,navigator:i,static:o=!1,future:a}=t;Rp()&&jn(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:N0({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Jc(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=v.useMemo(()=>{let E=hb(u,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:m},navigationType:s}},[l,u,h,f,p,m,s]);return g==null?null:v.createElement(Zc.Provider,{value:c},v.createElement(mv.Provider,{children:n,value:g}))}function iW(t){let{children:e,location:n}=t;return HB(w3(e),n)}new Promise(()=>{});function w3(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,w3(r.props.children,i));return}r.type!==mn&&jn(!1),!r.props.index||!r.props.children||jn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=w3(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x3(){return x3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x3.apply(this,arguments)}function oW(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function aW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lW(t,e){return t.button===0&&(!e||e==="_self")&&!aW(t)}const cW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uW="6";try{window.__reactRouterVersion=uW}catch{}const dW="startTransition",I4=pg[dW];function hW(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=gB({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(h=>{c&&I4?I4(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(sW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const fW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mW=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=oW(e,cW),{basename:p}=v.useContext(Zc),m,g=!1;if(typeof c=="string"&&pW.test(c)&&(m=c,fW))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),b=hb(x.pathname,p);x.origin===_.origin&&b!=null?c=b+x.search+x.hash:g=!0}catch{}let E=BB(c,{relative:s}),y=gW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function w(_){r&&r(_),_.defaultPrevented||y(_)}return v.createElement("a",x3({},f,{href:m||E,onClick:g||i?r:w,ref:n,target:l}))});var T4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(T4||(T4={}));var S4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S4||(S4={}));function gW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=on(),c=hh(),u=t8(t,{relative:o});return v.useCallback(h=>{if(lW(h,n)){h.preventDefault();let f=r!==void 0?r:Fg(c)===Fg(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const vW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",yW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",_W="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",wW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",xW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",EW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",CW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",bW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",IW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",TW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",SW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",kW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",RW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",AW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",PW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",NW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",DW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",LW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",MW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",OW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",jW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",$W="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",FW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",VW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",UW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",zW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",BW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",WW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",HW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",GW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",qW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",YW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",KW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",QW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",XW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",JW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",ZW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",eH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",tH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",nH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",rH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",sH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",iH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",oH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",aH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",lH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",cH="/assets/dark-i8sdGySW.svg",uH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",dH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",hH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",fH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",pH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",mH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",gH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",vH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",yH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",_H="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",wH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",xH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",EH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",CH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",bH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",IH="/assets/facebook-reaction-sad-fp-d8NwB.svg",TH="/assets/facebook-reaction-wow-4aGHxQqX.svg",SH="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",kH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",RH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",AH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",PH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",NH={sent:RH,eye:PH,seen:AH,link:_H,reply:EH,sendLetter:wH,sendingLetter:xH,deleteIcon:vH,editPencil:yH,moreOption:gH,download:uH,offline:pH,online:mH,chat:fH,notification:hH,file:dH,light:lH,dark:cH,upload:aH,trueIcon:vW,falseIcon:yW,error:_W,down:wW,back:xW,thumbUp:EW,redo:CW,next:bW,finish:IW,history:TW,trash:SW,add:kW,edit:RW,save:AW,up:PW,clipboard:NW,admin:DW,menu:LW,home:MW,result:OW,help:jW,about:$W,update:FW,faq:VW,plus:UW,minus:zW,share:BW,review:WW,fullScreen:HW,search:GW,searchLeft:qW,close:YW,copy:KW,google:QW,refresh:XW,exit:JW,exam:ZW,like:eH,liked:tH,comment:nH,send:rH,logout:sH,user:iH,image:oH,facebookAngry:SH,facebookHaha:kH,facebookLike:CH,facebookLove:bH,facebookSad:IH,facebookWow:TH};function ar(t){return NH[t]||null}const xw=({data:t})=>{const{clickFn:e,image:n}=t,r=ar(n),s=()=>{e&&e()};return d.jsx("button",{onClick:s,className:"shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all",children:d.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var DH={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function E3(t,e){function n(s,i,o){if(!(typeof document>"u")){o=Hm({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=s+"="+t.write(i,s)+a}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],o={},a=0;a<i.length;a++){var l=i[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:n,get:r,remove:function(s,i){n(s,"",Hm({},i,{expires:-1}))},withAttributes:function(s){return E3(this.converter,Hm({},this.attributes,s))},withConverter:function(s){return E3(Hm({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ys=E3(DH,{path:"/"}),k4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se=function(t,e){if(!t)throw fh(e)},fh=function(t){return new Error("Firebase Database ("+s8.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new MH;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o8=function(t){const e=i8(t);return pb.encodeByteArray(e,!0)},Ug=function(t){return o8(t).replace(/\./g,"")},D0=function(t){try{return pb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t){return a8(void 0,t)}function a8(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jH(n)||(t[n]=a8(t[n],e[n]));return t}function jH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=()=>$H().__FIREBASE_DEFAULTS__,VH=()=>{if(typeof process>"u"||typeof k4>"u")return;const t=k4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D0(t[1]);return e&&JSON.parse(e)},gv=()=>{try{return FH()||VH()||UH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l8=t=>{var e,n;return(n=(e=gv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},c8=t=>{const e=l8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u8=()=>{var t;return(t=gv())===null||t===void 0?void 0:t.config},d8=t=>{var e;return(e=gv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ug(JSON.stringify(n)),Ug(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function zH(){var t;const e=(t=gv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p8(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m8(){return s8.NODE_ADMIN===!0}function g8(){return!zH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v8(){try{return typeof indexedDB=="object"}catch{return!1}}function BH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WH,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?HH(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ns(s,a,r)}}function HH(t,e){return t.replace(GH,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){return JSON.parse(t)}function Kn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=L0(D0(i[0])||""),n=L0(D0(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},qH=function(t){const e=y8(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},YH=function(t){const e=y8(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bg(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(R4(i)&&R4(o)){if(!Nd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function R4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function _8(t,e){const n=new QH(t,e);return n.subscribe.bind(n)}class QH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XH(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ew),s.error===void 0&&(s.error=Ew),s.complete===void 0&&(s.complete=Ew);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ew(){}function Rc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,se(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ro;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tG(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eG(t){return t===zl?void 0:t}function tG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const rG={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},sG=tt.INFO,iG={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},oG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iG[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=sG,this._logHandler=oG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const aG=(t,e)=>e.some(n=>t instanceof n);let A4,P4;function lG(){return A4||(A4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cG(){return P4||(P4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w8=new WeakMap,C3=new WeakMap,x8=new WeakMap,Cw=new WeakMap,gb=new WeakMap;function uG(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ol(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&w8.set(n,t)}).catch(()=>{}),gb.set(e,t),e}function dG(t){if(C3.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});C3.set(t,e)}let b3={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ol(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hG(t){b3=t(b3)}function fG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bw(this),e,...n);return x8.set(r,e.sort?e.sort():[e]),ol(r)}:cG().includes(t)?function(...e){return t.apply(bw(this),e),ol(w8.get(this))}:function(...e){return ol(t.apply(bw(this),e))}}function pG(t){return typeof t=="function"?fG(t):(t instanceof IDBTransaction&&dG(t),aG(t,lG())?new Proxy(t,b3):t)}function ol(t){if(t instanceof IDBRequest)return uG(t);if(Cw.has(t))return Cw.get(t);const e=pG(t);return e!==t&&(Cw.set(t,e),gb.set(e,t)),e}const bw=t=>gb.get(t);function mG(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ol(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ol(o.result),l.oldVersion,l.newVersion,ol(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gG=["get","getKey","getAll","getAllKeys","count"],vG=["put","add","delete","clear"],Iw=new Map;function N4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iw.get(e))return Iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gG.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Iw.set(e,i),i}hG(t=>({...t,get:(e,n,r)=>N4(e,n)||t.get(e,n,r),has:(e,n)=>!!N4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_G(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _G(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I3="@firebase/app",D4="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Ap("@firebase/app"),wG="@firebase/app-compat",xG="@firebase/analytics-compat",EG="@firebase/analytics",CG="@firebase/app-check-compat",bG="@firebase/app-check",IG="@firebase/auth",TG="@firebase/auth-compat",SG="@firebase/database",kG="@firebase/database-compat",RG="@firebase/functions",AG="@firebase/functions-compat",PG="@firebase/installations",NG="@firebase/installations-compat",DG="@firebase/messaging",LG="@firebase/messaging-compat",MG="@firebase/performance",OG="@firebase/performance-compat",jG="@firebase/remote-config",$G="@firebase/remote-config-compat",FG="@firebase/storage",VG="@firebase/storage-compat",UG="@firebase/firestore",zG="@firebase/firestore-compat",BG="firebase",WG="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="[DEFAULT]",HG={[I3]:"fire-core",[wG]:"fire-core-compat",[EG]:"fire-analytics",[xG]:"fire-analytics-compat",[bG]:"fire-app-check",[CG]:"fire-app-check-compat",[IG]:"fire-auth",[TG]:"fire-auth-compat",[SG]:"fire-rtdb",[kG]:"fire-rtdb-compat",[RG]:"fire-fn",[AG]:"fire-fn-compat",[PG]:"fire-iid",[NG]:"fire-iid-compat",[DG]:"fire-fcm",[LG]:"fire-fcm-compat",[MG]:"fire-perf",[OG]:"fire-perf-compat",[jG]:"fire-rc",[$G]:"fire-rc-compat",[FG]:"fire-gcs",[VG]:"fire-gcs-compat",[UG]:"fire-fst",[zG]:"fire-fst-compat","fire-js":"fire-js",[BG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map,S3=new Map;function GG(t,e){try{t.container.addComponent(e)}catch(n){Ac.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(S3.has(e))return Ac.debug(`There were multiple attempts to register component ${e}.`),!1;S3.set(e,t);for(const n of Wg.values())GG(n,t);return!0}function Pp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},al=new Rl("app","Firebase",qG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=WG;function E8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:T3,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw al.create("bad-app-name",{appName:String(s)});if(n||(n=u8()),!n)throw al.create("no-options");const i=Wg.get(s);if(i){if(Nd(n,i.options)&&Nd(r,i.config))return i;throw al.create("duplicate-app",{appName:s})}const o=new nG(s);for(const l of S3.values())o.addComponent(l);const a=new YG(n,r,o);return Wg.set(s,a),a}function vb(t=T3){const e=Wg.get(t);if(!e&&t===T3&&u8())return E8();if(!e)throw al.create("no-app",{appName:t});return e}function rs(t,e,n){var r;let s=(r=HG[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ac.warn(a.join(" "));return}oo(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="firebase-heartbeat-database",QG=1,M0="firebase-heartbeat-store";let Tw=null;function C8(){return Tw||(Tw=mG(KG,QG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(M0)}catch(n){console.warn(n)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),Tw}async function XG(t){try{const n=(await C8()).transaction(M0),r=await n.objectStore(M0).get(b8(t));return await n.done,r}catch(e){if(e instanceof Ns)Ac.warn(e.message);else{const n=al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ac.warn(n.message)}}}async function L4(t,e){try{const r=(await C8()).transaction(M0,"readwrite");await r.objectStore(M0).put(e,b8(t)),await r.done}catch(n){if(n instanceof Ns)Ac.warn(n.message);else{const r=al.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ac.warn(r.message)}}}function b8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=1024,ZG=30*24*60*60*1e3;class eq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=M4();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZG}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M4(),{heartbeatsToSend:r,unsentEntries:s}=tq(this._heartbeatsCache.heartbeats),i=Ug(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function M4(){return new Date().toISOString().substring(0,10)}function tq(t,e=JG){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),O4(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),O4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v8()?BH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return L4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return L4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function O4(t){return Ug(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){oo(new Ri("platform-logger",e=>new yG(e),"PRIVATE")),oo(new Ri("heartbeat",e=>new eq(e),"PRIVATE")),rs(I3,D4,t),rs(I3,D4,"esm2017"),rs("fire-js","")}rq("");var sq="firebase",iq="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(sq,iq,"app");var k3=function(t,e){return k3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},k3(t,e)};function an(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ut=function(){return ut=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ut.apply(this,arguments)};function ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ee(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function te(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function lr(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function I8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oq=I8,T8=new Rl("auth","Firebase",I8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=new Ap("@firebase/auth");function aq(t,...e){Hg.logLevel<=tt.WARN&&Hg.warn(`Auth (${Li}): ${t}`,...e)}function L2(t,...e){Hg.logLevel<=tt.ERROR&&Hg.error(`Auth (${Li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,...e){throw yb(t,...e)}function no(t,...e){return yb(t,...e)}function S8(t,e,n){const r=Object.assign(Object.assign({},oq()),{[e]:n});return new Rl("auth","Firebase",r).create(e,{appName:t.name})}function lq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zs(t,"argument-error"),S8(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return T8.create(t,...e)}function $e(t,e,...n){if(!t)throw yb(e,...n)}function Lo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw L2(e),new Error(e)}function Jo(t,e){t||Lo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cq(){return j4()==="http:"||j4()==="https:"}function j4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cq()||f8()||"connection"in navigator)?navigator.onLine:!0}function dq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jo(n>e,"Short delay should be less than long delay!"),this.isMobile=vv()||mb()}get(){return uq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){Jo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k8=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=new Np(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,n,r,s={}){return R8(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=da(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),k8.fetch()(A8(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function R8(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hq),e);try{const s=new mq(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Gm(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gm(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw S8(t,u,c);Zs(t,u)}}catch(s){if(s instanceof Ns)throw s;Zs(t,"network-request-failed",{message:String(s)})}}async function Dp(t,e,n,r,s={}){const i=await fo(t,e,n,r,s);return"mfaPendingCredential"in i&&Zs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function A8(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?_b(t.config,s):`${t.config.apiScheme}://${s}`}function pq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let mq=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),fq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=no(t,e,r);return s.customData._tokenResponse=n,s}function $4(t){return t!==void 0&&t.enterprise!==void 0}let gq=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function vq(t,e){return fo(t,"GET","/v2/recaptchaConfig",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yq(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function _q(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wq(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=wb(r);$e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qf(Sw(s.auth_time)),issuedAtTime:qf(Sw(s.iat)),expirationTime:qf(Sw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sw(t){return Number(t)*1e3}function wb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return L2("JWT malformed, contained fewer than 3 sections"),null;try{const s=D0(n);return s?JSON.parse(s):(L2("Failed to decode base64 JWT payload"),null)}catch(s){return L2("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xq(t){const e=wb(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ns&&Eq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Eq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cq=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P8=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Dd(t,_q(n,{idToken:r}));$e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Tq(i.providerUserInfo):[],a=Iq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new P8(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function bq(t){const e=at(t);await Gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Iq(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Tq(t){return t.map(e=>{var{providerId:n}=e,r=ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e){const n=await R8(t,{},async()=>{const r=da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=A8(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",k8.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kq(t,e){return fo(t,"POST","/v2/accounts:revokeToken",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F4=class A3{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return $e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Sq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new A3;return r&&($e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&($e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&($e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new A3,this.toJSON())}_performRefresh(){return Lo("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let P3=class M2{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new P8(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Dd(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wq(this,e)}reload(){return bq(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new M2(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Dd(this,yq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:x,isAnonymous:b,providerData:C,stsTokenManager:T}=n;$e(_&&T,e,"internal-error");const I=F4.fromJSON(this.name,T);$e(typeof _=="string",e,"internal-error"),ba(h,e.name),ba(f,e.name),$e(typeof x=="boolean",e,"internal-error"),$e(typeof b=="boolean",e,"internal-error"),ba(p,e.name),ba(m,e.name),ba(g,e.name),ba(E,e.name),ba(y,e.name),ba(w,e.name);const S=new M2({uid:_,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:I,createdAt:y,lastLoginAt:w});return C&&Array.isArray(C)&&(S.providerData=C.map(k=>Object.assign({},k))),E&&(S._redirectEventId=E),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new F4;s.updateFromServerResponse(n);const i=new M2({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gg(i),i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Map;function Mo(t){Jo(t instanceof Function,"Expected a class definition");let e=V4.get(t);return e?(Jo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N8=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};N8.type="NONE";const U4=N8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e,n){return`firebase:${t}:${e}:${n}`}let z4=class j2{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=O2(this.userKey,s.apiKey,i),this.fullPersistenceKey=O2("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?P3._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new j2(Mo(U4),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Mo(U4);const o=O2(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=P3._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new j2(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new j2(i,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j8(e))return"Blackberry";if($8(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||L8(e))&&!e.includes("edge/"))return"Chrome";if(O8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D8(t=It()){return/firefox\//i.test(t)}function xb(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L8(t=It()){return/crios\//i.test(t)}function M8(t=It()){return/iemobile/i.test(t)}function O8(t=It()){return/android/i.test(t)}function j8(t=It()){return/blackberry/i.test(t)}function $8(t=It()){return/webos/i.test(t)}function _v(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rq(t=It()){var e;return _v(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Aq(){return p8()&&document.documentMode===10}function F8(t=It()){return _v(t)||O8(t)||$8(t)||j8(t)||/windows phone/i.test(t)||M8(t)}function Pq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t,e=[]){let n;switch(t){case"Browser":n=B4(It());break;case"Worker":n=`${B4(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nq=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dq(t,e={}){return fo(t,"GET","/v2/passwordPolicy",ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=6;let Mq=class{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Lq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oq=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W4(this),this.idTokenSubscription=new W4(this),this.beforeStateQueue=new Nq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mo(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await z4.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?at(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dq(this),n=new Mq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mo(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await z4.create(this,[Mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function fa(t){return at(t)}let W4=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_8(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jq(t){wv=t}function U8(t){return wv.loadJS(t)}function $q(){return wv.recaptchaEnterpriseScript}function Fq(){return wv.gapiScript}function Vq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Uq="recaptcha-enterprise",zq="NO_RECAPTCHA";let Bq=class{constructor(e){this.type=Uq,this.auth=fa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{vq(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new gq(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;$4(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(zq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&$4(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$q();l.length!==0&&(l+=a),U8(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function H4(t,e,n,r=!1){const s=new Bq(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await H4(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await H4(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t,e){const n=Pp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Nd(i,e??{}))return s;Zs(s,"already-initialized")}return n.initialize({options:e})}function Hq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gq(t,e,n){const r=fa(t);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=z8(e),{host:o,port:a}=qq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Yq()}function z8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qq(t){const e=z8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:G4(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:G4(o)}}}function G4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eb=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lo("not implemented")}_getIdTokenResponse(e){return Lo("not implemented")}_linkToIdToken(e,n){return Lo("not implemented")}_getReauthenticationResolver(e){return Lo("not implemented")}};async function Kq(t,e){return fo(t,"POST","/v1/accounts:update",e)}async function Qq(t,e){return fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e){return Dp(t,"POST","/v1/accounts:signInWithPassword",ha(t,e))}async function Jq(t,e){return fo(t,"POST","/v1/accounts:sendOobCode",ha(t,e))}async function Zq(t,e){return Jq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eY(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}async function tY(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q4=class N3 extends Eb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new N3(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new N3(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qg(e,n,"signInWithPassword",Xq);case"emailLink":return eY(e,{email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qg(e,r,"signUpPassword",Qq);case"emailLink":return tY(e,{idToken:n,email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e){return Dp(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY="http://localhost";let xv=class D3 extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new D3(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ph(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new D3(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ld(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ld(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ld(e,n)}buildRequest(){const e={requestUri:nY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=da(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sY(t){const e=Gi(qi(t)).link,n=e?Gi(qi(e)).deep_link_id:null,r=Gi(qi(t)).deep_link_id;return(r?Gi(qi(r)).link:null)||r||n||e||t}let iY=class B8{constructor(e){var n,r,s,i,o,a;const l=Gi(qi(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=rY((s=l.mode)!==null&&s!==void 0?s:null);$e(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=sY(e);try{return new B8(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev=class W8{constructor(){this.providerId=W8.PROVIDER_ID}static credential(e,n){return q4._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iY.parseLink(n);return $e(r,"argument-error"),q4._fromEmailAndCode(e,r.code,r.tenantId)}};Ev.PROVIDER_ID="password";Ev.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ev.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp=class extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Lp{constructor(){super("facebook.com")}static credential(e){return xv._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Lp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xv._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com";Ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Lp{constructor(){super("github.com")}static credential(e){return xv._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Lp{constructor(){super("twitter.com")}static credential(e,n){return xv._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oY(t,e){return Dp(t,"POST","/v1/accounts:signUp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv=class L3{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await P3._fromIdTokenResponse(e,r,s),o=Y4(r);return new L3({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Y4(r);return new L3({user:e,providerId:s,_tokenResponse:r,operationType:n})}};function Y4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aY=class M3 extends Ns{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,M3.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new M3(e,n,r,s)}};function H8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?aY._fromErrorAndOperation(t,i,e,r):i})}async function lY(t,e,n=!1){const r=await Dd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cv._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Dd(t,H8(r,s,e,t),n);$e(i.idToken,r,"internal-error");const o=wb(i.idToken);$e(o,r,"internal-error");const{sub:a}=o;return $e(t.uid===a,r,"user-mismatch"),Cv._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(t,e,n=!1){const r="signIn",s=await H8(t,r,e),i=await Cv._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function cY(t,e){return q8(fa(t),e)}async function uY(t,e){return G8(at(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dY(t,e,n){var r;$e(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),$e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($e(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&($e(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t){const e=fa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hY(t,e,n){const r=fa(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&dY(r,s,n),await qg(r,s,"getOobCode",Zq)}async function fY(t,e,n){const r=fa(t),o=await qg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oY).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Y8(t),l}),a=await Cv._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pY(t,e,n){return cY(at(t),Ev.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y8(t),r})}function mY(t,e){return gY(at(t),null,e)}async function gY(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await Dd(t,Kq(r,i));await t._updateTokensIfNecessary(o,!0)}function vY(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function yY(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function _Y(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function K8(t){return at(t).signOut()}const Yg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q8=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yg,"1"),this.storage.removeItem(Yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(){const t=It();return xb(t)||_v(t)}const xY=1e3,EY=10;class X8 extends Q8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wY()&&Pq(),this.fallbackToPolling=F8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Aq()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,EY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X8.type="LOCAL";const CY=X8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8 extends Q8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J8.type="SESSION";const Z8=J8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await bY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IY=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=bb("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return window}function TY(t){ro().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(){return typeof ro().WorkerGlobalScope<"u"&&typeof ro().importScripts=="function"}async function SY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RY(){return e7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="firebaseLocalStorageDb",AY=1,Kg="firebaseLocalStorage",n7="fbase_key";class Mp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iv(t,e){return t.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function PY(){const t=indexedDB.deleteDatabase(t7);return new Mp(t).toPromise()}function O3(){const t=indexedDB.open(t7,AY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kg,{keyPath:n7})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),await PY(),e(await O3()))})})}async function K4(t,e,n){const r=Iv(t,!0).put({[n7]:e,value:n});return new Mp(r).toPromise()}async function NY(t,e){const n=Iv(t,!1).get(e),r=await new Mp(n).toPromise();return r===void 0?null:r.value}function Q4(t,e){const n=Iv(t,!0).delete(e);return new Mp(n).toPromise()}const DY=800,LY=3;class r7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bv._getInstance(RY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SY(),!this.activeServiceWorker)return;this.sender=new IY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O3();return await K4(e,Yg,"1"),await Q4(e,Yg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Iv(s,!1).getAll();return new Mp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r7.type="LOCAL";const MY=r7;new Np(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t,e){return e?Mo(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ib=class extends Eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ld(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ld(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ld(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function OY(t){return q8(t.auth,new Ib(t),t.bypassAuthState)}function jY(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),G8(n,new Ib(t),t.bypassAuthState)}async function $Y(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),lY(n,new Ib(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i7=class{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OY;case"linkViaPopup":case"linkViaRedirect":return $Y;case"reauthViaPopup":case"reauthViaRedirect":return jY;default:Zs(this.auth,"internal-error")}}resolve(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY=new Np(2e3,1e4);async function VY(t,e,n){const r=fa(t);lq(t,e,Cb);const s=s7(r,n);return new tc(r,"signInViaPopup",e,s).executeNotNull()}class tc extends i7{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Jo(this.filter.length===1,"Popup operations only handle one event");const e=bb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(no(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(no(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(no(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FY.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY="pendingRedirect",$2=new Map;class zY extends i7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$2.get(this.auth._key());if(!e){try{const r=await BY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$2.set(this.auth._key(),e)}return this.bypassAuthState||$2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BY(t,e){const n=GY(e),r=HY(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function WY(t,e){$2.set(t._key(),e)}function HY(t){return Mo(t._redirectPersistence)}function GY(t){return O2(UY,t.config.apiKey,t.name)}async function qY(t,e,n=!1){const r=fa(t),s=s7(r,e),o=await new zY(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=10*60*1e3;let KY=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o7(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(no(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YY&&this.cachedEventUids.clear(),this.cachedEventUids.has(X4(e))}saveEventToCache(e){this.cachedEventUids.add(X4(e)),this.lastProcessedEventTime=Date.now()}};function X4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XY(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZY=/^https?/;async function eK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XY(t);for(const n of e)try{if(tK(n))return}catch{}Zs(t,"unauthorized-domain")}function tK(t){const e=R3(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZY.test(n))return!1;if(JY.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=new Np(3e4,6e4);function J4(){const t=ro().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rK(t){return new Promise((e,n)=>{var r,s,i;function o(){J4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J4(),n(no(t,"network-request-failed"))},timeout:nK.get()})}if(!((s=(r=ro().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ro().gapi)===null||i===void 0)&&i.load)o();else{const a=Vq("iframefcb");return ro()[a]=()=>{gapi.load?o():n(no(t,"network-request-failed"))},U8(`${Fq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw F2=null,e})}let F2=null;function sK(t){return F2=F2||rK(t),F2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=new Np(5e3,15e3),oK="__/auth/iframe",aK="emulator/auth/iframe",lK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uK(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_b(e,aK):`https://${t.config.authDomain}/${oK}`,r={apiKey:e.apiKey,appName:t.name,v:Li},s=cK.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${da(r).slice(1)}`}async function dK(t){const e=await sK(t),n=ro().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:uK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lK,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=no(t,"network-request-failed"),a=ro().setTimeout(()=>{i(o)},iK.get());function l(){ro().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fK=500,pK=600,mK="_blank",gK="http://localhost";class Z4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vK(t,e,n,r=fK,s=pK){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hK),{width:r.toString(),height:s.toString(),top:i,left:o}),c=It().toLowerCase();n&&(a=L8(c)?mK:n),D8(c)&&(e=e||gK,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Rq(c)&&a!=="_self")return yK(e||"",a),new Z4(null);const h=window.open(e||"",a,u);$e(h,t,"popup-blocked");try{h.focus()}catch{}return new Z4(h)}function yK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K="__/auth/handler",wK="emulator/auth/handler",xK=encodeURIComponent("fac");async function ek(t,e,n,r,s,i){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Li,eventId:s};if(e instanceof Cb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Lp){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${xK}=${encodeURIComponent(l)}`:"";return`${EK(t)}?${da(a).slice(1)}${c}`}function EK({config:t}){return t.emulator?_b(t,wK):`https://${t.authDomain}/${_K}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="webStorageSupport";class CK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z8,this._completeRedirectFn=qY,this._overrideRedirectResult=WY}async _openPopup(e,n,r,s){var i;Jo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ek(e,n,r,R3(),s);return vK(e,o,bb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ek(e,n,r,R3(),s);return TY(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Jo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dK(e),r=new KY(e);return n.register("authEvent",s=>($e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kw,{type:kw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[kw];o!==void 0&&n(!!o),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F8()||xb()||_v()}}const bK=CK;var tk="@firebase/auth",nk="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IK=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SK(t){oo(new Ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V8(t)},c=new Oq(r,s,i,l);return Hq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new Ri("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(r=>new IK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(tk,nk,TK(t)),rs(tk,nk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=5*60,RK=d8("authIdTokenMaxAge")||kK;let rk=null;const AK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RK)return;const s=n==null?void 0:n.token;rk!==s&&(rk=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function PK(t=vb()){const e=Pp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wq(t,{popupRedirectResolver:bK,persistence:[MY,CY,Z8]}),r=d8("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=AK(r);yY(n,i,()=>i(n.currentUser)),vY(n,o=>i(o))}const s=l8("auth");return s&&Gq(n,`http://${s}`),n}function NK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=no("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",NK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SK("Browser");var DK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Tb=Tb||{},He=DK||self;function Tv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Op(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function LK(t){return Object.prototype.hasOwnProperty.call(t,Rw)&&t[Rw]||(t[Rw]=++MK)}var Rw="closure_uid_"+(1e9*Math.random()>>>0),MK=0;function OK(t,e,n){return t.call.apply(t.bind,arguments)}function jK(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function xr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xr=OK:xr=jK,xr.apply(null,arguments)}function qm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Zn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Al(){this.s=this.s,this.o=this.o}var $K=0;Al.prototype.s=!1;Al.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$K!=0)&&LK(this)};Al.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a7=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Sb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Tv(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Er(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var FK=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};He.addEventListener("test",n,e),He.removeEventListener("test",n,e)}catch{}return t}();function O0(t){return/^[\s\xa0]*$/.test(t)}function Sv(){var t=He.navigator;return t&&(t=t.userAgent)?t:""}function Wi(t){return Sv().indexOf(t)!=-1}function kb(t){return kb[" "](t),t}kb[" "]=function(){};function VK(t,e){var n=NQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var UK=Wi("Opera"),Ld=Wi("Trident")||Wi("MSIE"),l7=Wi("Edge"),j3=l7||Ld,c7=Wi("Gecko")&&!(Sv().toLowerCase().indexOf("webkit")!=-1&&!Wi("Edge"))&&!(Wi("Trident")||Wi("MSIE"))&&!Wi("Edge"),zK=Sv().toLowerCase().indexOf("webkit")!=-1&&!Wi("Edge");function u7(){var t=He.document;return t?t.documentMode:void 0}var $3;e:{var Aw="",Pw=function(){var t=Sv();if(c7)return/rv:([^\);]+)(\)|;)/.exec(t);if(l7)return/Edge\/([\d\.]+)/.exec(t);if(Ld)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zK)return/WebKit\/(\S+)/.exec(t);if(UK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pw&&(Aw=Pw?Pw[1]:""),Ld){var Nw=u7();if(Nw!=null&&Nw>parseFloat(Aw)){$3=String(Nw);break e}}$3=Aw}var F3;if(He.document&&Ld){var ik=u7();F3=ik||parseInt($3,10)||void 0}else F3=void 0;var BK=F3;function j0(t,e){if(Er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(c7){e:{try{kb(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&j0.$.h.call(this)}}Zn(j0,Er);var WK={2:"touch",3:"pen",4:"mouse"};j0.prototype.h=function(){j0.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jp="closure_listenable_"+(1e6*Math.random()|0),HK=0;function GK(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++HK,this.fa=this.ia=!1}function kv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function d7(t){const e={};for(const n in t)e[n]=t[n];return e}const ok="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h7(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<ok.length;i++)n=ok[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rv(t){this.src=t,this.g={},this.h=0}Rv.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=U3(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new GK(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function V3(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=a7(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(kv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function U3(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Ab="closure_lm_"+(1e6*Math.random()|0),Dw={};function f7(t,e,n,r,s){if(r&&r.once)return m7(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)f7(t,e[i],n,r,s);return null}return n=Db(n),t&&t[jp]?t.O(e,n,Op(r)?!!r.capture:!!r,s):p7(t,e,n,!1,r,s)}function p7(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Op(s)?!!s.capture:!!s,a=Nb(t);if(a||(t[Ab]=a=new Rv(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=YK(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)FK||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(v7(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YK(){function t(n){return e.call(t.src,t.listener,n)}const e=KK;return t}function m7(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)m7(t,e[i],n,r,s);return null}return n=Db(n),t&&t[jp]?t.P(e,n,Op(r)?!!r.capture:!!r,s):p7(t,e,n,!0,r,s)}function g7(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)g7(t,e[i],n,r,s);else r=Op(r)?!!r.capture:!!r,n=Db(n),t&&t[jp]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=U3(i,n,r,s),-1<n&&(kv(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Nb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=U3(e,n,r,s)),(n=-1<t?e[t]:null)&&Pb(n))}function Pb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jp])V3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nb(e))?(V3(n,t),n.h==0&&(n.src=null,e[Ab]=null)):kv(t)}}}function v7(t){return t in Dw?Dw[t]:Dw[t]="on"+t}function KK(t,e){if(t.fa)t=!0;else{e=new j0(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pb(t),t=n.call(r,e)}return t}function Nb(t){return t=t[Ab],t instanceof Rv?t:null}var Lw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Db(t){return typeof t=="function"?t:(t[Lw]||(t[Lw]=function(e){return t.handleEvent(e)}),t[Lw])}function Jn(){Al.call(this),this.i=new Rv(this),this.S=this,this.J=null}Zn(Jn,Al);Jn.prototype[jp]=!0;Jn.prototype.removeEventListener=function(t,e,n,r){g7(this,t,e,n,r)};function cr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Er(e,t);else if(e instanceof Er)e.target=e.target||t;else{var s=e;e=new Er(r,t),h7(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ym(o,r,!0,e)&&s}if(o=e.g=t,s=Ym(o,r,!0,e)&&s,s=Ym(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ym(o,r,!1,e)&&s}Jn.prototype.N=function(){if(Jn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kv(n[r]);delete t.g[e],t.h--}}this.J=null};Jn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Jn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ym(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&V3(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Lb=He.JSON.stringify;class QK{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function XK(){var t=Mb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JK{constructor(){this.h=this.g=null}add(e,n){const r=y7.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var y7=new QK(()=>new ZK,t=>t.reset());class ZK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eQ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tQ(t){He.setTimeout(()=>{throw t},0)}let $0,F0=!1,Mb=new JK,_7=()=>{const t=He.Promise.resolve(void 0);$0=()=>{t.then(nQ)}};var nQ=()=>{for(var t;t=XK();){try{t.h.call(t.g)}catch(n){tQ(n)}var e=y7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}F0=!1};function Av(t,e){Jn.call(this),this.h=t||1,this.g=e||He,this.j=xr(this.qb,this),this.l=Date.now()}Zn(Av,Jn);ce=Av.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cr(this,"tick"),this.ga&&(Ob(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ob(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){Av.$.N.call(this),Ob(this),delete this.g};function jb(t,e,n){if(typeof t=="function")n&&(t=xr(t,n));else if(t&&typeof t.handleEvent=="function")t=xr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:He.setTimeout(t,e||0)}function w7(t){t.g=jb(()=>{t.g=null,t.i&&(t.i=!1,w7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class rQ extends Al{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:w7(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function V0(t){Al.call(this),this.h=t,this.g={}}Zn(V0,Al);var ak=[];function x7(t,e,n,r){Array.isArray(n)||(n&&(ak[0]=n.toString()),n=ak);for(var s=0;s<n.length;s++){var i=f7(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function E7(t){Rb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pb(e)},t),t.g={}}V0.prototype.N=function(){V0.$.N.call(this),E7(this)};V0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pv(){this.g=!0}Pv.prototype.Ea=function(){this.g=!1};function sQ(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function iQ(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Qu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+aQ(t,n)+(r?" "+r:"")})}function oQ(t,e){t.info(function(){return"TIMEOUT: "+e})}Pv.prototype.info=function(){};function aQ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Lb(n)}catch{return e}}var tu={},lk=null;function Nv(){return lk=lk||new Jn}tu.Ta="serverreachability";function C7(t){Er.call(this,tu.Ta,t)}Zn(C7,Er);function U0(t){const e=Nv();cr(e,new C7(e))}tu.STAT_EVENT="statevent";function b7(t,e){Er.call(this,tu.STAT_EVENT,t),this.stat=e}Zn(b7,Er);function Dr(t){const e=Nv();cr(e,new b7(e,t))}tu.Ua="timingevent";function I7(t,e){Er.call(this,tu.Ua,t),this.size=e}Zn(I7,Er);function $p(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){t()},e)}var Dv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $b(){}$b.prototype.h=null;function ck(t){return t.h||(t.h=t.i())}function S7(){}var Fp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fb(){Er.call(this,"d")}Zn(Fb,Er);function Vb(){Er.call(this,"c")}Zn(Vb,Er);var z3;function Lv(){}Zn(Lv,$b);Lv.prototype.g=function(){return new XMLHttpRequest};Lv.prototype.i=function(){return{}};z3=new Lv;function Vp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new V0(this),this.P=lQ,t=j3?125:void 0,this.V=new Av(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new k7}function k7(){this.i=null,this.g="",this.h=!1}var lQ=45e3,R7={},B3={};ce=Vp.prototype;ce.setTimeout=function(t){this.P=t};function W3(t,e,n){t.L=1,t.A=Ov(Zo(e)),t.u=n,t.S=!0,A7(t,null)}function A7(t,e){t.G=Date.now(),Up(t),t.B=Zo(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$7(n.i,"t",r),t.o=0,n=t.l.J,t.h=new k7,t.g=iD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new rQ(xr(t.Pa,t,t.g),t.O)),x7(t.U,t.g,"readystatechange",t.nb),e=t.I?d7(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),U0(),sQ(t.j,t.v,t.B,t.m,t.W,t.u)}ce.nb=function(t){t=t.target;const e=this.M;e&&Yi(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{const u=Yi(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||j3||this.g&&(this.h.h||this.g.ja()||fk(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?U0(3):U0(2)),Mv(this);var n=this.g.da();this.ca=n;t:if(P7(this)){var r=fk(this.g);t="";var s=r.length,i=Yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),Yf(this);var o="";break t}this.h.i=new He.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,iQ(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O0(a)){var c=a;break t}}c=null}if(n=c)Qu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,H3(this,n);else{this.i=!1,this.s=3,Dr(12),nc(this),Yf(this);break e}}this.S?(N7(this,u,o),j3&&this.i&&u==3&&(x7(this.U,this.V,"tick",this.mb),this.V.start())):(Qu(this.j,this.m,o,null),H3(this,o)),u==4&&nc(this),this.i&&!this.J&&(u==4?tD(this.l,this):(this.i=!1,Up(this)))}else RQ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Dr(12)):(this.s=0,Dr(13)),nc(this),Yf(this)}}}catch{}finally{}};function P7(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function N7(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=cQ(t,n),s==B3){e==4&&(t.s=4,Dr(14),r=!1),Qu(t.j,t.m,null,"[Incomplete Response]");break}else if(s==R7){t.s=4,Dr(15),Qu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Qu(t.j,t.m,s,null),H3(t,s);P7(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Dr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gb(e),e.M=!0,Dr(11))):(Qu(t.j,t.m,n,"[Invalid Chunked Response]"),nc(t),Yf(t))}ce.mb=function(){if(this.g){var t=Yi(this.g),e=this.g.ja();this.o<e.length&&(Mv(this),N7(this,t,e),this.i&&t!=4&&Up(this))}};function cQ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?B3:(n=Number(e.substring(n,r)),isNaN(n)?R7:(r+=1,r+n>e.length?B3:(e=e.slice(r,r+n),t.o=r+n,e)))}ce.cancel=function(){this.J=!0,nc(this)};function Up(t){t.Y=Date.now()+t.P,D7(t,t.P)}function D7(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=$p(xr(t.lb,t),e)}function Mv(t){t.C&&(He.clearTimeout(t.C),t.C=null)}ce.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(oQ(this.j,this.B),this.L!=2&&(U0(),Dr(17)),nc(this),this.s=2,Yf(this)):D7(this,this.Y-t)};function Yf(t){t.l.H==0||t.J||tD(t.l,t)}function nc(t){Mv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ob(t.V),E7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function H3(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||G3(n.i,t))){if(!t.K&&G3(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jg(n),Vv(n);else break e;Hb(n),Dr(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=$p(xr(n.ib,n),6e3));if(1>=U7(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rc(n,11)}else if((t.K||n.g==t)&&Jg(n),!O0(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Ub(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sD(r,r.J?r.pa:null,r.Y),o.K){z7(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Mv(a),Up(a)),r.g=o}else Z7(r);0<n.j.length&&Uv(n)}else c[0]!="stop"&&c[0]!="close"||rc(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?rc(n,7):Wb(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}U0(4)}catch{}}function uQ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Tv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dQ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function L7(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Tv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=dQ(t),r=uQ(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var M7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function pc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pc){this.h=t.h,Qg(this,t.j),this.s=t.s,this.g=t.g,Xg(this,t.m),this.l=t.l;var e=t.i,n=new z0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uk(this,n),this.o=t.o}else t&&(e=String(t).match(M7))?(this.h=!1,Qg(this,e[1]||"",!0),this.s=Tf(e[2]||""),this.g=Tf(e[3]||"",!0),Xg(this,e[4]),this.l=Tf(e[5]||"",!0),uk(this,e[6]||"",!0),this.o=Tf(e[7]||"")):(this.h=!1,this.i=new z0(null,this.h))}pc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sf(e,dk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Sf(e,dk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Sf(n,n.charAt(0)=="/"?mQ:pQ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sf(n,vQ)),t.join("")};function Zo(t){return new pc(t)}function Qg(t,e,n){t.j=n?Tf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uk(t,e,n){e instanceof z0?(t.i=e,yQ(t.i,t.h)):(n||(e=Sf(e,gQ)),t.i=new z0(e,t.h))}function Xt(t,e,n){t.i.set(e,n)}function Ov(t){return Xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fQ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var dk=/[#\/\?@]/g,pQ=/[#\?:]/g,mQ=/[#\?]/g,gQ=/[#\?@]/g,vQ=/#/g;function z0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pl(t){t.g||(t.g=new Map,t.h=0,t.i&&hQ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=z0.prototype;ce.add=function(t,e){Pl(this),this.i=null,t=mh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function O7(t,e){Pl(t),e=mh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function j7(t,e){return Pl(t),e=mh(t,e),t.g.has(e)}ce.forEach=function(t,e){Pl(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};ce.ta=function(){Pl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};ce.Z=function(t){Pl(this);let e=[];if(typeof t=="string")j7(this,t)&&(e=e.concat(this.g.get(mh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return Pl(this),this.i=null,t=mh(this,t),j7(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $7(t,e,n){O7(t,e),0<n.length&&(t.i=null,t.g.set(mh(t,e),Sb(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function mh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yQ(t,e){e&&!t.j&&(Pl(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(O7(this,r),$7(this,s,n))},t)),t.j=e}var _Q=class{constructor(t,e){this.g=t,this.map=e}};function F7(t){this.l=t||wQ,He.PerformanceNavigationTiming?(t=He.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wQ=10;function V7(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function U7(t){return t.h?1:t.g?t.g.size:0}function G3(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ub(t,e){t.g?t.g.add(e):t.h=e}function z7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}F7.prototype.cancel=function(){if(this.i=B7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function B7(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Sb(t.i)}var xQ=class{stringify(t){return He.JSON.stringify(t,void 0)}parse(t){return He.JSON.parse(t,void 0)}};function EQ(){this.g=new xQ}function CQ(t,e,n){const r=n||"";try{L7(t,function(s,i){let o=s;Op(s)&&(o=Lb(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function bQ(t,e){const n=new Pv;if(He.Image){const r=new Image;r.onload=qm(Km,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qm(Km,n,r,"TestLoadImage: error",!1,e),r.onabort=qm(Km,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qm(Km,n,r,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Km(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function jv(t){this.l=t.ec||null,this.j=t.ob||!1}Zn(jv,$b);jv.prototype.g=function(){return new $v(this.l,this.j)};jv.prototype.i=function(t){return function(){return t}}({});function $v(t,e){Jn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zn($v,Jn);var zb=0;ce=$v.prototype;ce.open=function(t,e){if(this.readyState!=zb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,B0(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||He).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zp(this)),this.readyState=zb};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,B0(this)),this.g&&(this.readyState=3,B0(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function W7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zp(this):B0(this),this.readyState==3&&W7(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,zp(this))};ce.Ya=function(t){this.g&&(this.response=t,zp(this))};ce.ka=function(){this.g&&zp(this)};function zp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,B0(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function B0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($v.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var IQ=He.JSON.parse;function En(t){Jn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H7,this.L=this.M=!1}Zn(En,Jn);var H7="",TQ=/^https?$/i,SQ=["POST","PUT"];ce=En.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():z3.g(),this.C=this.u?ck(this.u):ck(z3),this.g.onreadystatechange=xr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){hk(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=He.FormData&&t instanceof He.FormData,!(0<=a7(SQ,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Y7(this),0<this.B&&((this.L=kQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.ua,this)):this.A=jb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){hk(this,i)}};function kQ(t){return Ld&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof Tb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cr(this,"timeout"),this.abort(8))};function hk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,G7(t),Fv(t)}function G7(t){t.F||(t.F=!0,cr(t,"complete"),cr(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,cr(this,"complete"),cr(this,"abort"),Fv(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fv(this,!0)),En.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?q7(this):this.kb())};ce.kb=function(){q7(this)};function q7(t){if(t.h&&typeof Tb<"u"&&(!t.C[1]||Yi(t)!=4||t.da()!=2)){if(t.v&&Yi(t)==4)jb(t.La,0,t);else if(cr(t,"readystatechange"),Yi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(M7)[1]||null;!s&&He.self&&He.self.location&&(s=He.self.location.protocol.slice(0,-1)),r=!TQ.test(s?s.toLowerCase():"")}n=r}if(n)cr(t,"complete"),cr(t,"success");else{t.m=6;try{var i=2<Yi(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",G7(t)}}finally{Fv(t)}}}}function Fv(t,e){if(t.g){Y7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||cr(t,"ready");try{n.onreadystatechange=r}catch{}}}function Y7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(He.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function Yi(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),IQ(e)}};function fk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case H7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function RQ(t){const e={};t=(t.g&&2<=Yi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(O0(t[r]))continue;var n=eQ(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}qK(e,function(r){return r.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function K7(t){let e="";return Rb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=K7(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xt(t,e,n))}function Qh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Q7(t){this.Ga=0,this.j=[],this.l=new Pv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qh("baseRetryDelayMs",5e3,t),this.hb=Qh("retryDelaySeedMs",1e4,t),this.eb=Qh("forwardChannelMaxRetries",2,t),this.xa=Qh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new F7(t&&t.concurrentRequestLimit),this.Ja=new EQ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=Q7.prototype;ce.ra=8;ce.H=1;function Wb(t){if(X7(t),t.H==3){var e=t.W++,n=Zo(t.I);if(Xt(n,"SID",t.K),Xt(n,"RID",e),Xt(n,"TYPE","terminate"),Bp(t,n),e=new Vp(t,t.l,e),e.L=2,e.A=Ov(Zo(n)),n=!1,He.navigator&&He.navigator.sendBeacon)try{n=He.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&He.Image&&(new Image().src=e.A,n=!0),n||(e.g=iD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Up(e)}rD(t)}function Vv(t){t.g&&(Gb(t),t.g.cancel(),t.g=null)}function X7(t){Vv(t),t.u&&(He.clearTimeout(t.u),t.u=null),Jg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&He.clearTimeout(t.m),t.m=null)}function Uv(t){if(!V7(t.i)&&!t.m){t.m=!0;var e=t.Na;$0||_7(),F0||($0(),F0=!0),Mb.add(e,t),t.C=0}}function AQ(t,e){return U7(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$p(xr(t.Na,t,e),nD(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Vp(this,this.l,t);let i=this.s;if(this.U&&(i?(i=d7(i),h7(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=J7(this,s,e),n=Zo(this.I),Xt(n,"RID",t),Xt(n,"CVER",22),this.F&&Xt(n,"X-HTTP-Session-Id",this.F),Bp(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(K7(i)))+"&"+e:this.o&&Bb(n,this.o,i)),Ub(this.i,s),this.bb&&Xt(n,"TYPE","init"),this.P?(Xt(n,"$req",e),Xt(n,"SID","null"),s.aa=!0,W3(s,n,null)):W3(s,n,e),this.H=2}}else this.H==3&&(t?pk(this,t):this.j.length==0||V7(this.i)||pk(this))};function pk(t,e){var n;e?n=e.m:n=t.W++;const r=Zo(t.I);Xt(r,"SID",t.K),Xt(r,"RID",n),Xt(r,"AID",t.V),Bp(t,r),t.o&&t.s&&Bb(r,t.o,t.s),n=new Vp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=J7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ub(t.i,n),W3(n,r,e)}function Bp(t,e){t.na&&Rb(t.na,function(n,r){Xt(e,r,n)}),t.h&&L7({},function(n,r){Xt(e,r,n)})}function J7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?xr(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{CQ(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Z7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$0||_7(),F0||($0(),F0=!0),Mb.add(e,t),t.A=0}}function Hb(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$p(xr(t.Ma,t),nD(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,eD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$p(xr(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dr(10),Vv(this),eD(this))};function Gb(t){t.B!=null&&(He.clearTimeout(t.B),t.B=null)}function eD(t){t.g=new Vp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zo(t.wa);Xt(e,"RID","rpc"),Xt(e,"SID",t.K),Xt(e,"AID",t.V),Xt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Xt(e,"TO",t.qa),Xt(e,"TYPE","xmlhttp"),Bp(t,e),t.o&&t.s&&Bb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ov(Zo(e)),n.u=null,n.S=!0,A7(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,Vv(this),Hb(this),Dr(19))};function Jg(t){t.v!=null&&(He.clearTimeout(t.v),t.v=null)}function tD(t,e){var n=null;if(t.g==e){Jg(t),Gb(t),t.g=null;var r=2}else if(G3(t.i,e))n=e.F,z7(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Nv(),cr(r,new I7(r,n)),Uv(t)}else Z7(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&AQ(t,e)||r==2&&Hb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:rc(t,5);break;case 4:rc(t,10);break;case 3:rc(t,6);break;default:rc(t,2)}}}function nD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rc(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=xr(t.pb,t);n||(n=new pc("//www.google.com/images/cleardot.gif"),He.location&&He.location.protocol=="http"||Qg(n,"https"),Ov(n)),bQ(n.toString(),r)}else Dr(2);t.H=0,t.h&&t.h.za(e),rD(t),X7(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dr(2)):(this.l.info("Failed to ping google.com"),Dr(1))};function rD(t){if(t.H=0,t.ma=[],t.h){const e=B7(t.i);(e.length!=0||t.j.length!=0)&&(sk(t.ma,e),sk(t.ma,t.j),t.i.i.length=0,Sb(t.j),t.j.length=0),t.h.ya()}}function sD(t,e,n){var r=n instanceof pc?Zo(n):new pc(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xg(r,r.m);else{var s=He.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new pc(null);r&&Qg(i,r),e&&(i.g=e),s&&Xg(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Xt(r,n,e),Xt(r,"VER",t.ra),Bp(t,r),r}function iD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new En(new jv({ob:n})):new En(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function oD(){}ce=oD.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function Zg(){if(Ld&&!(10<=Number(BK)))throw Error("Environmental error: no available transport.")}Zg.prototype.g=function(t,e){return new Is(t,e)};function Is(t,e){Jn.call(this),this.g=new Q7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!O0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O0(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gh(this)}Zn(Is,Jn);Is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sD(t,null,t.Y),Uv(t)};Is.prototype.close=function(){Wb(this.g)};Is.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lb(t),t=n);e.j.push(new _Q(e.fb++,t)),e.H==3&&Uv(e)};Is.prototype.N=function(){this.g.h=null,delete this.j,Wb(this.g),delete this.g,Is.$.N.call(this)};function aD(t){Fb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Zn(aD,Fb);function lD(){Vb.call(this),this.status=1}Zn(lD,Vb);function gh(t){this.g=t}Zn(gh,oD);gh.prototype.Ba=function(){cr(this.g,"a")};gh.prototype.Aa=function(t){cr(this.g,new aD(t))};gh.prototype.za=function(t){cr(this.g,new lD)};gh.prototype.ya=function(){cr(this.g,"b")};function PQ(){this.blockSize=-1}function Ai(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Zn(Ai,PQ);Ai.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Ai.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Mw(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Mw(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Mw(this,r),s=0;break}}this.h=s,this.i+=e};Ai.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function $t(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var NQ={};function qb(t){return-128<=t&&128>t?VK(t,function(e){return new $t([e|0],0>e?-1:0)}):new $t([t|0],0>t?-1:0)}function Ki(t){if(isNaN(t)||!isFinite(t))return cd;if(0>t)return sr(Ki(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=q3;return new $t(e,0)}function cD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return sr(cD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ki(Math.pow(e,8)),r=cd,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Ki(Math.pow(e,i)),r=r.R(i).add(Ki(o))):(r=r.R(n),r=r.add(Ki(o)))}return r}var q3=4294967296,cd=qb(0),Y3=qb(1),mk=qb(16777216);ce=$t.prototype;ce.ea=function(){if(zs(this))return-sr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:q3+r)*e,e*=q3}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Oo(this))return"0";if(zs(this))return"-"+sr(this).toString(t);for(var e=Ki(Math.pow(t,6)),n=this,r="";;){var s=t1(n,e).g;n=e1(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Oo(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Oo(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zs(t){return t.h==-1}ce.X=function(t){return t=e1(this,t),zs(t)?-1:Oo(t)?0:1};function sr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $t(n,~t.h).add(Y3)}ce.abs=function(){return zs(this)?sr(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new $t(n,n[n.length-1]&-2147483648?-1:0)};function e1(t,e){return t.add(sr(e))}ce.R=function(t){if(Oo(this)||Oo(t))return cd;if(zs(this))return zs(t)?sr(this).R(sr(t)):sr(sr(this).R(t));if(zs(t))return sr(this.R(sr(t)));if(0>this.X(mk)&&0>t.X(mk))return Ki(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Qm(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Qm(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Qm(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Qm(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $t(n,0)};function Qm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xh(t,e){this.g=t,this.h=e}function t1(t,e){if(Oo(e))throw Error("division by zero");if(Oo(t))return new Xh(cd,cd);if(zs(t))return e=t1(sr(t),e),new Xh(sr(e.g),sr(e.h));if(zs(e))return e=t1(t,sr(e)),new Xh(sr(e.g),e.h);if(30<t.g.length){if(zs(t)||zs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Y3,r=e;0>=r.X(t);)n=gk(n),r=gk(r);var s=yu(n,1),i=yu(r,1);for(r=yu(r,2),n=yu(n,2);!Oo(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=yu(r,1),n=yu(n,1)}return e=e1(t,s.R(e)),new Xh(s,e)}for(s=cd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ki(n),o=i.R(e);zs(o)||0<o.X(t);)n-=r,i=Ki(n),o=i.R(e);Oo(i)&&(i=Y3),s=s.add(i),t=e1(t,o)}return new Xh(s,t)}ce.gb=function(t){return t1(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $t(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $t(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $t(n,this.h^t.h)};function gk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $t(n,t.h)}function yu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new $t(s,t.h)}Zg.prototype.createWebChannel=Zg.prototype.g;Is.prototype.send=Is.prototype.u;Is.prototype.open=Is.prototype.m;Is.prototype.close=Is.prototype.close;Dv.NO_ERROR=0;Dv.TIMEOUT=8;Dv.HTTP_ERROR=6;T7.COMPLETE="complete";S7.EventType=Fp;Fp.OPEN="a";Fp.CLOSE="b";Fp.ERROR="c";Fp.MESSAGE="d";Jn.prototype.listen=Jn.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Ai.prototype.digest=Ai.prototype.l;Ai.prototype.reset=Ai.prototype.reset;Ai.prototype.update=Ai.prototype.j;$t.prototype.add=$t.prototype.add;$t.prototype.multiply=$t.prototype.R;$t.prototype.modulo=$t.prototype.gb;$t.prototype.compare=$t.prototype.X;$t.prototype.toNumber=$t.prototype.ea;$t.prototype.toString=$t.prototype.toString;$t.prototype.getBits=$t.prototype.D;$t.fromNumber=Ki;$t.fromString=cD;var DQ=function(){return new Zg},LQ=function(){return Nv()},Ow=Dv,MQ=T7,OQ=tu,vk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xm=S7,jQ=En,$Q=Ai,ud=$t;const yk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Ap("@firebase/firestore");function Nu(){return Pc.logLevel}function Q(t,...e){if(Pc.logLevel<=tt.DEBUG){const n=e.map(Yb);Pc.debug(`Firestore (${vh}): ${t}`,...n)}}function Pr(t,...e){if(Pc.logLevel<=tt.ERROR){const n=e.map(Yb);Pc.error(`Firestore (${vh}): ${t}`,...n)}}function Nc(t,...e){if(Pc.logLevel<=tt.WARN){const n=e.map(Yb);Pc.warn(`Firestore (${vh}): ${t}`,...n)}}function Yb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${vh}) INTERNAL ASSERTION FAILED: `+t;throw Pr(e),new Error(e)}function Pe(t,e){t||be()}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ar.UNAUTHENTICATED))}shutdown(){}}class UQ{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new FQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Ar(e)}}class zQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new WQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=GQ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Md(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function dD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new dn(0,0))}static max(){return new Le(new dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return W0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof W0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Rt extends W0{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const qQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends W0{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return qQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new re(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new re(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Rt.fromString(e))}static fromName(e){return new ae(Rt.fromString(e).popFirst(5))}static empty(){return new ae(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function K3(t){return t.fields.find(e=>e.kind===2)}function Bl(t){return t.fields.filter(e=>e.kind!==2)}n1.UNKNOWN_ID=-1;class V2{constructor(e,n){this.fieldPath=e,this.kind=n}}class H0{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new H0(0,Ts.min())}}function YQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new Ts(s,ae.empty(),e)}function hD(t){return new Ts(t.readTime,t.key,-1)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(Le.min(),ae.empty(),-1)}static max(){return new Ts(Le.max(),ae.empty(),-1)}}function Kb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==fD)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new qs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Kf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Qb(r.target.error);this.V.reject(new Kf(e,s))}}static open(e,n,r,s){try{return new zv(n,e.transaction(s,r))}catch(i){throw new Kf(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new QQ(n)}}class Qi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Qi.S(It())===12.2&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),ql(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!v8())return!1;if(Qi.C())return!0;const e=It(),n=Qi.S(e),r=0<n&&n<10,s=Qi.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Kf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new re(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new re(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Kf(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=zv.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class KQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ql(this.k.delete())}}class Kf extends re{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Nl(t){return t.name==="IndexedDbTransactionError"}class QQ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ql(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),ql(this.store.add(e))}get(e){return ql(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),ql(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),ql(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new z((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new z((r,s)=>{n.onerror=i=>{const o=Qb(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new z((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new KQ(a),c=n(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(h=>(l.done(),z.reject(h)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ql(t){return new z((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Qb(r.target.error);n(s)}})}let _k=!1;function Qb(t){const e=Qi.S(It());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _k||(_k=!0,setTimeout(()=>{throw r},0)),r}}return t}class XQ{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){Q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Q("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Nl(n)?Q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await nu(n)}await this.ee(6e4)})}}class JQ{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let s=n,i=!0;return z.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Q("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(s,i)).next(a=>(Q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=hD(i);Kb(o,r)>0&&(r=o)}),new Ts(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ws._e=-1;function Bv(t){return t==null}function G0(t){return t===0&&1/t==-1/0}function ZQ(t){return typeof t=="number"&&Number.isInteger(t)&&!G0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wk(e)),e=eX(t.get(n),e);return wk(e)}function eX(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function wk(t){return t+""}function Xi(t){const e=t.length;if(Pe(e>=2),e===2)return Pe(t.charAt(0)===""&&t.charAt(1)===""),Rt.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&be(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:be()}i=o+2}return new Rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e){return[t,jr(e)]}function mD(t,e,n){return[t,jr(e),n]}const tX={},nX=["prefixPath","collectionGroup","readTime","documentId"],rX=["prefixPath","collectionGroup","documentId"],sX=["collectionGroup","readTime","prefixPath","documentId"],iX=["canonicalId","targetId"],oX=["targetId","path"],aX=["path","targetId"],lX=["collectionId","parent"],cX=["indexId","uid"],uX=["uid","sequenceNumber"],dX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hX=["indexId","uid","orderedDocumentKey"],fX=["userId","collectionPath","documentId"],pX=["userId","collectionPath","largestBatchId"],mX=["userId","collectionGroup","largestBatchId"],gD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gX=[...gD,"documentOverlays"],vD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yD=vD,vX=[...yD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3 extends pD{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function er(t,e){const n=ze(t);return Qi.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ru(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _D(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kn=class X3{constructor(e,n){this.comparator=e,this.root=n||ll.EMPTY}insert(e,n){return new X3(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ll.BLACK,null,null))}remove(e){return new X3(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ll.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}},Jm=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ll=class bo{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bo.RED,this.left=s??bo.EMPTY,this.right=i??bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new bo(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bo.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}};ll.EMPTY=null,ll.RED=!0,ll.BLACK=!1;ll.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ll(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ck(this.data.getIterator())}getIteratorFrom(e){return new Ck(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Ck{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _u(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new Ut(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Md(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wD("Invalid base64 string: "+i):i}}(e);return new dr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const yX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=yX.exec(t);if(Pe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ml(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xb(t){const e=t.mapValue.fields.__previous_value__;return Wv(e)?Xb(e):e}function q0(t){const e=pl(t.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Dc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},z2={nullValue:"NULL_VALUE"};function Lc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wv(t)?4:xD(t)?9007199254740991:10:be()}function ao(t,e){if(t===e)return!0;const n=Lc(t);if(n!==Lc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q0(t).isEqual(q0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=pl(s.timestampValue),a=pl(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ml(s.bytesValue).isEqual(ml(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return _n(s.geoPointValue.latitude)===_n(i.geoPointValue.latitude)&&_n(s.geoPointValue.longitude)===_n(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return _n(s.integerValue)===_n(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=_n(s.doubleValue),a=_n(i.doubleValue);return o===a?G0(o)===G0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Md(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ek(o)!==Ek(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ao(o[l],a[l])))return!1;return!0}(t,e);default:return be()}}function Y0(t,e){return(t.values||[]).find(n=>ao(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=Lc(t),r=Lc(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=_n(i.integerValue||i.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bk(t.timestampValue,e.timestampValue);case 4:return bk(q0(t),q0(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ml(i),l=ml(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ke(a[c],l[c]);if(u!==0)return u}return Ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ke(_n(i.latitude),_n(o.latitude));return a!==0?a:Ke(_n(i.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=gl(a[c],l[c]);if(u)return u}return Ke(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ha.mapValue&&o===Ha.mapValue)return 0;if(i===Ha.mapValue)return 1;if(o===Ha.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Ke(l[h],u[h]);if(f!==0)return f;const p=gl(a[l[h]],c[u[h]]);if(p!==0)return p}return Ke(l.length,u.length)}(t.mapValue,e.mapValue);default:throw be()}}function bk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=pl(t),r=pl(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function Od(t){return J3(t)}function J3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ml(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=J3(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${J3(n.fields[o])}`;return s+"}"}(t.mapValue):be()}function Mc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z3(t){return!!t&&"integerValue"in t}function K0(t){return!!t&&"arrayValue"in t}function Ik(t){return!!t&&"nullValue"in t}function Tk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function B2(t){return!!t&&"mapValue"in t}function Qf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ru(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function wX(t){return"nullValue"in t?z2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Mc(Dc.empty(),ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:be()}function xX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Mc(Dc.empty(),ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ha:be()}function Sk(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function kk(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!B2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qf(n)}setAll(e){let n=cn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qf(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());B2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];B2(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ru(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yr(Qf(this.value))}}function ED(t){const e=[];return ru(t.fields,(n,r)=>{const s=new cn([n]);if(B2(r)){const i=ED(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Le.min(),Le.min(),Le.min(),yr.empty(),0)}static newFoundDocument(e,n,r,s){return new wn(e,1,n,Le.min(),r,s,0)}static newNoDocument(e,n){return new wn(e,2,n,Le.min(),Le.min(),yr.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Le.min(),Le.min(),yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.position=e,this.inclusive=n}}function Rk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=gl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ak(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ao(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n="asc"){this.field=e,this.dir=n}}function EX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{}class pt extends CD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CX(e,n,r):n==="array-contains"?new TX(e,r):n==="in"?new RD(e,r):n==="not-in"?new SX(e,r):n==="array-contains-any"?new kX(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bX(e,r):new IX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&Lc(this.value)===Lc(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ot extends CD{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ot(e,n)}matches(e){return jd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jd(t){return t.op==="and"}function eE(t){return t.op==="or"}function Jb(t){return bD(t)&&jd(t)}function bD(t){for(const e of t.filters)if(e instanceof Ot)return!1;return!0}function tE(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Od(t.value);if(Jb(t))return t.filters.map(e=>tE(e)).join(",");{const e=t.filters.map(n=>tE(n)).join(",");return`${t.op}(${e})`}}function ID(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&ao(r.value,s.value)}(t,e):t instanceof Ot?function(r,s){return s instanceof Ot&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ID(o,s.filters[a]),!0):!1}(t,e):void be()}function TD(t,e){const n=t.filters.concat(e);return Ot.create(n,t.op)}function SD(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Od(n.value)}`}(t):t instanceof Ot?function(n){return n.op.toString()+" {"+n.getFilters().map(SD).join(" ,")+"}"}(t):"Filter"}class CX extends pt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class bX extends pt{constructor(e,n){super(e,"in",n),this.keys=kD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IX extends pt{constructor(e,n){super(e,"not-in",n),this.keys=kD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class TX extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K0(n)&&Y0(n.arrayValue,this.value)}}class RD extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Y0(this.value.arrayValue,n)}}class SX extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Y0(this.value.arrayValue,n)}}class kX extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Y0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function nE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new RX(t,e,n,r,s,i,o)}function Oc(t){const e=ze(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Od(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Od(r)).join(",")),e.ce=n}return e.ce}function Wp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ID(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ak(t.startAt,e.startAt)&&Ak(t.endAt,e.endAt)}function r1(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function s1(t,e){return t.filters.filter(n=>n instanceof pt&&n.field.isEqual(e))}function Pk(t,e,n){let r=z2,s=!0;for(const i of s1(t,e)){let o=z2,a=!0;switch(i.op){case"<":case"<=":o=wX(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=z2}Sk({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];Sk({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function Nk(t,e,n){let r=Ha,s=!0;for(const i of s1(t,e)){let o=Ha,a=!0;switch(i.op){case">=":case">":o=xX(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Ha}kk({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];kk({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function AX(t,e,n,r,s,i,o,a){return new su(t,e,n,r,s,i,o,a)}function Hp(t){return new su(t)}function Dk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zb(t){return t.collectionGroup!==null}function dd(t){const e=ze(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(cn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Q0(i,r))}),n.has(cn.keyField().canonicalString())||e.le.push(new Q0(cn.keyField(),r))}return e.le}function Ys(t){const e=ze(t);return e.he||(e.he=AD(e,dd(t))),e.he}function AD(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Q0(s.field,i)});const n=t.endAt?new vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vl(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rE(t,e){const n=t.filters.concat([e]);return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i1(t,e,n){return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hv(t,e){return Wp(Ys(t),Ys(e))&&t.limitType===e.limitType}function PD(t){return`${Oc(Ys(t))}|lt:${t.limitType}`}function Du(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>SD(s)).join(", ")}]`),Bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Od(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Od(s)).join(",")),`Target(${r})`}(Ys(t))}; limitType=${t.limitType})`}function Gp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of dd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Rk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,dd(r),s)||r.endAt&&!function(o,a,l){const c=Rk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,dd(r),s))}(t,e)}function PX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ND(t){return(e,n)=>{let r=!1;for(const s of dd(t)){const i=NX(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function NX(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?gl(l,c):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ru(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return _D(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=new kn(ae.comparator);function _s(){return DX}const DD=new kn(ae.comparator);function kf(...t){let e=DD;for(const n of t)e=e.insert(n.key,n);return e}function LD(t){let e=DD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return Xf()}function MD(){return Xf()}function Xf(){return new Dl(t=>t.toString(),(t,e)=>t.isEqual(e))}const LX=new kn(ae.comparator),MX=new Ut(ae.comparator);function st(...t){let e=MX;for(const n of t)e=e.add(n);return e}const OX=new Ut(Ke);function jX(){return OX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G0(e)?"-0":e}}function jD(t){return{integerValue:""+t}}function $X(t,e){return ZQ(e)?jD(e):OD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this._=void 0}}function FX(t,e,n){return t instanceof $d?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Wv(i)&&(i=Xb(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof jc?FD(t,e):t instanceof Fd?VD(t,e):function(s,i){const o=$D(s,i),a=Lk(o)+Lk(s.Ie);return Z3(o)&&Z3(s.Ie)?jD(a):OD(s.serializer,a)}(t,e)}function VX(t,e,n){return t instanceof jc?FD(t,e):t instanceof Fd?VD(t,e):n}function $D(t,e){return t instanceof X0?function(r){return Z3(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class $d extends Gv{}class jc extends Gv{constructor(e){super(),this.elements=e}}function FD(t,e){const n=UD(e);for(const r of t.elements)n.some(s=>ao(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends Gv{constructor(e){super(),this.elements=e}}function VD(t,e){let n=UD(e);for(const r of t.elements)n=n.filter(s=>!ao(s,r));return{arrayValue:{values:n}}}class X0 extends Gv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Lk(t){return _n(t.integerValue||t.doubleValue)}function UD(t){return K0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.field=e,this.transform=n}}function UX(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jc&&s instanceof jc||r instanceof Fd&&s instanceof Fd?Md(r.elements,s.elements,ao):r instanceof X0&&s instanceof X0?ao(r.Ie,s.Ie):r instanceof $d&&s instanceof $d}(t.transform,e.transform)}class zX{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qv{}function zD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yv(t.key,_r.none()):new yh(t.key,t.data,_r.none());{const n=t.data,r=yr.empty();let s=new Ut(cn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new pa(t.key,r,new Kr(s.toArray()),_r.none())}}function BX(t,e,n){t instanceof yh?function(s,i,o){const a=s.value.clone(),l=Ok(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(s,i,o){if(!W2(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Ok(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(BD(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jf(t,e,n,r){return t instanceof yh?function(i,o,a,l){if(!W2(i.precondition,o))return a;const c=i.value.clone(),u=jk(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(i,o,a,l){if(!W2(i.precondition,o))return a;const c=jk(i.fieldTransforms,l,o),u=o.data;return u.setAll(BD(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return W2(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WX(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$D(r.transform,s||null);i!=null&&(n===null&&(n=yr.empty()),n.set(r.field,i))}return n||null}function Mk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Md(r,s,(i,o)=>UX(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yh extends qv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pa extends qv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ok(t,e,n){const r=new Map;Pe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,VX(o,a,n[s]))}return r}function jk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,FX(i,o,e))}return r}class Yv extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WD extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&BX(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MD();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zD(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Md(this.mutations,e.mutations,(n,r)=>Mk(n,r))&&Md(this.baseMutations,e.baseMutations,(n,r)=>Mk(n,r))}}class n5{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length);let s=function(){return LX}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new n5(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,wt;function qX(t){switch(t){default:return be();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function HD(t){if(t===void 0)return Pr("GRPC error has no .code"),G.UNKNOWN;switch(t){case Nn.OK:return G.OK;case Nn.CANCELLED:return G.CANCELLED;case Nn.UNKNOWN:return G.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return G.INTERNAL;case Nn.UNAVAILABLE:return G.UNAVAILABLE;case Nn.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Nn.NOT_FOUND:return G.NOT_FOUND;case Nn.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Nn.ABORTED:return G.ABORTED;case Nn.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Nn.DATA_LOSS:return G.DATA_LOSS;default:return be()}}(wt=Nn||(Nn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX=new ud([4294967295,4294967295],0);function $k(t){const e=YX().encode(t),n=new $Q;return n.update(e),new Uint8Array(n.digest())}function Fk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ud([n,r],0),new ud([s,i],0)]}class s5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rf(`Invalid padding: ${n}`);if(r<0)throw new Rf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ud.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(ud.fromNumber(r)));return s.compare(KX)===1&&(s=new ud([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=$k(e),[r,s]=Fk(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new s5(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=$k(e),[r,s]=Fk(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kv(Le.min(),s,new kn(Ke),_s(),st())}}class qp{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qp(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class GD{constructor(e,n){this.targetId=e,this.fe=n}}class qD{constructor(e,n,r=dr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Vk{constructor(){this.ge=0,this.pe=zk(),this.ye=dr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),n=st(),r=st();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new qp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=zk()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Pe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class QX{constructor(e){this.Be=e,this.ke=new Map,this.qe=_s(),this.Qe=Uk(),this.Ke=new kn(Ke)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(r1(i))if(r===0){const o=new ae(i.path);this.We(n,o,wn.newNoDocument(o,Le.min()))}else Pe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ml(r).toUint8Array()}catch(l){if(l instanceof wD)return Nc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new s5(o,s,i)}catch(l){return Nc(l instanceof Rf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&r1(a.target)){const l=new ae(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,wn.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=st();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Kv(e,n,this.Ke,this.qe,r);return this.qe=_s(),this.Qe=Uk(),this.Ke=new kn(Ke),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Vk,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ut(Ke),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Vk),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Uk(){return new kn(ae.comparator)}function zk(){return new kn(ae.comparator)}const XX={asc:"ASCENDING",desc:"DESCENDING"},JX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZX={and:"AND",or:"OR"};class eJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sE(t,e){return t.useProto3Json||Bv(e)?e:{value:e}}function Vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tJ(t,e){return Vd(t,e.toTimestamp())}function $r(t){return Pe(!!t),Le.fromTimestamp(function(n){const r=pl(n);return new dn(r.seconds,r.nanos)}(t))}function i5(t,e){return iE(t,e).canonicalString()}function iE(t,e){const n=function(s){return new Rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KD(t){const e=Rt.fromString(t);return Pe(rL(e)),e}function o1(t,e){return i5(t.databaseId,e.path)}function mc(t,e){const n=KD(e);if(n.get(1)!==t.databaseId.projectId)throw new re(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(JD(n))}function QD(t,e){return i5(t.databaseId,e)}function XD(t){const e=KD(t);return e.length===4?Rt.emptyPath():JD(e)}function oE(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JD(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bk(t,e,n){return{name:o1(t,e),fields:n.value.mapValue.fields}}function nJ(t,e,n){const r=mc(t,e.name),s=$r(e.updateTime),i=e.createTime?$r(e.createTime):Le.min(),o=new yr({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function rJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Pe(u===void 0||typeof u=="string"),dr.fromBase64String(u||"")):(Pe(u===void 0||u instanceof Uint8Array),dr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?G.UNKNOWN:HD(c.code);return new re(u,c.message||"")}(o);n=new qD(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mc(t,r.document.name),i=$r(r.document.updateTime),o=r.document.createTime?$r(r.document.createTime):Le.min(),a=new yr({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new H2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mc(t,r.document),i=r.readTime?$r(r.readTime):Le.min(),o=wn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new H2([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mc(t,r.document),i=r.removedTargetIds||[];n=new H2([],i,s,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new GX(s,i),a=r.targetId;n=new GD(a,o)}}return n}function a1(t,e){let n;if(e instanceof yh)n={update:Bk(t,e.key,e.value)};else if(e instanceof Yv)n={delete:o1(t,e.key)};else if(e instanceof pa)n={update:Bk(t,e.key,e.data),updateMask:cJ(e.fieldMask)};else{if(!(e instanceof WD))return be();n={verify:o1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof $d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof X0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:tJ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:be()}(t,e.precondition)),n}function aE(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?_r.updateTime($r(i.updateTime)):i.exists!==void 0?_r.exists(i.exists):_r.none()}(e.currentDocument):_r.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)Pe(a.setToServerValue==="REQUEST_TIME"),l=new $d;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new jc(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Fd(u)}else"increment"in a?l=new X0(o,a.increment):be();const c=cn.fromServerFormat(a.fieldPath);return new e5(c,l)}(t,s)):[];if(e.update){e.update.name;const s=mc(t,e.update.name),i=new yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Kr(c.map(u=>cn.fromServerFormat(u)))}(e.updateMask);return new pa(s,i,o,n,r)}return new yh(s,i,n,r)}if(e.delete){const s=mc(t,e.delete);return new Yv(s,n)}if(e.verify){const s=mc(t,e.verify);return new WD(s,n)}return be()}function sJ(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?$r(s.updateTime):$r(i);return o.isEqual(Le.min())&&(o=$r(i)),new zX(o,s.transformResults||[])}(n,e))):[]}function ZD(t,e){return{documents:[QD(t,e.path)]}}function o5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QD(t,s);const i=function(c){if(c.length!==0)return nL(Ot.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:$a(f.field),direction:oJ(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function eL(t){let e=XD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=tL(h);return f instanceof Ot&&Jb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Q0(Lu(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Bv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new vl(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new vl(p,f)}(n.endAt)),AX(e,s,o,i,a,"F",l,c)}function iJ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Lu(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lu(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lu(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Lu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ot.create(n.compositeFilter.filters.map(r=>tL(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function oJ(t){return XX[t]}function aJ(t){return JX[t]}function lJ(t){return ZX[t]}function $a(t){return{fieldPath:t.canonicalString()}}function Lu(t){return cn.fromServerFormat(t.fieldPath)}function nL(t){return t instanceof pt?function(n){if(n.op==="=="){if(Tk(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(Ik(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tk(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(Ik(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:aJ(n.op),value:n.value}}}(t):t instanceof Ot?function(n){const r=n.getFilters().map(s=>nL(s));return r.length===1?r[0]:{compositeFilter:{op:lJ(n.op),filters:r}}}(t):be()}function cJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r,s,i=Le.min(),o=Le.min(),a=dr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.ct=e}}function uJ(t,e){let n;if(e.document)n=nJ(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ae.fromSegments(e.noDocument.path),s=Fc(e.noDocument.readTime);n=wn.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return be();{const r=ae.fromSegments(e.unknownDocument.path),s=Fc(e.unknownDocument.version);n=wn.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new dn(s[0],s[1]);return Le.fromTimestamp(i)}(e.readTime)),n}function Wk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:l1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:o1(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Vd(i,o.version.toTimestamp()),createTime:Vd(i,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$c(e.version)};else{if(!e.isUnknownDocument())return be();r.unknownDocument={path:n.path.toArray(),version:$c(e.version)}}return r}function l1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $c(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fc(t){const e=new dn(t.seconds,t.nanoseconds);return Le.fromTimestamp(e)}function Yl(t,e){const n=(e.baseMutations||[]).map(i=>aE(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>aE(t.ct,i)),s=dn.fromMillis(e.localWriteTimeMs);return new t5(e.batchId,s,n,r)}function Af(t){const e=Fc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Fc(t.lastLimboFreeSnapshotVersion):Le.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return Pe(i.documents.length===1),Ys(Hp(XD(i.documents[0])))}(t.query):function(i){return Ys(eL(i))}(t.query),new jo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,dr.fromBase64String(t.resumeToken))}function iL(t,e){const n=$c(e.snapshotVersion),r=$c(e.lastLimboFreeSnapshotVersion);let s;s=r1(e.target)?ZD(t.ct,e.target):o5(t.ct,e.target).ut;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function oL(t){const e=eL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i1(e,e.limit,"L"):e}function jw(t,e){return new r5(e.largestBatchId,aE(t.ct,e.overlayMutation))}function Hk(t,e){const n=e.path.lastSegment();return[t,jr(e.path.popLast()),n]}function Gk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:$c(r.readTime),documentKey:jr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{getBundleMetadata(e,n){return qk(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Fc(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return qk(e).put(function(s){return{bundleId:s.id,createTime:$c($r(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return Yk(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:oL(i.bundledQuery),readTime:Fc(i.readTime)}}(r)})}saveNamedQuery(e,n){return Yk(e).put(function(s){return{name:s.name,readTime:$c($r(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function qk(t){return er(t,"bundles")}function Yk(t){return er(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Qv(e,r)}getOverlay(e,n){return Jh(e).get(Hk(this.userId,n)).next(r=>r?jw(this.serializer,r):null)}getOverlays(e,n){const r=Ji();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new r5(n,o);s.push(this.ht(e,a))}),z.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(jr(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Jh(e).H("collectionPathOverlayIndex",a))}),z.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ji(),i=jr(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Jh(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=jw(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Ji();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Jh(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const h=jw(this.serializer,c);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):u.done()}).next(()=>i)}ht(e,n){return Jh(e).put(function(s,i,o){const[a,l,c]=Hk(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:a1(s.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Jh(t){return er(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(_n(e.integerValue));else if("doubleValue"in e){const r=_n(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),G0(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ml(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?xD(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):be()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const s of Object.keys(r))this.Rt(s,n),this.It(r[s],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const s of r)this.It(s,n)}gt(e,n){this.Et(n,37),ae.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Kl.bt=new Kl;function hJ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Kk(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=hJ(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class fJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const s=n.codePointAt(0);this.Ct(240|s>>>18),this.Ct(128|63&s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const s=n.codePointAt(0);this.Mt(240|s>>>18),this.Mt(128|63&s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s)}}this.xt()}Lt(e){const n=this.Bt(e),r=Kk(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}qt(e){const n=this.Bt(e),r=Kk(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class pJ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class mJ{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Zh{constructor(){this.Gt=new fJ,this.zt=new pJ(this.Gt),this.jt=new mJ(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,r)}}function Ia(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Qk(t.arrayValue,e.arrayValue),n!==0?n:(n=Qk(t.directionalValue,e.directionalValue),n!==0?n:ae.comparator(t.documentKey,e.documentKey)))}function Qk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.Yt=new Ut((n,r)=>cn.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Pe(e.collectionGroup===this.collectionId),this.en)return!1;const n=K3(e);if(n!==void 0&&!this.nn(n))return!1;const r=Bl(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.nn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Ut(cn.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new V2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new V2(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new V2(r.field,r.dir==="asc"?0:1)));return new n1(n1.UNKNOWN_ID,this.collectionId,n,H0.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){var e,n;if(Pe(t instanceof pt||t instanceof Ot),t instanceof pt){if(t instanceof RD){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>pt.create(t.field,"==",i)))||[];return Ot.create(s,"or")}return t}const r=t.filters.map(s=>aL(s));return Ot.create(r,t.op)}function gJ(t){if(t.getFilters().length===0)return[];const e=uE(aL(t));return Pe(lL(e)),lE(e)||cE(e)?[e]:e.getFilters()}function lE(t){return t instanceof pt}function cE(t){return t instanceof Ot&&Jb(t)}function lL(t){return lE(t)||cE(t)||function(n){if(n instanceof Ot&&eE(n)){for(const r of n.getFilters())if(!lE(r)&&!cE(r))return!1;return!0}return!1}(t)}function uE(t){if(Pe(t instanceof pt||t instanceof Ot),t instanceof pt)return t;if(t.filters.length===1)return uE(t.filters[0]);const e=t.filters.map(r=>uE(r));let n=Ot.create(e,t.op);return n=c1(n),lL(n)?n:(Pe(n instanceof Ot),Pe(jd(n)),Pe(n.filters.length>1),n.filters.reduce((r,s)=>a5(r,s)))}function a5(t,e){let n;return Pe(t instanceof pt||t instanceof Ot),Pe(e instanceof pt||e instanceof Ot),n=t instanceof pt?e instanceof pt?function(s,i){return Ot.create([s,i],"and")}(t,e):Jk(t,e):e instanceof pt?Jk(e,t):function(s,i){if(Pe(s.filters.length>0&&i.filters.length>0),jd(s)&&jd(i))return TD(s,i.getFilters());const o=eE(s)?s:i,a=eE(s)?i:s,l=o.filters.map(c=>a5(c,a));return Ot.create(l,"or")}(t,e),c1(n)}function Jk(t,e){if(jd(e))return TD(e,t.getFilters());{const n=e.filters.map(r=>a5(t,r));return Ot.create(n,"or")}}function c1(t){if(Pe(t instanceof pt||t instanceof Ot),t instanceof pt)return t;const e=t.getFilters();if(e.length===1)return c1(e[0]);if(bD(t))return t;const n=e.map(s=>c1(s)),r=[];return n.forEach(s=>{s instanceof pt?r.push(s):s instanceof Ot&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Ot.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(){this._n=new l5}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Ts.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class l5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(Rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Uint8Array(0);class yJ{constructor(e,n){this.databaseId=n,this.an=new l5,this.un=new Dl(r=>Oc(r),(r,s)=>Wp(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const i={collectionId:r,parent:jr(s)};return Zk(e).put(i)}return z.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[dD(n),""],!1,!0);return Zk(e).W(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Xi(o.parent))}return r})}addFieldIndex(e,n){const r=ef(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=xu(e);return i.next(a=>{o.put(Gk(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=ef(e),s=xu(e),i=wu(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ef(e),r=wu(e),s=xu(e);return n.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,n){return z.forEach(this.cn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new Xk(r).on();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=wu(e);let s=!0;const i=new Map;return z.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=st();const a=[];return z.forEach(i,(l,c)=>{Q("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${Oc(n)}`);const u=function(_,x){const b=K3(x);if(b===void 0)return null;for(const C of s1(_,b.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(c,l),h=function(_,x){const b=new Map;for(const C of Bl(x))for(const T of s1(_,C.fieldPath))switch(T.op){case"==":case"in":b.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return b.set(C.fieldPath.canonicalString(),T.value),Array.from(b.values())}return null}(c,l),f=function(_,x){const b=[];let C=!0;for(const T of Bl(x)){const I=T.kind===0?Pk(_,T.fieldPath,_.startAt):Nk(_,T.fieldPath,_.startAt);b.push(I.value),C&&(C=I.inclusive)}return new vl(b,C)}(c,l),p=function(_,x){const b=[];let C=!0;for(const T of Bl(x)){const I=T.kind===0?Nk(_,T.fieldPath,_.endAt):Pk(_,T.fieldPath,_.endAt);b.push(I.value),C&&(C=I.inclusive)}return new vl(b,C)}(c,l),m=this.hn(l,c,f),g=this.hn(l,c,p),E=this.Pn(l,c,h),y=this.In(l.indexId,u,m,f.inclusive,g,p.inclusive,E);return z.forEach(y,w=>r.j(w,n.limit).next(_=>{_.forEach(x=>{const b=ae.fromSegments(x.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=gJ(Ot.create(e.filters,"and")).map(r=>nE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),u=[];for(let h=0;h<l;++h){const f=n?this.Tn(n[h/c]):Zm,p=this.En(e,f,r[h%c],s),m=this.dn(e,f,i[h%c],o),g=a.map(E=>this.En(e,f,E,!0));u.push(...this.createRange(p,m,g))}return u}En(e,n,r,s){const i=new Ql(e,ae.empty(),n,r);return s?i:i.Jt()}dn(e,n,r,s){const i=new Ql(e,ae.empty(),n,r);return s?i.Jt():i}ln(e,n){const r=new Xk(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.cn(n);return z.forEach(s,i=>this.ln(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Ut(cn.comparator),u=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}An(e,n){const r=new Zh;for(const s of Bl(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Ht(s.kind);Kl.bt.Pt(i,o)}return r.Wt()}Tn(e){const n=new Zh;return Kl.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Zh;return Kl.bt.Pt(Mc(this.databaseId,n),r.Ht(function(i){const o=Bl(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let s=[];s.push(new Zh);let i=0;for(const o of Bl(e)){const a=r[i++];for(const l of s)if(this.Vn(n,o.fieldPath)&&K0(a))s=this.mn(s,o,a);else{const c=l.Ht(o.kind);Kl.bt.Pt(a,c)}}return this.fn(s)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new Zh;l.seed(a.Wt()),Kl.bt.Pt(o,l.Ht(n.kind)),i.push(l)}return i}Vn(e,n){return!!e.filters.find(r=>r instanceof pt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ef(e),s=xu(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(i=>{const o=[];return z.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(u,h){const f=h?new H0(h.sequenceNumber,new Ts(Fc(h.readTime),new ae(Xi(h.documentKey)),h.largestBatchId)):H0.empty(),p=u.fields.map(([m,g])=>new V2(cn.fromServerFormat(m),g));return new n1(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=ef(e),i=xu(e);return this.gn(e).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,l=>i.put(Gk(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),z.forEach(a,l=>this.pn(e,s,l).next(c=>{const u=this.yn(i,l);return c.isEqual(u)?z.resolve():this.wn(e,i,l,c,u)}))))})}Sn(e,n,r,s){return wu(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,s){return wu(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const s=wu(e);let i=new Ut(Ia);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{i=i.add(new Ql(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}yn(e,n){let r=new Ut(Ia);const s=this.An(n,e);if(s==null)return r;const i=K3(n);if(i!=null){const o=e.data.field(i.fieldPath);if(K0(o))for(const a of o.arrayValue.values||[])r=r.add(new Ql(n.indexId,e.key,this.Tn(a),s))}else r=r.add(new Ql(n.indexId,e.key,Zm,s));return r}wn(e,n,r,s,i){Q("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,h,f){const p=l.getIterator(),m=c.getIterator();let g=_u(p),E=_u(m);for(;g||E;){let y=!1,w=!1;if(g&&E){const _=u(g,E);_<0?w=!0:_>0&&(y=!0)}else g!=null?w=!0:y=!0;y?(h(E),E=_u(m)):w?(f(g),g=_u(p)):(g=_u(p),E=_u(m))}}(s,i,Ia,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),z.waitFor(o)}gn(e){let n=1;return xu(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ia(o,a)).filter((o,a,l)=>!a||Ia(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Ia(o,e),l=Ia(o,n);if(a===0)s[0]=e.Jt();else if(a>0&&l<0)s.push(o),s.push(o.Jt());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Dn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,Zm,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,Zm,[]];i.push(IDBKeyRange.bound(a,l))}return i}Dn(e,n){return Ia(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(eR)}getMinOffset(e,n){return z.mapArray(this.cn(n),r=>this.ln(e,r).next(s=>s||be())).next(eR)}}function Zk(t){return er(t,"collectionParents")}function wu(t){return er(t,"indexEntries")}function ef(t){return er(t,"indexConfiguration")}function xu(t){return er(t,"indexState")}function eR(t){Pe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Kb(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Ts(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wr(e,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,h,f)=>(a++,f.delete()));i.push(l.next(()=>{Pe(a===1)}));const c=[];for(const u of n.mutations){const h=mD(e,u.key.path,n.batchId);i.push(s.delete(h)),c.push(u.key)}return z.waitFor(i).next(()=>c)}function u1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw be();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(41943040,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class Xv{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Cn={}}static lt(e,n,r,s){Pe(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new Xv(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).Y({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Mu(e),o=Ta(e);return o.add({}).next(a=>{Pe(typeof a=="number");const l=new t5(a,n,r,s),c=function(p,m,g){const E=g.baseMutations.map(w=>a1(p.ct,w)),y=g.mutations.map(w=>a1(p.ct,w));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:E,mutations:y}}(this.serializer,this.userId,l),u=[];let h=new Ut((f,p)=>Ke(f.canonicalString(),p.canonicalString()));for(const f of s){const p=mD(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),u.push(o.put(c)),u.push(i.put(p,tX))}return h.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Ta(e).get(n).next(r=>r?(Pe(r.userId===this.userId),Yl(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?z.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Cn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ta(e).Y({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(Pe(a.batchId>=r),i=Yl(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ta(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).W("userMutationsIndex",n).next(r=>r.map(s=>Yl(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=U2(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Mu(e).Y({range:s},(o,a,l)=>{const[c,u,h]=o,f=Xi(u);if(c===this.userId&&n.path.isEqual(f))return Ta(e).get(h).next(p=>{if(!p)throw be();Pe(p.userId===this.userId),i.push(Yl(this.serializer,p))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ke);const s=[];return n.forEach(i=>{const o=U2(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=Mu(e).Y({range:a},(c,u,h)=>{const[f,p,m]=c,g=Xi(p);f===this.userId&&i.path.isEqual(g)?r=r.add(m):h.done()});s.push(l)}),z.waitFor(s).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=U2(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Ut(Ke);return Mu(e).Y({range:o},(l,c,u)=>{const[h,f,p]=l,m=Xi(f);h===this.userId&&r.isPrefixOf(m)?m.length===s&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Ta(e).get(i).next(o=>{if(o===null)throw be();Pe(o.userId===this.userId),r.push(Yl(this.serializer,o))}))}),z.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return cL(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),z.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Mu(e).Y({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Xi(i[1]);s.push(l)}else a.done()}).next(()=>{Pe(s.length===0)})})}containsKey(e,n){return uL(e,this.userId,n)}xn(e){return dL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uL(t,e,n){const r=U2(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Mu(t).Y({range:i,J:!0},(a,l,c)=>{const[u,h,f]=a;u===e&&h===s&&(o=!0),c.done()}).next(()=>o)}function Ta(t){return er(t,"mutations")}function Mu(t){return er(t,"documentMutations")}function dL(t){return er(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Vc(0)}static Ln(){return new Vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Vc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Le.fromTimestamp(new dn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.kn(e,s)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Eu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Pe(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Eu(e).Y((o,a)=>{const l=Af(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Eu(e).Y((r,s)=>{const i=Af(s);n(i)})}Bn(e){return nR(e).get("targetGlobalKey").next(n=>(Pe(n!==null),n))}kn(e,n){return nR(e).put("targetGlobalKey",n)}qn(e,n){return Eu(e).put(iL(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Oc(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Eu(e).Y({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const c=Af(a);Wp(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Fa(e);return n.forEach(o=>{const a=jr(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(s)}removeMatchingKeys(e,n,r){const s=Fa(e);return z.forEach(n,i=>{const o=jr(i.path);return z.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Fa(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Fa(e);let i=st();return s.Y({range:r,J:!0},(o,a,l)=>{const c=Xi(o[1]),u=new ae(c);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=jr(n.path),s=IDBKeyRange.bound([r],[dD(r)],!1,!0);let i=0;return Fa(e).Y({index:"documentTargetsIndex",J:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}_t(e,n){return Eu(e).get(n).next(r=>r?Af(r):null)}}function Eu(t){return er(t,"targets")}function nR(t){return er(t,"targetGlobal")}function Fa(t){return er(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class wJ{constructor(e){this.Kn=e,this.buffer=new Ut(rR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.zn(3e5)})}}class EJ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Ws._e);const r=new wJ(n);return this.jn.forEachTarget(e,s=>r.Wn(s.sequenceNumber)).next(()=>this.jn.Jn(e,s=>r.Wn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(tR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tR):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Nu()<=tt.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function CJ(t,e){return new EJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n){this.db=e,this.garbageCollector=CJ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,s)=>n(s))}addReference(e,n,r){return e2(e,r)}removeReference(e,n,r){return e2(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return e2(e,n)}er(e,n){return function(s,i){let o=!1;return dL(s).Z(a=>uL(s,a,i).next(l=>(l&&(o=!0),z.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Le.min()),Fa(e).delete(function(h){return[0,jr(h.path)]}(o))))});s.push(l)}}).next(()=>z.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return e2(e,n)}Xn(e,n){const r=Fa(e);let s,i=Ws._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==Ws._e&&n(new ae(Xi(s)),i),i=c,s=l):i=Ws._e}).next(()=>{i!==Ws._e&&n(new ae(Xi(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function e2(t,e){return Fa(t).put(function(r,s){return{targetId:0,path:jr(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.changes=new Dl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ol(e).put(r)}removeEntry(e,n,r){return Ol(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],l1(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=wn.newInvalidDocument(n);return Ol(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(tf(n))},(s,i)=>{r=this.nr(n,i)}).next(()=>r)}rr(e,n){let r={size:0,document:wn.newInvalidDocument(n)};return Ol(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(tf(n))},(s,i)=>{r={document:this.nr(n,i),size:u1(i)}}).next(()=>r)}getEntries(e,n){let r=_s();return this.ir(e,n,(s,i)=>{const o=this.nr(s,i);r=r.insert(s,o)}).next(()=>r)}sr(e,n){let r=_s(),s=new kn(ae.comparator);return this.ir(e,n,(i,o)=>{const a=this.nr(i,o);r=r.insert(i,a),s=s.insert(i,u1(o))}).next(()=>({documents:r,_r:s}))}ir(e,n,r){if(n.isEmpty())return z.resolve();let s=new Ut(oR);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(tf(s.first()),tf(s.last())),o=s.getIterator();let a=o.getNext();return Ol(e).Y({index:"documentKeyIndex",range:i},(l,c,u)=>{const h=ae.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&oR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(tf(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),l1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ol(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let u=_s();for(const h of c){const f=this.nr(ae.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(Gp(n,f)||s.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,s){let i=_s();const o=iR(n,r),a=iR(n,Ts.max());return Ol(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const h=this.nr(ae.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(h.key,h),i.size===s&&u.done()}).next(()=>i)}newChangeBuffer(e){return new TJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return sR(e).get("remoteDocumentGlobalKey").next(n=>(Pe(!!n),n))}tr(e,n){return sR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=uJ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Le.min())))return r}return wn.newInvalidDocument(e)}}function fL(t){return new IJ(t)}class TJ extends hL{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Dl(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Ut((i,o)=>Ke(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.ur.get(i);if(n.push(this.ar.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=Wk(this.ar.serializer,o);s=s.add(i.path.popLast());const c=u1(l);r+=c-a.size,n.push(this.ar.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=Wk(this.ar.serializer,o.convertToNoDocument(Le.min()));n.push(this.ar.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.ar.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:s})=>(s.forEach((i,o)=>{this.ur.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function sR(t){return er(t,"remoteDocumentGlobal")}function Ol(t){return er(t,"remoteDocumentsV14")}function tf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iR(t,e){const n=e.documentKey.path.toArray();return[t,l1(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oR(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Ke(n[i],r[i]),s)return s;return s=Ke(n.length,r.length),s||(s=Ke(n[n.length-2],r[r.length-2]),s||Ke(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Jf(r.mutation,s,Kr.empty(),dn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const s=Ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=kf();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=_s();const o=Xf(),a=function(){return Xf()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof pa)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Jf(u.mutation,c,u.mutation.getFieldMask(),dn.now())):o.set(c.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new SJ(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xf();let s=new kn((o,a)=>o-a),i=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Kr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||st()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=MD();u.forEach(f=>{if(!i.has(f)){const p=zD(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ji());let a=-1,l=i;return o.next(c=>z.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,st())).next(u=>({batchId:a,changes:LD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=kf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=kf();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const c=function(h,f){return new su(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,wn.newInvalidDocument(u)))});let a=kf();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Jf(u.mutation,c,Kr.empty(),dn.now()),Gp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$r(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:oL(s.bundledQuery),readTime:$r(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(){this.overlays=new kn(ae.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ji(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new kn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ji(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ji(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r5(n,r));let i=this.hr.get(n);i===void 0&&(i=st(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.Pr=new Ut(Hn.Ir),this.Tr=new Ut(Hn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Hn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new Rt([])),r=new Hn(n,e),s=new Hn(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new Rt([])),r=new Hn(n,e),s=new Hn(n,e+1);let i=st();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Hn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||Ke(e.pr,n.pr)}static Er(e,n){return Ke(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ut(Hn.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new t5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Hn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),s=new Hn(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ke);return n.forEach(s=>{const i=new Hn(s,0),o=new Hn(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Hn(new ae(i),0);let a=new Ut(Ke);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,s=>{const i=new Hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Hn(n,0),s=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e){this.vr=e,this.docs=function(){return new kn(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=_s();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():wn.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=_s();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Kb(hD(u),r)<=0||(s.has(u.key)||Gp(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){be()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NJ(this)}getSize(e){return z.resolve(this.size)}}class NJ extends hL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e){this.persistence=e,this.Mr=new Dl(n=>Oc(n),Wp),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Or=0,this.Nr=new c5,this.targetCount=0,this.Lr=Vc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Vc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ws(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new DJ(this),this.indexManager=new vJ,this.remoteDocumentCache=function(s){return new PJ(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new sL(n),this.$r=new kJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new AJ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new LJ(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class LJ extends pD{constructor(e){super(),this.currentSequenceNumber=e}}class Jv{constructor(e){this.persistence=e,this.zr=new c5,this.jr=null}static Hr(e){return new Jv(e)}get Jr(){if(this.jr)return this.jr;throw be()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const s=ae.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Le.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e){this.serializer=e}N(e,n,r,s){const i=new zv("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xk,{unique:!0}),l.createObjectStore("documentMutations")}(e),aR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),aR(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Le.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xk,{unique:!0});const h=c.store("mutations"),f=u.map(p=>h.put(p));return z.waitFor(f)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.Xr(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i)))),r<7&&s>=7&&(o=o.next(()=>this.ti(i))),r<8&&s>=8&&(o=o.next(()=>this.ni(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ri(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:fX});c.createIndex("collectionPathOverlayIndex",pX,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",mX,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:nX});c.createIndex("documentKeyIndex",rX),c.createIndex("collectionGroupIndex",sX)}(e)).next(()=>this.ii(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.si(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:cX}).createIndex("sequenceNumberIndex",uX,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:dX}).createIndex("documentKeyIndex",hX,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,s)=>{n+=u1(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(s=>z.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>z.forEach(a,l=>{Pe(l.userId===i.userId);const c=Yl(this.serializer,l);return cL(e,i.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.Y((o,a)=>{const l=new Rt(o),c=function(h){return[0,jr(h)]}(l);i.push(n.get(c).next(u=>u?z.resolve():(h=>n.put({targetId:0,path:jr(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(i))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:lX});const r=n.store("collectionParents"),s=new l5,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:jr(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Rt(o);return i(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=Xi(a);return i(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,s)=>{const i=Af(s),o=iL(this.serializer,i);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),s=[];return r.Y((i,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new ae(Rt.fromString(h.document.name).popFirst(5)):h.noDocument?ae.fromSegments(h.noDocument.path):h.unknownDocument?ae.fromSegments(h.unknownDocument.path):be()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>z.waitFor(s))}si(e,n){const r=n.store("mutations"),s=fL(this.serializer),i=new mL(Jv.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:st();Yl(this.serializer,l).keys().forEach(h=>u=u.add(h)),a.set(l.userId,u)}),z.forEach(a,(l,c)=>{const u=new Ar(c),h=Qv.lt(this.serializer,u),f=i.getIndexManager(u),p=Xv.lt(u,this.serializer,f,i.referenceDelegate);return new pL(s,p,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Q3(n,Ws._e),l).next()})})}}function aR(t){t.createObjectStore("targetDocuments",{keyPath:oX}).createIndex("documentTargetsIndex",aX,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iX,{unique:!0}),t.createObjectStore("targetGlobal")}const $w="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class u5{constructor(e,n,r,s,i,o,a,l,c,u,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=i,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!u5.D())throw new re(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bJ(this,s),this.Ti=n+"main",this.serializer=new sL(l),this.Ei=new Qi(this.Ti,this.ui,new MJ(this.serializer)),this.Qr=new _J(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fL(this.serializer),this.$r=new dJ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(G.FAILED_PRECONDITION,$w);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ws(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>t2(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Nl(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return nf(e).get("owner").next(n=>z.resolve(this.Si(n)))}bi(e){return t2(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=er(n,"clientMetadata");return r.W().next(s=>{const i=this.vi(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return z.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):nf(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new re(G.FAILED_PRECONDITION,$w);return!1}}return!(!this.networkEnabled||!this.inForeground)||t2(e).W().next(r=>this.vi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Q("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Q3(e,Ws._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>t2(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Xv.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yJ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Qv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===15?vX:l===14?yD:l===13?vD:l===12?gX:l===11?gD:void be()}(this.ui);let o;return this.Ei.runTransaction(e,s,i,a=>(o=new Q3(a,this.kr?this.kr.next():Ws._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new re(G.FAILED_PRECONDITION,fD);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return nf(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new re(G.FAILED_PRECONDITION,$w)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nf(e).put("owner",n)}static D(){return Qi.D()}yi(e){const n=nf(e);return n.get("owner").next(r=>this.Si(r)?(Q("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Pr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;g8()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return Q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nf(t){return er(t,"owner")}function t2(t){return er(t,"clientMetadata")}function OJ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=st(),s=st();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new d5(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return g8()?8:Qi.v(It())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new jJ;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Nu()<=tt.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Nu()<=tt.DEBUG&&Q("QueryEngine","Query:",Du(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Nu()<=tt.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(n))):z.resolve())}ji(e,n){if(Dk(n))return z.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=i1(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=st(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,i1(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return Dk(n)||s.isEqual(Le.min())?z.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?z.resolve(null):(Nu()<=tt.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Du(n)),this.es(e,o,n,YQ(s,-1)).next(a=>a))})}Zi(e,n){let r=new Ut(ND(e));return n.forEach((s,i)=>{Gp(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Nu()<=tt.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Du(n)),this.zi.getDocumentsMatchingQuery(e,n,Ts.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new kn(Ke),this.rs=new Dl(i=>Oc(i),Wp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function vL(t,e,n,r){return new $J(t,e,n,r)}async function yL(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=st();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function FJ(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Pe(E!==null),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=st();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function _L(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function VJ(t,e){const n=ze(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(dr.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,E,y){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=_s(),c=st();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(UJ(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Le.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function UJ(t,e,n){let r=st(),s=st();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=_s();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function zJ(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BJ(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new jo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function dE(t,e,n){const r=ze(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Nl(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function lR(t,e,n){const r=ze(t);let s=Le.min(),i=st();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=ze(l),f=h.rs.get(u);return f!==void 0?z.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,Ys(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Le.min(),n?i:st())).next(a=>(WJ(r,PX(e),a),{documents:a,hs:i})))}function WJ(t,e,n){let r=t.ss.get(e)||Le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class cR{constructor(){this.activeTargetIds=jX()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wL{constructor(){this.no=new cR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new cR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2=null;function Fw(){return n2===null?n2=function(){return 268435456+Math.round(2147483648*Math.random())}():n2++,"0x"+n2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class YJ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Fw(),l=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Nc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=GJ[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Fw();return new Promise((o,a)=>{const l=new jQ;l.setWithCredentials(!0),l.listenOnce(MQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ow.NO_ERROR:const u=l.getResponseJson();Q(mr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ow.TIMEOUT:Q(mr,`RPC '${e}' ${i} timed out`),a(new re(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ow.HTTP_ERROR:const h=l.getStatus();if(Q(mr,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(y)>=0?y:G.UNKNOWN}(p.status);a(new re(m,p.message))}else a(new re(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(G.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{Q(mr,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Q(mr,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=Fw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DQ(),a=LQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Q(mr,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new qJ({lo:E=>{p?Q(mr,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(Q(mr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Q(mr,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},ho:()=>h.close()}),g=(E,y,w)=>{E.listen(y,_=>{try{w(_)}catch(x){setTimeout(()=>{throw x},0)}})};return g(h,Xm.EventType.OPEN,()=>{p||Q(mr,`RPC '${e}' stream ${s} transport opened.`)}),g(h,Xm.EventType.CLOSE,()=>{p||(p=!0,Q(mr,`RPC '${e}' stream ${s} transport closed`),m.Vo())}),g(h,Xm.EventType.ERROR,E=>{p||(p=!0,Nc(mr,`RPC '${e}' stream ${s} transport errored:`,E),m.Vo(new re(G.UNAVAILABLE,"The operation could not be completed")))}),g(h,Xm.EventType.MESSAGE,E=>{var y;if(!p){const w=E.data[0];Pe(!!w);const _=w,x=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(x){Q(mr,`RPC '${e}' stream ${s} received error:`,x);const b=x.status;let C=function(S){const k=Nn[S];if(k!==void 0)return HD(k)}(b),T=x.message;C===void 0&&(C=G.INTERNAL,T="Unknown error status: "+b+" with message "+x.message),p=!0,m.Vo(new re(C,T)),h.close()}else Q(mr,`RPC '${e}' stream ${s} received:`,w),m.mo(w)}}),g(a,OQ.STAT_EVENT,E=>{E.stat===vk.PROXY?Q(mr,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===vk.NOPROXY&&Q(mr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(){return typeof window<"u"?window:null}function G2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){return new eJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new xL(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new re(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QJ extends EL{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=rJ(this.serializer,e),r=function(i){if(!("targetChange"in i))return Le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?$r(o.readTime):Le.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=oE(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=r1(l)?{documents:ZD(i,l)}:{query:o5(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YD(i,o.resumeToken);const c=sE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Le.min())>0){a.readTime=Vd(i,o.snapshotVersion.toTimestamp());const c=sE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=iJ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=oE(this.serializer),n.removeTarget=e,this.t_(n)}}class XJ extends EL{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=sJ(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.T_(r,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=oE(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a1(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new re(G.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,iE(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(G.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,iE(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(G.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function ZJ(t,e,n){var r;const s=ze(t),{request:i,V_:o,parent:a}=function(h,f,p){const{ut:m,parent:g}=o5(h,f),E={},y=[];let w=0;return p.forEach(_=>{const x="aggregate_"+w++;E[x]=_.alias,_.aggregateType==="count"?y.push({alias:x,count:{}}):_.aggregateType==="avg"?y.push({alias:x,avg:{field:$a(_.fieldPath)}}):_.aggregateType==="sum"&&y.push({alias:x,sum:{field:$a(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:y,structuredQuery:m.structuredQuery},parent:m.parent},V_:E,parent:g}}(s.serializer,function(h){const f=ze(h);return f.Pe||(f.Pe=AD(f,h.explicitOrderBy)),f.Pe}(e),n);s.connection.wo||delete i.parent;const l=(await s.vo("RunAggregationQuery",s.serializer.databaseId,a,i,1)).filter(u=>!!u.result);Pe(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,h)=>(u[o[h]]=c[h],u),{})}class eZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Pr(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{iu(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ze(l);c.v_.add(4),await Yp(c),c.x_.set("Unknown"),c.v_.delete(4),await ey(c)}(this))})}),this.x_=new eZ(r,s)}}async function ey(t){if(iu(t))for(const e of t.F_)await e(!0)}async function Yp(t){for(const e of t.F_)await e(!1)}function CL(t,e){const n=ze(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),m5(n)?p5(n):_h(n).Jo()&&f5(n,e))}function h5(t,e){const n=ze(t),r=_h(n);n.C_.delete(e),r.Jo()&&bL(n,e),n.C_.size===0&&(r.Jo()?r.Xo():iu(n)&&n.x_.set("Unknown"))}function f5(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_h(t).c_(e)}function bL(t,e){t.O_.Oe(e),_h(t).l_(e)}function p5(t){t.O_=new QX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),_h(t).start(),t.x_.p_()}function m5(t){return iu(t)&&!_h(t).Ho()&&t.C_.size>0}function iu(t){return ze(t).v_.size===0}function IL(t){t.O_=void 0}async function nZ(t){t.C_.forEach((e,n)=>{f5(t,e)})}async function rZ(t,e){IL(t),m5(t)?(t.x_.S_(e),p5(t)):t.x_.set("Unknown")}async function sZ(t,e,n){if(t.x_.set("Online"),e instanceof qD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d1(t,r)}else if(e instanceof H2?t.O_.$e(e):e instanceof GD?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Le.min()))try{const r=await _L(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(dr.EMPTY_BYTE_STRING,u.snapshotVersion)),bL(i,l);const h=new jo(u.target,l,c,u.sequenceNumber);f5(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await d1(t,r)}}async function d1(t,e,n){if(!Nl(e))throw e;t.v_.add(1),await Yp(t),t.x_.set("Offline"),n||(n=()=>_L(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ey(t)})}function TL(t,e){return e().catch(n=>d1(t,n,e))}async function Kp(t){const e=ze(t),n=yl(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;iZ(e);)try{const s=await zJ(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,oZ(e,s)}catch(s){await d1(e,s)}SL(e)&&kL(e)}function iZ(t){return iu(t)&&t.D_.length<10}function oZ(t,e){t.D_.push(e);const n=yl(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function SL(t){return iu(t)&&!yl(t).Ho()&&t.D_.length>0}function kL(t){yl(t).start()}async function aZ(t){yl(t).d_()}async function lZ(t){const e=yl(t);for(const n of t.D_)e.I_(n.mutations)}async function cZ(t,e,n){const r=t.D_.shift(),s=n5.from(r,e,n);await TL(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kp(t)}async function uZ(t,e){e&&yl(t).P_&&await async function(r,s){if(function(o){return qX(o)&&o!==G.ABORTED}(s.code)){const i=r.D_.shift();yl(r).Zo(),await TL(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Kp(r)}}(t,e),SL(t)&&kL(t)}async function dR(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=iu(n);n.v_.add(3),await Yp(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ey(n)}async function dZ(t,e){const n=ze(t);e?(n.v_.delete(2),await ey(n)):e||(n.v_.add(2),await Yp(n),n.x_.set("Unknown"))}function _h(t){return t.N_||(t.N_=function(n,r,s){const i=ze(n);return i.R_(),new QJ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:nZ.bind(null,t),To:rZ.bind(null,t),u_:sZ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),m5(t)?p5(t):t.x_.set("Unknown")):(await t.N_.stop(),IL(t))})),t.N_}function yl(t){return t.L_||(t.L_=function(n,r,s){const i=ze(n);return i.R_(),new XJ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:aZ.bind(null,t),To:uZ.bind(null,t),E_:lZ.bind(null,t),T_:cZ.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Kp(t)):(await t.L_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new g5(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v5(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Nl(t))return new re(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=kf(),this.sortedSet=new kn(this.comparator)}static emptySet(e){return new hd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.B_=new kn(ae.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ud{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ud(e,n,hd.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class fZ{constructor(){this.queries=new Dl(e=>PD(e),Hv),this.onlineState="Unknown",this.W_=new Set}}async function y5(t,e){const n=ze(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new hZ,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=v5(o,`Initialization of query '${Du(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&w5(n)}async function _5(t,e){const n=ze(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pZ(t,e){const n=ze(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&w5(n)}function mZ(t,e,n){const r=ze(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function w5(t){t.W_.forEach(e=>{e.next()})}var hE,fR;(fR=hE||(hE={})).j_="default",fR.Cache="cache";class x5{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ud(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==hE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.key=e}}class AL{constructor(e){this.key=e}}class gZ{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=st(),this.mutatedKeys=st(),this.ha=ND(e),this.Pa=new hd(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new hR,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Gp(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.da(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(p,m){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return g(p)-g(m)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new Ud(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new hR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=st(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new AL(r))}),this.la.forEach(r=>{e.has(r)||n.push(new RL(r))}),n}fa(e){this.ua=e.hs,this.la=st();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ud.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class vZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yZ{constructor(e){this.key=e,this.pa=!1}}class _Z{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Dl(a=>PD(a),Hv),this.Sa=new Map,this.ba=new Set,this.Da=new kn(ae.comparator),this.Ca=new Map,this.va=new c5,this.Fa={},this.Ma=new Map,this.xa=Vc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function wZ(t,e,n=!0){const r=OL(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await PL(r,e,n,!0),s}async function xZ(t,e){const n=OL(t);await PL(n,e,!0,!1)}async function PL(t,e,n,r){const s=await BJ(t.localStore,Ys(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await EZ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&CL(t.remoteStore,s),a}async function EZ(t,e,n,r,s){t.Na=(h,f,p)=>async function(g,E,y,w){let _=E.view.Ta(y);_.Xi&&(_=await lR(g.localStore,E.query,!1).then(({documents:T})=>E.view.Ta(T,_)));const x=w&&w.targetChanges.get(E.targetId),b=w&&w.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(_,g.isPrimaryClient,x,b);return mR(g,E.targetId,C.Va),C.snapshot}(t,h,f,p);const i=await lR(t.localStore,e,!0),o=new gZ(e,i.hs),a=o.Ta(i.documents),l=qp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);mR(t,n,c.Va);const u=new vZ(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function CZ(t,e,n){const r=ze(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Hv(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&h5(r.remoteStore,s.targetId),fE(r,s.targetId)}).catch(nu)):(fE(r,s.targetId),await dE(r.localStore,s.targetId,!0))}async function bZ(t,e){const n=ze(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h5(n.remoteStore,r.targetId))}async function IZ(t,e,n){const r=jL(t);try{const s=await function(o,a){const l=ze(o),c=dn.now(),u=a.reduce((p,m)=>p.add(m.key),st());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=_s(),g=st();return l.os.getEntries(p,u).next(E=>{m=E,m.forEach((y,w)=>{w.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{h=E;const y=[];for(const w of a){const _=WX(w,h.get(w.key).overlayedDocument);_!=null&&y.push(new pa(w.key,_,ED(_.value.mapValue),_r.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,a)}).next(E=>{f=E;const y=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,y)})}).then(()=>({batchId:f.batchId,changes:LD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new kn(Ke)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Qp(r,s.changes),await Kp(r.remoteStore)}catch(s){const i=v5(s,"Failed to persist write");n.reject(i)}}async function NL(t,e){const n=ze(t);try{const r=await VJ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Pe(o.pa):s.removedDocuments.size>0&&(Pe(o.pa),o.pa=!1))}),await Qp(n,r,e)}catch(r){await nu(r)}}function pR(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ze(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Q_)f.G_(a)&&(c=!0)}),c&&w5(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TZ(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new kn(ae.comparator);o=o.insert(i,wn.newNoDocument(i,Le.min()));const a=st().add(i),l=new Kv(Le.min(),new Map,new kn(Ke),o,a);await NL(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),E5(r)}else await dE(r.localStore,e,!1).then(()=>fE(r,e,n)).catch(nu)}async function SZ(t,e){const n=ze(t),r=e.batch.batchId;try{const s=await FJ(n.localStore,e);LL(n,r,null),DL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qp(n,s)}catch(s){await nu(s)}}async function kZ(t,e,n){const r=ze(t);try{const s=await function(o,a){const l=ze(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Pe(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);LL(r,e,n),DL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qp(r,s)}catch(s){await nu(s)}}function DL(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function LL(t,e,n){const r=ze(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function fE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||ML(t,r)})}function ML(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(h5(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),E5(t))}function mR(t,e,n){for(const r of n)r instanceof RL?(t.va.addReference(r.key,e),RZ(t,r)):r instanceof AL?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||ML(t,r.key)):be()}function RZ(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ba.add(r),E5(t))}function E5(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ae(Rt.fromString(e)),r=t.xa.next();t.Ca.set(r,new yZ(n)),t.Da=t.Da.insert(n,r),CL(t.remoteStore,new jo(Ys(Hp(n.path)),r,"TargetPurposeLimboResolution",Ws._e))}}async function Qp(t,e,n){const r=ze(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=d5.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=ze(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(c,f=>z.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>z.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Nl(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(f,g)}}}(r.localStore,i))}async function AZ(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await yL(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new re(G.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qp(n,r.us)}}function PZ(t,e){const n=ze(t),r=n.Ca.get(e);if(r&&r.pa)return st().add(r.key);{let s=st();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function OL(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TZ.bind(null,e),e.ya.u_=pZ.bind(null,e.eventManager),e.ya.La=mZ.bind(null,e.eventManager),e}function jL(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kZ.bind(null,e),e}class pE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vL(this.persistence,new gL,e.initialUser,this.serializer)}createPersistence(e){return new mL(Jv.Hr,this.serializer)}createSharedClientState(e){return new wL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $L extends pE{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await jL(this.ka.syncEngine),await Kp(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return vL(this.persistence,new gL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new xJ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new JQ(n,this.persistence);return new XQ(e.asyncQueue,r)}createPersistence(e){const n=OJ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new u5(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,KJ(),G2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new wL}}class C5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AZ.bind(null,this.syncEngine),await dZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fZ}()}createDatastore(e){const n=Zv(e.databaseInfo.databaseId),r=function(i){return new YJ(i)}(e.databaseInfo);return function(i,o,a,l){return new JJ(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new tZ(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pR(this.syncEngine,n,0),function(){return uR.D()?new uR:new HJ}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new _Z(s,i,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ze(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Yp(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ar.UNAUTHENTICATED,this.clientId=uD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function q2(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yL(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DZ(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>dR(e.remoteStore,s)),t._onlineComponents=e}function FL(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function DZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await q2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!FL(n))throw n;Nc("Error using user provided cache. Falling back to memory cache: "+n),await q2(t,new pE)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await q2(t,new pE);return t._offlineComponents}async function I5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await mE(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await mE(t,new C5))),t._onlineComponents}function LZ(t){return I5(t).then(e=>e.syncEngine)}function MZ(t){return I5(t).then(e=>e.datastore)}async function h1(t){const e=await I5(t),n=e.eventManager;return n.onListen=wZ.bind(null,e.syncEngine),n.onUnlisten=CZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bZ.bind(null,e.syncEngine),n}function OZ(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new b5({next:f=>{o.enqueueAndForget(()=>_5(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new re(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new re(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new x5(Hp(a.path),u,{includeMetadataChanges:!0,ta:!0});return y5(i,h)}(await h1(t),t.asyncQueue,e,n,r)),r.promise}function jZ(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new b5({next:f=>{o.enqueueAndForget(()=>_5(i,h)),f.fromCache&&l.source==="server"?c.reject(new re(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new x5(a,u,{includeMetadataChanges:!0,ta:!0});return y5(i,h)}(await h1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e,n){if(!n)throw new re(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $Z(t,e,n,r){if(e===!0&&r===!0)throw new re(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vR(t){if(!ae.isDocumentKey(t))throw new re(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yR(t){if(ae.isDocumentKey(t))throw new re(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ty(t);throw new re(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function FZ(t,e){if(e<=0)throw new re(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$Z("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T5{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _R({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _R(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VQ;switch(r.type){case"firstParty":return new BQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gR.get(n);r&&(Q("ComponentProvider","Removing Datastore"),gR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class cl extends po{constructor(e,n,r){super(e,n,Hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new ae(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function Ue(t,e,...n){if(t=at(t),UL("collection","path",e),t instanceof T5){const r=Rt.fromString(e,...n);return yR(r),new cl(t,null,r)}{if(!(t instanceof Cr||t instanceof cl))throw new re(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return yR(r),new cl(t.firestore,null,r)}}function Ce(t,e,...n){if(t=at(t),arguments.length===1&&(e=uD.newId()),UL("doc","path",e),t instanceof T5){const r=Rt.fromString(e,...n);return vR(r),new Cr(t,null,new ae(r))}{if(!(t instanceof Cr||t instanceof cl))throw new re(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return vR(r),new Cr(t.firestore,t instanceof cl?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new xL(this,"async_queue_retry"),this.cu=()=>{const n=G2();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=G2();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=G2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new qs;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Nl(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=g5.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&be()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function wR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Pi extends T5{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new VZ}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zL(this),this._firestoreClient.terminate()}}function UZ(t,e,n){n||(n="(default)");const r=Pp(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Nd(i,e))return s;throw new re(G.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new re(G.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function wh(t){return t._firestoreClient||zL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new _X(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new NZ(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function zZ(t,e){WZ(t=Fr(t,Pi));const n=wh(t);if(n._uninitializedComponentsProvider)throw new re(G.FAILED_PRECONDITION,"SDK cache is already specified.");Nc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new C5;return BZ(n,s,new $L(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function BZ(t,e,n){const r=new qs;return t.asyncQueue.enqueue(async()=>{try{await q2(t,n),await mE(t,e),r.resolve()}catch(s){const i=s;if(!FL(i))throw i;Nc("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}}).then(()=>r.promise)}function WZ(t){if(t._initialized||t._terminated)throw new re(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class GZ{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zd(dr.fromBase64String(e))}catch(n){throw new re(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zd(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ=/^__.*__$/;class YZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new yh(e,this.data,n,this.fieldTransforms)}}class BL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class ry{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return f1(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(WL(this.Vu)&&qZ.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class KZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zv(e)}Cu(e,n,r,s=!1){return new ry({Vu:e,methodName:n,Du:r,path:cn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(t){const e=t._freezeSettings(),n=Zv(t._databaseId);return new KZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HL(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);A5("Data must be an object, but it was:",o,r);const a=qL(r,o);let l,c;if(i.merge)l=new Kr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=gE(e,h,n);if(!o.contains(f))throw new re(G.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KL(u,f)||u.push(f)}l=new Kr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new YZ(new yr(a),l,c)}class sy extends Xp{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}function QZ(t,e,n){return new ry({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k5 extends Xp{_toFieldTransform(e){return new e5(e.path,new $d)}isEqual(e){return e instanceof k5}}class R5 extends Xp{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=QZ(this,e,!0),r=this.vu.map(i=>xh(i,n)),s=new jc(r);return new e5(e.path,s)}isEqual(e){return e instanceof R5&&Nd(this.vu,e.vu)}}function XZ(t,e,n,r){const s=t.Cu(1,e,n);A5("Data must be an object, but it was:",s,r);const i=[],o=yr.empty();ru(r,(l,c)=>{const u=P5(e,l,n);c=at(c);const h=s.yu(u);if(c instanceof sy)i.push(u);else{const f=xh(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Kr(i);return new BL(o,a,s.fieldTransforms)}function JZ(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[gE(e,r,n)],l=[s];if(i.length%2!=0)throw new re(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(gE(e,i[f])),l.push(i[f+1]);const c=[],u=yr.empty();for(let f=a.length-1;f>=0;--f)if(!KL(c,a[f])){const p=a[f];let m=l[f];m=at(m);const g=o.yu(p);if(m instanceof sy)c.push(p);else{const E=xh(m,g);E!=null&&(c.push(p),u.set(p,E))}}const h=new Kr(c);return new BL(u,h,o.fieldTransforms)}function GL(t,e,n,r=!1){return xh(n,t.Cu(r?4:3,e))}function xh(t,e){if(YL(t=at(t)))return A5("Unsupported field value:",e,t),qL(t,e);if(t instanceof Xp)return function(r,s){if(!WL(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xh(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $X(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=dn.fromDate(r);return{timestampValue:Vd(s.serializer,i)}}if(r instanceof dn){const i=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vd(s.serializer,i)}}if(r instanceof S5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zd)return{bytesValue:YD(s.serializer,r._byteString)};if(r instanceof Cr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:i5(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${ty(r)}`)}(t,e)}function qL(t,e){const n={};return _D(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ru(t,(r,s)=>{const i=xh(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof S5||t instanceof zd||t instanceof Cr||t instanceof Xp)}function A5(t,e,n){if(!YL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ty(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function gE(t,e,n){if((e=at(e))instanceof ny)return e._internalPath;if(typeof e=="string")return P5(t,e);throw f1("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZZ=new RegExp("[~\\*/\\[\\]]");function P5(t,e,n){if(e.search(ZZ)>=0)throw f1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ny(...e.split("."))._internalPath}catch{throw f1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function f1(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new re(G.INVALID_ARGUMENT,a+t+l)}function KL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eee extends N5{data(){return super.data()}}function iy(t,e){return typeof e=="string"?P5(t,e):e instanceof ny?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D5{}let oy=class extends D5{};function Tr(t,e,...n){let r=[];e instanceof D5&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof L5).length,a=i.filter(l=>l instanceof ay).length;if(o>1||o>0&&a>0)throw new re(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ay extends oy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ay(e,n,r)}_apply(e){const n=this._parse(e);return JL(e._query,n),new po(e.firestore,e.converter,rE(e._query,n))}_parse(e){const n=Jp(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new re(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ER(h,u);const p=[];for(const m of h)p.push(xR(l,i,m));f={arrayValue:{values:p}}}else f=xR(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ER(h,u),f=GL(a,o,h,u==="in"||u==="not-in");return pt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zp(t,e,n){const r=e,s=iy("where",t);return ay._create(s,r,n)}class L5 extends D5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)JL(o,l),o=rE(o,l)}(e._query,n),new po(e.firestore,e.converter,rE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class M5 extends oy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new M5(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new re(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Q0(i,o)}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new su(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Bd(t,e="asc"){const n=e,r=iy("orderBy",t);return M5._create(r,n)}class O5 extends oy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new O5(e,n,r)}_apply(e){return new po(e.firestore,e.converter,i1(e._query,this._limit,this._limitType))}}function ea(t){return FZ("limit",t),O5._create("limit",t,"F")}let tee=class XL extends oy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new XL(e,n,r)}_apply(e){const n=nee(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,function(s,i){return new su(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}};function ly(...t){return tee._create("startAfter",t,!1)}function nee(t,e,n,r){if(n[0]=at(n[0]),n[0]instanceof N5)return function(i,o,a,l,c){if(!l)throw new re(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of dd(i))if(h.field.isKeyField())u.push(Mc(o,l.key));else{const f=l.data.field(h.field);if(Wv(f))throw new re(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new re(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new vl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Jp(t.firestore);return function(o,a,l,c,u,h){const f=o.explicitOrderBy;if(u.length>f.length)throw new re(G.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const g=u[m];if(f[m].field.isKeyField()){if(typeof g!="string")throw new re(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!Zb(o)&&g.indexOf("/")!==-1)throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const E=o.path.child(Rt.fromString(g));if(!ae.isDocumentKey(E))throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const y=new ae(E);p.push(Mc(a,y))}else{const E=GL(l,c,g);p.push(E)}}return new vl(p,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function xR(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new re(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&n.indexOf("/")!==-1)throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!ae.isDocumentKey(r))throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mc(t,new ae(r))}if(n instanceof Cr)return Mc(t,n._key);throw new re(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(n)}.`)}function ER(t,e){if(!Array.isArray(t)||t.length===0)throw new re(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ree{convertValue(e,n="none"){switch(Lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ru(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new S5(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(q0(e));default:return null}}convertTimestamp(e){const n=pl(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);Pe(rL(r));const s=new Dc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function see(){return new HZ("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eM extends N5{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Y2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Y2 extends eM{data(e={}){return super.data(e)}}class tM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Y2(this._firestore,this._userDataWriter,r.key,r,new Pf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Y2(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pf(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Y2(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pf(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:iee(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){t=Fr(t,Cr);const e=Fr(t.firestore,Pi);return OZ(wh(e),t._key).then(n=>nM(e,t,n))}class cy extends ree{constructor(e){super(),this.firestore=e}convertBytes(e){return new zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}function ma(t){t=Fr(t,po);const e=Fr(t.firestore,Pi),n=wh(e),r=new cy(e);return QL(t._query),jZ(n,t._query).then(s=>new tM(e,r,t,s))}function Uc(t,e,n){t=Fr(t,Cr);const r=Fr(t.firestore,Pi),s=ZL(t.converter,e,n);return uy(r,[HL(Jp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_r.none())])}function Lr(t,e,n,...r){t=Fr(t,Cr);const s=Fr(t.firestore,Pi),i=Jp(s);let o;return o=typeof(e=at(e))=="string"||e instanceof ny?JZ(i,"updateDoc",t._key,e,n,r):XZ(i,"updateDoc",t._key,e),uy(s,[o.toMutation(t._key,_r.exists(!0))])}function ta(t){return uy(Fr(t.firestore,Pi),[new Yv(t._key,_r.none())])}function _l(t,e){const n=Fr(t.firestore,Pi),r=Ce(t),s=ZL(t.converter,e);return uy(n,[HL(Jp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function mo(t,...e){var n,r,s;t=at(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wR(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wR(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof Cr)c=Fr(t.firestore,Pi),u=Hp(t._key.path),l={next:h=>{e[o]&&e[o](nM(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Fr(t,po);c=Fr(h.firestore,Pi),u=h._query;const f=new cy(c);l={next:p=>{e[o]&&e[o](new tM(c,f,h,p))},error:e[o+1],complete:e[o+2]},QL(t._query)}return function(f,p,m,g){const E=new b5(g),y=new x5(p,E,m);return f.asyncQueue.enqueueAndForget(async()=>y5(await h1(f),y)),()=>{E.Qa(),f.asyncQueue.enqueueAndForget(async()=>_5(await h1(f),y))}}(wh(c),u,a,l)}function uy(t,e){return function(r,s){const i=new qs;return r.asyncQueue.enqueueAndForget(async()=>IZ(await LZ(r),s,i)),i.promise}(wh(t),e)}function nM(t,e,n){const r=n.docs.get(e._key),s=new cy(t);return new eM(t,s,e._key,r,new Pf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){return oee(t,{count:see()})}function oee(t,e){const n=Fr(t.firestore,Pi),r=wh(n),s=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(i,o)=>new HX(o,i.aggregateType,i._internalFieldPath));return function(o,a,l){const c=new qs;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await MZ(o);c.resolve(ZJ(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,s).then(i=>function(a,l,c){const u=new cy(a);return new GZ(l,u,c)}(n,t,i))}class aee{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=uee(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function lee(t){return new aee(t)}class cee{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new C5,this._offlineComponentProvider=new $L(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function uee(t){return new cee(t==null?void 0:t.forceOwnership)}function wr(){return new k5("serverTimestamp")}function vE(...t){return new R5("arrayUnion",t)}(function(e,n=!0){(function(s){vh=s})(Li),oo(new Ri("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Pi(new UQ(r.getProvider("auth-internal")),new HQ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),rs(yk,"4.5.0",e),rs(yk,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firebasestorage.googleapis.com",sM="storageBucket",dee=2*60*1e3,hee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Ns{constructor(e,n,r=0){super(Vw(e),`Firebase Storage: ${n} (${Vw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cn||(Cn={}));function Vw(t){return"storage/"+t}function $5(){const t="An unknown error occurred, please check the error payload for server response.";return new bn(Cn.UNKNOWN,t)}function fee(t){return new bn(Cn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pee(t){return new bn(Cn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bn(Cn.UNAUTHENTICATED,t)}function gee(){return new bn(Cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vee(t){return new bn(Cn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yee(){return new bn(Cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _ee(){return new bn(Cn.CANCELED,"User canceled the upload/download.")}function wee(t){return new bn(Cn.INVALID_URL,"Invalid URL '"+t+"'.")}function xee(t){return new bn(Cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Eee(){return new bn(Cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sM+"' property when initializing the app?")}function Cee(){return new bn(Cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bee(){return new bn(Cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Iee(t){return new bn(Cn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yE(t){return new bn(Cn.INVALID_ARGUMENT,t)}function iM(){return new bn(Cn.APP_DELETED,"The Firebase app was deleted.")}function Tee(t){return new bn(Cn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zf(t,e){return new bn(Cn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rf(t){throw new bn(Cn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ws.makeFromUrl(e,n)}catch{return new ws(e,"")}if(r.path==="")return r;throw xee(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===rM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",y=new RegExp(`^https?://${g}/${s}/${E}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<_.length;x++){const b=_[x],C=b.regex.exec(e);if(C){const T=C[b.indices.bucket];let I=C[b.indices.path];I||(I=""),r=new ws(T,I),b.postModify(r);break}}if(r==null)throw wee(e);return r}}class See{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...y){if(c){f();return}if(E){f(),u.call(null,E,...y);return}if(l()||o){f(),u.call(null,E,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let m=!1;function g(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function Ree(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(t){return t!==void 0}function Pee(t){return typeof t=="object"&&!Array.isArray(t)}function F5(t){return typeof t=="string"||t instanceof String}function CR(t){return V5()&&t instanceof Blob}function V5(){return typeof Blob<"u"}function bR(t,e,n,r){if(r<e)throw yE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gc||(gc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new r2(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===gc.NO_ERROR,l=i.getStatus();if(!a||Nee(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===gc.ABORT;r(!1,new r2(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new r2(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Aee(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=$5();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?iM():_ee();o(l)}else{const l=yee();o(l)}};this.canceled_?n(!1,new r2(!1,null,!0)):this.backoffId_=kee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ree(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class r2{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Lee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Mee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $ee(t,e,n,r,s,i,o=!0){const a=oM(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Oee(c,e),Lee(c,n),Mee(c,i),jee(c,r),new Dee(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vee(...t){const e=Fee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(V5())return new Blob(t);throw new bn(Cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Uee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zee(t){if(typeof atob>"u")throw Iee("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uw{constructor(e,n){this.data=e,this.contentType=n||null}}function Bee(t,e){switch(t){case Zi.RAW:return new Uw(aM(e));case Zi.BASE64:case Zi.BASE64URL:return new Uw(lM(t,e));case Zi.DATA_URL:return new Uw(Hee(e),Gee(e))}throw $5()}function aM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Wee(t){let e;try{e=decodeURIComponent(t)}catch{throw Zf(Zi.DATA_URL,"Malformed data URL.")}return aM(e)}function lM(t,e){switch(t){case Zi.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Zf(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Zf(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zee(e)}catch(s){throw s.message.includes("polyfill")?s:Zf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class cM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zf(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Hee(t){const e=new cM(t);return e.base64?lM(Zi.BASE64,e.rest):Wee(e.rest)}function Gee(t){return new cM(t).contentType}function qee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){let r=0,s="";CR(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(CR(this.data_)){const r=this.data_,s=Uee(r,e,n);return s===null?null:new Va(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Va(r,!0)}}static getBlob(...e){if(V5()){const n=e.map(r=>r instanceof Va?r.data_:r);return new Va(Vee.apply(null,n))}else{const n=e.map(o=>F5(o)?Bee(Zi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Va(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){let e;try{e=JSON.parse(t)}catch{return null}return Pee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Kee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t,e){return e}class kr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Qee}}let s2=null;function Xee(t){return!F5(t)||t.length<2?t:dM(t)}function hM(){if(s2)return s2;const t=[];t.push(new kr("bucket")),t.push(new kr("generation")),t.push(new kr("metageneration")),t.push(new kr("name","fullPath",!0));function e(i,o){return Xee(o)}const n=new kr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new kr("size");return s.xform=r,t.push(s),t.push(new kr("timeCreated")),t.push(new kr("updated")),t.push(new kr("md5Hash",null,!0)),t.push(new kr("cacheControl",null,!0)),t.push(new kr("contentDisposition",null,!0)),t.push(new kr("contentEncoding",null,!0)),t.push(new kr("contentLanguage",null,!0)),t.push(new kr("contentType",null,!0)),t.push(new kr("metadata","customMetadata",!0)),s2=t,s2}function Jee(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new ws(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Zee(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Jee(r,t),r}function fM(t,e,n){const r=uM(e);return r===null?null:Zee(t,r,n)}function ete(t,e,n,r){const s=uM(e);if(s===null||!F5(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=dy(f,n,r),m=oM({alt:"media",token:c});return p+m})[0]}function tte(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class U5{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){if(!t)throw $5()}function nte(t,e){function n(r,s){const i=fM(t,s,e);return pM(i!==null),i}return n}function rte(t,e){function n(r,s){const i=fM(t,s,e);return pM(i!==null),ete(i,s,t.host,t._protocol)}return n}function mM(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=gee():s=mee():n.getStatus()===402?s=pee(t.bucket):n.getStatus()===403?s=vee(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function gM(t){const e=mM(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=fee(t.path)),i.serverResponse=s.serverResponse,i}return n}function ste(t,e,n){const r=e.fullServerUrl(),s=dy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new U5(s,i,rte(t,n),o);return a.errorHandler=gM(e),a}function ite(t,e){const n=e.fullServerUrl(),r=dy(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new U5(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=gM(e),a}function ote(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ate(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ote(null,e)),r}function lte(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=ate(e,r,s),u=tte(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Va.getBlob(h,r,f);if(p===null)throw Cee();const m={name:c.fullPath},g=dy(i,t.host,t._protocol),E="POST",y=t.maxUploadRetryTime,w=new U5(g,E,nte(t,n),y);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=mM(e),w}class cte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw rf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ute extends cte{initXhr(){this.xhr_.responseType="text"}}function z5(){return new ute}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this._service=e,n instanceof ws?this._location=n:this._location=ws.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zc(e,n)}get root(){const e=new ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dM(this._location.path)}get storage(){return this._service}get parent(){const e=Yee(this._location.path);if(e===null)return null;const n=new ws(this._location.bucket,e);return new zc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tee(e)}}function dte(t,e,n){t._throwIfRoot("uploadBytes");const r=lte(t.storage,t._location,hM(),new Va(e,!0),n);return t.storage.makeRequestWithTokens(r,z5).then(s=>({metadata:s,ref:t}))}function hte(t){t._throwIfRoot("getDownloadURL");const e=ste(t.storage,t._location,hM());return t.storage.makeRequestWithTokens(e,z5).then(n=>{if(n===null)throw bee();return n})}function fte(t){t._throwIfRoot("deleteObject");const e=ite(t.storage,t._location);return t.storage.makeRequestWithTokens(e,z5)}function pte(t,e){const n=Kee(t._location.path,e),r=new ws(t._location.bucket,n);return new zc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(t){return/^[A-Za-z]+:\/\//.test(t)}function gte(t,e){return new zc(t,e)}function vM(t,e){if(t instanceof B5){const n=t;if(n._bucket==null)throw Eee();const r=new zc(n,n._bucket);return e!=null?vM(r,e):r}else return e!==void 0?pte(t,e):t}function vte(t,e){if(e&&mte(e)){if(t instanceof B5)return gte(t,e);throw yE("To use ref(service, url), the first argument must be a Storage instance.")}else return vM(t,e)}function IR(t,e){const n=e==null?void 0:e[sM];return n==null?null:ws.makeFromBucketSpec(n,t)}function yte(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:h8(s,t.app.options.projectId))}class B5{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=rM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dee,this._maxUploadRetryTime=hee,this._requests=new Set,s!=null?this._bucket=ws.makeFromBucketSpec(s,this._host):this._bucket=IR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ws.makeFromBucketSpec(this._url,e):this._bucket=IR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zc(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new See(iM());{const o=$ee(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const TR="@firebase/storage",SR="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="storage";function J0(t,e,n){return t=at(t),dte(t,e,n)}function Z0(t){return t=at(t),hte(t)}function _E(t){return t=at(t),fte(t)}function Ga(t,e){return t=at(t),vte(t,e)}function _te(t=vb(),e){t=at(t);const r=Pp(t,yM).getImmediate({identifier:e}),s=c8("storage");return s&&wte(r,...s),r}function wte(t,e,n,r={}){yte(t,e,n,r)}function xte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new B5(n,r,s,e,Li)}function Ete(){oo(new Ri(yM,xte,"PUBLIC").setMultipleInstances(!0)),rs(TR,SR,""),rs(TR,SR,"esm2017")}Ete();var kR={};const RR="@firebase/database",AR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _M="";function Cte(t){_M=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Kn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:L0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ho(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bte(e)}}catch{}return new Ite},sc=wM("localStorage"),wE=wM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Ap("@firebase/database"),Tte=function(){let t=1;return function(){return t++}}(),xM=function(t){const e=JH(t),n=new KH;n.update(e);const r=n.digest();return pb.encodeByteArray(r)},em=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=em.apply(null,r):typeof r=="object"?e+=Kn(r):e+=r,e+=" "}return e};let vc=null,PR=!0;const Ste=function(t,e){se(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(fd.logLevel=tt.VERBOSE,vc=fd.log.bind(fd),e&&wE.set("logging_enabled",!0)):typeof t=="function"?vc=t:(vc=null,wE.remove("logging_enabled"))},ir=function(...t){if(PR===!0&&(PR=!1,vc===null&&wE.get("logging_enabled")===!0&&Ste(!0)),vc){const e=em.apply(null,t);vc(e)}},tm=function(t){return function(...e){ir(t,...e)}},xE=function(...t){const e="FIREBASE INTERNAL ERROR: "+em(...t);fd.error(e)},na=function(...t){const e=`FIREBASE FATAL ERROR: ${em(...t)}`;throw fd.error(e),new Error(e)},ss=function(...t){const e="FIREBASE WARNING: "+em(...t);fd.warn(e)},kte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ss("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Rte=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bc="[MIN_NAME]",wl="[MAX_NAME]",ou=function(t,e){if(t===e)return 0;if(t===Bc||e===wl)return-1;if(e===Bc||t===wl)return 1;{const n=NR(t),r=NR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ate=function(t,e){return t===e?0:t<e?-1:1},sf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Kn(e))},W5=function(t){if(typeof t!="object"||t===null)return Kn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Kn(e[r]),n+=":",n+=W5(t[e[r]]);return n+="}",n},EM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const CM=function(t){se(!hy(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Pte=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Nte=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dte(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Lte=new RegExp("^-?(0*)\\d{1,10}$"),Mte=-2147483648,Ote=2147483647,NR=function(t){if(Lte.test(t)){const e=Number(t);if(e>=Mte&&e<=Ote)return e}return null},Eh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ss("Exception was thrown by user callback.",n),e},Math.floor(0))}},jte=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},e0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ss(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ss(e)}}class pd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}pd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="5",bM="v",IM="s",TM="r",SM="f",kM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RM="ls",AM="p",EE="ac",PM="websocket",NM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Vte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function LM(t,e,n){se(typeof e=="string","typeof type must == string"),se(typeof n=="object","typeof params must == object");let r;if(e===PM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===NM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Vte(t)&&(n.ns=t.namespace);const s=[];return Sr(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(){this.counters_={}}incrementCounter(e,n=1){ho(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return OH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={},Bw={};function G5(t){const e=t.toString();return zw[e]||(zw[e]=new Ute),zw[e]}function zte(t,e){const n=t.toString();return Bw[n]||(Bw[n]=e()),Bw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Eh(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="start",Wte="close",Hte="pLPCommand",Gte="pRTLPCB",MM="id",OM="pw",jM="ser",qte="cb",Yte="seg",Kte="ts",Qte="d",Xte="dframe",$M=1870,FM=30,Jte=$M-FM,Zte=25e3,ene=3e4;class Xu{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tm(e),this.stats_=G5(n),this.urlFn=l=>(this.appCheckToken&&(l[EE]=this.appCheckToken),LM(n,NM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Bte(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ene)),Rte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new q5((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===DR)this.id=a,this.password=l;else if(o===Wte)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[DR]="t",r[jM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[qte]=this.scriptTagHolder.uniqueCallbackIdentifier),r[bM]=H5,this.transportSessionId&&(r[IM]=this.transportSessionId),this.lastSessionId&&(r[RM]=this.lastSessionId),this.applicationId&&(r[AM]=this.applicationId),this.appCheckToken&&(r[EE]=this.appCheckToken),typeof location<"u"&&location.hostname&&kM.test(location.hostname)&&(r[TM]=SM);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xu.forceAllow_=!0}static forceDisallow(){Xu.forceDisallow_=!0}static isAvailable(){return Xu.forceAllow_?!0:!Xu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Pte()&&!Nte()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Kn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=o8(n),s=EM(r,Jte);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Xte]="t",r[MM]=e,r[OM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Kn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class q5{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tte(),window[Hte+this.uniqueCallbackIdentifier]=e,window[Gte+this.uniqueCallbackIdentifier]=n,this.myIFrame=q5.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ir("frame writing exception"),a.stack&&ir(a.stack),ir(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ir("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MM]=this.myID,e[OM]=this.myPW,e[jM]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FM+r.length<=$M;){const o=this.pendingSegs.shift();r=r+"&"+Yte+s+"="+o.seg+"&"+Kte+s+"="+o.ts+"&"+Qte+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Zte)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ir("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tne=16384,nne=45e3;let p1=null;typeof MozWebSocket<"u"?p1=MozWebSocket:typeof WebSocket<"u"&&(p1=WebSocket);class xi{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tm(this.connId),this.stats_=G5(n),this.connURL=xi.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[bM]=H5,typeof location<"u"&&location.hostname&&kM.test(location.hostname)&&(o[TM]=SM),n&&(o[IM]=n),r&&(o[RM]=r),s&&(o[EE]=s),i&&(o[AM]=i),LM(e,PM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sc.set("previous_websocket_failure",!0);try{let r;m8(),this.mySock=new p1(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){xi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&p1!==null&&!xi.forceDisallow_}static previouslyFailed(){return sc.isInMemoryStorage||sc.get("previous_websocket_failure")===!0}markConnectionHealthy(){sc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=L0(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(se(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Kn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=EM(n,tne);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nne))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xi.responsesRequiredToBeHealthy=2;xi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xu,xi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=xi&&xi.isAvailable();let r=n&&!xi.previouslyFailed();if(e.webSocketOnly&&(n||ss("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xi];else{const s=this.transports_=[];for(const i of ep.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);ep.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ep.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne=6e4,sne=5e3,ine=10*1024,one=100*1024,Ww="t",LR="d",ane="s",MR="r",lne="e",OR="o",jR="a",$R="n",FR="p",cne="h";class une{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tm("c:"+this.id+":"),this.transportManager_=new ep(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=e0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>one?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ine?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ww in e){const n=e[Ww];n===jR?this.upgradeIfSecondaryHealthy_():n===MR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=sf("t",e),r=sf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$R,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=sf("t",e),r=sf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=sf(Ww,e);if(LR in e){const r=e[LR];if(n===cne){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===$R){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ane?this.onConnectionShutdown_(r):n===MR?this.onReset_(r):n===lne?xE("Server Error: "+r):n===OR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),H5!==r&&ss("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),e0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rne))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):e0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){se(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends UM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new m1}getInitialEvent(e){return se(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=32,UR=768;class Lt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function At(){return new Lt("")}function nt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xl(t){return t.pieces_.length-t.pieceNum_}function Wt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Lt(t.pieces_,e)}function Y5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dne(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Lt(e,0)}function Sn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Lt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Lt(n,0)}function rt(t){return t.pieceNum_>=t.pieces_.length}function Qr(t,e){const n=nt(t),r=nt(e);if(n===null)return e;if(n===r)return Qr(Wt(t),Wt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function hne(t,e){const n=tp(t,0),r=tp(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ou(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function K5(t,e){if(xl(t)!==xl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Hs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xl(t)>xl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class fne{constructor(e,n){this.errorPrefix_=n,this.parts_=tp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yv(this.parts_[r]);BM(this)}}function pne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yv(e),BM(t)}function mne(t){const e=t.parts_.pop();t.byteLength_-=yv(e),t.parts_.length>0&&(t.byteLength_-=1)}function BM(t){if(t.byteLength_>UR)throw new Error(t.errorPrefix_+"has a key path longer than "+UR+" bytes ("+t.byteLength_+").");if(t.parts_.length>VR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VR+") or object contains a cycle "+Wl(t))}function Wl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends UM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Q5}getInitialEvent(e){return se(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=1e3,gne=60*5*1e3,zR=30*1e3,vne=1.3,yne=3e4,_ne="server_kill",BR=3;class Bo extends VM{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Bo.nextPersistentConnectionId_++,this.log_=tm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=of,this.maxReconnectDelay_=gne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!m8())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Q5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&m1.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Kn(i)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Ro,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Bo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ho(e,"w")){const r=Pd(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ss(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||YH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=qH(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),se(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Kn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xE("Unrecognized action received from server: "+Kn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yne&&(this.reconnectDelay_=of),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Bo.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){se(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new une(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ss(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(_ne)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ss(h),l())}}}interrupt(e){ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zg(this.interruptReasons_)&&(this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>W5(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Lt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ir("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BR&&(this.reconnectDelay_=zR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ir("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_M.replace(/\./g,"-")]=1,vv()?e["framework.cordova"]=1:mb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=m1.getInstance().currentlyOnline();return zg(this.interruptReasons_)&&e}}Bo.nextPersistentConnectionId_=0;Bo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ot(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ot(Bc,e),s=new ot(Bc,n);return this.compare(r,s)!==0}minPost(){return ot.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2;class WM extends fy{static get __EMPTY_NODE(){return i2}static set __EMPTY_NODE(e){i2=e}compare(e,n){return ou(e.name,n.name)}isDefinedOn(e){throw fh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ot.MIN}maxPost(){return new ot(wl,i2)}makePost(e,n){return se(typeof e=="string","KeyIndex indexValue must always be a string."),new ot(e,i2)}toString(){return".key"}}const yc=new WM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qn.RED,this.left=s??Xr.EMPTY_NODE,this.right=i??Xr.EMPTY_NODE}copy(e,n,r,s,i){return new qn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Xr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qn.RED=!0;qn.BLACK=!1;class wne{copy(e,n,r,s,i){return this}insert(e,n,r){return new qn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xr{constructor(e,n=Xr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qn.BLACK,null,null))}remove(e){return new Xr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new o2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new o2(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new o2(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new o2(this.root_,null,this.comparator_,!0,e)}}Xr.EMPTY_NODE=new wne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xne(t,e){return ou(t.name,e.name)}function X5(t,e){return ou(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CE;function Ene(t){CE=t}const HM=function(t){return typeof t=="number"?"number:"+CM(t):"string:"+t},GM=function(t){if(t.isLeafNode()){const e=t.val();se(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ho(e,".sv"),"Priority must be a string or number.")}else se(t===CE||t.isEmpty(),"priority of unexpected type.");se(t===CE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WR;class Wn{constructor(e,n=Wn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,se(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GM(this.priorityNode_)}static set __childrenNodeConstructor(e){WR=e}static get __childrenNodeConstructor(){return WR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Wn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rt(e)?this:nt(e)===".priority"?this.priorityNode_:Wn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Wn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=nt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(se(r!==".priority"||xl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Wn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=CM(this.value_):e+=this.value_,this.lazyHash_=xM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wn.__childrenNodeConstructor?-1:(se(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Wn.VALUE_TYPE_ORDER.indexOf(n),i=Wn.VALUE_TYPE_ORDER.indexOf(r);return se(s>=0,"Unknown leaf type: "+n),se(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Wn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qM,YM;function Cne(t){qM=t}function bne(t){YM=t}class Ine extends fy{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ou(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ot.MIN}maxPost(){return new ot(wl,new Wn("[PRIORITY-POST]",YM))}makePost(e,n){const r=qM(e);return new ot(n,new Wn("[PRIORITY-POST]",r))}toString(){return".priority"}}const sn=new Ine;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne=Math.log(2);class Sne{constructor(e){const n=i=>parseInt(Math.log(i)/Tne,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const g1=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new qn(f,h.node,qn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new qn(f,h.node,qn.BLACK,m,g)}},i=function(l){let c=null,u=null,h=t.length;const f=function(m,g){const E=h-m,y=h;h-=m;const w=s(E+1,y),_=t[E],x=n?n(_):_;p(new qn(x,_.node,g,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,qn.BLACK):(f(E,qn.BLACK),f(E,qn.RED))}return u},o=new Sne(t.length),a=i(o);return new Xr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw;const Cu={};class $o{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return se(Cu&&sn,"ChildrenNode.ts has not been loaded"),Hw=Hw||new $o({".priority":Cu},{".priority":sn}),Hw}get(e){const n=Pd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xr?n:null}hasIndex(e){return ho(this.indexSet_,e.toString())}addIndex(e,n){se(e!==yc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ot.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=g1(r,e.getCompare()):a=Cu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new $o(u,c)}addToIndexes(e,n){const r=Bg(this.indexes_,(s,i)=>{const o=Pd(this.indexSet_,i);if(se(o,"Missing index implementation for "+i),s===Cu)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ot.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),g1(a,o.getCompare())}else return Cu;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ot(e.name,a))),l.insert(e,e.node)}});return new $o(r,this.indexSet_)}removeFromIndexes(e,n){const r=Bg(this.indexes_,s=>{if(s===Cu)return s;{const i=n.get(e.name);return i?s.remove(new ot(e.name,i)):s}});return new $o(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af;class Ve{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&GM(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return af||(af=new Ve(new Xr(X5),null,$o.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||af}updatePriority(e){return this.children_.isEmpty()?this:new Ve(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?af:n}}getChild(e){const n=nt(e);return n===null?this:this.getImmediateChild(n).getChild(Wt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(se(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ot(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?af:this.priorityNode_;return new Ve(s,o,i)}}updateChild(e,n){const r=nt(e);if(r===null)return n;{se(nt(e)!==".priority"||xl(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Wt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(sn,(o,a)=>{n[o]=a.val(e),r++,i&&Ve.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HM(this.getPriority().val())+":"),this.forEachChild(sn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":xM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ot(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ot(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ot(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ot.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ot.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nm?-1:0}withIndex(e){if(e===yc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ve(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===yc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(sn),s=n.getIterator(sn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===yc?null:this.indexMap_.get(e.toString())}}Ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kne extends Ve{constructor(){super(new Xr(X5),Ve.EMPTY_NODE,$o.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ve.EMPTY_NODE}isEmpty(){return!1}}const nm=new kne;Object.defineProperties(ot,{MIN:{value:new ot(Bc,Ve.EMPTY_NODE)},MAX:{value:new ot(wl,nm)}});WM.__EMPTY_NODE=Ve.EMPTY_NODE;Wn.__childrenNodeConstructor=Ve;Ene(nm);bne(nm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=!0;function Dn(t,e=null){if(t===null)return Ve.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),se(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Wn(n,Dn(e))}if(!(t instanceof Array)&&Rne){const n=[];let r=!1;if(Sr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ot(o,l)))}}),n.length===0)return Ve.EMPTY_NODE;const i=g1(n,xne,o=>o.name,X5);if(r){const o=g1(n,sn.getCompare());return new Ve(i,Dn(e),new $o({".priority":o},{".priority":sn}))}else return new Ve(i,Dn(e),$o.Default)}else{let n=Ve.EMPTY_NODE;return Sr(t,(r,s)=>{if(ho(t,r)&&r.substring(0,1)!=="."){const i=Dn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Dn(e))}}Cne(Dn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5 extends fy{constructor(e){super(),this.indexPath_=e,se(!rt(e)&&nt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ou(e.name,n.name):i}makePost(e,n){const r=Dn(e),s=Ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new ot(n,s)}maxPost(){const e=Ve.EMPTY_NODE.updateChild(this.indexPath_,nm);return new ot(wl,e)}toString(){return tp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane extends fy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ou(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ot.MIN}maxPost(){return ot.MAX}makePost(e,n){const r=Dn(e);return new ot(n,r)}toString(){return".value"}}const KM=new Ane;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return{type:"value",snapshotNode:t}}function Wd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function np(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Pne(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){se(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(np(n,a)):se(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Wd(n,r)):o.trackChildChange(rp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(sn,(s,i)=>{n.hasChild(s)||r.trackChildChange(np(s,i))}),n.isLeafNode()||n.forEachChild(sn,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(rp(s,i,o))}else r.trackChildChange(Wd(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ve.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this.indexedFilter_=new Z5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sp.getStartPost_(e),this.endPost_=sp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ot(n,r))||(r=Ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ve.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Ve.EMPTY_NODE);const i=this;return n.forEachChild(sn,(o,a)=>{i.matches(new ot(o,a))||(s=s.updateImmediateChild(o,Ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ot(n,r))||(r=Ve.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Ve.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Ve.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,Ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,p)=>h(p,f)}else o=this.index_.getCompare();const a=e;se(a.numChildren()===this.limit_,"");const l=new ot(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange(rp(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(np(n,h));const g=a.updateImmediateChild(n,Ve.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Wd(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(np(c.name,c.node)),i.trackChildChange(Wd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ve.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bc}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new eI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Dne(t){return t.loadsAllData()?new Z5(t.getIndex()):t.hasLimit()?new Nne(t):new sp(t)}function Lne(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Mne(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function One(t,e){const n=t.copy();return n.index_=e,n}function HR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sn?n="$priority":t.index_===KM?n="$value":t.index_===yc?n="$key":(se(t.index_ instanceof J5,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Kn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Kn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Kn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Kn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Kn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function GR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends VM{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=tm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=v1.getListenId_(e,r),a={};this.listens_[o]=a;const l=HR(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Pd(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=v1.getListenId_(e,n);delete this.listens_[r]}get(e){const n=HR(e._queryParams),r=e._path.toString(),s=new Ro;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+da(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=L0(a.responseText)}catch{ss("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ss("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(){this.rootNode_=Ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return{value:null,children:new Map}}function Ch(t,e,n){if(rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=nt(e);t.children.has(r)||t.children.set(r,y1());const s=t.children.get(r);e=Wt(e),Ch(s,e,n)}}function bE(t,e){if(rt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(sn,(r,s)=>{Ch(t,new Lt(r),s)}),bE(t,e)}}else if(t.children.size>0){const n=nt(e);return e=Wt(e),t.children.has(n)&&bE(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function IE(t,e,n){t.value!==null?n(e,t.value):$ne(t,(r,s)=>{const i=new Lt(e.toString()+"/"+r);IE(s,i,n)})}function $ne(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Sr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=10*1e3,Vne=30*1e3,Une=5*60*1e3;class zne{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Fne(e);const r=qR+(Vne-qR)*Math.random();e0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Sr(e,(s,i)=>{i>0&&ho(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),e0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Une))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ei||(Ei={}));function XM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ei.ACK_USER_WRITE,this.source=XM()}operationForChild(e){if(rt(this.path)){if(this.affectedTree.value!=null)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Lt(e));return new _1(At(),n,this.revert)}}else return se(nt(this.path)===e,"operationForChild called for unrelated child."),new _1(Wt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.source=e,this.path=n,this.type=Ei.LISTEN_COMPLETE}operationForChild(e){return rt(this.path)?new ip(this.source,At()):new ip(this.source,Wt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ei.OVERWRITE}operationForChild(e){return rt(this.path)?new Wc(this.source,At(),this.snap.getImmediateChild(e)):new Wc(this.source,Wt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ei.MERGE}operationForChild(e){if(rt(this.path)){const n=this.children.subtree(new Lt(e));return n.isEmpty()?null:n.value?new Wc(this.source,At(),n.value):new op(this.source,At(),n)}else return se(nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new op(this.source,Wt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rt(e))return this.isFullyInitialized()&&!this.filtered_;const n=nt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wne(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Pne(o.childName,o.snapshotNode))}),lf(t,s,"child_removed",e,r,n),lf(t,s,"child_added",e,r,n),lf(t,s,"child_moved",i,r,n),lf(t,s,"child_changed",e,r,n),lf(t,s,"value",e,r,n),s}function lf(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Gne(t,a,l)),o.forEach(a=>{const l=Hne(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Hne(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Gne(t,e,n){if(e.childName==null||n.childName==null)throw fh("Should only compare child_ events.");const r=new ot(e.childName,e.snapshotNode),s=new ot(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){return{eventCache:t,serverCache:e}}function t0(t,e,n,r){return py(new Hc(e,n,r),t.serverCache)}function JM(t,e,n,r){return py(t.eventCache,new Hc(e,n,r))}function TE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw;const qne=()=>(Gw||(Gw=new Xr(Ate)),Gw);class Qt{constructor(e,n=qne()){this.value=e,this.children=n}static fromObject(e){let n=new Qt(null);return Sr(e,(r,s)=>{n=n.set(new Lt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:At(),value:this.value};if(rt(e))return null;{const r=nt(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Wt(e),n);return i!=null?{path:Sn(new Lt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rt(e))return this;{const n=nt(e),r=this.children.get(n);return r!==null?r.subtree(Wt(e)):new Qt(null)}}set(e,n){if(rt(e))return new Qt(n,this.children);{const r=nt(e),i=(this.children.get(r)||new Qt(null)).set(Wt(e),n),o=this.children.insert(r,i);return new Qt(this.value,o)}}remove(e){if(rt(e))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const n=nt(e),r=this.children.get(n);if(r){const s=r.remove(Wt(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Qt(null):new Qt(this.value,i)}else return this}}get(e){if(rt(e))return this.value;{const n=nt(e),r=this.children.get(n);return r?r.get(Wt(e)):null}}setTree(e,n){if(rt(e))return n;{const r=nt(e),i=(this.children.get(r)||new Qt(null)).setTree(Wt(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Qt(this.value,o)}}fold(e){return this.fold_(At(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Sn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,At(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(rt(e))return null;{const i=nt(e),o=this.children.get(i);return o?o.findOnPath_(Wt(e),Sn(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,At(),n)}foreachOnPath_(e,n,r){if(rt(e))return this;{this.value&&r(n,this.value);const s=nt(e),i=this.children.get(s);return i?i.foreachOnPath_(Wt(e),Sn(n,s),r):new Qt(null)}}foreach(e){this.foreach_(At(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Sn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.writeTree_=e}static empty(){return new Ti(new Qt(null))}}function n0(t,e,n){if(rt(e))return new Ti(new Qt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Qr(s,e);return i=i.updateChild(o,n),new Ti(t.writeTree_.set(s,i))}else{const s=new Qt(n),i=t.writeTree_.setTree(e,s);return new Ti(i)}}}function YR(t,e,n){let r=t;return Sr(n,(s,i)=>{r=n0(r,Sn(e,s),i)}),r}function KR(t,e){if(rt(e))return Ti.empty();{const n=t.writeTree_.setTree(e,new Qt(null));return new Ti(n)}}function SE(t,e){return au(t,e)!=null}function au(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qr(n.path,e)):null}function QR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sn,(r,s)=>{e.push(new ot(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ot(r,s.value))}),e}function ul(t,e){if(rt(e))return t;{const n=au(t,e);return n!=null?new Ti(new Qt(n)):new Ti(t.writeTree_.subtree(e))}}function kE(t){return t.writeTree_.isEmpty()}function Hd(t,e){return ZM(At(),t.writeTree_,e)}function ZM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(se(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ZM(Sn(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Sn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){return rO(e,t)}function Yne(t,e,n,r,s){se(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=n0(t.visibleWrites,e,n)),t.lastWriteId=r}function Kne(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Qne(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);se(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Xne(a,r.path)?s=!1:Hs(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Jne(t),!0;if(r.snap)t.visibleWrites=KR(t.visibleWrites,r.path);else{const a=r.children;Sr(a,l=>{t.visibleWrites=KR(t.visibleWrites,Sn(r.path,l))})}return!0}else return!1}function Xne(t,e){if(t.snap)return Hs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Hs(Sn(t.path,n),e))return!0;return!1}function Jne(t){t.visibleWrites=eO(t.allWrites,Zne,At()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Zne(t){return t.visible}function eO(t,e,n){let r=Ti.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Hs(n,o)?(a=Qr(n,o),r=n0(r,a,i.snap)):Hs(o,n)&&(a=Qr(o,n),r=n0(r,At(),i.snap.getChild(a)));else if(i.children){if(Hs(n,o))a=Qr(n,o),r=YR(r,a,i.children);else if(Hs(o,n))if(a=Qr(o,n),rt(a))r=YR(r,At(),i.children);else{const l=Pd(i.children,nt(a));if(l){const c=l.getChild(Wt(a));r=n0(r,At(),c)}}}else throw fh("WriteRecord should have .snap or .children")}}return r}function tO(t,e,n,r,s){if(!r&&!s){const i=au(t.visibleWrites,e);if(i!=null)return i;{const o=ul(t.visibleWrites,e);if(kE(o))return n;if(n==null&&!SE(o,At()))return null;{const a=n||Ve.EMPTY_NODE;return Hd(o,a)}}}else{const i=ul(t.visibleWrites,e);if(!s&&kE(i))return n;if(!s&&n==null&&!SE(i,At()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Hs(c.path,e)||Hs(e,c.path))},a=eO(t.allWrites,o,e),l=n||Ve.EMPTY_NODE;return Hd(a,l)}}}function ere(t,e,n){let r=Ve.EMPTY_NODE;const s=au(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(sn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=ul(t.visibleWrites,e);return n.forEachChild(sn,(o,a)=>{const l=Hd(ul(i,new Lt(o)),a);r=r.updateImmediateChild(o,l)}),QR(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=ul(t.visibleWrites,e);return QR(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tre(t,e,n,r,s){se(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Sn(e,n);if(SE(t.visibleWrites,i))return null;{const o=ul(t.visibleWrites,i);return kE(o)?s.getChild(n):Hd(o,s.getChild(n))}}function nre(t,e,n,r){const s=Sn(e,n),i=au(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=ul(t.visibleWrites,s);return Hd(o,r.getNode().getImmediateChild(n))}else return null}function rre(t,e){return au(t.visibleWrites,e)}function sre(t,e,n,r,s,i,o){let a;const l=ul(t.visibleWrites,e),c=au(l,At());if(c!=null)a=c;else if(n!=null)a=Hd(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function ire(){return{visibleWrites:Ti.empty(),allWrites:[],lastWriteId:-1}}function w1(t,e,n,r){return tO(t.writeTree,t.treePath,e,n,r)}function sI(t,e){return ere(t.writeTree,t.treePath,e)}function XR(t,e,n,r){return tre(t.writeTree,t.treePath,e,n,r)}function x1(t,e){return rre(t.writeTree,Sn(t.treePath,e))}function ore(t,e,n,r,s,i){return sre(t.writeTree,t.treePath,e,n,r,s,i)}function iI(t,e,n){return nre(t.writeTree,t.treePath,e,n)}function nO(t,e){return rO(Sn(t.treePath,e),t.writeTree)}function rO(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;se(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),se(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,rp(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,np(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Wd(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,rp(r,e.snapshotNode,s.oldSnap));else throw fh("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const sO=new lre;class oI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Hc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gc(this.viewCache_),i=ore(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cre(t){return{filter:t}}function ure(t,e){se(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dre(t,e,n,r,s){const i=new are;let o,a;if(n.type===Ei.OVERWRITE){const c=n;c.source.fromUser?o=RE(t,e,c.path,c.snap,r,s,i):(se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!rt(c.path),o=E1(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Ei.MERGE){const c=n;c.source.fromUser?o=fre(t,e,c.path,c.children,r,s,i):(se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=AE(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Ei.ACK_USER_WRITE){const c=n;c.revert?o=gre(t,e,c.path,r,s,i):o=pre(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Ei.LISTEN_COMPLETE)o=mre(t,e,n.path,r,i);else throw fh("Unknown operation type: "+n.type);const l=i.getChanges();return hre(e,o,l),{viewCache:o,changes:l}}function hre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=TE(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(QM(TE(e)))}}function iO(t,e,n,r,s,i){const o=e.eventCache;if(x1(r,n)!=null)return e;{let a,l;if(rt(n))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Gc(e),u=c instanceof Ve?c:Ve.EMPTY_NODE,h=sI(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=w1(r,Gc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=nt(n);if(c===".priority"){se(xl(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=XR(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Wt(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=XR(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=iI(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return t0(e,a,o.isFullyInitialized()||rt(n),t.filter.filtersNodes())}}function E1(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(rt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=nt(n);if(!l.isCompleteForPath(n)&&xl(n)>1)return e;const m=Wt(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,sO,null)}const h=JM(e,c,l.isFullyInitialized()||rt(n),u.filtersNodes()),f=new oI(s,h,i);return iO(t,h,n,s,f,a)}function RE(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new oI(s,e,i);if(rt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=t0(e,c,!0,t.filter.filtersNodes());else{const h=nt(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=t0(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Wt(n),p=a.getNode().getImmediateChild(h);let m;if(rt(f))m=r;else{const g=u.getCompleteChild(h);g!=null?Y5(f)===".priority"&&g.getChild(zM(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=Ve.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),h,m,f,u,o);l=t0(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function JR(t,e){return t.eventCache.isCompleteForChild(e)}function fre(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Sn(n,l);JR(e,nt(u))&&(a=RE(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Sn(n,l);JR(e,nt(u))||(a=RE(t,a,u,c,s,i,o))}),a}function ZR(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function AE(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;rt(n)?c=r:c=new Qt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=ZR(t,p,f);l=E1(t,l,new Lt(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),g=ZR(t,m,f);l=E1(t,l,new Lt(h),g,s,i,o,a)}}),l}function pre(t,e,n,r,s,i,o){if(x1(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(rt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return E1(t,e,n,l.getNode().getChild(n),s,i,a,o);if(rt(n)){let c=new Qt(null);return l.getNode().forEachChild(yc,(u,h)=>{c=c.set(new Lt(u),h)}),AE(t,e,n,c,s,i,a,o)}else return e}else{let c=new Qt(null);return r.foreach((u,h)=>{const f=Sn(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),AE(t,e,n,c,s,i,a,o)}}function mre(t,e,n,r,s){const i=e.serverCache,o=JM(e,i.getNode(),i.isFullyInitialized()||rt(n),i.isFiltered());return iO(t,o,n,r,sO,s)}function gre(t,e,n,r,s,i){let o;if(x1(r,n)!=null)return e;{const a=new oI(r,e,s),l=e.eventCache.getNode();let c;if(rt(n)||nt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=w1(r,Gc(e));else{const h=e.serverCache.getNode();se(h instanceof Ve,"serverChildren would be complete if leaf node"),u=sI(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=nt(n);let h=iI(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Wt(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ve.EMPTY_NODE,Wt(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=w1(r,Gc(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||x1(r,At())!=null,t0(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Z5(r.getIndex()),i=Dne(r);this.processor_=cre(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(Ve.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Ve.EMPTY_NODE,a.getNode(),null),u=new Hc(l,o.isFullyInitialized(),s.filtersNodes()),h=new Hc(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=py(h,u),this.eventGenerator_=new Bne(this.query_)}get query(){return this.query_}}function yre(t){return t.viewCache_.serverCache.getNode()}function _re(t,e){const n=Gc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!rt(e)&&!n.getImmediateChild(nt(e)).isEmpty())?n.getChild(e):null}function eA(t){return t.eventRegistrations_.length===0}function wre(t,e){t.eventRegistrations_.push(e)}function tA(t,e,n){const r=[];if(n){se(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function nA(t,e,n,r){e.type===Ei.MERGE&&e.source.queryId!==null&&(se(Gc(t.viewCache_),"We should always have a full cache before handling merges"),se(TE(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=dre(t.processor_,s,e,n,r);return ure(t.processor_,i.viewCache),se(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,oO(t,i.changes,i.viewCache.eventCache.getNode(),null)}function xre(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sn,(i,o)=>{r.push(Wd(i,o))}),n.isFullyInitialized()&&r.push(QM(n.getNode())),oO(t,r,n.getNode(),e)}function oO(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Wne(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1;class Ere{constructor(){this.views=new Map}}function Cre(t){se(!C1,"__referenceConstructor has already been defined"),C1=t}function bre(){return se(C1,"Reference.ts has not been loaded"),C1}function Ire(t){return t.views.size===0}function aI(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return se(i!=null,"SyncTree gave us an op for an invalid query."),nA(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(nA(o,e,n,r));return i}}function Tre(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=w1(n,s?r:null),l=!1;a?l=!0:r instanceof Ve?(a=sI(n,r),l=!1):(a=Ve.EMPTY_NODE,l=!1);const c=py(new Hc(a,l,!1),new Hc(r,s,!1));return new vre(e,c)}return o}function Sre(t,e,n,r,s,i){const o=Tre(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),wre(o,n),xre(o,n)}function kre(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=El(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(tA(c,n,r)),eA(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(tA(l,n,r)),eA(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!El(t)&&i.push(new(bre())(e._repo,e._path)),{removed:i,events:o}}function aO(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function md(t,e){let n=null;for(const r of t.views.values())n=n||_re(r,e);return n}function lO(t,e){if(e._queryParams.loadsAllData())return my(t);{const r=e._queryIdentifier;return t.views.get(r)}}function cO(t,e){return lO(t,e)!=null}function El(t){return my(t)!=null}function my(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1;function Rre(t){se(!b1,"__referenceConstructor has already been defined"),b1=t}function Are(){return se(b1,"Reference.ts has not been loaded"),b1}let Pre=1;class rA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_=ire(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uO(t,e,n,r,s){return Yne(t.pendingWriteTree_,e,n,r,s),s?rm(t,new Wc(XM(),e,n)):[]}function ic(t,e,n=!1){const r=Kne(t.pendingWriteTree_,e);if(Qne(t.pendingWriteTree_,e)){let i=new Qt(null);return r.snap!=null?i=i.set(At(),!0):Sr(r.children,o=>{i=i.set(new Lt(o),!0)}),rm(t,new _1(r.path,i,n))}else return[]}function gy(t,e,n){return rm(t,new Wc(tI(),e,n))}function Nre(t,e,n){const r=Qt.fromObject(n);return rm(t,new op(tI(),e,r))}function Dre(t,e){return rm(t,new ip(tI(),e))}function Lre(t,e,n){const r=cI(t,n);if(r){const s=uI(r),i=s.path,o=s.queryId,a=Qr(i,e),l=new ip(nI(o),a);return dI(t,i,l)}else return[]}function PE(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||cO(o,e))){const l=kre(o,e,n,r);Ire(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,p)=>El(p));if(u&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const p=jre(f);for(let m=0;m<p.length;++m){const g=p[m],E=g.query,y=fO(t,g);t.listenProvider_.startListening(r0(E),I1(t,E),y.hashFn,y.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(r0(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(vy(f));t.listenProvider_.stopListening(r0(f),p)}))}$re(t,c)}return a}function Mre(t,e,n,r){const s=cI(t,r);if(s!=null){const i=uI(s),o=i.path,a=i.queryId,l=Qr(o,e),c=new Wc(nI(a),l,n);return dI(t,o,c)}else return[]}function Ore(t,e,n,r){const s=cI(t,r);if(s){const i=uI(s),o=i.path,a=i.queryId,l=Qr(o,e),c=Qt.fromObject(n),u=new op(nI(a),l,c);return dI(t,o,u)}else return[]}function sA(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,p)=>{const m=Qr(f,s);i=i||md(p,m),o=o||El(p)});let a=t.syncPointTree_.get(s);a?(o=o||El(a),i=i||md(a,At())):(a=new Ere,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=Ve.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,m)=>{const g=md(m,At());g&&(i=i.updateImmediateChild(p,g))}));const c=cO(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=vy(e);se(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Fre();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=rI(t.pendingWriteTree_,s);let h=Sre(a,e,n,u,i,l);if(!c&&!o&&!r){const f=lO(a,e);h=h.concat(Vre(t,e,f))}return h}function lI(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Qr(o,e),c=md(a,l);if(c)return c});return tO(s,e,i,n,!0)}function rm(t,e){return dO(e,t.syncPointTree_,null,rI(t.pendingWriteTree_,At()))}function dO(t,e,n,r){if(rt(t.path))return hO(t,e,n,r);{const s=e.get(At());n==null&&s!=null&&(n=md(s,At()));let i=[];const o=nt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=nO(r,o);i=i.concat(dO(a,l,c,u))}return s&&(i=i.concat(aI(s,t,r,n))),i}}function hO(t,e,n,r){const s=e.get(At());n==null&&s!=null&&(n=md(s,At()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=nO(r,o),u=t.operationForChild(o);u&&(i=i.concat(hO(u,a,l,c)))}),s&&(i=i.concat(aI(s,t,r,n))),i}function fO(t,e){const n=e.query,r=I1(t,n);return{hashFn:()=>(yre(e)||Ve.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Lre(t,n._path,r):Dre(t,n._path);{const i=Dte(s,n);return PE(t,n,null,i)}}}}function I1(t,e){const n=vy(e);return t.queryToTagMap.get(n)}function vy(t){return t._path.toString()+"$"+t._queryIdentifier}function cI(t,e){return t.tagToQueryMap.get(e)}function uI(t){const e=t.indexOf("$");return se(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Lt(t.substr(0,e))}}function dI(t,e,n){const r=t.syncPointTree_.get(e);se(r,"Missing sync point for query tag that we're tracking");const s=rI(t.pendingWriteTree_,e);return aI(r,n,s,null)}function jre(t){return t.fold((e,n,r)=>{if(n&&El(n))return[my(n)];{let s=[];return n&&(s=aO(n)),Sr(r,(i,o)=>{s=s.concat(o)}),s}})}function r0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Are())(t._repo,t._path):t}function $re(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=vy(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Fre(){return Pre++}function Vre(t,e,n){const r=e._path,s=I1(t,e),i=fO(t,n),o=t.listenProvider_.startListening(r0(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)se(!El(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!rt(c)&&u&&El(u))return[my(u).query];{let f=[];return u&&(f=f.concat(aO(u).map(p=>p.query))),Sr(h,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(r0(u),I1(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hI(n)}node(){return this.node_}}class fI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Sn(this.path_,e);return new fI(this.syncTree_,n)}node(){return lI(this.syncTree_,this.path_)}}const Ure=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iA=function(t,e,n){if(!t||typeof t!="object")return t;if(se(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zre(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Bre(t[".sv"],e);se(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zre=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:se(!1,"Unexpected server value: "+t)}},Bre=function(t,e,n){t.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&se(!1,"Unexpected increment value: "+r);const s=e.node();if(se(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Wre=function(t,e,n,r){return pI(e,new fI(n,t),r)},pO=function(t,e,n){return pI(t,new hI(e),n)};function pI(t,e,n){const r=t.getPriority().val(),s=iA(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=iA(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Wn(a,Dn(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Wn(s))),o.forEachChild(sn,(a,l)=>{const c=pI(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function gI(t,e){let n=e instanceof Lt?e:new Lt(e),r=t,s=nt(n);for(;s!==null;){const i=Pd(r.node.children,s)||{children:{},childCount:0};r=new mI(s,r,i),n=Wt(n),s=nt(n)}return r}function bh(t){return t.node.value}function mO(t,e){t.node.value=e,NE(t)}function gO(t){return t.node.childCount>0}function Hre(t){return bh(t)===void 0&&!gO(t)}function yy(t,e){Sr(t.node.children,(n,r)=>{e(new mI(n,t,r))})}function vO(t,e,n,r){n&&!r&&e(t),yy(t,s=>{vO(s,e,!0,r)}),n&&r&&e(t)}function Gre(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sm(t){return new Lt(t.parent===null?t.name:sm(t.parent)+"/"+t.name)}function NE(t){t.parent!==null&&qre(t.parent,t.name,t)}function qre(t,e,n){const r=Hre(n),s=ho(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,NE(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,NE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre=/[\[\].#$\/\u0000-\u001F\u007F]/,Kre=/[\[\].#$\u0000-\u001F\u007F]/,qw=10*1024*1024,_y=function(t){return typeof t=="string"&&t.length!==0&&!Yre.test(t)},yO=function(t){return typeof t=="string"&&t.length!==0&&!Kre.test(t)},Qre=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yO(t)},T1=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hy(t)||t&&typeof t=="object"&&ho(t,".sv")},Gd=function(t,e,n,r){r&&e===void 0||wy(Rc(t,"value"),e,n)},wy=function(t,e,n){const r=n instanceof Lt?new fne(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wl(r)+" with contents = "+e.toString());if(hy(e))throw new Error(t+"contains "+e.toString()+" "+Wl(r));if(typeof e=="string"&&e.length>qw/3&&yv(e)>qw)throw new Error(t+"contains a string greater than "+qw+" utf8 bytes "+Wl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Sr(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!_y(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pne(r,o),wy(t,a,r),mne(r)}),s&&i)throw new Error(t+' contains ".value" child '+Wl(r)+" in addition to actual children.")}},Xre=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=tp(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!_y(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(hne);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Hs(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Jre=function(t,e,n,r){if(r&&e===void 0)return;const s=Rc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Sr(e,(o,a)=>{const l=new Lt(o);if(wy(s,a,Sn(n,l)),Y5(l)===".priority"&&!T1(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),Xre(s,i)},Zre=function(t,e,n){if(!(n&&e===void 0)){if(hy(e))throw new Error(Rc(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!T1(e))throw new Error(Rc(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ese=function(t,e,n,r){if(!(r&&n===void 0)&&!_y(n))throw new Error(Rc(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},vI=function(t,e,n,r){if(!(r&&n===void 0)&&!yO(n))throw new Error(Rc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tse=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vI(t,e,n,r)},Nf=function(t,e){if(nt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nse=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Qre(n))throw new Error(Rc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yI(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!K5(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function _O(t,e,n){yI(t,n),wO(t,r=>K5(r,e))}function ra(t,e,n){yI(t,n),wO(t,r=>Hs(r,e)||Hs(e,r))}function wO(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(sse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();vc&&ir("event: "+n.toString()),Eh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ise="repo_interrupt",ose=25;class ase{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=y1(),this.transactionQueueTree_=new mI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lse(t,e,n){if(t.stats_=G5(t.repoInfo_),t.forceRestClient_||jte())t.server_=new v1(t.repoInfo_,(r,s,i,o)=>{oA(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>aA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Bo(t.repoInfo_,e,(r,s,i,o)=>{oA(t,r,s,i,o)},r=>{aA(t,r)},r=>{use(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zte(t.repoInfo_,()=>new zne(t.stats_,t.server_)),t.infoData_=new jne,t.infoSyncTree_=new rA({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gy(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wI(t,"connected",!1),t.serverSyncTree_=new rA({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);ra(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function cse(t){const n=t.infoData_.getNode(new Lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _I(t){return Ure({timestamp:cse(t)})}function oA(t,e,n,r,s){t.dataUpdateCount++;const i=new Lt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Bg(n,c=>Dn(c));o=Ore(t.serverSyncTree_,i,l,s)}else{const l=Dn(n);o=Mre(t.serverSyncTree_,i,l,s)}else if(r){const l=Bg(n,c=>Dn(c));o=Nre(t.serverSyncTree_,i,l)}else{const l=Dn(n);o=gy(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=xy(t,i)),ra(t.eventQueue_,a,o)}function aA(t,e){wI(t,"connected",e),e===!1&&hse(t)}function use(t,e){Sr(e,(n,r)=>{wI(t,n,r)})}function wI(t,e,n){const r=new Lt("/.info/"+e),s=Dn(n);t.infoData_.updateSnapshot(r,s);const i=gy(t.infoSyncTree_,r,s);ra(t.eventQueue_,r,i)}function xO(t){return t.nextWriteId_++}function dse(t,e,n,r,s){xI(t,"set",{path:e.toString(),value:n,priority:r});const i=_I(t),o=Dn(n,r),a=lI(t.serverSyncTree_,e),l=pO(o,a,i),c=xO(t),u=uO(t.serverSyncTree_,e,l,c,!0);yI(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const m=f==="ok";m||ss("set at "+e+" failed: "+f);const g=ic(t.serverSyncTree_,c,!m);ra(t.eventQueue_,e,g),qd(t,s,f,p)});const h=TO(t,e);xy(t,h),ra(t.eventQueue_,h,[])}function hse(t){xI(t,"onDisconnectEvents");const e=_I(t),n=y1();IE(t.onDisconnect_,At(),(s,i)=>{const o=Wre(s,i,t.serverSyncTree_,e);Ch(n,s,o)});let r=[];IE(n,At(),(s,i)=>{r=r.concat(gy(t.serverSyncTree_,s,i));const o=TO(t,s);xy(t,o)}),t.onDisconnect_=y1(),ra(t.eventQueue_,At(),r)}function fse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&bE(t.onDisconnect_,e),qd(t,n,r,s)})}function lA(t,e,n,r){const s=Dn(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(i,o)=>{i==="ok"&&Ch(t.onDisconnect_,e,s),qd(t,r,i,o)})}function pse(t,e,n,r,s){const i=Dn(n,r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&Ch(t.onDisconnect_,e,i),qd(t,s,o,a)})}function mse(t,e,n,r){if(zg(n)){ir("onDisconnect().update() called with empty data.  Don't do anything."),qd(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,i)=>{s==="ok"&&Sr(n,(o,a)=>{const l=Dn(a);Ch(t.onDisconnect_,Sn(e,o),l)}),qd(t,r,s,i)})}function gse(t,e,n){let r;nt(e._path)===".info"?r=sA(t.infoSyncTree_,e,n):r=sA(t.serverSyncTree_,e,n),_O(t.eventQueue_,e._path,r)}function cA(t,e,n){let r;nt(e._path)===".info"?r=PE(t.infoSyncTree_,e,n):r=PE(t.serverSyncTree_,e,n),_O(t.eventQueue_,e._path,r)}function vse(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ise)}function xI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ir(n,...e)}function qd(t,e,n,r){e&&Eh(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function EO(t,e,n){return lI(t.serverSyncTree_,e,n)||Ve.EMPTY_NODE}function EI(t,e=t.transactionQueueTree_){if(e||Ey(t,e),bh(e)){const n=bO(t,e);se(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&yse(t,sm(e),n)}else gO(e)&&yy(e,n=>{EI(t,n)})}function yse(t,e,n){const r=n.map(c=>c.currentWriteId),s=EO(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];se(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Qr(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{xI(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ic(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ey(t,gI(t.transactionQueueTree_,e)),EI(t,t.transactionQueueTree_),ra(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Eh(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ss("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}xy(t,e)}},o)}function xy(t,e){const n=CO(t,e),r=sm(n),s=bO(t,n);return _se(t,s,r),r}function _se(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Qr(n,l.path);let u=!1,h;if(se(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(ic(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ose)u=!0,h="maxretry",s=s.concat(ic(t.serverSyncTree_,l.currentWriteId,!0));else{const f=EO(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){wy("transaction failed: Data returned ",p,l.path);let m=Dn(p);typeof p=="object"&&p!=null&&ho(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,y=_I(t),w=pO(m,f,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=xO(t),o.splice(o.indexOf(E),1),s=s.concat(uO(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),s=s.concat(ic(t.serverSyncTree_,E,!0))}else u=!0,h="nodata",s=s.concat(ic(t.serverSyncTree_,l.currentWriteId,!0))}ra(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Ey(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Eh(r[a]);EI(t,t.transactionQueueTree_)}function CO(t,e){let n,r=t.transactionQueueTree_;for(n=nt(e);n!==null&&bh(r)===void 0;)r=gI(r,n),e=Wt(e),n=nt(e);return r}function bO(t,e){const n=[];return IO(t,e,n),n.sort((r,s)=>r.order-s.order),n}function IO(t,e,n){const r=bh(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);yy(e,s=>{IO(t,s,n)})}function Ey(t,e){const n=bh(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,mO(e,n.length>0?n:void 0)}yy(e,r=>{Ey(t,r)})}function TO(t,e){const n=sm(CO(t,e)),r=gI(t.transactionQueueTree_,e);return Gre(r,s=>{Yw(t,s)}),Yw(t,r),vO(r,s=>{Yw(t,s)}),n}function Yw(t,e){const n=bh(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(se(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(se(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ic(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?mO(e,void 0):n.length=i+1,ra(t.eventQueue_,sm(e),s);for(let o=0;o<r.length;o++)Eh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function xse(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ss(`Invalid query segment '${n}' in query '${t}'`)}return e}const uA=function(t,e){const n=Ese(t),r=n.namespace;n.domain==="firebase.com"&&na(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&na("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||kte();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new DM(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Lt(n.pathString)}},Ese=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=wse(t.substring(u,h)));const f=xse(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Kn(this.snapshot.exportVal())}}class kO{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return se(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ro;return fse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Nf("OnDisconnect.remove",this._path);const e=new Ro;return lA(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Nf("OnDisconnect.set",this._path),Gd("OnDisconnect.set",e,this._path,!1);const n=new Ro;return lA(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Nf("OnDisconnect.setWithPriority",this._path),Gd("OnDisconnect.setWithPriority",e,this._path,!1),Zre("OnDisconnect.setWithPriority",n,!1);const r=new Ro;return pse(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Nf("OnDisconnect.update",this._path),Jre("OnDisconnect.update",e,this._path,!1);const n=new Ro;return mse(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return rt(this._path)?null:Y5(this._path)}get ref(){return new ga(this._repo,this._path)}get _queryIdentifier(){const e=GR(this._queryParams),n=W5(e);return n==="{}"?"default":n}get _queryObject(){return GR(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof Ih))return!1;const n=this._repo===e._repo,r=K5(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+dne(this._path)}}function Ise(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function CI(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yc){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Bc)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==wl)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===sn){if(e!=null&&!T1(e)||n!=null&&!T1(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(se(t.getIndex()instanceof J5||t.getIndex()===KM,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function RO(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ga extends Ih{constructor(e,n){super(e,n,new eI,!1)}get parent(){const e=zM(this._path);return e===null?null:new ga(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ap{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Lt(e),r=S1(this.ref,e);return new ap(this._node.getChild(n),r,sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new ap(s,S1(this.ref,r),sn)))}hasChild(e){const n=new Lt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lp(t,e){return t=at(t),t._checkNotDeleted("ref"),e!==void 0?S1(t._root,e):t._root}function S1(t,e){return t=at(t),nt(t._path)===null?tse("child","path",e,!1):vI("child","path",e,!1),new ga(t._repo,Sn(t._path,e))}function Tse(t){return t=at(t),new bse(t._repo,t._path)}function Sse(t,e){t=at(t),Nf("set",t._path),Gd("set",e,t._path,!1);const n=new Ro;return dse(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class bI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new SO("value",this,new ap(e.snapshotNode,new ga(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kO(this,e,n):null}matches(e){return e instanceof bI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class II{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kO(this,e,n):null}createEvent(e,n){se(e.childName!=null,"Child events should have a childName.");const r=S1(new ga(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new SO(e.type,this,new ap(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof II?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function kse(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(u,h)=>{cA(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Cse(n,i||void 0),a=e==="value"?new bI(o):new II(e,o);return gse(t._repo,t,a),()=>cA(t._repo,t,a)}function Cy(t,e,n,r){return kse(t,"value",e,n,r)}class by{}class Rse extends by{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Gd("endAt",this._value,e._path,!0);const n=Mne(e._queryParams,this._value,this._key);if(RO(n),CI(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ih(e._repo,e._path,n,e._orderByCalled)}}class Ase extends by{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Gd("startAt",this._value,e._path,!0);const n=Lne(e._queryParams,this._value,this._key);if(RO(n),CI(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ih(e._repo,e._path,n,e._orderByCalled)}}class Pse extends by{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Ise(e,"orderByChild");const n=new Lt(this._path);if(rt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new J5(n),s=One(e._queryParams,r);return CI(s),new Ih(e._repo,e._path,s,!0)}}function AO(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vI("orderByChild","path",t,!1),new Pse(t)}class Nse extends by{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Gd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Rse(this._value,this._key)._apply(new Ase(this._value,this._key)._apply(e))}}function PO(t,e){return ese("equalTo","key",e,!0),new Nse(t,e)}function NO(t,...e){let n=at(t);for(const r of e)n=r._apply(n);return n}Cre(ga);Rre(ga);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse="FIREBASE_DATABASE_EMULATOR_HOST",DE={};let Lse=!1;function Mse(t,e,n,r){t.repoInfo_=new DM(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Ose(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||na("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=uA(i,s),a=o.repoInfo,l,c;typeof process<"u"&&kR&&(c=kR[Dse]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=uA(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new pd(pd.OWNER):new Fte(t.name,t.options,e);nse("Invalid Firebase Database URL",o),rt(o.path)||na("Database URL must point to the root of a Firebase Database (not including a child path).");const h=$se(a,t,u,new $te(t.name,n));return new Fse(h,t)}function jse(t,e){const n=DE[e];(!n||n[t.key]!==t)&&na(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vse(t),delete n[t.key]}function $se(t,e,n,r){let s=DE[e.name];s||(s={},DE[e.name]=s);let i=s[t.toURLString()];return i&&na("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ase(t,Lse,n,r),s[t.toURLString()]=i,i}class Fse{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lse(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ga(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jse(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&na("Cannot call "+e+" on a deleted database.")}}function Vse(t=vb(),e){const n=Pp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=c8("database");r&&Use(n,...r)}return n}function Use(t,e,n,r={}){t=at(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&na("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&na('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new pd(pd.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:h8(r.mockUserToken,t.app.options.projectId);i=new pd(o)}Mse(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zse(t){Cte(Li),oo(new Ri("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Ose(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),rs(RR,AR,t),rs(RR,AR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse={".sv":"timestamp"};function dA(){return Bse}Bo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Bo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zse();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var DO;function pe(){return DO.apply(null,arguments)}function Wse(t){DO=t}function Ni(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function _c(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function TI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(bt(t,e))return!1;return!0}function Br(t){return t===void 0}function sa(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function im(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function LO(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function qa(t,e){for(var n in e)bt(e,n)&&(t[n]=e[n]);return bt(e,"toString")&&(t.toString=e.toString),bt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function go(t,e,n,r){return rj(t,e,n,r,!0).utc()}function Hse(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Xe(t){return t._pf==null&&(t._pf=Hse()),t._pf}var LE;Array.prototype.some?LE=Array.prototype.some:LE=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function SI(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Xe(t),n=LE.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Iy(t){var e=go(NaN);return t!=null?qa(Xe(e),t):Xe(e).userInvalidated=!0,e}var hA=pe.momentProperties=[],Kw=!1;function kI(t,e){var n,r,s,i=hA.length;if(Br(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Br(e._i)||(t._i=e._i),Br(e._f)||(t._f=e._f),Br(e._l)||(t._l=e._l),Br(e._strict)||(t._strict=e._strict),Br(e._tzm)||(t._tzm=e._tzm),Br(e._isUTC)||(t._isUTC=e._isUTC),Br(e._offset)||(t._offset=e._offset),Br(e._pf)||(t._pf=Xe(e)),Br(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=hA[n],s=e[r],Br(s)||(t[r]=s);return t}function om(t){kI(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Kw===!1&&(Kw=!0,pe.updateOffset(this),Kw=!1)}function Di(t){return t instanceof om||t!=null&&t._isAMomentObject!=null}function MO(t){pe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function si(t,e){var n=!0;return qa(function(){if(pe.deprecationHandler!=null&&pe.deprecationHandler(null,t),n){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])bt(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}MO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var fA={};function OO(t,e){pe.deprecationHandler!=null&&pe.deprecationHandler(t,e),fA[t]||(MO(e),fA[t]=!0)}pe.suppressDeprecationWarnings=!1;pe.deprecationHandler=null;function vo(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Gse(t){var e,n;for(n in t)bt(t,n)&&(e=t[n],vo(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ME(t,e){var n=qa({},t),r;for(r in e)bt(e,r)&&(_c(t[r])&&_c(e[r])?(n[r]={},qa(n[r],t[r]),qa(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)bt(t,r)&&!bt(e,r)&&_c(t[r])&&(n[r]=qa({},n[r]));return n}function RI(t){t!=null&&this.set(t)}var OE;Object.keys?OE=Object.keys:OE=function(t){var e,n=[];for(e in t)bt(t,e)&&n.push(e);return n};var qse={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Yse(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return vo(r)?r.call(e,n):r}function co(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var AI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,a2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Qw={},gd={};function Ne(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(gd[t]=s),e&&(gd[e[0]]=function(){return co(s.apply(this,arguments),e[1],e[2])}),n&&(gd[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function Kse(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Qse(t){var e=t.match(AI),n,r;for(n=0,r=e.length;n<r;n++)gd[e[n]]?e[n]=gd[e[n]]:e[n]=Kse(e[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=vo(e[o])?e[o].call(s,t):e[o];return i}}function K2(t,e){return t.isValid()?(e=jO(e,t.localeData()),Qw[e]=Qw[e]||Qse(e),Qw[e](t)):t.localeData().invalidDate()}function jO(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(a2.lastIndex=0;n>=0&&a2.test(t);)t=t.replace(a2,r),a2.lastIndex=0,n-=1;return t}var Xse={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Jse(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(AI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Zse="Invalid date";function eie(){return this._invalidDate}var tie="%d",nie=/\d{1,2}/;function rie(t){return this._ordinal.replace("%d",t)}var sie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iie(t,e,n,r){var s=this._relativeTime[n];return vo(s)?s(t,e,n,r):s.replace(/%d/i,t)}function oie(t,e){var n=this._relativeTime[t>0?"future":"past"];return vo(n)?n(e):n.replace(/%s/i,e)}var pA={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ii(t){return typeof t=="string"?pA[t]||pA[t.toLowerCase()]:void 0}function PI(t){var e={},n,r;for(r in t)bt(t,r)&&(n=ii(r),n&&(e[n]=t[r]));return e}var aie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function lie(t){var e=[],n;for(n in t)bt(t,n)&&e.push({unit:n,priority:aie[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var $O=/\d/,Ds=/\d\d/,FO=/\d{3}/,NI=/\d{4}/,Ty=/[+-]?\d{6}/,en=/\d\d?/,VO=/\d\d\d\d?/,UO=/\d\d\d\d\d\d?/,Sy=/\d{1,3}/,DI=/\d{1,4}/,ky=/[+-]?\d{1,6}/,Th=/\d+/,Ry=/[+-]?\d+/,cie=/Z|[+-]\d\d:?\d\d/gi,Ay=/Z|[+-]\d\d(?::?\d\d)?/gi,uie=/[+-]?\d+(\.\d{1,3})?/,am=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sh=/^[1-9]\d?/,LI=/^([1-9]\d|\d)/,k1;k1={};function ge(t,e,n){k1[t]=vo(e)?e:function(r,s){return r&&n?n:e}}function die(t,e){return bt(k1,t)?k1[t](e._strict,e._locale):new RegExp(hie(t))}function hie(t){return Wo(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function Wo(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vs(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function mt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Vs(e)),n}var jE={};function zt(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),sa(e)&&(r=function(i,o){o[e]=mt(i)}),s=t.length,n=0;n<s;n++)jE[t[n]]=r}function lm(t,e){zt(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function fie(t,e,n){e!=null&&bt(jE,t)&&jE[t](e,n._a,n,t)}function Py(t){return t%4===0&&t%100!==0||t%400===0}var br=0,Fo=1,Hi=2,zn=3,Ci=4,Vo=5,oc=6,pie=7,mie=8;Ne("Y",0,0,function(){var t=this.year();return t<=9999?co(t,4):"+"+t});Ne(0,["YY",2],0,function(){return this.year()%100});Ne(0,["YYYY",4],0,"year");Ne(0,["YYYYY",5],0,"year");Ne(0,["YYYYYY",6,!0],0,"year");ge("Y",Ry);ge("YY",en,Ds);ge("YYYY",DI,NI);ge("YYYYY",ky,Ty);ge("YYYYYY",ky,Ty);zt(["YYYYY","YYYYYY"],br);zt("YYYY",function(t,e){e[br]=t.length===2?pe.parseTwoDigitYear(t):mt(t)});zt("YY",function(t,e){e[br]=pe.parseTwoDigitYear(t)});zt("Y",function(t,e){e[br]=parseInt(t,10)});function s0(t){return Py(t)?366:365}pe.parseTwoDigitYear=function(t){return mt(t)+(mt(t)>68?1900:2e3)};var zO=kh("FullYear",!0);function gie(){return Py(this.year())}function kh(t,e){return function(n){return n!=null?(BO(this,t,n),pe.updateOffset(this,e),this):cp(this,t)}}function cp(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function BO(t,e,n){var r,s,i,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!Py(i)?28:a,s?r.setUTCFullYear(i,o,a):r.setFullYear(i,o,a)}}function vie(t){return t=ii(t),vo(this[t])?this[t]():this}function yie(t,e){if(typeof t=="object"){t=PI(t);var n=lie(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=ii(t),vo(this[t]))return this[t](e);return this}function _ie(t,e){return(t%e+e)%e}var In;Array.prototype.indexOf?In=Array.prototype.indexOf:In=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function MI(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=_ie(e,12);return t+=(e-n)/12,n===1?Py(t)?29:28:31-n%7%2}Ne("M",["MM",2],"Mo",function(){return this.month()+1});Ne("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ne("MMMM",0,0,function(t){return this.localeData().months(this,t)});ge("M",en,Sh);ge("MM",en,Ds);ge("MMM",function(t,e){return e.monthsShortRegex(t)});ge("MMMM",function(t,e){return e.monthsRegex(t)});zt(["M","MM"],function(t,e){e[Fo]=mt(t)-1});zt(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[Fo]=s:Xe(n).invalidMonth=t});var wie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),WO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),HO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xie=am,Eie=am;function Cie(t,e){return t?Ni(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||HO).test(e)?"format":"standalone"][t.month()]:Ni(this._months)?this._months:this._months.standalone}function bie(t,e){return t?Ni(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[HO.test(e)?"format":"standalone"][t.month()]:Ni(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Iie(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=go([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=In.call(this._shortMonthsParse,o),s!==-1?s:null):(s=In.call(this._longMonthsParse,o),s!==-1?s:null):e==="MMM"?(s=In.call(this._shortMonthsParse,o),s!==-1?s:(s=In.call(this._longMonthsParse,o),s!==-1?s:null)):(s=In.call(this._longMonthsParse,o),s!==-1?s:(s=In.call(this._shortMonthsParse,o),s!==-1?s:null))}function Tie(t,e,n){var r,s,i;if(this._monthsParseExact)return Iie.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=go([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function GO(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=mt(e);else if(e=t.localeData().monthsParse(e),!sa(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,MI(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function qO(t){return t!=null?(GO(this,t),pe.updateOffset(this,!0),this):cp(this,"Month")}function Sie(){return MI(this.year(),this.month())}function kie(t){return this._monthsParseExact?(bt(this,"_monthsRegex")||YO.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(bt(this,"_monthsShortRegex")||(this._monthsShortRegex=xie),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Rie(t){return this._monthsParseExact?(bt(this,"_monthsRegex")||YO.call(this),t?this._monthsStrictRegex:this._monthsRegex):(bt(this,"_monthsRegex")||(this._monthsRegex=Eie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function YO(){function t(l,c){return c.length-l.length}var e=[],n=[],r=[],s,i,o,a;for(s=0;s<12;s++)i=go([2e3,s]),o=Wo(this.monthsShort(i,"")),a=Wo(this.months(i,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Aie(t,e,n,r,s,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,s,i,o),a}function up(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function R1(t,e,n){var r=7+e-n,s=(7+up(t,0,r).getUTCDay()-e)%7;return-s+r-1}function KO(t,e,n,r,s){var i=(7+n-r)%7,o=R1(t,r,s),a=1+7*(e-1)+i+o,l,c;return a<=0?(l=t-1,c=s0(l)+a):a>s0(t)?(l=t+1,c=a-s0(t)):(l=t,c=a),{year:l,dayOfYear:c}}function dp(t,e,n){var r=R1(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=t.year()-1,i=s+Ho(o,e,n)):s>Ho(t.year(),e,n)?(i=s-Ho(t.year(),e,n),o=t.year()+1):(o=t.year(),i=s),{week:i,year:o}}function Ho(t,e,n){var r=R1(t,e,n),s=R1(t+1,e,n);return(s0(t)-r+s)/7}Ne("w",["ww",2],"wo","week");Ne("W",["WW",2],"Wo","isoWeek");ge("w",en,Sh);ge("ww",en,Ds);ge("W",en,Sh);ge("WW",en,Ds);lm(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=mt(t)});function Pie(t){return dp(t,this._week.dow,this._week.doy).week}var Nie={dow:0,doy:6};function Die(){return this._week.dow}function Lie(){return this._week.doy}function Mie(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Oie(t){var e=dp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ne("d",0,"do","day");Ne("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ne("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ne("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ne("e",0,0,"weekday");Ne("E",0,0,"isoWeekday");ge("d",en);ge("e",en);ge("E",en);ge("dd",function(t,e){return e.weekdaysMinRegex(t)});ge("ddd",function(t,e){return e.weekdaysShortRegex(t)});ge("dddd",function(t,e){return e.weekdaysRegex(t)});lm(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:Xe(n).invalidWeekday=t});lm(["d","e","E"],function(t,e,n,r){e[r]=mt(t)});function jie(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function $ie(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function OI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Fie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),QO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vie="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Uie=am,zie=am,Bie=am;function Wie(t,e){var n=Ni(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?OI(n,this._week.dow):t?n[t.day()]:n}function Hie(t){return t===!0?OI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Gie(t){return t===!0?OI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function qie(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=go([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=In.call(this._weekdaysParse,o),s!==-1?s:null):e==="ddd"?(s=In.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=In.call(this._minWeekdaysParse,o),s!==-1?s:null):e==="dddd"?(s=In.call(this._weekdaysParse,o),s!==-1||(s=In.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=In.call(this._minWeekdaysParse,o),s!==-1?s:null)):e==="ddd"?(s=In.call(this._shortWeekdaysParse,o),s!==-1||(s=In.call(this._weekdaysParse,o),s!==-1)?s:(s=In.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=In.call(this._minWeekdaysParse,o),s!==-1||(s=In.call(this._weekdaysParse,o),s!==-1)?s:(s=In.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function Yie(t,e,n){var r,s,i;if(this._weekdaysParseExact)return qie.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=go([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Kie(t){if(!this.isValid())return t!=null?this:NaN;var e=cp(this,"Day");return t!=null?(t=jie(t,this.localeData()),this.add(t-e,"d")):e}function Qie(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Xie(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=$ie(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Jie(t){return this._weekdaysParseExact?(bt(this,"_weekdaysRegex")||jI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(bt(this,"_weekdaysRegex")||(this._weekdaysRegex=Uie),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Zie(t){return this._weekdaysParseExact?(bt(this,"_weekdaysRegex")||jI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(bt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zie),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function eoe(t){return this._weekdaysParseExact?(bt(this,"_weekdaysRegex")||jI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(bt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bie),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jI(){function t(u,h){return h.length-u.length}var e=[],n=[],r=[],s=[],i,o,a,l,c;for(i=0;i<7;i++)o=go([2e3,1]).day(i),a=Wo(this.weekdaysMin(o,"")),l=Wo(this.weekdaysShort(o,"")),c=Wo(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),s.push(a),s.push(l),s.push(c);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $I(){return this.hours()%12||12}function toe(){return this.hours()||24}Ne("H",["HH",2],0,"hour");Ne("h",["hh",2],0,$I);Ne("k",["kk",2],0,toe);Ne("hmm",0,0,function(){return""+$I.apply(this)+co(this.minutes(),2)});Ne("hmmss",0,0,function(){return""+$I.apply(this)+co(this.minutes(),2)+co(this.seconds(),2)});Ne("Hmm",0,0,function(){return""+this.hours()+co(this.minutes(),2)});Ne("Hmmss",0,0,function(){return""+this.hours()+co(this.minutes(),2)+co(this.seconds(),2)});function XO(t,e){Ne(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}XO("a",!0);XO("A",!1);function JO(t,e){return e._meridiemParse}ge("a",JO);ge("A",JO);ge("H",en,LI);ge("h",en,Sh);ge("k",en,Sh);ge("HH",en,Ds);ge("hh",en,Ds);ge("kk",en,Ds);ge("hmm",VO);ge("hmmss",UO);ge("Hmm",VO);ge("Hmmss",UO);zt(["H","HH"],zn);zt(["k","kk"],function(t,e,n){var r=mt(t);e[zn]=r===24?0:r});zt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});zt(["h","hh"],function(t,e,n){e[zn]=mt(t),Xe(n).bigHour=!0});zt("hmm",function(t,e,n){var r=t.length-2;e[zn]=mt(t.substr(0,r)),e[Ci]=mt(t.substr(r)),Xe(n).bigHour=!0});zt("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[zn]=mt(t.substr(0,r)),e[Ci]=mt(t.substr(r,2)),e[Vo]=mt(t.substr(s)),Xe(n).bigHour=!0});zt("Hmm",function(t,e,n){var r=t.length-2;e[zn]=mt(t.substr(0,r)),e[Ci]=mt(t.substr(r))});zt("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[zn]=mt(t.substr(0,r)),e[Ci]=mt(t.substr(r,2)),e[Vo]=mt(t.substr(s))});function noe(t){return(t+"").toLowerCase().charAt(0)==="p"}var roe=/[ap]\.?m?\.?/i,soe=kh("Hours",!0);function ioe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var ZO={calendar:qse,longDateFormat:Xse,invalidDate:Zse,ordinal:tie,dayOfMonthOrdinalParse:nie,relativeTime:sie,months:wie,monthsShort:WO,week:Nie,weekdays:Fie,weekdaysMin:Vie,weekdaysShort:QO,meridiemParse:roe},nn={},cf={},hp;function ooe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function mA(t){return t&&t.toLowerCase().replace("_","-")}function aoe(t){for(var e=0,n,r,s,i;e<t.length;){for(i=mA(t[e]).split("-"),n=i.length,r=mA(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=Ny(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&ooe(i,r)>=n-1)break;n--}e++}return hp}function loe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ny(t){var e=null,n;if(nn[t]===void 0&&typeof fg<"u"&&fg&&fg.exports&&loe(t))try{e=hp._abbr,n=require,n("./locale/"+t),dl(e)}catch{nn[t]=null}return nn[t]}function dl(t,e){var n;return t&&(Br(e)?n=va(t):n=FI(t,e),n?hp=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),hp._abbr}function FI(t,e){if(e!==null){var n,r=ZO;if(e.abbr=t,nn[t]!=null)OO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=nn[t]._config;else if(e.parentLocale!=null)if(nn[e.parentLocale]!=null)r=nn[e.parentLocale]._config;else if(n=Ny(e.parentLocale),n!=null)r=n._config;else return cf[e.parentLocale]||(cf[e.parentLocale]=[]),cf[e.parentLocale].push({name:t,config:e}),null;return nn[t]=new RI(ME(r,e)),cf[t]&&cf[t].forEach(function(s){FI(s.name,s.config)}),dl(t),nn[t]}else return delete nn[t],null}function coe(t,e){if(e!=null){var n,r,s=ZO;nn[t]!=null&&nn[t].parentLocale!=null?nn[t].set(ME(nn[t]._config,e)):(r=Ny(t),r!=null&&(s=r._config),e=ME(s,e),r==null&&(e.abbr=t),n=new RI(e),n.parentLocale=nn[t],nn[t]=n),dl(t)}else nn[t]!=null&&(nn[t].parentLocale!=null?(nn[t]=nn[t].parentLocale,t===dl()&&dl(t)):nn[t]!=null&&delete nn[t]);return nn[t]}function va(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return hp;if(!Ni(t)){if(e=Ny(t),e)return e;t=[t]}return aoe(t)}function uoe(){return OE(nn)}function VI(t){var e,n=t._a;return n&&Xe(t).overflow===-2&&(e=n[Fo]<0||n[Fo]>11?Fo:n[Hi]<1||n[Hi]>MI(n[br],n[Fo])?Hi:n[zn]<0||n[zn]>24||n[zn]===24&&(n[Ci]!==0||n[Vo]!==0||n[oc]!==0)?zn:n[Ci]<0||n[Ci]>59?Ci:n[Vo]<0||n[Vo]>59?Vo:n[oc]<0||n[oc]>999?oc:-1,Xe(t)._overflowDayOfYear&&(e<br||e>Hi)&&(e=Hi),Xe(t)._overflowWeeks&&e===-1&&(e=pie),Xe(t)._overflowWeekday&&e===-1&&(e=mie),Xe(t).overflow=e),t}var doe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hoe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,foe=/Z|[+-]\d\d(?::?\d\d)?/,l2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Xw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],poe=/^\/?Date\((-?\d+)/i,moe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,goe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ej(t){var e,n,r=t._i,s=doe.exec(r)||hoe.exec(r),i,o,a,l,c=l2.length,u=Xw.length;if(s){for(Xe(t).iso=!0,e=0,n=c;e<n;e++)if(l2[e][1].exec(s[1])){o=l2[e][0],i=l2[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(s[3]){for(e=0,n=u;e<n;e++)if(Xw[e][1].exec(s[3])){a=(s[2]||" ")+Xw[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(s[4])if(foe.exec(s[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),zI(t)}else t._isValid=!1}function voe(t,e,n,r,s,i){var o=[yoe(t),WO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function yoe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function _oe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function woe(t,e,n){if(t){var r=QO.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return Xe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function xoe(t,e,n){if(t)return goe[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function tj(t){var e=moe.exec(_oe(t._i)),n;if(e){if(n=voe(e[4],e[3],e[2],e[5],e[6],e[7]),!woe(e[1],n,t))return;t._a=n,t._tzm=xoe(e[8],e[9],e[10]),t._d=up.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Xe(t).rfc2822=!0}else t._isValid=!1}function Eoe(t){var e=poe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(ej(t),t._isValid===!1)delete t._isValid;else return;if(tj(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:pe.createFromInputFallback(t)}pe.createFromInputFallback=si("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ou(t,e,n){return t??e??n}function Coe(t){var e=new Date(pe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function UI(t){var e,n,r=[],s,i,o;if(!t._d){for(s=Coe(t),t._w&&t._a[Hi]==null&&t._a[Fo]==null&&boe(t),t._dayOfYear!=null&&(o=Ou(t._a[br],s[br]),(t._dayOfYear>s0(o)||t._dayOfYear===0)&&(Xe(t)._overflowDayOfYear=!0),n=up(o,0,t._dayOfYear),t._a[Fo]=n.getUTCMonth(),t._a[Hi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[zn]===24&&t._a[Ci]===0&&t._a[Vo]===0&&t._a[oc]===0&&(t._nextDay=!0,t._a[zn]=0),t._d=(t._useUTC?up:Aie).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[zn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(Xe(t).weekdayMismatch=!0)}}function boe(t){var e,n,r,s,i,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,n=Ou(e.GG,t._a[br],dp(Zt(),1,4).year),r=Ou(e.W,1),s=Ou(e.E,1),(s<1||s>7)&&(l=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,c=dp(Zt(),i,o),n=Ou(e.gg,t._a[br],c.year),r=Ou(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(l=!0)):s=i),r<1||r>Ho(n,i,o)?Xe(t)._overflowWeeks=!0:l!=null?Xe(t)._overflowWeekday=!0:(a=KO(n,r,s,i,o),t._a[br]=a.year,t._dayOfYear=a.dayOfYear)}pe.ISO_8601=function(){};pe.RFC_2822=function(){};function zI(t){if(t._f===pe.ISO_8601){ej(t);return}if(t._f===pe.RFC_2822){tj(t);return}t._a=[],Xe(t).empty=!0;var e=""+t._i,n,r,s,i,o,a=e.length,l=0,c,u;for(s=jO(t._f,t._locale).match(AI)||[],u=s.length,n=0;n<u;n++)i=s[n],r=(e.match(die(i,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Xe(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),gd[i]?(r?Xe(t).empty=!1:Xe(t).unusedTokens.push(i),fie(i,r,t)):t._strict&&!r&&Xe(t).unusedTokens.push(i);Xe(t).charsLeftOver=a-l,e.length>0&&Xe(t).unusedInput.push(e),t._a[zn]<=12&&Xe(t).bigHour===!0&&t._a[zn]>0&&(Xe(t).bigHour=void 0),Xe(t).parsedDateParts=t._a.slice(0),Xe(t).meridiem=t._meridiem,t._a[zn]=Ioe(t._locale,t._a[zn],t._meridiem),c=Xe(t).era,c!==null&&(t._a[br]=t._locale.erasConvertYear(c,t._a[br])),UI(t),VI(t)}function Ioe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Toe(t){var e,n,r,s,i,o,a=!1,l=t._f.length;if(l===0){Xe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,o=!1,e=kI({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],zI(e),SI(e)&&(o=!0),i+=Xe(e).charsLeftOver,i+=Xe(e).unusedTokens.length*10,Xe(e).score=i,a?i<r&&(r=i,n=e):(r==null||i<r||o)&&(r=i,n=e,o&&(a=!0));qa(t,n||e)}function Soe(t){if(!t._d){var e=PI(t._i),n=e.day===void 0?e.date:e.day;t._a=LO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),UI(t)}}function koe(t){var e=new om(VI(nj(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function nj(t){var e=t._i,n=t._f;return t._locale=t._locale||va(t._l),e===null||n===void 0&&e===""?Iy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Di(e)?new om(VI(e)):(im(e)?t._d=e:Ni(n)?Toe(t):n?zI(t):Roe(t),SI(t)||(t._d=null),t))}function Roe(t){var e=t._i;Br(e)?t._d=new Date(pe.now()):im(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Eoe(t):Ni(e)?(t._a=LO(e.slice(0),function(n){return parseInt(n,10)}),UI(t)):_c(e)?Soe(t):sa(e)?t._d=new Date(e):pe.createFromInputFallback(t)}function rj(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(_c(t)&&TI(t)||Ni(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,koe(i)}function Zt(t,e,n,r){return rj(t,e,n,r,!1)}var Aoe=si("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Zt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Iy()}),Poe=si("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Zt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Iy()});function sj(t,e){var n,r;if(e.length===1&&Ni(e[0])&&(e=e[0]),!e.length)return Zt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Noe(){var t=[].slice.call(arguments,0);return sj("isBefore",t)}function Doe(){var t=[].slice.call(arguments,0);return sj("isAfter",t)}var Loe=function(){return Date.now?Date.now():+new Date},uf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Moe(t){var e,n=!1,r,s=uf.length;for(e in t)if(bt(t,e)&&!(In.call(uf,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[uf[r]]){if(n)return!1;parseFloat(t[uf[r]])!==mt(t[uf[r]])&&(n=!0)}return!0}function Ooe(){return this._isValid}function joe(){return Mi(NaN)}function Dy(t){var e=PI(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Moe(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=va(),this._bubble()}function Q2(t){return t instanceof Dy}function $E(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function $oe(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&mt(t[o])!==mt(e[o]))&&i++;return i+s}function ij(t,e){Ne(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+co(~~(n/60),2)+e+co(~~n%60,2)})}ij("Z",":");ij("ZZ","");ge("Z",Ay);ge("ZZ",Ay);zt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=BI(Ay,t)});var Foe=/([\+\-]|\d\d)/gi;function BI(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(Foe)||["-",0,0],i=+(s[1]*60)+mt(s[2]),i===0?0:s[0]==="+"?i:-i)}function WI(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Di(t)||im(t)?t.valueOf():Zt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),pe.updateOffset(n,!1),n):Zt(t).local()}function FE(t){return-Math.round(t._d.getTimezoneOffset())}pe.updateOffset=function(){};function Voe(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=BI(Ay,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=FE(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?lj(this,Mi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:FE(this)}function Uoe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zoe(t){return this.utcOffset(0,t)}function Boe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(FE(this),"m")),this}function Woe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=BI(cie,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Hoe(t){return this.isValid()?(t=t?Zt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Goe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qoe(){if(!Br(this._isDSTShifted))return this._isDSTShifted;var t={},e;return kI(t,this),t=nj(t),t._a?(e=t._isUTC?go(t._a):Zt(t._a),this._isDSTShifted=this.isValid()&&$oe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Yoe(){return this.isValid()?!this._isUTC:!1}function Koe(){return this.isValid()?this._isUTC:!1}function oj(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Qoe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Xoe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mi(t,e){var n=t,r=null,s,i,o;return Q2(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:sa(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Qoe.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:mt(r[Hi])*s,h:mt(r[zn])*s,m:mt(r[Ci])*s,s:mt(r[Vo])*s,ms:mt($E(r[oc]*1e3))*s}):(r=Xoe.exec(t))?(s=r[1]==="-"?-1:1,n={y:jl(r[2],s),M:jl(r[3],s),w:jl(r[4],s),d:jl(r[5],s),h:jl(r[6],s),m:jl(r[7],s),s:jl(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Joe(Zt(n.from),Zt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Dy(n),Q2(t)&&bt(t,"_locale")&&(i._locale=t._locale),Q2(t)&&bt(t,"_isValid")&&(i._isValid=t._isValid),i}Mi.fn=Dy.prototype;Mi.invalid=joe;function jl(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function gA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Joe(t,e){var n;return t.isValid()&&e.isValid()?(e=WI(e,t),t.isBefore(e)?n=gA(t,e):(n=gA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function aj(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(OO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=Mi(n,r),lj(this,s,t),this}}function lj(t,e,n,r){var s=e._milliseconds,i=$E(e._days),o=$E(e._months);t.isValid()&&(r=r??!0,o&&GO(t,cp(t,"Month")+o*n),i&&BO(t,"Date",cp(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&pe.updateOffset(t,i||o))}var Zoe=aj(1,"add"),eae=aj(-1,"subtract");function cj(t){return typeof t=="string"||t instanceof String}function tae(t){return Di(t)||im(t)||cj(t)||sa(t)||rae(t)||nae(t)||t===null||t===void 0}function nae(t){var e=_c(t)&&!TI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||bt(t,i);return e&&n}function rae(t){var e=Ni(t),n=!1;return e&&(n=t.filter(function(r){return!sa(r)&&cj(t)}).length===0),e&&n}function sae(t){var e=_c(t)&&!TI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||bt(t,i);return e&&n}function iae(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function oae(t,e){arguments.length===1&&(arguments[0]?tae(arguments[0])?(t=arguments[0],e=void 0):sae(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Zt(),r=WI(n,this).startOf("day"),s=pe.calendarFormat(this,r)||"sameElse",i=e&&(vo(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,Zt(n)))}function aae(){return new om(this)}function lae(t,e){var n=Di(t)?t:Zt(t);return this.isValid()&&n.isValid()?(e=ii(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function cae(t,e){var n=Di(t)?t:Zt(t);return this.isValid()&&n.isValid()?(e=ii(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function uae(t,e,n,r){var s=Di(t)?t:Zt(t),i=Di(e)?e:Zt(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function dae(t,e){var n=Di(t)?t:Zt(t),r;return this.isValid()&&n.isValid()?(e=ii(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function hae(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function fae(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function pae(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=WI(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=ii(e),e){case"year":i=X2(this,r)/12;break;case"month":i=X2(this,r);break;case"quarter":i=X2(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:Vs(i)}function X2(t,e){if(t.date()<e.date())return-X2(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function mae(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gae(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?K2(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):vo(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",K2(n,"Z")):K2(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function vae(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function yae(t){t||(t=this.isUtc()?pe.defaultFormatUtc:pe.defaultFormat);var e=K2(this,t);return this.localeData().postformat(e)}function _ae(t,e){return this.isValid()&&(Di(t)&&t.isValid()||Zt(t).isValid())?Mi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wae(t){return this.from(Zt(),t)}function xae(t,e){return this.isValid()&&(Di(t)&&t.isValid()||Zt(t).isValid())?Mi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Eae(t){return this.to(Zt(),t)}function uj(t){var e;return t===void 0?this._locale._abbr:(e=va(t),e!=null&&(this._locale=e),this)}var dj=si("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function hj(){return this._locale}var A1=1e3,vd=60*A1,P1=60*vd,fj=(365*400+97)*24*P1;function yd(t,e){return(t%e+e)%e}function pj(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-fj:new Date(t,e,n).valueOf()}function mj(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-fj:Date.UTC(t,e,n)}function Cae(t){var e,n;if(t=ii(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?mj:pj,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=yd(e+(this._isUTC?0:this.utcOffset()*vd),P1);break;case"minute":e=this._d.valueOf(),e-=yd(e,vd);break;case"second":e=this._d.valueOf(),e-=yd(e,A1);break}return this._d.setTime(e),pe.updateOffset(this,!0),this}function bae(t){var e,n;if(t=ii(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?mj:pj,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=P1-yd(e+(this._isUTC?0:this.utcOffset()*vd),P1)-1;break;case"minute":e=this._d.valueOf(),e+=vd-yd(e,vd)-1;break;case"second":e=this._d.valueOf(),e+=A1-yd(e,A1)-1;break}return this._d.setTime(e),pe.updateOffset(this,!0),this}function Iae(){return this._d.valueOf()-(this._offset||0)*6e4}function Tae(){return Math.floor(this.valueOf()/1e3)}function Sae(){return new Date(this.valueOf())}function kae(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Rae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Aae(){return this.isValid()?this.toISOString():null}function Pae(){return SI(this)}function Nae(){return qa({},Xe(this))}function Dae(){return Xe(this).overflow}function Lae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ne("N",0,0,"eraAbbr");Ne("NN",0,0,"eraAbbr");Ne("NNN",0,0,"eraAbbr");Ne("NNNN",0,0,"eraName");Ne("NNNNN",0,0,"eraNarrow");Ne("y",["y",1],"yo","eraYear");Ne("y",["yy",2],0,"eraYear");Ne("y",["yyy",3],0,"eraYear");Ne("y",["yyyy",4],0,"eraYear");ge("N",HI);ge("NN",HI);ge("NNN",HI);ge("NNNN",Hae);ge("NNNNN",Gae);zt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?Xe(n).era=s:Xe(n).invalidEra=t});ge("y",Th);ge("yy",Th);ge("yyy",Th);ge("yyyy",Th);ge("yo",qae);zt(["y","yy","yyy","yyyy"],br);zt(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[br]=n._locale.eraYearOrdinalParse(t,s):e[br]=parseInt(t,10)});function Mae(t,e){var n,r,s,i=this._eras||va("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=pe(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=pe(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function Oae(t,e,n){var r,s,i=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[r];break;case"NNNN":if(o===t)return i[r];break;case"NNNNN":if(l===t)return i[r];break}else if([o,a,l].indexOf(t)>=0)return i[r]}function jae(t,e){var n=t.since<=t.until?1:-1;return e===void 0?pe(t.since).year():pe(t.since).year()+(e-t.offset)*n}function $ae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Fae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Vae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Uae(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-pe(s[t].since).year())*n+s[t].offset;return this.year()}function zae(t){return bt(this,"_erasNameRegex")||GI.call(this),t?this._erasNameRegex:this._erasRegex}function Bae(t){return bt(this,"_erasAbbrRegex")||GI.call(this),t?this._erasAbbrRegex:this._erasRegex}function Wae(t){return bt(this,"_erasNarrowRegex")||GI.call(this),t?this._erasNarrowRegex:this._erasRegex}function HI(t,e){return e.erasAbbrRegex(t)}function Hae(t,e){return e.erasNameRegex(t)}function Gae(t,e){return e.erasNarrowRegex(t)}function qae(t,e){return e._eraYearOrdinalRegex||Th}function GI(){var t=[],e=[],n=[],r=[],s,i,o,a,l,c=this.eras();for(s=0,i=c.length;s<i;++s)o=Wo(c[s].name),a=Wo(c[s].abbr),l=Wo(c[s].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Ne(0,["gg",2],0,function(){return this.weekYear()%100});Ne(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ly(t,e){Ne(0,[t,t.length],0,e)}Ly("gggg","weekYear");Ly("ggggg","weekYear");Ly("GGGG","isoWeekYear");Ly("GGGGG","isoWeekYear");ge("G",Ry);ge("g",Ry);ge("GG",en,Ds);ge("gg",en,Ds);ge("GGGG",DI,NI);ge("gggg",DI,NI);ge("GGGGG",ky,Ty);ge("ggggg",ky,Ty);lm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=mt(t)});lm(["gg","GG"],function(t,e,n,r){e[r]=pe.parseTwoDigitYear(t)});function Yae(t){return gj.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Kae(t){return gj.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Qae(){return Ho(this.year(),1,4)}function Xae(){return Ho(this.isoWeekYear(),1,4)}function Jae(){var t=this.localeData()._week;return Ho(this.year(),t.dow,t.doy)}function Zae(){var t=this.localeData()._week;return Ho(this.weekYear(),t.dow,t.doy)}function gj(t,e,n,r,s){var i;return t==null?dp(this,r,s).year:(i=Ho(t,r,s),e>i&&(e=i),ele.call(this,t,e,n,r,s))}function ele(t,e,n,r,s){var i=KO(t,e,n,r,s),o=up(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ne("Q",0,"Qo","quarter");ge("Q",$O);zt("Q",function(t,e){e[Fo]=(mt(t)-1)*3});function tle(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ne("D",["DD",2],"Do","date");ge("D",en,Sh);ge("DD",en,Ds);ge("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});zt(["D","DD"],Hi);zt("Do",function(t,e){e[Hi]=mt(t.match(en)[0])});var vj=kh("Date",!0);Ne("DDD",["DDDD",3],"DDDo","dayOfYear");ge("DDD",Sy);ge("DDDD",FO);zt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=mt(t)});function nle(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ne("m",["mm",2],0,"minute");ge("m",en,LI);ge("mm",en,Ds);zt(["m","mm"],Ci);var rle=kh("Minutes",!1);Ne("s",["ss",2],0,"second");ge("s",en,LI);ge("ss",en,Ds);zt(["s","ss"],Vo);var sle=kh("Seconds",!1);Ne("S",0,0,function(){return~~(this.millisecond()/100)});Ne(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ne(0,["SSS",3],0,"millisecond");Ne(0,["SSSS",4],0,function(){return this.millisecond()*10});Ne(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ne(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ne(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ne(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ne(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ge("S",Sy,$O);ge("SS",Sy,Ds);ge("SSS",Sy,FO);var Ya,yj;for(Ya="SSSS";Ya.length<=9;Ya+="S")ge(Ya,Th);function ile(t,e){e[oc]=mt(("0."+t)*1e3)}for(Ya="S";Ya.length<=9;Ya+="S")zt(Ya,ile);yj=kh("Milliseconds",!1);Ne("z",0,0,"zoneAbbr");Ne("zz",0,0,"zoneName");function ole(){return this._isUTC?"UTC":""}function ale(){return this._isUTC?"Coordinated Universal Time":""}var J=om.prototype;J.add=Zoe;J.calendar=oae;J.clone=aae;J.diff=pae;J.endOf=bae;J.format=yae;J.from=_ae;J.fromNow=wae;J.to=xae;J.toNow=Eae;J.get=vie;J.invalidAt=Dae;J.isAfter=lae;J.isBefore=cae;J.isBetween=uae;J.isSame=dae;J.isSameOrAfter=hae;J.isSameOrBefore=fae;J.isValid=Pae;J.lang=dj;J.locale=uj;J.localeData=hj;J.max=Poe;J.min=Aoe;J.parsingFlags=Nae;J.set=yie;J.startOf=Cae;J.subtract=eae;J.toArray=kae;J.toObject=Rae;J.toDate=Sae;J.toISOString=gae;J.inspect=vae;typeof Symbol<"u"&&Symbol.for!=null&&(J[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});J.toJSON=Aae;J.toString=mae;J.unix=Tae;J.valueOf=Iae;J.creationData=Lae;J.eraName=$ae;J.eraNarrow=Fae;J.eraAbbr=Vae;J.eraYear=Uae;J.year=zO;J.isLeapYear=gie;J.weekYear=Yae;J.isoWeekYear=Kae;J.quarter=J.quarters=tle;J.month=qO;J.daysInMonth=Sie;J.week=J.weeks=Mie;J.isoWeek=J.isoWeeks=Oie;J.weeksInYear=Jae;J.weeksInWeekYear=Zae;J.isoWeeksInYear=Qae;J.isoWeeksInISOWeekYear=Xae;J.date=vj;J.day=J.days=Kie;J.weekday=Qie;J.isoWeekday=Xie;J.dayOfYear=nle;J.hour=J.hours=soe;J.minute=J.minutes=rle;J.second=J.seconds=sle;J.millisecond=J.milliseconds=yj;J.utcOffset=Voe;J.utc=zoe;J.local=Boe;J.parseZone=Woe;J.hasAlignedHourOffset=Hoe;J.isDST=Goe;J.isLocal=Yoe;J.isUtcOffset=Koe;J.isUtc=oj;J.isUTC=oj;J.zoneAbbr=ole;J.zoneName=ale;J.dates=si("dates accessor is deprecated. Use date instead.",vj);J.months=si("months accessor is deprecated. Use month instead",qO);J.years=si("years accessor is deprecated. Use year instead",zO);J.zone=si("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Uoe);J.isDSTShifted=si("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qoe);function lle(t){return Zt(t*1e3)}function cle(){return Zt.apply(null,arguments).parseZone()}function _j(t){return t}var Tt=RI.prototype;Tt.calendar=Yse;Tt.longDateFormat=Jse;Tt.invalidDate=eie;Tt.ordinal=rie;Tt.preparse=_j;Tt.postformat=_j;Tt.relativeTime=iie;Tt.pastFuture=oie;Tt.set=Gse;Tt.eras=Mae;Tt.erasParse=Oae;Tt.erasConvertYear=jae;Tt.erasAbbrRegex=Bae;Tt.erasNameRegex=zae;Tt.erasNarrowRegex=Wae;Tt.months=Cie;Tt.monthsShort=bie;Tt.monthsParse=Tie;Tt.monthsRegex=Rie;Tt.monthsShortRegex=kie;Tt.week=Pie;Tt.firstDayOfYear=Lie;Tt.firstDayOfWeek=Die;Tt.weekdays=Wie;Tt.weekdaysMin=Gie;Tt.weekdaysShort=Hie;Tt.weekdaysParse=Yie;Tt.weekdaysRegex=Jie;Tt.weekdaysShortRegex=Zie;Tt.weekdaysMinRegex=eoe;Tt.isPM=noe;Tt.meridiem=ioe;function N1(t,e,n,r){var s=va(),i=go().set(r,e);return s[n](i,t)}function wj(t,e,n){if(sa(t)&&(e=t,t=void 0),t=t||"",e!=null)return N1(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=N1(t,r,n,"month");return s}function qI(t,e,n,r){typeof t=="boolean"?(sa(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,sa(e)&&(n=e,e=void 0),e=e||"");var s=va(),i=t?s._week.dow:0,o,a=[];if(n!=null)return N1(e,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=N1(e,(o+i)%7,r,"day");return a}function ule(t,e){return wj(t,e,"months")}function dle(t,e){return wj(t,e,"monthsShort")}function hle(t,e,n){return qI(t,e,n,"weekdays")}function fle(t,e,n){return qI(t,e,n,"weekdaysShort")}function ple(t,e,n){return qI(t,e,n,"weekdaysMin")}dl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=mt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});pe.lang=si("moment.lang is deprecated. Use moment.locale instead.",dl);pe.langData=si("moment.langData is deprecated. Use moment.localeData instead.",va);var Eo=Math.abs;function mle(){var t=this._data;return this._milliseconds=Eo(this._milliseconds),this._days=Eo(this._days),this._months=Eo(this._months),t.milliseconds=Eo(t.milliseconds),t.seconds=Eo(t.seconds),t.minutes=Eo(t.minutes),t.hours=Eo(t.hours),t.months=Eo(t.months),t.years=Eo(t.years),this}function xj(t,e,n,r){var s=Mi(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function gle(t,e){return xj(this,t,e,1)}function vle(t,e){return xj(this,t,e,-1)}function vA(t){return t<0?Math.floor(t):Math.ceil(t)}function yle(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=vA(VE(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=Vs(t/1e3),r.seconds=s%60,i=Vs(s/60),r.minutes=i%60,o=Vs(i/60),r.hours=o%24,e+=Vs(o/24),l=Vs(Ej(e)),n+=l,e-=vA(VE(l)),a=Vs(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function Ej(t){return t*4800/146097}function VE(t){return t*146097/4800}function _le(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=ii(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+Ej(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(VE(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ya(t){return function(){return this.as(t)}}var Cj=ya("ms"),wle=ya("s"),xle=ya("m"),Ele=ya("h"),Cle=ya("d"),ble=ya("w"),Ile=ya("M"),Tle=ya("Q"),Sle=ya("y"),kle=Cj;function Rle(){return Mi(this)}function Ale(t){return t=ii(t),this.isValid()?this[t+"s"]():NaN}function lu(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ple=lu("milliseconds"),Nle=lu("seconds"),Dle=lu("minutes"),Lle=lu("hours"),Mle=lu("days"),Ole=lu("months"),jle=lu("years");function $le(){return Vs(this.days()/7)}var To=Math.round,Ju={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Fle(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function Vle(t,e,n,r){var s=Mi(t).abs(),i=To(s.as("s")),o=To(s.as("m")),a=To(s.as("h")),l=To(s.as("d")),c=To(s.as("M")),u=To(s.as("w")),h=To(s.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=r,Fle.apply(null,f)}function Ule(t){return t===void 0?To:typeof t=="function"?(To=t,!0):!1}function zle(t,e){return Ju[t]===void 0?!1:e===void 0?Ju[t]:(Ju[t]=e,t==="s"&&(Ju.ss=e-1),!0)}function Ble(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ju,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Ju,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=Vle(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var Jw=Math.abs;function bu(t){return(t>0)-(t<0)||+t}function My(){if(!this.isValid())return this.localeData().invalidDate();var t=Jw(this._milliseconds)/1e3,e=Jw(this._days),n=Jw(this._months),r,s,i,o,a=this.asSeconds(),l,c,u,h;return a?(r=Vs(t/60),s=Vs(r/60),t%=60,r%=60,i=Vs(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=bu(this._months)!==bu(a)?"-":"",u=bu(this._days)!==bu(a)?"-":"",h=bu(this._milliseconds)!==bu(a)?"-":"",l+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(s||r||t?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var xt=Dy.prototype;xt.isValid=Ooe;xt.abs=mle;xt.add=gle;xt.subtract=vle;xt.as=_le;xt.asMilliseconds=Cj;xt.asSeconds=wle;xt.asMinutes=xle;xt.asHours=Ele;xt.asDays=Cle;xt.asWeeks=ble;xt.asMonths=Ile;xt.asQuarters=Tle;xt.asYears=Sle;xt.valueOf=kle;xt._bubble=yle;xt.clone=Rle;xt.get=Ale;xt.milliseconds=Ple;xt.seconds=Nle;xt.minutes=Dle;xt.hours=Lle;xt.days=Mle;xt.weeks=$le;xt.months=Ole;xt.years=jle;xt.humanize=Ble;xt.toISOString=My;xt.toString=My;xt.toJSON=My;xt.locale=uj;xt.localeData=hj;xt.toIsoString=si("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",My);xt.lang=dj;Ne("X",0,0,"unix");Ne("x",0,0,"valueOf");ge("x",Ry);ge("X",uie);zt("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});zt("x",function(t,e,n){n._d=new Date(mt(t))});//! moment.js
pe.version="2.30.1";Wse(Zt);pe.fn=J;pe.min=Noe;pe.max=Doe;pe.now=Loe;pe.utc=go;pe.unix=lle;pe.months=ule;pe.isDate=im;pe.locale=dl;pe.invalid=Iy;pe.duration=Mi;pe.isMoment=Di;pe.weekdays=hle;pe.parseZone=cle;pe.localeData=va;pe.isDuration=Q2;pe.monthsShort=dle;pe.weekdaysMin=ple;pe.defineLocale=FI;pe.updateLocale=coe;pe.locales=uoe;pe.weekdaysShort=fle;pe.normalizeUnits=ii;pe.relativeTimeRounding=Ule;pe.relativeTimeThreshold=zle;pe.calendarFormat=iae;pe.prototype=J;pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Wle={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Oy=E8(Wle),Gr=PK(Oy),Hle=new Ao,Te=UZ(Oy,{cache:lee()}),ac=_te(Oy),fp=Vse(Oy);zZ(Te).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const Bn=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},cu=async(t,e,n,r,s,i=!1,o,a=200)=>{const l=ys.get("userId");v.useEffect(()=>{if(!l)return;const c=Tr(t,...e),u=mo(c,h=>{if(r(!0),h.empty)s(!0),n([]);else{const f=h.docs.map(p=>({...p.data(),[i?"uid":"id"]:p.id}));n(f),s(!1)}Bn(r,a)},h=>{console.log("Error fetching documents: ",h.message),Bn(r,a),o("Error fetching documents: "+h.message+" Come here again at 1:30 pm.")});return()=>u()},[])},Gle=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(s){if(r++,r>=e)throw console.log("Failed to save user data",s.message),s;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(i=>setTimeout(i,n*r))}},Zw=async(t,e,n,r="",s)=>{try{const i=Ce(Te,"users",s),o=await lo(i),a={name:t,email:e,password:n,image:r,isAdmin:!1,createdAt:wr()};o.exists()||await Gle(()=>Uc(Ce(Te,"users",s),a))}catch(i){console.log(i.message)}};function YI(t,e,n){v.useEffect(()=>{const r=lp(fp,`/status/${t}`);Cy(r,s=>{if(s.exists()){const{status:i,lastChanged:o}=s.val();e(i),n(pe(o).fromNow())}})},[])}function bj(t,e){localStorage.setItem(t,JSON.stringify(e))}function UE(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function qle(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let yA;function Yle(t){t(!0),clearTimeout(yA),yA=setTimeout(()=>{t(!1)},[4e3])}function Ks(t){scrollTo({top:0,...{behavior:t}})}function i0(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function Kle(t){document.body.style.overflow=t}function jy(t,e){v.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function Qle(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${ex(n,"hours")} ${ex(r,"minutes")} ${ex(s,"seconds")}`}catch{return null}}function ex(t,e){return t?`${t} ${e}`:""}function _A(t){return t>=10?t:`0${t}`}const $y=(t,e)=>{const n=ys.get("userId");let r;return t.forEach(s=>{s.id===e&&(r=s)}),r?r.seenBy.includes(n):!1},Xle=(t,e)=>{let n=0;return t.forEach(r=>{$y(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function cm(t){v.useEffect(()=>{const e=()=>{const n=window.scrollY;bj(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function um(t){v.useEffect(()=>{const e=UE(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function Go(t,e){try{console.log("Fetching counts...");const n=await j5(t);e(n.data().count)}catch(n){console.log(n.message)}}async function Jle(t,e){const n=wA(t,e);try{if(n)return console.log("Fetched from the array..."),n;{const r=Ce(Ue(Te,"users"),e);console.log("fetching user...");const s=await lo(r);if(s.exists()){const i={uid:s.id,...s.data()};return wA(t,s.id)?console.log("User already exists in the array:"):t.push(i),i}else return console.log("No user found in Firestore"),null}}catch(r){return console.error("Error fetching user:",r.message),null}}function wA(t,e){return t.find(n=>n.uid===e)}function $n(t,e,n,r=()=>{},s=[],i=150){v.useEffect(()=>{(async()=>{r(!0);const a=await Jle(e,t);n(a),Bn(r,i)})()},s)}const Zle={black:"#000",white:"#fff"},pp=Zle,ece={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Iu=ece,tce={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Tu=tce,nce={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Su=nce,rce={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ku=rce,sce={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ru=sce,ice={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},df=ice,oce={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ace=oce;function ia(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const lce=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),Yd="$$material";function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(null,arguments)}function fe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function cce(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var uce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dce=cce(function(t){return uce.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),hce=!1;function fce(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function pce(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mce=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!hce:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pce(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=fce(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),gr="-ms-",D1="-moz-",St="-webkit-",Ij="comm",KI="rule",QI="decl",gce="@import",Tj="@keyframes",vce="@layer",yce=Math.abs,Fy=String.fromCharCode,_ce=Object.assign;function wce(t,e){return rr(t,0)^45?(((e<<2^rr(t,0))<<2^rr(t,1))<<2^rr(t,2))<<2^rr(t,3):0}function Sj(t){return t.trim()}function xce(t,e){return(t=e.exec(t))?t[0]:t}function kt(t,e,n){return t.replace(e,n)}function zE(t,e){return t.indexOf(e)}function rr(t,e){return t.charCodeAt(e)|0}function mp(t,e,n){return t.slice(e,n)}function Fi(t){return t.length}function XI(t){return t.length}function c2(t,e){return e.push(t),t}function Ece(t,e){return t.map(e).join("")}var Vy=1,Kd=1,kj=0,as=0,Ln=0,Rh="";function Uy(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Vy,column:Kd,length:o,return:""}}function hf(t,e){return _ce(Uy("",null,null,"",null,null,0),t,{length:-t.length},e)}function Cce(){return Ln}function bce(){return Ln=as>0?rr(Rh,--as):0,Kd--,Ln===10&&(Kd=1,Vy--),Ln}function Es(){return Ln=as<kj?rr(Rh,as++):0,Kd++,Ln===10&&(Kd=1,Vy++),Ln}function so(){return rr(Rh,as)}function J2(){return as}function dm(t,e){return mp(Rh,t,e)}function gp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rj(t){return Vy=Kd=1,kj=Fi(Rh=t),as=0,[]}function Aj(t){return Rh="",t}function Z2(t){return Sj(dm(as-1,BE(t===91?t+2:t===40?t+1:t)))}function Ice(t){for(;(Ln=so())&&Ln<33;)Es();return gp(t)>2||gp(Ln)>3?"":" "}function Tce(t,e){for(;--e&&Es()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return dm(t,J2()+(e<6&&so()==32&&Es()==32))}function BE(t){for(;Es();)switch(Ln){case t:return as;case 34:case 39:t!==34&&t!==39&&BE(Ln);break;case 40:t===41&&BE(t);break;case 92:Es();break}return as}function Sce(t,e){for(;Es()&&t+Ln!==57;)if(t+Ln===84&&so()===47)break;return"/*"+dm(e,as-1)+"*"+Fy(t===47?t:Es())}function kce(t){for(;!gp(so());)Es();return dm(t,as)}function Rce(t){return Aj(eg("",null,null,null,[""],t=Rj(t),0,[0],t))}function eg(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,g=1,E=1,y=1,w=0,_="",x=s,b=i,C=r,T=_;E;)switch(m=w,w=Es()){case 40:if(m!=108&&rr(T,h-1)==58){zE(T+=kt(Z2(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Z2(w);break;case 9:case 10:case 13:case 32:T+=Ice(m);break;case 92:T+=Tce(J2()-1,7);continue;case 47:switch(so()){case 42:case 47:c2(Ace(Sce(Es(),J2()),e,n),l);break;default:T+="/"}break;case 123*g:a[c++]=Fi(T)*y;case 125*g:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:y==-1&&(T=kt(T,/\f/g,"")),p>0&&Fi(T)-h&&c2(p>32?EA(T+";",r,n,h-1):EA(kt(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(c2(C=xA(T,e,n,c,u,s,a,_,x=[],b=[],h),i),w===123)if(u===0)eg(T,e,C,C,x,i,h,a,b);else switch(f===99&&rr(T,3)===110?100:f){case 100:case 108:case 109:case 115:eg(t,C,C,r&&c2(xA(t,C,C,0,0,s,a,_,s,x=[],h),b),s,b,h,a,r?x:b);break;default:eg(T,C,C,C,[""],b,0,a,b)}}c=u=p=0,g=y=1,_=T="",h=o;break;case 58:h=1+Fi(T),p=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&bce()==125)continue}switch(T+=Fy(w),w*g){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Fi(T)-1)*y,y=1;break;case 64:so()===45&&(T+=Z2(Es())),f=so(),u=h=Fi(_=T+=kce(J2())),w++;break;case 45:m===45&&Fi(T)==2&&(g=0)}}return i}function xA(t,e,n,r,s,i,o,a,l,c,u){for(var h=s-1,f=s===0?i:[""],p=XI(f),m=0,g=0,E=0;m<r;++m)for(var y=0,w=mp(t,h+1,h=yce(g=o[m])),_=t;y<p;++y)(_=Sj(g>0?f[y]+" "+w:kt(w,/&\f/g,f[y])))&&(l[E++]=_);return Uy(t,e,n,s===0?KI:a,l,c,u)}function Ace(t,e,n){return Uy(t,e,n,Ij,Fy(Cce()),mp(t,2,-2),0)}function EA(t,e,n,r){return Uy(t,e,n,QI,mp(t,0,r),mp(t,r+1,-1),r)}function _d(t,e){for(var n="",r=XI(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Pce(t,e,n,r){switch(t.type){case vce:if(t.children.length)break;case gce:case QI:return t.return=t.return||t.value;case Ij:return"";case Tj:return t.return=t.value+"{"+_d(t.children,r)+"}";case KI:t.value=t.props.join(",")}return Fi(n=_d(t.children,r))?t.return=t.value+"{"+n+"}":""}function Nce(t){var e=XI(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function Dce(t){return function(e){e.root||(e=e.return)&&t(e)}}var Lce=function(e,n,r){for(var s=0,i=0;s=i,i=so(),s===38&&i===12&&(n[r]=1),!gp(i);)Es();return dm(e,as)},Mce=function(e,n){var r=-1,s=44;do switch(gp(s)){case 0:s===38&&so()===12&&(n[r]=1),e[r]+=Lce(as-1,n,r);break;case 2:e[r]+=Z2(s);break;case 4:if(s===44){e[++r]=so()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Fy(s)}while(s=Es());return e},Oce=function(e,n){return Aj(Mce(Rj(e),n))},CA=new WeakMap,jce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!CA.get(r))&&!s){CA.set(e,!0);for(var i=[],o=Oce(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},$ce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Pj(t,e){switch(wce(t,e)){case 5103:return St+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return St+t+D1+t+gr+t+t;case 6828:case 4268:return St+t+gr+t+t;case 6165:return St+t+gr+"flex-"+t+t;case 5187:return St+t+kt(t,/(\w+).+(:[^]+)/,St+"box-$1$2"+gr+"flex-$1$2")+t;case 5443:return St+t+gr+"flex-item-"+kt(t,/flex-|-self/,"")+t;case 4675:return St+t+gr+"flex-line-pack"+kt(t,/align-content|flex-|-self/,"")+t;case 5548:return St+t+gr+kt(t,"shrink","negative")+t;case 5292:return St+t+gr+kt(t,"basis","preferred-size")+t;case 6060:return St+"box-"+kt(t,"-grow","")+St+t+gr+kt(t,"grow","positive")+t;case 4554:return St+kt(t,/([^-])(transform)/g,"$1"+St+"$2")+t;case 6187:return kt(kt(kt(t,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),t,"")+t;case 5495:case 3959:return kt(t,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return kt(kt(t,/(.+:)(flex-)?(.*)/,St+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+t+t;case 4095:case 3583:case 4068:case 2532:return kt(t,/(.+)-inline(.+)/,St+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(t)-1-e>6)switch(rr(t,e+1)){case 109:if(rr(t,e+4)!==45)break;case 102:return kt(t,/(.+:)(.+)-([^]+)/,"$1"+St+"$2-$3$1"+D1+(rr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zE(t,"stretch")?Pj(kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rr(t,e+1)!==115)break;case 6444:switch(rr(t,Fi(t)-3-(~zE(t,"!important")&&10))){case 107:return kt(t,":",":"+St)+t;case 101:return kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+St+(rr(t,14)===45?"inline-":"")+"box$3$1"+St+"$2$3$1"+gr+"$2box$3")+t}break;case 5936:switch(rr(t,e+11)){case 114:return St+t+gr+kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return St+t+gr+kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return St+t+gr+kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return St+t+gr+t+t}return t}var Fce=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case QI:e.return=Pj(e.value,e.length);break;case Tj:return _d([hf(e,{value:kt(e.value,"@","@"+St)})],s);case KI:if(e.length)return Ece(e.props,function(i){switch(xce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _d([hf(e,{props:[kt(i,/:(read-\w+)/,":"+D1+"$1")]})],s);case"::placeholder":return _d([hf(e,{props:[kt(i,/:(plac\w+)/,":"+St+"input-$1")]}),hf(e,{props:[kt(i,/:(plac\w+)/,":"+D1+"$1")]}),hf(e,{props:[kt(i,/:(plac\w+)/,gr+"input-$1")]})],s)}return""})}},Vce=[Fce],Nj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var E=g.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=e.stylisPlugins||Vce,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var E=g.getAttribute("data-emotion").split(" "),y=1;y<E.length;y++)i[E[y]]=!0;a.push(g)});var l,c=[jce,$ce];{var u,h=[Pce,Dce(function(g){u.insert(g)})],f=Nce(c.concat(s,h)),p=function(E){return _d(Rce(E),f)};l=function(E,y,w,_){u=w,p(E?E+"{"+y.styles+"}":y.styles),_&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new mce({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m},Dj={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=typeof Symbol=="function"&&Symbol.for,JI=tr?Symbol.for("react.element"):60103,ZI=tr?Symbol.for("react.portal"):60106,zy=tr?Symbol.for("react.fragment"):60107,By=tr?Symbol.for("react.strict_mode"):60108,Wy=tr?Symbol.for("react.profiler"):60114,Hy=tr?Symbol.for("react.provider"):60109,Gy=tr?Symbol.for("react.context"):60110,eT=tr?Symbol.for("react.async_mode"):60111,qy=tr?Symbol.for("react.concurrent_mode"):60111,Yy=tr?Symbol.for("react.forward_ref"):60112,Ky=tr?Symbol.for("react.suspense"):60113,Uce=tr?Symbol.for("react.suspense_list"):60120,Qy=tr?Symbol.for("react.memo"):60115,Xy=tr?Symbol.for("react.lazy"):60116,zce=tr?Symbol.for("react.block"):60121,Bce=tr?Symbol.for("react.fundamental"):60117,Wce=tr?Symbol.for("react.responder"):60118,Hce=tr?Symbol.for("react.scope"):60119;function Ls(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JI:switch(t=t.type,t){case eT:case qy:case zy:case Wy:case By:case Ky:return t;default:switch(t=t&&t.$$typeof,t){case Gy:case Yy:case Xy:case Qy:case Hy:return t;default:return e}}case ZI:return e}}}function Lj(t){return Ls(t)===qy}Ft.AsyncMode=eT;Ft.ConcurrentMode=qy;Ft.ContextConsumer=Gy;Ft.ContextProvider=Hy;Ft.Element=JI;Ft.ForwardRef=Yy;Ft.Fragment=zy;Ft.Lazy=Xy;Ft.Memo=Qy;Ft.Portal=ZI;Ft.Profiler=Wy;Ft.StrictMode=By;Ft.Suspense=Ky;Ft.isAsyncMode=function(t){return Lj(t)||Ls(t)===eT};Ft.isConcurrentMode=Lj;Ft.isContextConsumer=function(t){return Ls(t)===Gy};Ft.isContextProvider=function(t){return Ls(t)===Hy};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JI};Ft.isForwardRef=function(t){return Ls(t)===Yy};Ft.isFragment=function(t){return Ls(t)===zy};Ft.isLazy=function(t){return Ls(t)===Xy};Ft.isMemo=function(t){return Ls(t)===Qy};Ft.isPortal=function(t){return Ls(t)===ZI};Ft.isProfiler=function(t){return Ls(t)===Wy};Ft.isStrictMode=function(t){return Ls(t)===By};Ft.isSuspense=function(t){return Ls(t)===Ky};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zy||t===qy||t===Wy||t===By||t===Ky||t===Uce||typeof t=="object"&&t!==null&&(t.$$typeof===Xy||t.$$typeof===Qy||t.$$typeof===Hy||t.$$typeof===Gy||t.$$typeof===Yy||t.$$typeof===Bce||t.$$typeof===Wce||t.$$typeof===Hce||t.$$typeof===zce)};Ft.typeOf=Ls;Dj.exports=Ft;var Gce=Dj.exports,Mj=Gce,qce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Oj={};Oj[Mj.ForwardRef]=qce;Oj[Mj.Memo]=Yce;var Kce=!0;function Qce(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var jj=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||Kce===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},$j=function(e,n,r){jj(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Xce(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Jce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Zce(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var eue=!1,tue=/[A-Z]|^ms/g,nue=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fj=function(e){return e.charCodeAt(1)===45},bA=function(e){return e!=null&&typeof e!="boolean"},tx=Zce(function(t){return Fj(t)?t:t.replace(tue,"-$&").toLowerCase()}),IA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(nue,function(r,s,i){return Vi={name:s,styles:i,next:Vi},s})}return Jce[e]!==1&&!Fj(e)&&typeof n=="number"&&n!==0?n+"px":n},rue="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function vp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Vi={name:s.name,styles:s.styles,next:Vi},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Vi={name:o.name,styles:o.styles,next:Vi},o=o.next;var a=i.styles+";";return a}return sue(t,e,n)}case"function":{if(t!==void 0){var l=Vi,c=n(t);return Vi=l,vp(t,e,c)}break}}var u=n;if(e==null)return u;var h=e[u];return h!==void 0?h:u}function sue(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=vp(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":bA(a)&&(r+=tx(i)+":"+IA(i,a)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&eue)throw new Error(rue);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)bA(o[l])&&(r+=tx(i)+":"+IA(i,o[l])+";");else{var c=vp(t,e,o);switch(i){case"animation":case"animationName":{r+=tx(i)+":"+c+";";break}default:r+=i+"{"+c+"}"}}}}return r}var TA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vi;function tT(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Vi=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=vp(n,e,i);else{var o=i;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=vp(n,e,t[a]),r){var l=i;s+=l[a]}TA.lastIndex=0;for(var c="",u;(u=TA.exec(s))!==null;)c+="-"+u[1];var h=Xce(s)+c;return{name:h,styles:s,next:Vi}}var iue=function(e){return e()},Vj=pg.useInsertionEffect?pg.useInsertionEffect:!1,oue=Vj||iue,SA=Vj||v.useLayoutEffect,Uj=v.createContext(typeof HTMLElement<"u"?Nj({key:"css"}):null),aue=Uj.Provider,zj=function(e){return v.forwardRef(function(n,r){var s=v.useContext(Uj);return e(n,s,r)})},hm=v.createContext({}),nx={exports:{}},kA;function Bj(){return kA||(kA=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(nx)),nx.exports}Bj();var lue=zj(function(t,e){var n=t.styles,r=tT([n],void 0,v.useContext(hm)),s=v.useRef();return SA(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),SA(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&$j(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function oa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return tT(e)}var Oi=function(){var e=oa.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},cue=dce,uue=function(e){return e!=="theme"},RA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?cue:uue},AA=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},due=!1,hue=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return jj(n,r,s),oue(function(){return $j(n,r,s)}),null},fue=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=AA(e,n,r),l=a||RA(s),c=!l("as");return function(){var u=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)h.push(u[p],u[0][p])}var m=zj(function(g,E,y){var w=c&&g.as||s,_="",x=[],b=g;if(g.theme==null){b={};for(var C in g)b[C]=g[C];b.theme=v.useContext(hm)}typeof g.className=="string"?_=Qce(E.registered,x,g.className):g.className!=null&&(_=g.className+" ");var T=tT(h.concat(x),E.registered,b);_+=E.key+"-"+T.name,o!==void 0&&(_+=" "+o);var I=c&&a===void 0?RA(w):l,S={};for(var k in g)c&&k==="as"||I(k)&&(S[k]=g[k]);return S.className=_,y&&(S.ref=y),v.createElement(v.Fragment,null,v.createElement(hue,{cache:E,serialized:T,isStringTag:typeof w=="string"}),v.createElement(w,S))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return o===void 0&&due?"NO_COMPONENT_SELECTOR":"."+o}}),m.withComponent=function(g,E){return t(g,M({},n,E,{shouldForwardProp:AA(m,E,!0)})).apply(void 0,h)},m}},pue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],WE=fue.bind();pue.forEach(function(t){WE[t]=WE(t)});let HE;typeof document=="object"&&(HE=Nj({key:"css",prepend:!0}));function mue(t){const{injectFirst:e,children:n}=t;return e&&HE?d.jsx(aue,{value:HE,children:n}):n}function gue(t){return t==null||Object.keys(t).length===0}function Wj(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(gue(s)?n:s):e;return d.jsx(lue,{styles:r})}function nT(t,e){return WE(t,e)}const Hj=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},vue=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Wj,StyledEngineProvider:mue,ThemeContext:hm,css:oa,default:nT,internal_processStyles:Hj,keyframes:Oi},Symbol.toStringTag,{value:"Module"}));function Po(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Gj(t){if(!Po(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Gj(t[n])}),e}function Vr(t,e,n={clone:!0}){const r=n.clone?M({},t):t;return Po(t)&&Po(e)&&Object.keys(e).forEach(s=>{Po(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Po(t[s])?r[s]=Vr(t[s],e[s],n):n.clone?r[s]=Po(e[s])?Gj(e[s]):e[s]:r[s]=e[s]}),r}const yue=Object.freeze(Object.defineProperty({__proto__:null,default:Vr,isPlainObject:Po},Symbol.toStringTag,{value:"Module"})),_ue=["values","unit","step"],wue=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>M({},n,{[r.key]:r.val}),{})};function qj(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=fe(t,_ue),i=wue(e),o=Object.keys(i);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return M({keys:o,values:i,up:a,down:l,between:c,only:u,not:h,unit:n},s)}const xue={borderRadius:4},Eue=xue;function o0(t,e){return e?Vr(t,e,{clone:!1}):t}const rT={xs:0,sm:600,md:900,lg:1200,xl:1536},PA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${rT[t]}px)`};function ls(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||PA;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||PA;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||rT).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Yj(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function Kj(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Cue(t,...e){const n=Yj(t),r=[n,...e].reduce((s,i)=>Vr(s,i),{});return Kj(Object.keys(n),r)}function bue(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function wc({values:t,breakpoints:e,base:n}){const r=n||bue(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function de(t){if(typeof t!="string")throw new Error(ia(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Iue=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));function Jy(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function L1(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=Jy(t,n)||r,e&&(s=e(s,r,t)),s}function An(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Jy(l,r)||{};return ls(o,a,h=>{let f=L1(c,s,h);return h===f&&typeof h=="string"&&(f=L1(c,s,`${e}${h==="default"?"":de(h)}`,h)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[e],i}function Tue(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Sue={m:"margin",p:"padding"},kue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Rue=Tue(t=>{if(t.length>2)if(NA[t])t=NA[t];else return[t];const[e,n]=t.split(""),r=Sue[e],s=kue[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),sT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sT,...iT];function fm(t,e,n,r){var s;const i=(s=Jy(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function oT(t){return fm(t,"spacing",8)}function qc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Aue(t,e){return n=>t.reduce((r,s)=>(r[s]=qc(e,n),r),{})}function Pue(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=Rue(n),i=Aue(s,r),o=t[n];return ls(t,o,i)}function Qj(t,e){const n=oT(t.theme);return Object.keys(t).map(r=>Pue(t,e,r,n)).reduce(o0,{})}function gn(t){return Qj(t,sT)}gn.propTypes={};gn.filterProps=sT;function vn(t){return Qj(t,iT)}vn.propTypes={};vn.filterProps=iT;function Nue(t=8){if(t.mui)return t;const e=oT({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Zy(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?o0(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Us(t){return typeof t!="number"?t:`${t}px solid`}function oi(t,e){return An({prop:t,themeKey:"borders",transform:e})}const Due=oi("border",Us),Lue=oi("borderTop",Us),Mue=oi("borderRight",Us),Oue=oi("borderBottom",Us),jue=oi("borderLeft",Us),$ue=oi("borderColor"),Fue=oi("borderTopColor"),Vue=oi("borderRightColor"),Uue=oi("borderBottomColor"),zue=oi("borderLeftColor"),Bue=oi("outline",Us),Wue=oi("outlineColor"),e_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=fm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:qc(e,r)});return ls(t,t.borderRadius,n)}return null};e_.propTypes={};e_.filterProps=["borderRadius"];Zy(Due,Lue,Mue,Oue,jue,$ue,Fue,Vue,Uue,zue,e_,Bue,Wue);const t_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=fm(t.theme,"spacing",8),n=r=>({gap:qc(e,r)});return ls(t,t.gap,n)}return null};t_.propTypes={};t_.filterProps=["gap"];const n_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=fm(t.theme,"spacing",8),n=r=>({columnGap:qc(e,r)});return ls(t,t.columnGap,n)}return null};n_.propTypes={};n_.filterProps=["columnGap"];const r_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=fm(t.theme,"spacing",8),n=r=>({rowGap:qc(e,r)});return ls(t,t.rowGap,n)}return null};r_.propTypes={};r_.filterProps=["rowGap"];const Hue=An({prop:"gridColumn"}),Gue=An({prop:"gridRow"}),que=An({prop:"gridAutoFlow"}),Yue=An({prop:"gridAutoColumns"}),Kue=An({prop:"gridAutoRows"}),Que=An({prop:"gridTemplateColumns"}),Xue=An({prop:"gridTemplateRows"}),Jue=An({prop:"gridTemplateAreas"}),Zue=An({prop:"gridArea"});Zy(t_,n_,r_,Hue,Gue,que,Yue,Kue,Que,Xue,Jue,Zue);function wd(t,e){return e==="grey"?e:t}const ede=An({prop:"color",themeKey:"palette",transform:wd}),tde=An({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:wd}),nde=An({prop:"backgroundColor",themeKey:"palette",transform:wd});Zy(ede,tde,nde);function gs(t){return t<=1&&t!==0?`${t*100}%`:t}const rde=An({prop:"width",transform:gs}),aT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||rT[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:gs(n)}};return ls(t,t.maxWidth,e)}return null};aT.filterProps=["maxWidth"];const sde=An({prop:"minWidth",transform:gs}),ide=An({prop:"height",transform:gs}),ode=An({prop:"maxHeight",transform:gs}),ade=An({prop:"minHeight",transform:gs});An({prop:"size",cssProperty:"width",transform:gs});An({prop:"size",cssProperty:"height",transform:gs});const lde=An({prop:"boxSizing"});Zy(rde,aT,sde,ide,ode,ade,lde);const cde={border:{themeKey:"borders",transform:Us},borderTop:{themeKey:"borders",transform:Us},borderRight:{themeKey:"borders",transform:Us},borderBottom:{themeKey:"borders",transform:Us},borderLeft:{themeKey:"borders",transform:Us},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Us},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:e_},color:{themeKey:"palette",transform:wd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:wd},backgroundColor:{themeKey:"palette",transform:wd},p:{style:vn},pt:{style:vn},pr:{style:vn},pb:{style:vn},pl:{style:vn},px:{style:vn},py:{style:vn},padding:{style:vn},paddingTop:{style:vn},paddingRight:{style:vn},paddingBottom:{style:vn},paddingLeft:{style:vn},paddingX:{style:vn},paddingY:{style:vn},paddingInline:{style:vn},paddingInlineStart:{style:vn},paddingInlineEnd:{style:vn},paddingBlock:{style:vn},paddingBlockStart:{style:vn},paddingBlockEnd:{style:vn},m:{style:gn},mt:{style:gn},mr:{style:gn},mb:{style:gn},ml:{style:gn},mx:{style:gn},my:{style:gn},margin:{style:gn},marginTop:{style:gn},marginRight:{style:gn},marginBottom:{style:gn},marginLeft:{style:gn},marginX:{style:gn},marginY:{style:gn},marginInline:{style:gn},marginInlineStart:{style:gn},marginInlineEnd:{style:gn},marginBlock:{style:gn},marginBlockStart:{style:gn},marginBlockEnd:{style:gn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:t_},rowGap:{style:r_},columnGap:{style:n_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gs},maxWidth:{style:aT},minWidth:{transform:gs},height:{transform:gs},maxHeight:{transform:gs},minHeight:{transform:gs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},pm=cde;function ude(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function dde(t,e){return typeof t=="function"?t(e):t}function Xj(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Jy(s,c)||{};return h?h(o):ls(o,r,m=>{let g=L1(f,u,m);return m===g&&typeof m=="string"&&(g=L1(f,u,`${n}${m==="default"?"":de(m)}`,m)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:pm;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=Yj(i.breakpoints),h=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const m=dde(c[p],i);if(m!=null)if(typeof m=="object")if(o[p])f=o0(f,t(p,m,i,o));else{const g=ls({theme:i},m,E=>({[p]:E}));ude(g,m)?f[p]=e({sx:m,theme:i}):f=o0(f,g)}else f=o0(f,t(p,m,i,o))}),Kj(h,f)}return Array.isArray(s)?s.map(a):a(s)}return e}const Jj=Xj();Jj.filterProps=["sx"];const mm=Jj;function Zj(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const hde=["breakpoints","palette","spacing","shape"];function gm(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=fe(t,hde),a=qj(n),l=Nue(s);let c=Vr({breakpoints:a,direction:"ltr",components:{},palette:M({mode:"light"},r),spacing:l,shape:M({},Eue,i)},o);return c.applyStyles=Zj,c=e.reduce((u,h)=>Vr(u,h),c),c.unstable_sxConfig=M({},pm,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return mm({sx:h,theme:this})},c}const fde=Object.freeze(Object.defineProperty({__proto__:null,default:gm,private_createBreakpoints:qj,unstable_applyStyles:Zj},Symbol.toStringTag,{value:"Module"}));function pde(t){return Object.keys(t).length===0}function lT(t=null){const e=v.useContext(hm);return!e||pde(e)?t:e}const mde=gm();function s_(t=mde){return lT(t)}function gde({styles:t,themeId:e,defaultTheme:n={}}){const r=s_(n),s=typeof t=="function"?t(e&&r[e]||r):t;return d.jsx(Wj,{styles:s})}const vde=["sx"],yde=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:pm;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function vm(t){const{sx:e}=t,n=fe(t,vde),{systemProps:r,otherProps:s}=yde(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return Po(a)?M({},r,a):r}:i=M({},r,e),M({},s,{sx:i})}const _de=Object.freeze(Object.defineProperty({__proto__:null,default:mm,extendSxProp:vm,unstable_createStyleFunctionSx:Xj,unstable_defaultSxConfig:pm},Symbol.toStringTag,{value:"Module"})),DA=t=>t,wde=()=>{let t=DA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=DA}}},xde=wde(),e$=xde;function t$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=t$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=t$(t))&&(r&&(r+=" "),r+=e);return r}const Ede=["className","component"];function Cde(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=nT("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(mm);return v.forwardRef(function(l,c){const u=s_(n),h=vm(l),{className:f,component:p="div"}=h,m=fe(h,Ede);return d.jsx(i,M({as:p,ref:c,className:Se(f,s?s(r):r),theme:e&&u[e]||u},m))})}const bde={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lt(t,e,n="Mui"){const r=bde[e];return r?`${n}-${r}`:`${e$.generate(t)}-${e}`}function Je(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=lt(t,s,n)}),r}var n$={exports:{}},Vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT=Symbol.for("react.element"),uT=Symbol.for("react.portal"),i_=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),a_=Symbol.for("react.profiler"),l_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),Ide=Symbol.for("react.server_context"),u_=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),h_=Symbol.for("react.suspense_list"),f_=Symbol.for("react.memo"),p_=Symbol.for("react.lazy"),Tde=Symbol.for("react.offscreen"),r$;r$=Symbol.for("react.module.reference");function ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cT:switch(t=t.type,t){case i_:case a_:case o_:case d_:case h_:return t;default:switch(t=t&&t.$$typeof,t){case Ide:case c_:case u_:case p_:case f_:case l_:return t;default:return e}}case uT:return e}}}Vt.ContextConsumer=c_;Vt.ContextProvider=l_;Vt.Element=cT;Vt.ForwardRef=u_;Vt.Fragment=i_;Vt.Lazy=p_;Vt.Memo=f_;Vt.Portal=uT;Vt.Profiler=a_;Vt.StrictMode=o_;Vt.Suspense=d_;Vt.SuspenseList=h_;Vt.isAsyncMode=function(){return!1};Vt.isConcurrentMode=function(){return!1};Vt.isContextConsumer=function(t){return ai(t)===c_};Vt.isContextProvider=function(t){return ai(t)===l_};Vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cT};Vt.isForwardRef=function(t){return ai(t)===u_};Vt.isFragment=function(t){return ai(t)===i_};Vt.isLazy=function(t){return ai(t)===p_};Vt.isMemo=function(t){return ai(t)===f_};Vt.isPortal=function(t){return ai(t)===uT};Vt.isProfiler=function(t){return ai(t)===a_};Vt.isStrictMode=function(t){return ai(t)===o_};Vt.isSuspense=function(t){return ai(t)===d_};Vt.isSuspenseList=function(t){return ai(t)===h_};Vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===i_||t===a_||t===o_||t===d_||t===h_||t===Tde||typeof t=="object"&&t!==null&&(t.$$typeof===p_||t.$$typeof===f_||t.$$typeof===l_||t.$$typeof===c_||t.$$typeof===u_||t.$$typeof===r$||t.getModuleId!==void 0)};Vt.typeOf=ai;n$.exports=Vt;var LA=n$.exports;const Sde=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function s$(t){const e=`${t}`.match(Sde);return e&&e[1]||""}function i$(t,e=""){return t.displayName||t.name||s$(t)||e}function MA(t,e,n){const r=i$(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function kde(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return i$(t,"Component");if(typeof t=="object")switch(t.$$typeof){case LA.ForwardRef:return MA(t,t.render,"ForwardRef");case LA.Memo:return MA(t,t.type,"memo");default:return}}}const Rde=Object.freeze(Object.defineProperty({__proto__:null,default:kde,getFunctionName:s$},Symbol.toStringTag,{value:"Module"})),Ade=["ownerState"],Pde=["variants"],Nde=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Dde(t){return Object.keys(t).length===0}function Lde(t){return typeof t=="string"&&t.charCodeAt(0)>96}function rx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Mde=gm(),Ode=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function u2({defaultTheme:t,theme:e,themeId:n}){return Dde(e)?t:e[n]||e}function jde(t){return t?(e,n)=>n[t]:null}function tg(t,e){let{ownerState:n}=e,r=fe(e,Ade);const s=typeof t=="function"?t(M({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>tg(i,M({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=fe(s,Pde);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(M({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(M({ownerState:n},r,n)):l.style))}),a}return s}function $de(t={}){const{themeId:e,defaultTheme:n=Mde,rootShouldForwardProp:r=rx,slotShouldForwardProp:s=rx}=t,i=o=>mm(M({},o,{theme:u2(M({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{Hj(o,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:h,overridesResolver:f=jde(Ode(c))}=a,p=fe(a,Nde),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=h||!1;let E,y=rx;c==="Root"||c==="root"?y=r:c?y=s:Lde(o)&&(y=void 0);const w=nT(o,M({shouldForwardProp:y,label:E},p)),_=b=>typeof b=="function"&&b.__emotion_real!==b||Po(b)?C=>tg(b,M({},C,{theme:u2({theme:C.theme,defaultTheme:n,themeId:e})})):b,x=(b,...C)=>{let T=_(b);const I=C?C.map(_):[];l&&f&&I.push(A=>{const N=u2(M({},A,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const O=N.components[l].styleOverrides,D={};return Object.entries(O).forEach(([$,P])=>{D[$]=tg(P,M({},A,{theme:N}))}),f(A,D)}),l&&!m&&I.push(A=>{var N;const O=u2(M({},A,{defaultTheme:n,themeId:e})),D=O==null||(N=O.components)==null||(N=N[l])==null?void 0:N.variants;return tg({variants:D},M({},A,{theme:O}))}),g||I.push(i);const S=I.length-C.length;if(Array.isArray(b)&&S>0){const A=new Array(S).fill("");T=[...b,...A],T.raw=[...b.raw,...A]}const k=w(T,...I);return o.muiName&&(k.muiName=o.muiName),k};return w.withConfig&&(x.withConfig=w.withConfig),x}}const Fde=$de(),Vde=Fde;function yp(t,e){const n=M({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=M({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=M({},i),Object.keys(s).forEach(o=>{n[r][o]=yp(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function o$(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:yp(e.components[n].defaultProps,r)}function Ude({props:t,name:e,defaultTheme:n,themeId:r}){let s=s_(n);return r&&(s=s[r]||s),o$({theme:s,name:e,props:t})}const zde=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ss=zde;function Bde(t,e,n,r,s){const[i,o]=v.useState(()=>s&&n?n(t).matches:r?r(t).matches:e);return Ss(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&o(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),i}const a$=v.useSyncExternalStore;function Wde(t,e,n,r,s){const i=v.useCallback(()=>e,[e]),o=v.useMemo(()=>{if(s&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return i},[i,t,r,s,n]),[a,l]=v.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(t);return[()=>u.matches,h=>(u.addListener(h),()=>{u.removeListener(h)})]},[i,n,t]);return a$(l,a,o)}function Hde(t,e={}){const n=lT(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=o$({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(a$!==void 0?Wde:Bde)(l,s,i,o,a)}function l$(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Gde=Object.freeze(Object.defineProperty({__proto__:null,default:l$},Symbol.toStringTag,{value:"Module"}));function qde(t,e=0,n=1){return l$(t,e,n)}function Yde(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function c$(t){if(t.type)return t;if(t.charAt(0)==="#")return c$(Yde(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ia(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(ia(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function Kde(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Qde(t,e){return t=c$(t),e=qde(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Kde(t)}function OA(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function dT(t,e=166){let n;function r(...s){const i=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function sx(t,e){var n,r;return v.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function xn(t){return t&&t.ownerDocument||document}function Cs(t){return xn(t).defaultView||window}function GE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let jA=0;function Xde(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(jA+=1,n(`mui-${jA}`))},[e]),r}const $A=pg.useId;function m_(t){if($A!==void 0){const e=$A();return t??e}return Xde(t)}function qE({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=v.useRef(t!==void 0),[i,o]=v.useState(e),a=s?t:i,l=v.useCallback(c=>{s||o(c)},[]);return[a,l]}function Jr(t){const e=v.useRef(t);return Ss(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function Rn(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{GE(n,e)})},t)}const FA={};function Jde(t,e){const n=v.useRef(FA);return n.current===FA&&(n.current=t(e)),n}const Zde=[];function ehe(t){v.useEffect(t,Zde)}class ym{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ym}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function lc(){const t=Jde(ym.create).current;return ehe(t.disposeEffect),t}let g_=!0,YE=!1;const the=new ym,nhe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function rhe(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&nhe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function she(t){t.metaKey||t.altKey||t.ctrlKey||(g_=!0)}function ix(){g_=!1}function ihe(){this.visibilityState==="hidden"&&YE&&(g_=!0)}function ohe(t){t.addEventListener("keydown",she,!0),t.addEventListener("mousedown",ix,!0),t.addEventListener("pointerdown",ix,!0),t.addEventListener("touchstart",ix,!0),t.addEventListener("visibilitychange",ihe,!0)}function ahe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return g_||rhe(e)}function u$(){const t=v.useCallback(s=>{s!=null&&ohe(s.ownerDocument)},[]),e=v.useRef(!1);function n(){return e.current?(YE=!0,the.start(100,()=>{YE=!1}),e.current=!1,!0):!1}function r(s){return ahe(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function d$(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function dt(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function M1(t){return typeof t=="string"}function Df(t,e,n){return t===void 0||M1(t)?e:M({},e,{ownerState:M({},e.ownerState,n)})}function O1(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function VA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function lhe(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const p=Se(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),m=M({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),g=M({},n,s,r);return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=O1(M({},s,r)),a=VA(r),l=VA(s),c=e(o),u=Se(c==null?void 0:c.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),h=M({},c==null?void 0:c.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),f=M({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function che(t,e,n){return typeof t=="function"?t(e,n):t}const uhe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Cl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=t,o=fe(t,uhe),a=i?{}:che(r,s),{props:l,internalRef:c}=lhe(M({},o,{externalSlotProps:a})),u=Rn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Df(n,M({},l,{ref:u}),s)}const dhe=v.createContext(null),h$=dhe;function f$(){return v.useContext(h$)}const hhe=typeof Symbol=="function"&&Symbol.for,fhe=hhe?Symbol.for("mui.nested"):"__THEME_NESTED__";function phe(t,e){return typeof e=="function"?e(t):M({},t,e)}function mhe(t){const{children:e,theme:n}=t,r=f$(),s=v.useMemo(()=>{const i=r===null?n:phe(r,n);return i!=null&&(i[fhe]=r!==null),i},[n,r]);return d.jsx(h$.Provider,{value:s,children:e})}const ghe=["value"],p$=v.createContext();function vhe(t){let{value:e}=t,n=fe(t,ghe);return d.jsx(p$.Provider,M({value:e??!0},n))}const v_=()=>{const t=v.useContext(p$);return t??!1},m$=v.createContext(void 0);function yhe({value:t,children:e}){return d.jsx(m$.Provider,{value:t,children:e})}function _he(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?yp(s.defaultProps,r):!s.styleOverrides&&!s.variants?yp(s,r):r}function whe({props:t,name:e}){const n=v.useContext(m$);return _he({props:t,name:e,theme:{components:n}})}const UA={};function zA(t,e,n,r=!1){return v.useMemo(()=>{const s=t&&e[t]||e;if(typeof n=="function"){const i=n(s),o=t?M({},e,{[t]:i}):i;return r?()=>o:o}return t?M({},e,{[t]:n}):M({},e,n)},[t,e,n,r])}function xhe(t){const{children:e,theme:n,themeId:r}=t,s=lT(UA),i=f$()||UA,o=zA(r,s,n),a=zA(r,i,n,!0),l=o.direction==="rtl";return d.jsx(mhe,{theme:a,children:d.jsx(hm.Provider,{value:o,children:d.jsx(vhe,{value:l,children:d.jsx(yhe,{value:o==null?void 0:o.components,children:e})})})})}const Ehe=["component","direction","spacing","divider","children","className","useFlexGap"],Che=gm(),bhe=Vde("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Ihe(t){return Ude({props:t,name:"MuiStack",defaultTheme:Che})}function The(t,e){const n=v.Children.toArray(t).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(v.cloneElement(e,{key:`separator-${i}`})),r),[])}const She=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],khe=({ownerState:t,theme:e})=>{let n=M({display:"flex",flexDirection:"column"},ls({theme:e},wc({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=oT(e),s=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),i=wc({values:t.direction,base:s}),o=wc({values:t.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const f=c>0?i[u[c-1]]:"column";i[l]=f}}),n=Vr(n,ls({theme:e},o,(l,c)=>t.useFlexGap?{gap:qc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${She(c?i[c]:t.direction)}`]:qc(r,l)}}))}return n=Cue(e.breakpoints,n),n};function Rhe(t={}){const{createStyledComponent:e=bhe,useThemeProps:n=Ihe,componentName:r="MuiStack"}=t,s=()=>dt({root:["root"]},l=>lt(r,l),{}),i=e(khe);return v.forwardRef(function(l,c){const u=n(l),h=vm(u),{component:f="div",direction:p="column",spacing:m=0,divider:g,children:E,className:y,useFlexGap:w=!1}=h,_=fe(h,Ehe),x={direction:p,spacing:m,useFlexGap:w},b=s();return d.jsx(i,M({as:f,ownerState:x,ref:c,className:Se(b.root,y)},_,{children:g?The(E,g):E}))})}function Ahe(t,e){return M({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Pn={},g$={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(g$);var v$=g$.exports;const Phe=bl(lce),Nhe=bl(Gde);var y$=v$;Object.defineProperty(Pn,"__esModule",{value:!0});var Zr=Pn.alpha=b$;Pn.blend=Whe;Pn.colorChannel=void 0;var _$=Pn.darken=fT;Pn.decomposeColor=ei;var Dhe=Pn.emphasize=I$,Lhe=Pn.getContrastRatio=Fhe;Pn.getLuminance=j1;Pn.hexToRgb=x$;Pn.hslToRgb=C$;var w$=Pn.lighten=pT;Pn.private_safeAlpha=Vhe;Pn.private_safeColorChannel=void 0;Pn.private_safeDarken=Uhe;Pn.private_safeEmphasize=Bhe;Pn.private_safeLighten=zhe;Pn.recomposeColor=Ah;Pn.rgbToHex=$he;var BA=y$(Phe),Mhe=y$(Nhe);function hT(t,e=0,n=1){return(0,Mhe.default)(t,e,n)}function x$(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ohe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function ei(t){if(t.type)return t;if(t.charAt(0)==="#")return ei(x$(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,BA.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,BA.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const E$=t=>{const e=ei(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Pn.colorChannel=E$;const jhe=(t,e)=>{try{return E$(t)}catch{return t}};Pn.private_safeColorChannel=jhe;function Ah(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $he(t){if(t.indexOf("#")===0)return t;const{values:e}=ei(t);return`#${e.map((n,r)=>Ohe(r===3?Math.round(255*n):n)).join("")}`}function C$(t){t=ei(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Ah({type:a,values:l})}function j1(t){t=ei(t);let e=t.type==="hsl"||t.type==="hsla"?ei(C$(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Fhe(t,e){const n=j1(t),r=j1(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function b$(t,e){return t=ei(t),e=hT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ah(t)}function Vhe(t,e,n){try{return b$(t,e)}catch{return t}}function fT(t,e){if(t=ei(t),e=hT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ah(t)}function Uhe(t,e,n){try{return fT(t,e)}catch{return t}}function pT(t,e){if(t=ei(t),e=hT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ah(t)}function zhe(t,e,n){try{return pT(t,e)}catch{return t}}function I$(t,e=.15){return j1(t)>.5?fT(t,e):pT(t,e)}function Bhe(t,e,n){try{return I$(t,e)}catch{return t}}function Whe(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=ei(t),o=ei(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return Ah({type:"rgb",values:a})}const Hhe=["mode","contrastThreshold","tonalOffset"],WA={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pp.white,default:pp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ox={text:{primary:pp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function HA(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=w$(t.main,s):e==="dark"&&(t.dark=_$(t.main,i)))}function Ghe(t="light"){return t==="dark"?{main:Su[200],light:Su[50],dark:Su[400]}:{main:Su[700],light:Su[400],dark:Su[800]}}function qhe(t="light"){return t==="dark"?{main:Tu[200],light:Tu[50],dark:Tu[400]}:{main:Tu[500],light:Tu[300],dark:Tu[700]}}function Yhe(t="light"){return t==="dark"?{main:Iu[500],light:Iu[300],dark:Iu[700]}:{main:Iu[700],light:Iu[400],dark:Iu[800]}}function Khe(t="light"){return t==="dark"?{main:ku[400],light:ku[300],dark:ku[700]}:{main:ku[700],light:ku[500],dark:ku[900]}}function Qhe(t="light"){return t==="dark"?{main:Ru[400],light:Ru[300],dark:Ru[700]}:{main:Ru[800],light:Ru[500],dark:Ru[900]}}function Xhe(t="light"){return t==="dark"?{main:df[400],light:df[300],dark:df[700]}:{main:"#ed6c02",light:df[500],dark:df[900]}}function Jhe(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=fe(t,Hhe),i=t.primary||Ghe(e),o=t.secondary||qhe(e),a=t.error||Yhe(e),l=t.info||Khe(e),c=t.success||Qhe(e),u=t.warning||Xhe(e);function h(g){return Lhe(g,ox.text.primary)>=n?ox.text.primary:WA.text.primary}const f=({color:g,name:E,mainShade:y=500,lightShade:w=300,darkShade:_=700})=>{if(g=M({},g),!g.main&&g[y]&&(g.main=g[y]),!g.hasOwnProperty("main"))throw new Error(ia(11,E?` (${E})`:"",y));if(typeof g.main!="string")throw new Error(ia(12,E?` (${E})`:"",JSON.stringify(g.main)));return HA(g,"light",w,r),HA(g,"dark",_,r),g.contrastText||(g.contrastText=h(g.main)),g},p={dark:ox,light:WA};return Vr(M({common:M({},pp),mode:e,primary:f({color:i,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:ace,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},p[e]),s)}const Zhe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function efe(t){return Math.round(t*1e5)/1e5}const GA={textTransform:"uppercase"},qA='"Roboto", "Helvetica", "Arial", sans-serif';function tfe(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=qA,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,f=fe(n,Zhe),p=s/14,m=h||(y=>`${y/c*p}rem`),g=(y,w,_,x,b)=>M({fontFamily:r,fontWeight:y,fontSize:m(w),lineHeight:_},r===qA?{letterSpacing:`${efe(x/w)}em`}:{},b,u),E={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,GA),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,GA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vr(M({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),f,{clone:!1})}const nfe=.2,rfe=.14,sfe=.12;function tn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${nfe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${rfe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${sfe})`].join(",")}const ife=["none",tn(0,2,1,-1,0,1,1,0,0,1,3,0),tn(0,3,1,-2,0,2,2,0,0,1,5,0),tn(0,3,3,-2,0,3,4,0,0,1,8,0),tn(0,2,4,-1,0,4,5,0,0,1,10,0),tn(0,3,5,-1,0,5,8,0,0,1,14,0),tn(0,3,5,-1,0,6,10,0,0,1,18,0),tn(0,4,5,-2,0,7,10,1,0,2,16,1),tn(0,5,5,-3,0,8,10,1,0,3,14,2),tn(0,5,6,-3,0,9,12,1,0,3,16,2),tn(0,6,6,-3,0,10,14,1,0,4,18,3),tn(0,6,7,-4,0,11,15,1,0,4,20,3),tn(0,7,8,-4,0,12,17,2,0,5,22,4),tn(0,7,8,-4,0,13,19,2,0,5,24,4),tn(0,7,9,-4,0,14,21,2,0,5,26,4),tn(0,8,9,-5,0,15,22,2,0,6,28,5),tn(0,8,10,-5,0,16,24,2,0,6,30,5),tn(0,8,11,-5,0,17,26,2,0,6,32,5),tn(0,9,11,-5,0,18,28,2,0,7,34,6),tn(0,9,12,-6,0,19,29,2,0,7,36,6),tn(0,10,13,-6,0,20,31,3,0,8,38,7),tn(0,10,13,-6,0,21,33,3,0,8,40,7),tn(0,10,14,-6,0,22,35,3,0,8,42,7),tn(0,11,14,-7,0,23,36,3,0,9,44,8),tn(0,11,15,-7,0,24,38,3,0,9,46,8)],ofe=ife,afe=["duration","easing","delay"],lfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function YA(t){return`${Math.round(t)}ms`}function ufe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function dfe(t){const e=M({},lfe,t.easing),n=M({},cfe,t.duration);return M({getAutoHeightDuration:ufe,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return fe(i,afe),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:YA(o)} ${a} ${typeof l=="string"?l:YA(l)}`).join(",")}},t,{easing:e,duration:n})}const hfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ffe=hfe,pfe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function mT(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=fe(t,pfe);if(t.vars)throw new Error(ia(18));const a=Jhe(r),l=gm(t);let c=Vr(l,{mixins:Ahe(l.breakpoints,n),palette:a,shadows:ofe.slice(),typography:tfe(a,i),transitions:dfe(s),zIndex:M({},ffe)});return c=Vr(c,o),c=e.reduce((u,h)=>Vr(u,h),c),c.unstable_sxConfig=M({},pm,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return mm({sx:h,theme:this})},c}function mfe(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function gfe(t){return parseFloat(t)}const vfe=mT(),gT=vfe;function yt(){const t=s_(gT);return t[Yd]||t}var _m={},ax={exports:{}},KA;function yfe(){return KA||(KA=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.includes(i))continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ax)),ax.exports}const T$=bl(vue),_fe=bl(yue),wfe=bl(Iue),xfe=bl(Rde),Efe=bl(fde),Cfe=bl(_de);var Ph=v$;Object.defineProperty(_m,"__esModule",{value:!0});var bfe=_m.default=jfe;_m.shouldForwardProp=ng;_m.systemDefaultTheme=void 0;var Os=Ph(Bj()),KE=Ph(yfe()),QA=Pfe(T$),Ife=_fe;Ph(wfe);Ph(xfe);var Tfe=Ph(Efe),Sfe=Ph(Cfe);const kfe=["ownerState"],Rfe=["variants"],Afe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function S$(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(S$=function(r){return r?n:e})(t)}function Pfe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=S$(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Nfe(t){return Object.keys(t).length===0}function Dfe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ng(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Lfe=_m.systemDefaultTheme=(0,Tfe.default)(),Mfe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function d2({defaultTheme:t,theme:e,themeId:n}){return Nfe(e)?t:e[n]||e}function Ofe(t){return t?(e,n)=>n[t]:null}function rg(t,e){let{ownerState:n}=e,r=(0,KE.default)(e,kfe);const s=typeof t=="function"?t((0,Os.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>rg(i,(0,Os.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,KE.default)(s,Rfe);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Os.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Os.default)({ownerState:n},r,n)):l.style))}),a}return s}function jfe(t={}){const{themeId:e,defaultTheme:n=Lfe,rootShouldForwardProp:r=ng,slotShouldForwardProp:s=ng}=t,i=o=>(0,Sfe.default)((0,Os.default)({},o,{theme:d2((0,Os.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,QA.internal_processStyles)(o,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:h,overridesResolver:f=Ofe(Mfe(c))}=a,p=(0,KE.default)(a,Afe),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=h||!1;let E,y=ng;c==="Root"||c==="root"?y=r:c?y=s:Dfe(o)&&(y=void 0);const w=(0,QA.default)(o,(0,Os.default)({shouldForwardProp:y,label:E},p)),_=b=>typeof b=="function"&&b.__emotion_real!==b||(0,Ife.isPlainObject)(b)?C=>rg(b,(0,Os.default)({},C,{theme:d2({theme:C.theme,defaultTheme:n,themeId:e})})):b,x=(b,...C)=>{let T=_(b);const I=C?C.map(_):[];l&&f&&I.push(A=>{const N=d2((0,Os.default)({},A,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const O=N.components[l].styleOverrides,D={};return Object.entries(O).forEach(([$,P])=>{D[$]=rg(P,(0,Os.default)({},A,{theme:N}))}),f(A,D)}),l&&!m&&I.push(A=>{var N;const O=d2((0,Os.default)({},A,{defaultTheme:n,themeId:e})),D=O==null||(N=O.components)==null||(N=N[l])==null?void 0:N.variants;return rg({variants:D},(0,Os.default)({},A,{theme:O}))}),g||I.push(i);const S=I.length-C.length;if(Array.isArray(b)&&S>0){const A=new Array(S).fill("");T=[...b,...A],T.raw=[...b.raw,...A]}const k=w(T,...I);return o.muiName&&(k.muiName=o.muiName),k};return w.withConfig&&(x.withConfig=w.withConfig),x}}function k$(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $fe=t=>k$(t)&&t!=="classes",us=$fe,Ffe=bfe({themeId:Yd,defaultTheme:gT,rootShouldForwardProp:us}),ue=Ffe,Vfe=["theme"];function Ufe(t){let{theme:e}=t,n=fe(t,Vfe);const r=e[Yd];return d.jsx(xhe,M({},n,{themeId:r?Yd:void 0,theme:r||e}))}const zfe=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},XA=zfe;function it(t){return whe(t)}function Bfe(t){return lt("MuiSvgIcon",t)}Je("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Wfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Hfe=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return dt(s,Bfe,r)},Gfe=ue("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,s,i,o,a,l,c,u,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),R$=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,p=fe(r,Wfe),m=v.isValidElement(s)&&s.type==="svg",g=M({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m}),E={};u||(E.viewBox=f);const y=Hfe(g);return d.jsxs(Gfe,M({as:a,className:Se(y.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},E,p,m&&s.props,{ownerState:g,children:[m?s.props.children:s,h?d.jsx("title",{children:h}):null]}))});R$.muiName="SvgIcon";const JA=R$;function Ge(t,e){function n(r,s){return d.jsx(JA,M({"data-testid":`${e}Icon`,ref:s},r,{children:t}))}return n.muiName=JA.muiName,v.memo(v.forwardRef(n))}var Bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT=Symbol.for("react.element"),yT=Symbol.for("react.portal"),y_=Symbol.for("react.fragment"),__=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),x_=Symbol.for("react.provider"),E_=Symbol.for("react.context"),qfe=Symbol.for("react.server_context"),C_=Symbol.for("react.forward_ref"),b_=Symbol.for("react.suspense"),I_=Symbol.for("react.suspense_list"),T_=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),Yfe=Symbol.for("react.offscreen"),A$;A$=Symbol.for("react.module.reference");function li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vT:switch(t=t.type,t){case y_:case w_:case __:case b_:case I_:return t;default:switch(t=t&&t.$$typeof,t){case qfe:case E_:case C_:case S_:case T_:case x_:return t;default:return e}}case yT:return e}}}Bt.ContextConsumer=E_;Bt.ContextProvider=x_;Bt.Element=vT;Bt.ForwardRef=C_;Bt.Fragment=y_;Bt.Lazy=S_;Bt.Memo=T_;Bt.Portal=yT;Bt.Profiler=w_;Bt.StrictMode=__;Bt.Suspense=b_;Bt.SuspenseList=I_;Bt.isAsyncMode=function(){return!1};Bt.isConcurrentMode=function(){return!1};Bt.isContextConsumer=function(t){return li(t)===E_};Bt.isContextProvider=function(t){return li(t)===x_};Bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vT};Bt.isForwardRef=function(t){return li(t)===C_};Bt.isFragment=function(t){return li(t)===y_};Bt.isLazy=function(t){return li(t)===S_};Bt.isMemo=function(t){return li(t)===T_};Bt.isPortal=function(t){return li(t)===yT};Bt.isProfiler=function(t){return li(t)===w_};Bt.isStrictMode=function(t){return li(t)===__};Bt.isSuspense=function(t){return li(t)===b_};Bt.isSuspenseList=function(t){return li(t)===I_};Bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===y_||t===w_||t===__||t===b_||t===I_||t===Yfe||typeof t=="object"&&t!==null&&(t.$$typeof===S_||t.$$typeof===T_||t.$$typeof===x_||t.$$typeof===E_||t.$$typeof===C_||t.$$typeof===A$||t.getModuleId!==void 0)};Bt.typeOf=li;function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},QE(t,e)}function P$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,QE(t,e)}const ZA={disabled:!1},$1=Nr.createContext(null);var Kfe=function(e){return e.scrollTop},Lf="unmounted",Hl="exited",Gl="entering",ju="entered",XE="exiting",_a=function(t){P$(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=Hl,i.appearStatus=Gl):l=ju:r.unmountOnExit||r.mountOnEnter?l=Lf:l=Hl,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Lf?{status:Hl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Gl&&o!==ju&&(i=Gl):(o===Gl||o===ju)&&(i=XE)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Gl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Wm.findDOMNode(this);o&&Kfe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hl&&this.setState({status:Lf})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Wm.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!s&&!o||ZA.disabled){this.safeSetState({status:ju},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Gl},function(){i.props.onEntering(c,u),i.onTransitionEnd(f,function(){i.safeSetState({status:ju},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Wm.findDOMNode(this);if(!i||ZA.disabled){this.safeSetState({status:Hl},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:XE},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Hl},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Wm.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Lf)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=fe(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Nr.createElement($1.Provider,{value:null},typeof o=="function"?o(s,a):Nr.cloneElement(Nr.Children.only(o),a))},e}(Nr.Component);_a.contextType=$1;_a.propTypes={};function Au(){}_a.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Au,onEntering:Au,onEntered:Au,onExit:Au,onExiting:Au,onExited:Au};_a.UNMOUNTED=Lf;_a.EXITED=Hl;_a.ENTERING=Gl;_a.ENTERED=ju;_a.EXITING=XE;const _T=_a;function Qfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wT(t,e){var n=function(i){return e&&v.isValidElement(i)?e(i):i},r=Object.create(null);return t&&v.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function Xfe(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function cc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Jfe(t,e){return wT(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:cc(n,"appear",t),enter:cc(n,"enter",t),exit:cc(n,"exit",t)})})}function Zfe(t,e,n){var r=wT(t.children),s=Xfe(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(v.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:cc(o,"exit",t),enter:cc(o,"enter",t)}):!l&&a&&!u?s[i]=v.cloneElement(o,{in:!1}):l&&a&&v.isValidElement(c)&&(s[i]=v.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:cc(o,"exit",t),enter:cc(o,"enter",t)}))}}),s}var e0e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},t0e={component:"div",childFactory:function(e){return e}},xT=function(t){P$(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(Qfe(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?Jfe(s,a):Zfe(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=wT(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=M({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=fe(s,["component","childFactory"]),l=this.state.contextValue,c=e0e(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?Nr.createElement($1.Provider,{value:l},c):Nr.createElement($1.Provider,{value:l},Nr.createElement(i,a,c))},e}(Nr.Component);xT.propTypes={};xT.defaultProps=t0e;const n0e=xT,ET=t=>t.scrollTop;function Yc(t,e){var n,r;const{timeout:s,easing:i,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof s=="number"?s:s[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:o.transitionDelay}}function r0e(t){return lt("MuiPaper",t)}Je("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const s0e=["className","component","elevation","square","variant"],i0e=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return dt(i,r0e,s)},o0e=ue("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return M({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&M({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zr("#fff",XA(e.elevation))}, ${Zr("#fff",XA(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),a0e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=fe(r,s0e),u=M({},r,{component:i,elevation:o,square:a,variant:l}),h=i0e(u);return d.jsx(o0e,M({as:i,ownerState:u,className:Se(h.root,s),ref:n},c))}),Nh=a0e;function l0e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,h]=v.useState(!1),f=Se(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},m=Se(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&h(!0),v.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,a,c]),d.jsx("span",{className:f,style:p,children:d.jsx("span",{className:m})})}const c0e=Je("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),js=c0e,u0e=["center","classes","className"];let k_=t=>t,eP,tP,nP,rP;const JE=550,d0e=80,h0e=Oi(eP||(eP=k_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),f0e=Oi(tP||(tP=k_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),p0e=Oi(nP||(nP=k_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),m0e=ue("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),g0e=ue(l0e,{name:"MuiTouchRipple",slot:"Ripple"})(rP||(rP=k_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),js.rippleVisible,h0e,JE,({theme:t})=>t.transitions.easing.easeInOut,js.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,js.child,js.childLeaving,f0e,JE,({theme:t})=>t.transitions.easing.easeInOut,js.childPulsate,p0e,({theme:t})=>t.transitions.easing.easeInOut),v0e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=fe(r,u0e),[l,c]=v.useState([]),u=v.useRef(0),h=v.useRef(null);v.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=v.useRef(!1),p=lc(),m=v.useRef(null),g=v.useRef(null),E=v.useCallback(x=>{const{pulsate:b,rippleX:C,rippleY:T,rippleSize:I,cb:S}=x;c(k=>[...k,d.jsx(g0e,{classes:{ripple:Se(i.ripple,js.ripple),rippleVisible:Se(i.rippleVisible,js.rippleVisible),ripplePulsate:Se(i.ripplePulsate,js.ripplePulsate),child:Se(i.child,js.child),childLeaving:Se(i.childLeaving,js.childLeaving),childPulsate:Se(i.childPulsate,js.childPulsate)},timeout:JE,pulsate:b,rippleX:C,rippleY:T,rippleSize:I},u.current)]),u.current+=1,h.current=S},[i]),y=v.useCallback((x={},b={},C=()=>{})=>{const{pulsate:T=!1,center:I=s||b.pulsate,fakeElement:S=!1}=b;if((x==null?void 0:x.type)==="mousedown"&&f.current){f.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(f.current=!0);const k=S?null:g.current,A=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,O,D;if(I||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(A.width/2),O=Math.round(A.height/2);else{const{clientX:$,clientY:P}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round($-A.left),O=Math.round(P-A.top)}if(I)D=Math.sqrt((2*A.width**2+A.height**2)/3),D%2===0&&(D+=1);else{const $=Math.max(Math.abs((k?k.clientWidth:0)-N),N)*2+2,P=Math.max(Math.abs((k?k.clientHeight:0)-O),O)*2+2;D=Math.sqrt($**2+P**2)}x!=null&&x.touches?m.current===null&&(m.current=()=>{E({pulsate:T,rippleX:N,rippleY:O,rippleSize:D,cb:C})},p.start(d0e,()=>{m.current&&(m.current(),m.current=null)})):E({pulsate:T,rippleX:N,rippleY:O,rippleSize:D,cb:C})},[s,E,p]),w=v.useCallback(()=>{y({},{pulsate:!0})},[y]),_=v.useCallback((x,b)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(x,b)});return}m.current=null,c(C=>C.length>0?C.slice(1):C),h.current=b},[p]);return v.useImperativeHandle(n,()=>({pulsate:w,start:y,stop:_}),[w,y,_]),d.jsx(m0e,M({className:Se(js.root,i.root,o),ref:g},a,{children:d.jsx(n0e,{component:null,exit:!0,children:l})}))}),y0e=v0e;function _0e(t){return lt("MuiButtonBase",t)}const w0e=Je("MuiButtonBase",["root","disabled","focusVisible"]),x0e=w0e,E0e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],C0e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=dt({root:["root",e&&"disabled",n&&"focusVisible"]},_0e,s);return n&&r&&(o.root+=` ${r}`),o},b0e=ue("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${x0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),I0e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:m,onClick:g,onContextMenu:E,onDragLeave:y,onFocus:w,onFocusVisible:_,onKeyDown:x,onKeyUp:b,onMouseDown:C,onMouseLeave:T,onMouseUp:I,onTouchEnd:S,onTouchMove:k,onTouchStart:A,tabIndex:N=0,TouchRippleProps:O,touchRippleRef:D,type:$}=r,P=fe(r,E0e),R=v.useRef(null),L=v.useRef(null),j=Rn(L,D),{isFocusVisibleRef:F,onFocus:q,onBlur:W,ref:B}=u$(),[U,V]=v.useState(!1);c&&U&&V(!1),v.useImperativeHandle(s,()=>({focusVisible:()=>{V(!0),R.current.focus()}}),[]);const[H,ie]=v.useState(!1);v.useEffect(()=>{ie(!0)},[]);const K=H&&!u&&!c;v.useEffect(()=>{U&&f&&!u&&H&&L.current.pulsate()},[u,f,U,H]);function ne(Ee,ct,qt=h){return Jr(Ht=>(ct&&ct(Ht),!qt&&L.current&&L.current[Ee](Ht),!0))}const me=ne("start",C),oe=ne("stop",E),le=ne("stop",y),ye=ne("stop",I),ke=ne("stop",Ee=>{U&&Ee.preventDefault(),T&&T(Ee)}),_e=ne("start",A),qe=ne("stop",S),Be=ne("stop",k),Fe=ne("stop",Ee=>{W(Ee),F.current===!1&&V(!1),m&&m(Ee)},!1),ht=Jr(Ee=>{R.current||(R.current=Ee.currentTarget),q(Ee),F.current===!0&&(V(!0),_&&_(Ee)),w&&w(Ee)}),Ye=()=>{const Ee=R.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},Re=v.useRef(!1),Et=Jr(Ee=>{f&&!Re.current&&U&&L.current&&Ee.key===" "&&(Re.current=!0,L.current.stop(Ee,()=>{L.current.start(Ee)})),Ee.target===Ee.currentTarget&&Ye()&&Ee.key===" "&&Ee.preventDefault(),x&&x(Ee),Ee.target===Ee.currentTarget&&Ye()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),g&&g(Ee))}),We=Jr(Ee=>{f&&Ee.key===" "&&L.current&&U&&!Ee.defaultPrevented&&(Re.current=!1,L.current.stop(Ee,()=>{L.current.pulsate(Ee)})),b&&b(Ee),g&&Ee.target===Ee.currentTarget&&Ye()&&Ee.key===" "&&!Ee.defaultPrevented&&g(Ee)});let Ie=l;Ie==="button"&&(P.href||P.to)&&(Ie=p);const _t={};Ie==="button"?(_t.type=$===void 0?"button":$,_t.disabled=c):(!P.href&&!P.to&&(_t.role="button"),c&&(_t["aria-disabled"]=c));const Mt=Rn(n,B,R),fn=M({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:N,focusVisible:U}),Oe=C0e(fn);return d.jsxs(b0e,M({as:Ie,className:Se(Oe.root,a),ownerState:fn,onBlur:Fe,onClick:g,onContextMenu:oe,onFocus:ht,onKeyDown:Et,onKeyUp:We,onMouseDown:me,onMouseLeave:ke,onMouseUp:ye,onDragLeave:le,onTouchEnd:qe,onTouchMove:Be,onTouchStart:_e,ref:Mt,tabIndex:c?-1:N,type:$},_t,P,{children:[o,K?d.jsx(y0e,M({ref:j,center:i},O)):null]}))}),CT=I0e;function T0e(t){return lt("MuiIconButton",t)}const S0e=Je("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),k0e=S0e,R0e=["edge","children","className","color","disabled","disableFocusRipple","size"],A0e=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${de(r)}`,s&&`edge${de(s)}`,`size${de(i)}`]};return dt(o,T0e,e)},P0e=ue(CT,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(({theme:t,ownerState:e})=>M({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return M({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&M({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":M({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${k0e.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),N0e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,h=fe(r,R0e),f=M({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=A0e(f);return d.jsx(P0e,M({className:Se(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},h,{ownerState:f,children:i}))}),Qe=N0e;function D0e(t){return lt("MuiTypography",t)}Je("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const L0e=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],M0e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return dt(a,D0e,o)},O0e=ue("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>M({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),sP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},j0e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$0e=t=>j0e[t]||t,F0e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiTypography"}),s=$0e(r.color),i=vm(M({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:h=!1,variant:f="body1",variantMapping:p=sP}=i,m=fe(i,L0e),g=M({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:h,variant:f,variantMapping:p}),E=l||(h?"p":p[f]||sP[f])||"span",y=M0e(g);return d.jsx(O0e,M({as:E,ref:n,ownerState:g,className:Se(y.root,a)},m))}),De=F0e;function V0e(t){return lt("MuiAppBar",t)}Je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const U0e=["className","color","enableColorOnDark","position"],z0e=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${de(e)}`,`position${de(n)}`]};return dt(s,V0e,r)},h2=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,B0e=ue(Nh,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${de(n.position)}`],e[`color${de(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return M({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&M({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&M({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&M({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:h2(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:h2(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:h2(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:h2(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),W0e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=fe(r,U0e),c=M({},r,{color:i,position:a,enableColorOnDark:o}),u=z0e(c);return d.jsx(B0e,M({square:!0,component:"header",ownerState:c,elevation:4,className:Se(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),N$=W0e;var bT={};Object.defineProperty(bT,"__esModule",{value:!0});var D$=bT.default=void 0,H0e=q0e(v),G0e=T$;function L$(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(L$=function(r){return r?n:e})(t)}function q0e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=L$(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Y0e(t){return Object.keys(t).length===0}function K0e(t=null){const e=H0e.useContext(G0e.ThemeContext);return!e||Y0e(e)?t:e}D$=bT.default=K0e;var is="top",ti="bottom",ni="right",os="left",IT="auto",wm=[is,ti,ni,os],Qd="start",_p="end",Q0e="clippingParents",M$="viewport",ff="popper",X0e="reference",iP=wm.reduce(function(t,e){return t.concat([e+"-"+Qd,e+"-"+_p])},[]),O$=[].concat(wm,[IT]).reduce(function(t,e){return t.concat([e,e+"-"+Qd,e+"-"+_p])},[]),J0e="beforeRead",Z0e="read",epe="afterRead",tpe="beforeMain",npe="main",rpe="afterMain",spe="beforeWrite",ipe="write",ope="afterWrite",ape=[J0e,Z0e,epe,tpe,npe,rpe,spe,ipe,ope];function uo(t){return t?(t.nodeName||"").toLowerCase():null}function ks(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Kc(t){var e=ks(t).Element;return t instanceof e||t instanceof Element}function Qs(t){var e=ks(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function TT(t){if(typeof ShadowRoot>"u")return!1;var e=ks(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function lpe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Qs(i)||!uo(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function cpe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Qs(s)||!uo(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const upe={name:"applyStyles",enabled:!0,phase:"write",fn:lpe,effect:cpe,requires:["computeStyles"]};function io(t){return t.split("-")[0]}var xc=Math.max,F1=Math.min,Xd=Math.round;function ZE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function j$(){return!/^((?!chrome|android).)*safari/i.test(ZE())}function Jd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Qs(t)&&(s=t.offsetWidth>0&&Xd(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Xd(r.height)/t.offsetHeight||1);var o=Kc(t)?ks(t):window,a=o.visualViewport,l=!j$()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/i,h=r.width/s,f=r.height/i;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function ST(t){var e=Jd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function $$(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&TT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function aa(t){return ks(t).getComputedStyle(t)}function dpe(t){return["table","td","th"].indexOf(uo(t))>=0}function Ll(t){return((Kc(t)?t.ownerDocument:t.document)||window.document).documentElement}function R_(t){return uo(t)==="html"?t:t.assignedSlot||t.parentNode||(TT(t)?t.host:null)||Ll(t)}function oP(t){return!Qs(t)||aa(t).position==="fixed"?null:t.offsetParent}function hpe(t){var e=/firefox/i.test(ZE()),n=/Trident/i.test(ZE());if(n&&Qs(t)){var r=aa(t);if(r.position==="fixed")return null}var s=R_(t);for(TT(s)&&(s=s.host);Qs(s)&&["html","body"].indexOf(uo(s))<0;){var i=aa(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function xm(t){for(var e=ks(t),n=oP(t);n&&dpe(n)&&aa(n).position==="static";)n=oP(n);return n&&(uo(n)==="html"||uo(n)==="body"&&aa(n).position==="static")?e:n||hpe(t)||e}function kT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function a0(t,e,n){return xc(t,F1(e,n))}function fpe(t,e,n){var r=a0(t,e,n);return r>n?n:r}function F$(){return{top:0,right:0,bottom:0,left:0}}function V$(t){return Object.assign({},F$(),t)}function U$(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var ppe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,V$(typeof e!="number"?e:U$(e,wm))};function mpe(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=io(n.placement),l=kT(a),c=[os,ni].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!o)){var h=ppe(s.padding,n),f=ST(i),p=l==="y"?is:os,m=l==="y"?ti:ni,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],E=o[l]-n.rects.reference[l],y=xm(i),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,_=g/2-E/2,x=h[p],b=w-f[u]-h[m],C=w/2-f[u]/2+_,T=a0(x,C,b),I=l;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-C,e)}}function gpe(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||$$(e.elements.popper,s)&&(e.elements.arrow=s))}const vpe={name:"arrow",enabled:!0,phase:"main",fn:mpe,effect:gpe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zd(t){return t.split("-")[1]}var ype={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _pe(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Xd(n*s)/s||0,y:Xd(r*s)/s||0}}function aP(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,E=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=E.x,g=E.y;var y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),_=os,x=is,b=window;if(c){var C=xm(n),T="clientHeight",I="clientWidth";if(C===ks(n)&&(C=Ll(n),aa(C).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),C=C,s===is||(s===os||s===ni)&&i===_p){x=ti;var S=h&&C===b&&b.visualViewport?b.visualViewport.height:C[T];g-=S-r.height,g*=l?1:-1}if(s===os||(s===is||s===ti)&&i===_p){_=ni;var k=h&&C===b&&b.visualViewport?b.visualViewport.width:C[I];p-=k-r.width,p*=l?1:-1}}var A=Object.assign({position:a},c&&ype),N=u===!0?_pe({x:p,y:g},ks(n)):{x:p,y:g};if(p=N.x,g=N.y,l){var O;return Object.assign({},A,(O={},O[x]=w?"0":"",O[_]=y?"0":"",O.transform=(b.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",O))}return Object.assign({},A,(e={},e[x]=w?g+"px":"",e[_]=y?p+"px":"",e.transform="",e))}function wpe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:io(e.placement),variation:Zd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,aP(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,aP(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xpe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wpe,data:{}};var f2={passive:!0};function Epe(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=ks(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,f2)}),a&&l.addEventListener("resize",n.update,f2),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,f2)}),a&&l.removeEventListener("resize",n.update,f2)}}const Cpe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Epe,data:{}};var bpe={left:"right",right:"left",bottom:"top",top:"bottom"};function sg(t){return t.replace(/left|right|bottom|top/g,function(e){return bpe[e]})}var Ipe={start:"end",end:"start"};function lP(t){return t.replace(/start|end/g,function(e){return Ipe[e]})}function RT(t){var e=ks(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function AT(t){return Jd(Ll(t)).left+RT(t).scrollLeft}function Tpe(t,e){var n=ks(t),r=Ll(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=j$();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+AT(t),y:l}}function Spe(t){var e,n=Ll(t),r=RT(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=xc(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=xc(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+AT(t),l=-r.scrollTop;return aa(s||n).direction==="rtl"&&(a+=xc(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function PT(t){var e=aa(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function z$(t){return["html","body","#document"].indexOf(uo(t))>=0?t.ownerDocument.body:Qs(t)&&PT(t)?t:z$(R_(t))}function l0(t,e){var n;e===void 0&&(e=[]);var r=z$(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=ks(r),o=s?[i].concat(i.visualViewport||[],PT(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(l0(R_(o)))}function eC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kpe(t,e){var n=Jd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function cP(t,e,n){return e===M$?eC(Tpe(t,n)):Kc(e)?kpe(e,n):eC(Spe(Ll(t)))}function Rpe(t){var e=l0(R_(t)),n=["absolute","fixed"].indexOf(aa(t).position)>=0,r=n&&Qs(t)?xm(t):t;return Kc(r)?e.filter(function(s){return Kc(s)&&$$(s,r)&&uo(s)!=="body"}):[]}function Ape(t,e,n,r){var s=e==="clippingParents"?Rpe(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var u=cP(t,c,r);return l.top=xc(u.top,l.top),l.right=F1(u.right,l.right),l.bottom=F1(u.bottom,l.bottom),l.left=xc(u.left,l.left),l},cP(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function B$(t){var e=t.reference,n=t.element,r=t.placement,s=r?io(r):null,i=r?Zd(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case is:l={x:o,y:e.y-n.height};break;case ti:l={x:o,y:e.y+e.height};break;case ni:l={x:e.x+e.width,y:a};break;case os:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?kT(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Qd:l[c]=l[c]-(e[u]/2-n[u]/2);break;case _p:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function wp(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?Q0e:a,c=n.rootBoundary,u=c===void 0?M$:c,h=n.elementContext,f=h===void 0?ff:h,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,E=g===void 0?0:g,y=V$(typeof E!="number"?E:U$(E,wm)),w=f===ff?X0e:ff,_=t.rects.popper,x=t.elements[m?w:f],b=Ape(Kc(x)?x:x.contextElement||Ll(t.elements.popper),l,u,o),C=Jd(t.elements.reference),T=B$({reference:C,element:_,strategy:"absolute",placement:s}),I=eC(Object.assign({},_,T)),S=f===ff?I:C,k={top:b.top-S.top+y.top,bottom:S.bottom-b.bottom+y.bottom,left:b.left-S.left+y.left,right:S.right-b.right+y.right},A=t.modifiersData.offset;if(f===ff&&A){var N=A[s];Object.keys(k).forEach(function(O){var D=[ni,ti].indexOf(O)>=0?1:-1,$=[is,ti].indexOf(O)>=0?"y":"x";k[O]+=N[$]*D})}return k}function Ppe(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?O$:l,u=Zd(r),h=u?a?iP:iP.filter(function(m){return Zd(m)===u}):wm,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,g){return m[g]=wp(t,{placement:g,boundary:s,rootBoundary:i,padding:o})[io(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function Npe(t){if(io(t)===IT)return[];var e=sg(t);return[lP(t),e,lP(e)]}function Dpe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,E=e.options.placement,y=io(E),w=y===E,_=l||(w||!m?[sg(E)]:Npe(E)),x=[E].concat(_).reduce(function(U,V){return U.concat(io(V)===IT?Ppe(e,{placement:V,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:g}):V)},[]),b=e.rects.reference,C=e.rects.popper,T=new Map,I=!0,S=x[0],k=0;k<x.length;k++){var A=x[k],N=io(A),O=Zd(A)===Qd,D=[is,ti].indexOf(N)>=0,$=D?"width":"height",P=wp(e,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),R=D?O?ni:os:O?ti:is;b[$]>C[$]&&(R=sg(R));var L=sg(R),j=[];if(i&&j.push(P[N]<=0),a&&j.push(P[R]<=0,P[L]<=0),j.every(function(U){return U})){S=A,I=!1;break}T.set(A,j)}if(I)for(var F=m?3:1,q=function(V){var H=x.find(function(ie){var K=T.get(ie);if(K)return K.slice(0,V).every(function(ne){return ne})});if(H)return S=H,"break"},W=F;W>0;W--){var B=q(W);if(B==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}const Lpe={name:"flip",enabled:!0,phase:"main",fn:Dpe,requiresIfExists:["offset"],data:{_skip:!1}};function uP(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dP(t){return[is,ni,ti,os].some(function(e){return t[e]>=0})}function Mpe(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=wp(e,{elementContext:"reference"}),a=wp(e,{altBoundary:!0}),l=uP(o,r),c=uP(a,s,i),u=dP(l),h=dP(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Ope={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mpe};function jpe(t,e,n){var r=io(t),s=[os,is].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[os,ni].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function $pe(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=O$.reduce(function(u,h){return u[h]=jpe(h,e.rects,i),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Fpe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$pe};function Vpe(t){var e=t.state,n=t.name;e.modifiersData[n]=B$({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Upe={name:"popperOffsets",enabled:!0,phase:"read",fn:Vpe,data:{}};function zpe(t){return t==="x"?"y":"x"}function Bpe(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,E=wp(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),y=io(e.placement),w=Zd(e.placement),_=!w,x=kT(y),b=zpe(x),C=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,S=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,k=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(C){if(i){var O,D=x==="y"?is:os,$=x==="y"?ti:ni,P=x==="y"?"height":"width",R=C[x],L=R+E[D],j=R-E[$],F=p?-I[P]/2:0,q=w===Qd?T[P]:I[P],W=w===Qd?-I[P]:-T[P],B=e.elements.arrow,U=p&&B?ST(B):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:F$(),H=V[D],ie=V[$],K=a0(0,T[P],U[P]),ne=_?T[P]/2-F-K-H-k.mainAxis:q-K-H-k.mainAxis,me=_?-T[P]/2+F+K+ie+k.mainAxis:W+K+ie+k.mainAxis,oe=e.elements.arrow&&xm(e.elements.arrow),le=oe?x==="y"?oe.clientTop||0:oe.clientLeft||0:0,ye=(O=A==null?void 0:A[x])!=null?O:0,ke=R+ne-ye-le,_e=R+me-ye,qe=a0(p?F1(L,ke):L,R,p?xc(j,_e):j);C[x]=qe,N[x]=qe-R}if(a){var Be,Fe=x==="x"?is:os,ht=x==="x"?ti:ni,Ye=C[b],Re=b==="y"?"height":"width",Et=Ye+E[Fe],We=Ye-E[ht],Ie=[is,os].indexOf(y)!==-1,_t=(Be=A==null?void 0:A[b])!=null?Be:0,Mt=Ie?Et:Ye-T[Re]-I[Re]-_t+k.altAxis,fn=Ie?Ye+T[Re]+I[Re]-_t-k.altAxis:We,Oe=p&&Ie?fpe(Mt,Ye,fn):a0(p?Mt:Et,Ye,p?fn:We);C[b]=Oe,N[b]=Oe-Ye}e.modifiersData[r]=N}}const Wpe={name:"preventOverflow",enabled:!0,phase:"main",fn:Bpe,requiresIfExists:["offset"]};function Hpe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Gpe(t){return t===ks(t)||!Qs(t)?RT(t):Hpe(t)}function qpe(t){var e=t.getBoundingClientRect(),n=Xd(e.width)/t.offsetWidth||1,r=Xd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Ype(t,e,n){n===void 0&&(n=!1);var r=Qs(e),s=Qs(e)&&qpe(e),i=Ll(e),o=Jd(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((uo(e)!=="body"||PT(i))&&(a=Gpe(e)),Qs(e)?(l=Jd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=AT(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Kpe(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function Qpe(t){var e=Kpe(t);return ape.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function Xpe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Jpe(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var hP={placement:"bottom",modifiers:[],strategy:"absolute"};function fP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Zpe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?hP:s;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},hP,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(y){var w=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:Kc(a)?l0(a):a.contextElement?l0(a.contextElement):[],popper:l0(l)};var _=Qpe(Jpe([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(x){return x.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=u.elements,w=y.reference,_=y.popper;if(fP(w,_)){u.rects={reference:Ype(w,xm(_),u.options.strategy==="fixed"),popper:ST(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var b=u.orderedModifiers[x],C=b.fn,T=b.options,I=T===void 0?{}:T,S=b.name;typeof C=="function"&&(u=C({state:u,options:I,name:S,instance:p})||u)}}}},update:Xpe(function(){return new Promise(function(E){p.forceUpdate(),E(u)})}),destroy:function(){g(),f=!0}};if(!fP(a,l))return p;p.setOptions(c).then(function(E){!f&&c.onFirstUpdate&&c.onFirstUpdate(E)});function m(){u.orderedModifiers.forEach(function(E){var y=E.name,w=E.options,_=w===void 0?{}:w,x=E.effect;if(typeof x=="function"){var b=x({state:u,name:y,instance:p,options:_}),C=function(){};h.push(b||C)}})}function g(){h.forEach(function(E){return E()}),h=[]}return p}}var eme=[Cpe,Upe,xpe,upe,Fpe,Lpe,Wpe,vpe,Ope],tme=Zpe({defaultModifiers:eme});function nme(t){return typeof t=="function"?t():t}const rme=v.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[o,a]=v.useState(null),l=Rn(v.isValidElement(r)?r.ref:null,n);if(Ss(()=>{i||a(nme(s)||document.body)},[s,i]),Ss(()=>{if(o&&!i)return GE(n,o),()=>{GE(n,null)}},[n,o,i]),i){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return d.jsx(v.Fragment,{children:r})}return d.jsx(v.Fragment,{children:o&&A0.createPortal(r,o)})}),W$=rme;function sme(t){return lt("MuiPopper",t)}Je("MuiPopper",["root"]);const ime=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ome=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ame(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function tC(t){return typeof t=="function"?t():t}function lme(t){return t.nodeType!==void 0}const cme=t=>{const{classes:e}=t;return dt({root:["root"]},sme,e)},ume={},dme=v.forwardRef(function(e,n){var r;const{anchorEl:s,children:i,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:p={},slots:m={},TransitionProps:g}=e,E=fe(e,ime),y=v.useRef(null),w=Rn(y,n),_=v.useRef(null),x=Rn(_,f),b=v.useRef(x);Ss(()=>{b.current=x},[x]),v.useImperativeHandle(f,()=>_.current,[]);const C=ame(u,o),[T,I]=v.useState(C),[S,k]=v.useState(tC(s));v.useEffect(()=>{_.current&&_.current.forceUpdate()}),v.useEffect(()=>{s&&k(tC(s))},[s]),Ss(()=>{if(!S||!c)return;const $=L=>{I(L.placement)};let P=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:L})=>{$(L)}}];l!=null&&(P=P.concat(l)),h&&h.modifiers!=null&&(P=P.concat(h.modifiers));const R=tme(S,y.current,M({placement:C},h,{modifiers:P}));return b.current(R),()=>{R.destroy(),b.current(null)}},[S,a,l,c,h,C]);const A={placement:T};g!==null&&(A.TransitionProps=g);const N=cme(e),O=(r=m.root)!=null?r:"div",D=Cl({elementType:O,externalSlotProps:p.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:N.root});return d.jsx(O,M({},D,{children:typeof i=="function"?i(A):i}))}),hme=v.forwardRef(function(e,n){const{anchorEl:r,children:s,container:i,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:h="bottom",popperOptions:f=ume,popperRef:p,style:m,transition:g=!1,slotProps:E={},slots:y={}}=e,w=fe(e,ome),[_,x]=v.useState(!0),b=()=>{x(!1)},C=()=>{x(!0)};if(!l&&!u&&(!g||_))return null;let T;if(i)T=i;else if(r){const k=tC(r);T=k&&lme(k)?xn(k).body:xn(null).body}const I=!u&&l&&(!g||_)?"none":void 0,S=g?{in:u,onEnter:b,onExited:C}:void 0;return d.jsx(W$,{disablePortal:a,container:T,children:d.jsx(dme,M({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:g?!_:u,placement:h,popperOptions:f,popperRef:p,slotProps:E,slots:y},w,{style:M({position:"fixed",top:0,left:0,display:I},m),TransitionProps:S,children:s}))})}),fme=hme,pme=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],mme=ue(fme,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gme=v.forwardRef(function(e,n){var r;const s=D$(),i=it({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:p,open:m,placement:g,popperOptions:E,popperRef:y,transition:w,slots:_,slotProps:x}=i,b=fe(i,pme),C=(r=_==null?void 0:_.root)!=null?r:l==null?void 0:l.Root,T=M({anchorEl:o,container:u,disablePortal:h,keepMounted:f,modifiers:p,open:m,placement:g,popperOptions:E,popperRef:y,transition:w},b);return d.jsx(mme,M({as:a,direction:s==null?void 0:s.direction,slots:{root:C},slotProps:x??c},T,{ref:n}))}),H$=gme,vme=["onChange","maxRows","minRows","style","value"];function p2(t){return parseInt(t,10)||0}const yme={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function _me(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const wme=v.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:a}=e,l=fe(e,vme),{current:c}=v.useRef(a!=null),u=v.useRef(null),h=Rn(n,u),f=v.useRef(null),p=v.useRef(null),m=v.useCallback(()=>{const y=u.current,_=Cs(y).getComputedStyle(y);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const x=p.current;x.style.width=_.width,x.value=y.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const b=_.boxSizing,C=p2(_.paddingBottom)+p2(_.paddingTop),T=p2(_.borderBottomWidth)+p2(_.borderTopWidth),I=x.scrollHeight;x.value="x";const S=x.scrollHeight;let k=I;i&&(k=Math.max(Number(i)*S,k)),s&&(k=Math.min(Number(s)*S,k)),k=Math.max(k,S);const A=k+(b==="border-box"?C+T:0),N=Math.abs(k-I)<=1;return{outerHeightStyle:A,overflowing:N}},[s,i,e.placeholder]),g=v.useCallback(()=>{const y=m();if(_me(y))return;const w=y.outerHeightStyle,_=u.current;f.current!==w&&(f.current=w,_.style.height=`${w}px`),_.style.overflow=y.overflowing?"hidden":""},[m]);Ss(()=>{const y=()=>{g()};let w;const _=dT(y),x=u.current,b=Cs(x);b.addEventListener("resize",_);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(y),C.observe(x)),()=>{_.clear(),cancelAnimationFrame(w),b.removeEventListener("resize",_),C&&C.disconnect()}},[m,g]),Ss(()=>{g()});const E=y=>{c||g(),r&&r(y)};return d.jsxs(v.Fragment,{children:[d.jsx("textarea",M({value:a,onChange:E,ref:h,rows:i,style:o},l)),d.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:M({},yme.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),xme=wme;function Dh({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const Eme=v.createContext(void 0),NT=Eme;function Lh(){return v.useContext(NT)}function G$(t){return d.jsx(gde,M({},t,{defaultTheme:gT,themeId:Yd}))}function pP(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function V1(t,e=!1){return t&&(pP(t.value)&&t.value!==""||e&&pP(t.defaultValue)&&t.defaultValue!=="")}function Cme(t){return t.startAdornment}function bme(t){return lt("MuiInputBase",t)}const Ime=Je("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),eh=Ime,Tme=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],A_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},P_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Sme=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:i,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:h,size:f,startAdornment:p,type:m}=t,g={root:["root",`color${de(n)}`,r&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${de(f)}`,u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return dt(g,bme,e)},N_=ue("div",{name:"MuiInputBase",slot:"Root",overridesResolver:A_})(({theme:t,ownerState:e})=>M({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${eh.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&M({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),D_=ue("input",{name:"MuiInputBase",slot:"Input",overridesResolver:P_})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=M({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return M({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${eh.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${eh.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),kme=d.jsx(G$,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Rme=v.forwardRef(function(e,n){var r;const s=it({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:g=!1,id:E,inputComponent:y="input",inputProps:w={},inputRef:_,maxRows:x,minRows:b,multiline:C=!1,name:T,onBlur:I,onChange:S,onClick:k,onFocus:A,onKeyDown:N,onKeyUp:O,placeholder:D,readOnly:$,renderSuffix:P,rows:R,slotProps:L={},slots:j={},startAdornment:F,type:q="text",value:W}=s,B=fe(s,Tme),U=w.value!=null?w.value:W,{current:V}=v.useRef(U!=null),H=v.useRef(),ie=v.useCallback(Oe=>{},[]),K=Rn(H,_,w.ref,ie),[ne,me]=v.useState(!1),oe=Lh(),le=Dh({props:s,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});le.focused=oe?oe.focused:ne,v.useEffect(()=>{!oe&&f&&ne&&(me(!1),I&&I())},[oe,f,ne,I]);const ye=oe&&oe.onFilled,ke=oe&&oe.onEmpty,_e=v.useCallback(Oe=>{V1(Oe)?ye&&ye():ke&&ke()},[ye,ke]);Ss(()=>{V&&_e({value:U})},[U,_e,V]);const qe=Oe=>{if(le.disabled){Oe.stopPropagation();return}A&&A(Oe),w.onFocus&&w.onFocus(Oe),oe&&oe.onFocus?oe.onFocus(Oe):me(!0)},Be=Oe=>{I&&I(Oe),w.onBlur&&w.onBlur(Oe),oe&&oe.onBlur?oe.onBlur(Oe):me(!1)},Fe=(Oe,...Ee)=>{if(!V){const ct=Oe.target||H.current;if(ct==null)throw new Error(ia(1));_e({value:ct.value})}w.onChange&&w.onChange(Oe,...Ee),S&&S(Oe,...Ee)};v.useEffect(()=>{_e(H.current)},[]);const ht=Oe=>{H.current&&Oe.currentTarget===Oe.target&&H.current.focus(),k&&k(Oe)};let Ye=y,Re=w;C&&Ye==="input"&&(R?Re=M({type:void 0,minRows:R,maxRows:R},Re):Re=M({type:void 0,maxRows:x,minRows:b},Re),Ye=xme);const Et=Oe=>{_e(Oe.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};v.useEffect(()=>{oe&&oe.setAdornedStart(!!F)},[oe,F]);const We=M({},s,{color:le.color||"primary",disabled:le.disabled,endAdornment:m,error:le.error,focused:le.focused,formControl:oe,fullWidth:g,hiddenLabel:le.hiddenLabel,multiline:C,size:le.size,startAdornment:F,type:q}),Ie=Sme(We),_t=j.root||c.Root||N_,Mt=L.root||u.root||{},fn=j.input||c.Input||D_;return Re=M({},Re,(r=L.input)!=null?r:u.input),d.jsxs(v.Fragment,{children:[!p&&kme,d.jsxs(_t,M({},Mt,!M1(_t)&&{ownerState:M({},We,Mt.ownerState)},{ref:n,onClick:ht},B,{className:Se(Ie.root,Mt.className,l,$&&"MuiInputBase-readOnly"),children:[F,d.jsx(NT.Provider,{value:null,children:d.jsx(fn,M({ownerState:We,"aria-invalid":le.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:h,disabled:le.disabled,id:E,onAnimationStart:Et,name:T,placeholder:D,readOnly:$,required:le.required,rows:R,value:U,onKeyDown:N,onKeyUp:O,type:q},Re,!M1(fn)&&{as:Ye,ownerState:M({},We,Re.ownerState)},{ref:K,className:Se(Ie.input,Re.className,$&&"MuiInputBase-readOnly"),onBlur:Be,onChange:Fe,onFocus:qe}))}),m,P?P(M({},le,{startAdornment:F})):null]}))]})}),DT=Rme;function Ame(t){return lt("MuiInput",t)}const Pme=M({},eh,Je("MuiInput",["root","underline","input"])),pf=Pme;function Nme(t){return lt("MuiOutlinedInput",t)}const Dme=M({},eh,Je("MuiOutlinedInput",["root","notchedOutline","input"])),Sa=Dme;function Lme(t){return lt("MuiFilledInput",t)}const Mme=M({},eh,Je("MuiFilledInput",["root","underline","input"])),$l=Mme,Ome=Ge(d.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),jme=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$me={entering:{opacity:1},entered:{opacity:1}},Fme=v.forwardRef(function(e,n){const r=yt(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:g,style:E,timeout:y=s,TransitionComponent:w=_T}=e,_=fe(e,jme),x=v.useRef(null),b=Rn(x,a.ref,n),C=D=>$=>{if(D){const P=x.current;$===void 0?D(P):D(P,$)}},T=C(f),I=C((D,$)=>{ET(D);const P=Yc({style:E,timeout:y,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",P),D.style.transition=r.transitions.create("opacity",P),u&&u(D,$)}),S=C(h),k=C(g),A=C(D=>{const $=Yc({style:E,timeout:y,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",$),D.style.transition=r.transitions.create("opacity",$),p&&p(D)}),N=C(m),O=D=>{i&&i(x.current,D)};return d.jsx(w,M({appear:o,in:c,nodeRef:x,onEnter:I,onEntered:S,onEntering:T,onExit:A,onExited:N,onExiting:k,addEndListener:O,timeout:y},_,{children:(D,$)=>v.cloneElement(a,M({style:M({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},$me[D],E,a.props.style),ref:b},$))}))}),q$=Fme;function Vme(t){return lt("MuiBackdrop",t)}Je("MuiBackdrop",["root","invisible"]);const Ume=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],zme=t=>{const{classes:e,invisible:n}=t;return dt({root:["root",n&&"invisible"]},Vme,e)},Bme=ue("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>M({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Wme=v.forwardRef(function(e,n){var r,s,i;const o=it({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:h={},invisible:f=!1,open:p,slotProps:m={},slots:g={},TransitionComponent:E=q$,transitionDuration:y}=o,w=fe(o,Ume),_=M({},o,{component:c,invisible:f}),x=zme(_),b=(r=m.root)!=null?r:h.root;return d.jsx(E,M({in:p,timeout:y},w,{children:d.jsx(Bme,M({"aria-hidden":!0},b,{as:(s=(i=g.root)!=null?i:u.Root)!=null?s:c,className:Se(x.root,l,b==null?void 0:b.className),ownerState:M({},_,b==null?void 0:b.ownerState),classes:x,ref:n,children:a}))}))}),Y$=Wme,Hme=Je("MuiBox",["root"]),Gme=Hme,qme=mT(),Yme=Cde({themeId:Yd,defaultTheme:qme,defaultClassName:Gme.root,generateClassName:e$.generate}),Z=Yme;function Kme(t){return lt("MuiButton",t)}const Qme=Je("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),m2=Qme,Xme=v.createContext({}),Jme=Xme,Zme=v.createContext(void 0),e2e=Zme,t2e=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],n2e=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${de(e)}`,`size${de(s)}`,`${i}Size${de(s)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${de(s)}`],endIcon:["icon","endIcon",`iconSize${de(s)}`]},l=dt(a,Kme,o);return M({},o,l)},K$=t=>M({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),r2e=ue(CT,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return M({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":M({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":M({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${m2.focusVisible}`]:M({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${m2.disabled}`]:M({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Zr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${m2.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${m2.disabled}`]:{boxShadow:"none"}}),s2e=ue("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${de(n.size)}`]]}})(({ownerState:t})=>M({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},K$(t))),i2e=ue("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${de(n.size)}`]]}})(({ownerState:t})=>M({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},K$(t))),o2e=v.forwardRef(function(e,n){const r=v.useContext(Jme),s=v.useContext(e2e),i=yp(r,e),o=it({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:E=!1,size:y="medium",startIcon:w,type:_,variant:x="text"}=o,b=fe(o,t2e),C=M({},o,{color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:p,fullWidth:E,size:y,type:_,variant:x}),T=n2e(C),I=w&&d.jsx(s2e,{className:T.startIcon,ownerState:C,children:w}),S=m&&d.jsx(i2e,{className:T.endIcon,ownerState:C,children:m}),k=s||"";return d.jsxs(r2e,M({ownerState:C,className:Se(r.className,T.root,u,k),component:c,disabled:h,focusRipple:!p,focusVisibleClassName:Se(T.focusVisible,g),ref:n,type:_},b,{classes:T,children:[I,a,S]}))}),Me=o2e;function a2e(t){return lt("MuiCircularProgress",t)}Je("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const l2e=["className","color","disableShrink","size","style","thickness","value","variant"];let L_=t=>t,mP,gP,vP,yP;const ka=44,c2e=Oi(mP||(mP=L_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),u2e=Oi(gP||(gP=L_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),d2e=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,i={root:["root",n,`color${de(r)}`],svg:["svg"],circle:["circle",`circle${de(n)}`,s&&"circleDisableShrink"]};return dt(i,a2e,e)},h2e=ue("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${de(n.color)}`]]}})(({ownerState:t,theme:e})=>M({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&oa(vP||(vP=L_`
      animation: ${0} 1.4s linear infinite;
    `),c2e)),f2e=ue("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),p2e=ue("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${de(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>M({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&oa(yP||(yP=L_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),u2e)),m2e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:h="indeterminate"}=r,f=fe(r,l2e),p=M({},r,{color:i,disableShrink:o,size:a,thickness:c,value:u,variant:h}),m=d2e(p),g={},E={},y={};if(h==="determinate"){const w=2*Math.PI*((ka-c)/2);g.strokeDasharray=w.toFixed(3),y["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,E.transform="rotate(-90deg)"}return d.jsx(h2e,M({className:Se(m.root,s),style:M({width:a,height:a},E,l),ownerState:p,ref:n,role:"progressbar"},y,f,{children:d.jsx(f2e,{className:m.svg,ownerState:p,viewBox:`${ka/2} ${ka/2} ${ka} ${ka}`,children:d.jsx(p2e,{className:m.circle,style:g,ownerState:p,cx:ka,cy:ka,r:(ka-c)/2,fill:"none",strokeWidth:c})})}))}),Q$=m2e;function _P(t){return t.substring(2).toLowerCase()}function g2e(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function v2e(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=t,o=v.useRef(!1),a=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1);v.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Rn(e.ref,a),h=Jr(m=>{const g=c.current;c.current=!1;const E=xn(a.current);if(!l.current||!a.current||"clientX"in m&&g2e(m,E))return;if(o.current){o.current=!1;return}let y;m.composedPath?y=m.composedPath().indexOf(a.current)>-1:y=!E.documentElement.contains(m.target)||a.current.contains(m.target),!y&&(n||!g)&&s(m)}),f=m=>g=>{c.current=!0;const E=e.props[m];E&&E(g)},p={ref:u};return i!==!1&&(p[i]=f(i)),v.useEffect(()=>{if(i!==!1){const m=_P(i),g=xn(a.current),E=()=>{o.current=!0};return g.addEventListener(m,h),g.addEventListener("touchmove",E),()=>{g.removeEventListener(m,h),g.removeEventListener("touchmove",E)}}},[h,i]),r!==!1&&(p[r]=f(r)),v.useEffect(()=>{if(r!==!1){const m=_P(r),g=xn(a.current);return g.addEventListener(m,h),()=>{g.removeEventListener(m,h)}}},[h,r]),d.jsx(v.Fragment,{children:v.cloneElement(e,p)})}const y2e=(t,e)=>M({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),_2e=t=>M({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),w2e=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let s=M({html:y2e(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:M({margin:0},_2e(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const i=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function x2e(t){const e=it({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return d.jsxs(v.Fragment,{children:[d.jsx(G$,{styles:s=>w2e(s,r)}),n]})}function E2e(t){const e=xn(t);return e.body===t?Cs(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function c0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function wP(t){return parseInt(Cs(t).getComputedStyle(t).paddingRight,10)||0}function C2e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function xP(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,o=>{const a=i.indexOf(o)===-1,l=!C2e(o);a&&l&&c0(o,s)})}function lx(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function b2e(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(E2e(r)){const o=d$(xn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${wP(r)+o}px`;const a=xn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${wP(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=xn(r).body;else{const o=r.parentElement,a=Cs(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function I2e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class T2e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&c0(e.modalRef,!1);const s=I2e(n);xP(n,e.mount,e.modalRef,s,!0);const i=lx(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=lx(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[r];s.restore||(s.restore=b2e(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=lx(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&c0(e.modalRef,n),xP(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&c0(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const S2e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function k2e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function R2e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function A2e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||R2e(t))}function P2e(t){const e=[],n=[];return Array.from(t.querySelectorAll(S2e)).forEach((r,s)=>{const i=k2e(r);i===-1||!A2e(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function N2e(){return!0}function D2e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=P2e,isEnabled:o=N2e,open:a}=t,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=v.useRef(null),p=v.useRef(!1),m=v.useRef(null),g=Rn(e.ref,m),E=v.useRef(null);v.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!m.current)return;const _=xn(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{s||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),v.useEffect(()=>{if(!a||!m.current)return;const _=xn(m.current),x=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&_.activeElement===m.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},b=()=>{const T=m.current;if(T===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let I=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(I=i(m.current)),I.length>0){var S,k;const A=!!((S=E.current)!=null&&S.shiftKey&&((k=E.current)==null?void 0:k.key)==="Tab"),N=I[0],O=I[I.length-1];typeof N!="string"&&typeof O!="string"&&(A?O.focus():N.focus())}else T.focus()};_.addEventListener("focusin",b),_.addEventListener("keydown",x,!0);const C=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(C),_.removeEventListener("focusin",b),_.removeEventListener("keydown",x,!0)}},[n,r,s,o,a,i]);const y=_=>{h.current===null&&(h.current=_.relatedTarget),p.current=!0,f.current=_.target;const x=e.props.onFocus;x&&x(_)},w=_=>{h.current===null&&(h.current=_.relatedTarget),p.current=!0};return d.jsxs(v.Fragment,{children:[d.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:g,onFocus:y}),d.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function L2e(t){return typeof t=="function"?t():t}function M2e(t){return t?t.props.hasOwnProperty("in"):!1}const O2e=new T2e;function j2e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=O2e,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:h}=t,f=v.useRef({}),p=v.useRef(null),m=v.useRef(null),g=Rn(m,h),[E,y]=v.useState(!u),w=M2e(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const x=()=>xn(p.current),b=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),C=()=>{s.mount(b(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},T=Jr(()=>{const P=L2e(e)||x().body;s.add(b(),P),m.current&&C()}),I=v.useCallback(()=>s.isTopModal(b()),[s]),S=Jr(P=>{p.current=P,P&&(u&&I()?C():m.current&&c0(m.current,_))}),k=v.useCallback(()=>{s.remove(b(),_)},[_,s]);v.useEffect(()=>()=>{k()},[k]),v.useEffect(()=>{u?T():(!w||!i)&&k()},[u,k,w,i,T]);const A=P=>R=>{var L;(L=P.onKeyDown)==null||L.call(P,R),!(R.key!=="Escape"||R.which===229||!I())&&(n||(R.stopPropagation(),c&&c(R,"escapeKeyDown")))},N=P=>R=>{var L;(L=P.onClick)==null||L.call(P,R),R.target===R.currentTarget&&c&&c(R,"backdropClick")};return{getRootProps:(P={})=>{const R=O1(t);delete R.onTransitionEnter,delete R.onTransitionExited;const L=M({},R,P);return M({role:"presentation"},L,{onKeyDown:A(L),ref:g})},getBackdropProps:(P={})=>{const R=P;return M({"aria-hidden":!0},R,{onClick:N(R),open:u})},getTransitionProps:()=>{const P=()=>{y(!1),o&&o()},R=()=>{y(!0),a&&a(),i&&k()};return{onEnter:OA(P,l==null?void 0:l.props.onEnter),onExited:OA(R,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:S,isTopModal:I,exited:E,hasTransition:w}}function $2e(t){return lt("MuiModal",t)}Je("MuiModal",["root","hidden","backdrop"]);const F2e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],V2e=t=>{const{open:e,exited:n,classes:r}=t;return dt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},$2e,r)},U2e=ue("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>M({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),z2e=ue(Y$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),B2e=v.forwardRef(function(e,n){var r,s,i,o,a,l;const c=it({name:"MuiModal",props:e}),{BackdropComponent:u=z2e,BackdropProps:h,className:f,closeAfterTransition:p=!1,children:m,container:g,component:E,components:y={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:b=!1,disablePortal:C=!1,disableRestoreFocus:T=!1,disableScrollLock:I=!1,hideBackdrop:S=!1,keepMounted:k=!1,onBackdropClick:A,open:N,slotProps:O,slots:D}=c,$=fe(c,F2e),P=M({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:x,disableEscapeKeyDown:b,disablePortal:C,disableRestoreFocus:T,disableScrollLock:I,hideBackdrop:S,keepMounted:k}),{getRootProps:R,getBackdropProps:L,getTransitionProps:j,portalRef:F,isTopModal:q,exited:W,hasTransition:B}=j2e(M({},P,{rootRef:n})),U=M({},P,{exited:W}),V=V2e(U),H={};if(m.props.tabIndex===void 0&&(H.tabIndex="-1"),B){const{onEnter:ye,onExited:ke}=j();H.onEnter=ye,H.onExited=ke}const ie=(r=(s=D==null?void 0:D.root)!=null?s:y.Root)!=null?r:U2e,K=(i=(o=D==null?void 0:D.backdrop)!=null?o:y.Backdrop)!=null?i:u,ne=(a=O==null?void 0:O.root)!=null?a:w.root,me=(l=O==null?void 0:O.backdrop)!=null?l:w.backdrop,oe=Cl({elementType:ie,externalSlotProps:ne,externalForwardedProps:$,getSlotProps:R,additionalProps:{ref:n,as:E},ownerState:U,className:Se(f,ne==null?void 0:ne.className,V==null?void 0:V.root,!U.open&&U.exited&&(V==null?void 0:V.hidden))}),le=Cl({elementType:K,externalSlotProps:me,additionalProps:h,getSlotProps:ye=>L(M({},ye,{onClick:ke=>{A&&A(ke),ye!=null&&ye.onClick&&ye.onClick(ke)}})),className:Se(me==null?void 0:me.className,h==null?void 0:h.className,V==null?void 0:V.backdrop),ownerState:U});return!k&&!N&&(!B||W)?null:d.jsx(W$,{ref:F,container:g,disablePortal:C,children:d.jsxs(ie,M({},oe,{children:[!S&&u?d.jsx(K,M({},le)):null,d.jsx(D2e,{disableEnforceFocus:x,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:q,open:N,children:v.cloneElement(m,H)})]}))})}),LT=B2e;function W2e(t){return lt("MuiDialog",t)}const H2e=Je("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),cx=H2e,G2e=v.createContext({}),X$=G2e,q2e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Y2e=ue(Y$,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),K2e=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=t,o={root:["root"],container:["container",`scroll${de(n)}`],paper:["paper",`paperScroll${de(n)}`,`paperWidth${de(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return dt(o,W2e,e)},Q2e=ue(LT,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),X2e=ue("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${de(n.scroll)}`]]}})(({ownerState:t})=>M({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),J2e=ue(Nh,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${de(n.scroll)}`],e[`paperWidth${de(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>M({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${cx.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${cx.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${cx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Z2e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialog"}),s=yt(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:h,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:g="sm",onBackdropClick:E,onClick:y,onClose:w,open:_,PaperComponent:x=Nh,PaperProps:b={},scroll:C="paper",TransitionComponent:T=q$,transitionDuration:I=i,TransitionProps:S}=r,k=fe(r,q2e),A=M({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:m,maxWidth:g,scroll:C}),N=K2e(A),O=v.useRef(),D=L=>{O.current=L.target===L.currentTarget},$=L=>{y&&y(L),O.current&&(O.current=null,E&&E(L),w&&w(L,"backdropClick"))},P=m_(a),R=v.useMemo(()=>({titleId:P}),[P]);return d.jsx(Q2e,M({className:Se(N.root,h),closeAfterTransition:!0,components:{Backdrop:Y2e},componentsProps:{backdrop:M({transitionDuration:I,as:l},c)},disableEscapeKeyDown:f,onClose:w,open:_,ref:n,onClick:$,ownerState:A},k,{children:d.jsx(T,M({appear:!0,in:_,timeout:I,role:"presentation"},S,{children:d.jsx(X2e,{className:Se(N.container),onMouseDown:D,ownerState:A,children:d.jsx(J2e,M({as:x,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},b,{className:Se(N.paper,b.className),ownerState:A,children:d.jsx(X$.Provider,{value:R,children:u})}))})}))}))}),ds=Z2e;function ege(t){return lt("MuiDialogTitle",t)}Je("MuiDialogTitle",["root"]);const tge=["className","id"],nge=t=>{const{classes:e}=t;return dt({root:["root"]},ege,e)},rge=ue(De,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),sge=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialogTitle"}),{className:s,id:i}=r,o=fe(r,tge),a=r,l=nge(a),{titleId:c=i}=v.useContext(X$);return d.jsx(rge,M({component:"h2",className:Se(l.root,s),ownerState:a,ref:n,variant:"h6",id:i??c},o))}),ige=sge,oge=Je("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),EP=oge,age=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function lge(t,e,n){const r=e.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),i=Cs(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=i.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?s?`translateX(${s.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:t==="right"?s?`translateX(-${r.right-s.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?s?`translateY(${s.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function cge(t){return typeof t=="function"?t():t}function g2(t,e,n){const r=cge(n),s=lge(t,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const uge=v.forwardRef(function(e,n){const r=yt(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:h=s,in:f,onEnter:p,onEntered:m,onEntering:g,onExit:E,onExited:y,onExiting:w,style:_,timeout:x=i,TransitionComponent:b=_T}=e,C=fe(e,age),T=v.useRef(null),I=Rn(l.ref,T,n),S=L=>j=>{L&&(j===void 0?L(T.current):L(T.current,j))},k=S((L,j)=>{g2(u,L,c),ET(L),p&&p(L,j)}),A=S((L,j)=>{const F=Yc({timeout:x,style:_,easing:h},{mode:"enter"});L.style.webkitTransition=r.transitions.create("-webkit-transform",M({},F)),L.style.transition=r.transitions.create("transform",M({},F)),L.style.webkitTransform="none",L.style.transform="none",g&&g(L,j)}),N=S(m),O=S(w),D=S(L=>{const j=Yc({timeout:x,style:_,easing:h},{mode:"exit"});L.style.webkitTransition=r.transitions.create("-webkit-transform",j),L.style.transition=r.transitions.create("transform",j),g2(u,L,c),E&&E(L)}),$=S(L=>{L.style.webkitTransition="",L.style.transition="",y&&y(L)}),P=L=>{o&&o(T.current,L)},R=v.useCallback(()=>{T.current&&g2(u,T.current,c)},[u,c]);return v.useEffect(()=>{if(f||u==="down"||u==="right")return;const L=dT(()=>{T.current&&g2(u,T.current,c)}),j=Cs(T.current);return j.addEventListener("resize",L),()=>{L.clear(),j.removeEventListener("resize",L)}},[u,f,c]),v.useEffect(()=>{f||R()},[f,R]),d.jsx(b,M({nodeRef:T,onEnter:k,onEntered:N,onEntering:A,onExit:D,onExited:$,onExiting:O,addEndListener:P,appear:a,in:f,timeout:x},C,{children:(L,j)=>v.cloneElement(l,M({ref:I,style:M({visibility:L==="exited"&&!f?"hidden":void 0},_,l.props.style)},j))}))}),J$=uge;function dge(t){return lt("MuiDrawer",t)}Je("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const hge=["BackdropProps"],fge=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Z$=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},pge=t=>{const{classes:e,anchor:n,variant:r}=t,s={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${de(n)}`,r!=="temporary"&&`paperAnchorDocked${de(n)}`]};return dt(s,dge,e)},mge=ue(LT,{name:"MuiDrawer",slot:"Root",overridesResolver:Z$})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),CP=ue("div",{shouldForwardProp:us,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Z$})({flex:"0 0 auto"}),gge=ue(Nh,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${de(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${de(n.anchor)}`]]}})(({theme:t,ownerState:e})=>M({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),eF={left:"right",right:"left",top:"down",bottom:"up"};function Xl(t){return["left","right"].indexOf(t)!==-1}function Mf({direction:t},e){return t==="rtl"&&Xl(e)?eF[e]:e}const vge=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiDrawer"}),s=yt(),i=v_(),o={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:g=!1,PaperProps:E={},SlideProps:y,TransitionComponent:w=J$,transitionDuration:_=o,variant:x="temporary"}=r,b=fe(r.ModalProps,hge),C=fe(r,fge),T=v.useRef(!1);v.useEffect(()=>{T.current=!0},[]);const I=Mf({direction:i?"rtl":"ltr"},a),k=M({},r,{anchor:a,elevation:h,open:g,variant:x},C),A=pge(k),N=d.jsx(gge,M({elevation:x==="temporary"?h:0,square:!0},E,{className:Se(A.paper,E.className),ownerState:k,children:c}));if(x==="permanent")return d.jsx(CP,M({className:Se(A.root,A.docked,u),ownerState:k,ref:n},C,{children:N}));const O=d.jsx(w,M({in:g,direction:eF[I],timeout:_,appear:T.current},y,{children:N}));return x==="persistent"?d.jsx(CP,M({className:Se(A.root,A.docked,u),ownerState:k,ref:n},C,{children:O})):d.jsx(mge,M({BackdropProps:M({},l,p,{transitionDuration:_}),className:Se(A.root,A.modal,u),open:g,ownerState:k,onClose:m,hideBackdrop:f,ref:n},C,b,{children:O}))}),yge=vge,_ge=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],wge=t=>{const{classes:e,disableUnderline:n}=t,s=dt({root:["root",!n&&"underline"],input:["input"]},Lme,e);return M({},e,s)},xge=ue(N_,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...A_(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return M({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${$l.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${$l.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$l.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$l.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$l.disabled}, .${$l.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${$l.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&M({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Ege=ue(D_,{name:"MuiFilledInput",slot:"Input",overridesResolver:P_})(({theme:t,ownerState:e})=>M({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),tF=v.forwardRef(function(e,n){var r,s,i,o;const a=it({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:m={},type:g="text"}=a,E=fe(a,_ge),y=M({},a,{fullWidth:u,inputComponent:h,multiline:f,type:g}),w=wge(a),_={root:{ownerState:y},input:{ownerState:y}},x=p??c?Vr(_,p??c):_,b=(r=(s=m.root)!=null?s:l.Root)!=null?r:xge,C=(i=(o=m.input)!=null?o:l.Input)!=null?i:Ege;return d.jsx(DT,M({slots:{root:b,input:C},componentsProps:x,fullWidth:u,inputComponent:h,multiline:f,ref:n,type:g},E,{classes:w}))});tF.muiName="Input";const nF=tF;function Cge(t){return lt("MuiFormControl",t)}Je("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const bge=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ige=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return dt(s,Cge,e)},Tge=ue("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>M({},e.root,e[`margin${de(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>M({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Sge=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:h=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:g="medium",variant:E="outlined"}=r,y=fe(r,bge),w=M({},r,{color:o,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:f,margin:p,required:m,size:g,variant:E}),_=Ige(w),[x,b]=v.useState(()=>{let O=!1;return s&&v.Children.forEach(s,D=>{if(!sx(D,["Input","Select"]))return;const $=sx(D,["Select"])?D.props.input:D;$&&Cme($.props)&&(O=!0)}),O}),[C,T]=v.useState(()=>{let O=!1;return s&&v.Children.forEach(s,D=>{sx(D,["Input","Select"])&&(V1(D.props,!0)||V1(D.props.inputProps,!0))&&(O=!0)}),O}),[I,S]=v.useState(!1);l&&I&&S(!1);const k=u!==void 0&&!l?u:I;let A;const N=v.useMemo(()=>({adornedStart:x,setAdornedStart:b,color:o,disabled:l,error:c,filled:C,focused:k,fullWidth:h,hiddenLabel:f,size:g,onBlur:()=>{S(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{S(!0)},registerEffect:A,required:m,variant:E}),[x,o,l,c,C,k,h,f,A,m,g,E]);return d.jsx(NT.Provider,{value:N,children:d.jsx(Tge,M({as:a,ownerState:w,className:Se(_.root,i),ref:n},y,{children:s}))})}),kge=Sge,Rge=Rhe({createStyledComponent:ue("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>it({props:t,name:"MuiStack"})}),Mr=Rge;function Age(t){return lt("MuiFormHelperText",t)}const Pge=Je("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),bP=Pge;var IP;const Nge=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Dge=t=>{const{classes:e,contained:n,size:r,disabled:s,error:i,filled:o,focused:a,required:l}=t,c={root:["root",s&&"disabled",i&&"error",r&&`size${de(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return dt(c,Age,e)},Lge=ue("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>M({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${bP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bP.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Mge=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:o="p"}=r,a=fe(r,Nge),l=Lh(),c=Dh({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=M({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=Dge(u);return d.jsx(Lge,M({as:o,ownerState:u,className:Se(h.root,i),ref:n},a,{children:s===" "?IP||(IP=d.jsx("span",{className:"notranslate",children:""})):s}))}),Oge=Mge;function jge(t){return lt("MuiFormLabel",t)}const $ge=Je("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),u0=$ge,Fge=["children","className","color","component","disabled","error","filled","focused","required"],Vge=t=>{const{classes:e,color:n,focused:r,disabled:s,error:i,filled:o,required:a}=t,l={root:["root",`color${de(n)}`,s&&"disabled",i&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return dt(l,jge,e)},Uge=ue("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>M({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>M({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${u0.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${u0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${u0.error}`]:{color:(t.vars||t).palette.error.main}})),zge=ue("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${u0.error}`]:{color:(t.vars||t).palette.error.main}})),Bge=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormLabel"}),{children:s,className:i,component:o="label"}=r,a=fe(r,Fge),l=Lh(),c=Dh({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=M({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=Vge(u);return d.jsxs(Uge,M({as:o,ownerState:u,className:Se(h.root,i),ref:n},a,{children:[s,c.required&&d.jsxs(zge,{ownerState:u,"aria-hidden":!0,className:h.asterisk,children:["","*"]})]}))}),Wge=Bge,Hge=v.createContext(),TP=Hge;function Gge(t){return lt("MuiGrid",t)}const qge=[0,1,2,3,4,5,6,7,8,9,10],Yge=["column-reverse","column","row-reverse","row"],Kge=["nowrap","wrap-reverse","wrap"],mf=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],xp=Je("MuiGrid",["root","container","item","zeroMinWidth",...qge.map(t=>`spacing-xs-${t}`),...Yge.map(t=>`direction-xs-${t}`),...Kge.map(t=>`wrap-xs-${t}`),...mf.map(t=>`grid-xs-${t}`),...mf.map(t=>`grid-sm-${t}`),...mf.map(t=>`grid-md-${t}`),...mf.map(t=>`grid-lg-${t}`),...mf.map(t=>`grid-xl-${t}`)]),Qge=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function xd(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Xge({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=wc({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const h=`calc(${l} + ${xd(u)})`;c={flexBasis:h,maxWidth:h}}}i=M({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function Jge({theme:t,ownerState:e}){const n=wc({values:e.direction,breakpoints:t.breakpoints.values});return ls({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${xp.item}`]={maxWidth:"none"}),s})}function rF({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function Zge({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=wc({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=rF({breakpoints:t.breakpoints.values,values:i})),s=ls({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${xd(u)}`,[`& > .${xp.item}`]:{paddingTop:xd(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${xp.item}`]:{paddingTop:0}}})}return s}function e1e({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=wc({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=rF({breakpoints:t.breakpoints.values,values:i})),s=ls({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${xd(u)})`,marginLeft:`-${xd(u)}`,[`& > .${xp.item}`]:{paddingLeft:xd(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${xp.item}`]:{paddingLeft:0}}})}return s}function t1e(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const n1e=ue("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=t1e(o,c,e));const h=[];return c.forEach(f=>{const p=n[f];p&&h.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>M({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Jge,Zge,e1e,Xge);function r1e(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const s1e=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=r1e(i,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const h={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return dt(h,Gge,e)},i1e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiGrid"}),{breakpoints:s}=yt(),i=vm(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:h="row",item:f=!1,rowSpacing:p,spacing:m=0,wrap:g="wrap",zeroMinWidth:E=!1}=i,y=fe(i,Qge),w=p||m,_=l||m,x=v.useContext(TP),b=u?a||12:x,C={},T=M({},y);s.keys.forEach(k=>{y[k]!=null&&(C[k]=y[k],delete T[k])});const I=M({},i,{columns:b,container:u,direction:h,item:f,rowSpacing:w,columnSpacing:_,wrap:g,zeroMinWidth:E,spacing:m},C,{breakpoints:s.keys}),S=s1e(I);return d.jsx(TP.Provider,{value:b,children:d.jsx(n1e,M({ownerState:I,className:Se(S.root,o),as:c,ref:n},T))})}),Ed=i1e,o1e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function nC(t){return`scale(${t}, ${t**2})`}const a1e={entering:{opacity:1,transform:nC(1)},entered:{opacity:1,transform:"none"}},ux=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),sF=v.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:h,onExited:f,onExiting:p,style:m,timeout:g="auto",TransitionComponent:E=_T}=e,y=fe(e,o1e),w=lc(),_=v.useRef(),x=yt(),b=v.useRef(null),C=Rn(b,i.ref,n),T=$=>P=>{if($){const R=b.current;P===void 0?$(R):$(R,P)}},I=T(u),S=T(($,P)=>{ET($);const{duration:R,delay:L,easing:j}=Yc({style:m,timeout:g,easing:o},{mode:"enter"});let F;g==="auto"?(F=x.transitions.getAutoHeightDuration($.clientHeight),_.current=F):F=R,$.style.transition=[x.transitions.create("opacity",{duration:F,delay:L}),x.transitions.create("transform",{duration:ux?F:F*.666,delay:L,easing:j})].join(","),l&&l($,P)}),k=T(c),A=T(p),N=T($=>{const{duration:P,delay:R,easing:L}=Yc({style:m,timeout:g,easing:o},{mode:"exit"});let j;g==="auto"?(j=x.transitions.getAutoHeightDuration($.clientHeight),_.current=j):j=P,$.style.transition=[x.transitions.create("opacity",{duration:j,delay:R}),x.transitions.create("transform",{duration:ux?j:j*.666,delay:ux?R:R||j*.333,easing:L})].join(","),$.style.opacity=0,$.style.transform=nC(.75),h&&h($)}),O=T(f),D=$=>{g==="auto"&&w.start(_.current||0,$),r&&r(b.current,$)};return d.jsx(E,M({appear:s,in:a,nodeRef:b,onEnter:S,onEntered:k,onEntering:I,onExit:N,onExited:O,onExiting:A,addEndListener:D,timeout:g==="auto"?null:g},y,{children:($,P)=>v.cloneElement(i,M({style:M({opacity:0,transform:nC(.75),visibility:$==="exited"&&!a?"hidden":void 0},a1e[$],m,i.props.style),ref:C},P))}))});sF.muiSupportAuto=!0;const U1=sF,l1e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],c1e=t=>{const{classes:e,disableUnderline:n}=t,s=dt({root:["root",!n&&"underline"],input:["input"]},Ame,e);return M({},e,s)},u1e=ue(N_,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...A_(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),M({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pf.disabled}, .${pf.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${pf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),d1e=ue(D_,{name:"MuiInput",slot:"Input",overridesResolver:P_})({}),iF=v.forwardRef(function(e,n){var r,s,i,o;const a=it({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:g={},type:E="text"}=a,y=fe(a,l1e),w=c1e(a),x={root:{ownerState:{disableUnderline:l}}},b=m??u?Vr(m??u,x):x,C=(r=(s=g.root)!=null?s:c.Root)!=null?r:u1e,T=(i=(o=g.input)!=null?o:c.Input)!=null?i:d1e;return d.jsx(DT,M({slots:{root:C,input:T},slotProps:b,fullWidth:h,inputComponent:f,multiline:p,ref:n,type:E},y,{classes:w}))});iF.muiName="Input";const oF=iF;function h1e(t){return lt("MuiInputLabel",t)}Je("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const f1e=["disableAnimation","margin","shrink","variant","className"],p1e=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:i,variant:o,required:a}=t,l={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${de(r)}`,o],asterisk:[a&&"asterisk"]},c=dt(l,h1e,e);return M({},e,c)},m1e=ue(Wge,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${u0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>M({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&M({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&M({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&M({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),g1e=v.forwardRef(function(e,n){const r=it({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,shrink:i,className:o}=r,a=fe(r,f1e),l=Lh();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Dh({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),h=M({},r,{disableAnimation:s,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=p1e(h);return d.jsx(m1e,M({"data-shrink":c,ownerState:h,ref:n,className:Se(f.root,o)},a,{classes:f}))}),v1e=g1e;function y1e(t){return lt("MuiLinearProgress",t)}Je("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const _1e=["className","color","value","valueBuffer","variant"];let Mh=t=>t,SP,kP,RP,AP,PP,NP;const rC=4,w1e=Oi(SP||(SP=Mh`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),x1e=Oi(kP||(kP=Mh`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),E1e=Oi(RP||(RP=Mh`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),C1e=t=>{const{classes:e,variant:n,color:r}=t,s={root:["root",`color${de(r)}`,n],dashed:["dashed",`dashedColor${de(r)}`],bar1:["bar",`barColor${de(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${de(r)}`,n==="buffer"&&`color${de(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return dt(s,y1e,e)},MT=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?w$(t.palette[e].main,.62):_$(t.palette[e].main,.5),b1e=ue("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${de(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>M({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:MT(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),I1e=ue("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${de(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=MT(e,t.color);return M({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},oa(AP||(AP=Mh`
    animation: ${0} 3s infinite linear;
  `),E1e)),T1e=ue("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${de(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>M({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${rC}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${rC}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&oa(PP||(PP=Mh`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),w1e)),S1e=ue("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${de(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>M({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:MT(e,t.color),transition:`transform .${rC}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&oa(NP||(NP=Mh`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),x1e)),k1e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=fe(r,_1e),u=M({},r,{color:i,variant:l}),h=C1e(u),f=v_(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let g=o-100;f&&(g=-g),m.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&a!==void 0){let g=(a||0)-100;f&&(g=-g),m.bar2.transform=`translateX(${g}%)`}return d.jsxs(b1e,M({className:Se(h.root,s),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?d.jsx(I1e,{className:h.dashed,ownerState:u}):null,d.jsx(T1e,{className:h.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:d.jsx(S1e,{className:h.bar2,ownerState:u,style:m.bar2})]}))}),R1e=k1e,A1e=v.createContext({}),sC=A1e;function P1e(t){return lt("MuiList",t)}Je("MuiList",["root","padding","dense","subheader"]);const N1e=["children","className","component","dense","disablePadding","subheader"],D1e=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return dt({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},P1e,e)},L1e=ue("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>M({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),M1e=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=fe(r,N1e),h=v.useMemo(()=>({dense:a}),[a]),f=M({},r,{component:o,dense:a,disablePadding:l}),p=D1e(f);return d.jsx(sC.Provider,{value:h,children:d.jsxs(L1e,M({as:o,className:Se(p.root,i),ref:n,ownerState:f},u,{children:[c,s]}))})}),O1e=M1e,j1e=Je("MuiListItemIcon",["root","alignItemsFlexStart"]),DP=j1e,$1e=Je("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),LP=$1e,F1e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function dx(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function MP(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function aF(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function gf(t,e,n,r,s,i){let o=!1,a=s(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!aF(a,i)||l)a=s(t,a,n);else return a.focus(),!0}return!1}const V1e=v.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:h="selectedMenu"}=e,f=fe(e,F1e),p=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ss(()=>{s&&p.current.focus()},[s]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:x})=>{const b=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&b){const C=`${d$(xn(_))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=C,p.current.style.width=`calc(100% + ${C})`}return p.current}}),[]);const g=_=>{const x=p.current,b=_.key,C=xn(x).activeElement;if(b==="ArrowDown")_.preventDefault(),gf(x,C,c,l,dx);else if(b==="ArrowUp")_.preventDefault(),gf(x,C,c,l,MP);else if(b==="Home")_.preventDefault(),gf(x,null,c,l,dx);else if(b==="End")_.preventDefault(),gf(x,null,c,l,MP);else if(b.length===1){const T=m.current,I=b.toLowerCase(),S=performance.now();T.keys.length>0&&(S-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&I!==T.keys[0]&&(T.repeating=!1)),T.lastTime=S,T.keys.push(I);const k=C&&!T.repeating&&aF(C,T);T.previousKeyMatched&&(k||gf(x,C,!1,l,dx,T))?_.preventDefault():T.previousKeyMatched=!1}u&&u(_)},E=Rn(p,n);let y=-1;v.Children.forEach(o,(_,x)=>{if(!v.isValidElement(_)){y===x&&(y+=1,y>=o.length&&(y=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||y===-1)&&(y=x),y===x&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(y+=1,y>=o.length&&(y=-1))});const w=v.Children.map(o,(_,x)=>{if(x===y){const b={};return i&&(b.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(b.tabIndex=0),v.cloneElement(_,b)}return _});return d.jsx(O1e,M({role:"menu",ref:E,className:a,onKeyDown:g,tabIndex:s?0:-1},f,{children:w}))}),U1e=V1e;function z1e(t){return lt("MuiPopover",t)}Je("MuiPopover",["root","paper"]);const B1e=["onEntering"],W1e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],H1e=["slotProps"];function OP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function jP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function $P(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function hx(t){return typeof t=="function"?t():t}const G1e=t=>{const{classes:e}=t;return dt({root:["root"],paper:["paper"]},z1e,e)},q1e=ue(LT,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),lF=ue(Nh,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Y1e=v.forwardRef(function(e,n){var r,s,i;const o=it({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:h="anchorEl",children:f,className:p,container:m,elevation:g=8,marginThreshold:E=16,open:y,PaperProps:w={},slots:_,slotProps:x,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:C=U1,transitionDuration:T="auto",TransitionProps:{onEntering:I}={},disableScrollLock:S=!1}=o,k=fe(o.TransitionProps,B1e),A=fe(o,W1e),N=(r=x==null?void 0:x.paper)!=null?r:w,O=v.useRef(),D=Rn(O,N.ref),$=M({},o,{anchorOrigin:c,anchorReference:h,elevation:g,marginThreshold:E,externalPaperSlotProps:N,transformOrigin:b,TransitionComponent:C,transitionDuration:T,TransitionProps:k}),P=G1e($),R=v.useCallback(()=>{if(h==="anchorPosition")return u;const ye=hx(l),_e=(ye&&ye.nodeType===1?ye:xn(O.current).body).getBoundingClientRect();return{top:_e.top+OP(_e,c.vertical),left:_e.left+jP(_e,c.horizontal)}},[l,c.horizontal,c.vertical,u,h]),L=v.useCallback(ye=>({vertical:OP(ye,b.vertical),horizontal:jP(ye,b.horizontal)}),[b.horizontal,b.vertical]),j=v.useCallback(ye=>{const ke={width:ye.offsetWidth,height:ye.offsetHeight},_e=L(ke);if(h==="none")return{top:null,left:null,transformOrigin:$P(_e)};const qe=R();let Be=qe.top-_e.vertical,Fe=qe.left-_e.horizontal;const ht=Be+ke.height,Ye=Fe+ke.width,Re=Cs(hx(l)),Et=Re.innerHeight-E,We=Re.innerWidth-E;if(E!==null&&Be<E){const Ie=Be-E;Be-=Ie,_e.vertical+=Ie}else if(E!==null&&ht>Et){const Ie=ht-Et;Be-=Ie,_e.vertical+=Ie}if(E!==null&&Fe<E){const Ie=Fe-E;Fe-=Ie,_e.horizontal+=Ie}else if(Ye>We){const Ie=Ye-We;Fe-=Ie,_e.horizontal+=Ie}return{top:`${Math.round(Be)}px`,left:`${Math.round(Fe)}px`,transformOrigin:$P(_e)}},[l,h,R,L,E]),[F,q]=v.useState(y),W=v.useCallback(()=>{const ye=O.current;if(!ye)return;const ke=j(ye);ke.top!==null&&(ye.style.top=ke.top),ke.left!==null&&(ye.style.left=ke.left),ye.style.transformOrigin=ke.transformOrigin,q(!0)},[j]);v.useEffect(()=>(S&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,S,W]);const B=(ye,ke)=>{I&&I(ye,ke),W()},U=()=>{q(!1)};v.useEffect(()=>{y&&W()}),v.useImperativeHandle(a,()=>y?{updatePosition:()=>{W()}}:null,[y,W]),v.useEffect(()=>{if(!y)return;const ye=dT(()=>{W()}),ke=Cs(l);return ke.addEventListener("resize",ye),()=>{ye.clear(),ke.removeEventListener("resize",ye)}},[l,y,W]);let V=T;T==="auto"&&!C.muiSupportAuto&&(V=void 0);const H=m||(l?xn(hx(l)).body:void 0),ie=(s=_==null?void 0:_.root)!=null?s:q1e,K=(i=_==null?void 0:_.paper)!=null?i:lF,ne=Cl({elementType:K,externalSlotProps:M({},N,{style:F?N.style:M({},N.style,{opacity:0})}),additionalProps:{elevation:g,ref:D},ownerState:$,className:Se(P.paper,N==null?void 0:N.className)}),me=Cl({elementType:ie,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:H,open:y},ownerState:$,className:Se(P.root,p)}),{slotProps:oe}=me,le=fe(me,H1e);return d.jsx(ie,M({},le,!M1(ie)&&{slotProps:oe,disableScrollLock:S},{children:d.jsx(C,M({appear:!0,in:y,onEntering:B,onExited:U,timeout:V},k,{children:d.jsx(K,M({},ne,{children:f}))}))}))}),K1e=Y1e;function Q1e(t){return lt("MuiMenu",t)}Je("MuiMenu",["root","paper","list"]);const X1e=["onEntering"],J1e=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Z1e={vertical:"top",horizontal:"right"},eve={vertical:"top",horizontal:"left"},tve=t=>{const{classes:e}=t;return dt({root:["root"],paper:["paper"],list:["list"]},Q1e,e)},nve=ue(K1e,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rve=ue(lF,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sve=ue(U1e,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ive=v.forwardRef(function(e,n){var r,s;const i=it({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:h,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:E}={},variant:y="selectedMenu",slots:w={},slotProps:_={}}=i,x=fe(i.TransitionProps,X1e),b=fe(i,J1e),C=v_(),T=M({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:E,PaperProps:p,transitionDuration:g,TransitionProps:x,variant:y}),I=tve(T),S=o&&!c&&f,k=v.useRef(null),A=(L,j)=>{k.current&&k.current.adjustStyleForScrollbar(L,{direction:C?"rtl":"ltr"}),E&&E(L,j)},N=L=>{L.key==="Tab"&&(L.preventDefault(),h&&h(L,"tabKeyDown"))};let O=-1;v.Children.map(a,(L,j)=>{v.isValidElement(L)&&(L.props.disabled||(y==="selectedMenu"&&L.props.selected||O===-1)&&(O=j))});const D=(r=w.paper)!=null?r:rve,$=(s=_.paper)!=null?s:p,P=Cl({elementType:w.root,externalSlotProps:_.root,ownerState:T,className:[I.root,l]}),R=Cl({elementType:D,externalSlotProps:$,ownerState:T,className:I.paper});return d.jsx(nve,M({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Z1e:eve,slots:{paper:D,root:w.root},slotProps:{root:P,paper:R},open:f,ref:n,transitionDuration:g,TransitionProps:M({onEntering:A},x),ownerState:T},b,{classes:m,children:d.jsx(sve,M({onKeyDown:N,actions:k,autoFocus:o&&(O===-1||c),autoFocusItem:S,variant:y},u,{className:Se(I.list,u.className),children:a}))}))}),ove=ive;function ave(t){return lt("MuiMenuItem",t)}const lve=Je("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),vf=lve,cve=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],uve=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},dve=t=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:i,classes:o}=t,l=dt({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},ave,o);return M({},o,l)},hve=ue(CT,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:uve})(({theme:t,ownerState:e})=>M({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${vf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${vf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${vf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${vf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${EP.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${EP.inset}`]:{marginLeft:52},[`& .${LP.root}`]:{marginTop:0,marginBottom:0},[`& .${LP.inset}`]:{paddingLeft:36},[`& .${DP.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&M({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${DP.root} svg`]:{fontSize:"1.25rem"}}))),fve=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:h,className:f}=r,p=fe(r,cve),m=v.useContext(sC),g=v.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),E=v.useRef(null);Ss(()=>{s&&E.current&&E.current.focus()},[s]);const y=M({},r,{dense:g.dense,divider:a,disableGutters:l}),w=dve(r),_=Rn(E,n);let x;return r.disabled||(x=h!==void 0?h:-1),d.jsx(sC.Provider,{value:g,children:d.jsx(hve,M({ref:_,role:u,tabIndex:x,component:i,focusVisibleClassName:Se(w.focusVisible,c),className:Se(w.root,f)},p,{ownerState:y,classes:w}))})}),pve=fve;function mve(t){return lt("MuiNativeSelect",t)}const gve=Je("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),OT=gve,vve=["className","disabled","error","IconComponent","inputRef","variant"],yve=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,a={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,i&&"iconOpen",r&&"disabled"]};return dt(a,mve,e)},cF=({ownerState:t,theme:e})=>M({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":M({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${OT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),_ve=ue("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:us,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${OT.multiple}`]:e.multiple}]}})(cF),uF=({ownerState:t,theme:e})=>M({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${OT.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),wve=ue("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})(uF),xve=v.forwardRef(function(e,n){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=fe(e,vve),u=M({},e,{disabled:s,variant:l,error:i}),h=yve(u);return d.jsxs(v.Fragment,{children:[d.jsx(_ve,M({ownerState:u,className:Se(h.select,r),disabled:s,ref:a||n},c)),e.multiple?null:d.jsx(wve,{as:o,ownerState:u,className:h.icon})]})}),Eve=xve;function Cve(t){const{children:e,defer:n=!1,fallback:r=null}=t,[s,i]=v.useState(!1);return Ss(()=>{n||i(!0)},[n]),v.useEffect(()=>{n&&i(!0)},[n]),d.jsx(v.Fragment,{children:s?e:r})}var FP;const bve=["children","classes","className","label","notched"],Ive=ue("fieldset",{shouldForwardProp:us})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Tve=ue("legend",{shouldForwardProp:us})(({ownerState:t,theme:e})=>M({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&M({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Sve(t){const{className:e,label:n,notched:r}=t,s=fe(t,bve),i=n!=null&&n!=="",o=M({},t,{notched:r,withLabel:i});return d.jsx(Ive,M({"aria-hidden":!0,className:e,ownerState:o},s,{children:d.jsx(Tve,{ownerState:o,children:i?d.jsx("span",{children:n}):FP||(FP=d.jsx("span",{className:"notranslate",children:""}))})}))}const kve=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Rve=t=>{const{classes:e}=t,r=dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Nme,e);return M({},e,r)},Ave=ue(N_,{shouldForwardProp:t=>us(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:A_})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return M({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sa.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Sa.focused} .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Sa.error} .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Sa.disabled} .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&M({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Pve=ue(Sve,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Nve=ue(D_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:P_})(({theme:t,ownerState:e})=>M({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),dF=v.forwardRef(function(e,n){var r,s,i,o,a;const l=it({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:h="input",label:f,multiline:p=!1,notched:m,slots:g={},type:E="text"}=l,y=fe(l,kve),w=Rve(l),_=Lh(),x=Dh({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=M({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:_,fullWidth:u,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:E}),C=(r=(s=g.root)!=null?s:c.Root)!=null?r:Ave,T=(i=(o=g.input)!=null?o:c.Input)!=null?i:Nve;return d.jsx(DT,M({slots:{root:C,input:T},renderSuffix:I=>d.jsx(Pve,{ownerState:b,className:w.notchedOutline,label:f!=null&&f!==""&&x.required?a||(a=d.jsxs(v.Fragment,{children:[f,"","*"]})):f,notched:typeof m<"u"?m:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:u,inputComponent:h,multiline:p,ref:n,type:E},y,{classes:M({},w,{notchedOutline:null})}))});dF.muiName="Input";const hF=dF;function Dve(t){return lt("MuiSelect",t)}const Lve=Je("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),yf=Lve;var VP;const Mve=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ove=ue("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${yf.select}`]:e.select},{[`&.${yf.select}`]:e[n.variant]},{[`&.${yf.error}`]:e.error},{[`&.${yf.multiple}`]:e.multiple}]}})(cF,{[`&.${yf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),jve=ue("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})(uF),$ve=ue("input",{shouldForwardProp:t=>k$(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function UP(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Fve(t){return t==null||typeof t=="string"&&!t.trim()}const Vve=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,a={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return dt(a,Dve,e)},Uve=v.forwardRef(function(e,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:p,error:m=!1,IconComponent:g,inputRef:E,labelId:y,MenuProps:w={},multiple:_,name:x,onBlur:b,onChange:C,onClose:T,onFocus:I,onOpen:S,open:k,readOnly:A,renderValue:N,SelectDisplayProps:O={},tabIndex:D,value:$,variant:P="standard"}=e,R=fe(e,Mve),[L,j]=qE({controlled:$,default:h,name:"Select"}),[F,q]=qE({controlled:k,default:u,name:"Select"}),W=v.useRef(null),B=v.useRef(null),[U,V]=v.useState(null),{current:H}=v.useRef(k!=null),[ie,K]=v.useState(),ne=Rn(n,E),me=v.useCallback(Y=>{B.current=Y,Y&&V(Y)},[]),oe=U==null?void 0:U.parentNode;v.useImperativeHandle(ne,()=>({focus:()=>{B.current.focus()},node:W.current,value:L}),[L]),v.useEffect(()=>{u&&F&&U&&!H&&(K(a?null:oe.clientWidth),B.current.focus())},[U,a]),v.useEffect(()=>{o&&B.current.focus()},[o]),v.useEffect(()=>{if(!y)return;const Y=xn(B.current).getElementById(y);if(Y){const xe=()=>{getSelection().isCollapsed&&B.current.focus()};return Y.addEventListener("click",xe),()=>{Y.removeEventListener("click",xe)}}},[y]);const le=(Y,xe)=>{Y?S&&S(xe):T&&T(xe),H||(K(a?null:oe.clientWidth),q(Y))},ye=Y=>{Y.button===0&&(Y.preventDefault(),B.current.focus(),le(!0,Y))},ke=Y=>{le(!1,Y)},_e=v.Children.toArray(l),qe=Y=>{const xe=_e.find(Ae=>Ae.props.value===Y.target.value);xe!==void 0&&(j(xe.props.value),C&&C(Y,xe))},Be=Y=>xe=>{let Ae;if(xe.currentTarget.hasAttribute("tabindex")){if(_){Ae=Array.isArray(L)?L.slice():[];const Pt=L.indexOf(Y.props.value);Pt===-1?Ae.push(Y.props.value):Ae.splice(Pt,1)}else Ae=Y.props.value;if(Y.props.onClick&&Y.props.onClick(xe),L!==Ae&&(j(Ae),C)){const Pt=xe.nativeEvent||xe,pn=new Pt.constructor(Pt.type,Pt);Object.defineProperty(pn,"target",{writable:!0,value:{value:Ae,name:x}}),C(pn,Y)}_||le(!1,xe)}},Fe=Y=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Y.key)!==-1&&(Y.preventDefault(),le(!0,Y))},ht=U!==null&&F,Ye=Y=>{!ht&&b&&(Object.defineProperty(Y,"target",{writable:!0,value:{value:L,name:x}}),b(Y))};delete R["aria-invalid"];let Re,Et;const We=[];let Ie=!1;(V1({value:L})||p)&&(N?Re=N(L):Ie=!0);const _t=_e.map(Y=>{if(!v.isValidElement(Y))return null;let xe;if(_){if(!Array.isArray(L))throw new Error(ia(2));xe=L.some(Ae=>UP(Ae,Y.props.value)),xe&&Ie&&We.push(Y.props.children)}else xe=UP(L,Y.props.value),xe&&Ie&&(Et=Y.props.children);return v.cloneElement(Y,{"aria-selected":xe?"true":"false",onClick:Be(Y),onKeyUp:Ae=>{Ae.key===" "&&Ae.preventDefault(),Y.props.onKeyUp&&Y.props.onKeyUp(Ae)},role:"option",selected:xe,value:void 0,"data-value":Y.props.value})});Ie&&(_?We.length===0?Re=null:Re=We.reduce((Y,xe,Ae)=>(Y.push(xe),Ae<We.length-1&&Y.push(", "),Y),[]):Re=Et);let Mt=ie;!a&&H&&U&&(Mt=oe.clientWidth);let fn;typeof D<"u"?fn=D:fn=f?null:0;const Oe=O.id||(x?`mui-component-select-${x}`:void 0),Ee=M({},e,{variant:P,value:L,open:ht,error:m}),ct=Vve(Ee),qt=M({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Ht=m_();return d.jsxs(v.Fragment,{children:[d.jsx(Ove,M({ref:me,tabIndex:fn,role:"combobox","aria-controls":Ht,"aria-disabled":f?"true":void 0,"aria-expanded":ht?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[y,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:Fe,onMouseDown:f||A?null:ye,onBlur:Ye,onFocus:I},O,{ownerState:Ee,className:Se(O.className,ct.select,c),id:Oe,children:Fve(Re)?VP||(VP=d.jsx("span",{className:"notranslate",children:""})):Re})),d.jsx($ve,M({"aria-invalid":m,value:Array.isArray(L)?L.join(","):L,name:x,ref:W,"aria-hidden":!0,onChange:qe,tabIndex:-1,disabled:f,className:ct.nativeInput,autoFocus:o,ownerState:Ee},R)),d.jsx(jve,{as:g,className:ct.icon,ownerState:Ee}),d.jsx(ove,M({id:`menu-${x||""}`,anchorEl:oe,open:ht,onClose:ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:M({"aria-labelledby":y,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Ht},w.MenuListProps),slotProps:M({},w.slotProps,{paper:M({},qt,{style:M({minWidth:Mt},qt!=null?qt.style:null)})}),children:_t}))]})}),zve=Uve,Bve=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Wve=["root"],Hve=t=>{const{classes:e}=t;return e},jT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>us(t)&&t!=="variant",slot:"Root"},Gve=ue(oF,jT)(""),qve=ue(hF,jT)(""),Yve=ue(nF,jT)(""),fF=v.forwardRef(function(e,n){const r=it({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Ome,id:h,input:f,inputProps:p,label:m,labelId:g,MenuProps:E,multiple:y=!1,native:w=!1,onClose:_,onOpen:x,open:b,renderValue:C,SelectDisplayProps:T,variant:I="outlined"}=r,S=fe(r,Bve),k=w?Eve:zve,A=Lh(),N=Dh({props:r,muiFormControl:A,states:["variant","error"]}),O=N.variant||I,D=M({},r,{variant:O,classes:o}),$=Hve(D),P=fe($,Wve),R=f||{standard:d.jsx(Gve,{ownerState:D}),outlined:d.jsx(qve,{label:m,ownerState:D}),filled:d.jsx(Yve,{ownerState:D})}[O],L=Rn(n,R.ref);return d.jsx(v.Fragment,{children:v.cloneElement(R,M({inputComponent:k,inputProps:M({children:i,error:N.error,IconComponent:u,variant:O,type:void 0,multiple:y},w?{id:h}:{autoWidth:s,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:E,onClose:_,onOpen:x,open:b,renderValue:C,SelectDisplayProps:M({id:h},T)},p,{classes:p?Vr(P,p.classes):P},f?f.props.inputProps:{})},(y&&w||c)&&O==="outlined"?{notched:!0}:{},{ref:L,className:Se(R.props.className,a,$.root)},!f&&{variant:O},S))})});fF.muiName="Select";const pF=fF;function Kve(t){return lt("MuiSkeleton",t)}Je("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Qve=["animation","className","component","height","style","variant","width"];let z1=t=>t,zP,BP,WP,HP;const Xve=t=>{const{classes:e,variant:n,animation:r,hasChildren:s,width:i,height:o}=t;return dt({root:["root",n,r,s&&"withChildren",s&&!i&&"fitContent",s&&!o&&"heightAuto"]},Kve,e)},Jve=Oi(zP||(zP=z1`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Zve=Oi(BP||(BP=z1`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),eye=ue("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=mfe(t.shape.borderRadius)||"px",r=gfe(t.shape.borderRadius);return M({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Qde(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&oa(WP||(WP=z1`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Jve),({ownerState:t,theme:e})=>t.animation==="wave"&&oa(HP||(HP=z1`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Zve,(e.vars||e).palette.action.hover)),tye=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:o="span",height:a,style:l,variant:c="text",width:u}=r,h=fe(r,Qve),f=M({},r,{animation:s,component:o,variant:c,hasChildren:!!h.children}),p=Xve(f);return d.jsx(eye,M({as:o,ref:n,className:Se(p.root,i),ownerState:f},h,{style:M({width:u,height:a},l)}))}),he=tye;function nye(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:i}=t,o=lc();v.useEffect(()=>{if(!s)return;function y(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[s,r]);const a=Jr((y,w)=>{r==null||r(y,w)}),l=Jr(y=>{!r||y==null||o.start(y,()=>{a(null,"timeout")})});v.useEffect(()=>(s&&l(e),o.clear),[s,e,l,o]);const c=y=>{r==null||r(y,"clickaway")},u=o.clear,h=v.useCallback(()=>{e!=null&&l(i??e*.5)},[e,i,l]),f=y=>w=>{const _=y.onBlur;_==null||_(w),h()},p=y=>w=>{const _=y.onFocus;_==null||_(w),u()},m=y=>w=>{const _=y.onMouseEnter;_==null||_(w),u()},g=y=>w=>{const _=y.onMouseLeave;_==null||_(w),h()};return v.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",h),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",u)}},[n,s,h,u]),{getRootProps:(y={})=>{const w=M({},O1(t),O1(y));return M({role:"presentation"},y,w,{onBlur:f(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:g(w)})},onClickAway:c}}function rye(t){return lt("MuiSnackbarContent",t)}Je("MuiSnackbarContent",["root","message","action"]);const sye=["action","className","message","role"],iye=t=>{const{classes:e}=t;return dt({root:["root"],action:["action"],message:["message"]},rye,e)},oye=ue(Nh,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=Dhe(t.palette.background.default,e);return M({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),aye=ue("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),lye=ue("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),cye=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSnackbarContent"}),{action:s,className:i,message:o,role:a="alert"}=r,l=fe(r,sye),c=r,u=iye(c);return d.jsxs(oye,M({role:a,square:!0,elevation:6,className:Se(u.root,i),ownerState:c,ref:n},l,{children:[d.jsx(aye,{className:u.message,ownerState:c,children:o}),s?d.jsx(lye,{className:u.action,ownerState:c,children:s}):null]}))}),uye=cye;function dye(t){return lt("MuiSnackbar",t)}Je("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const hye=["onEnter","onExited"],fye=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],pye=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${de(n.vertical)}${de(n.horizontal)}`]};return dt(r,dye,e)},GP=ue("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${de(n.anchorOrigin.vertical)}${de(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return M({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:M({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),mye=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSnackbar"}),s=yt(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:h,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:m=!1,message:g,open:E,TransitionComponent:y=U1,transitionDuration:w=i,TransitionProps:{onEnter:_,onExited:x}={}}=r,b=fe(r.TransitionProps,hye),C=fe(r,fye),T=M({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:y,transitionDuration:w}),I=pye(T),{getRootProps:S,onClickAway:k}=nye(M({},T)),[A,N]=v.useState(!0),O=Cl({elementType:GP,getSlotProps:S,externalForwardedProps:C,ownerState:T,additionalProps:{ref:n},className:[I.root,h]}),D=P=>{N(!0),x&&x(P)},$=(P,R)=>{N(!1),_&&_(P,R)};return!E&&A?null:d.jsx(v2e,M({onClickAway:k},f,{children:d.jsx(GP,M({},O,{children:d.jsx(y,M({appear:!0,in:E,timeout:w,direction:a==="top"?"down":"up",onEnter:$,onExited:D},b,{children:u||d.jsx(uye,M({message:g,action:o},p))}))}))}))}),gye=mye;function vye(t){return lt("MuiTooltip",t)}const yye=Je("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ka=yye,_ye=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function wye(t){return Math.round(t*1e5)/1e5}const xye=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:s,placement:i}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${de(i.split("-")[0])}`],arrow:["arrow"]};return dt(o,vye,e)},Eye=ue(H$,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>M({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ka.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ka.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ka.arrow}`]:M({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ka.arrow}`]:M({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Cye=ue("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${de(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>M({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Zr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${wye(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ka.popper}[data-popper-placement*="left"] &`]:M({transformOrigin:"right center"},e.isRtl?M({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):M({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ka.popper}[data-popper-placement*="right"] &`]:M({transformOrigin:"left center"},e.isRtl?M({marginRight:"14px"},e.touch&&{marginRight:"24px"}):M({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ka.popper}[data-popper-placement*="top"] &`]:M({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ka.popper}[data-popper-placement*="bottom"] &`]:M({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),bye=ue("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Zr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let v2=!1;const qP=new ym;let _f={x:0,y:0};function y2(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Iye=v.forwardRef(function(e,n){var r,s,i,o,a,l,c,u,h,f,p,m,g,E,y,w,_,x,b;const C=it({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:I,components:S={},componentsProps:k={},describeChild:A=!1,disableFocusListener:N=!1,disableHoverListener:O=!1,disableInteractive:D=!1,disableTouchListener:$=!1,enterDelay:P=100,enterNextDelay:R=0,enterTouchDelay:L=700,followCursor:j=!1,id:F,leaveDelay:q=0,leaveTouchDelay:W=1500,onClose:B,onOpen:U,open:V,placement:H="bottom",PopperComponent:ie,PopperProps:K={},slotProps:ne={},slots:me={},title:oe,TransitionComponent:le=U1,TransitionProps:ye}=C,ke=fe(C,_ye),_e=v.isValidElement(I)?I:d.jsx("span",{children:I}),qe=yt(),Be=v_(),[Fe,ht]=v.useState(),[Ye,Re]=v.useState(null),Et=v.useRef(!1),We=D||j,Ie=lc(),_t=lc(),Mt=lc(),fn=lc(),[Oe,Ee]=qE({controlled:V,default:!1,name:"Tooltip",state:"open"});let ct=Oe;const qt=m_(F),Ht=v.useRef(),Y=Jr(()=>{Ht.current!==void 0&&(document.body.style.WebkitUserSelect=Ht.current,Ht.current=void 0),fn.clear()});v.useEffect(()=>Y,[Y]);const xe=ft=>{qP.clear(),v2=!0,Ee(!0),U&&!ct&&U(ft)},Ae=Jr(ft=>{qP.start(800+q,()=>{v2=!1}),Ee(!1),B&&ct&&B(ft),Ie.start(qe.transitions.duration.shortest,()=>{Et.current=!1})}),Pt=ft=>{Et.current&&ft.type!=="touchstart"||(Fe&&Fe.removeAttribute("title"),_t.clear(),Mt.clear(),P||v2&&R?_t.start(v2?R:P,()=>{xe(ft)}):xe(ft))},pn=ft=>{_t.clear(),Mt.start(q,()=>{Ae(ft)})},{isFocusVisibleRef:hr,onBlur:wa,onFocus:di,ref:xa}=u$(),[,hi]=v.useState(!1),fi=ft=>{wa(ft),hr.current===!1&&(hi(!1),pn(ft))},_o=ft=>{Fe||ht(ft.currentTarget),di(ft),hr.current===!0&&(hi(!0),Pt(ft))},Ea=ft=>{Et.current=!0;const fs=_e.props;fs.onTouchStart&&fs.onTouchStart(ft)},Tm=ft=>{Ea(ft),Mt.clear(),Ie.clear(),Y(),Ht.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fn.start(L,()=>{document.body.style.WebkitUserSelect=Ht.current,Pt(ft)})},wo=ft=>{_e.props.onTouchEnd&&_e.props.onTouchEnd(ft),Y(),Mt.start(W,()=>{Ae(ft)})};v.useEffect(()=>{if(!ct)return;function ft(fs){(fs.key==="Escape"||fs.key==="Esc")&&Ae(fs)}return document.addEventListener("keydown",ft),()=>{document.removeEventListener("keydown",ft)}},[Ae,ct]);const xo=Rn(_e.ref,xa,ht,n);!oe&&oe!==0&&(ct=!1);const H_=v.useRef(),$V=ft=>{const fs=_e.props;fs.onMouseMove&&fs.onMouseMove(ft),_f={x:ft.clientX,y:ft.clientY},H_.current&&H_.current.update()},Fh={},G_=typeof oe=="string";A?(Fh.title=!ct&&G_&&!O?oe:null,Fh["aria-describedby"]=ct?qt:null):(Fh["aria-label"]=G_?oe:null,Fh["aria-labelledby"]=ct&&!G_?qt:null);const pi=M({},Fh,ke,_e.props,{className:Se(ke.className,_e.props.className),onTouchStart:Ea,ref:xo},j?{onMouseMove:$V}:{}),Vh={};$||(pi.onTouchStart=Tm,pi.onTouchEnd=wo),O||(pi.onMouseOver=y2(Pt,pi.onMouseOver),pi.onMouseLeave=y2(pn,pi.onMouseLeave),We||(Vh.onMouseOver=Pt,Vh.onMouseLeave=pn)),N||(pi.onFocus=y2(_o,pi.onFocus),pi.onBlur=y2(fi,pi.onBlur),We||(Vh.onFocus=_o,Vh.onBlur=fi));const FV=v.useMemo(()=>{var ft;let fs=[{name:"arrow",enabled:!!Ye,options:{element:Ye,padding:4}}];return(ft=K.popperOptions)!=null&&ft.modifiers&&(fs=fs.concat(K.popperOptions.modifiers)),M({},K.popperOptions,{modifiers:fs})},[Ye,K]),Uh=M({},C,{isRtl:Be,arrow:T,disableInteractive:We,placement:H,PopperComponentProp:ie,touch:Et.current}),q_=xye(Uh),aS=(r=(s=me.popper)!=null?s:S.Popper)!=null?r:Eye,lS=(i=(o=(a=me.transition)!=null?a:S.Transition)!=null?o:le)!=null?i:U1,cS=(l=(c=me.tooltip)!=null?c:S.Tooltip)!=null?l:Cye,uS=(u=(h=me.arrow)!=null?h:S.Arrow)!=null?u:bye,VV=Df(aS,M({},K,(f=ne.popper)!=null?f:k.popper,{className:Se(q_.popper,K==null?void 0:K.className,(p=(m=ne.popper)!=null?m:k.popper)==null?void 0:p.className)}),Uh),UV=Df(lS,M({},ye,(g=ne.transition)!=null?g:k.transition),Uh),zV=Df(cS,M({},(E=ne.tooltip)!=null?E:k.tooltip,{className:Se(q_.tooltip,(y=(w=ne.tooltip)!=null?w:k.tooltip)==null?void 0:y.className)}),Uh),BV=Df(uS,M({},(_=ne.arrow)!=null?_:k.arrow,{className:Se(q_.arrow,(x=(b=ne.arrow)!=null?b:k.arrow)==null?void 0:x.className)}),Uh);return d.jsxs(v.Fragment,{children:[v.cloneElement(_e,pi),d.jsx(aS,M({as:ie??H$,placement:H,anchorEl:j?{getBoundingClientRect:()=>({top:_f.y,left:_f.x,right:_f.x,bottom:_f.y,width:0,height:0})}:Fe,popperRef:H_,open:Fe?ct:!1,id:qt,transition:!0},Vh,VV,{popperOptions:FV,children:({TransitionProps:ft})=>d.jsx(lS,M({timeout:qe.transitions.duration.shorter},ft,UV,{children:d.jsxs(cS,M({},zV,{children:[oe,T?d.jsx(uS,M({},BV,{ref:Re})):null]}))}))}))]})}),gt=Iye,Tye=["anchor","classes","className","width","style"],Sye=ue("div",{shouldForwardProp:us})(({theme:t,ownerState:e})=>M({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),kye=v.forwardRef(function(e,n){const{anchor:r,classes:s={},className:i,width:o,style:a}=e,l=fe(e,Tye),c=e;return d.jsx(Sye,M({className:Se("PrivateSwipeArea-root",s.root,s[`anchor${de(r)}`],i),ref:n,style:M({[Xl(r)?"width":"height"]:o},a),ownerState:c},l))}),Rye=kye,Aye=["BackdropProps"],Pye=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],_2=3,fx=20;let Co=null;function px(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function mx(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function wf(t,e){return t?e.clientWidth:e.clientHeight}function YP(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function Nye(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=Cs(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function Dye({domTreeShapes:t,start:e,current:n,anchor:r}){const s={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(i=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(i[s.scrollPosition[a]]),c=l>0,u=l+i[s.clientLength[a]]<i[s.scrollLength[a]];return!!(o&&u||!o&&c)})}const Lye=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Mye=v.forwardRef(function(e,n){const r=it({name:"MuiSwipeableDrawer",props:e}),s=yt(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=Lye,hideBackdrop:u,hysteresis:h=.52,allowSwipeInChildren:f=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:g,onOpen:E,open:y=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:x=20,transitionDuration:b=i,variant:C="temporary"}=r,T=fe(r.ModalProps,Aye),I=fe(r,Pye),[S,k]=v.useState(!1),A=v.useRef({isSwiping:null}),N=v.useRef(),O=v.useRef(),D=v.useRef(),$=Rn(w.ref,D),P=v.useRef(!1),R=v.useRef();Ss(()=>{R.current=null},[y]);const L=v.useCallback((B,U={})=>{const{mode:V=null,changeTransition:H=!0}=U,ie=Mf(s,o),K=["right","bottom"].indexOf(ie)!==-1?1:-1,ne=Xl(o),me=ne?`translate(${K*B}px, 0)`:`translate(0, ${K*B}px)`,oe=D.current.style;oe.webkitTransform=me,oe.transform=me;let le="";if(V&&(le=s.transitions.create("all",Yc({easing:void 0,style:void 0,timeout:b},{mode:V}))),H&&(oe.webkitTransition=le,oe.transition=le),!a&&!u){const ye=O.current.style;ye.opacity=1-B/wf(ne,D.current),H&&(ye.webkitTransition=le,ye.transition=le)}},[o,a,u,s,b]),j=Jr(B=>{if(!P.current)return;if(Co=null,P.current=!1,A0.flushSync(()=>{k(!1)}),!A.current.isSwiping){A.current.isSwiping=null;return}A.current.isSwiping=null;const U=Mf(s,o),V=Xl(o);let H;V?H=px(U,B.changedTouches,xn(B.currentTarget)):H=mx(U,B.changedTouches,Cs(B.currentTarget));const ie=V?A.current.startX:A.current.startY,K=wf(V,D.current),ne=YP(H,ie,y,K),me=ne/K;if(Math.abs(A.current.velocity)>p&&(R.current=Math.abs((K-ne)/A.current.velocity)*1e3),y){A.current.velocity>p||me>h?g():L(0,{mode:"exit"});return}A.current.velocity<-p||1-me>h?E():L(wf(V,D.current),{mode:"enter"})}),F=(B=!1)=>{if(!S){(B||!(l&&f))&&A0.flushSync(()=>{k(!0)});const U=Xl(o);!y&&D.current&&L(wf(U,D.current)+(l?15:-fx),{changeTransition:!1}),A.current.velocity=0,A.current.lastTime=null,A.current.lastTranslate=null,A.current.paperHit=!1,P.current=!0}},q=Jr(B=>{if(!D.current||!P.current||Co!==null&&Co!==A.current)return;F(!0);const U=Mf(s,o),V=Xl(o),H=px(U,B.touches,xn(B.currentTarget)),ie=mx(U,B.touches,Cs(B.currentTarget));if(y&&D.current.contains(B.target)&&Co===null){const le=Nye(B.target,D.current);if(Dye({domTreeShapes:le,start:V?A.current.startX:A.current.startY,current:V?H:ie,anchor:o})){Co=!0;return}Co=A.current}if(A.current.isSwiping==null){const le=Math.abs(H-A.current.startX),ye=Math.abs(ie-A.current.startY),ke=V?le>ye&&le>_2:ye>le&&ye>_2;if(ke&&B.cancelable&&B.preventDefault(),ke===!0||(V?ye>_2:le>_2)){if(A.current.isSwiping=ke,!ke){j(B);return}A.current.startX=H,A.current.startY=ie,!l&&!y&&(V?A.current.startX-=fx:A.current.startY-=fx)}}if(!A.current.isSwiping)return;const K=wf(V,D.current);let ne=V?A.current.startX:A.current.startY;y&&!A.current.paperHit&&(ne=Math.min(ne,K));const me=YP(V?H:ie,ne,y,K);if(y)if(A.current.paperHit)me===0&&(A.current.startX=H,A.current.startY=ie);else if(V?H<K:ie<K)A.current.paperHit=!0,A.current.startX=H,A.current.startY=ie;else return;A.current.lastTranslate===null&&(A.current.lastTranslate=me,A.current.lastTime=performance.now()+1);const oe=(me-A.current.lastTranslate)/(performance.now()-A.current.lastTime)*1e3;A.current.velocity=A.current.velocity*.4+oe*.6,A.current.lastTranslate=me,A.current.lastTime=performance.now(),B.cancelable&&B.preventDefault(),L(me)}),W=Jr(B=>{if(B.defaultPrevented||B.defaultMuiPrevented||y&&(u||!O.current.contains(B.target))&&!D.current.contains(B.target))return;const U=Mf(s,o),V=Xl(o),H=px(U,B.touches,xn(B.currentTarget)),ie=mx(U,B.touches,Cs(B.currentTarget));if(!y){var K;if(c||!(B.target===N.current||(K=D.current)!=null&&K.contains(B.target)&&(typeof f=="function"?f(B,N.current,D.current):f)))return;if(V){if(H>x)return}else if(ie>x)return}B.defaultMuiPrevented=!0,Co=null,A.current.startX=H,A.current.startY=ie,F()});return v.useEffect(()=>{if(C==="temporary"){const B=xn(D.current);return B.addEventListener("touchstart",W),B.addEventListener("touchmove",q,{passive:!y}),B.addEventListener("touchend",j),()=>{B.removeEventListener("touchstart",W),B.removeEventListener("touchmove",q,{passive:!y}),B.removeEventListener("touchend",j)}}},[C,y,W,q,j]),v.useEffect(()=>()=>{Co===A.current&&(Co=null)},[]),v.useEffect(()=>{y||k(!1)},[y]),d.jsxs(v.Fragment,{children:[d.jsx(yge,M({open:C==="temporary"&&S?!0:y,variant:C,ModalProps:M({BackdropProps:M({},m,{ref:O})},C==="temporary"&&{keepMounted:!0},T),hideBackdrop:u,PaperProps:M({},w,{style:M({pointerEvents:C==="temporary"&&!y&&!f?"none":""},w.style),ref:$}),anchor:o,transitionDuration:R.current||b,onClose:g,ref:n},I)),!c&&C==="temporary"&&d.jsx(Cve,{children:d.jsx(Rye,M({anchor:o,ref:N,width:x},_))})]})}),Oye=Mye;function jye(t){return lt("MuiToolbar",t)}Je("MuiToolbar",["root","gutters","regular","dense"]);const $ye=["className","component","disableGutters","variant"],Fye=t=>{const{classes:e,disableGutters:n,variant:r}=t;return dt({root:["root",!n&&"gutters",r]},jye,e)},Vye=ue("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>M({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Uye=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=fe(r,$ye),c=M({},r,{component:i,disableGutters:o,variant:a}),u=Fye(c);return d.jsx(Vye,M({as:i,className:Se(u.root,s),ref:n,ownerState:c},l))}),mF=Uye;function zye(t){return lt("MuiTextField",t)}Je("MuiTextField",["root"]);const Bye=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Wye={standard:oF,filled:nF,outlined:hF},Hye=t=>{const{classes:e}=t;return dt({root:["root"]},zye,e)},Gye=ue(kge,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),qye=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:E,inputProps:y,InputProps:w,inputRef:_,label:x,maxRows:b,minRows:C,multiline:T=!1,name:I,onBlur:S,onChange:k,onFocus:A,placeholder:N,required:O=!1,rows:D,select:$=!1,SelectProps:P,type:R,value:L,variant:j="outlined"}=r,F=fe(r,Bye),q=M({},r,{autoFocus:i,color:l,disabled:u,error:h,fullWidth:p,multiline:T,required:O,select:$,variant:j}),W=Hye(q),B={};j==="outlined"&&(E&&typeof E.shrink<"u"&&(B.notched=E.shrink),B.label=x),$&&((!P||!P.native)&&(B.id=void 0),B["aria-describedby"]=void 0);const U=m_(g),V=m&&U?`${U}-helper-text`:void 0,H=x&&U?`${U}-label`:void 0,ie=Wye[j],K=d.jsx(ie,M({"aria-describedby":V,autoComplete:s,autoFocus:i,defaultValue:c,fullWidth:p,multiline:T,name:I,rows:D,maxRows:b,minRows:C,type:R,value:L,id:U,inputRef:_,onBlur:S,onChange:k,onFocus:A,placeholder:N,inputProps:y},B,w));return d.jsxs(Gye,M({className:Se(W.root,a),disabled:u,error:h,fullWidth:p,ref:n,required:O,color:l,variant:j,ownerState:q},F,{children:[x!=null&&x!==""&&d.jsx(v1e,M({htmlFor:U,id:H},E,{children:x})),$?d.jsx(pF,M({"aria-describedby":V,id:U,labelId:H,value:L,input:K},P,{children:o})):K,m&&d.jsx(Oge,M({id:V},f,{children:m}))]}))}),Qn=qye,hs=({isLoading:t,text:e})=>{if(t)return d.jsx(Z,{sx:{bgcolor:"background.default",position:"fixed",display:"flex",alignItems:"center",top:0,bottom:0,right:0,left:0},className:"fixed top-[70px] right-0 left-0 bottom-0 flex items-center justify-center",children:d.jsxs(Z,{className:"flex flex-col items-center justify-center gap-y-4",children:[d.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),d.jsxs(Z,{className:"h-3 w-[200px] grid justify-center",children:[d.jsx(De,{mb:2,children:e}),d.jsx(R1e,{})]})]})})},Dt=({text:t})=>d.jsx(Z,{m:2,children:d.jsx("div",{children:t})}),M_=Ge(d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"AddSharp"),Yye=Ge([d.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),d.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),Kye=Ge([d.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),d.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettingsSharp"),Qye=Ge(d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),uu=Ge(d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBackSharp"),Xye=Ge(d.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),Jye=Ge(d.jsx("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp"),Zye=Ge(d.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForwardSharp"),$T=Ge(d.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"CancelSharp"),e_e=Ge(d.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline"),t_e=Ge(d.jsx("path",{d:"M22 2H2.01L2 22l4-4h16zM6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"ChatSharp"),th=Ge(d.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp"),gF=Ge(d.jsx("path",{d:"M22 18V2H6v16zm-11-6 2.03 2.71L16 11l4 5H8zM2 6v16h16v-2H4V6z"}),"CollectionsSharp"),n_e=Ge(d.jsx("path",{d:"M16 1H2v16h2V3h12zm5 4H6v18h15zm-2 16H8V7h11z"}),"ContentCopySharp"),du=Ge(d.jsx("path",{d:"M6 21h12V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"DeleteSharp"),r_e=Ge(d.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"DoneSharp"),s_e=Ge(d.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),i_e=Ge(d.jsx("path",{d:"M21.99 6.86 12 1 2 6.86V20h20zM12 13 3.74 7.84 12 3l8.26 4.84z"}),"DraftsSharp"),ci=Ge(d.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75z"}),"EditSharp"),o_e=Ge(d.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp"),vF=Ge(d.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),yF=Ge(d.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),a_e=Ge(d.jsx("path",{d:"M16 1H2v16h2V3h12zm-1 4 6 6v12H6V5zm-1 7h5.5L14 6.5z"}),"FileCopySharp"),_F=Ge(d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"HelpSharp"),l_e=Ge(d.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.25 2.52.77-1.29-3.52-2.09V8z"}),"HistorySharp"),FT=Ge(d.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"HomeSharp"),c_e=Ge(d.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),Oh=Ge(d.jsx("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8zm9-4h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"}),"LinkSharp"),wF=Ge([d.jsx("path",{d:"M5 5h7V3H3v18h9v-2H5z"},"0"),d.jsx("path",{d:"m21 12-4-4v3H9v2h8v3z"},"1")],"LogoutSharp"),u_e=Ge(d.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),xF=Ge(d.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertSharp"),d_e=Ge(d.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V2.5h-3v2.18C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"NotificationsSharp"),h_e=Ge(d.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonSharp"),f_e=Ge(d.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"QuestionAnswer"),VT=Ge([d.jsx("path",{d:"M4 6H2v16h16v-2H4z"},"0"),d.jsx("path",{d:"M6 2v16h16V2zm7.51 8.16c.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.6.58 1.73.01 2.57-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c.01-.41-.06-1.08.26-1.66m-.56 3.79c0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04 0 .58-.44 1.05-1.04 1.05-.58 0-1.05-.47-1.05-1.05"},"1")],"QuizSharp"),p_e=Ge(d.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"}),"ReplySharp"),Em=Ge(d.jsx("path",{d:"M17 3H3v18h18V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"SaveSharp"),m_e=Ge(d.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),g_e=Ge(d.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"SendSharp"),v_e=Ge(d.jsx("path",{d:"m19.44 12.99-.01.02c.04-.33.08-.67.08-1.01s-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99s.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"}),"SettingsSharp"),y_e=Ge(d.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"ShareSharp"),__e=Ge(d.jsx("path",{d:"M11 8v5l4.25 2.52.77-1.28-3.52-2.09V8zm10 2V3l-2.64 2.64C16.74 4.01 14.49 3 12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9h-2c0 3.86-3.14 7-7 7s-7-3.14-7-7 3.14-7 7-7c1.93 0 3.68.79 4.95 2.05L14 10z"}),"UpdateSharp"),w_e=Ge(d.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"UploadSharp"),UT=Ge(d.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilitySharp"),x_e=()=>{const{userId:t}=v.useContext(we),[e,n]=v.useState(!0),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(null),c=`${a==null?void 0:a.testName} - Results`,u=Math.round((a==null?void 0:a.score)/(a==null?void 0:a.totalScore)*100),h=on(),{resultId:f}=eu();v.useEffect(()=>{(async()=>{try{n(!0);const g=Ue(Ce(Te,"users",t),"history"),E=Ce(g,f),y=await lo(E);y.exists()?(l(y.data()),Bn(n,1200)):(Bn(n),s(!0))}catch(g){Bn(n),o("Error fetching current result: "+g.message),console.log("Error")}})()},[f]),v.useEffect(()=>(Ks(),Ks()),[]);const p=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${a.score} out of ${a.totalScore} in '${a.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return r?d.jsx(Dt,{text:"No result available"}):i?d.jsx(Dt,{text:i}):d.jsx("div",{className:"p-5 ",children:d.jsxs("div",{className:"",children:[d.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[d.jsx(gt,{title:"Navigate up",arrow:!0,children:d.jsx(Qe,{onClick:()=>h("/app/history"),children:d.jsx(uu,{})})}),e?d.jsx(he,{height:40,width:150}):d.jsx("div",{className:"text-lg pl-2 place-items-center bg-blue-40",children:c})]}),d.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[d.jsx("div",{children:d.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:d.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:d.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:d.jsx("div",{className:"grid  h-20 w-20 items-center justify-center rounded-full",children:d.jsxs("div",{className:"flex flex-col items-center justify-center font-medium",children:[d.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),e?d.jsx(he,{height:40,width:60}):d.jsxs("div",{className:" text-lg ",children:[a.score," / ",a.totalScore]})]})})})})})}),d.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg `,children:e?d.jsx(he,{height:40,width:60}):d.jsxs("div",{children:[" ",a.level]})})]}),e?d.jsx(he,{width:"100%"}):d.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[d.jsx("div",{className:"h-full",style:{width:`${u}%`}}),d.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-u}%`}})]}),e?d.jsx(he,{height:200,width:"100%"}):d.jsxs("div",{className:"grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg",children:[d.jsx(Fl,{text:"Score Percentage",value:`${u}%`,color:"text-lime-500"}),d.jsx(Fl,{text:"Total Questions",value:a.totalScore,color:"text-lime-500"}),d.jsx(Fl,{text:"Correct",value:a.score,color:"text-green-500"}),d.jsx(Fl,{text:"Wrong",value:a.totalScore-a.score,color:"text-red-500"}),d.jsx(Fl,{text:"Date",value:a.date,color:"text-lime-500"}),d.jsx(Fl,{text:"Time",value:a.time,color:"text-lime-500"}),d.jsx(Fl,{text:"Time taken",value:Qle(a.timeTaken)||"Unknown",color:"text-lime-500"})]}),d.jsxs("div",{className:"grid grid-cols-3 justify-center gap-y-2 mt-5",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?d.jsx(he,{height:28,width:28}):d.jsx(Qe,{onClick:()=>h(`/app/history/${f}/reviews`),children:d.jsx(UT,{})}),e?d.jsx(he,{width:60}):d.jsx("div",{className:"text-sm",children:"Review Answers"})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?d.jsx(he,{height:28,width:28}):d.jsx(Qe,{onClick:p,children:d.jsx(y_e,{})}),e?d.jsx(he,{width:60}):d.jsx("div",{className:"text-sm",children:"Share Score"})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?d.jsx(he,{height:28,width:28}):d.jsx(Qe,{onClick:()=>h("/app"),children:d.jsx(FT,{})}),e?d.jsx(he,{width:60}):d.jsx("div",{className:"text-sm",children:"Home"})]})]})]})})},Fl=({text:t,value:e,color:n})=>d.jsxs("div",{children:[d.jsxs("div",{className:`font-medium ${n}`,children:[" ",e]}),d.jsx("div",{className:"text-sm",children:t})]});function Ml(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const Ms=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:s})=>{const i=t&&t.trim(),o=e&&e.trim(),a=i&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(i||a)return d.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${s}`,src:t});if(o)return d.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return d.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},la=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s,value:i}=t;return d.jsxs(ds,{open:!!i,onClose:()=>s(!1),children:[d.jsx(ige,{children:r}),d.jsxs(Mr,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[d.jsx(Me,{onClick:e,children:"Yes"}),d.jsx(Me,{onClick:n,children:"No"})]})]})},E_e=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=v.useState(!1),[s,i]=v.useState(!1),{setUserId:o}=v.useContext(we);yt().palette;const l=v.useRef(null),c=on(),{userData:u}=v.useContext(we),h=async()=>{try{await K8(Gr),e(!1),ys.remove("userId"),o(null),c("/login")}catch(f){console.log(f.message)}};return jy(l,r),d.jsxs(Z,{ref:l,className:"p-2 ",children:[d.jsx(Z,{className:"top-0 right-0 left-0 bottom-0",children:d.jsx(la,{data:{value:s,yesButton:h,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),d.jsx(Me,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start"},onClick:()=>r(!n),className:`transition-all ${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"} p-1 flex items-center rounded-md cursor-pointer w-full min-h-14`,children:d.jsxs(Z,{className:"flex gap-x-2 items-center mb-2",children:[d.jsx(Z,{className:"relative size-10",children:d.jsx(Ms,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),d.jsx(Z,{className:"flex flex-1 items-center justify-between",children:d.jsx(De,{fontSize:"1.1rem",variant:"h6",children:u!=null&&u.name?u.name:"Username"})})]})}),n&&d.jsx(Z,{className:"absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md",children:d.jsxs(Z,{children:[d.jsx(Me,{size:"small",sx:{width:"100%"},onClick:()=>{c("/app/settings"),e(!1),r(!1)},startIcon:d.jsx(v_e,{}),children:"Settings"}),d.jsx(Me,{size:"small",sx:{width:"100%"},onClick:()=>{i(!0)},startIcon:d.jsx(wF,{}),children:"Log out"})]})})]})},C_e=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:s,historyCount:i,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=v.useContext(we),u=hh(),h=u.pathname.includes("/app/history"),f=n.includes(u.pathname),p=u.pathname==="/app/"||u.pathname==="/app",m=u.pathname.includes("/app/tests"),g=u.pathname.includes("/app/help"),E=u.pathname.includes("/app/notifications"),y=u.pathname.includes("/app/chatroom");v.useEffect(()=>{try{Go(Ue(Ce(Te,"users",c),"history"),o),Go(Ue(Te,"notifications"),l)}catch(C){console.log(C.message)}},[]);const w=()=>{let C=0;return s.forEach(T=>{$y(s,T.id)||(C+=1)}),!!(C>0&&(r!=null&&r.name))},_=[{text:"Home",image:d.jsx(FT,{}),path:"/app",active:p},{text:"Tests",image:d.jsx(VT,{}),path:"/app/tests",active:m},{text:"History",image:d.jsx(l_e,{}),path:"/app/history",items:i,active:h},{text:"Notifications",image:d.jsx(d_e,{}),path:"/app/notifications",items:a,active:E},{text:"Chat Room",image:d.jsx(t_e,{}),path:"/app/chatroom",color:"bg-red-600",active:y},{text:"Admin",image:d.jsx(Kye,{}),path:"/app/admin",active:f},{text:"Help",image:d.jsx(_F,{}),path:"/app/help",active:g}],x=["Admin"],b=_.filter(C=>r!=null&&r.isAdmin?!0:!x.includes(C.text));return d.jsxs(Oye,{variant:"temporary",transitionDuration:{enter:300,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[d.jsx("div",{className:"flex p-2 items-center",children:d.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[d.jsx(gt,{title:"Close",arrow:!0,children:d.jsx(Qe,{onClick:()=>e(!1),children:d.jsx(th,{})})}),d.jsx(De,{variant:"h6",fontSize:"1rem",children:"STAR EDUCATION ACADEMY"})]})}),d.jsxs(Mr,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[d.jsx(J$,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:d.jsx("div",{className:"mr-2 ml-2",children:b.map(C=>d.jsx(b_e,{setIsMenuOpen:e,data:{active:C.active,image:C.image,path:C.path,text:C.text,items:C==null?void 0:C.items,color:C.color,isThereNewMessages:w}},C.text))})}),d.jsx(E_e,{data:{setIsMenuOpen:e}})]})]})},b_e=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:s,items:i,path:o,color:a,isThereNewMessages:l}=e,c=on(),{currentTest:u}=v.useContext(we);return d.jsxs(Me,{sx:{color:n?"white":"",height:47,justifyContent:"start",alignItems:"center",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 ${n?"bg-blue-500/70":"hover:bg-slate-200"} transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      
      `,startIcon:r,children:[d.jsx("div",{children:s}),i&&i>=0?d.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:i}):"",u&&s==="Home"&&d.jsxs("div",{className:"text-sm",children:["(Taking ",Ml(u.name,45),")"]}),s==="Chat Room"&&(l()?d.jsx("div",{className:"absolute right-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},I_e=()=>{const{headerTitle:t,newMessages:e,userData:n,userId:r}=v.useContext(we),[s,i]=v.useState(!1),o=yt(),{mode:a}=o.palette;return d.jsx(N$,{position:"sticky",sx:{backgroundColor:a==="dark"?"background.default":"white",color:"text.primary"},children:d.jsx(mF,{sx:{padding:"5px"},children:d.jsxs(Ed,{container:!0,justifyContent:"space-between",children:[d.jsxs(Ed,{item:!0,display:"flex",alignItems:"center",children:[r&&d.jsxs(d.Fragment,{children:[d.jsx(gt,{title:"Menu",arrow:!0,children:d.jsxs(Qe,{sx:{position:"relative"},onClick:()=>i(!0),children:[d.jsx(u_e,{}),Xle(e,n)?d.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]})}),s&&d.jsx(C_e,{setIsMenuOpen:i,isMenuOpen:s})]}),d.jsx(De,{variant:"h6",fontSize:"1.12rem",children:t})]}),d.jsx(Ed,{item:!0,children:d.jsx("div",{className:"flex gap-x-2 items-center",children:d.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},EF=({title:t,text:e})=>{const{userId:n,headerTitle:r,setHeaderTitle:s}=v.useContext(we),i=on();return v.useEffect(()=>(s("STAR EDUCATION ACADEMY"),()=>{document.title=r}),[]),d.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&d.jsx(De,{variant:"subtitle2",children:e}),d.jsx("div",{children:d.jsx(Me,{onClick:()=>i(n?"/app":"/login"),startIcon:d.jsx("img",{className:"size-7",src:ar("redo")}),children:"Return Home"})})]})},Zu=()=>d.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),gx=({name:t,className:e,size:n="size-7"})=>d.jsx("img",{className:`${n} ${e}`,src:ar(t)}),T_e=()=>{var x;const{userId:t,setHeaderTitle:e}=v.useContext(we),n=0,r=10,[s,i]=v.useState(r),[o,a]=v.useState({}),l=(x=o==null?void 0:o.results)==null?void 0:x.slice(n,s),c=`${o==null?void 0:o.testName}`,{resultId:u}=eu(),[h,f]=v.useState(!0),[p,m]=v.useState(!1),[g,E]=v.useState(null),y=async()=>{try{f(!0);const b=Ue(Ce(Te,"users",t),"history"),C=Ce(b,u),T=await lo(C);if(T.exists){const I={id:T.id,...T.data()};a(I),Bn(f)}else m(!0),Bn(f)}catch(b){E("Error fetching reviews: "+b.message),Bn(f)}};v.useEffect(()=>{y()},[u]),v.useEffect(()=>(Ks(),Ks()),[]);const w=()=>{i(s+r)},_=()=>{var b;if(s>((b=o==null?void 0:o.results)==null?void 0:b.length))return!0};return v.useEffect(()=>{e(c)}),h?d.jsx(hs,{isLoading:h,text:"Loading reviews..."}):p?d.jsx(Dt,{text:"No reviews available"}):g?d.jsx(Dt,{text:g}):d.jsx("div",{className:"p-5",children:o?d.jsxs("div",{className:"grid gap-y-5",children:[d.jsx("div",{className:"font-medium text-lg",children:c}),l==null?void 0:l.map(b=>{const{id:C,question:T,isTrue:I,answer:S,userAnswer:k}=b;return I?d.jsxs("div",{className:"grid font-padauk gap-y-2",children:[d.jsxs("div",{className:"flex gap-x-3 items-center",children:[d.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),d.jsx("div",{className:"flex-1",children:T})]}),d.jsx("div",{children:d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),d.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[d.jsx("img",{className:"w-5 h-5",src:ar("trueIcon")}),d.jsx("div",{children:S})]})]})}),d.jsx(Zu,{})]},`result-${C}`):d.jsxs("div",{className:"grid font-padauk gap-y-2",children:[d.jsxs("div",{className:"flex gap-x-3 items-center",children:[d.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),d.jsx("div",{className:"flex-1",children:T})]}),d.jsxs("div",{className:"grid gap-y-1",children:[d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),d.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[d.jsx("img",{className:"w-5 h-5",src:ar("falseIcon")}),d.jsx("div",{children:k})]})]}),d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),d.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[d.jsx("img",{className:"w-5 h-5",src:ar("trueIcon")}),d.jsx("div",{children:S})]})]})]}),d.jsx(Zu,{})]},`result-${C}`)}),_()?"":d.jsx("div",{className:"flex justify-center",children:d.jsx(Me,{size:"small",onClick:w,startIcon:d.jsx(o_e,{}),children:"See More"})}),d.jsx("div",{children:d.jsx(mW,{to:`/app/history/${u}`,children:d.jsx(Me,{size:"small",startIcon:d.jsx(uu,{}),children:"Back to results"})})})]}):d.jsx(EF,{text:"Unavailable"})})},CF=()=>d.jsxs("div",{className:"grid gap-y-2  p-2 ",children:[d.jsx(he,{variant:"text",width:150}),d.jsx(he,{variant:"rectangular",height:55,width:"100%"})]}),KP=()=>{const{deleteFromHistory:t,setHeaderTitle:e,userId:n,historyCount:r}=v.useContext(we),s=on(),[i,o]=v.useState([]),[a,l]=v.useState(null),[c,u]=v.useState(!1),[h,f]=v.useState(!1),[p,m]=v.useState(!1),[g,E]=v.useState([]),y=yt(),{mode:w}=y.palette,_=Ue(Ce(Te,"users",n),"history"),[x,b]=v.useState(!0),[C,T]=v.useState(!1),[I,S]=v.useState(null),[k,A]=v.useState(null),N=5,O=async()=>{b(!0);let L=Tr(_,ea(N));k&&(L=Tr(L,ly(k)));try{const j=await ma(L);if(j.empty)T(!0);else{const F=j.docs.map(q=>({id:q.id,...q.data()}));o([...i,...F]),A(j.docs[j.docs.length-1]),Bn(b)}}catch(j){const F="Error fetching history: "+j.message;console.log(F),b(!1),S(F)}};v.useEffect(()=>{O()},[]);const D=L=>{p||s(`/app/history/${L.id}`)},$=()=>{t(a),l(null),u(!1)},P=()=>{u(!1),l(null)},R=()=>{const L=i.filter(j=>!g.includes(j.id));o(L),E([]),f(!1),m(!1)};return cm("history-page"),um("history-page"),v.useEffect(()=>{e("History")},[]),x?d.jsx(hs,{isLoading:x,text:"Loading history..."}):C?d.jsx(Dt,{text:"No posts available"}):I?d.jsx(Dt,{text:I}):d.jsxs("div",{className:"m-2",children:[d.jsx(la,{data:{value:h,setValue:f,text:`Are you sure to delete ${g.length} ${g.length<=1?"item":"items"} ?`,yesButton:R,noButton:()=>f(!1),setValue:f}}),d.jsx(la,{data:{value:c,text:"Are you sure to delete ?",yesButton:$,noButton:P,setValue:u}}),d.jsxs("div",{className:`grid border  rounded-md shadow-md ${w==="dark"?"border-slate-700":"border-slate-200"}`,children:[i.map((L,j)=>d.jsx(S_e,{h:L,index:j,goToResults:D,mode:w},`history-item-${L.id}`)),r>N&&i.length<r?d.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:d.jsx(Me,{size:"small",onClick:O,children:"load more"})}):""]})]})},S_e=({h:t,index:e,goToResults:n,mode:r})=>{const[s,i]=v.useState(!0);return Bn(i,2e3),s?d.jsx(CF,{}):d.jsxs(Z,{onClick:()=>n(t,e),className:`min-h-20 p-2 border-t  cursor-pointer ${e===0&&"border-t-0"} gap-x-3 ${r==="dark"?"border-slate-700":"border-slate-200"} `,children:[d.jsx("div",{className:"font-medium",children:t.testName}),d.jsx("div",{className:"p-2 flex items-center gap-x-2",children:d.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:d.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[d.jsxs("div",{className:"",children:["Score: ",t.score," / ",t.results.length," "]}),d.jsxs("div",{className:" ",children:["Date: ",t.date," (",` ${t.time}`,")"]})]})})})]})},k_e=()=>{const[t,e]=v.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return v.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:d.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},R_e=()=>{const{setHeaderTitle:t}=v.useContext(we),[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(null),a=yt(),{mode:l}=a.palette,c=[{name:"Posts",image:d.jsx(FT,{}),path:"/app/admin/posts",counts:e},{name:"Tests",image:d.jsx(VT,{}),path:"/app/admin/tests",counts:r},{name:"Users",image:d.jsx(h_e,{}),path:"/app/admin/users",counts:i}],[u,h]=v.useState(c);v.useEffect(()=>{(async()=>{await Go(Ue(Te,"posts"),n),await Go(Ue(Te,"tests"),s),await Go(Ue(Te,"users"),o)})()},[]);const f=on();return v.useEffect(()=>{t("Admin")},[]),v.useEffect(()=>{h(c)},[e,r,i]),d.jsx("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md overflow-hidden ",children:u.map((p,m)=>d.jsxs(Z,{onClick:()=>{f(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer ${l==="light"?"hover:bg-slate-100":"hover:bg-slate-700"}`,children:[p.image,d.jsx("div",{children:p.name}),p.counts&&d.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))})},A_e=()=>{const e=new Date().getFullYear();return yt(),d.jsxs(Mr,{bgColor:"background.default",color:"text.primary",className:"w-full shadow-t-md flex flex-col items-center p-1 border-t mt-auto",rowGap:.5,children:[d.jsxs(De,{children:["SEA copyright 2015 - ",e]}),d.jsx(De,{children:"All rights reserved."}),d.jsx(De,{children:"Author: Than Aung Naing"})]})},P_e=()=>{const{setHeaderTitle:t,setUserId:e,openSnackbar:n}=v.useContext(we),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState("login"),h=on();v.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const f=()=>{h("/app")};Kle("auto");const p=async()=>{try{n("Signing in with Google...");const _=(await VY(Gr,Hle)).user,x=Ce(Te,"users",_.uid);(await lo(x)).exists()||await Zw(Gr.currentUser.displayName,Gr.currentUser.email,"",Gr.currentUser.photoURL,_.uid),ys.set("userId",_.uid,{expires:365}),e(_.uid),f(),n(`Signed in as ${_.displayName} successfully`)}catch(w){n(w.message)}},m=async()=>{try{n("Logging in...");const _=(await pY(Gr,i,a)).user,x=Ce(Te,"users",_.uid);(await lo(x)).exists()||await Zw(_.displayName,_.email,"","",_.uid),ys.set("userId",_.uid,{expires:365}),e(_.uid),f(),n("Logged in successfully")}catch(w){n(w.message)}},g=async()=>{try{n("Creating an account...");const w=await fY(Gr,i,a),{user:_}=w;ys.set("userId",_.uid,{expires:365}),await Zw(r,i,a,"",_.uid),e(_.uid),f(),n("Created an account successfully")}catch(w){n(w.message)}},E=()=>{const w=ys.get("userId")||null;let _=!1;return w&&(_=!0),{loggedIn:_,userId:w}},y=()=>{switch(c){case"login":return d.jsx("div",{children:d.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[d.jsx(De,{variant:"h6",color:"primary",children:"Log In"}),d.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[d.jsx(Qn,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:i,onChange:w=>o(w.target.value)}),d.jsx(Qn,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:w=>l(w.target.value)}),d.jsx(Me,{onClick:m,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),d.jsx(QP,{}),d.jsx("div",{children:d.jsx(Me,{onClick:p,startIcon:d.jsx("img",{className:"size-7",src:ar("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),d.jsx(QP,{}),d.jsx("div",{children:d.jsx(Me,{onClick:()=>u("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})});case"signup":return d.jsx("div",{children:d.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[d.jsx(De,{variant:"h6",color:"primary",children:"Create a new account"}),d.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[d.jsx(Qn,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:r,onChange:w=>s(w.target.value)}),d.jsx(Qn,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:i,onChange:w=>o(w.target.value)}),d.jsx(Qn,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:w=>l(w.target.value)}),d.jsx(Me,{onClick:()=>{g()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),d.jsx("div",{children:d.jsx(Me,{startIcon:d.jsx("img",{className:"size-7",src:ar("back")}),onClick:()=>u("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return d.jsxs("div",{className:"Login mb-5",children:[d.jsx(hs,{}),E().loggedIn?d.jsx(N_e,{userId:E().userId}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-md rounded-md font-medium  p-1 pl-2 border-b",children:"You must log in first."}),y()]})]})},QP=()=>d.jsx("div",{className:"mt-2 mb-2 ",children:"OR"}),N_e=({userId:t})=>{const e=on(),{userData:n}=v.useContext(we);return d.jsxs(Mr,{m:2,children:[d.jsxs(De,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),d.jsx(Z,{mt:1,children:d.jsx(Me,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function D_e(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function bF(t,e){return new Promise(function(n,r){let s;return L_e(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const L_e=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const h=i.getUint32(c+4,u),f=c+h+2+12*i.getUint16(c+h,u);for(let p=c+h+2;p<f;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var B1={},M_e={get exports(){return B1},set exports(t){B1=t}};(function(t){var e,n,r={};M_e.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),h=u.length-4;a(u,h)!=101010256;)h--;l=h,l+=4;var f=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var g=0;g<f;g++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var E=a(u,l+=4),y=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var x=a(u,l+=8);l+=4,l+=y+w+_,r._readLocal(u,x,c,p,E,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,h=r.bin.readUint;h(s,i),u(s,i+=4),u(s,i+=2);var f=u(s,i+=2);h(s,i+=2),h(s,i+=4),i+=4;var p=u(s,i+=8),m=u(s,i+=2);i+=2;var g=r.bin.readUTF8(s,i,p);if(i+=p,i+=m,c)o[g]={size:l,csize:a};else{var E=new Uint8Array(s.buffer,i);if(f==0)o[g]=new Uint8Array(E.buffer.slice(i,i+a));else{if(f!=8)throw"unknown compression method: "+f;var y=new Uint8Array(l);r.inflateRaw(E,y),o[g]=y}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var h=!r._noNeed(u)&&!i,f=s[u],p=r.crc.crc(f,0,f.length);c[u]={cpr:h,usize:f.length,crc:p,file:h?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),g=0,E=[];for(var u in c){var y=c[u];E.push(g),g=r._writeHeader(m,g,u,y,0)}var w=0,_=g;for(var u in c)y=c[u],E.push(g),g=r._writeHeader(m,g,u,y,1,E[w++]);var x=g-_;return a(m,g,101010256),g+=4,l(m,g+=4,w),l(m,g+=2,w),a(m,g+=2,x),a(m,g+=4,_),g+=4,g+=2,m.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,h=r.bin.writeUshort,f=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),h(s,i,20),h(s,i+=2,0),h(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,f.length),u(s,i+=4,a.usize),h(s,i+=4,r.bin.sizeUTF8(o)),h(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(f,i),i+=f.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var h=Math.min(c+5552,u);c<h;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var h=r.F._putsE,f=0,p=o<<3,m=0,g=s.length;if(a==0){for(;f<g;)h(i,p,f+(A=Math.min(65535,g-f))==g?1:0),p=r.F._copyExact(s,f,A,i,p+8),f+=A;return p>>>3}var E=c.lits,y=c.strt,w=c.prev,_=0,x=0,b=0,C=0,T=0,I=0;for(g>2&&(y[I=r.F._hash(s,0)]=0),f=0;f<g;f++){if(T=I,f+1<g-2){I=r.F._hash(s,f+1);var S=f+1&32767;w[S]=y[I],y[I]=S}if(m<=f){(_>14e3||x>26697)&&g-f>100&&(m<f&&(E[_]=f-m,_+=2,m=f),p=r.F._writeBlock(f==g-1||m==g?1:0,E,_,C,s,b,f-b,i,p),_=x=C=0,b=f);var k=0;f<g-2&&(k=r.F._bestMatch(s,f,w,T,Math.min(l[2],g-f),l[3]));var A=k>>>16,N=65535&k;if(k!=0){N=65535&k;var O=u(A=k>>>16,c.of0);c.lhst[257+O]++;var D=u(N,c.df0);c.dhst[D]++,C+=c.exb[O]+c.dxb[D],E[_]=A<<23|f-m,E[_+1]=N<<16|O<<8|D,_+=2,m=f+A}else c.lhst[s[f]]++;x++}}for(b==f&&s.length!=0||(m<f&&(E[_]=f-m,_+=2,m=f),p=r.F._writeBlock(1,E,_,C,s,b,f-b,i,p),_=0,x=0,_=x=C=0,b=f);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,h=o[u],f=u-h+32768&32767;if(h==u||a!=r.F._hash(s,i-f))return 0;for(var p=0,m=0,g=Math.min(32767,i);f<=g&&--c!=0&&h!=u;){if(p==0||s[i+p]==s[i+p-f]){var E=r.F._howLong(s,i,f);if(E>p){if(m=f,(p=E)>=l)break;f+2<E&&(E=f+2);for(var y=0,w=0;w<E-2;w++){var _=i-f+w+32768&32767,x=_-o[_]+32768&32767;x>y&&(y=x,h=_)}}}f+=(u=h)-(h=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,h,f){var p,m,g,E,y,w,_,x,b,C=r.F.U,T=r.F._putsF,I=r.F._putsE;C.lhst[256]++,m=(p=r.F.getTrees())[0],g=p[1],E=p[2],y=p[3],w=p[4],_=p[5],x=p[6],b=p[7];var S=32+(f+3&7?8-(f+3&7):0)+(u<<3),k=a+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),A=a+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);A+=14+3*_+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var N=0;N<286;N++)C.lhst[N]=0;for(N=0;N<30;N++)C.dhst[N]=0;for(N=0;N<19;N++)C.ihst[N]=0;var O=S<k&&S<A?0:k<A?1:2;if(T(h,f,s),T(h,f+1,O),f+=3,O==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,h,f)}else{var D,$;if(O==1&&(D=C.fltree,$=C.fdtree),O==2){r.F.makeCodes(C.ltree,m),r.F.revCodes(C.ltree,m),r.F.makeCodes(C.dtree,g),r.F.revCodes(C.dtree,g),r.F.makeCodes(C.itree,E),r.F.revCodes(C.itree,E),D=C.ltree,$=C.dtree,I(h,f,y-257),I(h,f+=5,w-1),I(h,f+=5,_-4),f+=4;for(var P=0;P<_;P++)I(h,f+3*P,C.itree[1+(C.ordr[P]<<1)]);f+=3*_,f=r.F._codeTiny(x,C.itree,h,f),f=r.F._codeTiny(b,C.itree,h,f)}for(var R=c,L=0;L<o;L+=2){for(var j=i[L],F=j>>>23,q=R+(8388607&j);R<q;)f=r.F._writeLit(l[R++],D,h,f);if(F!=0){var W=i[L+1],B=W>>16,U=W>>8&255,V=255&W;I(h,f=r.F._writeLit(257+U,D,h,f),F-C.of0[U]),f+=C.exb[U],T(h,f=r.F._writeLit(V,$,h,f),B-C.df0[V]),f+=C.dxb[V],R+=F}}f=r.F._writeLit(256,D,h,f)}return f},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),h=0;h<a.length;h+=2)s.ihst[a[h]]++;for(h=0;h<c.length;h+=2)s.ihst[c[h]]++;for(var f=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,f,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var h=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,h),a+=h)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,h=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&s[f+2]==l;)f+=2;(p=Math.min(f+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==h&&c==l&&u==l){for(f=a+5;f+2<o&&s[f+2]==l;)f+=2;var p=Math.min(f+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var h=a.length,f=a.slice(0);if(h==0)return 0;if(h==1){var p=a[0].lit;return f=p==0?1:0,i[1+(p<<1)]=1,i[1+(f<<1)]=1,1}a.sort(function(x,b){return x.f-b.f});var m=a[0],g=a[1],E=0,y=1,w=2;for(a[0]={lit:-1,f:m.f+g.f,l:m,r:g,d:0};y!=h-1;)m=E!=y&&(w==h||a[E].f<a[w].f)?a[E++]:a[w++],g=E!=y&&(w==h||a[E].f<a[w].f)?a[E++]:a[w++],a[y++]={lit:-1,f:m.f+g.f,l:m,r:g};var _=r.F.setDepth(a[y-1],0);for(_>o&&(r.F.restrictDepth(f,o,_),_=o),u=0;u<h;u++)i[1+(f[u].lit<<1)]=f[u].d;return _},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(h,f){return f.d==h.d?h.f-f.f:f.d-h.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,h=a.makeCodes,f=a.codes2map,p=a._get17,m=a.U,g=i==null;g&&(i=new o(s.length>>>2<<3));for(var E,y,w=0,_=0,x=0,b=0,C=0,T=0,I=0,S=0,k=0;w==0;)if(w=l(s,k,1),_=l(s,k+1,2),k+=3,_!=0){if(g&&(i=r.F._check(i,S+(1<<17))),_==1&&(E=m.flmap,y=m.fdmap,T=511,I=31),_==2){x=c(s,k,5)+257,b=c(s,k+5,5)+1,C=c(s,k+10,4)+4,k+=14;for(var A=0;A<38;A+=2)m.itree[A]=0,m.itree[A+1]=0;var N=1;for(A=0;A<C;A++){var O=c(s,k+3*A,3);m.itree[1+(m.ordr[A]<<1)]=O,O>N&&(N=O)}k+=3*C,h(m.itree,N),f(m.itree,N,m.imap),E=m.lmap,y=m.dmap,k=u(m.imap,(1<<N)-1,x+b,s,k,m.ttree);var D=a._copyOut(m.ttree,0,x,m.ltree);T=(1<<D)-1;var $=a._copyOut(m.ttree,x,b,m.dtree);I=(1<<$)-1,h(m.ltree,D),f(m.ltree,D,E),h(m.dtree,$),f(m.dtree,$,y)}for(;;){var P=E[p(s,k)&T];k+=15&P;var R=P>>>4;if(!(R>>>8))i[S++]=R;else{if(R==256)break;var L=S+R-254;if(R>264){var j=m.ldef[R-257];L=S+(j>>>3)+c(s,k,7&j),k+=7&j}var F=y[p(s,k)&I];k+=15&F;var q=F>>>4,W=m.ddef[q],B=(W>>>4)+l(s,k,15&W);for(k+=15&W,g&&(i=r.F._check(i,S+(1<<17)));S<L;)i[S]=i[S++-B],i[S]=i[S++-B],i[S]=i[S++-B],i[S]=i[S++-B];S=L}}}else{7&k&&(k+=8-(7&k));var U=4+(k>>>3),V=s[U-4]|s[U-3]<<8;g&&(i=r.F._check(i,S+V)),i.set(new o(s.buffer,s.byteOffset+U,V),S),k=U+V<<3,S+=V}return i.length==S?i:i.slice(0,S)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,h=r.F._get17,f=0;f<o;){var p=s[h(a,l)&i];l+=15&p;var m=p>>>4;if(m<=15)c[f]=m,f++;else{var g=0,E=0;m==16?(E=3+u(a,l,2),l+=2,g=c[f-1]):m==17?(E=3+u(a,l,3),l+=3):m==18&&(E=11+u(a,l,7),l+=7);for(var y=f+E;f<y;)c[f]=g,f++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var h=s[c+i];a[c<<1]=0,a[1+(c<<1)]=h,h>l&&(l=h),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,h=s.length,f=u.bl_count,p=0;p<=i;p++)f[p]=0;for(p=1;p<h;p+=2)f[s[p]]++;var m=u.next_code;for(o=0,f[0]=0,a=1;a<=i;a++)o=o+f[a-1]<<1,m[a]=o;for(l=0;l<h;l+=2)(c=s[l+1])!=0&&(s[l]=m[c],m[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,h=s[c+1],f=u<<4|h,p=i-h,m=s[c]<<p,g=m+(1<<p);m!=g;)o[l[m]>>>15-i]=f,m++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var O_e=D_e({__proto__:null,default:B1},[B1]);const gi=function(){var t={nextZero(u,h){for(;u[h]!=0;)h++;return h},readUshort:(u,h)=>u[h]<<8|u[h+1],writeUshort(u,h,f){u[h]=f>>8&255,u[h+1]=255&f},readUint:(u,h)=>16777216*u[h]+(u[h+1]<<16|u[h+2]<<8|u[h+3]),writeUint(u,h,f){u[h]=f>>24&255,u[h+1]=f>>16&255,u[h+2]=f>>8&255,u[h+3]=255&f},readASCII(u,h,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(u[h+m]);return p},writeASCII(u,h,f){for(let p=0;p<f.length;p++)u[h+p]=f.charCodeAt(p)},readBytes(u,h,f){const p=[];for(let m=0;m<f;m++)p.push(u[h+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,h,f){let p,m="";for(let g=0;g<f;g++)m+=`%${t.pad(u[h+g].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,h,f)}return p}};function e(u,h,f,p){const m=h*f,g=i(p),E=Math.ceil(h*g/8),y=new Uint8Array(4*m),w=new Uint32Array(y.buffer),{ctype:_}=p,{depth:x}=p,b=t.readUshort;if(_==6){const j=m<<2;if(x==8)for(var C=0;C<j;C+=4)y[C]=u[C],y[C+1]=u[C+1],y[C+2]=u[C+2],y[C+3]=u[C+3];if(x==16)for(C=0;C<j;C++)y[C]=u[C<<1]}else if(_==2){const j=p.tabs.tRNS;if(j==null){if(x==8)for(C=0;C<m;C++){var T=3*C;w[C]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T]}if(x==16)for(C=0;C<m;C++)T=6*C,w[C]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T]}else{var I=j[0];const F=j[1],q=j[2];if(x==8)for(C=0;C<m;C++){var S=C<<2;T=3*C,w[C]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T],u[T]==I&&u[T+1]==F&&u[T+2]==q&&(y[S+3]=0)}if(x==16)for(C=0;C<m;C++)S=C<<2,T=6*C,w[C]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T],b(u,T)==I&&b(u,T+2)==F&&b(u,T+4)==q&&(y[S+3]=0)}}else if(_==3){const j=p.tabs.PLTE,F=p.tabs.tRNS,q=F?F.length:0;if(x==1)for(var k=0;k<f;k++){var A=k*E,N=k*h;for(C=0;C<h;C++){S=N+C<<2;var O=3*(D=u[A+(C>>3)]>>7-((7&C)<<0)&1);y[S]=j[O],y[S+1]=j[O+1],y[S+2]=j[O+2],y[S+3]=D<q?F[D]:255}}if(x==2)for(k=0;k<f;k++)for(A=k*E,N=k*h,C=0;C<h;C++)S=N+C<<2,O=3*(D=u[A+(C>>2)]>>6-((3&C)<<1)&3),y[S]=j[O],y[S+1]=j[O+1],y[S+2]=j[O+2],y[S+3]=D<q?F[D]:255;if(x==4)for(k=0;k<f;k++)for(A=k*E,N=k*h,C=0;C<h;C++)S=N+C<<2,O=3*(D=u[A+(C>>1)]>>4-((1&C)<<2)&15),y[S]=j[O],y[S+1]=j[O+1],y[S+2]=j[O+2],y[S+3]=D<q?F[D]:255;if(x==8)for(C=0;C<m;C++){var D;S=C<<2,O=3*(D=u[C]),y[S]=j[O],y[S+1]=j[O+1],y[S+2]=j[O+2],y[S+3]=D<q?F[D]:255}}else if(_==4){if(x==8)for(C=0;C<m;C++){S=C<<2;var $=u[P=C<<1];y[S]=$,y[S+1]=$,y[S+2]=$,y[S+3]=u[P+1]}if(x==16)for(C=0;C<m;C++){var P;S=C<<2,$=u[P=C<<2],y[S]=$,y[S+1]=$,y[S+2]=$,y[S+3]=u[P+2]}}else if(_==0)for(I=p.tabs.tRNS?p.tabs.tRNS:-1,k=0;k<f;k++){const j=k*E,F=k*h;if(x==1)for(var R=0;R<h;R++){var L=($=255*(u[j+(R>>>3)]>>>7-(7&R)&1))==255*I?0:255;w[F+R]=L<<24|$<<16|$<<8|$}else if(x==2)for(R=0;R<h;R++)L=($=85*(u[j+(R>>>2)]>>>6-((3&R)<<1)&3))==85*I?0:255,w[F+R]=L<<24|$<<16|$<<8|$;else if(x==4)for(R=0;R<h;R++)L=($=17*(u[j+(R>>>1)]>>>4-((1&R)<<2)&15))==17*I?0:255,w[F+R]=L<<24|$<<16|$<<8|$;else if(x==8)for(R=0;R<h;R++)L=($=u[j+R])==I?0:255,w[F+R]=L<<24|$<<16|$<<8|$;else if(x==16)for(R=0;R<h;R++)$=u[j+(R<<1)],L=b(u,j+(R<<1))==I?0:255,w[F+R]=L<<24|$<<16|$<<8|$}return y}function n(u,h,f,p){const m=i(u),g=Math.ceil(f*m/8),E=new Uint8Array((g+1+u.interlace)*p);return h=u.tabs.CgBI?s(h,E):r(h,E),u.interlace==0?h=o(h,u,0,f,p):u.interlace==1&&(h=function(w,_){const x=_.width,b=_.height,C=i(_),T=C>>3,I=Math.ceil(x*C/8),S=new Uint8Array(b*I);let k=0;const A=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],O=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const R=O[$],L=D[$];let j=0,F=0,q=A[$];for(;q<b;)q+=R,F++;let W=N[$];for(;W<x;)W+=L,j++;const B=Math.ceil(j*C/8);o(w,_,k,j,F);let U=0,V=A[$];for(;V<b;){let H=N[$],ie=k+U*B<<3;for(;H<x;){var P;if(C==1&&(P=(P=w[ie>>3])>>7-(7&ie)&1,S[V*I+(H>>3)]|=P<<7-((7&H)<<0)),C==2&&(P=(P=w[ie>>3])>>6-(7&ie)&3,S[V*I+(H>>2)]|=P<<6-((3&H)<<1)),C==4&&(P=(P=w[ie>>3])>>4-(7&ie)&15,S[V*I+(H>>1)]|=P<<4-((1&H)<<2)),C>=8){const K=V*I+H*T;for(let ne=0;ne<T;ne++)S[K+ne]=w[(ie>>3)+ne]}ie+=C,H+=L}U++,V+=R}j*F!=0&&(k+=F*(1+B)),$+=1}return S}(h,u)),h}function r(u,h){return s(new Uint8Array(u.buffer,2,u.length-6),h)}var s=function(){const u={H:{}};return u.H.N=function(h,f){const p=Uint8Array;let m,g,E=0,y=0,w=0,_=0,x=0,b=0,C=0,T=0,I=0;if(h[0]==3&&h[1]==0)return f||new p(0);const S=u.H,k=S.b,A=S.e,N=S.R,O=S.n,D=S.A,$=S.Z,P=S.m,R=f==null;for(R&&(f=new p(h.length>>>2<<5));E==0;)if(E=k(h,I,1),y=k(h,I+1,2),I+=3,y!=0){if(R&&(f=u.H.W(f,T+(1<<17))),y==1&&(m=P.J,g=P.h,b=511,C=31),y==2){w=A(h,I,5)+257,_=A(h,I+5,5)+1,x=A(h,I+10,4)+4,I+=14;let j=1;for(var L=0;L<38;L+=2)P.Q[L]=0,P.Q[L+1]=0;for(L=0;L<x;L++){const W=A(h,I+3*L,3);P.Q[1+(P.X[L]<<1)]=W,W>j&&(j=W)}I+=3*x,O(P.Q,j),D(P.Q,j,P.u),m=P.w,g=P.d,I=N(P.u,(1<<j)-1,w+_,h,I,P.v);const F=S.V(P.v,0,w,P.C);b=(1<<F)-1;const q=S.V(P.v,w,_,P.D);C=(1<<q)-1,O(P.C,F),D(P.C,F,m),O(P.D,q),D(P.D,q,g)}for(;;){const j=m[$(h,I)&b];I+=15&j;const F=j>>>4;if(!(F>>>8))f[T++]=F;else{if(F==256)break;{let q=T+F-254;if(F>264){const H=P.q[F-257];q=T+(H>>>3)+A(h,I,7&H),I+=7&H}const W=g[$(h,I)&C];I+=15&W;const B=W>>>4,U=P.c[B],V=(U>>>4)+k(h,I,15&U);for(I+=15&U;T<q;)f[T]=f[T++-V],f[T]=f[T++-V],f[T]=f[T++-V],f[T]=f[T++-V];T=q}}}}else{7&I&&(I+=8-(7&I));const j=4+(I>>>3),F=h[j-4]|h[j-3]<<8;R&&(f=u.H.W(f,T+F)),f.set(new p(h.buffer,h.byteOffset+j,F),T),I=j+F<<3,T+=F}return f.length==T?f:f.slice(0,T)},u.H.W=function(h,f){const p=h.length;if(f<=p)return h;const m=new Uint8Array(p<<1);return m.set(h,0),m},u.H.R=function(h,f,p,m,g,E){const y=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const x=h[w(m,g)&f];g+=15&x;const b=x>>>4;if(b<=15)E[_]=b,_++;else{let C=0,T=0;b==16?(T=3+y(m,g,2),g+=2,C=E[_-1]):b==17?(T=3+y(m,g,3),g+=3):b==18&&(T=11+y(m,g,7),g+=7);const I=_+T;for(;_<I;)E[_]=C,_++}}return g},u.H.V=function(h,f,p,m){let g=0,E=0;const y=m.length>>>1;for(;E<p;){const w=h[E+f];m[E<<1]=0,m[1+(E<<1)]=w,w>g&&(g=w),E++}for(;E<y;)m[E<<1]=0,m[1+(E<<1)]=0,E++;return g},u.H.n=function(h,f){const p=u.H.m,m=h.length;let g,E,y,w;const _=p.j;for(var x=0;x<=f;x++)_[x]=0;for(x=1;x<m;x+=2)_[h[x]]++;const b=p.K;for(g=0,_[0]=0,E=1;E<=f;E++)g=g+_[E-1]<<1,b[E]=g;for(y=0;y<m;y+=2)w=h[y+1],w!=0&&(h[y]=b[w],b[w]++)},u.H.A=function(h,f,p){const m=h.length,g=u.H.m.r;for(let E=0;E<m;E+=2)if(h[E+1]!=0){const y=E>>1,w=h[E+1],_=y<<4|w,x=f-w;let b=h[E]<<x;const C=b+(1<<x);for(;b!=C;)p[g[b]>>>15-f]=_,b++}},u.H.l=function(h,f){const p=u.H.m.r,m=15-f;for(let g=0;g<h.length;g+=2){const E=h[g]<<f-h[g+1];h[g]=p[E]>>>m}},u.H.M=function(h,f,p){p<<=7&f;const m=f>>>3;h[m]|=p,h[m+1]|=p>>>8},u.H.I=function(h,f,p){p<<=7&f;const m=f>>>3;h[m]|=p,h[m+1]|=p>>>8,h[m+2]|=p>>>16},u.H.e=function(h,f,p){return(h[f>>>3]|h[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},u.H.b=function(h,f,p){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},u.H.Z=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16|h[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const h=Uint16Array,f=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=u.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,h.r[f]=(m>>>16|m<<16)>>>17}function p(m,g,E){for(;g--!=0;)m.push(0,E)}for(f=0;f<32;f++)h.q[f]=h.S[f]<<3|h.T[f],h.c[f]=h.p[f]<<4|h.z[f];p(h._,144,8),p(h._,112,9),p(h._,24,7),p(h._,8,8),u.H.n(h._,9),u.H.A(h._,9,h.J),u.H.l(h._,9),p(h.$,32,5),u.H.n(h.$,5),u.H.A(h.$,5,h.h),u.H.l(h.$,5),p(h.Q,19,0),p(h.C,286,0),p(h.D,30,0),p(h.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,h,f,p,m){let g=i(h);const E=Math.ceil(p*g/8);let y,w;g=Math.ceil(g/8);let _=u[f],x=0;if(_>1&&(u[f]=[0,0,1][_-2]),_==3)for(x=g;x<E;x++)u[x+1]=u[x+1]+(u[x+1-g]>>>1)&255;for(let b=0;b<m;b++)if(y=f+b*E,w=y+b+1,_=u[w-1],x=0,_==0)for(;x<E;x++)u[y+x]=u[w+x];else if(_==1){for(;x<g;x++)u[y+x]=u[w+x];for(;x<E;x++)u[y+x]=u[w+x]+u[y+x-g]}else if(_==2)for(;x<E;x++)u[y+x]=u[w+x]+u[y+x-E];else if(_==3){for(;x<g;x++)u[y+x]=u[w+x]+(u[y+x-E]>>>1);for(;x<E;x++)u[y+x]=u[w+x]+(u[y+x-E]+u[y+x-g]>>>1)}else{for(;x<g;x++)u[y+x]=u[w+x]+a(0,u[y+x-E],0);for(;x<E;x++)u[y+x]=u[w+x]+a(u[y+x-g],u[y+x-E],u[y+x-g-E])}return u}function a(u,h,f){const p=u+h-f,m=p-u,g=p-h,E=p-f;return m*m<=g*g&&m*m<=E*E?u:g*g<=E*E?h:f}function l(u,h,f){f.width=t.readUint(u,h),h+=4,f.height=t.readUint(u,h),h+=4,f.depth=u[h],h++,f.ctype=u[h],h++,f.compress=u[h],h++,f.filter=u[h],h++,f.interlace=u[h],h++}function c(u,h,f,p,m,g,E,y,w){const _=Math.min(h,m),x=Math.min(f,g);let b=0,C=0;for(let $=0;$<x;$++)for(let P=0;P<_;P++)if(E>=0&&y>=0?(b=$*h+P<<2,C=(y+$)*m+E+P<<2):(b=(-y+$)*h-E+P<<2,C=$*m+P<<2),w==0)p[C]=u[b],p[C+1]=u[b+1],p[C+2]=u[b+2],p[C+3]=u[b+3];else if(w==1){var T=u[b+3]*.00392156862745098,I=u[b]*T,S=u[b+1]*T,k=u[b+2]*T,A=p[C+3]*(1/255),N=p[C]*A,O=p[C+1]*A,D=p[C+2]*A;const R=1-T,L=T+A*R,j=L==0?0:1/L;p[C+3]=255*L,p[C+0]=(I+N*R)*j,p[C+1]=(S+O*R)*j,p[C+2]=(k+D*R)*j}else if(w==2)T=u[b+3],I=u[b],S=u[b+1],k=u[b+2],A=p[C+3],N=p[C],O=p[C+1],D=p[C+2],T==A&&I==N&&S==O&&k==D?(p[C]=0,p[C+1]=0,p[C+2]=0,p[C+3]=0):(p[C]=I,p[C+1]=S,p[C+2]=k,p[C+3]=T);else if(w==3){if(T=u[b+3],I=u[b],S=u[b+1],k=u[b+2],A=p[C+3],N=p[C],O=p[C+1],D=p[C+2],T==A&&I==N&&S==O&&k==D)continue;if(T<220&&A>20)return!1}return!0}return{decode:function(h){const f=new Uint8Array(h);let p=8;const m=t,g=m.readUshort,E=m.readUint,y={tabs:{},frames:[]},w=new Uint8Array(f.length);let _,x=0,b=0;const C=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(f[T]!=C[T])throw"The input is not a PNG file!";for(;p<f.length;){const $=m.readUint(f,p);p+=4;const P=m.readASCII(f,p,4);if(p+=4,P=="IHDR")l(f,p,y);else if(P=="iCCP"){for(var I=p;f[I]!=0;)I++;m.readASCII(f,p,I-p),f[I+1];const R=f.slice(I+2,p+$);let L=null;try{L=r(R)}catch{L=s(R)}y.tabs[P]=L}else if(P=="CgBI")y.tabs[P]=f.slice(p,p+4);else if(P=="IDAT"){for(T=0;T<$;T++)w[x+T]=f[p+T];x+=$}else if(P=="acTL")y.tabs[P]={num_frames:E(f,p),num_plays:E(f,p+4)},_=new Uint8Array(f.length);else if(P=="fcTL"){b!=0&&((D=y.frames[y.frames.length-1]).data=n(y,_.slice(0,b),D.rect.width,D.rect.height),b=0);const R={x:E(f,p+12),y:E(f,p+16),width:E(f,p+4),height:E(f,p+8)};let L=g(f,p+22);L=g(f,p+20)/(L==0?100:L);const j={rect:R,delay:Math.round(1e3*L),dispose:f[p+24],blend:f[p+25]};y.frames.push(j)}else if(P=="fdAT"){for(T=0;T<$-4;T++)_[b+T]=f[p+T+4];b+=$-4}else if(P=="pHYs")y.tabs[P]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(P=="cHRM")for(y.tabs[P]=[],T=0;T<8;T++)y.tabs[P].push(m.readUint(f,p+4*T));else if(P=="tEXt"||P=="zTXt"){y.tabs[P]==null&&(y.tabs[P]={});var S=m.nextZero(f,p),k=m.readASCII(f,p,S-p),A=p+$-S-1;if(P=="tEXt")O=m.readASCII(f,S+1,A);else{var N=r(f.slice(S+2,S+2+A));O=m.readUTF8(N,0,N.length)}y.tabs[P][k]=O}else if(P=="iTXt"){y.tabs[P]==null&&(y.tabs[P]={}),S=0,I=p,S=m.nextZero(f,I),k=m.readASCII(f,I,S-I);const R=f[I=S+1];var O;f[I+1],I+=2,S=m.nextZero(f,I),m.readASCII(f,I,S-I),I=S+1,S=m.nextZero(f,I),m.readUTF8(f,I,S-I),A=$-((I=S+1)-p),R==0?O=m.readUTF8(f,I,A):(N=r(f.slice(I,I+A)),O=m.readUTF8(N,0,N.length)),y.tabs[P][k]=O}else if(P=="PLTE")y.tabs[P]=m.readBytes(f,p,$);else if(P=="hIST"){const R=y.tabs.PLTE.length/3;for(y.tabs[P]=[],T=0;T<R;T++)y.tabs[P].push(g(f,p+2*T))}else if(P=="tRNS")y.ctype==3?y.tabs[P]=m.readBytes(f,p,$):y.ctype==0?y.tabs[P]=g(f,p):y.ctype==2&&(y.tabs[P]=[g(f,p),g(f,p+2),g(f,p+4)]);else if(P=="gAMA")y.tabs[P]=m.readUint(f,p)/1e5;else if(P=="sRGB")y.tabs[P]=f[p];else if(P=="bKGD")y.ctype==0||y.ctype==4?y.tabs[P]=[g(f,p)]:y.ctype==2||y.ctype==6?y.tabs[P]=[g(f,p),g(f,p+2),g(f,p+4)]:y.ctype==3&&(y.tabs[P]=f[p]);else if(P=="IEND")break;p+=$,m.readUint(f,p),p+=4}var D;return b!=0&&((D=y.frames[y.frames.length-1]).data=n(y,_.slice(0,b),D.rect.width,D.rect.height)),y.data=n(y,w,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(h){const f=h.width,p=h.height;if(h.tabs.acTL==null)return[e(h.data,f,p,h).buffer];const m=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const g=f*p*4,E=new Uint8Array(g),y=new Uint8Array(g),w=new Uint8Array(g);for(let x=0;x<h.frames.length;x++){const b=h.frames[x],C=b.rect.x,T=b.rect.y,I=b.rect.width,S=b.rect.height,k=e(b.data,I,S,h);if(x!=0)for(var _=0;_<g;_++)w[_]=E[_];if(b.blend==0?c(k,I,S,E,f,p,C,T,0):b.blend==1&&c(k,I,S,E,f,p,C,T,1),m.push(E.buffer.slice(0)),b.dispose!=0){if(b.dispose==1)c(y,I,S,E,f,p,C,T,0);else if(b.dispose==2)for(_=0;_<g;_++)E[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=gi,{_bin:e}=gi,n=gi._paeth;var r={table:function(){const I=new Uint32Array(256);for(let S=0;S<256;S++){let k=S;for(let A=0;A<8;A++)1&k?k=3988292384^k>>>1:k>>>=1;I[S]=k}return I}(),update(I,S,k,A){for(let N=0;N<A;N++)I=r.table[255&(I^S[k+N])]^I>>>8;return I},crc:(I,S,k)=>4294967295^r.update(4294967295,I,S,k)};function s(I,S,k,A){S[k]+=I[0]*A>>4,S[k+1]+=I[1]*A>>4,S[k+2]+=I[2]*A>>4,S[k+3]+=I[3]*A>>4}function i(I){return Math.max(0,Math.min(255,I))}function o(I,S){const k=I[0]-S[0],A=I[1]-S[1],N=I[2]-S[2],O=I[3]-S[3];return k*k+A*A+N*N+O*O}function a(I,S,k,A,N,O,D){D==null&&(D=1);const $=A.length,P=[];for(var R=0;R<$;R++){const V=A[R];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(R=0;R<$;R++){let V=4294967295;for(var L=0,j=0;j<$;j++){var F=o(P[R],P[j]);j!=R&&F<V&&(V=F,L=j)}}const q=new Uint32Array(N.buffer),W=new Int16Array(S*k*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(R=0;R<B.length;R++)B[R]=255*((B[R]+.5)/16-.5);for(let V=0;V<k;V++)for(let H=0;H<S;H++){var U;R=4*(V*S+H),D!=2?U=[i(I[R]+W[R]),i(I[R+1]+W[R+1]),i(I[R+2]+W[R+2]),i(I[R+3]+W[R+3])]:(F=B[4*(3&V)+(3&H)],U=[i(I[R]+F),i(I[R+1]+F),i(I[R+2]+F),i(I[R+3]+F)]),L=0;let ie=16777215;for(j=0;j<$;j++){const me=o(U,P[j]);me<ie&&(ie=me,L=j)}const K=P[L],ne=[U[0]-K[0],U[1]-K[1],U[2]-K[2],U[3]-K[3]];D==1&&(H!=S-1&&s(ne,W,R+4,7),V!=k-1&&(H!=0&&s(ne,W,R+4*S-4,3),s(ne,W,R+4*S,5),H!=S-1&&s(ne,W,R+4*S+4,1))),O[R>>2]=L,q[R>>2]=A[L]}}function l(I,S,k,A,N){N==null&&(N={});const{crc:O}=r,D=e.writeUint,$=e.writeUshort,P=e.writeASCII;let R=8;const L=I.frames.length>1;let j,F=!1,q=33+(L?20:0);if(N.sRGB!=null&&(q+=13),N.pHYs!=null&&(q+=21),N.iCCP!=null&&(j=pako.deflate(N.iCCP),q+=21+j.length+4),I.ctype==3){for(var W=I.plte.length,B=0;B<W;B++)I.plte[B]>>>24!=255&&(F=!0);q+=8+3*W+4+(F?8+1*W+4:0)}for(var U=0;U<I.frames.length;U++)L&&(q+=38),q+=(K=I.frames[U]).cimg.length+12,U!=0&&(q+=4);q+=12;const V=new Uint8Array(q),H=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)V[B]=H[B];if(D(V,R,13),R+=4,P(V,R,"IHDR"),R+=4,D(V,R,S),R+=4,D(V,R,k),R+=4,V[R]=I.depth,R++,V[R]=I.ctype,R++,V[R]=0,R++,V[R]=0,R++,V[R]=0,R++,D(V,R,O(V,R-17,17)),R+=4,N.sRGB!=null&&(D(V,R,1),R+=4,P(V,R,"sRGB"),R+=4,V[R]=N.sRGB,R++,D(V,R,O(V,R-5,5)),R+=4),N.iCCP!=null){const ne=13+j.length;D(V,R,ne),R+=4,P(V,R,"iCCP"),R+=4,P(V,R,"ICC profile"),R+=11,R+=2,V.set(j,R),R+=j.length,D(V,R,O(V,R-(ne+4),ne+4)),R+=4}if(N.pHYs!=null&&(D(V,R,9),R+=4,P(V,R,"pHYs"),R+=4,D(V,R,N.pHYs[0]),R+=4,D(V,R,N.pHYs[1]),R+=4,V[R]=N.pHYs[2],R++,D(V,R,O(V,R-13,13)),R+=4),L&&(D(V,R,8),R+=4,P(V,R,"acTL"),R+=4,D(V,R,I.frames.length),R+=4,D(V,R,N.loop!=null?N.loop:0),R+=4,D(V,R,O(V,R-12,12)),R+=4),I.ctype==3){for(D(V,R,3*(W=I.plte.length)),R+=4,P(V,R,"PLTE"),R+=4,B=0;B<W;B++){const ne=3*B,me=I.plte[B],oe=255&me,le=me>>>8&255,ye=me>>>16&255;V[R+ne+0]=oe,V[R+ne+1]=le,V[R+ne+2]=ye}if(R+=3*W,D(V,R,O(V,R-3*W-4,3*W+4)),R+=4,F){for(D(V,R,W),R+=4,P(V,R,"tRNS"),R+=4,B=0;B<W;B++)V[R+B]=I.plte[B]>>>24&255;R+=W,D(V,R,O(V,R-W-4,W+4)),R+=4}}let ie=0;for(U=0;U<I.frames.length;U++){var K=I.frames[U];L&&(D(V,R,26),R+=4,P(V,R,"fcTL"),R+=4,D(V,R,ie++),R+=4,D(V,R,K.rect.width),R+=4,D(V,R,K.rect.height),R+=4,D(V,R,K.rect.x),R+=4,D(V,R,K.rect.y),R+=4,$(V,R,A[U]),R+=2,$(V,R,1e3),R+=2,V[R]=K.dispose,R++,V[R]=K.blend,R++,D(V,R,O(V,R-30,30)),R+=4);const ne=K.cimg;D(V,R,(W=ne.length)+(U==0?0:4)),R+=4;const me=R;P(V,R,U==0?"IDAT":"fdAT"),R+=4,U!=0&&(D(V,R,ie++),R+=4),V.set(ne,R),R+=W,D(V,R,O(V,me,R-me)),R+=4}return D(V,R,0),R+=4,P(V,R,"IEND"),R+=4,D(V,R,O(V,R-4,4)),R+=4,V.buffer}function c(I,S,k){for(let A=0;A<I.frames.length;A++){const N=I.frames[A];N.rect.width;const O=N.rect.height,D=new Uint8Array(O*N.bpl+O);N.cimg=p(N.img,O,N.bpp,N.bpl,D,S,k)}}function u(I,S,k,A,N){const O=N[0],D=N[1],$=N[2],P=N[3],R=N[4],L=N[5];let j=6,F=8,q=255;for(var W=0;W<I.length;W++){const qe=new Uint8Array(I[W]);for(var B=qe.length,U=0;U<B;U+=4)q&=qe[U+3]}const V=q!=255,H=function(Be,Fe,ht,Ye,Re,Et){const We=[];for(var Ie=0;Ie<Be.length;Ie++){const ct=new Uint8Array(Be[Ie]),qt=new Uint32Array(ct.buffer);var _t;let Ht=0,Y=0,xe=Fe,Ae=ht,Pt=Ye?1:0;if(Ie!=0){const pn=Et||Ye||Ie==1||We[Ie-2].dispose!=0?1:2;let hr=0,wa=1e9;for(let di=0;di<pn;di++){var Mt=new Uint8Array(Be[Ie-1-di]);const xa=new Uint32Array(Be[Ie-1-di]);let hi=Fe,fi=ht,_o=-1,Ea=-1;for(let wo=0;wo<ht;wo++)for(let xo=0;xo<Fe;xo++)qt[Oe=wo*Fe+xo]!=xa[Oe]&&(xo<hi&&(hi=xo),xo>_o&&(_o=xo),wo<fi&&(fi=wo),wo>Ea&&(Ea=wo));_o==-1&&(hi=fi=_o=Ea=0),Re&&((1&hi)==1&&hi--,(1&fi)==1&&fi--);const Tm=(_o-hi+1)*(Ea-fi+1);Tm<wa&&(wa=Tm,hr=di,Ht=hi,Y=fi,xe=_o-hi+1,Ae=Ea-fi+1)}Mt=new Uint8Array(Be[Ie-1-hr]),hr==1&&(We[Ie-1].dispose=2),_t=new Uint8Array(xe*Ae*4),t(Mt,Fe,ht,_t,xe,Ae,-Ht,-Y,0),Pt=t(ct,Fe,ht,_t,xe,Ae,-Ht,-Y,3)?1:0,Pt==1?f(ct,Fe,ht,_t,{x:Ht,y:Y,width:xe,height:Ae}):t(ct,Fe,ht,_t,xe,Ae,-Ht,-Y,0)}else _t=ct.slice(0);We.push({rect:{x:Ht,y:Y,width:xe,height:Ae},img:_t,blend:Pt,dispose:0})}if(Ye)for(Ie=0;Ie<We.length;Ie++){if((Ee=We[Ie]).blend==1)continue;const ct=Ee.rect,qt=We[Ie-1].rect,Ht=Math.min(ct.x,qt.x),Y=Math.min(ct.y,qt.y),xe={x:Ht,y:Y,width:Math.max(ct.x+ct.width,qt.x+qt.width)-Ht,height:Math.max(ct.y+ct.height,qt.y+qt.height)-Y};We[Ie-1].dispose=1,Ie-1!=0&&h(Be,Fe,ht,We,Ie-1,xe,Re),h(Be,Fe,ht,We,Ie,xe,Re)}let fn=0;if(Be.length!=1)for(var Oe=0;Oe<We.length;Oe++){var Ee;fn+=(Ee=We[Oe]).rect.width*Ee.rect.height}return We}(I,S,k,O,D,$),ie={},K=[],ne=[];if(A!=0){const qe=[];for(U=0;U<H.length;U++)qe.push(H[U].img.buffer);const Be=function(Re){let Et=0;for(var We=0;We<Re.length;We++)Et+=Re[We].byteLength;const Ie=new Uint8Array(Et);let _t=0;for(We=0;We<Re.length;We++){const Mt=new Uint8Array(Re[We]),fn=Mt.length;for(let Oe=0;Oe<fn;Oe+=4){let Ee=Mt[Oe],ct=Mt[Oe+1],qt=Mt[Oe+2];const Ht=Mt[Oe+3];Ht==0&&(Ee=ct=qt=0),Ie[_t+Oe]=Ee,Ie[_t+Oe+1]=ct,Ie[_t+Oe+2]=qt,Ie[_t+Oe+3]=Ht}_t+=fn}return Ie.buffer}(qe),Fe=g(Be,A);for(U=0;U<Fe.plte.length;U++)K.push(Fe.plte[U].est.rgba);let ht=0;for(U=0;U<H.length;U++){const Ye=(oe=H[U]).img.length;var me=new Uint8Array(Fe.inds.buffer,ht>>2,Ye>>2);ne.push(me);const Re=new Uint8Array(Fe.abuf,ht,Ye);L&&a(oe.img,oe.rect.width,oe.rect.height,K,Re,me),oe.img.set(Re),ht+=Ye}}else for(W=0;W<H.length;W++){var oe=H[W];const qe=new Uint32Array(oe.img.buffer);var le=oe.rect.width;for(B=qe.length,me=new Uint8Array(B),ne.push(me),U=0;U<B;U++){const Be=qe[U];if(U!=0&&Be==qe[U-1])me[U]=me[U-1];else if(U>le&&Be==qe[U-le])me[U]=me[U-le];else{let Fe=ie[Be];if(Fe==null&&(ie[Be]=Fe=K.length,K.push(Be),K.length>=300))break;me[U]=Fe}}}const ye=K.length;for(ye<=256&&R==0&&(F=ye<=2?1:ye<=4?2:ye<=16?4:8,F=Math.max(F,P)),W=0;W<H.length;W++){(oe=H[W]).rect.x,oe.rect.y,le=oe.rect.width;const qe=oe.rect.height;let Be=oe.img;new Uint32Array(Be.buffer);let Fe=4*le,ht=4;if(ye<=256&&R==0){Fe=Math.ceil(F*le/8);var ke=new Uint8Array(Fe*qe);const Ye=ne[W];for(let Re=0;Re<qe;Re++){U=Re*Fe;const Et=Re*le;if(F==8)for(var _e=0;_e<le;_e++)ke[U+_e]=Ye[Et+_e];else if(F==4)for(_e=0;_e<le;_e++)ke[U+(_e>>1)]|=Ye[Et+_e]<<4-4*(1&_e);else if(F==2)for(_e=0;_e<le;_e++)ke[U+(_e>>2)]|=Ye[Et+_e]<<6-2*(3&_e);else if(F==1)for(_e=0;_e<le;_e++)ke[U+(_e>>3)]|=Ye[Et+_e]<<7-1*(7&_e)}Be=ke,j=3,ht=1}else if(V==0&&H.length==1){ke=new Uint8Array(le*qe*3);const Ye=le*qe;for(U=0;U<Ye;U++){const Re=3*U,Et=4*U;ke[Re]=Be[Et],ke[Re+1]=Be[Et+1],ke[Re+2]=Be[Et+2]}Be=ke,j=2,ht=3,Fe=3*le}oe.img=Be,oe.bpl=Fe,oe.bpp=ht}return{ctype:j,depth:F,plte:K,frames:H}}function h(I,S,k,A,N,O,D){const $=Uint8Array,P=Uint32Array,R=new $(I[N-1]),L=new P(I[N-1]),j=N+1<I.length?new $(I[N+1]):null,F=new $(I[N]),q=new P(F.buffer);let W=S,B=k,U=-1,V=-1;for(let ie=0;ie<O.height;ie++)for(let K=0;K<O.width;K++){const ne=O.x+K,me=O.y+ie,oe=me*S+ne,le=q[oe];le==0||A[N-1].dispose==0&&L[oe]==le&&(j==null||j[4*oe+3]!=0)||(ne<W&&(W=ne),ne>U&&(U=ne),me<B&&(B=me),me>V&&(V=me))}U==-1&&(W=B=U=V=0),D&&((1&W)==1&&W--,(1&B)==1&&B--),O={x:W,y:B,width:U-W+1,height:V-B+1};const H=A[N];H.rect=O,H.blend=1,H.img=new Uint8Array(O.width*O.height*4),A[N-1].dispose==0?(t(R,S,k,H.img,O.width,O.height,-O.x,-O.y,0),f(F,S,k,H.img,O)):t(F,S,k,H.img,O.width,O.height,-O.x,-O.y,0)}function f(I,S,k,A,N){t(I,S,k,A,N.width,N.height,-N.x,-N.y,2)}function p(I,S,k,A,N,O,D){const $=[];let P,R=[0,1,2,3,4];O!=-1?R=[O]:(S*A>5e5||k==1)&&(R=[0]),D&&(P={level:0});const L=O_e;for(var j=0;j<R.length;j++){for(let W=0;W<S;W++)m(N,I,W,A,k,R[j]);$.push(L.deflate(N,P))}let F,q=1e9;for(j=0;j<$.length;j++)$[j].length<q&&(F=j,q=$[j].length);return $[F]}function m(I,S,k,A,N,O){const D=k*A;let $=D+k;if(I[$]=O,$++,O==0)if(A<500)for(var P=0;P<A;P++)I[$+P]=S[D+P];else I.set(new Uint8Array(S.buffer,D,A),$);else if(O==1){for(P=0;P<N;P++)I[$+P]=S[D+P];for(P=N;P<A;P++)I[$+P]=S[D+P]-S[D+P-N]+256&255}else if(k==0){for(P=0;P<N;P++)I[$+P]=S[D+P];if(O==2)for(P=N;P<A;P++)I[$+P]=S[D+P];if(O==3)for(P=N;P<A;P++)I[$+P]=S[D+P]-(S[D+P-N]>>1)+256&255;if(O==4)for(P=N;P<A;P++)I[$+P]=S[D+P]-n(S[D+P-N],0,0)+256&255}else{if(O==2)for(P=0;P<A;P++)I[$+P]=S[D+P]+256-S[D+P-A]&255;if(O==3){for(P=0;P<N;P++)I[$+P]=S[D+P]+256-(S[D+P-A]>>1)&255;for(P=N;P<A;P++)I[$+P]=S[D+P]+256-(S[D+P-A]+S[D+P-N]>>1)&255}if(O==4){for(P=0;P<N;P++)I[$+P]=S[D+P]+256-n(0,S[D+P-A],0)&255;for(P=N;P<A;P++)I[$+P]=S[D+P]+256-n(S[D+P-N],S[D+P-A],S[D+P-N-A])&255}}}function g(I,S){const k=new Uint8Array(I),A=k.slice(0),N=new Uint32Array(A.buffer),O=E(A,S),D=O[0],$=O[1],P=k.length,R=new Uint8Array(P>>2);let L;if(k.length<2e7)for(var j=0;j<P;j+=4)L=y(D,F=k[j]*(1/255),q=k[j+1]*(1/255),W=k[j+2]*(1/255),B=k[j+3]*(1/255)),R[j>>2]=L.ind,N[j>>2]=L.est.rgba;else for(j=0;j<P;j+=4){var F=k[j]*.00392156862745098,q=k[j+1]*(1/255),W=k[j+2]*(1/255),B=k[j+3]*(1/255);for(L=D;L.left;)L=w(L.est,F,q,W,B)<=0?L.left:L.right;R[j>>2]=L.ind,N[j>>2]=L.est.rgba}return{abuf:A.buffer,inds:R,plte:$}}function E(I,S,k){k==null&&(k=1e-4);const A=new Uint32Array(I.buffer),N={i0:0,i1:I.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=b(I,N.i0,N.i1),N.est=C(N.bst);const O=[N];for(;O.length<S;){let $=0,P=0;for(var D=0;D<O.length;D++)O[D].est.L>$&&($=O[D].est.L,P=D);if($<k)break;const R=O[P],L=_(I,A,R.i0,R.i1,R.est.e,R.est.eMq255);if(R.i0>=L||R.i1<=L){R.est.L=0;continue}const j={i0:R.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};j.bst=b(I,j.i0,j.i1),j.est=C(j.bst);const F={i0:L,i1:R.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:R.bst.N-j.bst.N},D=0;D<16;D++)F.bst.R[D]=R.bst.R[D]-j.bst.R[D];for(D=0;D<4;D++)F.bst.m[D]=R.bst.m[D]-j.bst.m[D];F.est=C(F.bst),R.left=j,R.right=F,O[P]=j,O.push(F)}for(O.sort(($,P)=>P.bst.N-$.bst.N),D=0;D<O.length;D++)O[D].ind=D;return[N,O]}function y(I,S,k,A,N){if(I.left==null)return I.tdst=function(j,F,q,W,B){const U=F-j[0],V=q-j[1],H=W-j[2],ie=B-j[3];return U*U+V*V+H*H+ie*ie}(I.est.q,S,k,A,N),I;const O=w(I.est,S,k,A,N);let D=I.left,$=I.right;O>0&&(D=I.right,$=I.left);const P=y(D,S,k,A,N);if(P.tdst<=O*O)return P;const R=y($,S,k,A,N);return R.tdst<P.tdst?R:P}function w(I,S,k,A,N){const{e:O}=I;return O[0]*S+O[1]*k+O[2]*A+O[3]*N-I.eMq}function _(I,S,k,A,N,O){for(A-=4;k<A;){for(;x(I,k,N)<=O;)k+=4;for(;x(I,A,N)>O;)A-=4;if(k>=A)break;const D=S[k>>2];S[k>>2]=S[A>>2],S[A>>2]=D,k+=4,A-=4}for(;x(I,k,N)>O;)k-=4;return k+4}function x(I,S,k){return I[S]*k[0]+I[S+1]*k[1]+I[S+2]*k[2]+I[S+3]*k[3]}function b(I,S,k){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],O=k-S>>2;for(let D=S;D<k;D+=4){const $=I[D]*.00392156862745098,P=I[D+1]*(1/255),R=I[D+2]*(1/255),L=I[D+3]*(1/255);N[0]+=$,N[1]+=P,N[2]+=R,N[3]+=L,A[0]+=$*$,A[1]+=$*P,A[2]+=$*R,A[3]+=$*L,A[5]+=P*P,A[6]+=P*R,A[7]+=P*L,A[10]+=R*R,A[11]+=R*L,A[15]+=L*L}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:N,N:O}}function C(I){const{R:S}=I,{m:k}=I,{N:A}=I,N=k[0],O=k[1],D=k[2],$=k[3],P=A==0?0:1/A,R=[S[0]-N*N*P,S[1]-N*O*P,S[2]-N*D*P,S[3]-N*$*P,S[4]-O*N*P,S[5]-O*O*P,S[6]-O*D*P,S[7]-O*$*P,S[8]-D*N*P,S[9]-D*O*P,S[10]-D*D*P,S[11]-D*$*P,S[12]-$*N*P,S[13]-$*O*P,S[14]-$*D*P,S[15]-$*$*P],L=R,j=T;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,W=0;if(A!=0)for(let U=0;U<16&&(F=j.multVec(L,F),W=Math.sqrt(j.dot(F,F)),F=j.sml(1/W,F),!(U!=0&&Math.abs(W-q)<1e-9));U++)q=W;const B=[N*P,O*P,D*P,$*P];return{Cov:R,q:B,e:F,L:q,eMq255:j.dot(j.sml(255,B),F),eMq:j.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var T={multVec:(I,S)=>[I[0]*S[0]+I[1]*S[1]+I[2]*S[2]+I[3]*S[3],I[4]*S[0]+I[5]*S[1]+I[6]*S[2]+I[7]*S[3],I[8]*S[0]+I[9]*S[1]+I[10]*S[2]+I[11]*S[3],I[12]*S[0]+I[13]*S[1]+I[14]*S[2]+I[15]*S[3]],dot:(I,S)=>I[0]*S[0]+I[1]*S[1]+I[2]*S[2]+I[3]*S[3],sml:(I,S)=>[I*S[0],I*S[1],I*S[2],I*S[3]]};gi.encode=function(S,k,A,N,O,D,$){N==null&&(N=0),$==null&&($=!1);const P=u(S,k,A,N,[!1,!1,!1,0,$,!1]);return c(P,-1),l(P,k,A,O,D)},gi.encodeLL=function(S,k,A,N,O,D,$,P){const R={ctype:0+(N==1?0:2)+(O==0?0:4),depth:D,frames:[]},L=(N+O)*D,j=L*k;for(let F=0;F<S.length;F++)R.frames.push({rect:{x:0,y:0,width:k,height:A},img:new Uint8Array(S[F]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(j/8)});return c(R,0,!0),l(R,k,A,$,P)},gi.encode.compress=u,gi.encode.dither=a,gi.quantize=g,gi.quantize.getKDtree=E,gi.quantize.getNearest=y})();const IF={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),h=new DataView(u),f=1<<20;let p,m,g,E,y=f,w=0,_=0,x=0;function b(I){h.setUint16(_,I,!0),_+=2}function C(I){h.setUint32(_,I,!0),_+=4}function T(I){_+=I}b(19778),C(c),T(4),C(122),C(108),C(n),C(-r>>>0),b(1),b(32),C(3),C(l),C(2835),C(2835),T(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function I(){for(;w<r&&y>0;){for(E=122+w*a,p=0;p<s;)y--,m=o[x++],g=m>>>24,h.setUint32(E+p,m<<8|g),p+=4;w++}x<o.length?(y=f,setTimeout(I,IF._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var qr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},j_e={[qr.CHROME]:16384,[qr.FIREFOX]:11180,[qr.DESKTOP_SAFARI]:16384,[qr.IE]:8192,[qr.IOS]:4096,[qr.ETC]:8192};const zT=typeof window<"u",TF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,W1=zT&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$_e=(zT||TF)&&(W1&&W1.getOriginalSymbol(window,"File")||typeof File<"u"&&File),SF=(zT||TF)&&(W1&&W1.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function BT(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function kF(t){return new Promise((e,n)=>{const r=new SF;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function RF(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function uc(){if(uc.cachedResult!==void 0)return uc.cachedResult;let t=qr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=qr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=qr.IOS:/Safari/i.test(e)?t=qr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=qr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=qr.IE),uc.cachedResult=t,uc.cachedResult}function AF(t,e){const n=uc(),r=j_e[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function O_(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function PF(t,e){const{width:n,height:r}=AF(t.width,t.height),[s,i]=O_(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function ig(){return ig.cachedResult!==void 0||(ig.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ig.cachedResult}function H1(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=PF(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(h){return r(h)}};try{let u;return kF(t).then(function(h){try{return u=h,RF(u).then(function(f){try{return s=f,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(ig()||[qr.DESKTOP_SAFARI,qr.MOBILE_SAFARI].includes(uc()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function G1(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let h,f,p;return h=t.getContext("2d"),{data:f}=h.getImageData(0,0,t.width,t.height),p=gi.encode([f.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let h=function(){return l.call(this)};var c=h;if(e==="image/bmp")return new Promise(f=>IF.toBlob(t,f)).then((function(f){try{return a=f,a.name=n,a.lastModified=r,h.call(this)}catch(p){return o(p)}}).bind(this),o);{let f=function(){return h.call(this)};var u=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),BT(p,n,r).then((function(m){try{return a=m,f.call(this)}catch(g){return o(g)}}).bind(this),o)}}}function l(){return i(a)}})}function Ui(t){t.width=0,t.height=0}function ed(){return new Promise(function(t,e){let n,r,s,i;return ed.cachedResult!==void 0?t(ed.cachedResult):BT("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,H1(n).then(function(a){try{return r=a[1],G1(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,Ui(r),H1(s).then(function(c){try{return i=c[0],ed.cachedResult=i.width===1&&i.height===2,t(ed.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function NF(t){return new Promise((e,n)=>{const r=new SF;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let h=0;h<u;h++)if(i.getUint16(a+12*h,c)==274)return e(i.getUint16(a+12*h+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function DF(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=O_(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),Ui(t)),o}function LF(t,e){const{width:n}=t,{height:r}=t,[s,i]=O_(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),Ui(t),s}function XP(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,h,f,p,m,g,E,y,w,_,x,b,C,T,I;function S(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=A,e.onProgress(Math.min(i,100))}function k(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(A,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,S(),H1(t,e).then((function(A){try{return[,l]=A,S(),c=DF(l,e),S(),new Promise(function(N,O){var D;if(!(D=e.exifOrientation))return NF(t).then((function(P){try{return D=P,$.call(this)}catch(R){return O(R)}}).bind(this),O);function $(){return N(D)}return $.call(this)}).then((function(N){try{return u=N,S(),ed().then((function(O){try{return h=O?c:LF(c,u),S(),f=e.initialQuality||1,p=e.fileType||t.type,G1(h,p,t.name,t.lastModified,f).then((function(D){try{{let L=function(){if(o--&&(_>a||_>y)){let F,q;return F=I?.95*T.width:T.width,q=I?.95*T.height:T.height,[b,C]=O_(F,q),C.drawImage(T,0,0,F,q),f*=p==="image/png"?.85:.95,G1(b,p,t.name,t.lastModified,f).then(function(W){try{return x=W,Ui(T),T=b,_=x.size,k(Math.min(99,Math.floor((w-_)/(w-a)*100))),L}catch(B){return s(B)}},s)}return[1]},j=function(){return Ui(T),Ui(b),Ui(c),Ui(h),Ui(l),k(100),r(x)};var P=L,R=j;if(m=D,S(),g=m.size>a,E=m.size>t.size,!g&&!E)return k(100),r(m);var $;return y=t.size,w=m.size,_=w,T=h,I=!e.alwaysKeepResolution&&g,($=(function(F){for(;F;){if(F.then)return void F.then($,s);try{if(F.pop){if(F.length)return F.pop()?j.call(this):F;F=L}else F=F.call(this)}catch(q){return s(q)}}}).bind(this))(L)}}catch(L){return s(L)}}).bind(this),s)}catch(D){return s(D)}}).bind(this),s)}catch(O){return s(O)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)})}const F_e=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let vx;function V_e(t,e){return new Promise((n,r)=>{vx||(vx=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(F_e));const s=new Worker(vx);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Fn(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof $_e))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return XP(t,s).then((function(p){try{return i=p,f.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(p){return r(p)}}).bind(this),h=function(p){try{return XP(t,s).then(function(m){try{return i=m,u()}catch(g){return r(g)}},r)}catch(m){return r(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",V_e(t,s).then(function(p){try{return i=p,u()}catch{return h()}},h)}catch{h()}function f(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=bF(t,i))}catch{}return n(i)}})}Fn.getDataUrlFromFile=kF,Fn.getFilefromDataUrl=BT,Fn.loadImage=RF,Fn.drawImageInCanvas=PF,Fn.drawFileInCanvas=H1,Fn.canvasToFile=G1,Fn.getExifOrientation=NF,Fn.handleMaxWidthOrHeight=DF,Fn.followExifOrientation=LF,Fn.cleanupCanvasMemory=Ui,Fn.isAutoOrientationInBrowser=ed,Fn.approximateBelowMaximumCanvasSizeOfBrowser=AF,Fn.copyExifWithoutOrientation=bF,Fn.getBrowserName=uc,Fn.version="2.0.2";const JP=({options:t,setValue:e,label:n,gender:r})=>{const[s,i]=v.useState(r),o=a=>{i(a.target.value)};return v.useEffect(()=>{e(s)},[s]),v.useEffect(()=>{i(r)},[r]),d.jsx(pF,{size:"small",variant:"standard",id:n,labelId:n,value:s,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>d.jsx(pve,{value:a.value,children:a.label},a.value))})};var ZP="__sak";function MF(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var U_e=MF,iC=new Rl("auth","Firebase",MF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd=new Ap("@firebase/auth");function z_e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Cd.logLevel<=tt.WARN&&Cd.warn.apply(Cd,lr(["Auth (".concat(Li,"): ").concat(t)],e,!1))}function og(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Cd.logLevel<=tt.ERROR&&Cd.error.apply(Cd,lr(["Auth (".concat(Li,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw HT.apply(void 0,lr([t],e,!1))}function WT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return HT.apply(void 0,lr([t],e,!1))}function B_e(t,e,n){var r,s=ut(ut({},U_e()),(r={},r[e]=n,r)),i=new Rl("auth","Firebase",s);return i.create(e,{appName:t.name})}function HT(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var s=n[0],i=lr([],n.slice(1),!0);return i[0]&&(i[0].appName=t.name),(e=t._errorFactory).create.apply(e,lr([s],i,!1))}return iC.create.apply(iC,lr([t],n,!1))}function et(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw HT.apply(void 0,lr([e],n,!1))}function Uo(t){var e="INTERNAL ASSERTION FAILED: "+t;throw og(e),new Error(e)}function nh(t,e){t||Uo(e)}function W_e(){return e6()==="http:"||e6()==="https:"}function e6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W_e()||f8()||"connection"in navigator)?navigator.onLine:!0}function G_e(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q_e=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,nh(n>e,"Short delay should be less than long delay!"),this.isMobile=vv()||mb()}return t.prototype.get=function(){return H_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_e(t,e){nh(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,K_e=(je={},je.CREDENTIAL_MISMATCH="custom-token-mismatch",je.MISSING_CUSTOM_TOKEN="internal-error",je.INVALID_IDENTIFIER="invalid-email",je.MISSING_CONTINUE_URI="internal-error",je.INVALID_PASSWORD="wrong-password",je.MISSING_PASSWORD="missing-password",je.INVALID_LOGIN_CREDENTIALS="invalid-credential",je.EMAIL_EXISTS="email-already-in-use",je.PASSWORD_LOGIN_DISABLED="operation-not-allowed",je.INVALID_IDP_RESPONSE="invalid-credential",je.INVALID_PENDING_TOKEN="invalid-credential",je.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",je.MISSING_REQ_TYPE="internal-error",je.EMAIL_NOT_FOUND="user-not-found",je.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",je.EXPIRED_OOB_CODE="expired-action-code",je.INVALID_OOB_CODE="invalid-action-code",je.MISSING_OOB_CODE="internal-error",je.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",je.INVALID_ID_TOKEN="invalid-user-token",je.TOKEN_EXPIRED="user-token-expired",je.USER_NOT_FOUND="user-token-expired",je.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",je.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",je.INVALID_CODE="invalid-verification-code",je.INVALID_SESSION_INFO="invalid-verification-id",je.INVALID_TEMPORARY_PROOF="invalid-credential",je.MISSING_SESSION_INFO="missing-verification-id",je.SESSION_EXPIRED="code-expired",je.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",je.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",je.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",je.ADMIN_ONLY_OPERATION="admin-restricted-operation",je.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",je.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",je.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",je.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",je.SECOND_FACTOR_EXISTS="second-factor-already-in-use",je.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",je.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",je.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",je.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",je.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",je.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",je.MISSING_CLIENT_TYPE="missing-client-type",je.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",je.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",je.INVALID_REQ_TYPE="invalid-req-type",je);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q_e=new q_e(3e4,6e4);function yo(t,e){return t.tenantId&&!e.tenantId?ut(ut({},e),{tenantId:t.tenantId}):e}function hu(t,e,n,r,s){return s===void 0&&(s={}),ee(this,void 0,void 0,function(){var i=this;return te(this,function(o){return[2,jF(t,s,function(){return ee(i,void 0,void 0,function(){var a,l,c,u;return te(this,function(h){switch(h.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=da(ut({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=h.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,OF.fetch()($F(t,t.config.apiHost,n,c),ut({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function jF(t,e,n){return ee(this,void 0,void 0,function(){var r,s,i,o,a,l,c,u,h,f;return te(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=ut(ut({},K_e),e),p.label=1;case 1:return p.trys.push([1,4,,5]),s=new J_e(t),[4,Promise.race([n(),s.promise])];case 2:return i=p.sent(),s.clearNetworkTimeout(),[4,i.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Of(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return[2,o];if(a=i.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Of(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Of(t,"user-disabled",o);if(h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw B_e(t,h,u);return ca(t,h),[3,5];case 4:if(f=p.sent(),f instanceof Ns)throw f;return ca(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function fu(t,e,n,r,s){return s===void 0&&(s={}),ee(this,void 0,void 0,function(){var i;return te(this,function(o){switch(o.label){case 0:return[4,hu(t,e,n,r,s)];case 1:return i=o.sent(),"mfaPendingCredential"in i&&ca(t,"multi-factor-auth-required",{_serverResponse:i}),[2,i]}})})}function $F(t,e,n,r){var s="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Y_e(t.config,s):"".concat(t.config.apiScheme,"://").concat(s)}function X_e(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var J_e=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,s){n.timer=setTimeout(function(){return s(WT(n.auth,"network-request-failed"))},Q_e.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Of(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var s=WT(t,e,r);return s.customData._tokenResponse=n,s}function t6(t){return t!==void 0&&t.enterprise!==void 0}var Z_e=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var s=r[n];if(s.provider&&s.provider===e)return X_e(s.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function ewe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,hu(t,"GET","/v2/recaptchaConfig",yo(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function twe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,hu(t,"POST","/v1/accounts:delete",e)]})})}function nwe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,hu(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rwe(t,e){return e===void 0&&(e=!1),ee(this,void 0,void 0,function(){var n,r,s,i,o;return te(this,function(a){switch(a.label){case 0:return n=at(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),s=GT(r),et(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error"),i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider,[2,{claims:s,token:r,authTime:d0(yx(s.auth_time)),issuedAtTime:d0(yx(s.iat)),expirationTime:d0(yx(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}]}})})}function yx(t){return Number(t)*1e3}function GT(t){var e=t.split("."),n=e[0],r=e[1],s=e[2];if(n===void 0||r===void 0||s===void 0)return og("JWT malformed, contained fewer than 3 sections"),null;try{var i=D0(r);return i?JSON.parse(i):(og("Failed to decode base64 JWT payload"),null)}catch(o){return og("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function swe(t){var e=GT(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){var r;return te(this,function(s){switch(s.label){case 0:if(n)return[2,e];s.label=1;case 1:return s.trys.push([1,3,,6]),[4,e];case 2:return[2,s.sent()];case 3:return r=s.sent(),r instanceof Ns&&iwe(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:s.sent(),s.label=5;case 5:throw r;case 6:return[2]}})})}function iwe(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var owe=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var s=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=s-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return ee(n,void 0,void 0,function(){return te(this,function(s){switch(s.label){case 0:return[4,this.iteration()];case 1:return s.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FF=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=d0(this.lastLoginAt),this.creationTime=d0(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){var e;return ee(this,void 0,void 0,function(){var n,r,s,i,o,a,l,c,u,h;return te(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,Ep(t,nwe(n,{idToken:r}))];case 2:return s=f.sent(),et(s==null?void 0:s.users.length,n,"internal-error"),i=s.users[0],t._notifyReloadListener(i),o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?cwe(i.providerUserInfo):[],a=lwe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new FF(i.createdAt,i.lastLoginAt),isAnonymous:u},Object.assign(t,h),[2]}})})}function awe(t){return ee(this,void 0,void 0,function(){var e;return te(this,function(n){switch(n.label){case 0:return e=at(t),[4,q1(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function lwe(t,e){var n=t.filter(function(r){return!e.some(function(s){return s.providerId===r.providerId})});return lr(lr([],n,!0),e,!0)}function cwe(t){return t.map(function(e){var n=e.providerId,r=ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uwe(t,e){return ee(this,void 0,void 0,function(){var n,r=this;return te(this,function(s){switch(s.label){case 0:return[4,jF(t,{},function(){return ee(r,void 0,void 0,function(){var i,o,a,l,c,u;return te(this,function(h){switch(h.label){case 0:return i=da({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=$F(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=h.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,OF.fetch()(c,{method:"POST",headers:u,body:i})]}})})})];case 1:return n=s.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function dwe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,hu(t,"POST","/v2/accounts:revokeToken",yo(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n6=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):swe(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:return et(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return ee(this,void 0,void 0,function(){var r,s,i,o;return te(this,function(a){switch(a.label){case 0:return[4,uwe(e,n)];case 1:return r=a.sent(),s=r.accessToken,i=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(s,i,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,s=n.accessToken,i=n.expirationTime,o=new t;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(et(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(et(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Uo("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var oC=function(){function t(e){var n=e.uid,r=e.auth,s=e.stsTokenManager,i=ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new owe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?lr([],i.providerData,!0):[],this.metadata=new FF(i.createdAt||void 0,i.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return[4,Ep(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),et(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return rwe(this,e)},t.prototype.reload=function(){return awe(this)},t.prototype._assign=function(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return ut({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(ut(ut({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){var r;return te(this,function(s){switch(s.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,q1(this)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return s.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,Ep(this,twe(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return ut(ut({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return ut({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,s,i,o,a,l,c,u,h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,x=n.emailVerified,b=n.isAnonymous,C=n.providerData,T=n.stsTokenManager;et(_&&T,e,"internal-error");var I=n6.fromJSON(this.name,T);et(typeof _=="string",e,"internal-error"),Ra(h,e.name),Ra(f,e.name),et(typeof x=="boolean",e,"internal-error"),et(typeof b=="boolean",e,"internal-error"),Ra(p,e.name),Ra(m,e.name),Ra(g,e.name),Ra(E,e.name),Ra(y,e.name),Ra(w,e.name);var S=new t({uid:_,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:I,createdAt:y,lastLoginAt:w});return C&&Array.isArray(C)&&(S.providerData=C.map(function(k){return ut({},k)})),E&&(S._redirectEventId=E),S},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),ee(this,void 0,void 0,function(){var s,i;return te(this,function(o){switch(o.label){case 0:return s=new n6,s.updateFromServerResponse(n),i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r}),[4,q1(i)];case 1:return o.sent(),[2,i]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6=new Map;function Qa(t){nh(t instanceof Function,"Expected a class definition");var e=r6.get(t);return e?(nh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,r6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hwe=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return ee(this,void 0,void 0,function(){return te(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return ee(this,void 0,void 0,function(){return te(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return ee(this,void 0,void 0,function(){return te(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),s6=hwe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var i6=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var s=this.auth,i=s.config,o=s.name;this.fullUserKey=ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=ag("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?oC._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),ee(this,void 0,void 0,function(){var s,i,o,a,l,c,u,h,f,p,m=this;return te(this,function(g){switch(g.label){case 0:return n.length?[4,Promise.all(n.map(function(E){return ee(m,void 0,void 0,function(){return te(this,function(y){switch(y.label){case 0:return[4,E._isAvailable()];case 1:return y.sent()?[2,E]:[2,void 0]}})})}))]:[2,new t(Qa(s6),e,r)];case 1:s=g.sent().filter(function(E){return E}),i=s[0]||Qa(s6),o=ag(r,e.config.apiKey,e.name),a=null,l=0,c=n,g.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],g.label=3;case 3:return g.trys.push([3,5,,6]),[4,u._get(o)];case 4:return h=g.sent(),h?(f=oC._fromJSON(e,h),u!==i&&(a=f),i=u,[3,7]):[3,6];case 5:return g.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=s.filter(function(E){return E._shouldAllowMigration}),!i._shouldAllowMigration||!p.length?[2,new t(i,e,r)]:(i=p[0],a?[4,i._set(o,a.toJSON())]:[3,9]);case 8:g.sent(),g.label=9;case 9:return[4,Promise.all(n.map(function(E){return ee(m,void 0,void 0,function(){return te(this,function(y){switch(y.label){case 0:if(E===i)return[3,4];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,E._remove(o)];case 2:return y.sent(),[3,4];case 3:return y.sent(),[3,4];case 4:return[2]}})})}))];case 10:return g.sent(),[2,new t(i,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fwe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BF(e))return"Blackberry";if(WF(e))return"Webos";if(VF(e))return"Safari";if((e.includes("chrome/")||pwe(e))&&!e.includes("edge/"))return"Chrome";if(zF(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function fwe(t){return t===void 0&&(t=It()),/firefox\//i.test(t)}function VF(t){t===void 0&&(t=It());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pwe(t){return t===void 0&&(t=It()),/crios\//i.test(t)}function UF(t){return t===void 0&&(t=It()),/iemobile/i.test(t)}function zF(t){return t===void 0&&(t=It()),/android/i.test(t)}function BF(t){return t===void 0&&(t=It()),/blackberry/i.test(t)}function WF(t){return t===void 0&&(t=It()),/webos/i.test(t)}function HF(t){return t===void 0&&(t=It()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mwe(){return p8()&&document.documentMode===10}function gwe(t){return t===void 0&&(t=It()),HF(t)||zF(t)||WF(t)||BF(t)||/windows phone/i.test(t)||UF(t)}function vwe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=o6(It());break;case"Worker":n="".concat(o6(It()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Li,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ywe=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,s=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};s.onAbort=n,this.queue.push(s);var i=this.queue.length-1;return function(){r.queue[i]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return ee(this,void 0,void 0,function(){var n,r,s,i,o,a,l,c;return te(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,s=this.queue,u.label=2;case 2:return r<s.length?(i=s[r],[4,i(e)]):[3,5];case 3:u.sent(),i.onAbort&&n.push(i.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _we(t,e){return e===void 0&&(e={}),ee(this,void 0,void 0,function(){return te(this,function(n){return[2,hu(t,"GET","/v2/passwordPolicy",yo(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wwe=6,xwe=function(){function t(e){var n,r,s,i,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:wwe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,s,i,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ewe=function(){function t(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a6(this),this.idTokenSubscription=new a6(this),this.beforeStateQueue=new ywe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=Qa(n)),this._initializationPromise=this.queue(function(){return ee(r,void 0,void 0,function(){var s,i,o;return te(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(s=this,[4,i6.create(this,e)]);case 1:if(s.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return ee(this,void 0,void 0,function(){var e;return te(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return ee(this,void 0,void 0,function(){var r,s,i,o,a,l,c;return te(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),s=r,i=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0),u.label=4;case 4:if(!s)return[2,this.directlySetCurrentUser(null)];if(s._redirectEventId)return[3,9];if(!i)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(s)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),s=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return s?[2,this.reloadAndSetCurrentUserOrClear(s)]:[2,this.directlySetCurrentUser(null)];case 9:return et(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?[2,this.directlySetCurrentUser(s)]:[2,this.reloadAndSetCurrentUserOrClear(s)]}})})},t.prototype.tryRedirectSignIn=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,q1(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=G_e()},t.prototype._delete=function(){return ee(this,void 0,void 0,function(){return te(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){return n=e?at(e):null,n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){var r=this;return te(this,function(s){switch(s.label){case 0:return this._deleted?[2]:(e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:s.sent(),s.label=2;case 2:return[2,this.queue(function(){return ee(r,void 0,void 0,function(){return te(this,function(i){switch(i.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return i.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return ee(this,void 0,void 0,function(){return te(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return ee(n,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Qa(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return ee(this,void 0,void 0,function(){var e,n;return te(this,function(r){switch(r.label){case 0:return[4,_we(this)];case 1:return e=r.sent(),n=new xwe(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new Rl("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var s=e.onAuthStateChanged(function(){s(),n()},r)})},t.prototype.revokeAccessToken=function(e){return ee(this,void 0,void 0,function(){var n,r;return te(this,function(s){switch(s.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=s.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,dwe(this,r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return ee(this,void 0,void 0,function(){var r;return te(this,function(s){switch(s.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=s.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return ee(this,void 0,void 0,function(){var n,r,s;return te(this,function(i){switch(i.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&Qa(e)||this._popupRedirectResolver,et(n,this,"argument-error"),r=this,[4,i6.create(this,[Qa(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=i.sent(),s=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:s.redirectUser=i.sent(),i.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return ee(this,void 0,void 0,function(){var s=this;return te(this,function(i){switch(i.label){case 0:return this._isInitialized?[4,this.queue(function(){return ee(s,void 0,void 0,function(){return te(this,function(o){return[2]})})})]:[3,2];case 1:i.sent(),i.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return ee(this,void 0,void 0,function(){var n=this;return te(this,function(r){return e===this.currentUser?[2,this.queue(function(){return ee(n,void 0,void 0,function(){return te(this,function(s){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,s){var i=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(l,this,"internal-error"),l.then(function(){a||o(i.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,s);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return ee(this,void 0,void 0,function(){return te(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GF(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return ee(this,void 0,void 0,function(){var n,r,s,i;return te(this,function(o){switch(o.label){case 0:return n=(i={},i["X-Client-Version"]=this.clientVersion,i),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return s=o.sent(),s&&(n["X-Firebase-AppCheck"]=s),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&z_e("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function qF(t){return at(t)}var a6=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=_8(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF={loadJS:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cwe(t){return YF.loadJS(t)}function bwe(){return YF.recaptchaEnterpriseScript}var Iwe="recaptcha-enterprise",Twe="NO_RECAPTCHA",Swe=function(){function t(e){this.type=Iwe,this.auth=qF(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),ee(this,void 0,void 0,function(){function r(o){return ee(this,void 0,void 0,function(){var a=this;return te(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return ee(a,void 0,void 0,function(){return te(this,function(h){return ewe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new Z_e(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(f){u(f)}),[2]})})})]})})}function s(o,a,l){var c=window.grecaptcha;t6(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(Twe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var i=this;return te(this,function(o){return[2,new Promise(function(a,l){r(i.auth).then(function(c){if(!n&&t6(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=bwe();u.length!==0&&(u+=c),Cwe(u).then(function(){s(c,a,l)}).catch(function(h){l(h)})}}).catch(function(c){l(c)})})]})})},t}();function l6(t,e,n,r){return r===void 0&&(r=!1),ee(this,void 0,void 0,function(){var s,i,o;return te(this,function(a){switch(a.label){case 0:s=new Swe(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,s.verify(n)];case 2:return i=a.sent(),[3,5];case 3:return a.sent(),[4,s.verify(n,!0)];case 4:return i=a.sent(),[3,5];case 5:return o=ut({},e),r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function c6(t,e,n,r){var s;return ee(this,void 0,void 0,function(){var i,o=this;return te(this,function(a){switch(a.label){case 0:return!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,l6(t,e,n,n==="getOobCode")]:[3,2];case 1:return i=a.sent(),[2,r(t,i)];case 2:return[2,r(t,e).catch(function(l){return ee(o,void 0,void 0,function(){var c;return te(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,l6(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function kwe(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Uo("not implemented")},t.prototype._getIdTokenResponse=function(e){return Uo("not implemented")},t.prototype._linkToIdToken=function(e,n){return Uo("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Uo("not implemented")},t}();function Rwe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,hu(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Awe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,fu(t,"POST","/v1/accounts:signInWithPassword",yo(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pwe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,fu(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))]})})}function Nwe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,fu(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u6=function(t){an(e,t);function e(n,r,s,i){i===void 0&&(i=null);var o=t.call(this,"password",s)||this;return o._email=n,o._password=r,o._tenantId=i,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,s){return s===void 0&&(s=null),new e(n,r,"emailLink",s)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return ee(this,void 0,void 0,function(){var r;return te(this,function(s){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,c6(n,r,"signInWithPassword",Awe)];case"emailLink":return[2,Pwe(n,{email:this._email,oobCode:this._password})];default:ca(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return ee(this,void 0,void 0,function(){var s;return te(this,function(i){switch(this.signInMethod){case"password":return s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,c6(n,s,"signUpPassword",Rwe)];case"emailLink":return[2,Nwe(n,{idToken:r,email:this._email,oobCode:this._password})];default:ca(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,fu(t,"POST","/v1/accounts:signInWithIdp",yo(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dwe="http://localhost",rh=function(t){an(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):ca("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,s=r.providerId,i=r.signInMethod,o=ph(r,["providerId","signInMethod"]);if(!s||!i)return null;var a=new e(s,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return qo(n,r)},e.prototype._linkToIdToken=function(n,r){var s=this.buildRequest();return s.idToken=r,qo(n,s)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,qo(n,r)},e.prototype.buildRequest=function(){var n={requestUri:Dwe,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=da(r)}return n},e}(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _x;function Lwe(t,e){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2,fu(t,"POST","/v1/accounts:signInWithPhoneNumber",yo(t,e))]})})}function Mwe(t,e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return[4,fu(t,"POST","/v1/accounts:signInWithPhoneNumber",yo(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Of(t,"account-exists-with-different-credential",n);return[2,n]}})})}var Owe=(_x={},_x.USER_NOT_FOUND="user-not-found",_x);function jwe(t,e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){return n=ut(ut({},e),{operation:"REAUTH"}),[2,fu(t,"POST","/v1/accounts:signInWithPhoneNumber",yo(t,n),Owe)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){an(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return Lwe(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return Mwe(n,ut({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return jwe(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,s=n.phoneNumber,i=n.verificationId,o=n.verificationCode;return r&&s?{temporaryProof:r,phoneNumber:s}:{sessionInfo:i,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,s=r.verificationId,i=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!i&&!s&&!o&&!a?null:new e({verificationId:s,verificationCode:i,phoneNumber:o,temporaryProof:a})},e})(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $we(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fwe(t){var e=Gi(qi(t)).link,n=e?Gi(qi(e)).deep_link_id:null,r=Gi(qi(t)).deep_link_id,s=r?Gi(qi(r)).link:null;return s||r||n||e||t}var Vwe=function(){function t(e){var n,r,s,i,o,a,l=Gi(qi(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=$we((s=l.mode)!==null&&s!==void 0?s:null);et(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=Fwe(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uwe=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return u6._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=Vwe.parseLink(n);return et(r,"argument-error"),u6._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KF=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bm=function(t){an(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return lr([],this.scopes,!0)},e}(KF);(function(t){an(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return et("providerId"in r&&"signInMethod"in r,"argument-error"),rh._fromParams(r)},e.prototype.credential=function(n){return this._credential(ut(ut({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return et(n.idToken||n.accessToken,"argument-error"),rh._fromParams(ut(ut({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthIdToken,o=s.oauthAccessToken,a=s.oauthTokenSecret,l=s.pendingToken,c=s.nonce,u=s.providerId;if(!o&&!a&&!i&&!l||!u)return null;try{return new e(u)._credential({idToken:i,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){an(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return rh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){an(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return rh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthIdToken,o=s.oauthAccessToken;if(!i&&!o)return null;try{return e.credential(i,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){an(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return rh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zwe="http://localhost",d6=function(t){an(e,t);function e(n,r){var s=t.call(this,n,n)||this;return s.pendingToken=r,s}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return qo(n,r)},e.prototype._linkToIdToken=function(n,r){var s=this.buildRequest();return s.idToken=r,qo(n,s)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,qo(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,s=r.providerId,i=r.signInMethod,o=r.pendingToken;return!s||!i||!o||s!==i?null:new e(s,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:zwe,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bwe="saml.";(function(t){an(e,t);function e(n){return et(n.startsWith(Bwe),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=d6.fromJSON(n);return et(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.pendingToken,o=s.providerId;if(!i||!o)return null;try{return d6._create(o,i)}catch{return null}},e})(KF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){an(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return rh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthAccessToken,o=s.oauthTokenSecret;if(!i||!o)return null;try{return e.credential(i,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qT=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,s){return s===void 0&&(s=!1),ee(this,void 0,void 0,function(){var i,o,a;return te(this,function(l){switch(l.label){case 0:return[4,oC._fromIdTokenResponse(e,r,s)];case 1:return i=l.sent(),o=h6(r),a=new t({user:i,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return ee(this,void 0,void 0,function(){var s;return te(this,function(i){switch(i.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return i.sent(),s=h6(r),[2,new t({user:e,providerId:s,_tokenResponse:r,operationType:n})]}})})},t}();function h6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wwe=function(t){an(e,t);function e(n,r,s,i){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=s,o.user=i,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:s},o}return e._fromErrorAndOperation=function(n,r,s,i){return new e(n,r,s,i)},e}(Ns);function QF(t,e,n,r){var s=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return s.catch(function(i){throw i.code==="auth/".concat("multi-factor-auth-required")?Wwe._fromErrorAndOperation(t,i,e,r):i})}function Hwe(t,e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){var r,s,i,o,a,l;return te(this,function(c){switch(c.label){case 0:return s=Ep,i=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,s.apply(void 0,i.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,qT._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(t,e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){var r,s,i,o,a,l;return te(this,function(c){switch(c.label){case 0:r=t.auth,s="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Ep(t,QF(r,s,e,t),n)];case 2:return i=c.sent(),et(i.idToken,r,"internal-error"),o=GT(i.idToken),et(o,r,"internal-error"),a=o.sub,et(t.uid===a,r,"user-mismatch"),[2,qT._forOperation(t,s,i)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&ca(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qwe(t,e,n){return n===void 0&&(n=!1),ee(this,void 0,void 0,function(){var r,s,i;return te(this,function(o){switch(o.label){case 0:return r="signIn",[4,QF(t,r,e)];case 1:return s=o.sent(),[4,qT._fromIdTokenResponse(t,r,s)];case 2:return i=o.sent(),n?[3,4]:[4,t._updateCurrentUser(i.user)];case 3:o.sent(),o.label=4;case 4:return[2,i]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?Ywe._fromServerResponse(e,n):"totpInfo"in n?Kwe._fromServerResponse(e,n):ca(e,"internal-error")},t}(),Ywe=function(t){an(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(XF),Kwe=function(t){an(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(XF),YT=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),JF=function(t){an(e,t);function e(n,r,s,i){var o=t.call(this,n,r,s)||this;return o.username=i,o}return e}(YT);(function(t){an(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(YT);(function(t){an(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(JF);(function(t){an(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(YT);(function(t){an(e,t);function e(n,r,s){return t.call(this,n,"twitter.com",r,s)||this}return e})(JF);var f6="@firebase/auth",p6="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qwe=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return ee(this,void 0,void 0,function(){var n;return te(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xwe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jwe(t){oo(new Ri("auth",function(e,n){var r=n.options,s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=s.options,l=a.apiKey,c=a.authDomain;et(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GF(t)},h=new Ewe(s,i,o,u);return kwe(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var s=e.getProvider("auth-internal");s.initialize()})),oo(new Ri("auth-internal",function(e){var n=qF(e.getProvider("auth").getImmediate());return function(r){return new Qwe(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(f6,p6,Xwe(t)),rs(f6,p6,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZF=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(ZP,"1"),this.storage.removeItem(ZP),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zwe(){var t=It();return VF(t)||HF(t)}var exe=1e3,txe=10;(function(t){an(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,s){return n.onStorageEvent(r,s)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=Zwe()&&vwe(),n.fallbackToPolling=gwe(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,s=Object.keys(this.listeners);r<s.length;r++){var i=s[r],o=this.storage.getItem(i),a=this.localCache[i];o!==a&&n(i,a,o)}},e.prototype.onStorageEvent=function(n,r){var s=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,h){s.notifyListeners(c,h)});return}var i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(i);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}var a=function(){var c=s.storage.getItem(i);!r&&s.localCache[i]===c||s.notifyListeners(i,c)},l=this.storage.getItem(i);mwe()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,txe):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var s=this.listeners[n];if(s)for(var i=0,o=Array.from(s);i<o.length;i++){var a=o[i];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,s,i){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:s,newValue:i}),!0)})},exe)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return ee(this,void 0,void 0,function(){return te(this,function(s){switch(s.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return s.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return ee(this,void 0,void 0,function(){var r;return te(this,function(s){switch(s.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=s.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return ee(this,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(ZF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){an(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(ZF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KT=function(t){an(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return qo(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return qo(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return qo(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(Cm);function nxe(t){return qwe(t.auth,new KT(t),t.bypassAuthState)}function rxe(t){var e=t.auth,n=t.user;return et(n,e,"internal-error"),Gwe(n,new KT(t),t.bypassAuthState)}function sxe(t){return ee(this,void 0,void 0,function(){var e,n;return te(this,function(r){return e=t.auth,n=t.user,et(n,e,"internal-error"),[2,Hwe(n,new KT(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ixe=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return ee(e,void 0,void 0,function(){var s,i;return te(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),s=this,[4,this.resolver._initialize(this.auth)];case 2:return s.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return i=o.sent(),this.reject(i),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return ee(this,void 0,void 0,function(){var n,r,s,i,o,a,l,c,u;return te(this,function(h){switch(h.label){case 0:if(n=e.urlResponse,r=e.sessionId,s=e.postBody,i=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState},h.label=1;case 1:return h.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[h.sent()]),[3,4];case 3:return u=h.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nxe;case"linkViaPopup":case"linkViaRedirect":return sxe;case"reauthViaPopup":case"reauthViaRedirect":return rxe;default:ca(this.auth,"internal-error")}},t.prototype.resolve=function(e){nh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){nh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oxe="pendingRedirect",wx=new Map;(function(t){an(e,t);function e(n,r,s){s===void 0&&(s=!1);var i=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s)||this;return i.eventId=null,i}return e.prototype.execute=function(){return ee(this,void 0,void 0,function(){var n,r,s,i,o;return te(this,function(a){switch(a.label){case 0:if(n=wx.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,axe(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return i=a.sent(),[3,5];case 4:i=null,a.label=5;case 5:return s=i,n=function(){return Promise.resolve(s)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:wx.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||wx.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return ee(this,void 0,void 0,function(){var r;return te(this,function(s){switch(s.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=s.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),s.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return ee(this,void 0,void 0,function(){return te(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(ixe);function axe(t,e){return ee(this,void 0,void 0,function(){var n,r,s;return te(this,function(i){switch(i.label){case 0:return n=cxe(e),r=lxe(t),[4,r._isAvailable()];case 1:return i.sent()?[4,r._get(n)]:[2,!1];case 2:return s=i.sent()==="true",[4,r._remove(n)];case 3:return i.sent(),[2,s]}})})}function lxe(t){return Qa(t._redirectPersistence)}function cxe(t){return ag(oxe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uxe=10*60*1e3,dxe=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(s){n.isEventForConsumer(e,s)&&(r=!0,n.sendToConsumer(e,s),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hxe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!eV(e)){var s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(WT(this.auth,s))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=uxe&&this.cachedEventUids.clear(),this.cachedEventUids.has(m6(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(m6(e)),this.lastProcessedEventTime=Date.now()},t}();function m6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function eV(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function hxe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eV(t);default:return!1}}(function(t){an(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return ee(this,void 0,void 0,function(){return te(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(dxe);Jwe("Cordova");const fxe=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{v.useContext(we);const[r,s]=v.useState(""),[i,o]=v.useState(""),a=async()=>{const h=Gr.currentUser;r.trim()&&i.trim()?await l(h):n("Enter both old and new password")},l=async h=>{try{const f=Uwe.credential(h.email,r);await uY(h,f),await mY(h,i),n("Your password is changed successfully"),e(!1)}catch(f){f.code==="auth/invalid-credentail"?n("Your old password is wrong"):n(`Re-authentication failed: ${f.message}`)}},c=()=>{try{a()}catch(h){n(h.message)}},u=async()=>{try{await hY(Gr,Gr.currentUser.email),n("Password rest email was sent to "+Gr.currentUser.email)}catch(h){n(h.message)}};return d.jsxs(ds,{open:t,onClose:()=>e(!1),children:[d.jsxs(Z,{m:2,children:[d.jsxs(Z,{mb:2,children:[d.jsx(De,{variant:"h6",children:"Change your account password"}),d.jsx(De,{variant:"caption",children:"Only change the password if you need to and keep your password"})]}),d.jsxs(Mr,{gap:2,children:[d.jsx(Qn,{type:"password",size:"small",label:"Enter old password",value:r,onChange:h=>s(h.target.value)}),d.jsx(Qn,{type:"password",size:"small",label:"Enter new password",value:i,onChange:h=>o(h.target.value)})]}),d.jsx(Me,{size:"small",onClick:c,variant:"outlined",sx:{mt:1},children:"Change"})]}),d.jsx(Z,{pb:2,pl:2,pr:2,children:d.jsxs(De,{variant:"caption",children:["If you forgot your password,"," ",d.jsxs(Me,{onClick:u,sx:{textDecoration:"underline"},size:"small",children:[" ","click here"]})," ","to reset."]})})]})},pxe=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=v.useContext(we),[r,s]=v.useState(!1),i=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return d.jsx(ds,{open:t,onClose:()=>e(!1),children:d.jsxs(Z,{m:3,children:[d.jsx(De,{variant:"h6",mb:2,children:"Your account password"}),d.jsxs(Mr,{gap:2,children:[d.jsx(De,{children:r?i():"*************"}),d.jsx(Me,{onClick:()=>s(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},mxe=()=>{var V;const{userData:t,setHeaderTitle:e,setSnackbarOpen:n,setSnackbarMessage:r,setUserId:s,mode:i,setMode:o}=v.useContext(we),[a,l]=v.useState((t==null?void 0:t.name)||""),[c,u]=v.useState((t==null?void 0:t.gender)||""),[h,f]=v.useState(null),[p,m]=v.useState(!1),[g,E]=v.useState(!1),y=yt(),[w,_]=v.useState(!0),x=v.useRef(null),b=Ce(Te,"users",ys.get("userId")),C=(t==null?void 0:t.nameChangeCount)||0,T=(V=t==null?void 0:t.lastNameChangeDate)==null?void 0:V.toDate(),I=new Date,S=I.getMonth()===(T==null?void 0:T.getMonth())&&I.getFullYear()===(T==null?void 0:T.getFullYear()),[k,A]=v.useState(!1),[N,O]=v.useState(!1),[D,$]=v.useState(null);v.useEffect(()=>{_Y(Gr,H=>{H&&($(H),_(!1))})},[Gr]);const P=on(),R=H=>{n(!0),r(H)};jy(x,m);const L=()=>(t==null?void 0:t.gender)!==c;v.useEffect(()=>{e("Settings")},[]),v.useEffect(()=>{(async()=>{!S&&(t!=null&&t.name)&&await Lr(b,{nameChangeCount:0,lastNameChangeDate:I})})()},[t]);const j=async(H,ie)=>{if(a.trim())try{await Lr(b,H),R(ie)}catch(K){R(K.message)}},F=()=>{const H=new Date;if(S)if(C<3){const ie={name:a.trim(),nameChangeCount:C+1,lastNameChangeDate:H};j(ie,"Updated name successfully!")}else R("You can only change your name 3 times per month!");else{const ie={name:a.trim(),nameChangeCount:1,lastNameChangeDate:H};j(ie,"Updated name successfully!")}};v.useEffect(()=>{l(t==null?void 0:t.name),u(t==null?void 0:t.gender)},[t]);const q=async()=>{const H=await Fn(h,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),ie=Ga(ac,`profile/${t==null?void 0:t.uid}/${t==null?void 0:t.name}-${h.name}`);try{const K=Ce(Te,"users",t==null?void 0:t.uid);R("Uploading image...");const ne=await J0(ie,H),oe={image:await Z0(ne.ref)};await Lr(K,oe),f(null),R("Updated profile picture successfully!")}catch(K){R(K.message)}},W=async()=>{try{await Lr(b,{gender:c}),R("Updated gender successfully!")}catch(H){R("Error updating gender: "+H.message)}},B=()=>{h&&q(),(a==null?void 0:a.trim())!==(t==null?void 0:t.name)&&F(),L()&&W()},U=async()=>{try{await K8(Gr),ys.remove("userId"),s(null),P("/login")}catch(H){console.log(H.message)}};return d.jsxs(Z,{color:"text.primary",className:"Settings m-2",children:[k&&d.jsx(fxe,{openChangePassword:k,setOpenChangePassword:A,openMessage:R}),N&&d.jsx(pxe,{openViewPassword:N,setOpenViewPassword:O}),d.jsx(la,{data:{value:g,yesButton:U,noButton:()=>{E(!1)},text:"Are you sure to log out ?",setValue:E}}),d.jsx(hs,{}),d.jsxs(Z,{className:"",children:[d.jsx(De,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),d.jsxs(Z,{bgcolor:"background.default",className:`border ${y.palette.mode==="light"?"border-slate-300":"border-slate-700"}  rounded-md shadow-lg`,children:[d.jsxs(Z,{className:"p-2 flex flex-col items-center",children:[d.jsx(gt,{placement:"left",title:"Change profile picture",arrow:!0,children:d.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[t?d.jsx(Ms,{className:"hover:opacity-70 cursor-pointer",name:(t==null?void 0:t.name)||a||"User",image:h?URL.createObjectURL(h):t==null?void 0:t.image,size:"size-full",fontSize:"text-3xl"}):d.jsx(he,{variant:"circular",width:"100%",height:"100%"}),d.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:H=>f(H.target.files[0])})]})}),d.jsxs("div",{ref:x,className:"flex mt-2 gap-x-2 items-center",children:[p?d.jsx(Qn,{size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:a,onChange:H=>l(H.target.value),className:"pl-1 pr-1 w-auto font-bold",placeholder:"Enter your full name"}):d.jsx(d.Fragment,{children:t?d.jsx(De,{className:"font-bold",children:a||(t==null?void 0:t.name)||"Username"}):d.jsx(he,{height:40,width:150})}),t?d.jsx(gt,{title:"Edit name",arrow:!0,children:d.jsx(Qe,{size:"small",onClick:()=>{m(!p)},className:" p-1  cursor-pointer",children:d.jsx(ci,{sx:{width:20,height:20}})})}):d.jsx(he,{variant:"circular",height:20,width:20})]}),t?d.jsx(De,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:(t==null?void 0:t.email)||"example@gmail.com"}):d.jsx(he,{height:30,width:120}),t?d.jsxs(De,{sx:{fontSize:"0.8rem"},children:["User ID: ",(t==null?void 0:t.uid)||"user12345"," ",d.jsx(gt,{title:"Copy user ID",arrow:!0,children:d.jsx(Qe,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),R("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:d.jsx(n_e,{sx:{width:20,height:20}})})})]}):d.jsx(he,{height:30,width:180}),t?d.jsx(Me,{startIcon:d.jsx(wF,{}),onClick:()=>E(!0),sx:{mt:2},variant:"outlined",children:"Log Out"}):d.jsx(he,{width:90,height:55})]}),d.jsx(Z,{className:"p-2 flex justify-center border-t ",children:d.jsxs(Mr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?d.jsx(De,{variant:"subtitle1",children:"Gender"}):d.jsx(he,{height:45,width:70}),t?d.jsx(JP,{label:"Gender",gender:c,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:u}):d.jsx(he,{height:45,width:70})]})}),D&&d.jsx(d.Fragment,{children:d.jsx(Z,{className:"p-2 flex justify-center border-t border-b ",children:d.jsxs(Mr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?d.jsx(De,{variant:"subtitle1",children:"Password"}):d.jsx(he,{height:45,width:70}),t?d.jsx(Mr,{direction:"row",children:d.jsx(Me,{size:"small",sx:{textDecoration:"underline"},onClick:()=>A(!0),variant:"text",children:"Change"})}):d.jsx(he,{height:45,width:70})]})})}),d.jsx(Z,{className:"p-2 flex justify-center border-t ",children:d.jsxs(Mr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?d.jsx(De,{variant:"subtitle1",children:"Theme"}):d.jsx(he,{height:45,width:70}),t?d.jsx(JP,{label:"Theme",gender:i,options:[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],setValue:o}):d.jsx(he,{height:45,width:70})]})}),d.jsx(Z,{className:"grid gap-y-2 p-2",children:d.jsx(Z,{children:(t==null?void 0:t.name)&&d.jsxs(De,{variant:"caption",color:"error",mb:1,children:["You have changed your name ",`${C} of 3`," ",C>1?"times":"time"," this month!"]})})})]})]}),d.jsx(Z,{className:"flex gap-x-2 mt-2",children:L()||h||(a==null?void 0:a.trim())!==(t==null?void 0:t.name)?d.jsx(Me,{variant:"outlined",onClick:B,startIcon:d.jsx("img",{className:"size-7",src:ar("save")}),children:"Update"}):""})]})},g6=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t;return d.jsxs("div",{className:"grid items-center gap-y-2",children:[d.jsx("div",{className:"font-medium",children:e}),d.jsx(Qn,{onChange:n,value:r,size:"small",placeholder:s})]})},gxe=({data:t})=>{const{close:e,testAdding:n}=t,{userId:r}=v.useContext(we),[s,i]=v.useState(""),[o,a]=v.useState(""),l=s.trim(),c=Ue(Te,"tests"),u=async p=>{try{await _l(c,p)}catch(m){console.log(m.message)}},h=()=>{const p={uid:r,isUploaded:!1,name:s,description:o,quizzes:[],gradingRules:[],time:wr()};u(p),e()},f=()=>{l&&h()};return d.jsx(ds,{fullWidth:!0,open:n,onClose:e,children:d.jsxs(Z,{bgcolor:"background.default",className:" p-2",children:[d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(g6,{data:{text:"Name",onChangeFn:p=>i(p.target.value),value:s,placeholder:"Type test name here"}}),d.jsx(g6,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),d.jsxs("div",{className:"flex items-center gap-x-3 justify-center mt-2",children:[d.jsx(Me,{onClick:f,startIcon:d.jsx(Em,{}),children:"Save"}),d.jsx(Me,{onClick:e,startIcon:d.jsx(th,{}),children:"Cancel"})]})]})})},vxe=({data:t})=>{const{options:e,value:n,setValue:r}=t,[s,i]=v.useState(!1),o=v.useRef(null);jy(o,i);const a=()=>{i(!s)},l=c=>{r(c)};return d.jsxs("div",{ref:o,className:"w-full relative font-padauk",children:[d.jsxs("button",{onClick:a,className:"border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2",children:[d.jsx("span",{children:n||"Select correct answer"}),d.jsx("img",{className:"h-6 w-6",src:ar(s?"up":"down")})]}),s&&e.length!==0?d.jsx("div",{className:"absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40",children:e.map(c=>d.jsx("div",{onClick:()=>{a(),l(c)},className:"p-1 cursor-pointer  rounded-lg transition-all",children:c},`choice-${c}`))}):""]})},Ua=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t;return d.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[d.jsx("div",{className:"font-medium ",children:e}),d.jsx(Qn,{size:"small",onChange:i=>n(e,i),value:r,className:" w-full border rounded-md h-10 pl-1 pr-1",placeholder:s})]})},yxe=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i,isAdding:o}=t,[a,l]=v.useState(s?s.question:""),[c,u]=v.useState(s?s.choices[0]:""),[h,f]=v.useState(s?s.choices[1]:""),[p,m]=v.useState(s?s.choices[2]:""),[g,E]=v.useState(s?s.choices[3]:""),[y,w]=v.useState(s?s.answer:"");let _=[];const x=c.trim()&&h.trim()&&p.trim()&&g.trim(),b=a.trim()&&c.trim()&&h.trim()&&p.trim()&&g.trim()&&y.trim();x&&(_=[c,h,p,g]);const C=(N,O)=>{N.toLowerCase()==="question"?l(O.target.value):w(O.target.value)},T=()=>{let N,O;b&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:y},O=[...n,N],r(O),i0(),e())},I=()=>{const N=s.id,O={id:N,question:a,choices:_,answer:y},D=n.map($=>N===$.id?O:$);r(D),e(),i()},S=(N,O)=>{N.toLowerCase()==="choice 1"?u(O.target.value):N.toLowerCase()==="choice 2"?f(O.target.value):N.toLowerCase()==="choice 3"?m(O.target.value):E(O.target.value)},k=()=>{s?I():T()},A=()=>{e(),i()};return d.jsx(ds,{fullWidth:!0,open:o,onClose:A,children:d.jsxs(Z,{bgcolor:"background.default",className:` grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative 
          `,children:[d.jsx("div",{className:"top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center",children:s?s.number:n.length+1}),d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(Ua,{data:{handleFn:C,value:a,choice:"Question",placeholder:"Enter question"}}),d.jsx(Ua,{data:{handleFn:S,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),d.jsx(Ua,{data:{handleFn:S,value:h,choice:"Choice 2",placeholder:"Enter choice 2"}}),d.jsx(Ua,{data:{handleFn:S,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),d.jsx(Ua,{data:{handleFn:S,value:g,choice:"Choice 4",placeholder:"Enter choice 4"}}),d.jsxs("div",{className:"flex items-center gap-x-5",children:[d.jsx("div",{className:"font-medium",children:"Answer"}),d.jsx(vxe,{data:{options:_,value:y,setValue:w}})]})]}),d.jsxs("div",{className:"flex justify-end gap-x-2",children:[d.jsx(gt,{title:"Save",arrow:!0,children:d.jsx(Qe,{onClick:k,children:d.jsx(Em,{})})}),d.jsx(gt,{title:"Cancel",children:d.jsx(Qe,{onClick:A,children:d.jsx($T,{})})})]})]})})},_xe=({data:t})=>{const{testName:e,numbers:n,changePage:r}=t;return d.jsx("div",{className:"text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center",children:d.jsxs("div",{className:"flex items-center gap-x-2",children:[d.jsx(gt,{title:"Navigate up",arrow:!0,children:d.jsx(Qe,{onClick:()=>r("test"),children:d.jsx(uu,{})})}),d.jsxs("div",{children:[e,d.jsxs("span",{className:"text-sm",children:["  "," ",n," ",n>1?"questions":"question"]})]})]})})},wxe=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s}=t;return d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx("div",{className:"pl-1 font-medium ",children:"Questions"}),e.map((i,o)=>d.jsxs("div",{className:"border font-padauk p-2 relative",children:[d.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[d.jsx(gt,{title:"Edit",arrow:!0,children:d.jsx(Qe,{onClick:()=>n(i,o),children:d.jsx(ci,{})})}),d.jsx(gt,{title:"Delete",children:d.jsx(Qe,{onClick:()=>r(i.id),children:d.jsx(du,{})})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[d.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:i.question}),d.jsx(De,{variant:"caption",className:"top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ",children:o+1})]}),d.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:i.choices.map((a,l)=>d.jsxs("div",{className:"flex gap-x-2",children:[d.jsx("div",{className:"w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ",children:l+1}),d.jsx("div",{className:"flex-1",children:a})]},`choice-${o}-${l}`))})]},`question-${o}`)),d.jsx("div",{className:"flex justify-center sticky bottom-5",children:d.jsx(gt,{title:"Add a question",arrow:!0,children:d.jsx(Qe,{onClick:s,children:d.jsx(M_,{})})})})]})},xxe=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{gradingRules:i}=e,[o,a]=v.useState(null),l=p=>{const m=i.filter(E=>E.id!==p),g={...e,gradingRules:m};n(g)},c=p=>{a(p)},u=p=>{s(p),r(!0)},h=()=>{l(o),a(null)},f=()=>{a(null)};return d.jsxs("div",{className:"grid gap-y-3",children:[d.jsx("div",{className:"pl-1 font-medium",children:"Grading Rules"}),d.jsx(la,{data:{value:o,setValue:a,yesButton:h,noButton:f,text:"Are you sure to delete?"}}),i.map((p,m)=>d.jsxs("div",{className:"flex font-padauk items-center justify-between border  p-2 ",children:[d.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[d.jsx(xx,{data:{text:"From",value:p.from}}),d.jsx(xx,{data:{text:"To",value:p.to}}),d.jsx(xx,{data:{text:"Level",value:p.level}})]}),d.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[d.jsx(gt,{title:"Edit",arrow:!0,children:d.jsx(Qe,{onClick:()=>u(p),children:d.jsx(ci,{})})}),d.jsx(gt,{title:"Delete",arrow:!0,children:d.jsx(Qe,{onClick:()=>c(p.id),children:d.jsx(du,{})})})]})]},`rule-${m}-${p.from}-${p.to}-${p.level}`)),d.jsx("div",{className:"flex justify-center sticky bottom-5",children:d.jsx(gt,{title:"Add a rule",arrow:!0,children:d.jsx(Qe,{onClick:()=>r(!0),children:d.jsx(M_,{})})})})]})},xx=({data:t})=>{const{text:e,value:n}=t;return d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"font-medium",children:e}),d.jsx("div",{className:"font-medium max-h-10",children:typeof n=="string"?Ml(n,15):n})]})},Exe=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,isRulesAdding:i,setIsRulesAdding:o}=t,{gradingRules:a}=e,[l,c]=v.useState(r?r.from:null),[u,h]=v.useState(r?r.to:null),[f,p]=v.useState(r?r.level:""),m=l&&u&&f.trim(),g=()=>{const x={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:f},b={...e,gradingRules:[...a,x]};n(b)},E=()=>{const x=r.id,b={id:x,from:Number(l),to:Number(u),level:f},C=a.map(I=>x===I.id?b:I),T={...e,gradingRules:C};n(T)},y=()=>{o(!1),s(null)},w=()=>{m&&(r?E():g(),y())},_=(x,b)=>{const C=b.target.value;x.toLowerCase()==="from"?c(C):x.toLowerCase()==="to"?h(C):p(C)};return d.jsx(ds,{fullWidth:!0,open:i,onClose:()=>o(!1),children:d.jsx(Z,{bgcolor:"background.default",children:d.jsxs("div",{className:"grid gap-y-2 p-3  rounded-lg relative",children:[d.jsx(Ua,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),d.jsx(Ua,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),d.jsx(Ua,{data:{handleFn:_,value:f,choice:"Level",placeholder:"Enter level"}}),d.jsxs("div",{className:"flex justify-end gap-x-2",children:[d.jsx(gt,{title:"Save",arrow:!0,children:d.jsx(Qe,{onClick:w,children:d.jsx(Em,{})})}),d.jsx(gt,{title:"Cancel",arrow:!0,children:d.jsx(Qe,{onClick:y,children:d.jsx($T,{})})})]})]})})})},v6=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{description:s,name:i}=e,[o,a]=v.useState(r==="Description"?s:i),[l,c]=v.useState(!1),u=m=>{a(m.target.value)},h=()=>{if(r==="Description"){const m={...e,description:o};n(m)}else{const m={...e,name:o};n(m)}},f=()=>{h(),c(!1)},p=()=>{c(!1),a(r==="Description"?s:i)};return d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx("div",{className:"font-medium ",children:r}),l?d.jsx(Qn,{multiline:!0,autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:u,className:"p-1 border border-gray-200 outline-none",value:o}):d.jsx("div",{className:"text-gray-500 p-1 ",children:o||"No description"}),l?d.jsxs("div",{className:"flex gap-x-2",children:[d.jsx(gt,{title:"Save",arrow:!0,children:d.jsx(Qe,{onClick:f,children:d.jsx(Em,{})})}),d.jsx(gt,{title:"Cancel",children:d.jsx(Qe,{onClick:p,children:d.jsx($T,{})})})]}):d.jsx(Z,{children:d.jsx(gt,{title:"Edit",children:d.jsx(Qe,{onClick:()=>c(!0),children:d.jsx(ci,{})})})})]})},Cxe=({data:t})=>{v.useContext(we);const{setPage:e,currentTest:n,setCurrentTest:r}=t,[s,i]=v.useState(!1),[o,a]=v.useState(!1),[l,c]=v.useState(n.quizzes),[u,h]=v.useState(null),[f,p]=v.useState(null),m=async(A,N)=>{try{const O=Ce(Te,"tests",A);await Lr(O,N)}catch(O){console.log(O.message)}};v.useEffect(()=>{g()},[n,l]);const g=()=>{m(n.id,{...n,quizzes:l})},E=()=>{i(!0)},y=()=>{i(!1),p(null)},w=A=>{p(A)},_=()=>{C(f),p(null)},x=()=>{p(null)},b=A=>{e(A)},C=A=>{const N=l.filter(O=>O.id!==A);c(N)},T=(A,N)=>{const O={...A,number:N+1};h(O),E()},I=()=>{h(null)},S={testName:n.name,numbers:l.length,changePage:b},k={quizzes:l,editQuestion:T,askToDelete:w,add:E};return d.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[d.jsx(_xe,{data:S}),d.jsx(Zu,{}),d.jsx(v6,{data:{title:"Test Name",currentTest:n,setCurrentTest:r}}),d.jsx(v6,{data:{title:"Description",currentTest:n,setCurrentTest:r}}),d.jsx(Zu,{}),d.jsx(xxe,{data:{currentTest:n,setEditData:h,setCurrentTest:r,setIsRulesAdding:a}}),d.jsx(Zu,{}),d.jsx(wxe,{data:k}),s&&d.jsx(yxe,{data:{cancel:y,setQuizzes:c,quizzes:l,editData:u,clearEditData:I,isAdding:s}}),o&&d.jsx(Exe,{data:{currentTest:n,setCurrentTest:r,editData:u,setEditData:h,isRulesAdding:o,setIsRulesAdding:a}}),d.jsx(la,{data:{value:f,setValue:p,yesButton:_,noButton:x,text:"Are you sure to delete ?"}}),d.jsx(Zu,{})]})},QT=({text:t,length:e})=>{const n=on();return d.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[d.jsx(gt,{title:"Navigate up",arrow:!0,children:d.jsx(Qe,{onClick:()=>n("/app/admin"),children:d.jsx(uu,{})})}),d.jsxs("p",{children:[t," (",e,")"]})]})},tV=({options:t,handleClick:e,message:n,chatId:r,isComment:s,messageOption:i,setMessageOption:o,isOpened:a})=>{const{userId:l}=v.useContext(we),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async f=>{const p=Ce(Ue(Ce(Ue(Ce(Te,"chats",r),"messages"),n.id),"reactedBy"),l);await Uc(p,{uid:l,reactionType:f})},h=()=>s?a:!!i;return d.jsx(ds,{fullWidth:!0,open:h,onClose:e,children:d.jsxs("div",{className:"m-2 ",children:[s?d.jsx(De,{variant:"h6",children:"More Options"}):d.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(f=>d.jsx(gt,{placement:"top",arrow:!0,title:f.name.toUpperCase(),children:d.jsx(Qe,{onClick:()=>{e(),u(f.name)},children:d.jsx("img",{className:"w-6",src:ar(f.image)})},f.name)}))}),d.jsx("div",{className:"grid gap-y-1 mt-2",children:t.map(f=>{if(f)return d.jsx(Me,{sx:{justifyContent:"start"},startIcon:f.icon,className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{f.onClick(),e()},children:d.jsx("p",{children:f.text})},f.text)})})]})})},pu=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:s})=>{const[i,o]=v.useState(!1),a=v.useRef(null);return jy(a,o),d.jsxs(d.Fragment,{children:[d.jsx(gt,{title:"More options",arrow:!0,children:d.jsx(Qe,{onClick:()=>o(!0),children:d.jsx(xF,{})})}),i&&d.jsx(tV,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:s,isOpened:i})]})},bxe=()=>{const[t,e]=v.useState("test"),{tests:n,setTests:r,setHeaderTitle:s}=v.useContext(we),[i,o]=v.useState({}),[a,l]=v.useState(!1),[c,u]=v.useState(!1),[h,f]=v.useState(null),p=Ue(Te,"tests"),[m,g]=v.useState(!0),[E,y]=v.useState(!1),[w,_]=v.useState(null),x=yt(),{mode:b}=x.palette;cu(p,[],r,g,y,!1,_),v.useEffect(()=>{s("Admin - Tests")},[t]),v.useEffect(()=>(Ks(),Ks()),[]);const C=$=>{o($),e("editTest")},T=$=>{f($),u(!0)},I=async $=>{const P=Ce(Te,"tests",$.id);await Lr(P,{isUploaded:!$.isUploaded})},S=()=>{O(h),f(null),u(!1)},k=()=>{u(!1)},A=()=>{l(!0)},N=()=>{l(!1)},O=async $=>{try{const P=Ce(Te,"tests",$);await ta(P)}catch(P){console.log(P.message)}},D=()=>{switch(t){case"test":return d.jsxs("div",{className:"p-5 grid gap-y-2",children:[d.jsx("div",{className:"flex justify-between",children:d.jsx(QT,{text:"Tests",length:n.length})}),a&&d.jsx(gxe,{data:{close:N,testAdding:a}}),d.jsx(la,{data:{value:c,setValue:u,yesButton:S,noButton:k,text:"Are you sure to delete ?"}}),d.jsx("div",{className:"grid border overflow-hidden border-slate-200 shadow-md rounded-md overflow-hidden",children:n.map(($,P)=>d.jsxs("div",{className:` ${b==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} cursor-pointer h ${P===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px]`,children:[d.jsxs("div",{onClick:()=>{C($)},className:"flex flex-1 gap-x-2 items-center",children:[d.jsx("input",{checked:$.isUploaded,onChange:()=>I($),className:"size-6",type:"checkbox"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:$.name}),d.jsxs("div",{className:"text-sm",children:[$.quizzes.length,$.quizzes.length>1?" questions":" question",$.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),d.jsx("div",{className:"flex gap-x-2",children:d.jsx(pu,{isComment:!0,options:[{text:"Delete",icon:d.jsx(du,{}),onClick:()=>T($.id)}]})})]},` tests-${$.id}`))}),d.jsx("div",{children:d.jsx(Me,{variant:"outlined",startIcon:d.jsx(VT,{}),onClick:A,children:"New test"})})]});case"editTest":return d.jsx(Cxe,{data:{setPage:e,currentTest:i,setCurrentTest:o}})}};return m?d.jsx(hs,{text:"Loading tests..."}):E?d.jsx(Dt,{text:"No test available"}):w?d.jsx(Dt,{text:w}):D()};function ui(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}const Ixe=["January","February","March","April","May","June","July","August","September","October","November","December"],Txe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Y1(t){const e=new Date().getTime(),n=new Date,r=e-t,s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),h=new Date(t),f=h.getFullYear(),p=h.getMonth(),m=h.getDate(),g=Txe[h.getDay()],y=!(n.getDay()===h.getDay()&&n.getMonth()===h.getMonth()&&n.getFullYear()===h.getFullYear())&&h.getDay()===n.getDay()-1,w=Ixe[p],_=`${w} ${m}, ${f}`,x=h.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${x}  ${_}`;if(c>0)return`${x}  ${w} ${m}`;if(l>0)return`${g}, ${x}  ${w} ${m}`;if(a>0)return`${y?"Yesterday":g}, ${x}`;if(o>0)return`${y?"Yesterday, ":""}${x}`;if(i>0)return x;if(s>0)return x}function cs(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Sxe=({password:t})=>{const[e,n]=v.useState(!1);return d.jsxs("div",{children:["Password: ",e?t:"*********"," ",d.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},kxe=()=>{const{users:t,setHeaderTitle:e,userId:n,setUsers:r,setUserId:s}=v.useContext(we),i=Ue(Te,"users"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,h]=v.useState(null);v.useEffect(()=>(Ks(),Ks()),[]),v.useEffect(()=>{e("Admin - Users")},[]);const f=on(),p=g=>{s(g.uid),f("/app")},m=async g=>{const E=Ce(Te,"users",g.uid);await Lr(E,{isAdmin:!g.isAdmin})};return cu(i,[],r,a,c,!0,h),o?d.jsx(hs,{isLoading:o,text:"Loading users..."}):l?d.jsx(Dt,{text:"No users available"}):u?d.jsx(Dt,{text:u}):d.jsxs("div",{className:"mt-2 p-5",children:[d.jsx(QT,{text:"Users",length:t==null?void 0:t.length}),d.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:t.sort((g,E)=>ui(g,E,"createdAt","older")).map((g,E)=>d.jsxs("div",{className:`  ${E===0&&"border-t-0"} border-t p-2  }`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[d.jsx(Ms,{image:g.image,name:g.name}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"font-medium",children:[g.name," ",d.jsxs("span",{className:`${g!=null&&g.isAdmin?"text-blue-500":"text-white"}`,children:["(",g!=null&&g.isAdmin?"admin":"user",")"," ",n===g.uid?"(You)":""]})]}),d.jsx("div",{className:"text-md ",children:g.email}),d.jsxs("div",{className:"text-md",children:["Created: ",Y1(cs(g.createdAt))]}),d.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",g.uid]}),d.jsx(Sxe,{password:g.password})]})]}),n!==g.uid&&d.jsx(Qe,{onClick:()=>p(g),children:d.jsx(UT,{})})]}),n!==g.uid&&d.jsx(Me,{onClick:()=>m(g),size:"small",startIcon:d.jsx(Yye,{}),children:g.isAdmin?"Remove from admin":"Set as admin"})]},g.uid))})]})},Rxe=["January","February","March","April","May","June","July","August","September","October","November","December"];function mu(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),h=u.getFullYear(),f=u.getMonth(),p=u.getDate(),m=`${Rxe[f]} ${p}, ${h}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(i>0)return`${i} ${i===1?"hour":"hours"} ago`;if(s>0)return`${s} ${s===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const Axe=({message:t,bgColor:e="bg-slate-200"})=>d.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:d.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),Pxe=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:s}=t,[i,o]=v.useState(""),[a,l]=v.useState(""),c=i.trim()&&a.trim(),u=()=>{if(c){const h={id:e.length===0?1:e[e.length-1].id+1,title:i.trim(),link:a.trim()},f=[...e,h];n(f),r(!1)}};return d.jsx(ds,{open:s,onClose:()=>r(!1),children:d.jsxs(Z,{m:4,children:[d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(Qn,{size:"small",value:i,onChange:h=>o(h.target.value),placeholder:"Enter title..."}),d.jsx(Qn,{size:"small",value:a,onChange:h=>l(h.target.value),placeholder:"Enter link..."})]}),d.jsx("div",{className:"mt-2",children:d.jsx(Me,{variant:"outlined",startIcon:d.jsx(c_e,{}),onClick:u,children:"Add Link"})})]})})},Nxe=()=>{const{users:t,posts:e,setPosts:n,setHeaderTitle:r,userId:s}=v.useContext(we),i=yt(),{mode:o}=i.palette,a=Ue(Te,"posts"),[l,c]=v.useState(!0),[u,h]=v.useState(!1),[f,p]=v.useState(null),[m,g]=v.useState("posts"),[E,y]=v.useState(null),[w,_]=v.useState(!1);v.useEffect(()=>{r("Admin - Posts")},[]),cu(a,[],n,c,h,!1,p);const x=async()=>{const C=Ce(Te,"posts",w);await ta(C)};if(l)return d.jsx(hs,{text:"Loading posts..."});if(u)return d.jsx(Dt,{text:"No posts available"});if(f)return d.jsx(Dt,{text:f});const b=()=>{switch(m){case"posts":return d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(la,{data:{yesButton:x,noButton:()=>_(!1),text:"Are you sure to delete this post?",setValue:_,value:w}}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx(QT,{text:"Posts",length:e.length}),d.jsx(Me,{size:"small",sx:{textDecoration:"underline"},onClick:()=>g("createPost"),children:"Create a post"})]}),d.jsx("div",{className:"grid border overflow-hidden shadow-md rounded-md border-slate-200 mb-2",children:e.sort((C,T)=>ui(C,T,"time","newer")).map((C,T)=>{var I,S,k;return t.forEach(A=>{A.uid,C.uid}),d.jsxs(Z,{className:`${T===0&&"border-t-0"} overflow-hidden ${o==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} cursor-pointer p-2 border-t   min-h-20 flex items-center`,children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(Dxe,{post:C}),d.jsx("p",{className:"mb-2 break-words whitespace-normal",children:Ml(C.description,25)}),d.jsxs("div",{className:"flex items-center gap-x-1",children:[C.images.length!==0&&d.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[d.jsx(gx,{name:"image"}),d.jsxs("span",{children:[C.images.length," ",C.images.length<=1?"image":"images"]})]}),C.files.length!==0&&d.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[d.jsx(gx,{name:"file"}),d.jsxs("span",{children:[C.files.length," ",C.files.length<=1?"file":"files"]})]}),C.links&&((I=C==null?void 0:C.links)==null?void 0:I.length)!==0&&d.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[d.jsx(gx,{name:"link"}),d.jsxs("span",{children:[(S=C==null?void 0:C.links)==null?void 0:S.length," ",((k=C==null?void 0:C.links)==null?void 0:k.length)<=1?"link":"links"]})]}),C.draft&&d.jsx("div",{className:"p-1 min-h-9 flex items-center gap-x-1 rounded-md",children:d.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),d.jsx("div",{className:"flex items-center gap-x-1",children:d.jsx(pu,{isComment:!0,options:[{text:"Edit",icon:d.jsx(ci,{}),onClick:()=>{y(C),g("createPost")}},{text:"Delete",icon:d.jsx(du,{}),onClick:()=>_(C.id)}]})})]},`post-${C.id}`)})})]});case"createPost":return d.jsx(Lxe,{setPage:g,postData:E,setPostData:y})}};return d.jsx("div",{className:"m-5",children:b()})},Dxe=({post:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState(!0);return $n(t.uid,e,r,i,[],1200),d.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[s?d.jsx(he,{variant:"circular",width:40,height:40}):d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:n==null?void 0:n.image}),d.jsxs("div",{children:[s?d.jsx(he,{height:40,width:120}):d.jsx("div",{className:"font-medium",children:n==null?void 0:n.name}),d.jsx("div",{className:" text-sm",children:mu(cs(t.time))})]})]})},Lxe=({setPage:t,postData:e,setPostData:n})=>{const{openSnackbar:r}=v.useContext(we),[s,i]=v.useState(e?e.images:[]),[o,a]=v.useState(null),[l,c]=v.useState(e?e.description:""),[u,h]=v.useState(e?e==null?void 0:e.files:[]),[f,p]=v.useState(e?(e==null?void 0:e.links)||[]:[]),[m,g]=v.useState(!1),E=l.trim()||s.length!==0||u.length!==0||f.length!==0,y=async(k=!1)=>{try{const A=Ue(Te,"posts");await _l(A,{uid:userId,time:wr(),editedTime:wr(),description:l,images:s,files:u,links:f,draft:k}),t("posts")}catch(A){console.log(A.message)}},w=async()=>{try{const k=Ce(Te,"posts",e.id);await Lr(k,{editedTime:wr(),description:l,images:s,files:u,links:f,draft:!1}),t("posts")}catch(k){console.log(k.message)}},_=async()=>{try{if(e){const k=Ce(Te,"posts",e.id);await Lr(k,{editedTime:wr(),description:l,images:s,files:u,links:f,draft:!0})}else y(!0);t("posts")}catch(k){console.log(k.message)}},x=async k=>{try{const A=await Fn(k,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${userId}/${k.name}`,O=Ga(ac,N);a("Uploading image...");const D=await J0(O,A),$=await Z0(D.ref),P=[...s,{name:k.name,path:N,imageURL:$}];i(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(A){a(A.message),setTimeout(()=>{a(null)},3e3)}},b=async k=>{try{const A=`posts/${userId}/${k.name}`,N=Ga(ac,A);a("Uploading file...");const O=await J0(N,k),D=await Z0(O.ref),$=[...u,{name:k.name,path:A,fileURL:D,size:k.size}];h($),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(A){a(A.message),setTimeout(()=>{a(null)},3e3)}},C=async(k,A)=>{const N=s.filter(D=>A!==D.imageURL);i(N);const O=Ga(ac,k);await _E(O)},T=async(k,A)=>{const N=u.filter(D=>A!==D.fileURL);h(N);const O=Ga(ac,k);await _E(O)},I=k=>{const A=f.filter(N=>k!==N.id);p(A)},S=k=>{document.getElementById(k).click()};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&d.jsx(Axe,{message:o}),d.jsxs("div",{className:"flex gap-x-1 items-center",children:[d.jsx(Qe,{onClick:()=>{t("posts"),n(null)},children:d.jsx(uu,{})}),d.jsx("div",{children:e?"Edit post":"Create a post"})]}),d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx(Me,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{E&&_()},startIcon:d.jsx(i_e,{}),children:"Draft"}),d.jsx(Me,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{E?(e?w():y(),n(null)):r("Create a post first")},startIcon:d.jsx(w_e,{}),children:e?"Save":"Publish"})]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx(Qn,{multiline:!0,fullWidth:!0,maxRows:20,value:l,onChange:k=>c(k.target.value),className:"p-2 resize-none border",placeholder:"Write description here"}),d.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:k=>x(k.target.files[0])}),d.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:k=>b(k.target.files[0])}),d.jsxs("div",{className:"flex justify-start gap-x-2 mt-2",children:[d.jsx(Me,{size:"small",onClick:()=>S("imagesInput"),variant:"outlined",startIcon:d.jsx(gF,{}),children:"Image"}),d.jsx(Me,{size:"small",onClick:()=>S("filesInput"),variant:"outlined",startIcon:d.jsx(a_e,{}),children:"File"}),d.jsx(Me,{onClick:()=>{g(!0)},variant:"outlined",startIcon:d.jsx(Oh,{}),children:"Link"}),d.jsx(Pxe,{data:{links:f,setLinks:p,setIsLinkAdding:g,isLinkAdding:m}})]})]}),s.length!==0&&d.jsx("div",{className:"grid gap-y-2",children:s.map(k=>d.jsxs("div",{className:"relative min-h-20",children:[d.jsx("img",{alt:k.name,className:"size-full",src:k.imageURL}),d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx(xw,{data:{clickFn:()=>C(k.path,k.imageURL),image:"falseIcon"}})})]},k.imageURL))}),u.length!==0&&d.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(k=>d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500",children:[d.jsx("img",{className:"w-7 ",src:ar("download")}),d.jsxs("div",{children:[d.jsx("p",{className:"underline text-blue-600",children:k.name}),(k==null?void 0:k.size)&&d.jsxs("p",{children:[(k.size/(1024*1024)).toFixed(2)," MB"]})]})]}),d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx(xw,{data:{clickFn:()=>T(k.path,k.fileURL),image:"falseIcon"}})})]},k.fileURL))}),f.length!==0&&d.jsx("div",{className:"grid gap-y-1 mt-2",children:f.map(k=>d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ",children:[d.jsx("img",{className:"w-7 ",src:ar("link")}),d.jsx("div",{children:d.jsx("p",{className:"underline text-blue-600",children:k.title})})]}),d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx(xw,{data:{image:"falseIcon",clickFn:()=>I(k.id)}})})]},k.link))})]})},Mxe=()=>d.jsxs("div",{className:"flex gap-x-2 rounded-md p-2 items-center",children:[d.jsx("div",{children:d.jsx(he,{variant:"circular",width:40,height:40})}),d.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[d.jsx(he,{variant:"text",width:200}),d.jsx(he,{variant:"rectangular",height:55,width:"90%"})]})]}),Oxe=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=v.useContext(we),r=5,[s,i]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(!0),[u,h]=v.useState(!1),[f,p]=v.useState(null),m=yt(),{mode:g}=m.palette,E=async()=>{c(!0);const y=Ue(Te,"notifications");let w=Tr(y,Bd("timestamp","desc"),ea(r));o&&(w=Tr(w,ly(o)));try{const _=await ma(w);if(Go(y,n),_.empty)h(!0);else{const x=_.docs.map(b=>({id:b.id,...b.data()}));i([...s,...x]),a(_.docs[_.docs.length-1]),Bn(c)}}catch(_){const x="Error fetching notifications: "+_.message;console.log(x),c(!1),p(x)}};return v.useEffect(()=>{E()},[]),v.useEffect(()=>{t("Notifications")},[]),l?d.jsx(hs,{isLoading:l,text:"Loading notifications..."}):u?d.jsx(Dt,{text:"No notifications available"}):f?d.jsx(Dt,{text:f}):d.jsxs(Z,{className:"m-2",children:[d.jsxs(Z,{className:`border overflow-hidden shadow-md rounded-md ${g==="dark"?"border-slate-700":"border-slate-200"}`,children:[s.map((y,w)=>d.jsx(jxe,{mode:g,length:s.length,notification:y,index:w},y.id)),l&&d.jsx(Z,{className:"flex justify-center",children:d.jsxs(Z,{children:[d.jsx("div",{className:"mb-2",children:"Loading..."}),d.jsx(Q$,{})]})})]}),e>r&&e>s.length?d.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:d.jsx(Me,{size:"small",onClick:E,children:"load more"})}):""]})},jxe=({notification:t,index:e,length:n,mode:r})=>{let s;const{type:i,description:o,timestamp:a,testName:l,comment:c}=t,u=`${i[0]} ${i[1]}`,{users:h}=v.useContext(we),[f,p]=v.useState(null),[m,g]=v.useState(!0);switch($n(t.uid,h,p,g),u){case"like post":s="liked a post";break;case"like test":s="liked a test";break;case"comment post":s="commented on a post";break;case"comment test":s="commented on a test";break;case"added post":s="added a post";break;case"added test":s="added a test";break;case"took test":s="took a test";break}return m?d.jsx(Mxe,{}):d.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"} ${r==="dark"?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{children:d.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:f==null?void 0:f.image})}),d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("b",{children:f?f==null?void 0:f.name:"Unknown User"})," ",s]}),o&&d.jsx("p",{children:Ml(o,30)}),l&&d.jsx("p",{children:l}),c&&d.jsx("p",{children:c}),d.jsx("p",{children:mu(cs(a))})]})]})},$xe=({isCreating:t,setIsCreating:e})=>{const[n,r]=v.useState(""),{userId:s}=v.useContext(we),i=async()=>{if(!n.trim())return;const o=Ue(Te,"chats"),a=await _l(o,{name:n,image:null,lastMessage:{}}),l=Ue(Ce(o,a.id),"members");await _l(l,{uid:s,joinedAt:wr()})};return d.jsx(ds,{open:t,onClose:()=>e(!1),children:d.jsxs(Z,{className:"m-5 ",children:[d.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),d.jsxs(Mr,{direction:"row",gap:1,children:[d.jsx(Qn,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),d.jsx(Me,{onClick:()=>{n.trim()&&(i(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var Kt="-ms-",h0="-moz-",Nt="-webkit-",nV="comm",j_="rule",XT="decl",Fxe="@import",rV="@keyframes",Vxe="@layer",sV=Math.abs,JT=String.fromCharCode,aC=Object.assign;function Uxe(t,e){return Yn(t,0)^45?(((e<<2^Yn(t,0))<<2^Yn(t,1))<<2^Yn(t,2))<<2^Yn(t,3):0}function iV(t){return t.trim()}function So(t,e){return(t=e.exec(t))?t[0]:t}function Ze(t,e,n){return t.replace(e,n)}function lg(t,e,n){return t.indexOf(e,n)}function Yn(t,e){return t.charCodeAt(e)|0}function sh(t,e,n){return t.slice(e,n)}function zi(t){return t.length}function oV(t){return t.length}function jf(t,e){return e.push(t),t}function zxe(t,e){return t.map(e).join("")}function y6(t,e){return t.filter(function(n){return!So(n,e)})}var $_=1,ih=1,aV=0,ri=0,Mn=0,jh="";function F_(t,e,n,r,s,i,o,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:$_,column:ih,length:o,return:"",siblings:a}}function Aa(t,e){return aC(F_("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Pu(t){for(;t.root;)t=Aa(t.root,{children:[t]});jf(t,t.siblings)}function Bxe(){return Mn}function Wxe(){return Mn=ri>0?Yn(jh,--ri):0,ih--,Mn===10&&(ih=1,$_--),Mn}function Si(){return Mn=ri<aV?Yn(jh,ri++):0,ih++,Mn===10&&(ih=1,$_++),Mn}function Ec(){return Yn(jh,ri)}function cg(){return ri}function V_(t,e){return sh(jh,t,e)}function lC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Hxe(t){return $_=ih=1,aV=zi(jh=t),ri=0,[]}function Gxe(t){return jh="",t}function Ex(t){return iV(V_(ri-1,cC(t===91?t+2:t===40?t+1:t)))}function qxe(t){for(;(Mn=Ec())&&Mn<33;)Si();return lC(t)>2||lC(Mn)>3?"":" "}function Yxe(t,e){for(;--e&&Si()&&!(Mn<48||Mn>102||Mn>57&&Mn<65||Mn>70&&Mn<97););return V_(t,cg()+(e<6&&Ec()==32&&Si()==32))}function cC(t){for(;Si();)switch(Mn){case t:return ri;case 34:case 39:t!==34&&t!==39&&cC(Mn);break;case 40:t===41&&cC(t);break;case 92:Si();break}return ri}function Kxe(t,e){for(;Si()&&t+Mn!==57;)if(t+Mn===84&&Ec()===47)break;return"/*"+V_(e,ri-1)+"*"+JT(t===47?t:Si())}function Qxe(t){for(;!lC(Ec());)Si();return V_(t,ri)}function Xxe(t){return Gxe(ug("",null,null,null,[""],t=Hxe(t),0,[0],t))}function ug(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,g=1,E=1,y=1,w=0,_="",x=s,b=i,C=r,T=_;E;)switch(m=w,w=Si()){case 40:if(m!=108&&Yn(T,h-1)==58){lg(T+=Ze(Ex(w),"&","&\f"),"&\f",sV(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Ex(w);break;case 9:case 10:case 13:case 32:T+=qxe(m);break;case 92:T+=Yxe(cg()-1,7);continue;case 47:switch(Ec()){case 42:case 47:jf(Jxe(Kxe(Si(),cg()),e,n,l),l);break;default:T+="/"}break;case 123*g:a[c++]=zi(T)*y;case 125*g:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:y==-1&&(T=Ze(T,/\f/g,"")),p>0&&zi(T)-h&&jf(p>32?w6(T+";",r,n,h-1,l):w6(Ze(T," ","")+";",r,n,h-2,l),l);break;case 59:T+=";";default:if(jf(C=_6(T,e,n,c,u,s,a,_,x=[],b=[],h,i),i),w===123)if(u===0)ug(T,e,C,C,x,i,h,a,b);else switch(f===99&&Yn(T,3)===110?100:f){case 100:case 108:case 109:case 115:ug(t,C,C,r&&jf(_6(t,C,C,0,0,s,a,_,s,x=[],h,b),b),s,b,h,a,r?x:b);break;default:ug(T,C,C,C,[""],b,0,a,b)}}c=u=p=0,g=y=1,_=T="",h=o;break;case 58:h=1+zi(T),p=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&Wxe()==125)continue}switch(T+=JT(w),w*g){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(zi(T)-1)*y,y=1;break;case 64:Ec()===45&&(T+=Ex(Si())),f=Ec(),u=h=zi(_=T+=Qxe(cg())),w++;break;case 45:m===45&&zi(T)==2&&(g=0)}}return i}function _6(t,e,n,r,s,i,o,a,l,c,u,h){for(var f=s-1,p=s===0?i:[""],m=oV(p),g=0,E=0,y=0;g<r;++g)for(var w=0,_=sh(t,f+1,f=sV(E=o[g])),x=t;w<m;++w)(x=iV(E>0?p[w]+" "+_:Ze(_,/&\f/g,p[w])))&&(l[y++]=x);return F_(t,e,n,s===0?j_:a,l,c,u,h)}function Jxe(t,e,n,r){return F_(t,e,n,nV,JT(Bxe()),sh(t,2,-2),0,r)}function w6(t,e,n,r,s){return F_(t,e,n,XT,sh(t,0,r),sh(t,r+1,-1),r,s)}function lV(t,e,n){switch(Uxe(t,e)){case 5103:return Nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+t+t;case 4789:return h0+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+t+h0+t+Kt+t+t;case 5936:switch(Yn(t,e+11)){case 114:return Nt+t+Kt+Ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Nt+t+Kt+Ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Nt+t+Kt+Ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Nt+t+Kt+t+t;case 6165:return Nt+t+Kt+"flex-"+t+t;case 5187:return Nt+t+Ze(t,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+Kt+"flex-$1$2")+t;case 5443:return Nt+t+Kt+"flex-item-"+Ze(t,/flex-|-self/g,"")+(So(t,/flex-|baseline/)?"":Kt+"grid-row-"+Ze(t,/flex-|-self/g,""))+t;case 4675:return Nt+t+Kt+"flex-line-pack"+Ze(t,/align-content|flex-|-self/g,"")+t;case 5548:return Nt+t+Kt+Ze(t,"shrink","negative")+t;case 5292:return Nt+t+Kt+Ze(t,"basis","preferred-size")+t;case 6060:return Nt+"box-"+Ze(t,"-grow","")+Nt+t+Kt+Ze(t,"grow","positive")+t;case 4554:return Nt+Ze(t,/([^-])(transform)/g,"$1"+Nt+"$2")+t;case 6187:return Ze(Ze(Ze(t,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),t,"")+t;case 5495:case 3959:return Ze(t,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Ze(Ze(t,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+Kt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+t+t;case 4200:if(!So(t,/flex-|baseline/))return Kt+"grid-column-align"+sh(t,e)+t;break;case 2592:case 3360:return Kt+Ze(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,So(r.props,/grid-\w+-end/)})?~lg(t+(n=n[e].value),"span",0)?t:Kt+Ze(t,"-start","")+t+Kt+"grid-row-span:"+(~lg(n,"span",0)?So(n,/\d+/):+So(n,/\d+/)-+So(t,/\d+/))+";":Kt+Ze(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return So(r.props,/grid-\w+-start/)})?t:Kt+Ze(Ze(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ze(t,/(.+)-inline(.+)/,Nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zi(t)-1-e>6)switch(Yn(t,e+1)){case 109:if(Yn(t,e+4)!==45)break;case 102:return Ze(t,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+h0+(Yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lg(t,"stretch",0)?lV(Ze(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ze(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,a,l,c){return Kt+s+":"+i+c+(o?Kt+s+"-span:"+(a?l:+l-+i)+c:"")+t});case 4949:if(Yn(t,e+6)===121)return Ze(t,":",":"+Nt)+t;break;case 6444:switch(Yn(t,Yn(t,14)===45?18:11)){case 120:return Ze(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Nt+(Yn(t,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+Kt+"$2box$3")+t;case 100:return Ze(t,":",":"+Kt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ze(t,"scroll-","scroll-snap-")+t}return t}function K1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Zxe(t,e,n,r){switch(t.type){case Vxe:if(t.children.length)break;case Fxe:case XT:return t.return=t.return||t.value;case nV:return"";case rV:return t.return=t.value+"{"+K1(t.children,r)+"}";case j_:if(!zi(t.value=t.props.join(",")))return""}return zi(n=K1(t.children,r))?t.return=t.value+"{"+n+"}":""}function e3e(t){var e=oV(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function t3e(t){return function(e){e.root||(e=e.return)&&t(e)}}function n3e(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case XT:t.return=lV(t.value,t.length,n);return;case rV:return K1([Aa(t,{value:Ze(t.value,"@","@"+Nt)})],r);case j_:if(t.length)return zxe(n=t.props,function(s){switch(So(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Pu(Aa(t,{props:[Ze(s,/:(read-\w+)/,":"+h0+"$1")]})),Pu(Aa(t,{props:[s]})),aC(t,{props:y6(n,r)});break;case"::placeholder":Pu(Aa(t,{props:[Ze(s,/:(plac\w+)/,":"+Nt+"input-$1")]})),Pu(Aa(t,{props:[Ze(s,/:(plac\w+)/,":"+h0+"$1")]})),Pu(Aa(t,{props:[Ze(s,/:(plac\w+)/,Kt+"input-$1")]})),Pu(Aa(t,{props:[s]})),aC(t,{props:y6(n,r)});break}return""})}}var r3e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ps={},oh=typeof process<"u"&&ps!==void 0&&(ps.REACT_APP_SC_ATTR||ps.SC_ATTR)||"data-styled",cV="active",uV="data-styled-version",U_="6.1.11",ZT=`/*!sc*/
`,eS=typeof window<"u"&&"HTMLElement"in window,s3e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ps!==void 0&&ps.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ps.REACT_APP_SC_DISABLE_SPEEDY!==""?ps.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ps.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ps!==void 0&&ps.SC_DISABLE_SPEEDY!==void 0&&ps.SC_DISABLE_SPEEDY!==""&&ps.SC_DISABLE_SPEEDY!=="false"&&ps.SC_DISABLE_SPEEDY),z_=Object.freeze([]),ah=Object.freeze({});function i3e(t,e,n){return n===void 0&&(n=ah),t.theme!==n.theme&&t.theme||e||n.theme}var dV=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),o3e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,a3e=/(^-|-$)/g;function x6(t){return t.replace(o3e,"-").replace(a3e,"")}var l3e=/(a)(d)/gi,w2=52,E6=function(t){return String.fromCharCode(t+(t>25?39:97))};function uC(t){var e,n="";for(e=Math.abs(t);e>w2;e=e/w2|0)n=E6(e%w2)+n;return(E6(e%w2)+n).replace(l3e,"$1-$2")}var Cx,hV=5381,td=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},fV=function(t){return td(hV,t)};function pV(t){return uC(fV(t)>>>0)}function c3e(t){return t.displayName||t.name||"Component"}function bx(t){return typeof t=="string"&&!0}var mV=typeof Symbol=="function"&&Symbol.for,gV=mV?Symbol.for("react.memo"):60115,u3e=mV?Symbol.for("react.forward_ref"):60112,d3e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},h3e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f3e=((Cx={})[u3e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cx[gV]=vV,Cx);function C6(t){return("type"in(e=t)&&e.type.$$typeof)===gV?vV:"$$typeof"in t?f3e[t.$$typeof]:d3e;var e}var p3e=Object.defineProperty,m3e=Object.getOwnPropertyNames,b6=Object.getOwnPropertySymbols,g3e=Object.getOwnPropertyDescriptor,v3e=Object.getPrototypeOf,I6=Object.prototype;function yV(t,e,n){if(typeof e!="string"){if(I6){var r=v3e(e);r&&r!==I6&&yV(t,r,n)}var s=m3e(e);b6&&(s=s.concat(b6(e)));for(var i=C6(t),o=C6(e),a=0;a<s.length;++a){var l=s[a];if(!(l in h3e||n&&n[l]||o&&l in o||i&&l in i)){var c=g3e(e,l);try{p3e(t,l,c)}catch{}}}}return t}function lh(t){return typeof t=="function"}function tS(t){return typeof t=="object"&&"styledComponentId"in t}function dc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function dC(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Cp(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function hC(t,e,n){if(n===void 0&&(n=!1),!n&&!Cp(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=hC(t[r],e[r]);else if(Cp(e))for(var r in e)t[r]=hC(t[r],e[r]);return t}function nS(t,e){Object.defineProperty(t,"toString",{value:e})}function Im(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var y3e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw Im(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(ZT);return n},t}(),dg=new Map,Q1=new Map,hg=1,x2=function(t){if(dg.has(t))return dg.get(t);for(;Q1.has(hg);)hg++;var e=hg++;return dg.set(t,e),Q1.set(e,t),e},_3e=function(t,e){hg=e+1,dg.set(t,e),Q1.set(e,t)},w3e="style[".concat(oh,"][").concat(uV,'="').concat(U_,'"]'),x3e=new RegExp("^".concat(oh,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),E3e=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},C3e=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(ZT),s=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var l=a.match(x3e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(_3e(u,c),E3e(t,u,l[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(a)}}};function b3e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _V=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(a){var l=Array.from(a.querySelectorAll("style[".concat(oh,"]")));return l[l.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(oh,cV),r.setAttribute(uV,U_);var o=b3e();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},I3e=function(){function t(e){this.element=_V(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw Im(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),T3e=function(){function t(e){this.element=_V(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),S3e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),T6=eS,k3e={isServer:!eS,useCSSOMInjection:!s3e},wV=function(){function t(e,n,r){e===void 0&&(e=ah),n===void 0&&(n={});var s=this;this.options=ut(ut({},k3e),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&eS&&T6&&(T6=!1,function(i){for(var o=document.querySelectorAll(w3e),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(oh)!==cV&&(C3e(i,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),nS(this,function(){return function(i){for(var o=i.getTag(),a=o.length,l="",c=function(h){var f=function(y){return Q1.get(y)}(h);if(f===void 0)return"continue";var p=i.names.get(f),m=o.getGroup(h);if(p===void 0||m.length===0)return"continue";var g="".concat(oh,".g").concat(h,'[id="').concat(f,'"]'),E="";p!==void 0&&p.forEach(function(y){y.length>0&&(E+="".concat(y,","))}),l+="".concat(m).concat(g,'{content:"').concat(E,'"}').concat(ZT)},u=0;u<a;u++)c(u);return l}(s)})}return t.registerId=function(e){return x2(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ut(ut({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new S3e(s):r?new I3e(s):new T3e(s)}(this.options),new y3e(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(x2(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(x2(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(x2(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),R3e=/&/g,A3e=/^\s*\/\/.*$/gm;function xV(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=xV(n.children,e)),n})}function P3e(t){var e,n,r,s=t===void 0?ah:t,i=s.options,o=i===void 0?ah:i,a=s.plugins,l=a===void 0?z_:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===j_&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(R3e,n).replace(r,c))}),o.prefix&&u.push(n3e),u.push(Zxe);var h=function(f,p,m,g){p===void 0&&(p=""),m===void 0&&(m=""),g===void 0&&(g="&"),e=g,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var E=f.replace(A3e,""),y=Xxe(m||p?"".concat(m," ").concat(p," { ").concat(E," }"):E);o.namespace&&(y=xV(y,o.namespace));var w=[];return K1(y,e3e(u.concat(t3e(function(_){return w.push(_)})))),w};return h.hash=l.length?l.reduce(function(f,p){return p.name||Im(15),td(f,p.name)},hV).toString():"",h}var N3e=new wV,fC=P3e(),EV=Nr.createContext({shouldForwardProp:void 0,styleSheet:N3e,stylis:fC});EV.Consumer;Nr.createContext(void 0);function S6(){return v.useContext(EV)}var CV=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=fC);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,nS(this,function(){throw Im(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=fC),this.name+e.hash},t}(),D3e=function(t){return t>="A"&&t<="Z"};function k6(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;D3e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var bV=function(t){return t==null||t===!1||t===""},IV=function(t){var e,n,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!bV(i)&&(Array.isArray(i)&&i.isCss||lh(i)?r.push("".concat(k6(s),":"),i,";"):Cp(i)?r.push.apply(r,lr(lr(["".concat(s," {")],IV(i),!1),["}"],!1)):r.push("".concat(k6(s),": ").concat((e=s,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in r3e||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Cc(t,e,n,r){if(bV(t))return[];if(tS(t))return[".".concat(t.styledComponentId)];if(lh(t)){if(!lh(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return Cc(s,e,n,r)}var i;return t instanceof CV?n?(t.inject(n,r),[t.getName(r)]):[t]:Cp(t)?IV(t):Array.isArray(t)?Array.prototype.concat.apply(z_,t.map(function(o){return Cc(o,e,n,r)})):[t.toString()]}function L3e(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(lh(n)&&!tS(n))return!1}return!0}var M3e=fV(U_),O3e=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&L3e(e),this.componentId=n,this.baseHash=td(M3e,n),this.baseStyle=r,wV.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=dc(s,this.staticRulesId);else{var i=dC(Cc(this.rules,e,n,r)),o=uC(td(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}s=dc(s,o),this.staticRulesId=o}else{for(var l=td(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=dC(Cc(h,e,n,r));l=td(l,f+u),c+=f}}if(c){var p=uC(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),s=dc(s,p)}}return s},t}(),TV=Nr.createContext(void 0);TV.Consumer;var Ix={};function j3e(t,e,n){var r=tS(t),s=t,i=!bx(t),o=e.attrs,a=o===void 0?z_:o,l=e.componentId,c=l===void 0?function(x,b){var C=typeof x!="string"?"sc":x6(x);Ix[C]=(Ix[C]||0)+1;var T="".concat(C,"-").concat(pV(U_+C+Ix[C]));return b?"".concat(b,"-").concat(T):T}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(x){return bx(x)?"styled.".concat(x):"Styled(".concat(c3e(x),")")}(t):u,f=e.displayName&&e.componentId?"".concat(x6(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&s.attrs?s.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&s.shouldForwardProp){var g=s.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;m=function(x,b){return g(x,b)&&E(x,b)}}else m=g}var y=new O3e(n,f,r?s.componentStyle:void 0);function w(x,b){return function(C,T,I){var S=C.attrs,k=C.componentStyle,A=C.defaultProps,N=C.foldedComponentIds,O=C.styledComponentId,D=C.target,$=Nr.useContext(TV),P=S6(),R=C.shouldForwardProp||P.shouldForwardProp,L=i3e(T,$,A)||ah,j=function(V,H,ie){for(var K,ne=ut(ut({},H),{className:void 0,theme:ie}),me=0;me<V.length;me+=1){var oe=lh(K=V[me])?K(ne):K;for(var le in oe)ne[le]=le==="className"?dc(ne[le],oe[le]):le==="style"?ut(ut({},ne[le]),oe[le]):oe[le]}return H.className&&(ne.className=dc(ne.className,H.className)),ne}(S,T,L),F=j.as||D,q={};for(var W in j)j[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&j.theme===L||(W==="forwardedAs"?q.as=j.forwardedAs:R&&!R(W,F)||(q[W]=j[W]));var B=function(V,H){var ie=S6(),K=V.generateAndInjectStyles(H,ie.styleSheet,ie.stylis);return K}(k,j),U=dc(N,O);return B&&(U+=" "+B),j.className&&(U+=" "+j.className),q[bx(F)&&!dV.has(F)?"class":"className"]=U,q.ref=I,v.createElement(F,q)}(_,x,b)}w.displayName=h;var _=Nr.forwardRef(w);return _.attrs=p,_.componentStyle=y,_.displayName=h,_.shouldForwardProp=m,_.foldedComponentIds=r?dc(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=f,_.target=r?s.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(b){for(var C=[],T=1;T<arguments.length;T++)C[T-1]=arguments[T];for(var I=0,S=C;I<S.length;I++)hC(b,S[I],!0);return b}({},s.defaultProps,x):x}}),nS(_,function(){return".".concat(_.styledComponentId)}),i&&yV(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function R6(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var A6=function(t){return Object.assign(t,{isCss:!0})};function SV(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lh(t)||Cp(t))return A6(Cc(R6(z_,lr([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Cc(r):A6(Cc(R6(r,e)))}function pC(t,e,n){if(n===void 0&&(n=ah),!e)throw Im(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,SV.apply(void 0,lr([s],i,!1)))};return r.attrs=function(s){return pC(t,e,ut(ut({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return pC(t,e,ut(ut({},n),s))},r}var kV=function(t){return pC(j3e,t)},gu=kV;dV.forEach(function(t){gu[t]=kV(t)});function rS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=dC(SV.apply(void 0,lr([t],e,!1))),s=pV(r);return new CV(s,r)}gu.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const vi=242.776657104492,$3e=1.6,F3e=rS`
12.5% {
  stroke-dasharray: ${vi*.14}px, ${vi}px;
  stroke-dashoffset: -${vi*.11}px;
}
43.75% {
  stroke-dasharray: ${vi*.35}px, ${vi}px;
  stroke-dashoffset: -${vi*.35}px;
}
100% {
  stroke-dasharray: ${vi*.01}px, ${vi}px;
  stroke-dashoffset: -${vi*.99}px;
}
`;gu.path`
  stroke-dasharray: ${vi*.01}px, ${vi};
  stroke-dashoffset: 0;
  animation: ${F3e} ${$3e}s linear infinite;
`;const V3e=rS`
to {
   transform: rotate(360deg);
 }
`;gu.svg`
  animation: ${V3e} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;gu.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const U3e=rS`
to {
   stroke-dashoffset: 136;
 }
`;gu.polygon`
  stroke-dasharray: 17;
  animation: ${U3e} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;gu.svg`
  transform-origin: 50% 65%;
`;const z3e=({chat:t,index:e,chats:n})=>{var x;const[r,s]=v.useState(null),{newMessages:i}=v.useContext(we),[o,a]=v.useState(!0),[l,c]=v.useState(null),u=on(),[h,f]=v.useState(!0),[p,m]=v.useState(!1),[g,E]=v.useState(null),y=yt(),{mode:w}=y.palette,_=async()=>{a(!0);const b=Ue(Ce(Ue(Te,"chats"),t.id),"messages");console.log("fetching message counts..."),await Go(b,s),Bn(a)};return v.useEffect(()=>{const C=(()=>{const T=Ue(Te,"chats"),I=Ue(Ce(T,t.id),"messages"),S=Tr(I,Bd("timestamp","desc"),ea(1));return mo(S,A=>{if(f(!0),console.log("fetching last message..."),A.empty)m(!0),Bn(f,300);else{const N=A.docs.map(O=>({id:O.id,...O.data()}));c(N[0]),_(),Bn(f,300)}},A=>{E("Error fetching last message: "+A.message),Bn(f,300)})})();return()=>{C&&C()}},[t.id]),d.jsxs(Z,{className:`${w==="dark"?"hover:bg-slate-700":"hover:bg-slate-100"} flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative  border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>u(`/app/chatroom/${t.id}`),children:[d.jsx(Z,{className:"flex items-start h-full mt-3",children:d.jsx("img",{alt:t.name,src:((x=t.image)==null?void 0:x.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),d.jsxs(Z,{className:"grid items-start h-full",children:[d.jsxs(De,{variant:"h6",children:[t.name,d.jsx(B3e,{messageCounts:r})]}),d.jsxs(Z,{container:!0,sx:{display:"grid"},children:[d.jsx(Z,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:d.jsx(H3e,{lastMessage:l})}),d.jsx(W3e,{lastMessage:l,isMessageEmpty:p,isMessageLoading:h,messageError:g}),d.jsx(G3e,{chat:t})]})]}),!$y(i,t.id)&&d.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},B3e=({messageCounts:t})=>t?d.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[t," messages"]}):d.jsx(he,{width:120}),W3e=({lastMessage:t,isMessageLoading:e,isMessageEmpty:n,messageError:r})=>{var s,i;return e?d.jsxs("div",{children:[d.jsx(he,{width:"70%"}),d.jsx(he,{width:"60%"})]}):n?d.jsx(De,{color:"warning",children:"No messages yet"}):r?d.jsx(De,{color:"warning",children:r}):d.jsxs(Z,{sx:{marginTop:"2px",display:"grid"},children:[d.jsx(De,{size:"small",variant:"caption",color:"textSecondary",children:Ml(t==null?void 0:t.content,30)}),(t==null?void 0:t.image)&&d.jsx("img",{alt:(s=t==null?void 0:t.image)==null?void 0:s.name,className:"w-12",src:(i=t==null?void 0:t.image)==null?void 0:i.URL}),d.jsxs(De,{size:"small",variant:"caption",color:"textSecondary",children:[(t==null?void 0:t.editedTime)&&"edited ",Y1(cs(t!=null&&t.editedTime?t.editedTime:t==null?void 0:t.timestamp))]})]})},H3e=({lastMessage:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState(!0);return $n(t==null?void 0:t.senderId,e,r,i,[t]),s?d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx(he,{variant:"circular",height:30,width:30}),d.jsx(he,{height:30,width:100})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),d.jsx(De,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:n==null?void 0:n.name})]})},G3e=({chat:t})=>{const e=Ce(Te,"chats",t.id),n=Ue(e,"typingUsers"),[r,s]=v.useState([]);if(v.useEffect(()=>{const o=mo(n,l=>{const c=l.docs.map(u=>({uid:u.id,...u.data()}));s(c)});return()=>{o&&o()}},[]),r.length>0)return d.jsx("div",{children:r.sort((i,o)=>ui(i,o,"timestamp","older")).map(i=>d.jsx(q3e,{typingUser:i},`typing-users-${i.uid}`))})},q3e=({typingUser:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState();return $n(t.uid,e,r,i),d.jsx("div",{className:"flex items-center gap-x-1 ",children:s?d.jsx(he,{width:30,height:30}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),d.jsx(he,{height:35,width:120})]})})},$h=()=>d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx(he,{variant:"circular",height:40,width:40}),d.jsx(he,{variant:"text",height:40,width:"200px"})]}),Y3e=()=>{const{setHeaderTitle:t,chats:e,setChats:n,myChats:r,setMyChats:s}=v.useContext(we),i=Ue(Te,"chats"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,h]=v.useState(null);return cu(i,[],n,a,c,!1,h,500),v.useEffect(()=>{t("Chat Room")},[]),o?d.jsx(hs,{isLoading:o,text:"Loading chat rooms..."}):l?d.jsx(Dt,{text:"No chat rooms available"}):u?d.jsx(Dt,{text:u}):d.jsx(K3e,{myChats:r,setMyChats:s})},K3e=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:s}=v.useContext(we),[i,o]=v.useState(!1),[a,l]=v.useState(0),c=async(u,h)=>{const f=Ue(Te,"chats"),p=Ue(Ce(f,u),"members"),m=Tr(p,Zp("uid","==",h),ea(1));return console.log("Checking if a member..."),!(await ma(m)).empty};return v.useEffect(()=>{(async()=>{const h=await Promise.all(n.map(async f=>{const p=await c(f.id,s);return p&&l(a+1),p?f:null}));e(h.filter(f=>f!==null))})()},[n]),a?d.jsxs(d.Fragment,{children:[i&&d.jsx($xe,{isCreating:i,setIsCreating:o}),d.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[d.jsx(Q3e,{}),t.map((u,h)=>d.jsx(z3e,{chat:u,index:h,chats:n},u.id)),(r==null?void 0:r.isAdmin)&&d.jsx(Z,{className:"m-2",children:d.jsx(Me,{size:"small",onClick:()=>o(!0),startIcon:d.jsx(M_,{}),children:"Create group"})})]})]}):d.jsx(Dt,{text:"No chat rooms available for you"})},Q3e=()=>{const[t,e]=v.useState(0),[n,r]=v.useState(!0),[s,i]=v.useState(!1);return v.useEffect(()=>{const a=(()=>{const l=lp(fp,"/status"),c=NO(l,AO("status"),PO("online"));return Cy(c,h=>{r(!0);const f=h.val(),p=Object.entries(f).map(([m,g])=>({uid:m,...g}));e(p),r(!1)})})();return()=>{a&&a()}},[]),n?d.jsx(he,{sx:{m:1},height:40,width:60}):d.jsxs(Z,{className:"p-2 border-b border-b-slate-200",children:[s&&d.jsx(X3e,{onlineUsers:t,open:s,setOpen:i}),d.jsxs(Me,{onClick:()=>i(!0),size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},children:[t.length," online"]})]})},X3e=({onlineUsers:t,open:e,setOpen:n})=>d.jsxs(ds,{fullWidth:!0,open:e,onClose:()=>n(!1),children:[d.jsx(Z,{m:1,children:d.jsx(De,{variant:"h6",children:"Online Users"})}),d.jsx(Z,{sx:{m:1},className:"grid gap-y-2",children:t.map(r=>d.jsx(J3e,{user:r},r.uid))})]}),J3e=({user:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState(!0);return $n(t.uid,e,r,i),s?d.jsx($h,{}):d.jsxs(Z,{className:"flex items-center gap-x-1",children:[d.jsx("img",{className:"size-9 rounded-full shadow-md object-cover",src:n.image}),d.jsx(De,{variant:"h6",fontSize:"1rem",children:n.name})]})},Z3e=()=>{const{headerTitle:t,setUserId:e,setUserData:n,openSnackbar:r,userId:s}=v.useContext(we),i=on(),o=hh(),a=o.pathname!=="/"?o.pathname:"/app";v.useEffect(()=>{document.title="SEA  "+t||"STAR EDUCATION ACADEMY"},[t]),v.useEffect(()=>{const l=ys.get("userId");if(!l)return;const c=mo(Ce(Te,"users",l),u=>{if(u.exists()){const h={uid:u.id,...u.data()};n(h)}else e(null),ys.remove("userId"),i("/login"),console.log("No user found..."),r("No user found")},u=>{console.log(u.message),r(u.message)});return()=>c()},[s]),v.useEffect(()=>{const l=ys.get("userId")||null;l?(e(l),i(a)):i("/login")},[])},eEe=()=>{const{setHeaderTitle:t}=v.useContext(we),e={text:"About SEA",image:d.jsx(_F,{}),answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${mu(1727025983012)}.`}];return cm("help-page"),um("help-page"),v.useEffect(()=>{t("Help")},[]),d.jsxs(Z,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[d.jsx(hs,{}),d.jsx(xf,{image:e.image,text:e.text,answer:e.answer}),d.jsx(xf,{text:"FAQ",image:d.jsx(f_e,{}),answer:n.map(s=>d.jsx(xf,{text:s.text,answer:s.answer},s.text))}),d.jsx(xf,{image:d.jsx(__e,{}),text:"Updates",answer:r.map(s=>d.jsx(xf,{text:s.text,answer:s.answer},s.text))})]})},xf=({image:t,text:e,answer:n})=>{const[r,s]=v.useState(!1);return d.jsxs("div",{className:" p-2  mb-2 ",children:[d.jsxs("div",{onClick:()=>s(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[d.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&t,d.jsx("div",{children:e})]}),d.jsx(gt,{title:r?"Collapse":"Expand",arrow:!0,children:d.jsx(Qe,{children:r?d.jsx(Jye,{}):d.jsx(Xye,{})})})]}),r&&d.jsx("div",{className:"font-medium ",children:n})]})},sS=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const s=(t==null?void 0:t.size)/1048576,i=(t==null?void 0:t.size)/1024;return s>1?`${s.toFixed(2)} MB`:isNaN(s)?null:`${i.toFixed(2)} kB`};return d.jsxs(ds,{fullScreen:!0,open:!!t,onClose:()=>e(!1),children:[d.jsx(Mr,{direction:"row",justifyContent:"end",sx:{pr:1,pt:1},children:d.jsx(gt,{placement:"left",arrow:!0,title:"Close",children:d.jsx(Qe,{size:"small",color:"primary",onClick:()=>{e(!1)},children:d.jsx(th,{})})})}),t?d.jsxs("div",{className:"flex justify-center items-center h-full min-h-[200px] min-w-[200px] relative overflow-auto",children:[r()&&d.jsx("span",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),d.jsx("img",{alt:t.name,className:"max-w-full max-h-full ",src:n?t.imageURL:t.URL,style:{transition:"transform 0.3s ease-in-out"}})]}):d.jsx("div",{className:" border border-slate-300 rounded-md",children:"Image not available."})]})},RV=({post:t,setViewingImage:e})=>{const[r,s]=v.useState(4),[i,o]=v.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),s(t.images.length)};return a.map((u,h)=>d.jsxs(Ed,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[d.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),d.jsx("div",{className:"z-20 absolute right-1 top-1"}),h+1===4&&i&&l?d.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:d.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},AV=({files:t})=>{const e=yt(),{mode:n}=e.palette;return d.jsxs(Z,{className:"grid mt-2",children:[d.jsx(De,{className:"p-2 font-bold",children:"Files"}),t.map((r,s)=>d.jsx("a",{href:r.fileURL,download:r.name,target:"_blank",children:d.jsxs(Z,{className:`p-1 ${n==="light"?"hover:bg-slate-50 text-blue-600":"hover:bg-slate-700 text-blue-500"} cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${s===t.length-1&&"border-b"}  `,children:[d.jsx(s_e,{}),d.jsxs("div",{children:[d.jsx("p",{className:"underline",children:r.name}),(r==null?void 0:r.size)&&d.jsxs("p",{children:[(r.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${s}-${r.fileURL}`))]})},PV=({links:t})=>{const e=yt(),{mode:n}=e.palette;return d.jsxs("div",{className:"grid mt-2",children:[d.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((r,s)=>d.jsx("a",{href:r.link,target:"_blank",children:d.jsxs(Z,{className:`p-1  cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${s===t.length-1&&"border-b"} ${n==="light"?"border-slate-200 hover:bg-slate-50 text-blue-600":"border-slate-700 hover:bg-slate-700 text-blue-500"} `,children:[d.jsx(Oh,{}),d.jsx("div",{children:d.jsx("p",{className:"underline",children:r.title})})]})},`${s}-${r.link}`))]})};async function B_(t,e,n,r=null){const s=ys.get("userId");try{const i=Ue(Te,"notifications"),o={uid:s,type:t,[e]:n,isReadBy:[],timestamp:wr(),comment:r};await _l(i,o)}catch(i){console.log(i.message)}}const NV=({post:t,collectionName:e})=>{const{id:n}=t;yt().palette;const s=on(),[i,o]=v.useState(null),[a,l]=v.useState(null),{userId:c}=v.useContext(we),[u,h]=v.useState(!1),[f,p]=v.useState(!1),m=e==="posts";Ue(Ce(Te,e,n),"comments");const g=Ue(Ce(Te,e,n),"likes"),[E,y]=v.useState(!1),w=async(x,b)=>{const C=Ue(Ce(Te,e,n),x);console.log("Fetching counts...");const T=await j5(C);b(T.data().count)};v.useEffect(()=>{(async()=>{await w("likes",o),await w("comments",l)})()},[]),v.useEffect(()=>{(async()=>{const b=Tr(g,Zp("uid","==",c)),C=await ma(b);y(!C.empty)})()},[]);const _=async()=>{try{const x=async()=>{await w("likes",o)},b=Ce(g,c),C={uid:c,timestamp:wr()};E?(y(!1),await ta(b),x()):(y(!0),await Uc(b,C),x(),B_(["like",m?"post":"test"],m?"description":"testName",m?t.description:t.name))}catch(x){console.log(x.message)}};return d.jsxs("div",{className:"mt-2",children:[d.jsxs(Z,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[d.jsx(Me,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:u?"outlined":"text",onClick:()=>{s(`/app/${m?"posts":"tests"}/${m?"sp":"st"}/${n}`)},children:d.jsxs("span",{children:[i||0," ",i>1?"Likes":"Like"]})}),d.jsxs(Me,{size:"small",variant:f?"outlined":"text",sx:{textDecoration:"underline",textTransform:"capitalize"},onClick:()=>{s(`/app/${m?"posts":"tests"}/${m?"sp":"st"}/${n}`)},children:[a||0," ",a>1?"Comments":"Comment"]})]}),d.jsxs(Z,{className:"p-2 shadow-lg border-t pt-2 flex gap-x-2",children:[d.jsx(gt,{title:E?"Unlike":"Like",arrow:!0,children:d.jsx(Qe,{color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:_,children:E?d.jsx(vF,{}):d.jsx(yF,{})})}),d.jsx(Me,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{s(`/app/${m?"posts":"tests"}/${m?"sp":"st"}/${n}`)},startIcon:d.jsx(e_e,{}),children:"Comment"})]})]})},iS=()=>d.jsxs("div",{className:"border border-slate-200 rounded-md shadow-md",children:[d.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[d.jsx(he,{variant:"circular",width:35,height:35}),d.jsx(he,{width:"40%",height:50,variant:"text"})]}),d.jsxs("div",{className:"pl-2 pr-2",children:[d.jsx(he,{width:"100%"}),d.jsx(he,{width:"60%"})]}),d.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[d.jsx(he,{height:100,width:"20%"}),d.jsx(he,{height:100,width:"20%"}),d.jsx(he,{height:100,width:"20%"})]}),d.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[d.jsx(he,{width:70,animation:"wave",variant:"rounded",height:30}),d.jsx(he,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),tEe=({post:t,setViewingImage:e})=>{var f,p;const{users:n,openSnackbar:r,userData:s}=v.useContext(we),[i,o]=v.useState(null),[a,l]=v.useState(!0);yt().palette;const u=on(),h=s!=null&&s.isAdmin?{text:"Edit Post",icon:d.jsx(ci,{}),onClick:()=>{u("/app/admin/posts/")}}:null;return $n(t.uid,n,o,l,[],1200),a?d.jsx(iS,{}):d.jsxs(Z,{bgcolor:"background.default",color:"text.primary",className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full"},children:[d.jsxs(Z,{className:"top-section flex justify-between  mb-2 p-2",children:[d.jsxs(Z,{className:"flex gap-x-2",children:[d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i?i.image:"images/sea-logo.jpg"}),d.jsxs(Z,{children:[d.jsx(De,{variant:"h6",fontSize:"1.1rem",children:i?i.name:"Unknown User"}),d.jsx(De,{variant:"caption",children:mu(cs(t.time))})]})]}),d.jsx(Z,{children:d.jsx(pu,{options:[{text:"Copy link",icon:d.jsx(Oh,{}),onClick:()=>{const m=`${location.origin}/#/app/posts/sp/${t.id}`;navigator.clipboard.writeText(m),r("Link copied successfully")}},h],isComment:!0})})]}),(t==null?void 0:t.description)&&d.jsx(De,{p:1,children:t.description}),t.images.length!==0?d.jsx(Ed,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:d.jsx(RV,{post:t,setViewingImage:e})}):"",t.files&&((f=t==null?void 0:t.files)==null?void 0:f.length)!==0&&d.jsx(AV,{files:t.files}),(t==null?void 0:t.links)&&((p=t==null?void 0:t.links)==null?void 0:p.length)!==0&&d.jsx(PV,{links:t.links}),d.jsx(NV,{post:t,collectionName:"posts"})]})},nEe=()=>{const{posts:t,setPosts:e,setHeaderTitle:n}=v.useContext(we),r=Ue(Te,"posts"),[s,i]=v.useState(!0),[o,a]=v.useState(!1),[l,c]=v.useState(null),[u,h]=v.useState(null);return v.useEffect(()=>{n("STAR EDUCATION ACADEMY")},[]),cu(r,[],e,i,a,!1,c,500),cm("posts-page"),um("posts-page"),s?d.jsx(hs,{isLoading:s,text:"Loading posts..."}):o?d.jsx(Dt,{text:"No posts available"}):l?d.jsx(Dt,{text:l}):d.jsxs("div",{className:"grid gap-y-6 m-2",children:[u&&d.jsx(sS,{image:u,setViewingImage:h,postImage:!0}),t.sort((f,p)=>ui(f,p,"time","newer")).map(f=>d.jsx(tEe,{setViewingImage:h,post:f},f.id))]})},oS=()=>d.jsxs("div",{className:"border border-slate-200 rounded-md shadow-md",children:[d.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[d.jsx(he,{variant:"circular",width:35,height:35}),d.jsx(he,{width:"40%",height:50,variant:"text"})]}),d.jsxs("div",{className:"pl-2 pr-2",children:[d.jsx(he,{width:"100%"}),d.jsx(he,{width:"60%"})]}),d.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:d.jsx(he,{height:100,width:"30%"})}),d.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[d.jsx(he,{width:70,animation:"wave",variant:"rounded",height:30}),d.jsx(he,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),rEe=()=>{const{tests:t,setTests:e,setHeaderTitle:n,startTimer:r}=v.useContext(we);on();const s=Ue(Te,"tests"),[i,o]=v.useState(!0),[a,l]=v.useState(!1),[c,u]=v.useState(null);cu(s,[],e,o,l,!1,u,500),v.useEffect(()=>{n("Tests")},[]);const h=()=>{r()};return cm("tests-page"),um("tests-page"),i?d.jsx(hs,{isLoading:i,text:"Loading tests..."}):a?d.jsx(Dt,{text:"No tests available"}):c?d.jsx(Dt,{text:c}):d.jsx("div",{className:"grid gap-y-6 mb-2 m-2",children:t.sort((f,p)=>ui(f,p,"timestamp","newer")).map(f=>d.jsx(sEe,{takeTest:h,t:f},f.id))})},sEe=({t,takeTest:e})=>{const{users:n,openSnackbar:r,userData:s}=v.useContext(we),[i,o]=v.useState(null),[a,l]=v.useState(!0),c=on(),u=yt(),{mode:h}=u.palette;$n(t.uid,n,o,l);const f=s!=null&&s.isAdmin?{text:"Edit Test",icon:d.jsx(ci,{}),onClick:()=>{c("/app/admin/tests/")}}:null;return a?d.jsx(oS,{}):d.jsxs(Z,{bgcolor:"background.default",color:"text.primary",className:`${h==="dark"?"border-slate-700":"border-slate-200"} flex flex-col justify-between min-h-60 border shadow-md rounded-md bg-gradient-to-tr`,children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i==null?void 0:i.image}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold",children:i==null?void 0:i.name}),d.jsx("div",{className:" text-sm",children:mu(cs(t.time))})]}),d.jsxs("span",{className:`rounded-md border  text-sm text-gray-400 flex items-center p-1 ${h==="dark"?"border-slate-700":"border-slate-200"}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),d.jsx(Z,{children:d.jsx(pu,{options:[{text:"Copy link",icon:d.jsx(Oh,{}),onClick:()=>{const p=`${location.origin}/#/app/tests/st/${t.id}`;navigator.clipboard.writeText(p),r("Link copied successfully")}},f],isComment:!0})})]}),t.image&&d.jsx("div",{className:"m-2 flex justify-center p-2",children:d.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),d.jsxs("div",{className:`${h==="dark"?"border-slate-700":"border-slate-200"} p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md`,children:[d.jsx("div",{className:"font-medium text-lg",children:t.name}),d.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),d.jsx(Me,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{e(),c(`/app/tests/${t.id}`)},children:"Take the test"})]}),d.jsx(NV,{post:t,collectionName:"tests"})]})},iEe=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l}=v.useContext(we),c=on(),[u,h]=v.useState(!1),f=()=>{a(),h(!1),c("/app/tests")},p=()=>{h(!1)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[d.jsx(gt,{title:"Navigate up",arrow:!0,children:d.jsx(Qe,{onClick:()=>h(!0),children:d.jsx(uu,{})})}),d.jsx("div",{className:"ml-2 ",children:e}),d.jsx(la,{data:{value:u,yesButton:f,noButton:p,text:"Are you sure to stop the test ?",setValue:h}})]}),d.jsxs("div",{className:"flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ",children:[d.jsxs("div",{children:["Page ",n," of ",r]}),d.jsxs("div",{className:"w-2/3 border h-7 relative",children:[d.jsx("div",{style:{width:`${s}%`},className:"text-center h-full"}),d.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),d.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},oEe=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t;return d.jsx("div",{children:e==null?void 0:e.map((s,i)=>d.jsxs("div",{children:[d.jsxs("div",{className:"grid gap-y-2",children:[d.jsxs("div",{className:"flex gap-x-3 items-center",children:[d.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:s.id}),d.jsx("div",{className:"flex-1 font-padauk",children:s.question})]}),d.jsx("div",{className:"grid gap-y-2",children:s.choices.map((o,a)=>{let l,c=!1;return r.forEach(u=>{s.id===u.id&&(l=u)}),(l==null?void 0:l.userAnswer)===o&&(c=!0),d.jsxs("div",{onClick:()=>{n(s.id,o)},className:"border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk",children:[d.jsx("input",{onChange:()=>{n(s.id,o)},className:"h-5 w-5",name:`question-${s.id}`,type:"radio",checked:!!c}),d.jsx("div",{children:o})]},`choice-${s.id}-${a}-${o}`)})})]}),d.jsx(aEe,{})]},`question-${s.id}-${i}-${s.question}`))})},aEe=()=>d.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),lEe=()=>d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx("img",{className:"w-8 ",src:ar("error")}),d.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]});function cEe(t,e,n){const r=e.name,s=uEe(t,e.quizzes),i=dEe(s),o=t.length,a=e.gradingRules.length!==0?hEe(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=fEe(),c=pEe();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function uEe(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function dEe(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function hEe(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function fEe(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function pEe(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}const mEe=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s,currentTest:i,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=v.useContext(we),u=on(),h=async()=>{try{const p=Ue(Ce(Te,"users",c),"history"),m=cEe(o,i,a),g=await _l(p,m),E=(await lo(g)).id;u(`/app/history/${E}`)}catch(p){console.log(p.message)}},f=()=>{h(),l(),B_(["took","test"],"testName",i.name)};return d.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&d.jsx(Me,{variant:"outlined",size:"small",onClick:n,startIcon:d.jsx(uu,{}),children:"Previous"}),r?d.jsx(Me,{variant:"outlined",size:"small",onClick:f,startIcon:d.jsx(r_e,{}),children:"Finish"}):d.jsx(Me,{variant:"outlined",size:"small",onClick:e,startIcon:d.jsx(Zye,{}),children:"Next"})]})},gEe=()=>{var $,P;v.useContext(we);const{testId:t}=eu(),[e,n]=v.useState([]),[r,s]=v.useState(null),[i,o]=v.useState(!0),[a,l]=v.useState(!1),[c,u]=v.useState(null),[h,f]=v.useState(!1);v.useEffect(()=>{(async()=>{try{o(!0);const L=Ce(Te,"tests",t),j=await lo(L);j.exists()?(s(j.data()),Bn(o,1200)):(Bn(o),l(!0))}catch(L){Bn(o,1200),u("Failed to fetch current test: "+L.message)}})()},[]);const p=e==null?void 0:e.length,m=($=r==null?void 0:r.quizzes)==null?void 0:$.length,[g,E]=v.useState(0),[y,w]=v.useState(!1),[_,x]=v.useState(!1),b=10;let C=(P=r==null?void 0:r.quizzes)==null?void 0:P.slice(g,g+b);const T=r==null?void 0:r.name,I=Math.ceil(m/b),S=Math.ceil((g+b)/b),k=Math.round(p/m*100);v.useEffect(()=>(Ks(),Ks()),[]),v.useEffect(()=>{p===m&&g+b>=m?w(!0):w(!1)},[g,e]),v.useEffect(()=>{p>=g+b?x(!0):x(!1)},[e,g]);const D={pageTitle:T,currentPage:S,totalPage:I,percentage:k,answerLength:p,questionsLength:m,answeredQuestions:e,currentQuestions:C,isEnded:y,chooseAnswer:(R,L)=>{const j=qle(R,e);n(j?e.map(F=>R===F.id?{id:R,userAnswer:L}:F):[...e,{id:R,userAnswer:L}])},nextPage:()=>{_?(E(g+b),p<=g+b&&Ks()):Yle(f)},prevPage:()=>{E(Math.max(g-b,0))},startIndex:g,currentTest:r};return i?d.jsx(hs,{isLoading:i,text:"Loading test..."}):a?d.jsx(Dt,{text:"No test available"}):c?d.jsx(Dt,{text:h}):d.jsxs("div",{className:"p-3 grid gap-y-3",children:[d.jsx(iEe,{data:D}),d.jsx(oEe,{data:D}),h&&d.jsx(lEe,{}),d.jsx(mEe,{data:D})]})},vEe=({members:t})=>d.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[d.jsx("p",{className:"text-lg font-bold",children:"Members"}),d.jsx(Z,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((e,n)=>ui(e,n,"joinedAt","newer")).map((e,n)=>d.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===n&&"border-b"} ${n===0&&"border-t-0"}`,children:d.jsx(yEe,{member:e})},e.uid+e.joinedAt))})]}),yEe=({member:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState(!0),[o,a]=v.useState("offline"),[l,c]=v.useState(null);return YI(t.uid,a,c),$n(t.uid,e,r,i),s?d.jsx($h,{}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ms,{image:n==null?void 0:n.image,name:n==null?void 0:n.name}),d.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:d.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{children:n==null?void 0:n.name}),d.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":l})]})]})},DV=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:s,onlineUsers:i})=>{var c;const o=on(),a=yt(),{mode:l}=a.palette;return d.jsx(N$,{sx:{backgroundColor:l==="dark"?"background.default":"white",color:"text.primary"},children:d.jsxs(mF,{className:`h-[70px] z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 ${l==="dark"?"border-slate-700":"border-slate-200"} border-b `,children:[d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx("div",{children:d.jsx(gt,{title:"Navigate up",arrow:!0,children:d.jsx(Qe,{onClick:()=>{r?e(t):o("/app/chatroom")},children:d.jsx(Qye,{})})})}),d.jsxs("div",{onClick:()=>e(t),className:"cursor-pointer",children:[d.jsx(De,{variant:"h6",fontSize:"1.1rem",children:n.name}),d.jsxs("div",{className:"flex items-center",children:[s?d.jsxs("p",{className:"text-sm ",children:[s," ",s<=1?"member":"members"]}):d.jsx(he,{height:40,width:100}),i?d.jsxs(De,{variant:"caption",children:[", "," ",i," online"]}):d.jsx(he,{height:40,width:60})]})]})]}),d.jsx("button",{onClick:()=>e(t),children:d.jsx("img",{src:((c=n==null?void 0:n.image)==null?void 0:c.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},_Ee=({setSubPage:t,currentChat:e,memberCounts:n,setMemberCounts:r,members:s,setMembers:i,onlineUsers:o})=>{var I;const{chatId:a}=eu(),{users:l,userData:c}=v.useContext(we);yt().palette;const h=Ce(Te,"chats",a),[f,p]=v.useState(""),[m,g]=v.useState(null),E=Ce(Te,"chats",a),y=Ue(E,"members");v.useEffect(()=>{p(e.name)},[e]);const w=S=>{let k=!1;return s.forEach(A=>{A.uid===S&&(k=!0)}),k},_=async S=>{let k=!1;const A=Tr(y,Zp("uid","==",S),ea(1));return console.log("Checking if a member..."),k=!(await ma(A)).empty,k};v.useEffect(()=>mo(y,N=>{N.empty||((async()=>await Go(y,r))(),i(N.docs.map(D=>({...D.data(),id:D.id}))))}),[]);const x=async S=>{try{const k=Ce(y,S);await _(S)||await Uc(k,{uid:S,joinedAt:wr()})}catch(k){console.log(k.message)}},b=async S=>{try{const k=Ce(y,S);await ta(k)}catch(k){console.log(k.message)}},C=async()=>{if(!m)return;const S=`chats/${e.id}/groupImage-${m.name}`,k=Ga(storage,S),A=await Fn(m,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=await J0(k,A),O=await Z0(N.ref),D={name:m.name,path:S,URL:O,size:A.size};await Lr(h,{image:D})},T=async()=>{f.trim()&&await Lr(h,{name:f})};if(v.useEffect(()=>{C()},[m]),v.useEffect(()=>{scrollTo({top:0})},[]),e)return d.jsxs("div",{className:"",children:[d.jsx(DV,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:n,onlineUsers:o}),(c==null?void 0:c.isAdmin)&&d.jsxs(Z,{className:"p-2 m-1 mt-4 shadow-md border rounded-md border-slate-200",children:[d.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:S=>g(S.target.files[0])}),d.jsxs("div",{className:"relative size-24",children:[d.jsx("img",{src:(I=e==null?void 0:e.image)==null?void 0:I.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),d.jsx("label",{htmlFor:"imageInput",className:" p-1 size-7 rounded-full absolute -bottom-1 -right-1 cursor-pointer ",children:d.jsx(ci,{sx:{width:20,height:20}})})]}),d.jsxs("div",{className:"mt-2 ",children:[d.jsx("p",{children:"Group Name"}),d.jsx(Qn,{size:"small",value:f,onChange:S=>p(S.target.value),placeholder:"Enter group name..."}),d.jsx(Qe,{onClick:T,children:d.jsx(Em,{})})]})]}),s&&d.jsx(vEe,{members:s}),(c==null?void 0:c.isAdmin)&&d.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[d.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),d.jsx(Z,{className:"border rounded-md shadow-lg border-slate-200",children:l.sort((S,k)=>ui(S,k,"createdAt","newer")).map((S,k)=>d.jsx(wEe,{user:S,i:k,members:s,addMember:x,removeMember:b,isAMember:w},S.name+" "+S.image+k))})]})]})},wEe=({user:t,i:e,members:n,isAMember:r,removeMember:s,addMember:i})=>{const[o,a]=v.useState("offline"),[l,c]=v.useState(null);return YI(t.uid,a,c),d.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t border-slate-200 ${(n==null?void 0:n.length)===e&&"border-b"} ${e===0&&"border-t-0"} `,children:[d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ms,{image:t.image,name:t.name}),d.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:d.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{children:t.name}),d.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":l})]})]}),d.jsx("div",{children:r(t.uid)?!t.isAdmin&&d.jsx(gt,{title:`Remove ${t.name}`,arrow:!0,placement:"left",children:d.jsx(Qe,{size:"small",onClick:()=>s(t.uid),children:d.jsx(du,{})})}):d.jsx(gt,{title:`Add ${t.name}`,arrow:!0,placement:"left",children:d.jsx(Qe,{size:"small",onClick:()=>i(t.uid),children:d.jsx(M_,{})})})})]})},xEe=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],EEe=({chatId:t,message:e,setReactedUsers:n})=>{v.useState(!1);const[r,s]=v.useState([]),i=Ue(Ce(Ue(Ce(Te,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=v.useContext(we),a=yt(),{mode:l}=a.palette,c=()=>mo(i,m=>{if(m.empty)s([]);else{const g=m.docs.map(E=>E.data());s(g)}});v.useEffect(()=>{const p=c();return()=>{p&&p()}},[]);const u=async()=>{const p=Ce(i,o);await ta(p)},h=p=>{let m=!1;return r.forEach(g=>{g.reactionType===p&&(m=!0)}),m},f=xEe.filter(p=>h(p.name));if(r.length!==0)return d.jsx("div",{children:d.jsx(gt,{arrow:!0,title:r.length===1?"1 reaction":`${r.length} reactions`,children:d.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:u}),className:`mt-2 border ${l==="light"?"border-slate-200 ":"border-slate-700"}  p-1 rounded-lg flex justify-center items-center text-sm`,children:[f.map((p,m)=>d.jsx("img",{className:"w-4 ml-[-3px]",src:ar(p.image)},`reaction-${p.name}-${m}`)),d.jsx("span",{className:"ml-1",children:r.length})]})})})};function mC(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const CEe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bEe=/[\0-\x1F\x7F-\x9F]/,IEe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,TEe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function SEe(t){const e={};t=t||{},e.src_Any=CEe.source,e.src_Cc=bEe.source,e.src_Z=TEe.source,e.src_P=IEe.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function gC(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function W_(t){return Object.prototype.toString.call(t)}function kEe(t){return W_(t)==="[object String]"}function REe(t){return W_(t)==="[object Object]"}function AEe(t){return W_(t)==="[object RegExp]"}function P6(t){return W_(t)==="[object Function]"}function PEe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const LV={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function NEe(t){return Object.keys(t||{}).reduce(function(e,n){return e||LV.hasOwnProperty(n)},!1)}const DEe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},LEe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",MEe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function OEe(t){t.__index__=-1,t.__text_cache__=""}function jEe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function N6(){return function(t,e){e.normalize(t)}}function X1(t){const e=t.re=SEe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(LEe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function i(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,REe(l)){AEe(l.validate)?c.validate=jEe(l.validate):P6(l.validate)?c.validate=l.validate:i(a,l),P6(l.normalize)?c.normalize=l.normalize:l.normalize?i(a,l):c.normalize=N6();return}if(kEe(l)){s.push(a);return}i(a,l)}),s.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:N6()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(PEe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),OEe(t)}function $Ee(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}function vC(t,e){const n=new $Ee(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Rs(t,e){if(!(this instanceof Rs))return new Rs(t,e);e||NEe(t)&&(e=t,t={}),this.__opts__=gC({},LV,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=gC({},DEe,t),this.__compiled__={},this.__tlds__=MEe,this.__tlds_replaced__=!1,this.re={},X1(this)}Rs.prototype.add=function(e,n){return this.__schemas__[e]=n,X1(this),this};Rs.prototype.set=function(e){return this.__opts__=gC(this.__opts__,e),this};Rs.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,s,i,o,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(i=this.testSchemaAt(e,n[2],l.lastIndex),i){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(o=s.index+s[1].length,a=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};Rs.prototype.pretest=function(e){return this.re.pretest.test(e)};Rs.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Rs.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(vC(this,r)),r=this.__last_index__);let s=r?e.slice(r):e;for(;this.test(s);)n.push(vC(this,r)),s=s.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Rs.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,vC(this,0)):null};Rs.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,s,i){return r!==i[s-1]}).reverse(),X1(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,X1(this),this)};Rs.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Rs.prototype.onCompile=function(){};const FEe=({message:t,messages:e,deleteMessage:n,setMessage:r,setImageObject:s,setEditMessageObject:i,setViewingImage:o,setReplyMessage:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:h,setSeenUsers:f,setMessageOption:p,setReactedUsers:m,index:g})=>{var $;const{userData:E,userId:y}=v.useContext(we),w=yt(),{mode:_}=w.palette,x=y===t.senderId,b=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,C=v.useRef(!1),[T,I]=v.useState(!1),S=P=>{I(P)},k={...t,index:u},A=x?{text:"Edit",icon:d.jsx(ci,{}),onClick:()=>{i(k),r(t.content),s(t==null?void 0:t.image),a(t==null?void 0:t.reply)}}:null,N=x||E!=null&&E.isAdmin?{text:"Delete",icon:d.jsx(du,{}),onClick:()=>{n(t,u)}}:null,O=()=>{let P=!1;return((t==null?void 0:t.seenBy)||[]).forEach(L=>{y===L.uid&&(P=!0)}),P},D=()=>g>=e.length-5&&g<=e.length-1;return v.useEffect(()=>{t&&(async()=>{const R=Ce(c,t.id);if(!C.current&&(console.log(!O()),!O()&&!x&&D()&&!h))try{await Lr(R,{seenBy:vE({uid:y,timestamp:new Date().getTime()})}),C.current=!0}catch(L){console.error("Error marking message as seen: ",L)}})()},[]),d.jsxs(Z,{onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),className:`${_==="dark"?"hover:bg-slate-700 border-slate-700/50":"hover:bg-slate-100 border-slate-200"}  rounded-md flex mb-1 gap-x-2 pt-2 pb-2   ${x?"flex-row-reverse":""} `,children:[d.jsx(VEe,{senderId:t.senderId}),d.jsx("div",{className:"grid gap-y-1 whitespace-pre-wrap ",children:d.jsxs("div",{className:`flex  items-start gap-x-1 ${x?"flex-row-reverse justify-start":""}`,children:[d.jsx("div",{className:"relative",children:d.jsxs("div",{className:`min-w-[200px] max-w-[300px]  shadow-md border border-slate-300 ${x?"justify-start":"fdbg-white  "} grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border-slate-200 p-3 pb-0 `,children:[d.jsx(UEe,{senderId:t.senderId,isYourMessage:x}),(t==null?void 0:t.reply)&&d.jsx(zEe,{message:t,setViewingImage:o}),d.jsx(MV,{content:t.content,isYourMessage:x}),(t==null?void 0:t.image)&&d.jsx("img",{onClick:()=>{o(t.image)},className:"cursor-pointer mt-1 mb-1 rounded-md max-h-[200px] overflow-hidden  ",alt:t.image.name,src:t.image.URL}),d.jsx(EEe,{chatId:l,message:t,setReactedUsers:m}),d.jsx("div",{className:`flex  ${x?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:d.jsxs("p",{className:`  mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${x?"text-right":""}`,children:[t!=null&&t.editedTime?d.jsxs("span",{children:["edited ",mC(cs(t.editedTime))]}):d.jsx("span",{children:mC(cs(t.timestamp))}),b?d.jsx(gt,{title:t.seenBy.length==1?"Seen by 1 user":"Seen by "+t.seenBy.length+" users",arrow:!0,children:d.jsx(Me,{size:"small",startIcon:d.jsx(UT,{}),onClick:()=>{f(t.seenBy)},className:"flex gap-x-1 items-center",children:($=t==null?void 0:t.seenBy)==null?void 0:$.length})}):""]})})]})}),T&&d.jsx(gt,{title:"More options",arrow:!0,children:d.jsx(Qe,{onClick:()=>p({...t,options:[A,N,{text:"Reply",icon:d.jsx(p_e,{}),onClick:()=>a(t)}]}),children:d.jsx(xF,{})})})]})})]})},MV=({content:t,isYourMessage:e=!1})=>{const n=new Rs;n.tlds("onion",!0),n.set({fuzzyLink:!0});const r=n.match(t),s=(i,o=30)=>i.length>o?i.slice(0,o)+"...":i;return r&&r.forEach(i=>{const o=i.url.startsWith("http")?i.url:`https://${i.url}`;t=t.replace(i.url,`<a href="${o}" style="text-decoration: underline; color: blue;" target="_blank" rel="noopener norefereer">${s(o)}<a>`)}),d.jsx("div",{className:"w-full max-w-full break-words  ",dangerouslySetInnerHTML:{__html:t}})},VEe=({senderId:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState(!0);$n(t,e,r,i);const[o,a]=v.useState("offline"),[l,c]=v.useState(null);return YI(t,a,c),s?d.jsx(he,{variant:"circular",height:40,width:40}):d.jsxs("div",{className:"size-10  relative",children:[d.jsx(Ms,{name:n&&n.name,image:n&&n.image}),d.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:d.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]})},UEe=({senderId:t,isYourMessage:e})=>{const{users:n}=v.useContext(we),[r,s]=v.useState(null),[i,o]=v.useState(!0);return $n(t,n,s,o),i?d.jsx("div",{className:`-mt-3 ${e?"text-right":""}`,children:d.jsx(he,{height:40,width:120})}):d.jsx("p",{className:`font-bold mb-2 ${e?"text-right":""} `,children:r!=null&&r.name?r.name:"Unknown User"})},zEe=({message:t,setViewingImage:e})=>{const{users:n}=v.useContext(we),{senderId:r,content:s,image:i}=t.reply,[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,h]=v.useState(null);return $n(r,n,h,a),d.jsxs("div",{className:"mb-1 border-l-4 p-1 rounded-md border-l-green-500 ",children:[o?d.jsx(he,{width:120,height:40}):d.jsx("p",{className:"font-bold ",children:u==null?void 0:u.name}),s&&d.jsxs("p",{className:"w-full max-w-full break-words",children:[d.jsx(MV,{content:l?s:Ml(s,25)}),s.length>=25&&d.jsx("span",{onClick:()=>{c(!l)},className:"font-bold text-blue-400 cursor-pointer",children:l?" see less":" see more"})]}),i&&d.jsx("img",{onClick:()=>{e(i)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden max-h-[200px]",alt:i.name,src:i.URL})]})},BEe=({setIsRulesOpen:t,isRulesOpen:e,rules:n=[" - Group         ","No spamming -    (link)   emoji   ","Privacy  -        ","  (rules)    Group       ()   "]})=>d.jsx(ds,{open:e,onClose:()=>t(!1),children:n?d.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[d.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,s)=>d.jsxs("div",{className:"flex items-start  gap-x-1 mb-2",children:[d.jsx("p",{className:"size-10 items-center flex justify-center rounded-full ",children:s+1}),d.jsx("p",{className:"flex-1 text-sm",children:r})]},`${s}-${r}`))]}):d.jsx("div",{className:"p-2",children:"No rules"})}),WEe=({typingUsersRef:t,viewingOldMessages:e})=>{const{userId:n}=v.useContext(we),[r,s]=v.useState([]);if(v.useEffect(()=>{const o=mo(t,l=>{console.log("fetching typing users...");const c=l.docs.map(u=>({uid:u.id,...u.data()}));s(c)},l=>{console.log("Error fetching typing users: ",l.message)});return()=>{o&&o()}},[]),v.useEffect(()=>{!e&&r.length!==0&&i0()},[r]),r.length>0)return d.jsx("div",{className:"",children:d.jsx("div",{className:"grid gap-y-1",children:r.sort((i,o)=>ui(i,o,"timestamp","older")).map(i=>{const o=n===i.uid;return d.jsxs("div",{className:`flex mb-2 gap-x-2 ${o?"flex-row-reverse":""} `,children:[d.jsx(HEe,{typingUser:i}),d.jsxs("div",{className:"grid gap-y-1 whitespace-pre-wrap",children:[d.jsx(GEe,{isYourMessage:o,typingUser:i}),d.jsx("div",{className:`flex items-start gap-x-1 ${o?"flex-row-reverse justify-start":""}`,children:d.jsxs("div",{children:[d.jsx(he,{height:40,width:150}),d.jsx(he,{sx:{mt:-1},height:30,width:100})]})})]})]},`typingUsers-${i.uid}`)})})})},HEe=({typingUser:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState(!0);return $n(t.uid,e,r,i),d.jsxs("div",{className:"size-10 relative",children:[s?d.jsx(he,{width:40,height:40}):d.jsx(Ms,{name:n==null?void 0:n.name,image:n==null?void 0:n.image}),d.jsx("div",{className:"absolute bottom-0 right-0 size-3 rounded-full bg-green-500"})]})},GEe=({typingUser:t,isYourMessage:e})=>{const{users:n}=v.useContext(we),[r,s]=v.useState(null),[i,o]=v.useState(!0);return $n(t.uid,n,s,o),d.jsx(d.Fragment,{children:i?d.jsx(he,{height:40,width:120}):d.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})})},qEe=["January","February","March","April","May","June","July","August","September","October","November","December"],YEe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function OV(t){const e=new Date(t),n=new Date,r=e.getFullYear(),s=e.getMonth(),i=e.getDate(),o=YEe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${qEe[s]} ${i}, ${r}`}const KEe=({seenUsers:t,setSeenUsers:e})=>{v.useContext(we);const n=yt(),{mode:r}=n.palette,s=()=>{const i=t.reduce((o,a)=>{const l=new Date(cs(a.timestamp)),c=l.getFullYear(),u=l.getMonth(),h=l.getDate(),f=`${c}-${u+1}-${h}`;return o[f]||(o[f]={date:f,users:[]}),o[f].users.push(a),o},{});return Object.values(i)};return d.jsx(ds,{fullWidth:!0,anchor:"bottom",open:!!t,onClose:()=>e(!1),children:d.jsxs(Z,{className:" rounded-l-md rounded-r-md ",children:[d.jsx(De,{sx:{p:1},variant:"h6",children:"People who have seen"}),d.jsx("div",{className:"flex flex-col p-2",children:s().map(i=>{const o=new Date(i.date).getTime(),a=OV(o);return d.jsxs(Z,{children:[d.jsx(De,{variant:"caption",children:a}),i.users.sort((l,c)=>ui(l,c,"timestamp","older")).map((l,c)=>d.jsx(QEe,{seenPerson:l,mode:r},`seenUser-${l.uid}-${c}`))]},a+"seenUsers")})})]})})},QEe=({seenPerson:t,mode:e})=>{var a;const{users:n}=v.useContext(we),[r,s]=v.useState(null),[i,o]=v.useState(!0);return $n(t.uid,n,s,o),i?d.jsx("div",{className:"mb-1 w-[275px]",children:d.jsx($h,{})}):d.jsxs("div",{className:`${e==="light"?"hover:bg-slate-200":"hover:bg-slate-700"} flex p-2 justify-between items-center w-full rounded-md `,children:[d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx(Ms,{image:r==null?void 0:r.image,name:r==null?void 0:r.name,size:"size-9"}),d.jsx("p",{children:((a=r==null?void 0:r.name)==null?void 0:a.length)>20?Ml(r==null?void 0:r.name,20):r==null?void 0:r.name})]}),d.jsx(De,{variant:"caption",children:mC(t.timestamp)})]})},XEe=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:s}=v.useContext(we),i=yt(),{mode:o}=i.palette,a=l=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[l];return d.jsx(ds,{fullWidth:!0,open:!!t,onClose:()=>r(null),children:d.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[d.jsx(De,{variant:"h6",children:"Reactions"}),d.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((l,c)=>{const u=l.uid===s;return d.jsx(JEe,{mode:o,okToRemove:u,reactedPerson:l,getReactIcon:a,removeReaction:e,close:()=>r(null)},`reactedBy-${l.uid}-${c}`)})})]})})},JEe=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:s,mode:i})=>{const{users:o}=v.useContext(we),[a,l]=v.useState(null),[c,u]=v.useState(!0);return $n(e.uid,o,l,u),c?d.jsx($h,{}):d.jsxs("div",{onClick:()=>{n&&(s(),r())},className:`flex p-2 justify-between items-center ${i==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} ${n?"cursor-pointer":""}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ms,{image:a==null?void 0:a.image,name:a==null?void 0:a.name,size:"size-9"}),d.jsxs("p",{className:"ml-[4px]",children:[a==null?void 0:a.name," ",n?d.jsx(De,{variant:"caption",children:"(Tap to remove)"}):""]})]}),d.jsx("img",{className:"w-6 ",src:ar(t(e.reactionType))})]})},D6=15,ZEe=()=>{const{userId:t,users:e}=v.useContext(we),{chatId:n}=eu(),[r,s]=v.useState(null),[i,o]=v.useState(!1),a=Ce(Te,"chats",n),[l,c]=v.useState(!0),[u,h]=v.useState(!1),[f,p]=v.useState(null);return v.useEffect(()=>{const m=()=>mo(a,w=>{c(!0),w.exists()?s({...w.data(),id:w.id}):h(!0),c(!1)},w=>{const _="Error fetching the current chat: "+w.message;console.log(_),p(_),c(!1)});(async()=>{try{const y=Ue(a,"members"),w=Tr(y,Zp("uid","==",t),ea(1));console.log("Checking if a member...");const _=await ma(w);o(!_.empty)}catch(y){console.log(y.message)}})();const E=m();return()=>{E&&E()}},[n,i]),l?d.jsx(hs,{isLoading:l,text:"Loading chat..."}):u?d.jsx(Dt,{text:"No chat available"}):i?f?d.jsx(Dt,{text:f}):d.jsx(eCe,{chatId:n,currentChat:r}):d.jsx(Dt,{text:"You are not a member of this chat room"})},eCe=({chatId:t,currentChat:e})=>{const{userData:n,users:r,newMessages:s,userId:i,setHeaderTitle:o,openSnackbar:a}=v.useContext(we),[l,c]=v.useState(""),[u,h]=v.useState("chat"),[f,p]=v.useState(null),m=Ce(Te,"chats",t),g=Ue(m,"messages"),[E,y]=v.useState(null),[w,_]=v.useState(!1),[x,b]=v.useState(!1),[C,T]=v.useState(null),[I,S]=v.useState(null),[k,A]=v.useState(null),[N,O]=v.useState(!1),D=Ue(m,"typingUsers"),$=Ce(D,i),[P,R]=v.useState(!1),[L,j]=v.useState(null),[F,q]=v.useState([]);v.useState([]);const[W,B]=v.useState([]),[U,V]=v.useState(),[H,ie]=v.useState(null),[K,ne]=v.useState(!1),[me,oe]=v.useState([]),[le,ye]=v.useState(null),[ke,_e]=v.useState(null),[qe,Be]=v.useState(null);v.useState(!1);const[Fe,ht]=v.useState(0),Ye=yt(),{mode:Re}=Ye.palette;v.useEffect(()=>{const xe=(()=>{const Ae=lp(fp,"/status"),Pt=NO(Ae,AO("status"),PO("online"));return Cy(Pt,hr=>{ht(hr.size)})})();return()=>{xe&&xe()}},[]),v.useEffect(()=>{(async()=>{const xe=Ce(Te,"chats",e.id),Ae=Ue(xe,"members");await Go(Ae,ye)})()},[e]),v.useEffect(()=>{o((e==null?void 0:e.name)||"SEA - Chat ")},[]),v.useEffect(()=>{let Y;return l.trim()?R(!0):R(!1),Y=setTimeout(()=>{R(!1)},3e3),()=>{clearTimeout(Y)}},[l]);const Et=async()=>{console.log("I am typing...");try{await Uc($,{timestamp:wr()})}catch(Y){console.error("Error adding user to typing collection: ",Y)}},We=async()=>{console.log("I am not typing...");try{await ta($)}catch(Y){console.error("Error removing user from typing collection: ",Y)}};v.useEffect(()=>(P?Et():We(),()=>{We()}),[P]);const Ie=Y=>{Y.docs.length>0&&(V(Y.docs[0]),ie(Y.docs[Y.docs.length-1]));const xe=Y.docs.map(Ae=>({id:Ae.id,...Ae.data()})).sort((Ae,Pt)=>ui(Ae,Pt,"timestamp"));q(xe)},_t=()=>{if(K)return null;const Y=Ue(Ce(Te,"chats",t),"messages");let xe=Tr(Y,Bd("timestamp","desc"),ea(D6));const Ae=mo(xe,Pt=>{console.log("Fetching messages..."),Ie(Pt)});return()=>Ae()};v.useEffect(()=>{const Y=_t();return()=>{Y&&Y()}},[t,K]);const Mt=async Y=>{const xe=Y==="old"?"desc":"asc";if(!H)return;const Ae=Tr(g,Bd("timestamp",xe),ly(H),ea(D6));console.log("Fetching messages...");const Pt=await ma(Ae);Ie(Pt)};$n(I==null?void 0:I.senderId,r,A,()=>{},[I]);const fn=async Y=>{const xe=new Date().getTime(),Ae=`chats/${t}/${xe}-${n==null?void 0:n.name}-${Y==null?void 0:Y.name}`,Pt=Ga(ac,Ae);_(!0),b(!0);try{const pn=await Fn(Y,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),hr=await J0(Pt,pn),wa=await Z0(hr.ref),di={name:Y.name,path:Ae,URL:wa,size:pn.size};y(di),_(!1),b(!1)}catch(pn){a(pn.message),_(!1),b(!1),console.log(pn.message)}},Oe=async Y=>{const xe=Ga(ac,Y);await _E(xe),y(null)},Ee=async()=>{const Y=Ce(Ue(Te,"newMessages"),t);await Uc(Y,{seenBy:vE(i)})};v.useEffect(()=>{(async()=>{const xe=Ce(Ue(Te,"newMessages"),t);$y(s,t)||await Lr(xe,{seenBy:vE(i)})})()},[F]);const ct=async()=>{try{const Y={senderId:i,content:l.trim(),timestamp:wr(),image:E||null,reply:I||null,seenBy:[]};b(!0),await _l(g,Y),Ee(),c(""),y(null),i0(),b(!1),S(null),A(null),R(!1)}catch(Y){b(!1),a(Y.message),console.log(Y.message)}},qt=async()=>{try{const Y=Ce(g,f.id),xe={senderId:i,content:l.trim(),editedTime:wr(),image:E||null,reply:I||null};b(!0),await Lr(Y,xe),Ee(),qt&&c(""),y(null),p(null),b(!1),S(null),A(null)}catch(Y){b(!1),a(Y.message),console.log(Y.message)}},Ht=async(Y,xe)=>{const Ae=Ce(g,Y.id);await ta(Ae),K&&Mt("old")};return v.useEffect(()=>{B((()=>{if(F.length>0){const xe=F.reduce((Ae,Pt)=>{const pn=new Date(cs(Pt.timestamp)),hr=pn.getFullYear(),wa=pn.getMonth(),di=pn.getDate(),xa=`${hr}-${wa+1}-${di}`;return Ae[xa]||(Ae[xa]={date:xa,messages:[]}),Ae[xa].messages.push(Pt),Ae},{});return Object.values(xe)}else return})())},[F]),u==="info"?d.jsx(_Ee,{setSubPage:h,currentChat:e,memberCounts:le,setMemberCounts:ye,members:me,setMembers:oe,onlineUsers:Fe}):d.jsxs(Z,{color:"text.primary",className:"",children:[d.jsx(tCe,{}),qe&&d.jsx(XEe,{reactedBy:qe.reactedBy,removeReaction:qe.removeReaction,reactedUsers:qe,setReactedUsers:Be}),ke&&d.jsx(tV,{handleClick:()=>{_e(null)},messageOption:ke,setMessageOption:_e,options:ke.options,message:ke,chatId:t,isComment:!1}),C&&d.jsx(sS,{image:C,setViewingImage:T}),N&&d.jsx(BEe,{isRulesOpen:N,setIsRulesOpen:O,rules:e==null?void 0:e.rules}),L&&d.jsx(KEe,{seenUsers:L,setSeenUsers:j}),d.jsx(DV,{pageName:"info",setSubPage:h,currentChat:e,memberCounts:le,onlineUsers:Fe}),d.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(Me,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{Mt("old"),i0(),ne(!0)},children:"Older messages"})}),d.jsx(Z,{children:W==null?void 0:W.map((Y,xe)=>{const Ae=new Date(Y.date).getTime(),Pt=OV(Ae);return d.jsxs(Z,{children:[d.jsx(Z,{className:"z-10 sticky top-[70px] flex justify-center",children:d.jsx(De,{sx:{p:"3px",borderRadius:1},bgcolor:"background.default",variant:"caption",children:Pt})}),Y.messages.map((pn,hr)=>d.jsx(FEe,{editMessage:qt,setEditMessageObject:p,deleteMessage:Ht,message:pn,setMessage:c,setImageObject:y,setViewingImage:T,setReplyMessage:S,chatId:t,messagesRef:g,groupIndex:xe,messageIndex:hr,viewingOldMessages:K,setSeenUsers:j,messages:F,setMessageOption:_e,setReactedUsers:Be,index:hr},`${hr}-${pn.id}`))]},Y.date)})}),K?d.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[d.jsx(Me,{size:"small",sx:{textTransform:"capitalize"},onClick:async()=>{await Mt("new"),Ks()},children:"Newer messages"}),d.jsx(Me,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{_t(),ne(!1),i0()},children:"Latest messages"})]}):"",d.jsx(WEe,{typingUsersRef:D,viewingOldMessages:K})]}),d.jsxs(Z,{bgcolor:"background.default",className:`fixed ${Re==="light"?"border-t-slate-100":"border-t-slate-700"} z-30 bottom-0 border-t  shadow-t-md right-0 left-0 p-2 min-h-[80px] flex flex-col items-center`,children:[d.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:d.jsx(Me,{size:"small",sx:{textDecoration:"underline"},onClick:()=>O(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),f&&d.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[d.jsx("p",{children:"Editing a message"}),d.jsx(Qe,{onClick:()=>{p(null),c(""),y(null),S(null),A(null)},children:d.jsx(th,{})})]}),I&&d.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-bold",children:["Reply to ",k==null?void 0:k.name]}),d.jsx("p",{children:Ml(I==null?void 0:I.content,25)})]}),d.jsx(Qe,{onClick:()=>{S(null),A(null)},children:d.jsx(th,{})})]}),w&&d.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:d.jsx("p",{children:"Uploading image..."})}),E&&d.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[d.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[d.jsx("img",{src:E.URL,className:"h-10 rounded-sm"}),d.jsx("p",{children:E.name})]}),d.jsx("button",{onClick:()=>{Oe(E.path),y(null)},className:"rounded-full shadow-sm p-1",children:d.jsx("img",{className:"w-6",src:ar("falseIcon")})})]}),d.jsxs(Z,{className:`border ${Re==="light"?"border-t-slate-100":"border-slate-700"} shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between `,children:[d.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:Y=>{fn(Y.target.files[0])},accept:"image/*"}),d.jsx(gt,{arrow:!0,title:"Upload an image",placement:"top",children:d.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:d.jsx(gF,{sx:{width:28}})})}),d.jsx(Qn,{multiline:!0,maxRows:4,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},inputProps:{sx:{padding:"5px"},inputMode:"text",autoCorrect:"off",autoCapitalize:"off"},value:l,onChange:Y=>c(Y.target.value),placeholder:"Type a message..."}),d.jsx(gt,{title:"Send",arrow:!0,placement:"top",children:d.jsx(Qe,{disabled:x,sx:{color:Re==="light"&&"black"},onClick:()=>{!x&&(l.trim()||E)&&(f?qt():ct())},children:d.jsx(m_e,{})})})]})]})]})},tCe=()=>{cm("chat-page"),um("chat-page")},nCe=()=>d.jsxs("div",{className:"m-3 grid gap-y-2",children:[d.jsx(iS,{}),d.jsx(oS,{}),d.jsx($h,{}),d.jsx(CF,{})]}),rCe=({userId:t})=>(v.useEffect(()=>{if(t){const e=lp(fp,`/status/${t}`),n={status:"online",lastChanged:dA()},r={status:"offline",lastChanged:dA()},s=lp(fp,".info/connected");Cy(s,i=>{i.val()===!0&&Sse(e,n),Tse(e).set(r)})}},[t]),null),jV=({post:t,collectionName:e})=>{const{id:n}=t;yt().palette,on();const[s,i]=v.useState(null),[o,a]=v.useState(null),{userId:l}=v.useContext(we),[c,u]=v.useState(!1),[h,f]=v.useState(!0),p=e==="posts",m=Ue(Ce(Te,e,n),"comments"),g=Ue(Ce(Te,e,n),"likes"),[E,y]=v.useState(!1),w=async(x,b)=>{const C=Ue(Ce(Te,e,n),x);console.log("Fetching counts...");const T=await j5(C);b(T.data().count)};v.useEffect(()=>{(async()=>{await w("likes",i),await w("comments",a)})()},[]),v.useEffect(()=>{(async()=>{const b=Tr(g,Zp("uid","==",l)),C=await ma(b);y(!C.empty)})()},[]);const _=async()=>{try{const x=async()=>{await w("likes",i)},b=Ce(g,l),C={uid:l,timestamp:wr()};E?(y(!1),await ta(b),x()):(y(!0),await Uc(b,C),x(),B_(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(x){console.log(x.message)}};return d.jsxs("div",{className:"mt-2",children:[d.jsxs(Z,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[d.jsx(Me,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:c?"outlined":"text",onClick:()=>{u(!c),f(!h)},children:d.jsxs("span",{children:[s||0," ",s>1?"Likes":"Like"]})}),d.jsxs(De,{size:"small",variant:h?"outlined":"text",sx:{textTransform:"capitalize"},children:[o||0," ",o>1?"Comments":"Comment"]})]}),d.jsx(Z,{className:"p-2 shadow-lg border-t pt-2 flex gap-x-2",children:d.jsx(gt,{title:E?"Unlike":"Like",arrow:!0,children:d.jsx(Qe,{color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:_,children:E?d.jsx(vF,{}):d.jsx(yF,{})})})}),c&&d.jsx(sCe,{isLikesOpen:c,setIsLikesOpen:u,likesRef:g,likeCounts:s}),h&&d.jsx(oCe,{isPost:p,post:t,commentsRef:m,collectionName:e,commentCounts:o,setCommentCounts:a,getCounts:w,isCommentsOpen:h,setIsCommentsOpen:f})]})},sCe=({likesRef:t,likeCounts:e})=>{const[r,s]=v.useState([]),[i,o]=v.useState(null),[a,l]=v.useState(!0),[c,u]=v.useState(!1);yt();const h=async()=>{let f=Tr(t,Bd("timestamp","desc"),ea(5));i&&(f=Tr(f,ly(i)));const p=await ma(f);if(p.empty)u(!0),s([]);else{const m=p.docs.map(g=>({id:g.id,...g.data()}));s([...r,...m])}l(!1),o(p.docs[p.docs.length-1])};return v.useEffect(()=>{h()},[]),d.jsxs(Z,{sx:{width:{xs:"100%"}},className:"",bgcolor:"background.default",children:[d.jsx(Mr,{direction:"row",sx:{display:"flex",justifyContent:"space-between",p:1},children:d.jsx(De,{variant:"h6",children:"Likes"})}),c&&d.jsx("div",{className:"flex items-center justify-center ",children:"No likes yet..."}),a?d.jsx("div",{className:"flex justify-center p-1",children:d.jsx(Q$,{})}):d.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[r.sort((f,p)=>ui(f,p,"timestamp","newer")).map((f,p)=>d.jsx(iCe,{like:f},`user-${f.uid}-${p}`)),d.jsx(Mr,{direction:"row",justifyContent:"center",children:e>5&&r.length<e&&r.length>0?d.jsx(Me,{size:"small",onClick:h,children:"Load More"}):""})]})]})},iCe=({like:t})=>{const{users:e}=v.useContext(we),[n,r]=v.useState(null),[s,i]=v.useState();return $n(t.uid,e,r,i),s?d.jsx($h,{}):d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx(Ms,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),d.jsx("div",{children:n?n.name:"Unknown User"})]})},oCe=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:s})=>{const[i,o]=v.useState(""),[a,l]=v.useState([]),[c,u]=v.useState(!0),[h,f]=v.useState(!1),{userId:p}=v.useContext(we),[m,g]=v.useState(null);yt();const E=()=>{const x=Tr(n,Bd("timestamp","desc"));return u(!0),mo(x,C=>{s("comments",r),C.empty?(u(!1),f(!0),l([])):(l(C.docs.map(T=>({id:T.id,...T.data()})).sort((T,I)=>ui(T,I,"timestamp"))),u(!1))})};v.useEffect(()=>{const x=E();return()=>{x&&x()}},[]);const y=async()=>{if(i.trim()){const x={uid:p,text:i.trim(),timestamp:wr()};await _l(n,x),o(""),B_(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,i.trim())}},w=async()=>{const x=Ce(n,m);if(i.trim()){const b={text:i.trim(),editedTime:wr()};await Lr(x,b),o(""),g(null)}},_=async x=>{const b=Ce(n,x);try{await ta(b)}catch(C){console.log(C.message)}};return d.jsxs(Z,{sx:{width:{xs:"100%"}},bgcolor:"background.default",children:[d.jsx(Mr,{direction:"row",sx:{display:"flex",justifyContent:"space-between",p:1},children:d.jsx(De,{variant:"h6",children:"Comments"})}),h&&d.jsx("div",{className:"flex items-center justify-center ",children:"No comments yet..."}),d.jsx("div",{className:"grid gap-y-2 m-2",children:a.map(x=>{const b=x.uid===p,C=b&&{text:"Edit",icon:d.jsx(ci,{}),onClick:()=>{g(x.id),o(x.text)}};return d.jsx(aCe,{comment:x,editOption:C,yourComment:b,deleteComment:_},`${x.uid}-${x.id}`)})}),d.jsxs("div",{className:"mt-2 flex  gap-x-1 m-2",children:[d.jsx(Qn,{fullWidth:!0,size:"small",onChange:x=>o(x.target.value),value:i,placeholder:"Write a comment..."}),d.jsxs("div",{className:"flex gap-x-1",children:[m&&d.jsx(Qe,{onClick:()=>{g(null),o("")},children:d.jsx(th,{})}),d.jsx(Qe,{onClick:()=>{i.trim()&&(m?w():y())},children:d.jsx(g_e,{})})]})]})]})},aCe=({comment:t,editOption:e,yourComment:n,deleteComment:r})=>{const{users:s,userData:i}=v.useContext(we),[o,a]=v.useState(null),[l,c]=v.useState();return $n(t.uid,s,a,c),d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex gap-x-1",children:[d.jsx("div",{children:l?d.jsx(he,{variant:"circular",height:40,width:40}):d.jsx(Ms,{image:o&&o.image,name:o&&o.name})}),d.jsxs("div",{className:"max-w-[250px]",children:[d.jsxs("div",{className:"p-2 border  shadow-md border-slate-200 rounded-lg",children:[l?d.jsx(he,{height:40,width:120}):d.jsx("div",{className:"font-bold text-left",children:o?o.name:"Unknown User"}),l?d.jsx(he,{sx:{mt:-1},height:60,width:200}):d.jsx("div",{className:"text-left",children:t.text})]}),d.jsx("div",{className:"text-sm text-left mt-1",children:t!=null&&t.editedTime?d.jsxs("span",{children:["edited ",Y1(cs(t.editedTime))]}):d.jsx("span",{children:Y1(cs(t.timestamp))})})]})]}),n||i!=null&&i.isAdmin?d.jsx(pu,{options:[e,{text:"Delete",icon:d.jsx(du,{}),onClick:()=>r(t.id)}],isComment:!0}):""]})},lCe=()=>{var C,T;const{postId:t,type:e}=eu(),[n,r]=v.useState(null),{users:s,openSnackbar:i,setViewingImage:o,viewingImage:a,userData:l}=v.useContext(we),[c,u]=v.useState(null),h=on(),[f,p]=v.useState(null),[m,g]=v.useState(!1),[E,y]=v.useState(!0),[w,_]=v.useState(!0),x=l!=null&&l.isAdmin?{text:"Edit Post",icon:d.jsx(ci,{}),onClick:()=>{h("/app/admin/posts/")}}:null;return yt().palette,v.useState(!1),v.useEffect(()=>{(async()=>{try{y(!0);const S=Ce(Te,"posts",t),k=await lo(S);k.exists()?(r({id:k.id,...k.data()}),y(!1)):(y(!1),g(!0))}catch(S){y(!1),p(S.message),i(S.message),console.log(S.message)}})()},[t]),$n(n==null?void 0:n.uid,s,u,_,[t,n],1200),E?d.jsx(Z,{m:2,children:d.jsx(iS,{})}):m?d.jsx(Dt,{text:"No post available"}):f?d.jsx(Dt,{text:f}):d.jsx(Z,{m:2,children:d.jsxs(Z,{bgcolor:"background.default",color:"text.primary",className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full"},children:[a&&d.jsx(sS,{image:a,setViewingImage:o,postImage:!0}),d.jsxs(Z,{className:"top-section flex justify-between  mb-2 p-2",children:[d.jsxs(Z,{className:"flex gap-x-2",children:[w?d.jsx(he,{width:35,height:35,variant:"circular"}):d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:c?c.image:"images/sea-logo.jpg"}),d.jsxs(Z,{children:[w?d.jsx(he,{height:40,width:120}):d.jsx(De,{variant:"h6",fontSize:"1.1rem",children:c?c.name:"Unknown User"}),d.jsx(De,{variant:"caption",children:mu(cs(n.time))})]})]}),d.jsx(Z,{children:d.jsx(pu,{options:[{text:"Copy link",icon:d.jsx(Oh,{}),onClick:()=>{const I=`${location.origin}/#/app/posts/sp/${n.id}`;navigator.clipboard.writeText(I),i("Link copied successfully")}},x],isComment:!0})})]}),(n==null?void 0:n.description)&&d.jsx(De,{p:1,children:n.description}),n.images.length!==0?d.jsx(Ed,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:d.jsx(RV,{post:n,setViewingImage:o})}):"",n.files&&((C=n==null?void 0:n.files)==null?void 0:C.length)!==0&&d.jsx(AV,{files:n.files}),(n==null?void 0:n.links)&&((T=n==null?void 0:n.links)==null?void 0:T.length)!==0&&d.jsx(PV,{links:n.links}),d.jsx(jV,{post:n,collectionName:"posts"})]})})},cCe=()=>{const{testId:t}=eu(),e=on(),[n,r]=v.useState(null),{users:s,openSnackbar:i,startTimer:o,userData:a}=v.useContext(we),[l,c]=v.useState(null),[u,h]=v.useState(null),[f,p]=v.useState(!1),[m,g]=v.useState(!0),[E,y]=v.useState(!0),w=yt(),{mode:_}=w.palette;v.useState(!1);const x=a!=null&&a.isAdmin?{text:"Edit Test",icon:d.jsx(ci,{}),onClick:()=>{e("/app/admin/tests/")}}:null;return v.useEffect(()=>{(async()=>{try{g(!0);const C=Ce(Te,"tests",t),T=await lo(C);T.exists()?(r({id:T.id,...T.data()}),g(!1)):(g(!1),p(!0))}catch(C){g(!1),h(C.message),i(C.message),console.log(C.message)}})()},[t]),$n(n==null?void 0:n.uid,s,c,y,[t,n],1200),m?d.jsx(Z,{m:2,children:d.jsx(oS,{})}):f?d.jsx(Dt,{text:"No post available"}):u?d.jsx(Dt,{text:u}):d.jsx(Z,{m:2,children:d.jsxs(Z,{bgcolor:"background.default",color:"text.primary",className:`${_==="dark"?"border-slate-700":"border-slate-200"} flex flex-col justify-between min-h-60 border shadow-md rounded-md bg-gradient-to-tr`,children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[E?d.jsx(he,{width:35,height:35,variant:"circular"}):d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:l?l.image:"images/sea-logo.jpg"}),d.jsxs("div",{children:[E?d.jsx(he,{height:40,width:120}):d.jsx(De,{variant:"h6",fontSize:"1.1rem",children:l?l.name:"Unknown User"}),d.jsx("div",{className:" text-sm",children:mu(cs(n.time))})]}),d.jsxs("span",{className:`rounded-md border  text-sm text-gray-400 flex items-center p-1 ${_==="dark"?"border-slate-700":"border-slate-200"}`,children:[n.quizzes.length,n.quizzes.length>1?" questions":" question"]})]}),d.jsx(Z,{children:d.jsx(pu,{options:[{text:"Copy link",icon:d.jsx(Oh,{}),onClick:()=>{const b=`${location.origin}/#/app/tests/st/${n.id}`;navigator.clipboard.writeText(b),i("Link copied successfully")}},x],isComment:!0})})]}),n.image&&d.jsx("div",{className:"m-2 flex justify-center p-2",children:d.jsx("img",{className:"h-[250px]",src:`images/tests/${n.image}`})}),d.jsxs("div",{className:`${_==="dark"?"border-slate-700":"border-slate-200"} p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md`,children:[d.jsx("div",{className:"font-medium text-lg",children:n.name}),d.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:n.description.trim()||"No description"}),d.jsx(Me,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{o(),e(`/app/tests/${n.id}`)},children:"Take the test"})]}),d.jsx(jV,{post:n,collectionName:"tests"})]})})},we=v.createContext();function uCe(){var ye,ke,_e;const t=UE("sea-localStorage"),e=Hde("(prefers-color-scheme : dark)"),[n,r]=v.useState(UE("sea-website-theme")||"dark"),[s,i]=v.useState(((ye=t==null?void 0:t.timer)==null?void 0:ye.seconds)||0),[o,a]=v.useState(((ke=t==null?void 0:t.timer)==null?void 0:ke.minutes)||0),[l,c]=v.useState(((_e=t==null?void 0:t.timer)==null?void 0:_e.hours)||0),[u,h]=v.useState(null),[f,p]=v.useState([]),[m,g]=v.useState(null),[E,y]=v.useState(null),[w,_]=v.useState(null),[x,b]=v.useState(!1),[C,T]=v.useState(""),[I,S]=v.useState(!1),[k,A]=v.useState([]),[N,O]=v.useState([]),[D,$]=v.useState([]),[P,R]=v.useState(null),[L,j]=v.useState([]),[F,q]=v.useState(!1),[W,B]=v.useState(""),[U,V]=v.useState(null),H=qe=>{q(!0),B(qe)};v.useEffect(()=>{bj("sea-website-theme",n)},[n]);const ie=qe=>({palette:{mode:qe,...qe==="dark"?{primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#121212",paper:"#1d1d1d"},text:{primary:"#ffffff"}}:{primary:{main:"#1976d2"},secondary:{main:"#ff4081"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#000000"}},components:{MuiAppBar:{styleOverrides:{...qe==="light"&&{backgroundColor:"#ffffff",color:"#000000"}}}}}}),K=v.useMemo(()=>mT(ie(n==="system"?e?"dark":"light":n)));cu(Ue(Te,"newMessages"),[],$,()=>{},()=>{});const ne=()=>{},me=()=>{i(0),a(0),c(0)},oe=()=>{me()},le=`${l}:${_A(o)}:${_A(s)}`;return v.useEffect(()=>{const qe=setInterval(()=>{s<59?i(s+1):(i(0),a(o+1)),o===59&&(a(0),c(l+1))},1e3);return()=>{clearInterval(qe)}},[s]),d.jsx(we.Provider,{value:{myChats:L,setMyChats:j,stopTest:oe,seaLocalStorage:t,formattedTime:le,startTimer:me,seconds:s,minutes:o,hours:l,inspecting:x,userData:u,setUserData:h,users:f,setUsers:p,headerTitle:C,setHeaderTitle:T,refreshUserData:ne,isOnline:I,setIsOnline:S,userId:m,setUserId:g,setInspecting:b,posts:k,setPosts:A,tests:N,setTests:O,history,chats:P,setChats:R,newMessages:D,notiCount:w,setNotiCount:_,historyCount:E,setHistoryCount:y,snackbarOpen:F,setSnackbarOpen:q,snackbarMessage:W,setSnackbarMessage:B,openSnackbar:H,setMode:r,mode:n,viewingImage:U,setViewingImage:V},children:d.jsxs(Ufe,{theme:K,children:[d.jsx(x2e,{}),d.jsxs(Z,{bgcolor:"background.default",className:" App font-padauk flex flex-col items-center min-h-screen ",children:[d.jsx(gye,{bgcolor:"background.default",open:F,onClose:()=>q(!1),autoHideDuration:4e3,message:W}),d.jsxs(hW,{children:[d.jsx(rCe,{userId:m}),d.jsx(Z3e,{}),C!=="Chat"&&d.jsx(I_e,{}),d.jsx(k_e,{}),d.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:d.jsxs(iW,{children:[d.jsx(mn,{exact:!0,path:"/test",element:d.jsx(nCe,{})}),d.jsx(mn,{exact:!0,path:"/login",element:d.jsx(P_e,{})}),m&&d.jsxs(d.Fragment,{children:[d.jsx(mn,{exact:!0,path:"/app",element:d.jsx(nEe,{})}),d.jsx(mn,{exact:!0,path:"/app/posts/sp/:postId",element:d.jsx(lCe,{})}),d.jsx(mn,{exact:!0,path:"/app/tests/st/:testId",element:d.jsx(cCe,{})}),d.jsx(mn,{exact:!0,path:"/app/tests",element:d.jsx(rEe,{})}),d.jsx(mn,{exact:!0,path:"/app/tests/:testId",element:d.jsx(gEe,{})}),d.jsx(mn,{exact:!0,path:"/app/history",element:d.jsx(KP,{})}),d.jsx(mn,{exact:!0,path:"/app/history/:resultId",element:d.jsx(x_e,{})}),d.jsx(mn,{exact:!0,path:"/app/help",element:d.jsx(eEe,{})}),d.jsx(mn,{exact:!0,path:"/app/history/:resultId/reviews",element:d.jsx(T_e,{})}),d.jsx(mn,{path:"/app/history",element:d.jsx(KP,{})}),d.jsx(mn,{path:"/app/chatroom",element:d.jsx(Y3e,{})}),d.jsx(mn,{path:"/app/chatroom/:chatId",element:d.jsx(ZEe,{})}),d.jsx(mn,{path:"/app/notifications",element:d.jsx(Oxe,{})}),(u==null?void 0:u.isAdmin)&&d.jsxs(d.Fragment,{children:[d.jsx(mn,{path:"/app/admin",element:d.jsx(R_e,{})}),d.jsx(mn,{path:"/app/admin/tests",element:d.jsx(bxe,{})}),d.jsx(mn,{path:"/app/admin/users",element:d.jsx(kxe,{})}),d.jsx(mn,{path:"/app/admin/posts",element:d.jsx(Nxe,{})})]}),d.jsx(mn,{exact:!0,path:"/app/settings",element:d.jsx(mxe,{})})]}),d.jsx(mn,{path:"*",element:d.jsx(EF,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&d.jsx(A_e,{})]})]})]})})}Tx.createRoot(document.getElementById("root")).render(d.jsx(d.Fragment,{children:d.jsx(uCe,{})}))});export default dCe();
