function cS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function uS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ui(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var zx={exports:{}},B0={},Bx={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),dS=Symbol.for("react.portal"),hS=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),pS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),yS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),_S=Symbol.for("react.memo"),wS=Symbol.for("react.lazy"),A_=Symbol.iterator;function xS(t){return t===null||typeof t!="object"?null:(t=A_&&t[A_]||t["@@iterator"],typeof t=="function"?t:null)}var Wx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,qx={};function wl(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||Wx}wl.prototype.isReactComponent={};wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gx(){}Gx.prototype=wl.prototype;function t1(t,e,n){this.props=t,this.context=e,this.refs=qx,this.updater=n||Wx}var n1=t1.prototype=new Gx;n1.constructor=t1;Hx(n1,wl.prototype);n1.isPureReactComponent=!0;var R_=Array.isArray,Kx=Object.prototype.hasOwnProperty,r1={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Kx.call(e,r)&&!Qx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ou,type:t,key:i,ref:o,props:s,_owner:r1.current}}function ES(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function CS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var k_=/\/+/g;function W2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CS(""+t.key):e.toString(36)}function eh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ou:case dS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+W2(o,0):r,R_(s)?(n="",t!=null&&(n=t.replace(k_,"$&/")+"/"),eh(s,e,n,"",function(c){return c})):s!=null&&(s1(s)&&(s=ES(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(k_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",R_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+W2(i,a);o+=eh(i,e,n,l,s)}else if(l=xS(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+W2(i,a++),o+=eh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _d(t,e,n){if(t==null)return t;var r=[],s=0;return eh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function TS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},th={transition:null},IS={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:th,ReactCurrentOwner:r1};ve.Children={map:_d,forEach:function(t,e,n){_d(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _d(t,function(){e++}),e},toArray:function(t){return _d(t,function(e){return e})||[]},only:function(t){if(!s1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=wl;ve.Fragment=hS;ve.Profiler=pS;ve.PureComponent=t1;ve.StrictMode=fS;ve.Suspense=vS;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=r1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kx.call(e,l)&&!Qx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ou,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:gS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mS,_context:t},t.Consumer=t};ve.createElement=Yx;ve.createFactory=function(t){var e=Yx.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:yS,render:t}};ve.isValidElement=s1;ve.lazy=function(t){return{$$typeof:wS,_payload:{_status:-1,_result:t},_init:TS}};ve.memo=function(t,e){return{$$typeof:_S,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=th.transition;th.transition={};try{t()}finally{th.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return Nn.current.useCallback(t,e)};ve.useContext=function(t){return Nn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Nn.current.useEffect(t,e)};ve.useId=function(){return Nn.current.useId()};ve.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Nn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};ve.useRef=function(t){return Nn.current.useRef(t)};ve.useState=function(t){return Nn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Nn.current.useTransition()};ve.version="18.2.0";Bx.exports=ve;var C=Bx.exports;const ha=uS(C),Zp=cS({__proto__:null,default:ha},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=C,SS=Symbol.for("react.element"),AS=Symbol.for("react.fragment"),RS=Object.prototype.hasOwnProperty,kS=bS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NS={key:!0,ref:!0,__self:!0,__source:!0};function Xx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RS.call(e,r)&&!NS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:SS,type:t,key:i,ref:o,props:s,_owner:kS.current}}B0.Fragment=AS;B0.jsx=Xx;B0.jsxs=Xx;zx.exports=B0;var f=zx.exports,em={},Jx={exports:{}},lr={},Zx={exports:{}},e4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,O){var $=D.length;D.push(O);e:for(;0<$;){var H=$-1>>>1,B=D[H];if(0<s(B,O))D[H]=O,D[$]=B,$=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var O=D[0],$=D.pop();if($!==O){D[0]=$;e:for(var H=0,B=D.length,K=B>>>1;H<K;){var V=2*(H+1)-1,F=D[V],te=V+1,pe=D[te];if(0>s(F,$))te<B&&0>s(pe,F)?(D[H]=pe,D[te]=$,H=te):(D[H]=F,D[V]=$,H=V);else if(te<B&&0>s(pe,$))D[H]=pe,D[te]=$,H=te;else break e}}return O}function s(D,O){var $=D.sortIndex-O.sortIndex;return $!==0?$:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=D)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function x(D){if(y=!1,_(D),!g)if(n(l)!==null)g=!0,k(A);else{var O=n(c);O!==null&&R(x,O.startTime-D)}}function A(D,O){g=!1,y&&(y=!1,m(E),E=-1),p=!0;var $=h;try{for(_(O),d=n(l);d!==null&&(!(d.expirationTime>O)||D&&!P());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var B=H(d.expirationTime<=O);O=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),_(O)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var V=n(c);V!==null&&R(x,V.startTime-O),K=!1}return K}finally{d=null,h=$,p=!1}}var I=!1,S=null,E=-1,T=5,b=-1;function P(){return!(t.unstable_now()-b<T)}function N(){if(S!==null){var D=t.unstable_now();b=D;var O=!0;try{O=S(!0,D)}finally{O?M():(I=!1,S=null)}}else I=!1}var M;if(typeof v=="function")M=function(){v(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){w(N,0)};function k(D){S=D,I||(I=!0,M())}function R(D,O){E=w(function(){D(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,k(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var $=h;h=O;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return O()}finally{h=$}},t.unstable_scheduleCallback=function(D,O,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,D={id:u++,callback:O,priorityLevel:D,startTime:$,expirationTime:B,sortIndex:-1},$>H?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(m(E),E=-1):y=!0,R(x,$-H))):(D.sortIndex=B,e(l,D),g||p||(g=!0,k(A))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var O=h;return function(){var $=h;h=O;try{return D.apply(this,arguments)}finally{h=$}}}})(e4);Zx.exports=e4;var PS=Zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=C,ir=PS;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n4=new Set,Fc={};function zo(t,e){Ja(t,e),Ja(t+"Capture",e)}function Ja(t,e){for(Fc[t]=e,t=0;t<e.length;t++)n4.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=Object.prototype.hasOwnProperty,LS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N_={},P_={};function MS(t){return tm.call(P_,t)?!0:tm.call(N_,t)?!1:LS.test(t)?P_[t]=!0:(N_[t]=!0,!1)}function OS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DS(t,e,n,r){if(e===null||typeof e>"u"||OS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var i1=/[\-:]([a-z])/g;function o1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i1,o1);cn[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i1,o1);cn[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i1,o1);cn[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function a1(t,e,n,r){var s=cn.hasOwnProperty(e)?cn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DS(e,n,s,r)&&(n=null),r||s===null?MS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qs=t4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),fa=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),l1=Symbol.for("react.strict_mode"),nm=Symbol.for("react.profiler"),r4=Symbol.for("react.provider"),s4=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),sm=Symbol.for("react.suspense_list"),u1=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),i4=Symbol.for("react.offscreen"),L_=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=L_&&t[L_]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,H2;function lc(t){if(H2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);H2=e&&e[1]||""}return`
`+H2+t}var q2=!1;function G2(t,e){if(!t||q2)return"";q2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{q2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lc(t):""}function jS(t){switch(t.tag){case 5:return lc(t.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return t=G2(t.type,!1),t;case 11:return t=G2(t.type.render,!1),t;case 1:return t=G2(t.type,!0),t;default:return""}}function im(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pa:return"Fragment";case fa:return"Portal";case nm:return"Profiler";case l1:return"StrictMode";case rm:return"Suspense";case sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s4:return(t.displayName||"Context")+".Consumer";case r4:return(t._context.displayName||"Context")+".Provider";case c1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u1:return e=t.displayName||null,e!==null?e:im(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return im(t(e))}catch{}}return null}function $S(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return im(e);case 8:return e===l1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FS(t){var e=o4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xd(t){t._valueTracker||(t._valueTracker=FS(t))}function a4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=o4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function om(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l4(t,e){e=e.checked,e!=null&&a1(t,"checked",e,!1)}function am(t,e){l4(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lm(t,e.type,n):e.hasOwnProperty("defaultValue")&&lm(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lm(t,e,n){(e!=="number"||bh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cc=Array.isArray;function ka(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(cc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function c4(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function um(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ed,d4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},US=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(t){US.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_c[e]=_c[t]})});function h4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_c.hasOwnProperty(t)&&_c[t]?(""+e).trim():e+"px"}function f4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=h4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var VS=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dm(t,e){if(e){if(VS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function hm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=null;function d1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pm=null,Na=null,Pa=null;function $_(t){if(t=$u(t)){if(typeof pm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=K0(e),pm(t.stateNode,t.type,e))}}function p4(t){Na?Pa?Pa.push(t):Pa=[t]:Na=t}function m4(){if(Na){var t=Na,e=Pa;if(Pa=Na=null,$_(t),e)for(t=0;t<e.length;t++)$_(e[t])}}function g4(t,e){return t(e)}function y4(){}var K2=!1;function v4(t,e,n){if(K2)return t(e,n);K2=!0;try{return g4(t,e,n)}finally{K2=!1,(Na!==null||Pa!==null)&&(y4(),m4())}}function Vc(t,e){var n=t.stateNode;if(n===null)return null;var r=K0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var mm=!1;if(Fs)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){mm=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{mm=!1}function zS(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wc=!1,Sh=null,Ah=!1,gm=null,BS={onError:function(t){wc=!0,Sh=t}};function WS(t,e,n,r,s,i,o,a,l){wc=!1,Sh=null,zS.apply(BS,arguments)}function HS(t,e,n,r,s,i,o,a,l){if(WS.apply(this,arguments),wc){if(wc){var c=Sh;wc=!1,Sh=null}else throw Error(W(198));Ah||(Ah=!0,gm=c)}}function Bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F_(t){if(Bo(t)!==t)throw Error(W(188))}function qS(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return F_(s),t;if(i===r)return F_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function w4(t){return t=qS(t),t!==null?x4(t):null}function x4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=x4(t);if(e!==null)return e;t=t.sibling}return null}var E4=ir.unstable_scheduleCallback,U_=ir.unstable_cancelCallback,GS=ir.unstable_shouldYield,KS=ir.unstable_requestPaint,wt=ir.unstable_now,QS=ir.unstable_getCurrentPriorityLevel,h1=ir.unstable_ImmediatePriority,C4=ir.unstable_UserBlockingPriority,Rh=ir.unstable_NormalPriority,YS=ir.unstable_LowPriority,T4=ir.unstable_IdlePriority,W0=null,ds=null;function XS(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(W0,t,void 0,(t.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:e8,JS=Math.log,ZS=Math.LN2;function e8(t){return t>>>=0,t===0?32:31-(JS(t)/ZS|0)|0}var Cd=64,Td=4194304;function uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=uc(a):(i&=o,i!==0&&(r=uc(i)))}else o=n&~s,o!==0?r=uc(o):i!==0&&(r=uc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qr(e),s=1<<n,r|=t[n],e&=~s;return r}function t8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=t8(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ym(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I4(){var t=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),t}function Q2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qr(e),t[e]=n}function r8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function f1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function b4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S4,p1,A4,R4,k4,vm=!1,Id=[],yi=null,vi=null,_i=null,zc=new Map,Bc=new Map,ni=[],s8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V_(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":zc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(e.pointerId)}}function Bl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$u(e),e!==null&&p1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function i8(t,e,n,r,s){switch(e){case"focusin":return yi=Bl(yi,t,e,n,r,s),!0;case"dragenter":return vi=Bl(vi,t,e,n,r,s),!0;case"mouseover":return _i=Bl(_i,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zc.set(i,Bl(zc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bc.set(i,Bl(Bc.get(i)||null,t,e,n,r,s)),!0}return!1}function N4(t){var e=ao(t.target);if(e!==null){var n=Bo(e);if(n!==null){if(e=n.tag,e===13){if(e=_4(n),e!==null){t.blockedOn=e,k4(t.priority,function(){A4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fm=r,n.target.dispatchEvent(r),fm=null}else return e=$u(n),e!==null&&p1(e),t.blockedOn=n,!1;e.shift()}return!0}function z_(t,e,n){nh(t)&&n.delete(e)}function o8(){vm=!1,yi!==null&&nh(yi)&&(yi=null),vi!==null&&nh(vi)&&(vi=null),_i!==null&&nh(_i)&&(_i=null),zc.forEach(z_),Bc.forEach(z_)}function Wl(t,e){t.blockedOn===e&&(t.blockedOn=null,vm||(vm=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,o8)))}function Wc(t){function e(s){return Wl(s,t)}if(0<Id.length){Wl(Id[0],t);for(var n=1;n<Id.length;n++){var r=Id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Wl(yi,t),vi!==null&&Wl(vi,t),_i!==null&&Wl(_i,t),zc.forEach(e),Bc.forEach(e),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)N4(n),n.blockedOn===null&&ni.shift()}var La=Qs.ReactCurrentBatchConfig,Nh=!0;function a8(t,e,n,r){var s=Me,i=La.transition;La.transition=null;try{Me=1,m1(t,e,n,r)}finally{Me=s,La.transition=i}}function l8(t,e,n,r){var s=Me,i=La.transition;La.transition=null;try{Me=4,m1(t,e,n,r)}finally{Me=s,La.transition=i}}function m1(t,e,n,r){if(Nh){var s=_m(t,e,n,r);if(s===null)ip(t,e,r,Ph,n),V_(t,r);else if(i8(s,t,e,n,r))r.stopPropagation();else if(V_(t,r),e&4&&-1<s8.indexOf(t)){for(;s!==null;){var i=$u(s);if(i!==null&&S4(i),i=_m(t,e,n,r),i===null&&ip(t,e,r,Ph,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ip(t,e,r,null,n)}}var Ph=null;function _m(t,e,n,r){if(Ph=null,t=d1(r),t=ao(t),t!==null)if(e=Bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ph=t,null}function P4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QS()){case h1:return 1;case C4:return 4;case Rh:case YS:return 16;case T4:return 536870912;default:return 16}default:return 16}}var ui=null,g1=null,rh=null;function L4(){if(rh)return rh;var t,e=g1,n=e.length,r,s="value"in ui?ui.value:ui.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return rh=s.slice(t,1<r?1-r:void 0)}function sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function B_(){return!1}function cr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bd:B_,this.isPropagationStopped=B_,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=cr(xl),ju=ct({},xl,{view:0,detail:0}),c8=cr(ju),Y2,X2,Hl,H0=ct({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Y2=t.screenX-Hl.screenX,X2=t.screenY-Hl.screenY):X2=Y2=0,Hl=t),Y2)},movementY:function(t){return"movementY"in t?t.movementY:X2}}),W_=cr(H0),u8=ct({},H0,{dataTransfer:0}),d8=cr(u8),h8=ct({},ju,{relatedTarget:0}),J2=cr(h8),f8=ct({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),p8=cr(f8),m8=ct({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g8=cr(m8),y8=ct({},xl,{data:0}),H_=cr(y8),v8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w8[t])?!!e[t]:!1}function v1(){return x8}var E8=ct({},ju,{key:function(t){if(t.key){var e=v8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v1,charCode:function(t){return t.type==="keypress"?sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C8=cr(E8),T8=ct({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q_=cr(T8),I8=ct({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v1}),b8=cr(I8),S8=ct({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),A8=cr(S8),R8=ct({},H0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k8=cr(R8),N8=[9,13,27,32],_1=Fs&&"CompositionEvent"in window,xc=null;Fs&&"documentMode"in document&&(xc=document.documentMode);var P8=Fs&&"TextEvent"in window&&!xc,M4=Fs&&(!_1||xc&&8<xc&&11>=xc),G_=" ",K_=!1;function O4(t,e){switch(t){case"keyup":return N8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function L8(t,e){switch(t){case"compositionend":return D4(e);case"keypress":return e.which!==32?null:(K_=!0,G_);case"textInput":return t=e.data,t===G_&&K_?null:t;default:return null}}function M8(t,e){if(ma)return t==="compositionend"||!_1&&O4(t,e)?(t=L4(),rh=g1=ui=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M4&&e.locale!=="ko"?null:e.data;default:return null}}var O8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O8[t.type]:e==="textarea"}function j4(t,e,n,r){p4(r),e=Lh(e,"onChange"),0<e.length&&(n=new y1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,Hc=null;function D8(t){K4(t,0)}function q0(t){var e=va(t);if(a4(e))return t}function j8(t,e){if(t==="change")return e}var $4=!1;if(Fs){var Z2;if(Fs){var ep="oninput"in document;if(!ep){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),ep=typeof Y_.oninput=="function"}Z2=ep}else Z2=!1;$4=Z2&&(!document.documentMode||9<document.documentMode)}function X_(){Ec&&(Ec.detachEvent("onpropertychange",F4),Hc=Ec=null)}function F4(t){if(t.propertyName==="value"&&q0(Hc)){var e=[];j4(e,Hc,t,d1(t)),v4(D8,e)}}function $8(t,e,n){t==="focusin"?(X_(),Ec=e,Hc=n,Ec.attachEvent("onpropertychange",F4)):t==="focusout"&&X_()}function F8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return q0(Hc)}function U8(t,e){if(t==="click")return q0(e)}function V8(t,e){if(t==="input"||t==="change")return q0(e)}function z8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qr=typeof Object.is=="function"?Object.is:z8;function qc(t,e){if(Qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tm.call(e,s)||!Qr(t[s],e[s]))return!1}return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z_(t,e){var n=J_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function U4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V4(){for(var t=window,e=bh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bh(t.document)}return e}function w1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B8(t){var e=V4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&U4(n.ownerDocument.documentElement,n)){if(r!==null&&w1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Z_(n,i);var o=Z_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W8=Fs&&"documentMode"in document&&11>=document.documentMode,ga=null,wm=null,Cc=null,xm=!1;function e3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xm||ga==null||ga!==bh(r)||(r=ga,"selectionStart"in r&&w1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cc&&qc(Cc,r)||(Cc=r,r=Lh(wm,"onSelect"),0<r.length&&(e=new y1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function Sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},tp={},z4={};Fs&&(z4=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function G0(t){if(tp[t])return tp[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z4)return tp[t]=e[n];return t}var B4=G0("animationend"),W4=G0("animationiteration"),H4=G0("animationstart"),q4=G0("transitionend"),G4=new Map,t3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){G4.set(t,e),zo(e,[t])}for(var np=0;np<t3.length;np++){var rp=t3[np],H8=rp.toLowerCase(),q8=rp[0].toUpperCase()+rp.slice(1);Vi(H8,"on"+q8)}Vi(B4,"onAnimationEnd");Vi(W4,"onAnimationIteration");Vi(H4,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(q4,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G8=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function n3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HS(r,e,void 0,t),t.currentTarget=null}function K4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;n3(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;n3(s,a,c),i=l}}}if(Ah)throw t=gm,Ah=!1,gm=null,t}function Je(t,e){var n=e[bm];n===void 0&&(n=e[bm]=new Set);var r=t+"__bubble";n.has(r)||(Q4(e,t,2,!1),n.add(r))}function sp(t,e,n){var r=0;e&&(r|=4),Q4(n,t,r,e)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Gc(t){if(!t[Ad]){t[Ad]=!0,n4.forEach(function(n){n!=="selectionchange"&&(G8.has(n)||sp(n,!1,t),sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ad]||(e[Ad]=!0,sp("selectionchange",!1,e))}}function Q4(t,e,n,r){switch(P4(e)){case 1:var s=a8;break;case 4:s=l8;break;default:s=m1}n=s.bind(null,e,n,t),s=void 0,!mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ip(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ao(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}v4(function(){var c=i,u=d1(n),d=[];e:{var h=G4.get(t);if(h!==void 0){var p=y1,g=t;switch(t){case"keypress":if(sh(n)===0)break e;case"keydown":case"keyup":p=C8;break;case"focusin":g="focus",p=J2;break;case"focusout":g="blur",p=J2;break;case"beforeblur":case"afterblur":p=J2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=W_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=d8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=b8;break;case B4:case W4:case H4:p=p8;break;case q4:p=A8;break;case"scroll":p=c8;break;case"wheel":p=k8;break;case"copy":case"cut":case"paste":p=g8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=q_}var y=(e&4)!==0,w=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,m!==null&&(x=Vc(v,m),x!=null&&y.push(Kc(v,x,_)))),w)break;v=v.return}0<y.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==fm&&(g=n.relatedTarget||n.fromElement)&&(ao(g)||g[Us]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?ao(g):null,g!==null&&(w=Bo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=W_,x="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=q_,x="onPointerLeave",m="onPointerEnter",v="pointer"),w=p==null?h:va(p),_=g==null?h:va(g),h=new y(x,v+"leave",p,n,u),h.target=w,h.relatedTarget=_,x=null,ao(u)===c&&(y=new y(m,v+"enter",g,n,u),y.target=_,y.relatedTarget=w,x=y),w=x,p&&g)t:{for(y=p,m=g,v=0,_=y;_;_=ta(_))v++;for(_=0,x=m;x;x=ta(x))_++;for(;0<v-_;)y=ta(y),v--;for(;0<_-v;)m=ta(m),_--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=ta(y),m=ta(m)}y=null}else y=null;p!==null&&r3(d,h,p,y,!1),g!==null&&w!==null&&r3(d,w,g,y,!0)}}e:{if(h=c?va(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=j8;else if(Q_(h))if($4)A=V8;else{A=F8;var I=$8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=U8);if(A&&(A=A(t,c))){j4(d,A,n,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&lm(h,"number",h.value)}switch(I=c?va(c):window,t){case"focusin":(Q_(I)||I.contentEditable==="true")&&(ga=I,wm=c,Cc=null);break;case"focusout":Cc=wm=ga=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,e3(d,n,u);break;case"selectionchange":if(W8)break;case"keydown":case"keyup":e3(d,n,u)}var S;if(_1)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ma?O4(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(M4&&n.locale!=="ko"&&(ma||E!=="onCompositionStart"?E==="onCompositionEnd"&&ma&&(S=L4()):(ui=u,g1="value"in ui?ui.value:ui.textContent,ma=!0)),I=Lh(c,E),0<I.length&&(E=new H_(E,t,null,n,u),d.push({event:E,listeners:I}),S?E.data=S:(S=D4(n),S!==null&&(E.data=S)))),(S=P8?L8(t,n):M8(t,n))&&(c=Lh(c,"onBeforeInput"),0<c.length&&(u=new H_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}K4(d,e)})}function Kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vc(t,n),i!=null&&r.unshift(Kc(t,i,s)),i=Vc(t,e),i!=null&&r.push(Kc(t,i,s))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r3(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Vc(n,i),l!=null&&o.unshift(Kc(n,l,a))):s||(l=Vc(n,i),l!=null&&o.push(Kc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K8=/\r\n?/g,Q8=/\u0000|\uFFFD/g;function s3(t){return(typeof t=="string"?t:""+t).replace(K8,`
`).replace(Q8,"")}function Rd(t,e,n){if(e=s3(e),s3(t)!==e&&n)throw Error(W(425))}function Mh(){}var Em=null,Cm=null;function Tm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,Y8=typeof clearTimeout=="function"?clearTimeout:void 0,i3=typeof Promise=="function"?Promise:void 0,X8=typeof queueMicrotask=="function"?queueMicrotask:typeof i3<"u"?function(t){return i3.resolve(null).then(t).catch(J8)}:Im;function J8(t){setTimeout(function(){throw t})}function op(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Wc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wc(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var El=Math.random().toString(36).slice(2),is="__reactFiber$"+El,Qc="__reactProps$"+El,Us="__reactContainer$"+El,bm="__reactEvents$"+El,Z8="__reactListeners$"+El,eA="__reactHandles$"+El;function ao(t){var e=t[is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Us]||n[is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o3(t);t!==null;){if(n=t[is])return n;t=o3(t)}return e}t=n,n=t.parentNode}return null}function $u(t){return t=t[is]||t[Us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function K0(t){return t[Qc]||null}var Sm=[],_a=-1;function zi(t){return{current:t}}function nt(t){0>_a||(t.current=Sm[_a],Sm[_a]=null,_a--)}function Ye(t,e){_a++,Sm[_a]=t.current,t.current=e}var Li={},Cn=zi(Li),Vn=zi(!1),Io=Li;function Za(t,e){var n=t.type.contextTypes;if(!n)return Li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zn(t){return t=t.childContextTypes,t!=null}function Oh(){nt(Vn),nt(Cn)}function a3(t,e,n){if(Cn.current!==Li)throw Error(W(168));Ye(Cn,e),Ye(Vn,n)}function Y4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,$S(t)||"Unknown",s));return ct({},n,r)}function Dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,Io=Cn.current,Ye(Cn,t),Ye(Vn,Vn.current),!0}function l3(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Y4(t,e,Io),r.__reactInternalMemoizedMergedChildContext=t,nt(Vn),nt(Cn),Ye(Cn,t)):nt(Vn),Ye(Vn,n)}var Rs=null,Q0=!1,ap=!1;function X4(t){Rs===null?Rs=[t]:Rs.push(t)}function tA(t){Q0=!0,X4(t)}function Bi(){if(!ap&&Rs!==null){ap=!0;var t=0,e=Me;try{var n=Rs;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rs=null,Q0=!1}catch(s){throw Rs!==null&&(Rs=Rs.slice(t+1)),E4(h1,Bi),s}finally{Me=e,ap=!1}}return null}var wa=[],xa=0,jh=null,$h=0,yr=[],vr=0,bo=null,Ns=1,Ps="";function to(t,e){wa[xa++]=$h,wa[xa++]=jh,jh=t,$h=e}function J4(t,e,n){yr[vr++]=Ns,yr[vr++]=Ps,yr[vr++]=bo,bo=t;var r=Ns;t=Ps;var s=32-qr(r)-1;r&=~(1<<s),n+=1;var i=32-qr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ns=1<<32-qr(e)+s|n<<s|r,Ps=i+t}else Ns=1<<i|n<<s|r,Ps=t}function x1(t){t.return!==null&&(to(t,1),J4(t,1,0))}function E1(t){for(;t===jh;)jh=wa[--xa],wa[xa]=null,$h=wa[--xa],wa[xa]=null;for(;t===bo;)bo=yr[--vr],yr[vr]=null,Ps=yr[--vr],yr[vr]=null,Ns=yr[--vr],yr[vr]=null}var tr=null,Jn=null,ot=!1,Br=null;function Z4(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bo!==null?{id:Ns,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function Am(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rm(t){if(ot){var e=Jn;if(e){var n=e;if(!c3(t,e)){if(Am(t))throw Error(W(418));e=wi(n.nextSibling);var r=tr;e&&c3(t,e)?Z4(r,n):(t.flags=t.flags&-4097|2,ot=!1,tr=t)}}else{if(Am(t))throw Error(W(418));t.flags=t.flags&-4097|2,ot=!1,tr=t}}}function u3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function kd(t){if(t!==tr)return!1;if(!ot)return u3(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tm(t.type,t.memoizedProps)),e&&(e=Jn)){if(Am(t))throw eE(),Error(W(418));for(;e;)Z4(t,e),e=wi(e.nextSibling)}if(u3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?wi(t.stateNode.nextSibling):null;return!0}function eE(){for(var t=Jn;t;)t=wi(t.nextSibling)}function el(){Jn=tr=null,ot=!1}function C1(t){Br===null?Br=[t]:Br.push(t)}var nA=Qs.ReactCurrentBatchConfig;function Vr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fh=zi(null),Uh=null,Ea=null,T1=null;function I1(){T1=Ea=Uh=null}function b1(t){var e=Fh.current;nt(Fh),t._currentValue=e}function km(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){Uh=t,T1=Ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(T1!==t)if(t={context:t,memoizedValue:e,next:null},Ea===null){if(Uh===null)throw Error(W(308));Ea=t,Uh.dependencies={lanes:0,firstContext:t}}else Ea=Ea.next=t;return e}var lo=null;function S1(t){lo===null?lo=[t]:lo.push(t)}function tE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,S1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vs(t,r)}function Vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function A1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vs(t,n)}return s=r.interleaved,s===null?(e.next=e,S1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vs(t,n)}function ih(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f1(t,n)}}function d3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vh(t,e,n,r){var s=t.updateQueue;ti=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ct({},d,h);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ao|=o,t.lanes=o,t.memoizedState=d}}function h3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var rE=new t4.Component().refs;function Nm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Y0={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),s=Ci(t),i=js(r,s);i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,s),e!==null&&(Gr(e,t,s,r),ih(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),s=Ci(t),i=js(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,s),e!==null&&(Gr(e,t,s,r),ih(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=Ci(t),s=js(n,r);s.tag=2,e!=null&&(s.callback=e),e=xi(t,s,r),e!==null&&(Gr(e,t,r,n),ih(e,t,r))}};function f3(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qc(n,r)||!qc(s,i):!0}function sE(t,e,n){var r=!1,s=Li,i=e.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=zn(e)?Io:Cn.current,r=e.contextTypes,i=(r=r!=null)?Za(t,s):Li),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function p3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Y0.enqueueReplaceState(e,e.state,null)}function Pm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=rE,A1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=zn(e)?Io:Cn.current,s.context=Za(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Nm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Y0.enqueueReplaceState(s,s.state,null),Vh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===rE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Nd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m3(t){var e=t._init;return e(t._payload)}function iE(t){function e(m,v){if(t){var _=m.deletions;_===null?(m.deletions=[v],m.flags|=16):_.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Ti(m,v),m.index=0,m.sibling=null,m}function i(m,v,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags|=2,v):_):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,v,_,x){return v===null||v.tag!==6?(v=pp(_,m.mode,x),v.return=m,v):(v=s(v,_),v.return=m,v)}function l(m,v,_,x){var A=_.type;return A===pa?u(m,v,_.props.children,x,_.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ei&&m3(A)===v.type)?(x=s(v,_.props),x.ref=ql(m,v,_),x.return=m,x):(x=dh(_.type,_.key,_.props,null,m.mode,x),x.ref=ql(m,v,_),x.return=m,x)}function c(m,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=mp(_,m.mode,x),v.return=m,v):(v=s(v,_.children||[]),v.return=m,v)}function u(m,v,_,x,A){return v===null||v.tag!==7?(v=wo(_,m.mode,x,A),v.return=m,v):(v=s(v,_),v.return=m,v)}function d(m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pp(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wd:return _=dh(v.type,v.key,v.props,null,m.mode,_),_.ref=ql(m,null,v),_.return=m,_;case fa:return v=mp(v,m.mode,_),v.return=m,v;case ei:var x=v._init;return d(m,x(v._payload),_)}if(cc(v)||Vl(v))return v=wo(v,m.mode,_,null),v.return=m,v;Nd(m,v)}return null}function h(m,v,_,x){var A=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:a(m,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wd:return _.key===A?l(m,v,_,x):null;case fa:return _.key===A?c(m,v,_,x):null;case ei:return A=_._init,h(m,v,A(_._payload),x)}if(cc(_)||Vl(_))return A!==null?null:u(m,v,_,x,null);Nd(m,_)}return null}function p(m,v,_,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(_)||null,a(v,m,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wd:return m=m.get(x.key===null?_:x.key)||null,l(v,m,x,A);case fa:return m=m.get(x.key===null?_:x.key)||null,c(v,m,x,A);case ei:var I=x._init;return p(m,v,_,I(x._payload),A)}if(cc(x)||Vl(x))return m=m.get(_)||null,u(v,m,x,A,null);Nd(v,x)}return null}function g(m,v,_,x){for(var A=null,I=null,S=v,E=v=0,T=null;S!==null&&E<_.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var b=h(m,S,_[E],x);if(b===null){S===null&&(S=T);break}t&&S&&b.alternate===null&&e(m,S),v=i(b,v,E),I===null?A=b:I.sibling=b,I=b,S=T}if(E===_.length)return n(m,S),ot&&to(m,E),A;if(S===null){for(;E<_.length;E++)S=d(m,_[E],x),S!==null&&(v=i(S,v,E),I===null?A=S:I.sibling=S,I=S);return ot&&to(m,E),A}for(S=r(m,S);E<_.length;E++)T=p(S,m,E,_[E],x),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),v=i(T,v,E),I===null?A=T:I.sibling=T,I=T);return t&&S.forEach(function(P){return e(m,P)}),ot&&to(m,E),A}function y(m,v,_,x){var A=Vl(_);if(typeof A!="function")throw Error(W(150));if(_=A.call(_),_==null)throw Error(W(151));for(var I=A=null,S=v,E=v=0,T=null,b=_.next();S!==null&&!b.done;E++,b=_.next()){S.index>E?(T=S,S=null):T=S.sibling;var P=h(m,S,b.value,x);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(m,S),v=i(P,v,E),I===null?A=P:I.sibling=P,I=P,S=T}if(b.done)return n(m,S),ot&&to(m,E),A;if(S===null){for(;!b.done;E++,b=_.next())b=d(m,b.value,x),b!==null&&(v=i(b,v,E),I===null?A=b:I.sibling=b,I=b);return ot&&to(m,E),A}for(S=r(m,S);!b.done;E++,b=_.next())b=p(S,m,E,b.value,x),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?E:b.key),v=i(b,v,E),I===null?A=b:I.sibling=b,I=b);return t&&S.forEach(function(N){return e(m,N)}),ot&&to(m,E),A}function w(m,v,_,x){if(typeof _=="object"&&_!==null&&_.type===pa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wd:e:{for(var A=_.key,I=v;I!==null;){if(I.key===A){if(A=_.type,A===pa){if(I.tag===7){n(m,I.sibling),v=s(I,_.props.children),v.return=m,m=v;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ei&&m3(A)===I.type){n(m,I.sibling),v=s(I,_.props),v.ref=ql(m,I,_),v.return=m,m=v;break e}n(m,I);break}else e(m,I);I=I.sibling}_.type===pa?(v=wo(_.props.children,m.mode,x,_.key),v.return=m,m=v):(x=dh(_.type,_.key,_.props,null,m.mode,x),x.ref=ql(m,v,_),x.return=m,m=x)}return o(m);case fa:e:{for(I=_.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(m,v.sibling),v=s(v,_.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=mp(_,m.mode,x),v.return=m,m=v}return o(m);case ei:return I=_._init,w(m,v,I(_._payload),x)}if(cc(_))return g(m,v,_,x);if(Vl(_))return y(m,v,_,x);Nd(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,_),v.return=m,m=v):(n(m,v),v=pp(_,m.mode,x),v.return=m,m=v),o(m)):n(m,v)}return w}var tl=iE(!0),oE=iE(!1),Fu={},hs=zi(Fu),Yc=zi(Fu),Xc=zi(Fu);function co(t){if(t===Fu)throw Error(W(174));return t}function R1(t,e){switch(Ye(Xc,e),Ye(Yc,t),Ye(hs,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:um(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=um(e,t)}nt(hs),Ye(hs,e)}function nl(){nt(hs),nt(Yc),nt(Xc)}function aE(t){co(Xc.current);var e=co(hs.current),n=um(e,t.type);e!==n&&(Ye(Yc,t),Ye(hs,n))}function k1(t){Yc.current===t&&(nt(hs),nt(Yc))}var at=zi(0);function zh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lp=[];function N1(){for(var t=0;t<lp.length;t++)lp[t]._workInProgressVersionPrimary=null;lp.length=0}var oh=Qs.ReactCurrentDispatcher,cp=Qs.ReactCurrentBatchConfig,So=0,lt=null,jt=null,Bt=null,Bh=!1,Tc=!1,Jc=0,rA=0;function un(){throw Error(W(321))}function P1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qr(t[n],e[n]))return!1;return!0}function L1(t,e,n,r,s,i){if(So=i,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oh.current=t===null||t.memoizedState===null?aA:lA,t=n(r,s),Tc){i=0;do{if(Tc=!1,Jc=0,25<=i)throw Error(W(301));i+=1,Bt=jt=null,e.updateQueue=null,oh.current=cA,t=n(r,s)}while(Tc)}if(oh.current=Wh,e=jt!==null&&jt.next!==null,So=0,Bt=jt=lt=null,Bh=!1,e)throw Error(W(300));return t}function M1(){var t=Jc!==0;return Jc=0,t}function ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?lt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Sr(){if(jt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Bt===null?lt.memoizedState:Bt.next;if(e!==null)Bt=e,jt=t;else{if(t===null)throw Error(W(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Bt===null?lt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Zc(t,e){return typeof e=="function"?e(t):e}function up(t){var e=Sr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((So&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,lt.lanes|=u,Ao|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Qr(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,lt.lanes|=i,Ao|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dp(t){var e=Sr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qr(i,e.memoizedState)||($n=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lE(){}function cE(t,e){var n=lt,r=Sr(),s=e(),i=!Qr(r.memoizedState,s);if(i&&(r.memoizedState=s,$n=!0),r=r.queue,O1(hE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,eu(9,dE.bind(null,n,r,s,e),void 0,null),qt===null)throw Error(W(349));So&30||uE(n,e,s)}return s}function uE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dE(t,e,n,r){e.value=n,e.getSnapshot=r,fE(e)&&pE(t)}function hE(t,e,n){return n(function(){fE(e)&&pE(t)})}function fE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qr(t,n)}catch{return!0}}function pE(t){var e=Vs(t,1);e!==null&&Gr(e,t,1,-1)}function g3(t){var e=ts();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:t},e.queue=t,t=t.dispatch=oA.bind(null,lt,t),[e.memoizedState,t]}function eu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mE(){return Sr().memoizedState}function ah(t,e,n,r){var s=ts();lt.flags|=t,s.memoizedState=eu(1|e,n,void 0,r===void 0?null:r)}function X0(t,e,n,r){var s=Sr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&P1(r,o.deps)){s.memoizedState=eu(e,n,i,r);return}}lt.flags|=t,s.memoizedState=eu(1|e,n,i,r)}function y3(t,e){return ah(8390656,8,t,e)}function O1(t,e){return X0(2048,8,t,e)}function gE(t,e){return X0(4,2,t,e)}function yE(t,e){return X0(4,4,t,e)}function vE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _E(t,e,n){return n=n!=null?n.concat([t]):null,X0(4,4,vE.bind(null,e,t),n)}function D1(){}function wE(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xE(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function EE(t,e,n){return So&21?(Qr(n,e)||(n=I4(),lt.lanes|=n,Ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=n)}function sA(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=cp.transition;cp.transition={};try{t(!1),e()}finally{Me=n,cp.transition=r}}function CE(){return Sr().memoizedState}function iA(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TE(t))IE(e,n);else if(n=tE(t,e,n,r),n!==null){var s=kn();Gr(n,t,r,s),bE(n,e,r)}}function oA(t,e,n){var r=Ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TE(t))IE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qr(a,o)){var l=e.interleaved;l===null?(s.next=s,S1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=tE(t,e,s,r),n!==null&&(s=kn(),Gr(n,t,r,s),bE(n,e,r))}}function TE(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function IE(t,e){Tc=Bh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f1(t,n)}}var Wh={readContext:br,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},aA={readContext:br,useCallback:function(t,e){return ts().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:y3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ah(4194308,4,vE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ah(4194308,4,t,e)},useInsertionEffect:function(t,e){return ah(4,2,t,e)},useMemo:function(t,e){var n=ts();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ts();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iA.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=ts();return t={current:t},e.memoizedState=t},useState:g3,useDebugValue:D1,useDeferredValue:function(t){return ts().memoizedState=t},useTransition:function(){var t=g3(!1),e=t[0];return t=sA.bind(null,t[1]),ts().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,s=ts();if(ot){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),qt===null)throw Error(W(349));So&30||uE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,y3(hE.bind(null,r,i,t),[t]),r.flags|=2048,eu(9,dE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ts(),e=qt.identifierPrefix;if(ot){var n=Ps,r=Ns;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lA={readContext:br,useCallback:wE,useContext:br,useEffect:O1,useImperativeHandle:_E,useInsertionEffect:gE,useLayoutEffect:yE,useMemo:xE,useReducer:up,useRef:mE,useState:function(){return up(Zc)},useDebugValue:D1,useDeferredValue:function(t){var e=Sr();return EE(e,jt.memoizedState,t)},useTransition:function(){var t=up(Zc)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:cE,useId:CE,unstable_isNewReconciler:!1},cA={readContext:br,useCallback:wE,useContext:br,useEffect:O1,useImperativeHandle:_E,useInsertionEffect:gE,useLayoutEffect:yE,useMemo:xE,useReducer:dp,useRef:mE,useState:function(){return dp(Zc)},useDebugValue:D1,useDeferredValue:function(t){var e=Sr();return jt===null?e.memoizedState=t:EE(e,jt.memoizedState,t)},useTransition:function(){var t=dp(Zc)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:lE,useSyncExternalStore:cE,useId:CE,unstable_isNewReconciler:!1};function rl(t,e){try{var n="",r=e;do n+=jS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uA=typeof WeakMap=="function"?WeakMap:Map;function SE(t,e,n){n=js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qh||(qh=!0,Bm=r),Lm(t,e)},n}function AE(t,e,n){n=js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lm(t,e),typeof r!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function v3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=TA.bind(null,t,e,n),e.then(t,t))}function _3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w3(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=js(-1,1),e.tag=2,xi(n,e,1))),n.lanes|=1),t)}var dA=Qs.ReactCurrentOwner,$n=!1;function An(t,e,n,r){e.child=t===null?oE(e,null,n,r):tl(e,t.child,n,r)}function x3(t,e,n,r,s){n=n.render;var i=e.ref;return Ma(e,s),r=L1(t,e,n,r,i,s),n=M1(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zs(t,e,s)):(ot&&n&&x1(e),e.flags|=1,An(t,e,r,s),e.child)}function E3(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!W1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RE(t,e,i,r,s)):(t=dh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qc,n(o,r)&&t.ref===e.ref)return zs(t,e,s)}return e.flags|=1,t=Ti(i,r),t.ref=e.ref,t.return=e,e.child=t}function RE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qc(i,r)&&t.ref===e.ref)if($n=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,zs(t,e,s)}return Mm(t,e,n,r,s)}function kE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ta,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Ta,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ye(Ta,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ye(Ta,Yn),Yn|=r;return An(t,e,s,n),e.child}function NE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mm(t,e,n,r,s){var i=zn(n)?Io:Cn.current;return i=Za(e,i),Ma(e,s),n=L1(t,e,n,r,i,s),r=M1(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zs(t,e,s)):(ot&&r&&x1(e),e.flags|=1,An(t,e,n,s),e.child)}function C3(t,e,n,r,s){if(zn(n)){var i=!0;Dh(e)}else i=!1;if(Ma(e,s),e.stateNode===null)lh(t,e),sE(e,n,r),Pm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=br(c):(c=zn(n)?Io:Cn.current,c=Za(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&p3(e,o,r,c),ti=!1;var h=e.memoizedState;o.state=h,Vh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Vn.current||ti?(typeof u=="function"&&(Nm(e,n,u,r),l=e.memoizedState),(a=ti||f3(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=br(l):(l=zn(n)?Io:Cn.current,l=Za(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&p3(e,o,r,l),ti=!1,h=e.memoizedState,o.state=h,Vh(e,r,o,s);var g=e.memoizedState;a!==d||h!==g||Vn.current||ti?(typeof p=="function"&&(Nm(e,n,p,r),g=e.memoizedState),(c=ti||f3(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Om(t,e,n,r,i,s)}function Om(t,e,n,r,s,i){NE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&l3(e,n,!1),zs(t,e,i);r=e.stateNode,dA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=tl(e,t.child,null,i),e.child=tl(e,null,a,i)):An(t,e,a,i),e.memoizedState=r.state,s&&l3(e,n,!0),e.child}function PE(t){var e=t.stateNode;e.pendingContext?a3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a3(t,e.context,!1),R1(t,e.containerInfo)}function T3(t,e,n,r,s){return el(),C1(s),e.flags|=256,An(t,e,n,r),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function LE(t,e,n){var r=e.pendingProps,s=at.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ye(at,s&1),t===null)return Rm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ef(o,r,0,null),t=wo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jm(n),e.memoizedState=Dm,t):j1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ti(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ti(a,i):(i=wo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dm,r}return i=t.child,t=i.sibling,r=Ti(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j1(t,e){return e=ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pd(t,e,n,r){return r!==null&&C1(r),tl(e,t.child,null,n),t=j1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hp(Error(W(422))),Pd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ef({mode:"visible",children:r.children},s,0,null),i=wo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&tl(e,t.child,null,o),e.child.memoizedState=jm(o),e.memoizedState=Dm,i);if(!(e.mode&1))return Pd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=hp(i,r,void 0),Pd(t,e,o,r)}if(a=(o&t.childLanes)!==0,$n||a){if(r=qt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vs(t,s),Gr(r,t,s,-1))}return B1(),r=hp(Error(W(421))),Pd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=IA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=wi(s.nextSibling),tr=e,ot=!0,Br=null,t!==null&&(yr[vr++]=Ns,yr[vr++]=Ps,yr[vr++]=bo,Ns=t.id,Ps=t.overflow,bo=e),e=j1(e,r.children),e.flags|=4096,e)}function I3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),km(t.return,e,n)}function fp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ME(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(An(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I3(t,n,e);else if(t.tag===19)I3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(at,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fp(e,!0,n,null,i);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fA(t,e,n){switch(e.tag){case 3:PE(e),el();break;case 5:aE(e);break;case 1:zn(e.type)&&Dh(e);break;case 4:R1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ye(Fh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?LE(t,e,n):(Ye(at,at.current&1),t=zs(t,e,n),t!==null?t.sibling:null);Ye(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ME(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,kE(t,e,n)}return zs(t,e,n)}var OE,$m,DE,jE;OE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$m=function(){};DE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,co(hs.current);var i=null;switch(n){case"input":s=om(t,s),r=om(t,r),i=[];break;case"select":s=ct({},s,{value:void 0}),r=ct({},r,{value:void 0}),i=[];break;case"textarea":s=cm(t,s),r=cm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mh)}dm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pA(t,e,n){var r=e.pendingProps;switch(E1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return zn(e.type)&&Oh(),dn(e),null;case 3:return r=e.stateNode,nl(),nt(Vn),nt(Cn),N1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Br!==null&&(qm(Br),Br=null))),$m(t,e),dn(e),null;case 5:k1(e);var s=co(Xc.current);if(n=e.type,t!==null&&e.stateNode!=null)DE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return dn(e),null}if(t=co(hs.current),kd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[is]=e,r[Qc]=i,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<dc.length;s++)Je(dc[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":M_(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":D_(r,i),Je("invalid",r)}dm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),s=["children",""+a]):Fc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":xd(r),O_(r,i,!0);break;case"textarea":xd(r),j_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[is]=e,t[Qc]=r,OE(t,e,!1,!1),e.stateNode=t;e:{switch(o=hm(n,r),n){case"dialog":Je("cancel",t),Je("close",t),s=r;break;case"iframe":case"object":case"embed":Je("load",t),s=r;break;case"video":case"audio":for(s=0;s<dc.length;s++)Je(dc[s],t);s=r;break;case"source":Je("error",t),s=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),s=r;break;case"details":Je("toggle",t),s=r;break;case"input":M_(t,r),s=om(t,r),Je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ct({},r,{value:void 0}),Je("invalid",t);break;case"textarea":D_(t,r),s=cm(t,r),Je("invalid",t);break;default:s=r}dm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?f4(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&d4(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uc(t,l):typeof l=="number"&&Uc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Je("scroll",t):l!=null&&a1(t,i,l,o))}switch(n){case"input":xd(t),O_(t,r,!1);break;case"textarea":xd(t),j_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ka(t,!!r.multiple,i,!1):r.defaultValue!=null&&ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)jE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=co(Xc.current),co(hs.current),kd(e)){if(r=e.stateNode,n=e.memoizedProps,r[is]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[is]=e,e.stateNode=r}return dn(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Jn!==null&&e.mode&1&&!(e.flags&128))eE(),el(),e.flags|=98560,i=!1;else if(i=kd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[is]=e}else el(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),i=!1}else Br!==null&&(qm(Br),Br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Ft===0&&(Ft=3):B1())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return nl(),$m(t,e),t===null&&Gc(e.stateNode.containerInfo),dn(e),null;case 10:return b1(e.type._context),dn(e),null;case 17:return zn(e.type)&&Oh(),dn(e),null;case 19:if(nt(at),i=e.memoizedState,i===null)return dn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gl(i,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zh(t),o!==null){for(e.flags|=128,Gl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(at,at.current&1|2),e.child}t=t.sibling}i.tail!==null&&wt()>sl&&(e.flags|=128,r=!0,Gl(i,!1),e.lanes=4194304)}else{if(!r)if(t=zh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return dn(e),null}else 2*wt()-i.renderingStartTime>sl&&n!==1073741824&&(e.flags|=128,r=!0,Gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=wt(),e.sibling=null,n=at.current,Ye(at,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return z1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function mA(t,e){switch(E1(e),e.tag){case 1:return zn(e.type)&&Oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nl(),nt(Vn),nt(Cn),N1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k1(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));el()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return nl(),null;case 10:return b1(e.type._context),null;case 22:case 23:return z1(),null;case 24:return null;default:return null}}var Ld=!1,mn=!1,gA=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function Fm(t,e,n){try{n()}catch(r){ht(t,e,r)}}var b3=!1;function yA(t,e){if(Em=Nh,t=V4(),w1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cm={focusedElem:t,selectionRange:n},Nh=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vr(e.type,y),w);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){ht(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=b3,b3=!1,g}function Ic(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fm(e,n,i)}s=s.next}while(s!==r)}}function J0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Um(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $E(t){var e=t.alternate;e!==null&&(t.alternate=null,$E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[is],delete e[Qc],delete e[bm],delete e[Z8],delete e[eA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FE(t){return t.tag===5||t.tag===3||t.tag===4}function S3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mh));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zm(t,e,n),t=t.sibling;t!==null;)zm(t,e,n),t=t.sibling}var en=null,zr=!1;function Js(t,e,n){for(n=n.child;n!==null;)UE(t,e,n),n=n.sibling}function UE(t,e,n){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:mn||Ca(n,e);case 6:var r=en,s=zr;en=null,Js(t,e,n),en=r,zr=s,en!==null&&(zr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(zr?(t=en,n=n.stateNode,t.nodeType===8?op(t.parentNode,n):t.nodeType===1&&op(t,n),Wc(t)):op(en,n.stateNode));break;case 4:r=en,s=zr,en=n.stateNode.containerInfo,zr=!0,Js(t,e,n),en=r,zr=s;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Fm(n,e,o),s=s.next}while(s!==r)}Js(t,e,n);break;case 1:if(!mn&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,e,a)}Js(t,e,n);break;case 21:Js(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,Js(t,e,n),mn=r):Js(t,e,n);break;default:Js(t,e,n)}}function A3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gA),e.forEach(function(r){var s=bA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,zr=!1;break e;case 3:en=a.stateNode.containerInfo,zr=!0;break e;case 4:en=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(en===null)throw Error(W(160));UE(i,o,s),en=null,zr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ht(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),es(t),r&4){try{Ic(3,t,t.return),J0(3,t)}catch(y){ht(t,t.return,y)}try{Ic(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:Fr(e,t),es(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(Fr(e,t),es(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var s=t.stateNode;try{Uc(s,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&l4(s,i),hm(a,o);var c=hm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?f4(s,d):u==="dangerouslySetInnerHTML"?d4(s,d):u==="children"?Uc(s,d):a1(s,u,d,c)}switch(a){case"input":am(s,i);break;case"textarea":c4(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ka(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ka(s,!!i.multiple,i.defaultValue,!0):ka(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qc]=i}catch(y){ht(t,t.return,y)}}break;case 6:if(Fr(e,t),es(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ht(t,t.return,y)}}break;case 3:if(Fr(e,t),es(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wc(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:Fr(e,t),es(t);break;case 13:Fr(e,t),es(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(U1=wt())),r&4&&A3(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(c=mn)||u,Fr(e,t),mn=c):Fr(e,t),es(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(d=Z=u;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ic(4,h,h.return);break;case 1:Ca(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:Ca(h,h.return);break;case 22:if(h.memoizedState!==null){k3(d);continue}}p!==null?(p.return=h,Z=p):k3(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=h4("display",o))}catch(y){ht(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ht(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fr(e,t),es(t),r&4&&A3(t);break;case 21:break;default:Fr(e,t),es(t)}}function es(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Uc(s,""),r.flags&=-33);var i=S3(t);zm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=S3(t);Vm(t,a,o);break;default:throw Error(W(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vA(t,e,n){Z=t,zE(t)}function zE(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ld;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mn;a=Ld;var c=mn;if(Ld=o,(mn=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?N3(s):l!==null?(l.return=o,Z=l):N3(s);for(;i!==null;)Z=i,zE(i),i=i.sibling;Z=s,Ld=a,mn=c}R3(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):R3(t)}}function R3(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||J0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&h3(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h3(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Wc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}mn||e.flags&512&&Um(e)}catch(h){ht(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function k3(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function N3(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{J0(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ht(e,s,l)}}var i=e.return;try{Um(e)}catch(l){ht(e,i,l)}break;case 5:var o=e.return;try{Um(e)}catch(l){ht(e,o,l)}}}catch(l){ht(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var _A=Math.ceil,Hh=Qs.ReactCurrentDispatcher,$1=Qs.ReactCurrentOwner,Cr=Qs.ReactCurrentBatchConfig,Te=0,qt=null,Rt=null,on=0,Yn=0,Ta=zi(0),Ft=0,tu=null,Ao=0,Z0=0,F1=0,bc=null,On=null,U1=0,sl=1/0,As=null,qh=!1,Bm=null,Ei=null,Md=!1,di=null,Gh=0,Sc=0,Wm=null,ch=-1,uh=0;function kn(){return Te&6?wt():ch!==-1?ch:ch=wt()}function Ci(t){return t.mode&1?Te&2&&on!==0?on&-on:nA.transition!==null?(uh===0&&(uh=I4()),uh):(t=Me,t!==0||(t=window.event,t=t===void 0?16:P4(t.type)),t):1}function Gr(t,e,n,r){if(50<Sc)throw Sc=0,Wm=null,Error(W(185));Du(t,n,r),(!(Te&2)||t!==qt)&&(t===qt&&(!(Te&2)&&(Z0|=n),Ft===4&&ri(t,on)),Bn(t,r),n===1&&Te===0&&!(e.mode&1)&&(sl=wt()+500,Q0&&Bi()))}function Bn(t,e){var n=t.callbackNode;n8(t,e);var r=kh(t,t===qt?on:0);if(r===0)n!==null&&U_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U_(n),e===1)t.tag===0?tA(P3.bind(null,t)):X4(P3.bind(null,t)),X8(function(){!(Te&6)&&Bi()}),n=null;else{switch(b4(r)){case 1:n=h1;break;case 4:n=C4;break;case 16:n=Rh;break;case 536870912:n=T4;break;default:n=Rh}n=YE(n,BE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BE(t,e){if(ch=-1,uh=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=kh(t,t===qt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kh(t,r);else{e=r;var s=Te;Te|=2;var i=HE();(qt!==t||on!==e)&&(As=null,sl=wt()+500,_o(t,e));do try{EA();break}catch(a){WE(t,a)}while(!0);I1(),Hh.current=i,Te=s,Rt!==null?e=0:(qt=null,on=0,e=Ft)}if(e!==0){if(e===2&&(s=ym(t),s!==0&&(r=s,e=Hm(t,s))),e===1)throw n=tu,_o(t,0),ri(t,r),Bn(t,wt()),n;if(e===6)ri(t,r);else{if(s=t.current.alternate,!(r&30)&&!wA(s)&&(e=Kh(t,r),e===2&&(i=ym(t),i!==0&&(r=i,e=Hm(t,i))),e===1))throw n=tu,_o(t,0),ri(t,r),Bn(t,wt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:no(t,On,As);break;case 3:if(ri(t,r),(r&130023424)===r&&(e=U1+500-wt(),10<e)){if(kh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Im(no.bind(null,t,On,As),e);break}no(t,On,As);break;case 4:if(ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_A(r/1960))-r,10<r){t.timeoutHandle=Im(no.bind(null,t,On,As),r);break}no(t,On,As);break;case 5:no(t,On,As);break;default:throw Error(W(329))}}}return Bn(t,wt()),t.callbackNode===n?BE.bind(null,t):null}function Hm(t,e){var n=bc;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=Kh(t,e),t!==2&&(e=On,On=n,e!==null&&qm(e)),t}function qm(t){On===null?On=t:On.push.apply(On,t)}function wA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ri(t,e){for(e&=~F1,e&=~Z0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qr(e),r=1<<n;t[n]=-1,e&=~r}}function P3(t){if(Te&6)throw Error(W(327));Oa();var e=kh(t,0);if(!(e&1))return Bn(t,wt()),null;var n=Kh(t,e);if(t.tag!==0&&n===2){var r=ym(t);r!==0&&(e=r,n=Hm(t,r))}if(n===1)throw n=tu,_o(t,0),ri(t,e),Bn(t,wt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,no(t,On,As),Bn(t,wt()),null}function V1(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(sl=wt()+500,Q0&&Bi())}}function Ro(t){di!==null&&di.tag===0&&!(Te&6)&&Oa();var e=Te;Te|=1;var n=Cr.transition,r=Me;try{if(Cr.transition=null,Me=1,t)return t()}finally{Me=r,Cr.transition=n,Te=e,!(Te&6)&&Bi()}}function z1(){Yn=Ta.current,nt(Ta)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y8(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(E1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oh();break;case 3:nl(),nt(Vn),nt(Cn),N1();break;case 5:k1(r);break;case 4:nl();break;case 13:nt(at);break;case 19:nt(at);break;case 10:b1(r.type._context);break;case 22:case 23:z1()}n=n.return}if(qt=t,Rt=t=Ti(t.current,null),on=Yn=e,Ft=0,tu=null,F1=Z0=Ao=0,On=bc=null,lo!==null){for(e=0;e<lo.length;e++)if(n=lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}lo=null}return t}function WE(t,e){do{var n=Rt;try{if(I1(),oh.current=Wh,Bh){for(var r=lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bh=!1}if(So=0,Bt=jt=lt=null,Tc=!1,Jc=0,$1.current=null,n===null||n.return===null){Ft=1,tu=e,Rt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_3(o);if(p!==null){p.flags&=-257,w3(p,o,a,i,e),p.mode&1&&v3(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){v3(i,c,e),B1();break e}l=Error(W(426))}}else if(ot&&a.mode&1){var w=_3(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),w3(w,o,a,i,e),C1(rl(l,a));break e}}i=l=rl(l,a),Ft!==4&&(Ft=2),bc===null?bc=[i]:bc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=SE(i,l,e);d3(i,m);break e;case 1:a=l;var v=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ei===null||!Ei.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=AE(i,a,e);d3(i,x);break e}}i=i.return}while(i!==null)}GE(n)}catch(A){e=A,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function HE(){var t=Hh.current;return Hh.current=Wh,t===null?Wh:t}function B1(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),qt===null||!(Ao&268435455)&&!(Z0&268435455)||ri(qt,on)}function Kh(t,e){var n=Te;Te|=2;var r=HE();(qt!==t||on!==e)&&(As=null,_o(t,e));do try{xA();break}catch(s){WE(t,s)}while(!0);if(I1(),Te=n,Hh.current=r,Rt!==null)throw Error(W(261));return qt=null,on=0,Ft}function xA(){for(;Rt!==null;)qE(Rt)}function EA(){for(;Rt!==null&&!GS();)qE(Rt)}function qE(t){var e=QE(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?GE(t):Rt=e,$1.current=null}function GE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mA(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Rt=null;return}}else if(n=pA(n,e,Yn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ft===0&&(Ft=5)}function no(t,e,n){var r=Me,s=Cr.transition;try{Cr.transition=null,Me=1,CA(t,e,n,r)}finally{Cr.transition=s,Me=r}return null}function CA(t,e,n,r){do Oa();while(di!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(r8(t,i),t===qt&&(Rt=qt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Md||(Md=!0,YE(Rh,function(){return Oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cr.transition,Cr.transition=null;var o=Me;Me=1;var a=Te;Te|=4,$1.current=null,yA(t,n),VE(n,t),B8(Cm),Nh=!!Em,Cm=Em=null,t.current=n,vA(n),KS(),Te=a,Me=o,Cr.transition=i}else t.current=n;if(Md&&(Md=!1,di=t,Gh=s),i=t.pendingLanes,i===0&&(Ei=null),XS(n.stateNode),Bn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qh)throw qh=!1,t=Bm,Bm=null,t;return Gh&1&&t.tag!==0&&Oa(),i=t.pendingLanes,i&1?t===Wm?Sc++:(Sc=0,Wm=t):Sc=0,Bi(),null}function Oa(){if(di!==null){var t=b4(Gh),e=Cr.transition,n=Me;try{if(Cr.transition=null,Me=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,Gh=0,Te&6)throw Error(W(331));var s=Te;for(Te|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Ic(8,u,i)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var h=u.sibling,p=u.return;if($E(u),u===c){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ic(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Z=m;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:J0(9,a)}}catch(A){ht(a,a.return,A)}if(a===o){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(Te=s,Bi(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(W0,t)}catch{}r=!0}return r}finally{Me=n,Cr.transition=e}}return!1}function L3(t,e,n){e=rl(n,e),e=SE(t,e,1),t=xi(t,e,1),e=kn(),t!==null&&(Du(t,1,e),Bn(t,e))}function ht(t,e,n){if(t.tag===3)L3(t,t,n);else for(;e!==null;){if(e.tag===3){L3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){t=rl(n,t),t=AE(e,t,1),e=xi(e,t,1),t=kn(),e!==null&&(Du(e,1,t),Bn(e,t));break}}e=e.return}}function TA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(on&n)===n&&(Ft===4||Ft===3&&(on&130023424)===on&&500>wt()-U1?_o(t,0):F1|=n),Bn(t,e)}function KE(t,e){e===0&&(t.mode&1?(e=Td,Td<<=1,!(Td&130023424)&&(Td=4194304)):e=1);var n=kn();t=Vs(t,e),t!==null&&(Du(t,e,n),Bn(t,n))}function IA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KE(t,n)}function bA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),KE(t,n)}var QE;QE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)$n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $n=!1,fA(t,e,n);$n=!!(t.flags&131072)}else $n=!1,ot&&e.flags&1048576&&J4(e,$h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lh(t,e),t=e.pendingProps;var s=Za(e,Cn.current);Ma(e,n),s=L1(null,e,r,t,s,n);var i=M1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(i=!0,Dh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,A1(e),s.updater=Y0,e.stateNode=s,s._reactInternals=e,Pm(e,r,t,n),e=Om(null,e,r,!0,i,n)):(e.tag=0,ot&&i&&x1(e),An(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AA(r),t=Vr(r,t),s){case 0:e=Mm(null,e,r,t,n);break e;case 1:e=C3(null,e,r,t,n);break e;case 11:e=x3(null,e,r,t,n);break e;case 14:e=E3(null,e,r,Vr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),Mm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),C3(t,e,r,s,n);case 3:e:{if(PE(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nE(t,e),Vh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=rl(Error(W(423)),e),e=T3(t,e,r,n,s);break e}else if(r!==s){s=rl(Error(W(424)),e),e=T3(t,e,r,n,s);break e}else for(Jn=wi(e.stateNode.containerInfo.firstChild),tr=e,ot=!0,Br=null,n=oE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(el(),r===s){e=zs(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return aE(e),t===null&&Rm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Tm(r,s)?o=null:i!==null&&Tm(r,i)&&(e.flags|=32),NE(t,e),An(t,e,o,n),e.child;case 6:return t===null&&Rm(e),null;case 13:return LE(t,e,n);case 4:return R1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tl(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),x3(t,e,r,s,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ye(Fh,r._currentValue),r._currentValue=o,i!==null)if(Qr(i.value,o)){if(i.children===s.children&&!Vn.current){e=zs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=js(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),km(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),km(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ma(e,n),s=br(s),r=r(s),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,s=Vr(r,e.pendingProps),s=Vr(r.type,s),E3(t,e,r,s,n);case 15:return RE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vr(r,s),lh(t,e),e.tag=1,zn(r)?(t=!0,Dh(e)):t=!1,Ma(e,n),sE(e,r,s),Pm(e,r,s,n),Om(null,e,r,!0,t,n);case 19:return ME(t,e,n);case 22:return kE(t,e,n)}throw Error(W(156,e.tag))};function YE(t,e){return E4(t,e)}function SA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new SA(t,e,n,r)}function W1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AA(t){if(typeof t=="function")return W1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c1)return 11;if(t===u1)return 14}return 2}function Ti(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")W1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pa:return wo(n.children,s,i,e);case l1:o=8,s|=8;break;case nm:return t=xr(12,n,e,s|2),t.elementType=nm,t.lanes=i,t;case rm:return t=xr(13,n,e,s),t.elementType=rm,t.lanes=i,t;case sm:return t=xr(19,n,e,s),t.elementType=sm,t.lanes=i,t;case i4:return ef(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r4:o=10;break e;case s4:o=9;break e;case c1:o=11;break e;case u1:o=14;break e;case ei:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=xr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function wo(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function ef(t,e,n,r){return t=xr(22,t,r,e),t.elementType=i4,t.lanes=n,t.stateNode={isHidden:!1},t}function pp(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q2(0),this.expirationTimes=Q2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function H1(t,e,n,r,s,i,o,a,l){return t=new RA(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A1(i),t}function kA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XE(t){if(!t)return Li;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(zn(n))return Y4(t,n,e)}return e}function JE(t,e,n,r,s,i,o,a,l){return t=H1(n,r,!0,t,s,i,o,a,l),t.context=XE(null),n=t.current,r=kn(),s=Ci(n),i=js(r,s),i.callback=e??null,xi(n,i,s),t.current.lanes=s,Du(t,s,r),Bn(t,r),t}function tf(t,e,n,r){var s=e.current,i=kn(),o=Ci(s);return n=XE(n),e.context===null?e.context=n:e.pendingContext=n,e=js(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xi(s,e,o),t!==null&&(Gr(t,s,o,i),ih(t,s,o)),o}function Qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q1(t,e){M3(t,e),(t=t.alternate)&&M3(t,e)}function NA(){return null}var ZE=typeof reportError=="function"?reportError:function(t){console.error(t)};function G1(t){this._internalRoot=t}nf.prototype.render=G1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));tf(t,e,null,null)};nf.prototype.unmount=G1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ro(function(){tf(null,t,null,null)}),e[Us]=null}};function nf(t){this._internalRoot=t}nf.prototype.unstable_scheduleHydration=function(t){if(t){var e=R4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&N4(t)}};function K1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O3(){}function PA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Qh(o);i.call(c)}}var o=JE(e,r,t,0,null,!1,!1,"",O3);return t._reactRootContainer=o,t[Us]=o.current,Gc(t.nodeType===8?t.parentNode:t),Ro(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Qh(l);a.call(c)}}var l=H1(t,0,!1,null,null,!1,!1,"",O3);return t._reactRootContainer=l,t[Us]=l.current,Gc(t.nodeType===8?t.parentNode:t),Ro(function(){tf(e,l,n,r)}),l}function sf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Qh(o);a.call(l)}}tf(e,o,t,s)}else o=PA(n,e,t,s,r);return Qh(o)}S4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uc(e.pendingLanes);n!==0&&(f1(e,n|1),Bn(e,wt()),!(Te&6)&&(sl=wt()+500,Bi()))}break;case 13:Ro(function(){var r=Vs(t,1);if(r!==null){var s=kn();Gr(r,t,1,s)}}),q1(t,1)}};p1=function(t){if(t.tag===13){var e=Vs(t,134217728);if(e!==null){var n=kn();Gr(e,t,134217728,n)}q1(t,134217728)}};A4=function(t){if(t.tag===13){var e=Ci(t),n=Vs(t,e);if(n!==null){var r=kn();Gr(n,t,e,r)}q1(t,e)}};R4=function(){return Me};k4=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};pm=function(t,e,n){switch(e){case"input":if(am(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=K0(r);if(!s)throw Error(W(90));a4(r),am(r,s)}}}break;case"textarea":c4(t,n);break;case"select":e=n.value,e!=null&&ka(t,!!n.multiple,e,!1)}};g4=V1;y4=Ro;var LA={usingClientEntryPoint:!1,Events:[$u,va,K0,p4,m4,V1]},Kl={findFiberByHostInstance:ao,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MA={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=w4(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||NA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{W0=Od.inject(MA),ds=Od}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K1(e))throw Error(W(200));return kA(t,e,null,n)};lr.createRoot=function(t,e){if(!K1(t))throw Error(W(299));var n=!1,r="",s=ZE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=H1(t,1,!1,null,null,n,!1,r,s),t[Us]=e.current,Gc(t.nodeType===8?t.parentNode:t),new G1(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=w4(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return Ro(t)};lr.hydrate=function(t,e,n){if(!rf(e))throw Error(W(200));return sf(null,t,e,!0,n)};lr.hydrateRoot=function(t,e,n){if(!K1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ZE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JE(e,null,t,1,n??null,s,!1,i,o),t[Us]=e.current,Gc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new nf(e)};lr.render=function(t,e,n){if(!rf(e))throw Error(W(200));return sf(null,t,e,!1,n)};lr.unmountComponentAtNode=function(t){if(!rf(t))throw Error(W(40));return t._reactRootContainer?(Ro(function(){sf(null,null,t,!1,function(){t._reactRootContainer=null,t[Us]=null})}),!0):!1};lr.unstable_batchedUpdates=V1;lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return sf(t,e,n,!1,r)};lr.version="18.2.0-next-9e3b772b8-20220608";function eC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eC)}catch(t){console.error(t)}}eC(),Jx.exports=lr;var OA=Jx.exports,D3=OA;em.createRoot=D3.createRoot,em.hydrateRoot=D3.hydrateRoot;const DA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",jA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",$A="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",FA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",UA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",VA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",zA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",BA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",WA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",HA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",qA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",GA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",KA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",QA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",YA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",XA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",JA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",ZA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",e7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",t7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",n7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",r7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",s7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",i7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",o7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",a7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",l7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",c7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",u7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",d7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",h7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",f7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",p7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",m7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",g7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",y7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",v7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",_7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",w7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",x7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",E7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",C7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",T7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",I7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",b7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",S7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",A7="/assets/dark-i8sdGySW.svg",R7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",k7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",N7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",P7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",L7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",M7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",O7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",D7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",j7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",$7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",F7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",U7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",V7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",z7="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",B7="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",W7="/assets/facebook-reaction-sad-fp-d8NwB.svg",H7="/assets/facebook-reaction-wow-4aGHxQqX.svg",q7="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",G7="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",K7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",Q7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",Y7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",X7={sent:K7,eye:Y7,seen:Q7,link:$7,reply:V7,sendLetter:F7,sendingLetter:U7,deleteIcon:D7,editPencil:j7,moreOption:O7,download:R7,offline:L7,online:M7,chat:P7,notification:N7,file:k7,light:S7,dark:A7,upload:b7,trueIcon:DA,falseIcon:jA,error:$A,down:FA,back:UA,thumbUp:VA,redo:zA,next:BA,finish:WA,history:HA,trash:qA,add:GA,edit:KA,save:QA,up:YA,clipboard:XA,admin:JA,menu:ZA,home:e7,result:t7,help:n7,about:r7,update:s7,faq:i7,plus:o7,minus:a7,share:l7,review:c7,fullScreen:u7,search:d7,searchLeft:h7,close:f7,copy:p7,google:m7,refresh:g7,exit:y7,exam:v7,like:_7,liked:w7,comment:x7,send:E7,logout:C7,user:T7,image:I7,facebookAngry:q7,facebookHaha:G7,facebookLike:z7,facebookLove:B7,facebookSad:W7,facebookWow:H7};function le(t){return X7[t]||null}const Be=({data:t})=>{const{clickFn:e,image:n}=t,r=le(n),{theme:s}=C.useContext(ee),i=()=>{e&&e()};return f.jsx("button",{onClick:i,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${s==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};var j3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw Cl(e)},Cl=function(t){return new Error("Firebase Database ("+tC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new Z7;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(t){const e=nC(t);return Q1.encodeByteArray(e,!0)},Yh=function(t){return rC(t).replace(/\./g,"")},Xh=function(t){try{return Q1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){return sC(void 0,t)}function sC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tR(n)||(t[n]=sC(t[n],e[n]));return t}function tR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=()=>nR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof j3>"u")return;const t=j3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xh(t[1]);return e&&JSON.parse(e)},of=()=>{try{return rR()||sR()||iR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iC=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y1=t=>{const e=iC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oC=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},aC=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yh(JSON.stringify(n)),Yh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function oR(){var t;const e=(t=of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cC(){return tC.NODE_ADMIN===!0}function cR(){return!oR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uC(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="FirebaseError";class Es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dR,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?hR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Es(s,a,r)}}function hR(t,e){return t.replace(fR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){return JSON.parse(t)}function rn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=nu(Xh(i[0])||""),n=nu(Xh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},pR=function(t){const e=dC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mR=function(t){const e=dC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function il(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ru(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if($3(i)&&$3(o)){if(!ru(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function fc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function yR(t,e){const n=new vR(t,e);return n.subscribe.bind(n)}class vR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gp),s.error===void 0&&(s.error=gp),s.complete===void 0&&(s.complete=gp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gp(){}function wR(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},af=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(t){return t===ro?void 0:t}function TR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ER(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const bR={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},SR=me.INFO,AR={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},RR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const kR=(t,e)=>e.some(n=>t instanceof n);let F3,U3;function NR(){return F3||(F3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return U3||(U3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hC=new WeakMap,Km=new WeakMap,fC=new WeakMap,yp=new WeakMap,ey=new WeakMap;function LR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ii(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hC.set(n,t)}).catch(()=>{}),ey.set(e,t),e}function MR(t){if(Km.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Km.set(t,e)}let Qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OR(t){Qm=t(Qm)}function DR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vp(this),e,...n);return fC.set(r,e.sort?e.sort():[e]),Ii(r)}:PR().includes(t)?function(...e){return t.apply(vp(this),e),Ii(hC.get(this))}:function(...e){return Ii(t.apply(vp(this),e))}}function jR(t){return typeof t=="function"?DR(t):(t instanceof IDBTransaction&&MR(t),kR(t,NR())?new Proxy(t,Qm):t)}function Ii(t){if(t instanceof IDBRequest)return LR(t);if(yp.has(t))return yp.get(t);const e=jR(t);return e!==t&&(yp.set(t,e),ey.set(e,t)),e}const vp=t=>ey.get(t);function $R(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ii(o.result),l.oldVersion,l.newVersion,Ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],_p=new Map;function V3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FR.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return _p.set(e,i),i}OR(t=>({...t,get:(e,n,r)=>V3(e,n)||t.get(e,n,r),has:(e,n)=>!!V3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",z3="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new lf("@firebase/app"),BR="@firebase/app-compat",WR="@firebase/analytics-compat",HR="@firebase/analytics",qR="@firebase/app-check-compat",GR="@firebase/app-check",KR="@firebase/auth",QR="@firebase/auth-compat",YR="@firebase/database",XR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",ek="@firebase/installations",tk="@firebase/installations-compat",nk="@firebase/messaging",rk="@firebase/messaging-compat",sk="@firebase/performance",ik="@firebase/performance-compat",ok="@firebase/remote-config",ak="@firebase/remote-config-compat",lk="@firebase/storage",ck="@firebase/storage-compat",uk="@firebase/firestore",dk="@firebase/firestore-compat",hk="firebase",fk="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",pk={[Ym]:"fire-core",[BR]:"fire-core-compat",[HR]:"fire-analytics",[WR]:"fire-analytics-compat",[GR]:"fire-app-check",[qR]:"fire-app-check-compat",[KR]:"fire-auth",[QR]:"fire-auth-compat",[YR]:"fire-rtdb",[XR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[ek]:"fire-iid",[tk]:"fire-iid-compat",[nk]:"fire-fcm",[rk]:"fire-fcm-compat",[sk]:"fire-perf",[ik]:"fire-perf-compat",[ok]:"fire-rc",[ak]:"fire-rc-compat",[lk]:"fire-gcs",[ck]:"fire-gcs-compat",[uk]:"fire-fst",[dk]:"fire-fst-compat","fire-js":"fire-js",[hk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,Jm=new Map;function mk(t,e){try{t.container.addComponent(e)}catch(n){ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mi(t){const e=t.name;if(Jm.has(e))return ko.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,t);for(const n of Zh.values())mk(n,t);return!0}function Vu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bi=new Uu("app","Firebase",gk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=fk;function pC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw bi.create("bad-app-name",{appName:String(s)});if(n||(n=oC()),!n)throw bi.create("no-options");const i=Zh.get(s);if(i){if(ru(n,i.options)&&ru(r,i.config))return i;throw bi.create("duplicate-app",{appName:s})}const o=new IR(s);for(const l of Jm.values())o.addComponent(l);const a=new yk(n,r,o);return Zh.set(s,a),a}function cf(t=Xm){const e=Zh.get(t);if(!e&&t===Xm&&oC())return pC();if(!e)throw bi.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let s=(r=pk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ko.warn(a.join(" "));return}Mi(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="firebase-heartbeat-database",_k=1,su="firebase-heartbeat-store";let wp=null;function mC(){return wp||(wp=$R(vk,_k,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),wp}async function wk(t){try{const n=(await mC()).transaction(su),r=await n.objectStore(su).get(gC(t));return await n.done,r}catch(e){if(e instanceof Es)ko.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ko.warn(n.message)}}}async function B3(t,e){try{const r=(await mC()).transaction(su,"readwrite");await r.objectStore(su).put(e,gC(t)),await r.done}catch(n){if(n instanceof Es)ko.warn(n.message);else{const r=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ko.warn(r.message)}}}function gC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=1024,Ek=30*24*60*60*1e3;class Ck{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ik(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=W3();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ek}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=W3(),{heartbeatsToSend:r,unsentEntries:s}=Tk(this._heartbeatsCache.heartbeats),i=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function W3(){return new Date().toISOString().substring(0,10)}function Tk(t,e=xk){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),H3(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),H3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uC()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return B3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return B3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H3(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){Mi(new Bs("platform-logger",e=>new VR(e),"PRIVATE")),Mi(new Bs("heartbeat",e=>new Ck(e),"PRIVATE")),Tr(Ym,z3,t),Tr(Ym,z3,"esm2017"),Tr("fire-js","")}bk("");var Sk="firebase",Ak="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(Sk,Ak,"app");function ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rk=yC,vC=new Uu("auth","Firebase",yC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new lf("@firebase/auth");function kk(t,...e){e0.logLevel<=me.WARN&&e0.warn(`Auth (${Wi}): ${t}`,...e)}function hh(t,...e){e0.logLevel<=me.ERROR&&e0.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw ny(t,...e)}function fs(t,...e){return ny(t,...e)}function _C(t,e,n){const r=Object.assign(Object.assign({},Rk()),{[e]:n});return new Uu("auth","Firebase",r).create(e,{appName:t.name})}function Nk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(t,"argument-error"),_C(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ny(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vC.create(t,...e)}function ae(t,e,...n){if(!t)throw ny(e,...n)}function Ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hh(e),new Error(e)}function Ws(t,e){t||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Pk(){return q3()==="http:"||q3()==="https:"}function q3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||aR()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=Z1()||lC()}get(){return Lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new zu(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,s={}){return xC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Tl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),wC.fetch()(EC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function xC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ok),e);try{const s=new $k(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _C(t,u,c);Ar(t,u)}}catch(s){if(s instanceof Es)throw s;Ar(t,"network-request-failed",{message:String(s)})}}async function Bu(t,e,n,r,s={}){const i=await qi(t,e,n,r,s);return"mfaPendingCredential"in i&&Ar(t,"multi-factor-auth-required",{_serverResponse:i}),i}function EC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ry(t.config,s):`${t.config.apiScheme}://${s}`}function jk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $k{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fs(this.auth,"network-request-failed")),Dk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fs(t,e,r);return s.customData._tokenResponse=n,s}function G3(t){return t!==void 0&&t.enterprise!==void 0}class Fk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Uk(t,e){return qi(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function zk(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bk(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=sy(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ac(xp(s.auth_time)),issuedAtTime:Ac(xp(s.iat)),expirationTime:Ac(xp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function sy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Xh(n);return s?JSON.parse(s):(hh("Failed to decode base64 JWT payload"),null)}catch(s){return hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Wk(t){const e=sy(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Es&&Hk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Hk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(t){var e;const n=t.auth,r=await t.getIdToken(),s=await iu(t,zk(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Qk(i.providerUserInfo):[],a=Kk(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new CC(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Gk(t){const e=He(t);await t0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Qk(t){return t.map(e=>{var{providerId:n}=e,r=ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e){const n=await xC(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=EC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xk(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Yk(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ou;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new CC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bk(this,e)}reload(){return Gk(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await t0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iu(this,Vk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:x,isAnonymous:A,providerData:I,stsTokenManager:S}=n;ae(_&&S,e,"internal-error");const E=ou.fromJSON(this.name,S);ae(typeof _=="string",e,"internal-error"),Zs(d,e.name),Zs(h,e.name),ae(typeof x=="boolean",e,"internal-error"),ae(typeof A=="boolean",e,"internal-error"),Zs(p,e.name),Zs(g,e.name),Zs(y,e.name),Zs(w,e.name),Zs(m,e.name),Zs(v,e.name);const T=new xo({uid:_,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:A,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:m,lastLoginAt:v});return I&&Array.isArray(I)&&(T.providerData=I.map(b=>Object.assign({},b))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new ou;s.updateFromServerResponse(n);const i=new xo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await t0(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Map;function Ms(t){Ws(t instanceof Function,"Expected a class definition");let e=K3.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TC.type="NONE";const Q3=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){return`firebase:${t}:${e}:${n}`}class Da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fh(this.userKey,s.apiKey,i),this.fullPersistenceKey=fh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Da(Ms(Q3),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ms(Q3);const o=fh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=xo._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Da(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Da(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RC(e))return"Blackberry";if(kC(e))return"Webos";if(iy(e))return"Safari";if((e.includes("chrome/")||bC(e))&&!e.includes("edge/"))return"Chrome";if(AC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IC(t=Pt()){return/firefox\//i.test(t)}function iy(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bC(t=Pt()){return/crios\//i.test(t)}function SC(t=Pt()){return/iemobile/i.test(t)}function AC(t=Pt()){return/android/i.test(t)}function RC(t=Pt()){return/blackberry/i.test(t)}function kC(t=Pt()){return/webos/i.test(t)}function uf(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jk(t=Pt()){var e;return uf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zk(){return lR()&&document.documentMode===10}function NC(t=Pt()){return uf(t)||AC(t)||kC(t)||RC(t)||/windows phone/i.test(t)||SC(t)}function eN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e=[]){let n;switch(t){case"Browser":n=Y3(Pt());break;case"Worker":n=`${Y3(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=6;class sN{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X3(this),this.idTokenSubscription=new X3(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Da.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await t0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?He(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),n=new sN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ms(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gi(t){return He(t)}class X3{constructor(e){this.auth=e,this.observer=null,this.addObserver=yR(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(t){df=t}function LC(t){return df.loadJS(t)}function aN(){return df.recaptchaEnterpriseScript}function lN(){return df.gapiScript}function cN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const uN="recaptcha-enterprise",dN="NO_RECAPTCHA";class hN{constructor(e){this.type=uN,this.auth=Gi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Uk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Fk(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;G3(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(dN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&G3(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=aN();l.length!==0&&(l+=a),LC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function J3(t,e,n,r=!1){const s=new hN(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await J3(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await J3(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t,e){const n=Vu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ru(i,e??{}))return s;Ar(s,"already-initialized")}return n.initialize({options:e})}function pN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mN(t,e,n){const r=Gi(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=MC(e),{host:o,port:a}=gN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||yN()}function MC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gN(t){const e=MC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Z3(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Z3(o)}}}function Z3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,n){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}async function vN(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function xN(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends oy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,n,"signInWithPassword",_N);case"emailLink":return wN(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,r,"signUpPassword",vN);case"emailLink":return xN(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="http://localhost";class No extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ty(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new No(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(t){const e=hc(fc(t)).link,n=e?hc(fc(e)).deep_link_id:null,r=hc(fc(t)).deep_link_id;return(r?hc(fc(r)).link:null)||r||n||e||t}class ay{constructor(e){var n,r,s,i,o,a;const l=hc(fc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=CN((s=l.mode)!==null&&s!==void 0?s:null);ae(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=TN(e);try{return new ay(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ay.parseLink(n);return ae(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends ly{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Wu{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Wu{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Wu{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){return Bu(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await xo._fromIdTokenResponse(e,r,s),o=ew(r);return new Po({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ew(r);return new Po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ew(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Es{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,n0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new n0(e,n,r,s)}}function OC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?n0._fromErrorAndOperation(t,i,e,r):i})}async function bN(t,e,n=!1){const r=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await iu(t,OC(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=sy(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Po._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,e,n=!1){const r="signIn",s=await OC(t,r,e),i=await Po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function AN(t,e){return DC(Gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t){const e=Gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RN(t,e,n){const r=Gi(t),o=await eg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jC(t),l}),a=await Po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kN(t,e,n){return AN(He(t),Il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jC(t),r})}function NN(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function PN(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function LN(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function MN(t){return He(t).signOut()}const r0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(r0,"1"),this.storage.removeItem(r0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){const t=Pt();return iy(t)||uf(t)}const DN=1e3,jN=10;class FC extends $C{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ON()&&eN(),this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Zk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FC.type="LOCAL";const $N=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC extends $C{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UC.type="SESSION";const VC=UC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await FN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=cy("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return window}function VN(t){ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function zN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WN(){return zC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebaseLocalStorageDb",HN=1,s0="firebaseLocalStorage",WC="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(t,e){return t.transaction([s0],e?"readwrite":"readonly").objectStore(s0)}function qN(){const t=indexedDB.deleteDatabase(BC);return new Hu(t).toPromise()}function tg(){const t=indexedDB.open(BC,HN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(s0,{keyPath:WC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(s0)?e(r):(r.close(),await qN(),e(await tg()))})})}async function tw(t,e,n){const r=ff(t,!0).put({[WC]:e,value:n});return new Hu(r).toPromise()}async function GN(t,e){const n=ff(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function nw(t,e){const n=ff(t,!0).delete(e);return new Hu(n).toPromise()}const KN=800,QN=3;class HC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(WN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new UN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await tw(e,r0,"1"),await nw(e,r0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ff(s,!1).getAll();return new Hu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HC.type="LOCAL";const YN=HC;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){return e?Ms(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XN(t){return DC(t.auth,new uy(t),t.bypassAuthState)}function JN(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),SN(n,new uy(t),t.bypassAuthState)}async function ZN(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),bN(n,new uy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XN;case"linkViaPopup":case"linkViaRedirect":return ZN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:Ar(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new zu(2e3,1e4);async function tP(t,e,n){const r=Gi(t);Nk(t,e,ly);const s=qC(r,n);return new uo(r,"signInViaPopup",e,s).executeNotNull()}class uo extends GC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eP.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="pendingRedirect",ph=new Map;class rP extends GC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await sP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sP(t,e){const n=aP(e),r=oP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function iP(t,e){ph.set(t._key(),e)}function oP(t){return Ms(t._redirectPersistence)}function aP(t){return fh(nP,t.config.apiKey,t.name)}async function lP(t,e,n=!1){const r=Gi(t),s=qC(r,e),o=await new rP(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=10*60*1e3;class uP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cP&&this.cachedEventUids.clear(),this.cachedEventUids.has(rw(e))}saveEventToCache(e){this.cachedEventUids.add(rw(e)),this.lastProcessedEventTime=Date.now()}}function rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pP=/^https?/;async function mP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hP(t);for(const n of e)try{if(gP(n))return}catch{}Ar(t,"unauthorized-domain")}function gP(t){const e=Zm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pP.test(n))return!1;if(fP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new zu(3e4,6e4);function sw(){const t=ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vP(t){return new Promise((e,n)=>{var r,s,i;function o(){sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sw(),n(fs(t,"network-request-failed"))},timeout:yP.get()})}if(!((s=(r=ps().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ps().gapi)===null||i===void 0)&&i.load)o();else{const a=cN("iframefcb");return ps()[a]=()=>{gapi.load?o():n(fs(t,"network-request-failed"))},LC(`${lN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mh=null,e})}let mh=null;function _P(t){return mh=mh||vP(t),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new zu(5e3,15e3),xP="__/auth/iframe",EP="emulator/auth/iframe",CP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IP(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ry(e,EP):`https://${t.config.authDomain}/${xP}`,r={apiKey:e.apiKey,appName:t.name,v:Wi},s=TP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tl(r).slice(1)}`}async function bP(t){const e=await _P(t),n=ps().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:IP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fs(t,"network-request-failed"),a=ps().setTimeout(()=>{i(o)},wP.get());function l(){ps().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AP=500,RP=600,kP="_blank",NP="http://localhost";class iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PP(t,e,n,r=AP,s=RP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SP),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Pt().toLowerCase();n&&(a=bC(c)?kP:n),IC(c)&&(e=e||NP,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Jk(c)&&a!=="_self")return LP(e||"",a),new iw(null);const d=window.open(e||"",a,u);ae(d,t,"popup-blocked");try{d.focus()}catch{}return new iw(d)}function LP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",OP="emulator/auth/handler",DP=encodeURIComponent("fac");async function ow(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wi,eventId:s};if(e instanceof ly){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof Wu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${DP}=${encodeURIComponent(l)}`:"";return`${jP(t)}?${Tl(a).slice(1)}${c}`}function jP({config:t}){return t.emulator?ry(t,OP):`https://${t.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class $P{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VC,this._completeRedirectFn=lP,this._overrideRedirectResult=iP}async _openPopup(e,n,r,s){var i;Ws((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ow(e,n,r,Zm(),s);return PP(e,o,cy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ow(e,n,r,Zm(),s);return VN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ws(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bP(e),r=new uP(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ep];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NC()||iy()||uf()}}const FP=$P;var aw="@firebase/auth",lw="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zP(t){Mi(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(t)},c=new iN(r,s,i,l);return pN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new Bs("auth-internal",e=>{const n=Gi(e.getProvider("auth").getImmediate());return(r=>new UP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(aw,lw,VP(t)),Tr(aw,lw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=5*60,WP=aC("authIdTokenMaxAge")||BP;let cw=null;const HP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WP)return;const s=n==null?void 0:n.token;cw!==s&&(cw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qP(t=cf()){const e=Vu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fN(t,{popupRedirectResolver:FP,persistence:[YN,$N,VC]}),r=aC("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=HP(r);PN(n,i,()=>i(n.currentUser)),NN(n,o=>i(o))}const s=iC("auth");return s&&mN(n,`http://${s}`),n}function GP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=fs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",GP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zP("Browser");var KP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,dy=dy||{},ue=KP||self;function pf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function QP(t){return Object.prototype.hasOwnProperty.call(t,Cp)&&t[Cp]||(t[Cp]=++YP)}var Cp="closure_uid_"+(1e9*Math.random()>>>0),YP=0;function XP(t,e,n){return t.call.apply(t.bind,arguments)}function JP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function wn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wn=XP:wn=JP,wn.apply(null,arguments)}function jd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ki(){this.s=this.s,this.o=this.o}var ZP=0;Ki.prototype.s=!1;Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ZP!=0)&&QP(this)};Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function xn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xn.prototype.h=function(){this.defaultPrevented=!0};var eL=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ue.addEventListener("test",n,e),ue.removeEventListener("test",n,e)}catch{}return t}();function lu(t){return/^[\s\xa0]*$/.test(t)}function mf(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function os(t){return mf().indexOf(t)!=-1}function fy(t){return fy[" "](t),t}fy[" "]=function(){};function tL(t,e){var n=GL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nL=os("Opera"),ol=os("Trident")||os("MSIE"),YC=os("Edge"),ng=YC||ol,XC=os("Gecko")&&!(mf().toLowerCase().indexOf("webkit")!=-1&&!os("Edge"))&&!(os("Trident")||os("MSIE"))&&!os("Edge"),rL=mf().toLowerCase().indexOf("webkit")!=-1&&!os("Edge");function JC(){var t=ue.document;return t?t.documentMode:void 0}var rg;e:{var Tp="",Ip=function(){var t=mf();if(XC)return/rv:([^\);]+)(\)|;)/.exec(t);if(YC)return/Edge\/([\d\.]+)/.exec(t);if(ol)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rL)return/WebKit\/(\S+)/.exec(t);if(nL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ip&&(Tp=Ip?Ip[1]:""),ol){var bp=JC();if(bp!=null&&bp>parseFloat(Tp)){rg=String(bp);break e}}rg=Tp}var sg;if(ue.document&&ol){var dw=JC();sg=dw||parseInt(rg,10)||void 0}else sg=void 0;var sL=sg;function cu(t,e){if(xn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XC){e:{try{fy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cu.$.h.call(this)}}Kt(cu,xn);var iL={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gu="closure_listenable_"+(1e6*Math.random()|0),oL=0;function aL(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++oL,this.fa=this.ia=!1}function gf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function py(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ZC(t){const e={};for(const n in t)e[n]=t[n];return e}const hw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function e6(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<hw.length;i++)n=hw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yf(t){this.src=t,this.g={},this.h=0}yf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=og(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new aL(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function ig(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=QC(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(gf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function og(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var my="closure_lm_"+(1e6*Math.random()|0),Sp={};function t6(t,e,n,r,s){if(r&&r.once)return r6(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)t6(t,e[i],n,r,s);return null}return n=vy(n),t&&t[Gu]?t.O(e,n,qu(r)?!!r.capture:!!r,s):n6(t,e,n,!1,r,s)}function n6(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=qu(s)?!!s.capture:!!s,a=yy(t);if(a||(t[my]=a=new yf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=cL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eL||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(i6(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cL(){function t(n){return e.call(t.src,t.listener,n)}const e=uL;return t}function r6(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)r6(t,e[i],n,r,s);return null}return n=vy(n),t&&t[Gu]?t.P(e,n,qu(r)?!!r.capture:!!r,s):n6(t,e,n,!0,r,s)}function s6(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)s6(t,e[i],n,r,s);else r=qu(r)?!!r.capture:!!r,n=vy(n),t&&t[Gu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=og(i,n,r,s),-1<n&&(gf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=yy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=og(e,n,r,s)),(n=-1<t?e[t]:null)&&gy(n))}function gy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Gu])ig(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(i6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yy(e))?(ig(n,t),n.h==0&&(n.src=null,e[my]=null)):gf(t)}}}function i6(t){return t in Sp?Sp[t]:Sp[t]="on"+t}function uL(t,e){if(t.fa)t=!0;else{e=new cu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gy(t),t=n.call(r,e)}return t}function yy(t){return t=t[my],t instanceof yf?t:null}var Ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function vy(t){return typeof t=="function"?t:(t[Ap]||(t[Ap]=function(e){return t.handleEvent(e)}),t[Ap])}function Gt(){Ki.call(this),this.i=new yf(this),this.S=this,this.J=null}Kt(Gt,Ki);Gt.prototype[Gu]=!0;Gt.prototype.removeEventListener=function(t,e,n,r){s6(this,t,e,n,r)};function an(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new xn(e,t);else if(e instanceof xn)e.target=e.target||t;else{var s=e;e=new xn(r,t),e6(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=$d(o,r,!0,e)&&s}if(o=e.g=t,s=$d(o,r,!0,e)&&s,s=$d(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=$d(o,r,!1,e)&&s}Gt.prototype.N=function(){if(Gt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gf(n[r]);delete t.g[e],t.h--}}this.J=null};Gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $d(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ig(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var _y=ue.JSON.stringify;class dL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hL(){var t=wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class fL{constructor(){this.h=this.g=null}add(e,n){const r=o6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var o6=new dL(()=>new pL,t=>t.reset());class pL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function gL(t){ue.setTimeout(()=>{throw t},0)}let uu,du=!1,wy=new fL,a6=()=>{const t=ue.Promise.resolve(void 0);uu=()=>{t.then(yL)}};var yL=()=>{for(var t;t=hL();){try{t.h.call(t.g)}catch(n){gL(n)}var e=o6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}du=!1};function vf(t,e){Gt.call(this),this.h=t||1,this.g=e||ue,this.j=wn(this.qb,this),this.l=Date.now()}Kt(vf,Gt);X=vf.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),an(this,"tick"),this.ga&&(xy(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){vf.$.N.call(this),xy(this),delete this.g};function Ey(t,e,n){if(typeof t=="function")n&&(t=wn(t,n));else if(t&&typeof t.handleEvent=="function")t=wn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function l6(t){t.g=Ey(()=>{t.g=null,t.i&&(t.i=!1,l6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vL extends Ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l6(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hu(t){Ki.call(this),this.h=t,this.g={}}Kt(hu,Ki);var fw=[];function c6(t,e,n,r){Array.isArray(n)||(n&&(fw[0]=n.toString()),n=fw);for(var s=0;s<n.length;s++){var i=t6(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function u6(t){py(t.g,function(e,n){this.g.hasOwnProperty(n)&&gy(e)},t),t.g={}}hu.prototype.N=function(){hu.$.N.call(this),u6(this)};hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _f(){this.g=!0}_f.prototype.Ea=function(){this.g=!1};function _L(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function wL(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ia(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EL(t,n)+(r?" "+r:"")})}function xL(t,e){t.info(function(){return"TIMEOUT: "+e})}_f.prototype.info=function(){};function EL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return _y(n)}catch{return e}}var Wo={},pw=null;function wf(){return pw=pw||new Gt}Wo.Ta="serverreachability";function d6(t){xn.call(this,Wo.Ta,t)}Kt(d6,xn);function fu(t){const e=wf();an(e,new d6(e))}Wo.STAT_EVENT="statevent";function h6(t,e){xn.call(this,Wo.STAT_EVENT,t),this.stat=e}Kt(h6,xn);function Rn(t){const e=wf();an(e,new h6(e,t))}Wo.Ua="timingevent";function f6(t,e){xn.call(this,Wo.Ua,t),this.size=e}Kt(f6,xn);function Ku(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},p6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cy(){}Cy.prototype.h=null;function mw(t){return t.h||(t.h=t.i())}function m6(){}var Qu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ty(){xn.call(this,"d")}Kt(Ty,xn);function Iy(){xn.call(this,"c")}Kt(Iy,xn);var ag;function Ef(){}Kt(Ef,Cy);Ef.prototype.g=function(){return new XMLHttpRequest};Ef.prototype.i=function(){return{}};ag=new Ef;function Yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hu(this),this.P=CL,t=ng?125:void 0,this.V=new vf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g6}function g6(){this.i=null,this.g="",this.h=!1}var CL=45e3,y6={},lg={};X=Yu.prototype;X.setTimeout=function(t){this.P=t};function cg(t,e,n){t.L=1,t.A=Tf(Hs(e)),t.u=n,t.S=!0,v6(t,null)}function v6(t,e){t.G=Date.now(),Xu(t),t.B=Hs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),b6(n.i,"t",r),t.o=0,n=t.l.J,t.h=new g6,t.g=G6(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vL(wn(t.Pa,t,t.g),t.O)),c6(t.U,t.g,"readystatechange",t.nb),e=t.I?ZC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fu(),_L(t.j,t.v,t.B,t.m,t.W,t.u)}X.nb=function(t){t=t.target;const e=this.M;e&&as(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const u=as(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||ng||this.g&&(this.h.h||this.g.ja()||_w(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?fu(3):fu(2)),Cf(this);var n=this.g.da();this.ca=n;t:if(_6(this)){var r=_w(this.g);t="";var s=r.length,i=as(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),Rc(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,wL(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lu(a)){var c=a;break t}}c=null}if(n=c)Ia(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ug(this,n);else{this.i=!1,this.s=3,Rn(12),ho(this),Rc(this);break e}}this.S?(w6(this,u,o),ng&&this.i&&u==3&&(c6(this.U,this.V,"tick",this.mb),this.V.start())):(Ia(this.j,this.m,o,null),ug(this,o)),u==4&&ho(this),this.i&&!this.J&&(u==4?B6(this.l,this):(this.i=!1,Xu(this)))}else WL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),ho(this),Rc(this)}}}catch{}finally{}};function _6(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function w6(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=TL(t,n),s==lg){e==4&&(t.s=4,Rn(14),r=!1),Ia(t.j,t.m,null,"[Incomplete Response]");break}else if(s==y6){t.s=4,Rn(15),Ia(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ia(t.j,t.m,s,null),ug(t,s);_6(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ny(e),e.M=!0,Rn(11))):(Ia(t.j,t.m,n,"[Invalid Chunked Response]"),ho(t),Rc(t))}X.mb=function(){if(this.g){var t=as(this.g),e=this.g.ja();this.o<e.length&&(Cf(this),w6(this,t,e),this.i&&t!=4&&Xu(this))}};function TL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?lg:(n=Number(e.substring(n,r)),isNaN(n)?y6:(r+=1,r+n>e.length?lg:(e=e.slice(r,r+n),t.o=r+n,e)))}X.cancel=function(){this.J=!0,ho(this)};function Xu(t){t.Y=Date.now()+t.P,x6(t,t.P)}function x6(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ku(wn(t.lb,t),e)}function Cf(t){t.C&&(ue.clearTimeout(t.C),t.C=null)}X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(xL(this.j,this.B),this.L!=2&&(fu(),Rn(17)),ho(this),this.s=2,Rc(this)):x6(this,this.Y-t)};function Rc(t){t.l.H==0||t.J||B6(t.l,t)}function ho(t){Cf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,xy(t.V),u6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ug(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dg(n.i,t))){if(!t.K&&dg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)a0(n),Af(n);else break e;ky(n),Rn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ku(wn(n.ib,n),6e3));if(1>=R6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fo(n,11)}else if((t.K||n.g==t)&&a0(n),!lu(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(by(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,tt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=q6(r,r.J?r.pa:null,r.Y),o.K){k6(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Cf(a),Xu(a)),r.g=o}else V6(r);0<n.j.length&&Rf(n)}else c[0]!="stop"&&c[0]!="close"||fo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?fo(n,7):Ry(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}fu(4)}catch{}}function IL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function bL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function E6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=bL(t),r=IL(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var C6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Eo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Eo){this.h=t.h,i0(this,t.j),this.s=t.s,this.g=t.g,o0(this,t.m),this.l=t.l;var e=t.i,n=new pu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),gw(this,n),this.o=t.o}else t&&(e=String(t).match(C6))?(this.h=!1,i0(this,e[1]||"",!0),this.s=pc(e[2]||""),this.g=pc(e[3]||"",!0),o0(this,e[4]),this.l=pc(e[5]||"",!0),gw(this,e[6]||"",!0),this.o=pc(e[7]||"")):(this.h=!1,this.i=new pu(null,this.h))}Eo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mc(e,yw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mc(e,yw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(mc(n,n.charAt(0)=="/"?kL:RL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",mc(n,PL)),t.join("")};function Hs(t){return new Eo(t)}function i0(t,e,n){t.j=n?pc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function o0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gw(t,e,n){e instanceof pu?(t.i=e,LL(t.i,t.h)):(n||(e=mc(e,NL)),t.i=new pu(e,t.h))}function tt(t,e,n){t.i.set(e,n)}function Tf(t){return tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,AL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function AL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var yw=/[#\/\?@]/g,RL=/[#\?:]/g,kL=/[#\?]/g,NL=/[#\?@]/g,PL=/#/g;function pu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qi(t){t.g||(t.g=new Map,t.h=0,t.i&&SL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=pu.prototype;X.add=function(t,e){Qi(this),this.i=null,t=bl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function T6(t,e){Qi(t),e=bl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function I6(t,e){return Qi(t),e=bl(t,e),t.g.has(e)}X.forEach=function(t,e){Qi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.ta=function(){Qi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};X.Z=function(t){Qi(this);let e=[];if(typeof t=="string")I6(this,t)&&(e=e.concat(this.g.get(bl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Qi(this),this.i=null,t=bl(this,t),I6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function b6(t,e,n){T6(t,e),0<n.length&&(t.i=null,t.g.set(bl(t,e),hy(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function bl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LL(t,e){e&&!t.j&&(Qi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(T6(this,r),b6(this,s,n))},t)),t.j=e}var ML=class{constructor(t,e){this.g=t,this.map=e}};function S6(t){this.l=t||OL,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OL=10;function A6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function R6(t){return t.h?1:t.g?t.g.size:0}function dg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function by(t,e){t.g?t.g.add(e):t.h=e}function k6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}S6.prototype.cancel=function(){if(this.i=N6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function N6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return hy(t.i)}var DL=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function jL(){this.g=new DL}function $L(t,e,n){const r=n||"";try{E6(t,function(s,i){let o=s;qu(s)&&(o=_y(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function FL(t,e){const n=new _f;if(ue.Image){const r=new Image;r.onload=jd(Fd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jd(Fd,n,r,"TestLoadImage: error",!1,e),r.onabort=jd(Fd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jd(Fd,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fd(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function If(t){this.l=t.ec||null,this.j=t.ob||!1}Kt(If,Cy);If.prototype.g=function(){return new bf(this.l,this.j)};If.prototype.i=function(t){return function(){return t}}({});function bf(t,e){Gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(bf,Gt);var Sy=0;X=bf.prototype;X.open=function(t,e){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mu(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=Sy};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mu(this)),this.g&&(this.readyState=3,mu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;P6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function P6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ju(this):mu(this),this.readyState==3&&P6(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,Ju(this))};X.Ya=function(t){this.g&&(this.response=t,Ju(this))};X.ka=function(){this.g&&Ju(this)};function Ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mu(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function mu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var UL=ue.JSON.parse;function ft(t){Gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=L6,this.L=this.M=!1}Kt(ft,Gt);var L6="",VL=/^https?$/i,zL=["POST","PUT"];X=ft.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ag.g(),this.C=this.u?mw(this.u):mw(ag),this.g.onreadystatechange=wn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){vw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ue.FormData&&t instanceof ue.FormData,!(0<=QC(zL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{D6(this),0<this.B&&((this.L=BL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wn(this.ua,this)):this.A=Ey(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){vw(this,i)}};function BL(t){return ol&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))};function vw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,M6(t),Sf(t)}function M6(t){t.F||(t.F=!0,an(t,"complete"),an(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,an(this,"complete"),an(this,"abort"),Sf(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sf(this,!0)),ft.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?O6(this):this.kb())};X.kb=function(){O6(this)};function O6(t){if(t.h&&typeof dy<"u"&&(!t.C[1]||as(t)!=4||t.da()!=2)){if(t.v&&as(t)==4)Ey(t.La,0,t);else if(an(t,"readystatechange"),as(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(C6)[1]||null;!s&&ue.self&&ue.self.location&&(s=ue.self.location.protocol.slice(0,-1)),r=!VL.test(s?s.toLowerCase():"")}n=r}if(n)an(t,"complete"),an(t,"success");else{t.m=6;try{var i=2<as(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",M6(t)}}finally{Sf(t)}}}}function Sf(t,e){if(t.g){D6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||an(t,"ready");try{n.onreadystatechange=r}catch{}}}function D6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function as(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UL(e)}};function _w(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case L6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WL(t){const e={};t=(t.g&&2<=as(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(lu(t[r]))continue;var n=mL(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}lL(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function j6(t){let e="";return py(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ay(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=j6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):tt(t,e,n))}function Ql(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $6(t){this.Ga=0,this.j=[],this.l=new _f,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ql("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ql("baseRetryDelayMs",5e3,t),this.hb=Ql("retryDelaySeedMs",1e4,t),this.eb=Ql("forwardChannelMaxRetries",2,t),this.xa=Ql("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new S6(t&&t.concurrentRequestLimit),this.Ja=new jL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=$6.prototype;X.ra=8;X.H=1;function Ry(t){if(F6(t),t.H==3){var e=t.W++,n=Hs(t.I);if(tt(n,"SID",t.K),tt(n,"RID",e),tt(n,"TYPE","terminate"),Zu(t,n),e=new Yu(t,t.l,e),e.L=2,e.A=Tf(Hs(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=G6(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Xu(e)}H6(t)}function Af(t){t.g&&(Ny(t),t.g.cancel(),t.g=null)}function F6(t){Af(t),t.u&&(ue.clearTimeout(t.u),t.u=null),a0(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Rf(t){if(!A6(t.i)&&!t.m){t.m=!0;var e=t.Na;uu||a6(),du||(uu(),du=!0),wy.add(e,t),t.C=0}}function HL(t,e){return R6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ku(wn(t.Na,t,e),W6(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Yu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=ZC(i),e6(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=U6(this,s,e),n=Hs(this.I),tt(n,"RID",t),tt(n,"CVER",22),this.F&&tt(n,"X-HTTP-Session-Id",this.F),Zu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(j6(i)))+"&"+e:this.o&&Ay(n,this.o,i)),by(this.i,s),this.bb&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",e),tt(n,"SID","null"),s.aa=!0,cg(s,n,null)):cg(s,n,e),this.H=2}}else this.H==3&&(t?ww(this,t):this.j.length==0||A6(this.i)||ww(this))};function ww(t,e){var n;e?n=e.m:n=t.W++;const r=Hs(t.I);tt(r,"SID",t.K),tt(r,"RID",n),tt(r,"AID",t.V),Zu(t,r),t.o&&t.s&&Ay(r,t.o,t.s),n=new Yu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=U6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),by(t.i,n),cg(n,r,e)}function Zu(t,e){t.na&&py(t.na,function(n,r){tt(e,r,n)}),t.h&&E6({},function(n,r){tt(e,r,n)})}function U6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wn(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{$L(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function V6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;uu||a6(),du||(uu(),du=!0),wy.add(e,t),t.A=0}}function ky(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ku(wn(t.Ma,t),W6(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,z6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ku(wn(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),Af(this),z6(this))};function Ny(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function z6(t){t.g=new Yu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hs(t.wa);tt(e,"RID","rpc"),tt(e,"SID",t.K),tt(e,"AID",t.V),tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&tt(e,"TO",t.qa),tt(e,"TYPE","xmlhttp"),Zu(t,e),t.o&&t.s&&Ay(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Tf(Hs(e)),n.u=null,n.S=!0,v6(n,t)}X.ib=function(){this.v!=null&&(this.v=null,Af(this),ky(this),Rn(19))};function a0(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function B6(t,e){var n=null;if(t.g==e){a0(t),Ny(t),t.g=null;var r=2}else if(dg(t.i,e))n=e.F,k6(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=wf(),an(r,new f6(r,n)),Rf(t)}else V6(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&HL(t,e)||r==2&&ky(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:fo(t,5);break;case 4:fo(t,10);break;case 3:fo(t,6);break;default:fo(t,2)}}}function W6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wn(t.pb,t);n||(n=new Eo("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||i0(n,"https"),Tf(n)),FL(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),H6(t),F6(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))};function H6(t){if(t.H=0,t.ma=[],t.h){const e=N6(t.i);(e.length!=0||t.j.length!=0)&&(uw(t.ma,e),uw(t.ma,t.j),t.i.i.length=0,hy(t.j),t.j.length=0),t.h.ya()}}function q6(t,e,n){var r=n instanceof Eo?Hs(n):new Eo(n);if(r.g!="")e&&(r.g=e+"."+r.g),o0(r,r.m);else{var s=ue.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Eo(null);r&&i0(i,r),e&&(i.g=e),s&&o0(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&tt(r,n,e),tt(r,"VER",t.ra),Zu(t,r),r}function G6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ft(new If({ob:n})):new ft(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function K6(){}X=K6.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function l0(){if(ol&&!(10<=Number(sL)))throw Error("Environmental error: no available transport.")}l0.prototype.g=function(t,e){return new or(t,e)};function or(t,e){Gt.call(this),this.g=new $6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!lu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Sl(this)}Kt(or,Gt);or.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=q6(t,null,t.Y),Rf(t)};or.prototype.close=function(){Ry(this.g)};or.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_y(t),t=n);e.j.push(new ML(e.fb++,t)),e.H==3&&Rf(e)};or.prototype.N=function(){this.g.h=null,delete this.j,Ry(this.g),delete this.g,or.$.N.call(this)};function Q6(t){Ty.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kt(Q6,Ty);function Y6(){Iy.call(this),this.status=1}Kt(Y6,Iy);function Sl(t){this.g=t}Kt(Sl,K6);Sl.prototype.Ba=function(){an(this.g,"a")};Sl.prototype.Aa=function(t){an(this.g,new Q6(t))};Sl.prototype.za=function(t){an(this.g,new Y6)};Sl.prototype.ya=function(){an(this.g,"b")};function qL(){this.blockSize=-1}function Yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kt(Yr,qL);Yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Rp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Yr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Rp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Rp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Rp(this,r),s=0;break}}this.h=s,this.i+=e};Yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var GL={};function Py(t){return-128<=t&&128>t?tL(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function ls(t){if(isNaN(t)||!isFinite(t))return $a;if(0>t)return nn(ls(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=hg;return new Oe(e,0)}function X6(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return nn(X6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ls(Math.pow(e,8)),r=$a,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=ls(Math.pow(e,i)),r=r.R(i).add(ls(o))):(r=r.R(n),r=r.add(ls(o)))}return r}var hg=4294967296,$a=Py(0),fg=Py(1),xw=Py(16777216);X=Oe.prototype;X.ea=function(){if(wr(this))return-nn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:hg+r)*e,e*=hg}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Os(this))return"0";if(wr(this))return"-"+nn(this).toString(t);for(var e=ls(Math.pow(t,6)),n=this,r="";;){var s=u0(n,e).g;n=c0(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Os(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Os(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wr(t){return t.h==-1}X.X=function(t){return t=c0(this,t),wr(t)?-1:Os(t)?0:1};function nn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(fg)}X.abs=function(){return wr(this)?nn(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function c0(t,e){return t.add(nn(e))}X.R=function(t){if(Os(this)||Os(t))return $a;if(wr(this))return wr(t)?nn(this).R(nn(t)):nn(nn(this).R(t));if(wr(t))return nn(this.R(nn(t)));if(0>this.X(xw)&&0>t.X(xw))return ls(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Ud(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Ud(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ud(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ud(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Ud(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Yl(t,e){this.g=t,this.h=e}function u0(t,e){if(Os(e))throw Error("division by zero");if(Os(t))return new Yl($a,$a);if(wr(t))return e=u0(nn(t),e),new Yl(nn(e.g),nn(e.h));if(wr(e))return e=u0(t,nn(e)),new Yl(nn(e.g),e.h);if(30<t.g.length){if(wr(t)||wr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fg,r=e;0>=r.X(t);)n=Ew(n),r=Ew(r);var s=na(n,1),i=na(r,1);for(r=na(r,2),n=na(n,2);!Os(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=na(r,1),n=na(n,1)}return e=c0(t,s.R(e)),new Yl(s,e)}for(s=$a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=ls(n),o=i.R(e);wr(o)||0<o.X(t);)n-=r,i=ls(n),o=i.R(e);Os(i)&&(i=fg),s=s.add(i),t=c0(t,o)}return new Yl(s,t)}X.gb=function(t){return u0(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function Ew(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function na(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Oe(s,t.h)}l0.prototype.createWebChannel=l0.prototype.g;or.prototype.send=or.prototype.u;or.prototype.open=or.prototype.m;or.prototype.close=or.prototype.close;xf.NO_ERROR=0;xf.TIMEOUT=8;xf.HTTP_ERROR=6;p6.COMPLETE="complete";m6.EventType=Qu;Qu.OPEN="a";Qu.CLOSE="b";Qu.ERROR="c";Qu.MESSAGE="d";Gt.prototype.listen=Gt.prototype.O;ft.prototype.listenOnce=ft.prototype.P;ft.prototype.getLastError=ft.prototype.Sa;ft.prototype.getLastErrorCode=ft.prototype.Ia;ft.prototype.getStatus=ft.prototype.da;ft.prototype.getResponseJson=ft.prototype.Wa;ft.prototype.getResponseText=ft.prototype.ja;ft.prototype.send=ft.prototype.ha;ft.prototype.setWithCredentials=ft.prototype.Oa;Yr.prototype.digest=Yr.prototype.l;Yr.prototype.reset=Yr.prototype.reset;Yr.prototype.update=Yr.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=ls;Oe.fromString=X6;var KL=function(){return new l0},QL=function(){return wf()},kp=xf,YL=p6,XL=Wo,Cw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vd=m6,JL=ft,ZL=Yr,Fa=Oe;const Tw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new lf("@firebase/firestore");function Xl(){return Lo.logLevel}function Q(t,...e){if(Lo.logLevel<=me.DEBUG){const n=e.map(Ly);Lo.debug(`Firestore (${Al}): ${t}`,...n)}}function ws(t,...e){if(Lo.logLevel<=me.ERROR){const n=e.map(Ly);Lo.error(`Firestore (${Al}): ${t}`,...n)}}function al(t,...e){if(Lo.logLevel<=me.WARN){const n=e.map(Ly);Lo.warn(`Firestore (${Al}): ${t}`,...n)}}function Ly(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+t;throw ws(e),new Error(e)}function Xe(t,e){t||ce()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class tM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nM{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new J6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new pn(e)}}class rM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new iM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=aM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function ll(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Ut(0,0))}static max(){return new de(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends gu{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const lM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends gu{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return lM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ke.fromString(e))}static fromName(e){return new re(Ke.fromString(e).popFirst(5))}static empty(){return new re(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ke(e.slice()))}}function cM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Oi(s,re.empty(),e)}function uM(t){return new Oi(t.readTime,t.key,-1)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(de.min(),re.empty(),-1)}static max(){return new Oi(de.max(),re.empty(),-1)}}function dM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==hM)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ms,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new kc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Oy(r.target.error);this.V.reject(new kc(e,s))}}static open(e,n,r,s){try{return new My(n,e.transaction(s,r))}catch(i){throw new kc(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new mM(n)}}class po{constructor(e,n,r){this.name=e,this.version=n,this.p=r,po.S(Pt())===12.2&&ws("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),io(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uC())return!1;if(po.C())return!0;const e=Pt(),n=po.S(e),r=0<n&&n<10,s=po.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new kc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new q(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new q(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new kc(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=My.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class pM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return io(this.k.delete())}}class kc extends q{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function td(t){return t.name==="IndexedDbTransactionError"}class mM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),io(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),io(this.store.add(e))}get(e){return io(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),io(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),io(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new z((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new z((r,s)=>{n.onerror=i=>{const o=Oy(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new z((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new pM(a),c=n(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(d=>(l.done(),z.reject(d)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function io(t){return new z((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Oy(r.target.error);n(s)}})}let Iw=!1;function Oy(t){const e=po.S(Pt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Iw||(Iw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Dy._e=-1;function kf(t){return t==null}function d0(t){return t===0&&1/t==-1/0}function gM(t){return typeof t=="number"&&Number.isInteger(t)&&!d0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lt=class pg{constructor(e,n){this.comparator=e,this.root=n||Si.EMPTY}insert(e,n){return new pg(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new pg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}},zd=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Si=class Ss{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ss.RED,this.left=s??Ss.EMPTY,this.right=i??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ss(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ss.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1;Si.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Si(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sw(this.data.getIterator())}getIteratorFrom(e){return new Sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class Sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new ln(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tT("Invalid base64 string: "+i):i}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const yM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=yM.exec(t);if(Xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jy(t){const e=t.mapValue.fields.__previous_value__;return Nf(e)?jy(e):e}function yu(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class vu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nf(t)?4:_M(t)?9007199254740991:10:ce()}function xs(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Di(s.timestampValue),a=Di(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Mo(s.bytesValue).isEqual(Mo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return St(s.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return St(s.integerValue)===St(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=St(s.doubleValue),a=St(i.doubleValue);return o===a?d0(o)===d0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(bw(o)!==bw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!xs(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function _u(t,e){return(t.values||[]).find(n=>xs(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=St(i.integerValue||i.doubleValue),l=St(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(yu(t),yu(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Mo(i),l=Mo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Re(St(i.latitude),St(o.latitude));return a!==0?a:Re(St(i.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=cl(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Bd.mapValue&&o===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(o===Bd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const p=cl(a[l[d]],c[u[d]]);if(p!==0)return p}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Di(t),r=Di(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function ul(t){return mg(t)}function mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=mg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${mg(n.fields[o])}`;return s+"}"}(t.mapValue):ce()}function h0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gg(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function Rw(t){return!!t&&"nullValue"in t}function kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _M(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=sn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Nc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jn(Nc(this.value))}}function nT(t){const e=[];return Ho(t.fields,(n,r)=>{const s=new sn([n]);if(gh(r)){const i=nT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,de.min(),de.min(),de.min(),jn.empty(),0)}static newFoundDocument(e,n,r,s){return new gn(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new gn(e,2,n,de.min(),de.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,de.min(),de.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.position=e,this.inclusive=n}}function Nw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=cl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function wM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class kt extends rT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EM(e,n,r):n==="array-contains"?new IM(e,r):n==="in"?new bM(e,r):n==="not-in"?new SM(e,r):n==="array-contains-any"?new AM(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CM(e,r):new TM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends rT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Xr(e,n)}matches(e){return sT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sT(t){return t.op==="and"}function iT(t){return xM(t)&&sT(t)}function xM(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function yg(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(iT(t))return t.filters.map(e=>yg(e)).join(",");{const e=t.filters.map(n=>yg(n)).join(",");return`${t.op}(${e})`}}function oT(t,e){return t instanceof kt?function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&xs(r.value,s.value)}(t,e):t instanceof Xr?function(r,s){return s instanceof Xr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&oT(o,s.filters[a]),!0):!1}(t,e):void ce()}function aT(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`}(t):t instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(aT).join(" ,")+"}"}(t):"Filter"}class EM extends kt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class CM extends kt{constructor(e,n){super(e,"in",n),this.keys=lT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TM extends kt{constructor(e,n){super(e,"not-in",n),this.keys=lT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class IM extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&_u(n.arrayValue,this.value)}}class bM extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class SM extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_u(this.value.arrayValue,n)}}class AM extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Lw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new RM(t,e,n,r,s,i,o)}function Fy(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ul(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ul(r)).join(",")),e.ce=n}return e.ce}function Uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pw(t.startAt,e.startAt)&&Pw(t.endAt,e.endAt)}function vg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kM(t,e,n,r,s,i,o,a){return new qo(t,e,n,r,s,i,o,a)}function Pf(t){return new qo(t)}function Mw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vy(t){return t.collectionGroup!==null}function Ua(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ln(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new wu(i,r))}),n.has(sn.keyField().canonicalString())||e.le.push(new wu(sn.keyField(),r))}return e.le}function gs(t){const e=he(t);return e.he||(e.he=NM(e,Ua(t))),e.he}function NM(t,e){if(t.limitType==="F")return Lw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wu(s.field,i)});const n=t.endAt?new dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dl(t.startAt.position,t.startAt.inclusive):null;return Lw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _g(t,e){const n=t.filters.concat([e]);return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function f0(t,e,n){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lf(t,e){return Uy(gs(t),gs(e))&&t.limitType===e.limitType}function cT(t){return`${Fy(gs(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>aT(s)).join(", ")}]`),kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ul(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ul(s)).join(",")),`Target(${r})`}(gs(t))}; limitType=${t.limitType})`}function Mf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ua(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Nw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ua(r),s)||r.endAt&&!function(o,a,l){const c=Nw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ua(r),s))}(t,e)}function PM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uT(t){return(e,n)=>{let r=!1;for(const s of Ua(t)){const i=LM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function LM(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?cl(l,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Lt(re.comparator);function qs(){return MM}const dT=new Lt(re.comparator);function gc(...t){let e=dT;for(const n of t)e=e.insert(n.key,n);return e}function hT(t){let e=dT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Pc()}function fT(){return Pc()}function Pc(){return new Rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const OM=new Lt(re.comparator),DM=new ln(re.comparator);function ge(...t){let e=DM;for(const n of t)e=e.add(n);return e}const jM=new ln(Re);function $M(){return jM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:d0(e)?"-0":e}}function mT(t){return{integerValue:""+t}}function FM(t,e){return gM(e)?mT(e):pT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function UM(t,e,n){return t instanceof xu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Nf(i)&&(i=jy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof hl?yT(t,e):t instanceof Eu?vT(t,e):function(s,i){const o=gT(s,i),a=Ow(o)+Ow(s.Ie);return gg(o)&&gg(s.Ie)?mT(a):pT(s.serializer,a)}(t,e)}function VM(t,e,n){return t instanceof hl?yT(t,e):t instanceof Eu?vT(t,e):n}function gT(t,e){return t instanceof p0?function(r){return gg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class xu extends Of{}class hl extends Of{constructor(e){super(),this.elements=e}}function yT(t,e){const n=_T(e);for(const r of t.elements)n.some(s=>xs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends Of{constructor(e){super(),this.elements=e}}function vT(t,e){let n=_T(e);for(const r of t.elements)n=n.filter(s=>!xs(s,r));return{arrayValue:{values:n}}}class p0 extends Of{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ow(t){return St(t.integerValue||t.doubleValue)}function _T(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.field=e,this.transform=n}}function zM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof hl&&s instanceof hl||r instanceof Eu&&s instanceof Eu?ll(r.elements,s.elements,xs):r instanceof p0&&s instanceof p0?xs(r.Ie,s.Ie):r instanceof xu&&s instanceof xu}(t.transform,e.transform)}class BM{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Df{}function xT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zy(t.key,Ir.none()):new nd(t.key,t.data,Ir.none());{const n=t.data,r=jn.empty();let s=new ln(sn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yi(t.key,r,new Zn(s.toArray()),Ir.none())}}function WM(t,e,n){t instanceof nd?function(s,i,o){const a=s.value.clone(),l=jw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(s,i,o){if(!yh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=jw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ET(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lc(t,e,n,r){return t instanceof nd?function(i,o,a,l){if(!yh(i.precondition,o))return a;const c=i.value.clone(),u=$w(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,o,a,l){if(!yh(i.precondition,o))return a;const c=$w(i.fieldTransforms,l,o),u=o.data;return u.setAll(ET(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return yh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=gT(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function Dw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ll(r,s,(i,o)=>zM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nd extends Df{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yi extends Df{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ET(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jw(t,e,n){const r=new Map;Xe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,VM(o,a,n[s]))}return r}function $w(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,UM(i,o,e))}return r}class zy extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qM extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&WM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=xT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>Dw(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>Dw(n,r))}}class By{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Xe(e.mutations.length===r.length);let s=function(){return OM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new By(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,xe;function YM(t){switch(t){default:return ce();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function CT(t){if(t===void 0)return ws("GRPC error has no .code"),U.UNKNOWN;switch(t){case bt.OK:return U.OK;case bt.CANCELLED:return U.CANCELLED;case bt.UNKNOWN:return U.UNKNOWN;case bt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case bt.INTERNAL:return U.INTERNAL;case bt.UNAVAILABLE:return U.UNAVAILABLE;case bt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case bt.NOT_FOUND:return U.NOT_FOUND;case bt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case bt.ABORTED:return U.ABORTED;case bt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case bt.DATA_LOSS:return U.DATA_LOSS;default:return ce()}}(xe=bt||(bt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Fa([4294967295,4294967295],0);function Fw(t){const e=XM().encode(t),n=new ZL;return n.update(e),new Uint8Array(n.digest())}function Uw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fa([n,r],0),new Fa([s,i],0)]}class Wy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Fa.fromNumber(r)));return s.compare(JM)===1&&(s=new Fa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Fw(e),[r,s]=Uw(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Wy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Fw(e),[r,s]=Uw(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jf(de.min(),s,new Lt(Re),qs(),ge())}}class rd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rd(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class TT{constructor(e,n){this.targetId=e,this.fe=n}}class IT{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Vw{constructor(){this.ge=0,this.pe=Bw(),this.ye=Tn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ge(),n=ge(),r=ge();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce()}}),new rd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Bw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Xe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class ZM{constructor(e){this.Be=e,this.ke=new Map,this.qe=qs(),this.Qe=zw(),this.Ke=new Lt(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(vg(i))if(r===0){const o=new re(i.path);this.We(n,o,gn.newNoDocument(o,de.min()))}else Xe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Mo(r).toUint8Array()}catch(l){if(l instanceof tT)return al("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wy(o,s,i)}catch(l){return al(l instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&vg(a.target)){const l=new re(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,gn.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=ge();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new jf(e,n,this.Ke,this.qe,r);return this.qe=qs(),this.Qe=zw(),this.Ke=new Lt(Re),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Vw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ln(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Vw),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function zw(){return new Lt(re.comparator)}function Bw(){return new Lt(re.comparator)}const eO={asc:"ASCENDING",desc:"DESCENDING"},tO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nO={and:"AND",or:"OR"};class rO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wg(t,e){return t.useProto3Json||kf(e)?e:{value:e}}function m0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sO(t,e){return m0(t,e.toTimestamp())}function ys(t){return Xe(!!t),de.fromTimestamp(function(n){const r=Di(n);return new Ut(r.seconds,r.nanos)}(t))}function Hy(t,e){return xg(t,e).canonicalString()}function xg(t,e){const n=function(s){return new Ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ST(t){const e=Ke.fromString(t);return Xe(PT(e)),e}function Eg(t,e){return Hy(t.databaseId,e.path)}function Np(t,e){const n=ST(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(RT(n))}function AT(t,e){return Hy(t.databaseId,e)}function iO(t){const e=ST(t);return e.length===4?Ke.emptyPath():RT(e)}function Cg(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RT(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ww(t,e,n){return{name:Eg(t,e),fields:n.value.mapValue.fields}}function oO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Xe(u===void 0||typeof u=="string"),Tn.fromBase64String(u||"")):(Xe(u===void 0||u instanceof Uint8Array),Tn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?U.UNKNOWN:CT(c.code);return new q(u,c.message||"")}(o);n=new IT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Np(t,r.document.name),i=ys(r.document.updateTime),o=r.document.createTime?ys(r.document.createTime):de.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=gn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Np(t,r.document),i=r.readTime?ys(r.readTime):de.min(),o=gn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new vh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Np(t,r.document),i=r.removedTargetIds||[];n=new vh([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QM(s,i),a=r.targetId;n=new TT(a,o)}}return n}function aO(t,e){let n;if(e instanceof nd)n={update:Ww(t,e.key,e.value)};else if(e instanceof zy)n={delete:Eg(t,e.key)};else if(e instanceof Yi)n={update:Ww(t,e.key,e.data),updateMask:gO(e.fieldMask)};else{if(!(e instanceof qM))return ce();n={verify:Eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof xu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof p0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function lO(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ys(s.updateTime):ys(i);return o.isEqual(de.min())&&(o=ys(i)),new BM(o,s.transformResults||[])}(n,e))):[]}function cO(t,e){return{documents:[AT(t,e.path)]}}function uO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AT(t,s);const i=function(c){if(c.length!==0)return NT(Xr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ua(h.field),direction:fO(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function dO(t){let e=iO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const h=kT(d);return h instanceof Xr&&iT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new wu(da(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,kf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new dl(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new dl(p,h)}(n.endAt)),kM(e,s,o,i,a,"F",l,c)}function hO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=da(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=da(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=da(n.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=da(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(da(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(r=>kT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function fO(t){return eO[t]}function pO(t){return tO[t]}function mO(t){return nO[t]}function ua(t){return{fieldPath:t.canonicalString()}}function da(t){return sn.fromServerFormat(t.fieldPath)}function NT(t){return t instanceof kt?function(n){if(n.op==="=="){if(kw(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(Rw(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kw(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(Rw(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:pO(n.op),value:n.value}}}(t):t instanceof Xr?function(n){const r=n.getFilters().map(s=>NT(s));return r.length===1?r[0]:{compositeFilter:{op:mO(n.op),filters:r}}}(t):ce()}function gO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,s,i=de.min(),o=de.min(),a=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.ct=e}}function vO(t){const e=dO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?f0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._n=new wO}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Oi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class wO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new fl(0)}static Ln(){return new fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.changes=new Rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Lc(r.mutation,s,Zn.empty(),Ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=gc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qs();const o=Pc(),a=function(){return Pc()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Yi)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Lc(u.mutation,c,u.mutation.getFieldMask(),Ut.now())):o.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new EO(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pc();let s=new Lt((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Zn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||ge()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=fT();u.forEach(h=>{if(!i.has(h)){const p=xT(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(mo());let a=-1,l=i;return o.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ge())).next(u=>({batchId:a,changes:hT(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=gc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=gc();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const c=function(d,h){return new qo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,gn.newInvalidDocument(u)))});let a=gc();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Lc(u.mutation,c,Zn.empty(),Ut.now()),Mf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ys(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:vO(s.bundledQuery),readTime:ys(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.overlays=new Lt(re.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=mo(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Lt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=mo(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=mo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KM(n,r));let i=this.hr.get(n);i===void 0&&(i=ge(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.Pr=new ln(zt.Ir),this.Tr=new ln(zt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new zt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new re(new Ke([])),r=new zt(n,e),s=new zt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new re(new Ke([])),r=new zt(n,e),s=new zt(n,e+1);let i=ge();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new zt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return re.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ln(zt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new zt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(Re);return n.forEach(s=>{const i=new zt(s,0),o=new zt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new zt(new re(i),0);let a=new ln(Re);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,s=>{const i=new zt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new zt(n,0),s=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.vr=e,this.docs=function(){return new Lt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gn.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qs();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dM(uM(u),r)<=0||(s.has(u.key)||Mf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AO(this)}getSize(e){return z.resolve(this.size)}}class AO extends xO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.persistence=e,this.Mr=new Rl(n=>Fy(n),Uy),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new qy,this.targetCount=0,this.Lr=fl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.Br={},this.overlays={},this.kr=new Dy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new RO(this),this.indexManager=new _O,this.remoteDocumentCache=function(s){return new SO(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new yO(n),this.$r=new TO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new bO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new NO(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class NO extends fM{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.zr=new qy,this.jr=null}static Hr(e){return new Gy(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const s=re.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ky(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return cR()?8:po.v(Pt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new PO;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Xl()<=me.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(Xl()<=me.DEBUG&&Q("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Xl()<=me.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(n))):z.resolve())}ji(e,n){if(Mw(n))return z.resolve(null);let r=gs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=f0(n,null,"F"),r=gs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,f0(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return Mw(n)||s.isEqual(de.min())?z.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?z.resolve(null):(Xl()<=me.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ca(n)),this.es(e,o,n,cM(s,-1)).next(a=>a))})}Zi(e,n){let r=new ln(uT(e));return n.forEach((s,i)=>{Mf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Xl()<=me.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ca(n)),this.zi.getDocumentsMatchingQuery(e,n,Oi.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Lt(Re),this.rs=new Rl(i=>Fy(i),Uy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function OO(t,e,n,r){return new MO(t,e,n,r)}async function LT(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ge();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function DO(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=z.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const w=c.docVersions.get(g);Xe(w!==null),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function MT(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function jO(t,e){const n=he(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Tn.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(y,w,m){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=qs(),c=ge();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push($O(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(de.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function $O(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function FO(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UO(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Tg(t,e,n){const r=he(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!td(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function Hw(t,e,n){const r=he(t);let s=de.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=he(l),h=d.rs.get(u);return h!==void 0?z.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,gs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:ge())).next(a=>(VO(r,PM(e),a),{documents:a,hs:i})))}function VO(t,e,n){let r=t.ss.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class qw{constructor(){this.activeTargetIds=$M()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zO{constructor(){this.no=new qw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function Pp(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class qO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Pp(),l=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw al("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=WO[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Pp();return new Promise((o,a)=>{const l=new JL;l.setWithCredentials(!0),l.listenOnce(YL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kp.NO_ERROR:const u=l.getResponseJson();Q(hn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case kp.TIMEOUT:Q(hn,`RPC '${e}' ${i} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case kp.HTTP_ERROR:const d=l.getStatus();if(Q(hn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(m)>=0?m:U.UNKNOWN}(p.status);a(new q(g,p.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q(hn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Q(hn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=Pp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KL(),a=QL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Q(hn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const g=new HO({lo:w=>{p?Q(hn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(h||(Q(hn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Q(hn,`RPC '${e}' stream ${s} sending:`,w),d.send(w))},ho:()=>d.close()}),y=(w,m,v)=>{w.listen(m,_=>{try{v(_)}catch(x){setTimeout(()=>{throw x},0)}})};return y(d,Vd.EventType.OPEN,()=>{p||Q(hn,`RPC '${e}' stream ${s} transport opened.`)}),y(d,Vd.EventType.CLOSE,()=>{p||(p=!0,Q(hn,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),y(d,Vd.EventType.ERROR,w=>{p||(p=!0,al(hn,`RPC '${e}' stream ${s} transport errored:`,w),g.Vo(new q(U.UNAVAILABLE,"The operation could not be completed")))}),y(d,Vd.EventType.MESSAGE,w=>{var m;if(!p){const v=w.data[0];Xe(!!v);const _=v,x=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(x){Q(hn,`RPC '${e}' stream ${s} received error:`,x);const A=x.status;let I=function(T){const b=bt[T];if(b!==void 0)return CT(b)}(A),S=x.message;I===void 0&&(I=U.INTERNAL,S="Unknown error status: "+A+" with message "+x.message),p=!0,g.Vo(new q(I,S)),d.close()}else Q(hn,`RPC '${e}' stream ${s} received:`,v),g.mo(v)}}),y(a,XL.STAT_EVENT,w=>{w.stat===Cw.PROXY?Q(hn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===Cw.NOPROXY&&Q(hn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return new rO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new OT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GO extends DT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=oO(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?ys(o.readTime):de.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Cg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=vg(l)?{documents:cO(i,l)}:{query:uO(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bT(i,o.resumeToken);const c=wg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=m0(i,o.snapshotVersion.toTimestamp());const c=wg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=hO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.t_(n)}}class KO extends DT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=lO(e.writeResults,e.commitTime),r=ys(e.commitTime);return this.listener.T_(r,n)}return Xe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Cg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,xg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,xg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class YO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ws(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Go(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=he(l);c.v_.add(4),await sd(c),c.x_.set("Unknown"),c.v_.delete(4),await Ff(c)}(this))})}),this.x_=new YO(r,s)}}async function Ff(t){if(Go(t))for(const e of t.F_)await e(!0)}async function sd(t){for(const e of t.F_)await e(!1)}function jT(t,e){const n=he(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Jy(n)?Xy(n):kl(n).Jo()&&Yy(n,e))}function Qy(t,e){const n=he(t),r=kl(n);n.C_.delete(e),r.Jo()&&$T(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Go(n)&&n.x_.set("Unknown"))}function Yy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).c_(e)}function $T(t,e){t.O_.Oe(e),kl(t).l_(e)}function Xy(t){t.O_=new ZM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.x_.p_()}function Jy(t){return Go(t)&&!kl(t).Ho()&&t.C_.size>0}function Go(t){return he(t).v_.size===0}function FT(t){t.O_=void 0}async function JO(t){t.C_.forEach((e,n)=>{Yy(t,e)})}async function ZO(t,e){FT(t),Jy(t)?(t.x_.S_(e),Xy(t)):t.x_.set("Unknown")}async function eD(t,e,n){if(t.x_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await g0(t,r)}else if(e instanceof vh?t.O_.$e(e):e instanceof TT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(de.min()))try{const r=await MT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(Tn.EMPTY_BYTE_STRING,u.snapshotVersion)),$T(i,l);const d=new hi(u.target,l,c,u.sequenceNumber);Yy(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await g0(t,r)}}async function g0(t,e,n){if(!td(e))throw e;t.v_.add(1),await sd(t),t.x_.set("Offline"),n||(n=()=>MT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ff(t)})}function UT(t,e){return e().catch(n=>g0(t,n,e))}async function Uf(t){const e=he(t),n=ji(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;tD(e);)try{const s=await FO(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,nD(e,s)}catch(s){await g0(e,s)}VT(e)&&zT(e)}function tD(t){return Go(t)&&t.D_.length<10}function nD(t,e){t.D_.push(e);const n=ji(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function VT(t){return Go(t)&&!ji(t).Ho()&&t.D_.length>0}function zT(t){ji(t).start()}async function rD(t){ji(t).d_()}async function sD(t){const e=ji(t);for(const n of t.D_)e.I_(n.mutations)}async function iD(t,e,n){const r=t.D_.shift(),s=By.from(r,e,n);await UT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Uf(t)}async function oD(t,e){e&&ji(t).P_&&await async function(r,s){if(function(o){return YM(o)&&o!==U.ABORTED}(s.code)){const i=r.D_.shift();ji(r).Zo(),await UT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Uf(r)}}(t,e),VT(t)&&zT(t)}async function Kw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Go(n);n.v_.add(3),await sd(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ff(n)}async function aD(t,e){const n=he(t);e?(n.v_.delete(2),await Ff(n)):e||(n.v_.add(2),await sd(n),n.x_.set("Unknown"))}function kl(t){return t.N_||(t.N_=function(n,r,s){const i=he(n);return i.R_(),new GO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:JO.bind(null,t),To:ZO.bind(null,t),u_:eD.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Jy(t)?Xy(t):t.x_.set("Unknown")):(await t.N_.stop(),FT(t))})),t.N_}function ji(t){return t.L_||(t.L_=function(n,r,s){const i=he(n);return i.R_(),new KO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:rD.bind(null,t),To:oD.bind(null,t),E_:sD.bind(null,t),T_:iD.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Uf(t)):(await t.L_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(t,e){if(ws("AsyncQueue",`${e}: ${t}`),td(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new Va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.B_=new Lt(re.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ce():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pl(e,n,Va.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class cD{constructor(){this.queries=new Rl(e=>cT(e),Lf),this.onlineState="Unknown",this.W_=new Set}}async function tv(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new lD,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ev(o,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&rv(n)}async function nv(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uD(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&rv(n)}function dD(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function rv(t){t.W_.forEach(e=>{e.next()})}var Ig,Yw;(Yw=Ig||(Ig={})).j_="default",Yw.Cache="cache";class sv{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class hD{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ge(),this.mutatedKeys=ge(),this.ha=uT(e),this.Pa=new Va(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new Qw,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),p=Mf(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),w=!0):this.da(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return y(p)-y(g)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new pl(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Qw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ge(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new WT(r))}),this.la.forEach(r=>{e.has(r)||n.push(new BT(r))}),n}fa(e){this.ua=e.hs,this.la=ge();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return pl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class fD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pD{constructor(e){this.key=e,this.pa=!1}}class mD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Rl(a=>cT(a),Lf),this.Sa=new Map,this.ba=new Set,this.Da=new Lt(re.comparator),this.Ca=new Map,this.va=new qy,this.Fa={},this.Ma=new Map,this.xa=fl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function gD(t,e,n=!0){const r=YT(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await HT(r,e,n,!0),s}async function yD(t,e){const n=YT(t);await HT(n,e,!0,!1)}async function HT(t,e,n,r){const s=await UO(t.localStore,gs(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await vD(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&jT(t.remoteStore,s),a}async function vD(t,e,n,r,s){t.Na=(d,h,p)=>async function(y,w,m,v){let _=w.view.Ta(m);_.Xi&&(_=await Hw(y.localStore,w.query,!1).then(({documents:S})=>w.view.Ta(S,_)));const x=v&&v.targetChanges.get(w.targetId),A=v&&v.targetMismatches.get(w.targetId)!=null,I=w.view.applyChanges(_,y.isPrimaryClient,x,A);return Jw(y,w.targetId,I.Va),I.snapshot}(t,d,h,p);const i=await Hw(t.localStore,e,!0),o=new hD(e,i.hs),a=o.Ta(i.documents),l=rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Jw(t,n,c.Va);const u=new fD(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function _D(t,e,n){const r=he(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Lf(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Tg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qy(r.remoteStore,s.targetId),bg(r,s.targetId)}).catch(ed)):(bg(r,s.targetId),await Tg(r.localStore,s.targetId,!0))}async function wD(t,e){const n=he(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qy(n.remoteStore,r.targetId))}async function xD(t,e,n){const r=AD(t);try{const s=await function(o,a){const l=he(o),c=Ut.now(),u=a.reduce((p,g)=>p.add(g.key),ge());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=qs(),y=ge();return l.os.getEntries(p,u).next(w=>{g=w,g.forEach((m,v)=>{v.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{d=w;const m=[];for(const v of a){const _=HM(v,d.get(v.key).overlayedDocument);_!=null&&m.push(new Yi(v.key,_,nT(_.value.mapValue),Ir.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:hT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Lt(Re)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await id(r,s.changes),await Uf(r.remoteStore)}catch(s){const i=ev(s,"Failed to persist write");n.reject(i)}}async function qT(t,e){const n=he(t);try{const r=await jO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Xe(o.pa):s.removedDocuments.size>0&&(Xe(o.pa),o.pa=!1))}),await id(n,r,e)}catch(r){await ed(r)}}function Xw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&rv(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ED(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Lt(re.comparator);o=o.insert(i,gn.newNoDocument(i,de.min()));const a=ge().add(i),l=new jf(de.min(),new Map,new Lt(Re),o,a);await qT(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),iv(r)}else await Tg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(ed)}async function CD(t,e){const n=he(t),r=e.batch.batchId;try{const s=await DO(n.localStore,e);KT(n,r,null),GT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await id(n,s)}catch(s){await ed(s)}}async function TD(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Xe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);KT(r,e,n),GT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await id(r,s)}catch(s){await ed(s)}}function GT(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function KT(t,e,n){const r=he(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||QT(t,r)})}function QT(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Qy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),iv(t))}function Jw(t,e,n){for(const r of n)r instanceof BT?(t.va.addReference(r.key,e),ID(t,r)):r instanceof WT?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||QT(t,r.key)):ce()}function ID(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ba.add(r),iv(t))}function iv(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new re(Ke.fromString(e)),r=t.xa.next();t.Ca.set(r,new pD(n)),t.Da=t.Da.insert(n,r),jT(t.remoteStore,new hi(gs(Pf(n.path)),r,"TargetPurposeLimboResolution",Dy._e))}}async function id(t,e,n){const r=he(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Ky.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=he(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,h=>z.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>z.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!td(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(h,y)}}}(r.localStore,i))}async function bD(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await LT(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await id(n,r.us)}}function SD(t,e){const n=he(t),r=n.Ca.get(e);if(r&&r.pa)return ge().add(r.key);{let s=ge();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function YT(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ED.bind(null,e),e.ya.u_=uD.bind(null,e.eventManager),e.ya.La=dD.bind(null,e.eventManager),e}function AD(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,e),e}class Zw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return OO(this.persistence,new LO,e.initialUser,this.serializer)}createPersistence(e){return new kO(Gy.Hr,this.serializer)}createSharedClientState(e){return new zO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await aD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cD}()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=function(i){return new qO(i)}(e.databaseInfo);return function(i,o,a,l){return new QO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new XO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Xw(this.syncEngine,n,0),function(){return Gw.D()?new Gw:new BO}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new mD(s,i,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=he(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await sd(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pn.UNAUTHENTICATED,this.clientId=Z6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ev(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PD(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Kw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Kw(e.remoteStore,s)),t._onlineComponents=e}function ND(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ND(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await Mp(t,new Zw)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Mp(t,new Zw);return t._offlineComponents}async function XT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await e5(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await e5(t,new RD))),t._onlineComponents}function LD(t){return XT(t).then(e=>e.syncEngine)}async function y0(t){const e=await XT(t),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=_D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wD.bind(null,e.syncEngine),n}function MD(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new ov({next:h=>{o.enqueueAndForget(()=>nv(i,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new sv(Pf(a.path),u,{includeMetadataChanges:!0,ta:!0});return tv(i,d)}(await y0(t),t.asyncQueue,e,n,r)),r.promise}function OD(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new ov({next:h=>{o.enqueueAndForget(()=>nv(i,d)),h.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new sv(a,u,{includeMetadataChanges:!0,ta:!0});return tv(i,d)}(await y0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DD(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n5(t){if(!re.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r5(t){if(re.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jD(t,e){if(e<=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s5({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s5(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eM;switch(r.type){case"firstParty":return new sM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=t5.get(n);r&&(Q("ComponentProvider","Removing Datastore"),t5.delete(n),r.terminate())}(this),Promise.resolve()}}function $D(t,e,n,r={}){var s;const i=(t=Wn(t,zf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pn.MOCK_USER;else{a=J1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(c)}t._authCredentials=new tM(new J6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Ai extends Cs{constructor(e,n,r){super(e,n,Pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new re(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Ge(t,e,...n){if(t=He(t),ZT("collection","path",e),t instanceof zf){const r=Ke.fromString(e,...n);return r5(r),new Ai(t,null,r)}{if(!(t instanceof En||t instanceof Ai))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return r5(r),new Ai(t.firestore,null,r)}}function oe(t,e,...n){if(t=He(t),arguments.length===1&&(e=Z6.newId()),ZT("doc","path",e),t instanceof zf){const r=Ke.fromString(e,...n);return n5(r),new En(t,null,new re(r))}{if(!(t instanceof En||t instanceof Ai))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return n5(r),new En(t.firestore,t instanceof Ai?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new OT(this,"async_queue_retry"),this.cu=()=>{const n=Lp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new ms;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!td(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ws("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=Zy.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&ce()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function i5(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Gs extends zf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new FD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||e9(this),this._firestoreClient.terminate()}}function UD(t,e){const n=typeof t=="object"?t:cf(),r=typeof t=="string"?t:e||"(default)",s=Vu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Y1("firestore");i&&$D(s,...i)}return s}function Bf(t){return t._firestoreClient||e9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function e9(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new vM(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,JT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kD(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Tn.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^__.*__$/;class zD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nd(e,this.data,n,this.fieldTransforms)}}class t9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Hf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return v0(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(n9(this.Vu)&&VD.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class BD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$f(e)}Cu(e,n,r,s=!1){return new Hf({Vu:e,methodName:n,Du:r,path:sn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ad(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new BD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r9(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);uv("Data must be an object, but it was:",o,r);const a=i9(r,o);let l,c;if(i.merge)l=new Zn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=Sg(e,d,n);if(!o.contains(h))throw new q(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);a9(u,h)||u.push(h)}l=new Zn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new zD(new jn(a),l,c)}class qf extends od{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function WD(t,e,n){return new Hf({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lv extends od{_toFieldTransform(e){return new wT(e.path,new xu)}isEqual(e){return e instanceof lv}}class cv extends od{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=WD(this,e,!0),r=this.vu.map(i=>Nl(i,n)),s=new hl(r);return new wT(e.path,s)}isEqual(e){return e instanceof cv&&ru(this.vu,e.vu)}}function HD(t,e,n,r){const s=t.Cu(1,e,n);uv("Data must be an object, but it was:",s,r);const i=[],o=jn.empty();Ho(r,(l,c)=>{const u=dv(e,l,n);c=He(c);const d=s.yu(u);if(c instanceof qf)i.push(u);else{const h=Nl(c,d);h!=null&&(i.push(u),o.set(u,h))}});const a=new Zn(i);return new t9(o,a,s.fieldTransforms)}function qD(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[Sg(e,r,n)],l=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Sg(e,i[h])),l.push(i[h+1]);const c=[],u=jn.empty();for(let h=a.length-1;h>=0;--h)if(!a9(c,a[h])){const p=a[h];let g=l[h];g=He(g);const y=o.yu(p);if(g instanceof qf)c.push(p);else{const w=Nl(g,y);w!=null&&(c.push(p),u.set(p,w))}}const d=new Zn(c);return new t9(u,d,o.fieldTransforms)}function s9(t,e,n,r=!1){return Nl(n,t.Cu(r?4:3,e))}function Nl(t,e){if(o9(t=He(t)))return uv("Unsupported field value:",e,t),i9(t,e);if(t instanceof od)return function(r,s){if(!n9(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Nl(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ut.fromDate(r);return{timestampValue:m0(s.serializer,i)}}if(r instanceof Ut){const i=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:m0(s.serializer,i)}}if(r instanceof av)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:bT(s.serializer,r._byteString)};if(r instanceof En){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Vf(r)}`)}(t,e)}function i9(t,e){const n={};return eT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,s)=>{const i=Nl(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function o9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof av||t instanceof ml||t instanceof En||t instanceof od)}function uv(t,e,n){if(!o9(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Vf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Sg(t,e,n){if((e=He(e))instanceof Wf)return e._internalPath;if(typeof e=="string")return dv(t,e);throw v0("Field path arguments must be of type string or ",t,!1,void 0,n)}const GD=new RegExp("[~\\*/\\[\\]]");function dv(t,e,n){if(e.search(GD)>=0)throw v0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wf(...e.split("."))._internalPath}catch{throw v0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function v0(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function a9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KD extends hv{data(){return super.data()}}function fv(t,e){return typeof e=="string"?dv(t,e):e instanceof Wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{}class Gf extends pv{}function za(t,e,...n){let r=[];e instanceof pv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof gv).length,a=i.filter(l=>l instanceof mv).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class mv extends Gf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mv(e,n,r)}_apply(e){const n=this._parse(e);return u9(e._query,n),new Cs(e.firestore,e.converter,_g(e._query,n))}_parse(e){const n=ad(e.firestore);return function(i,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){a5(d,u);const p=[];for(const g of d)p.push(o5(l,i,g));h={arrayValue:{values:p}}}else h=o5(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||a5(d,u),h=s9(a,o,d,u==="in"||u==="not-in");return kt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gv extends pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)u9(o,l),o=_g(o,l)}(e._query,n),new Cs(e.firestore,e.converter,_g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yv extends Gf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(i,o)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new qo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function _0(t,e="asc"){const n=e,r=fv("orderBy",t);return yv._create(r,n)}class vv extends Gf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new vv(e,n,r)}_apply(e){return new Cs(e.firestore,e.converter,f0(e._query,this._limit,this._limitType))}}function w0(t){return jD("limit",t),vv._create("limit",t,"F")}class _v extends Gf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _v(e,n,r)}_apply(e){const n=QD(e,this.type,this._docOrFields,this._inclusive);return new Cs(e.firestore,e.converter,function(s,i){return new qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function c9(...t){return _v._create("startAfter",t,!1)}function QD(t,e,n,r){if(n[0]=He(n[0]),n[0]instanceof hv)return function(i,o,a,l,c){if(!l)throw new q(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Ua(i))if(d.field.isKeyField())u.push(h0(o,l.key));else{const h=l.data.field(d.field);if(Nf(h))throw new q(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new q(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new dl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ad(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new q(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<u.length;g++){const y=u[g];if(h[g].field.isKeyField()){if(typeof y!="string")throw new q(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!Vy(o)&&y.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const w=o.path.child(Ke.fromString(y));if(!re.isDocumentKey(w))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const m=new re(w);p.push(h0(a,m))}else{const w=s9(l,c,y);p.push(w)}}return new dl(p,d)}(t._query,t.firestore._databaseId,s,e,n,r)}}function o5(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vy(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!re.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h0(t,new re(r))}if(n instanceof En)return h0(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function a5(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u9(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YD{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new av(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Di(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Xe(PT(r));const s=new vu(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||ws(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h9 extends hv{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _h extends h9{data(e={}){return super.data(e)}}class f9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new _h(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new _h(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:XD(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){t=Wn(t,En);const e=Wn(t.firestore,Gs);return MD(Bf(e),t._key).then(n=>m9(e,t,n))}class wv extends YD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function JD(t){t=Wn(t,Cs);const e=Wn(t.firestore,Gs),n=Bf(e),r=new wv(e);return l9(t._query),OD(n,t._query).then(s=>new f9(e,r,t,s))}function Ba(t,e,n){t=Wn(t,En);const r=Wn(t.firestore,Gs),s=d9(t.converter,e,n);return Kf(r,[r9(ad(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ir.none())])}function $t(t,e,n,...r){t=Wn(t,En);const s=Wn(t.firestore,Gs),i=ad(s);let o;return o=typeof(e=He(e))=="string"||e instanceof Wf?qD(i,"updateDoc",t._key,e,n,r):HD(i,"updateDoc",t._key,e),Kf(s,[o.toMutation(t._key,Ir.exists(!0))])}function Ri(t){return Kf(Wn(t.firestore,Gs),[new zy(t._key,Ir.none())])}function Ko(t,e){const n=Wn(t.firestore,Gs),r=oe(t),s=d9(t.converter,e);return Kf(n,[r9(ad(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function Hn(t,...e){var n,r,s;t=He(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||i5(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(i5(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof En)c=Wn(t.firestore,Gs),u=Pf(t._key.path),l={next:d=>{e[o]&&e[o](m9(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Wn(t,Cs);c=Wn(d.firestore,Gs),u=d._query;const h=new wv(c);l={next:p=>{e[o]&&e[o](new f9(c,h,d,p))},error:e[o+1],complete:e[o+2]},l9(t._query)}return function(h,p,g,y){const w=new ov(y),m=new sv(p,w,g);return h.asyncQueue.enqueueAndForget(async()=>tv(await y0(h),m)),()=>{w.Qa(),h.asyncQueue.enqueueAndForget(async()=>nv(await y0(h),m))}}(Bf(c),u,a,l)}function Kf(t,e){return function(r,s){const i=new ms;return r.asyncQueue.enqueueAndForget(async()=>xD(await LD(r),s,i)),i.promise}(Bf(t),e)}function m9(t,e,n){const r=n.docs.get(e._key),s=new wv(t);return new h9(t,s,e._key,r,new vc(n.hasPendingWrites,n.fromCache),e.converter)}function Fn(){return new lv("serverTimestamp")}function x0(...t){return new cv("arrayUnion",t)}(function(e,n=!0){(function(s){Al=s})(Wi),Mi(new Bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Gs(new nM(r.getProvider("auth-internal")),new oM(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Tr(Tw,"4.5.0",e),Tr(Tw,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="firebasestorage.googleapis.com",y9="storageBucket",ZD=2*60*1e3,ej=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Es{constructor(e,n,r=0){super(Op(e),`Firebase Storage: ${n} (${Op(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Op(t){return"storage/"+t}function xv(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(pt.UNKNOWN,t)}function tj(t){return new mt(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nj(t){return new mt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(pt.UNAUTHENTICATED,t)}function sj(){return new mt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ij(t){return new mt(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function oj(){return new mt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aj(){return new mt(pt.CANCELED,"User canceled the upload/download.")}function lj(t){return new mt(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function cj(t){return new mt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uj(){return new mt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+y9+"' property when initializing the app?")}function dj(){return new mt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hj(){return new mt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fj(t){return new mt(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ag(t){return new mt(pt.INVALID_ARGUMENT,t)}function v9(){return new mt(pt.APP_DELETED,"The Firebase app was deleted.")}function pj(t){return new mt(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(t,e){return new mt(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Jl(t){throw new mt(pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw cj(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),g={bucket:1,path:3},y=n===g9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${w}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<_.length;x++){const A=_[x],I=A.regex.exec(e);if(I){const S=I[A.indices.bucket];let E=I[A.indices.path];E||(E=""),r=new er(S,E),A.postModify(r);break}}if(r==null)throw lj(e);return r}}class mj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function d(w){s=setTimeout(()=>{s=null,t(p,l())},w)}function h(){i&&clearTimeout(i)}function p(w,...m){if(c){h();return}if(w){h(),u.call(null,w,...m);return}if(l()||o){h(),u.call(null,w,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let g=!1;function y(w){g||(g=!0,h(),!c&&(s!==null?(w||(a=2),clearTimeout(s),d(0)):w||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function yj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){return t!==void 0}function _j(t){return typeof t=="object"&&!Array.isArray(t)}function Ev(t){return typeof t=="string"||t instanceof String}function l5(t){return Cv()&&t instanceof Blob}function Cv(){return typeof Blob<"u"}function c5(t,e,n,r){if(r<e)throw Ag(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ag(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Co||(Co={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,s,i,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Hd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Co.NO_ERROR,l=i.getStatus();if(!a||wj(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Co.ABORT;r(!1,new Hd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Hd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());vj(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=xv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?v9():aj();o(l)}else{const l=oj();o(l)}};this.canceled_?n(!1,new Hd(!1,null,!0)):this.backoffId_=gj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ej(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Cj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ij(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bj(t,e,n,r,s,i,o=!0){const a=_9(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Tj(c,e),Ej(c,n),Cj(c,i),Ij(c,r),new xj(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Aj(...t){const e=Sj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Cv())return new Blob(t);throw new mt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){if(typeof atob>"u")throw fj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dp{constructor(e,n){this.data=e,this.contentType=n||null}}function Nj(t,e){switch(t){case cs.RAW:return new Dp(w9(e));case cs.BASE64:case cs.BASE64URL:return new Dp(x9(t,e));case cs.DATA_URL:return new Dp(Lj(e),Mj(e))}throw xv()}function w9(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Pj(t){let e;try{e=decodeURIComponent(t)}catch{throw Mc(cs.DATA_URL,"Malformed data URL.")}return w9(e)}function x9(t,e){switch(t){case cs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Mc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Mc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kj(e)}catch(s){throw s.message.includes("polyfill")?s:Mc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class E9{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mc(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Oj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Lj(t){const e=new E9(t);return e.base64?x9(cs.BASE64,e.rest):Pj(e.rest)}function Mj(t){return new E9(t).contentType}function Oj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){let r=0,s="";l5(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(l5(this.data_)){const r=this.data_,s=Rj(r,e,n);return s===null?null:new ai(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ai(r,!0)}}static getBlob(...e){if(Cv()){const n=e.map(r=>r instanceof ai?r.data_:r);return new ai(Aj.apply(null,n))}else{const n=e.map(o=>Ev(o)?Nj(cs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ai(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){let e;try{e=JSON.parse(t)}catch{return null}return _j(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function T9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){return e}class bn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||$j}}let qd=null;function Fj(t){return!Ev(t)||t.length<2?t:T9(t)}function I9(){if(qd)return qd;const t=[];t.push(new bn("bucket")),t.push(new bn("generation")),t.push(new bn("metageneration")),t.push(new bn("name","fullPath",!0));function e(i,o){return Fj(o)}const n=new bn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new bn("size");return s.xform=r,t.push(s),t.push(new bn("timeCreated")),t.push(new bn("updated")),t.push(new bn("md5Hash",null,!0)),t.push(new bn("cacheControl",null,!0)),t.push(new bn("contentDisposition",null,!0)),t.push(new bn("contentEncoding",null,!0)),t.push(new bn("contentLanguage",null,!0)),t.push(new bn("contentType",null,!0)),t.push(new bn("metadata","customMetadata",!0)),qd=t,qd}function Uj(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new er(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Vj(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Uj(r,t),r}function b9(t,e,n){const r=C9(e);return r===null?null:Vj(t,r,n)}function zj(t,e,n,r){const s=C9(e);if(s===null||!Ev(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=Qf(h,n,r),g=_9({alt:"media",token:c});return p+g})[0]}function Bj(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Tv{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){if(!t)throw xv()}function Wj(t,e){function n(r,s){const i=b9(t,s,e);return S9(i!==null),i}return n}function Hj(t,e){function n(r,s){const i=b9(t,s,e);return S9(i!==null),zj(i,s,t.host,t._protocol)}return n}function A9(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=sj():s=rj():n.getStatus()===402?s=nj(t.bucket):n.getStatus()===403?s=ij(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function R9(t){const e=A9(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=tj(t.path)),i.serverResponse=s.serverResponse,i}return n}function qj(t,e,n){const r=e.fullServerUrl(),s=Qf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Tv(s,i,Hj(t,n),o);return a.errorHandler=R9(e),a}function Gj(t,e){const n=e.fullServerUrl(),r=Qf(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new Tv(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=R9(e),a}function Kj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Qj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Kj(null,e)),r}function Yj(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Qj(e,r,s),u=Bj(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ai.getBlob(d,r,h);if(p===null)throw dj();const g={name:c.fullPath},y=Qf(i,t.host,t._protocol),w="POST",m=t.maxUploadRetryTime,v=new Tv(y,w,Wj(t,n),m);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=A9(e),v}class Xj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Co.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Co.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Co.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jj extends Xj{initXhr(){this.xhr_.responseType="text"}}function Iv(){return new Jj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Do(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T9(this._location.path)}get storage(){return this._service}get parent(){const e=Dj(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new Do(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pj(e)}}function Zj(t,e,n){t._throwIfRoot("uploadBytes");const r=Yj(t.storage,t._location,I9(),new ai(e,!0),n);return t.storage.makeRequestWithTokens(r,Iv).then(s=>({metadata:s,ref:t}))}function e$(t){t._throwIfRoot("getDownloadURL");const e=qj(t.storage,t._location,I9());return t.storage.makeRequestWithTokens(e,Iv).then(n=>{if(n===null)throw hj();return n})}function t$(t){t._throwIfRoot("deleteObject");const e=Gj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Iv)}function n$(t,e){const n=jj(t._location.path,e),r=new er(t._location.bucket,n);return new Do(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){return/^[A-Za-z]+:\/\//.test(t)}function s$(t,e){return new Do(t,e)}function k9(t,e){if(t instanceof bv){const n=t;if(n._bucket==null)throw uj();const r=new Do(n,n._bucket);return e!=null?k9(r,e):r}else return e!==void 0?n$(t,e):t}function i$(t,e){if(e&&r$(e)){if(t instanceof bv)return s$(t,e);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}else return k9(t,e)}function u5(t,e){const n=e==null?void 0:e[y9];return n==null?null:er.makeFromBucketSpec(n,t)}function o$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:J1(s,t.app.options.projectId))}class bv{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=g9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZD,this._maxUploadRetryTime=ej,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=u5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=u5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Do(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new mj(v9());{const o=bj(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const d5="@firebase/storage",h5="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="storage";function Cu(t,e,n){return t=He(t),Zj(t,e,n)}function Tu(t){return t=He(t),e$(t)}function Rg(t){return t=He(t),t$(t)}function fi(t,e){return t=He(t),i$(t,e)}function a$(t=cf(),e){t=He(t);const r=Vu(t,N9).getImmediate({identifier:e}),s=Y1("storage");return s&&l$(r,...s),r}function l$(t,e,n,r={}){o$(t,e,n,r)}function c$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new bv(n,r,s,e,Wi)}function u$(){Mi(new Bs(N9,c$,"PUBLIC").setMultipleInstances(!0)),Tr(d5,h5,""),Tr(d5,h5,"esm2017")}u$();var f5={};const p5="@firebase/database",m5="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P9="";function d$(t){P9=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ys(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h$(e)}}catch{}return new f$},go=L9("localStorage"),kg=L9("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new lf("@firebase/database"),p$=function(){let t=1;return function(){return t++}}(),M9=function(t){const e=xR(t),n=new gR;n.update(e);const r=n.digest();return Q1.encodeByteArray(r)},ld=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ld.apply(null,r):typeof r=="object"?e+=rn(r):e+=r,e+=" "}return e};let To=null,g5=!0;const m$=function(t,e){Y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Wa.logLevel=me.VERBOSE,To=Wa.log.bind(Wa),e&&kg.set("logging_enabled",!0)):typeof t=="function"?To=t:(To=null,kg.remove("logging_enabled"))},yn=function(...t){if(g5===!0&&(g5=!1,To===null&&kg.get("logging_enabled")===!0&&m$(!0)),To){const e=ld.apply(null,t);To(e)}},cd=function(t){return function(...e){yn(t,...e)}},Ng=function(...t){const e="FIREBASE INTERNAL ERROR: "+ld(...t);Wa.error(e)},Ks=function(...t){const e=`FIREBASE FATAL ERROR: ${ld(...t)}`;throw Wa.error(e),new Error(e)},nr=function(...t){const e="FIREBASE WARNING: "+ld(...t);Wa.warn(e)},g$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},O9=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},y$=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gl="[MIN_NAME]",jo="[MAX_NAME]",Pl=function(t,e){if(t===e)return 0;if(t===gl||e===jo)return-1;if(e===gl||t===jo)return 1;{const n=y5(t),r=y5(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},v$=function(t,e){return t===e?0:t<e?-1:1},Zl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rn(e))},Sv=function(t){if(typeof t!="object"||t===null)return rn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=rn(e[r]),n+=":",n+=Sv(t[e[r]]);return n+="}",n},D9=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Rr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const j9=function(t){Y(!O9(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},_$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},w$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},x$=new RegExp("^-?(0*)\\d{1,10}$"),E$=-2147483648,C$=2147483647,y5=function(t){if(x$.test(t)){const e=Number(t);if(e>=E$&&e<=C$)return e}return null},ud=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nr("Exception was thrown by user callback.",n),e},Math.floor(0))}},T$=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nr(e)}}class Ha{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ha.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="5",$9="v",F9="s",U9="r",V9="f",z9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B9="ls",W9="p",Pg="ac",H9="websocket",q9="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=go.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&go.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function S$(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function K9(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let r;if(e===H9)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===q9)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);S$(t)&&(n.ns=t.namespace);const s=[];return Rr(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.counters_={}}incrementCounter(e,n=1){Ys(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={},$p={};function Rv(t){const e=t.toString();return jp[e]||(jp[e]=new A$),jp[e]}function R$(t,e){const n=t.toString();return $p[n]||($p[n]=e()),$p[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ud(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="start",N$="close",P$="pLPCommand",L$="pRTLPCB",Q9="id",Y9="pw",X9="ser",M$="cb",O$="seg",D$="ts",j$="d",$$="dframe",J9=1870,Z9=30,F$=J9-Z9,U$=25e3,V$=3e4;class ba{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cd(e),this.stats_=Rv(n),this.urlFn=l=>(this.appCheckToken&&(l[Pg]=this.appCheckToken),K9(n,q9,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new k$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V$)),y$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kv((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===v5)this.id=a,this.password=l;else if(o===N$)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[v5]="t",r[X9]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[M$]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$9]=Av,this.transportSessionId&&(r[F9]=this.transportSessionId),this.lastSessionId&&(r[B9]=this.lastSessionId),this.applicationId&&(r[W9]=this.applicationId),this.appCheckToken&&(r[Pg]=this.appCheckToken),typeof location<"u"&&location.hostname&&z9.test(location.hostname)&&(r[U9]=V9);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ba.forceAllow_=!0}static forceDisallow(){ba.forceDisallow_=!0}static isAvailable(){return ba.forceAllow_?!0:!ba.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_$()&&!w$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rC(n),s=D9(r,F$);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$$]="t",r[Q9]=e,r[Y9]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kv{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=p$(),window[P$+this.uniqueCallbackIdentifier]=e,window[L$+this.uniqueCallbackIdentifier]=n,this.myIFrame=kv.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yn("frame writing exception"),a.stack&&yn(a.stack),yn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Q9]=this.myID,e[Y9]=this.myPW,e[X9]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Z9+r.length<=J9;){const o=this.pendingSegs.shift();r=r+"&"+O$+s+"="+o.seg+"&"+D$+s+"="+o.ts+"&"+j$+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(U$)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=16384,B$=45e3;let E0=null;typeof MozWebSocket<"u"?E0=MozWebSocket:typeof WebSocket<"u"&&(E0=WebSocket);class Wr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cd(this.connId),this.stats_=Rv(n),this.connURL=Wr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[$9]=Av,typeof location<"u"&&location.hostname&&z9.test(location.hostname)&&(o[U9]=V9),n&&(o[F9]=n),r&&(o[B9]=r),s&&(o[Pg]=s),i&&(o[W9]=i),K9(e,H9,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,go.set("previous_websocket_failure",!0);try{let r;cC(),this.mySock=new E0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Wr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&E0!==null&&!Wr.forceDisallow_}static previouslyFailed(){return go.isInMemoryStorage||go.get("previous_websocket_failure")===!0}markConnectionHealthy(){go.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=nu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=D9(n,z$);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(B$))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wr.responsesRequiredToBeHealthy=2;Wr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ba,Wr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Wr&&Wr.isAvailable();let r=n&&!Wr.previouslyFailed();if(e.webSocketOnly&&(n||nr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wr];else{const s=this.transports_=[];for(const i of Iu.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Iu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Iu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=6e4,H$=5e3,q$=10*1024,G$=100*1024,Fp="t",_5="d",K$="s",w5="r",Q$="e",x5="o",E5="a",C5="n",T5="p",Y$="h";class X${constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cd("c:"+this.id+":"),this.transportManager_=new Iu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Oc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>G$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>q$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fp in e){const n=e[Fp];n===E5?this.upgradeIfSecondaryHealthy_():n===w5?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===x5&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Zl("t",e),r=Zl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T5,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E5,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C5,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Zl("t",e),r=Zl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Zl(Fp,e);if(_5 in e){const r=e[_5];if(n===Y$){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===C5){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===K$?this.onConnectionShutdown_(r):n===w5?this.onReset_(r):n===Q$?Ng("Server Error: "+r):n===x5?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ng("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Av!==r&&nr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Oc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(W$))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(H$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T5,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends tI{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Z1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new C0}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=32,b5=768;class rt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new rt("")}function Ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $i(t){return t.pieces_.length-t.pieceNum_}function et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new rt(t.pieces_,e)}function nI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function J$(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rI(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function sI(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new rt(e,0)}function Ht(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof rt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new rt(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function Er(t,e){const n=Ee(t),r=Ee(e);if(n===null)return e;if(n===r)return Er(et(t),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iI(t,e){if($i(t)!==$i(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Hr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($i(t)>$i(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Z${constructor(e,n){this.errorPrefix_=n,this.parts_=rI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=af(this.parts_[r]);oI(this)}}function eF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=af(e),oI(t)}function tF(t){const e=t.parts_.pop();t.byteLength_-=af(e),t.parts_.length>0&&(t.byteLength_-=1)}function oI(t){if(t.byteLength_>b5)throw new Error(t.errorPrefix_+"has a key path longer than "+b5+" bytes ("+t.byteLength_+").");if(t.parts_.length>I5)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+I5+") or object contains a cycle "+so(t))}function so(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends tI{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Nv}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=1e3,nF=60*5*1e3,S5=30*1e3,rF=1.3,sF=3e4,iF="server_kill",A5=3;class $s extends eI{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=$s.nextPersistentConnectionId_++,this.log_=cd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ec,this.maxReconnectDelay_=nF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&C0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(rn(i)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new X1,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;$s.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ys(e,"w")){const r=il(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();nr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=S5)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ng("Unrecognized action received from server: "+rn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ec,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ec,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sF&&(this.reconnectDelay_=ec),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+$s.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Y(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new X$(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{nr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(iF)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&nr(d),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gm(this.interruptReasons_)&&(this.reconnectDelay_=ec,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Sv(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new rt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=A5&&(this.reconnectDelay_=S5,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=A5&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+P9.replace(/\./g,"-")]=1,Z1()?e["framework.cordova"]=1:lC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=C0.getInstance().currentlyOnline();return Gm(this.interruptReasons_)&&e}}$s.nextPersistentConnectionId_=0;$s.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ce(gl,e),s=new Ce(gl,n);return this.compare(r,s)!==0}minPost(){return Ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;class aI extends Yf{static get __EMPTY_NODE(){return Gd}static set __EMPTY_NODE(e){Gd=e}compare(e,n){return Pl(e.name,n.name)}isDefinedOn(e){throw Cl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ce.MIN}maxPost(){return new Ce(jo,Gd)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new Ce(e,Gd)}toString(){return".key"}}const qa=new aI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=s??Un.EMPTY_NODE,this.right=i??Un.EMPTY_NODE}copy(e,n,r,s,i){return new Wt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Un.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Un.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wt.RED=!0;Wt.BLACK=!1;class oF{copy(e,n,r,s,i){return this}insert(e,n,r){return new Wt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Un{constructor(e,n=Un.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Un(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Un(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kd(this.root_,null,this.comparator_,!0,e)}}Un.EMPTY_NODE=new oF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t,e){return Pl(t.name,e.name)}function Pv(t,e){return Pl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg;function lF(t){Lg=t}const lI=function(t){return typeof t=="number"?"number:"+j9(t):"string:"+t},cI=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ys(e,".sv"),"Priority must be a string or number.")}else Y(t===Lg||t.isEmpty(),"priority of unexpected type.");Y(t===Lg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R5;class Vt{constructor(e,n=Vt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cI(this.priorityNode_)}static set __childrenNodeConstructor(e){R5=e}static get __childrenNodeConstructor(){return R5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _e(e)?this:Ee(e)===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Vt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ee(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||$i(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+lI(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=j9(this.value_):e+=this.value_,this.lazyHash_=M9(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Vt.VALUE_TYPE_ORDER.indexOf(n),i=Vt.VALUE_TYPE_ORDER.indexOf(r);return Y(s>=0,"Unknown leaf type: "+n),Y(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI,dI;function cF(t){uI=t}function uF(t){dI=t}class dF extends Yf{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Pl(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ce.MIN}maxPost(){return new Ce(jo,new Vt("[PRIORITY-POST]",dI))}makePost(e,n){const r=uI(e);return new Ce(n,new Vt("[PRIORITY-POST]",r))}toString(){return".priority"}}const _n=new dF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=Math.log(2);class fF{constructor(e){const n=i=>parseInt(Math.log(i)/hF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const T0=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Wt(h,d.node,Wt.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=s(l,p),y=s(p+1,c);return d=t[p],h=n?n(d):d,new Wt(h,d.node,Wt.BLACK,g,y)}},i=function(l){let c=null,u=null,d=t.length;const h=function(g,y){const w=d-g,m=d;d-=g;const v=s(w+1,m),_=t[w],x=n?n(_):_;p(new Wt(x,_.node,y,null,v))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(g+1));y?h(w,Wt.BLACK):(h(w,Wt.BLACK),h(w,Wt.RED))}return u},o=new fF(t.length),a=i(o);return new Un(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;const ra={};class Ds{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Y(ra&&_n,"ChildrenNode.ts has not been loaded"),Up=Up||new Ds({".priority":ra},{".priority":_n}),Up}get(e){const n=il(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Un?n:null}hasIndex(e){return Ys(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==qa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ce.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=T0(r,e.getCompare()):a=ra;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ds(u,c)}addToIndexes(e,n){const r=Jh(this.indexes_,(s,i)=>{const o=il(this.indexSet_,i);if(Y(o,"Missing index implementation for "+i),s===ra)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ce.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),T0(a,o.getCompare())}else return ra;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ce(e.name,a))),l.insert(e,e.node)}});return new Ds(r,this.indexSet_)}removeFromIndexes(e,n){const r=Jh(this.indexes_,s=>{if(s===ra)return s;{const i=n.get(e.name);return i?s.remove(new Ce(e.name,i)):s}});return new Ds(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;class Pe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&cI(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tc||(tc=new Pe(new Un(Pv),null,Ds.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tc}updatePriority(e){return this.children_.isEmpty()?this:new Pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?tc:n}}getChild(e){const n=Ee(e);return n===null?this:this.getImmediateChild(n).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ce(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?tc:this.priorityNode_;return new Pe(s,o,i)}}updateChild(e,n){const r=Ee(e);if(r===null)return n;{Y(Ee(e)!==".priority"||$i(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(et(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(_n,(o,a)=>{n[o]=a.val(e),r++,i&&Pe.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+lI(this.getPriority().val())+":"),this.forEachChild(_n,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":M9(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ce(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ce.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dd?-1:0}withIndex(e){if(e===qa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(_n),s=n.getIterator(_n);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qa?null:this.indexMap_.get(e.toString())}}Pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pF extends Pe{constructor(){super(new Un(Pv),Pe.EMPTY_NODE,Ds.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Pe.EMPTY_NODE}isEmpty(){return!1}}const dd=new pF;Object.defineProperties(Ce,{MIN:{value:new Ce(gl,Pe.EMPTY_NODE)},MAX:{value:new Ce(jo,dd)}});aI.__EMPTY_NODE=Pe.EMPTY_NODE;Vt.__childrenNodeConstructor=Pe;lF(dd);uF(dd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=!0;function vn(t,e=null){if(t===null)return Pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Vt(n,vn(e))}if(!(t instanceof Array)&&mF){const n=[];let r=!1;if(Rr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ce(o,l)))}}),n.length===0)return Pe.EMPTY_NODE;const i=T0(n,aF,o=>o.name,Pv);if(r){const o=T0(n,_n.getCompare());return new Pe(i,vn(e),new Ds({".priority":o},{".priority":_n}))}else return new Pe(i,vn(e),Ds.Default)}else{let n=Pe.EMPTY_NODE;return Rr(t,(r,s)=>{if(Ys(t,r)&&r.substring(0,1)!=="."){const i=vn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(vn(e))}}cF(vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF extends Yf{constructor(e){super(),this.indexPath_=e,Y(!_e(e)&&Ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Pl(e.name,n.name):i}makePost(e,n){const r=vn(e),s=Pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ce(n,s)}maxPost(){const e=Pe.EMPTY_NODE.updateChild(this.indexPath_,dd);return new Ce(jo,e)}toString(){return rI(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF extends Yf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Pl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ce.MIN}maxPost(){return Ce.MAX}makePost(e,n){const r=vn(e);return new Ce(n,r)}toString(){return".value"}}const vF=new yF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){return{type:"value",snapshotNode:t}}function wF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function k5(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function EF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_n}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gl}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_n}copy(){const e=new Lv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function N5(t){const e={};if(t.isDefault())return e;let n;if(t.index_===_n?n="$priority":t.index_===vF?n="$value":t.index_===qa?n="$key":(Y(t.index_ instanceof gF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=rn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+rn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=rn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+rn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function P5(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==_n&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends eI{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=cd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=I0.getListenId_(e,r),a={};this.listens_[o]=a;const l=N5(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),il(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=I0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=N5(e._queryParams),r=e._path.toString(),s=new X1;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=nu(a.responseText)}catch{nr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&nr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.rootNode_=Pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){return{value:null,children:new Map}}function hI(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ee(e);t.children.has(r)||t.children.set(r,b0());const s=t.children.get(r);e=et(e),hI(s,e,n)}}function Mg(t,e,n){t.value!==null?n(e,t.value):TF(t,(r,s)=>{const i=new rt(e.toString()+"/"+r);Mg(s,i,n)})}function TF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=10*1e3,bF=30*1e3,SF=5*60*1e3;class AF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IF(e);const r=L5+(bF-L5)*Math.random();Oc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rr(e,(s,i)=>{i>0&&Ys(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Oc(this.reportStats_.bind(this),Math.floor(Math.random()*2*SF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(us||(us={}));function fI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=us.ACK_USER_WRITE,this.source=fI()}operationForChild(e){if(_e(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new rt(e));return new S0(Fe(),n,this.revert)}}else return Y(Ee(this.path)===e,"operationForChild called for unrelated child."),new S0(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=us.OVERWRITE}operationForChild(e){return _e(this.path)?new $o(this.source,Fe(),this.snap.getImmediateChild(e)):new $o(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=us.MERGE}operationForChild(e){if(_e(this.path)){const n=this.children.subtree(new rt(e));return n.isEmpty()?null:n.value?new $o(this.source,Fe(),n.value):new bu(this.source,Fe(),n)}else return Y(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bu(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function RF(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(EF(o.childName,o.snapshotNode))}),nc(t,s,"child_removed",e,r,n),nc(t,s,"child_added",e,r,n),nc(t,s,"child_moved",i,r,n),nc(t,s,"child_changed",e,r,n),nc(t,s,"value",e,r,n),s}function nc(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>NF(t,a,l)),o.forEach(a=>{const l=kF(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function kF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NF(t,e,n){if(e.childName==null||n.childName==null)throw Cl("Should only compare child_ events.");const r=new Ce(e.childName,e.snapshotNode),s=new Ce(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){return{eventCache:t,serverCache:e}}function Dc(t,e,n,r){return gI(new Mv(e,n,r),t.serverCache)}function yI(t,e,n,r){return gI(t.eventCache,new Mv(e,n,r))}function Og(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp;const PF=()=>(Vp||(Vp=new Un(v$)),Vp);class Ze{constructor(e,n=PF()){this.value=e,this.children=n}static fromObject(e){let n=new Ze(null);return Rr(e,(r,s)=>{n=n.set(new rt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(_e(e))return null;{const r=Ee(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(et(e),n);return i!=null?{path:Ht(new rt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const n=Ee(e),r=this.children.get(n);return r!==null?r.subtree(et(e)):new Ze(null)}}set(e,n){if(_e(e))return new Ze(n,this.children);{const r=Ee(e),i=(this.children.get(r)||new Ze(null)).set(et(e),n),o=this.children.insert(r,i);return new Ze(this.value,o)}}remove(e){if(_e(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=Ee(e),r=this.children.get(n);if(r){const s=r.remove(et(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ze(null):new Ze(this.value,i)}else return this}}get(e){if(_e(e))return this.value;{const n=Ee(e),r=this.children.get(n);return r?r.get(et(e)):null}}setTree(e,n){if(_e(e))return n;{const r=Ee(e),i=(this.children.get(r)||new Ze(null)).setTree(et(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ze(this.value,o)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ht(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(_e(e))return null;{const i=Ee(e),o=this.children.get(i);return o?o.findOnPath_(et(e),Ht(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,r){if(_e(e))return this;{this.value&&r(n,this.value);const s=Ee(e),i=this.children.get(s);return i?i.foreachOnPath_(et(e),Ht(n,s),r):new Ze(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ht(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.writeTree_=e}static empty(){return new Kr(new Ze(null))}}function jc(t,e,n){if(_e(e))return new Kr(new Ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Er(s,e);return i=i.updateChild(o,n),new Kr(t.writeTree_.set(s,i))}else{const s=new Ze(n),i=t.writeTree_.setTree(e,s);return new Kr(i)}}}function M5(t,e,n){let r=t;return Rr(n,(s,i)=>{r=jc(r,Ht(e,s),i)}),r}function O5(t,e){if(_e(e))return Kr.empty();{const n=t.writeTree_.setTree(e,new Ze(null));return new Kr(n)}}function Dg(t,e){return Qo(t,e)!=null}function Qo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Er(n.path,e)):null}function D5(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_n,(r,s)=>{e.push(new Ce(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ce(r,s.value))}),e}function ki(t,e){if(_e(e))return t;{const n=Qo(t,e);return n!=null?new Kr(new Ze(n)):new Kr(t.writeTree_.subtree(e))}}function jg(t){return t.writeTree_.isEmpty()}function yl(t,e){return vI(Fe(),t.writeTree_,e)}function vI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Y(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=vI(Ht(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ht(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){return TI(e,t)}function LF(t,e,n,r,s){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=jc(t.visibleWrites,e,n)),t.lastWriteId=r}function MF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function OF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&DF(a,r.path)?s=!1:Hr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return jF(t),!0;if(r.snap)t.visibleWrites=O5(t.visibleWrites,r.path);else{const a=r.children;Rr(a,l=>{t.visibleWrites=O5(t.visibleWrites,Ht(r.path,l))})}return!0}else return!1}function DF(t,e){if(t.snap)return Hr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Hr(Ht(t.path,n),e))return!0;return!1}function jF(t){t.visibleWrites=wI(t.allWrites,$F,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $F(t){return t.visible}function wI(t,e,n){let r=Kr.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Hr(n,o)?(a=Er(n,o),r=jc(r,a,i.snap)):Hr(o,n)&&(a=Er(o,n),r=jc(r,Fe(),i.snap.getChild(a)));else if(i.children){if(Hr(n,o))a=Er(n,o),r=M5(r,a,i.children);else if(Hr(o,n))if(a=Er(o,n),_e(a))r=M5(r,Fe(),i.children);else{const l=il(i.children,Ee(a));if(l){const c=l.getChild(et(a));r=jc(r,Fe(),c)}}}else throw Cl("WriteRecord should have .snap or .children")}}return r}function xI(t,e,n,r,s){if(!r&&!s){const i=Qo(t.visibleWrites,e);if(i!=null)return i;{const o=ki(t.visibleWrites,e);if(jg(o))return n;if(n==null&&!Dg(o,Fe()))return null;{const a=n||Pe.EMPTY_NODE;return yl(o,a)}}}else{const i=ki(t.visibleWrites,e);if(!s&&jg(i))return n;if(!s&&n==null&&!Dg(i,Fe()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Hr(c.path,e)||Hr(e,c.path))},a=wI(t.allWrites,o,e),l=n||Pe.EMPTY_NODE;return yl(a,l)}}}function FF(t,e,n){let r=Pe.EMPTY_NODE;const s=Qo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(_n,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=ki(t.visibleWrites,e);return n.forEachChild(_n,(o,a)=>{const l=yl(ki(i,new rt(o)),a);r=r.updateImmediateChild(o,l)}),D5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=ki(t.visibleWrites,e);return D5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function UF(t,e,n,r,s){Y(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ht(e,n);if(Dg(t.visibleWrites,i))return null;{const o=ki(t.visibleWrites,i);return jg(o)?s.getChild(n):yl(o,s.getChild(n))}}function VF(t,e,n,r){const s=Ht(e,n),i=Qo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=ki(t.visibleWrites,s);return yl(o,r.getNode().getImmediateChild(n))}else return null}function zF(t,e){return Qo(t.visibleWrites,e)}function BF(t,e,n,r,s,i,o){let a;const l=ki(t.visibleWrites,e),c=Qo(l,Fe());if(c!=null)a=c;else if(n!=null)a=yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function WF(){return{visibleWrites:Kr.empty(),allWrites:[],lastWriteId:-1}}function $g(t,e,n,r){return xI(t.writeTree,t.treePath,e,n,r)}function EI(t,e){return FF(t.writeTree,t.treePath,e)}function j5(t,e,n,r){return UF(t.writeTree,t.treePath,e,n,r)}function A0(t,e){return zF(t.writeTree,Ht(t.treePath,e))}function HF(t,e,n,r,s,i){return BF(t.writeTree,t.treePath,e,n,r,s,i)}function Ov(t,e,n){return VF(t.writeTree,t.treePath,e,n)}function CI(t,e){return TI(Ht(t.treePath,e),t.writeTree)}function TI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,k5(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,xF(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,wF(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,k5(r,e.snapshotNode,s.oldSnap));else throw Cl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const II=new GF;class Dv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ov(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fo(this.viewCache_),i=HF(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function KF(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QF(t,e,n,r,s){const i=new qF;let o,a;if(n.type===us.OVERWRITE){const c=n;c.source.fromUser?o=Fg(t,e,c.path,c.snap,r,s,i):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!_e(c.path),o=R0(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===us.MERGE){const c=n;c.source.fromUser?o=XF(t,e,c.path,c.children,r,s,i):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ug(t,e,c.path,c.children,r,s,a,i))}else if(n.type===us.ACK_USER_WRITE){const c=n;c.revert?o=eU(t,e,c.path,r,s,i):o=JF(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===us.LISTEN_COMPLETE)o=ZF(t,e,n.path,r,i);else throw Cl("Unknown operation type: "+n.type);const l=i.getChanges();return YF(e,o,l),{viewCache:o,changes:l}}function YF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Og(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(_F(Og(e)))}}function bI(t,e,n,r,s,i){const o=e.eventCache;if(A0(r,n)!=null)return e;{let a,l;if(_e(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Fo(e),u=c instanceof Pe?c:Pe.EMPTY_NODE,d=EI(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=$g(r,Fo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ee(n);if(c===".priority"){Y($i(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=j5(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=et(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=j5(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Ov(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return Dc(e,a,o.isFullyInitialized()||_e(n),t.filter.filtersNodes())}}function R0(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(_e(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Ee(n);if(!l.isCompleteForPath(n)&&$i(n)>1)return e;const g=et(n),w=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),p,w,g,II,null)}const d=yI(e,c,l.isFullyInitialized()||_e(n),u.filtersNodes()),h=new Dv(s,d,i);return bI(t,d,n,s,h,a)}function Fg(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new Dv(s,e,i);if(_e(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Dc(e,c,!0,t.filter.filtersNodes());else{const d=Ee(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Dc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=et(n),p=a.getNode().getImmediateChild(d);let g;if(_e(h))g=r;else{const y=u.getCompleteChild(d);y!=null?nI(h)===".priority"&&y.getChild(sI(h)).isEmpty()?g=y:g=y.updateChild(h,r):g=Pe.EMPTY_NODE}if(p.equals(g))l=e;else{const y=t.filter.updateChild(a.getNode(),d,g,h,u,o);l=Dc(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $5(t,e){return t.eventCache.isCompleteForChild(e)}function XF(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Ht(n,l);$5(e,Ee(u))&&(a=Fg(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Ht(n,l);$5(e,Ee(u))||(a=Fg(t,a,u,c,s,i,o))}),a}function F5(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Ug(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;_e(n)?c=r:c=new Ze(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),g=F5(t,p,h);l=R0(t,l,new rt(d),g,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const g=e.serverCache.getNode().getImmediateChild(d),y=F5(t,g,h);l=R0(t,l,new rt(d),y,s,i,o,a)}}),l}function JF(t,e,n,r,s,i,o){if(A0(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(_e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return R0(t,e,n,l.getNode().getChild(n),s,i,a,o);if(_e(n)){let c=new Ze(null);return l.getNode().forEachChild(qa,(u,d)=>{c=c.set(new rt(u),d)}),Ug(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ze(null);return r.foreach((u,d)=>{const h=Ht(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Ug(t,e,n,c,s,i,a,o)}}function ZF(t,e,n,r,s){const i=e.serverCache,o=yI(e,i.getNode(),i.isFullyInitialized()||_e(n),i.isFiltered());return bI(t,o,n,r,II,s)}function eU(t,e,n,r,s,i){let o;if(A0(r,n)!=null)return e;{const a=new Dv(r,e,s),l=e.eventCache.getNode();let c;if(_e(n)||Ee(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=$g(r,Fo(e));else{const d=e.serverCache.getNode();Y(d instanceof Pe,"serverChildren would be complete if leaf node"),u=EI(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ee(n);let d=Ov(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,et(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Pe.EMPTY_NODE,et(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=$g(r,Fo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||A0(r,Fe())!=null,Dc(e,c,o,t.filter.filtersNodes())}}function tU(t,e){const n=Fo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(Ee(e)).isEmpty())?n.getChild(e):null}function U5(t,e,n,r){e.type===us.MERGE&&e.source.queryId!==null&&(Y(Fo(t.viewCache_),"We should always have a full cache before handling merges"),Y(Og(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=QF(t.processor_,s,e,n,r);return KF(t.processor_,i.viewCache),Y(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,nU(t,i.changes,i.viewCache.eventCache.getNode(),null)}function nU(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return RF(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V5;function rU(t){Y(!V5,"__referenceConstructor has already been defined"),V5=t}function jv(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Y(i!=null,"SyncTree gave us an op for an invalid query."),U5(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(U5(o,e,n,r));return i}}function $v(t,e){let n=null;for(const r of t.views.values())n=n||tU(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z5;function sU(t){Y(!z5,"__referenceConstructor has already been defined"),z5=t}class B5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=WF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iU(t,e,n,r,s){return LF(t.pendingWriteTree_,e,n,r,s),s?Jf(t,new $o(fI(),e,n)):[]}function Sa(t,e,n=!1){const r=MF(t.pendingWriteTree_,e);if(OF(t.pendingWriteTree_,e)){let i=new Ze(null);return r.snap!=null?i=i.set(Fe(),!0):Rr(r.children,o=>{i=i.set(new rt(o),!0)}),Jf(t,new S0(r.path,i,n))}else return[]}function Xf(t,e,n){return Jf(t,new $o(pI(),e,n))}function oU(t,e,n){const r=Ze.fromObject(n);return Jf(t,new bu(pI(),e,r))}function aU(t,e,n,r){const s=kI(t,r);if(s!=null){const i=NI(s),o=i.path,a=i.queryId,l=Er(o,e),c=new $o(mI(a),l,n);return PI(t,o,c)}else return[]}function lU(t,e,n,r){const s=kI(t,r);if(s){const i=NI(s),o=i.path,a=i.queryId,l=Er(o,e),c=Ze.fromObject(n),u=new bu(mI(a),l,c);return PI(t,o,u)}else return[]}function SI(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Er(o,e),c=$v(a,l);if(c)return c});return xI(s,e,i,n,!0)}function Jf(t,e){return AI(e,t.syncPointTree_,null,_I(t.pendingWriteTree_,Fe()))}function AI(t,e,n,r){if(_e(t.path))return RI(t,e,n,r);{const s=e.get(Fe());n==null&&s!=null&&(n=$v(s,Fe()));let i=[];const o=Ee(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=CI(r,o);i=i.concat(AI(a,l,c,u))}return s&&(i=i.concat(jv(s,t,r,n))),i}}function RI(t,e,n,r){const s=e.get(Fe());n==null&&s!=null&&(n=$v(s,Fe()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=CI(r,o),u=t.operationForChild(o);u&&(i=i.concat(RI(u,a,l,c)))}),s&&(i=i.concat(jv(s,t,r,n))),i}function kI(t,e){return t.tagToQueryMap.get(e)}function NI(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new rt(t.substr(0,e))}}function PI(t,e,n){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const s=_I(t.pendingWriteTree_,e);return jv(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Fv(n)}node(){return this.node_}}class Uv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ht(this.path_,e);return new Uv(this.syncTree_,n)}node(){return SI(this.syncTree_,this.path_)}}const cU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},W5=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return uU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return dU(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},uU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},dU=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const s=e.node();if(Y(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},hU=function(t,e,n,r){return Vv(e,new Uv(n,t),r)},fU=function(t,e,n){return Vv(t,new Fv(e),n)};function Vv(t,e,n){const r=t.getPriority().val(),s=W5(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=W5(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Vt(a,vn(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Vt(s))),o.forEachChild(_n,(a,l)=>{const c=Vv(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Bv(t,e){let n=e instanceof rt?e:new rt(e),r=t,s=Ee(n);for(;s!==null;){const i=il(r.node.children,s)||{children:{},childCount:0};r=new zv(s,r,i),n=et(n),s=Ee(n)}return r}function Ll(t){return t.node.value}function LI(t,e){t.node.value=e,Vg(t)}function MI(t){return t.node.childCount>0}function pU(t){return Ll(t)===void 0&&!MI(t)}function Zf(t,e){Rr(t.node.children,(n,r)=>{e(new zv(n,t,r))})}function OI(t,e,n,r){n&&!r&&e(t),Zf(t,s=>{OI(s,e,!0,r)}),n&&r&&e(t)}function mU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hd(t){return new rt(t.parent===null?t.name:hd(t.parent)+"/"+t.name)}function Vg(t){t.parent!==null&&gU(t.parent,t.name,t)}function gU(t,e,n){const r=pU(n),s=Ys(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Vg(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Vg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/[\[\].#$\/\u0000-\u001F\u007F]/,vU=/[\[\].#$\u0000-\u001F\u007F]/,zp=10*1024*1024,DI=function(t){return typeof t=="string"&&t.length!==0&&!yU.test(t)},_U=function(t){return typeof t=="string"&&t.length!==0&&!vU.test(t)},wU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_U(t)},jI=function(t,e,n){const r=n instanceof rt?new Z$(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+so(r));if(typeof e=="function")throw new Error(t+"contains a function "+so(r)+" with contents = "+e.toString());if(O9(e))throw new Error(t+"contains "+e.toString()+" "+so(r));if(typeof e=="string"&&e.length>zp/3&&af(e)>zp)throw new Error(t+"contains a string greater than "+zp+" utf8 bytes "+so(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Rr(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!DI(o)))throw new Error(t+" contains an invalid key ("+o+") "+so(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eF(r,o),jI(t,a,r),tF(r)}),s&&i)throw new Error(t+' contains ".value" child '+so(r)+" in addition to actual children.")}},xU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!DI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wU(n))throw new Error(wR(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CU(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!iI(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Yo(t,e,n){CU(t,n),TU(t,r=>Hr(r,e)||Hr(e,r))}function TU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(IU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function IU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();To&&yn("event: "+n.toString()),ud(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="repo_interrupt",SU=25;class AU{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=b0(),this.transactionQueueTree_=new zv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RU(t,e,n){if(t.stats_=Rv(t.repoInfo_),t.forceRestClient_||T$())t.server_=new I0(t.repoInfo_,(r,s,i,o)=>{H5(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>q5(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $s(t.repoInfo_,e,(r,s,i,o)=>{H5(t,r,s,i,o)},r=>{q5(t,r)},r=>{NU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=R$(t.repoInfo_,()=>new AF(t.stats_,t.server_)),t.infoData_=new CF,t.infoSyncTree_=new B5({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Xf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Wv(t,"connected",!1),t.serverSyncTree_=new B5({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Yo(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function kU(t){const n=t.infoData_.getNode(new rt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $I(t){return cU({timestamp:kU(t)})}function H5(t,e,n,r,s){t.dataUpdateCount++;const i=new rt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Jh(n,c=>vn(c));o=lU(t.serverSyncTree_,i,l,s)}else{const l=vn(n);o=aU(t.serverSyncTree_,i,l,s)}else if(r){const l=Jh(n,c=>vn(c));o=oU(t.serverSyncTree_,i,l)}else{const l=vn(n);o=Xf(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=qv(t,i)),Yo(t.eventQueue_,a,o)}function q5(t,e){Wv(t,"connected",e),e===!1&&LU(t)}function NU(t,e){Rr(e,(n,r)=>{Wv(t,n,r)})}function Wv(t,e,n){const r=new rt("/.info/"+e),s=vn(n);t.infoData_.updateSnapshot(r,s);const i=Xf(t.infoSyncTree_,r,s);Yo(t.eventQueue_,r,i)}function PU(t){return t.nextWriteId_++}function LU(t){FI(t,"onDisconnectEvents");const e=$I(t),n=b0();Mg(t.onDisconnect_,Fe(),(s,i)=>{const o=hU(s,i,t.serverSyncTree_,e);hI(n,s,o)});let r=[];Mg(n,Fe(),(s,i)=>{r=r.concat(Xf(t.serverSyncTree_,s,i));const o=jU(t,s);qv(t,o)}),t.onDisconnect_=b0(),Yo(t.eventQueue_,Fe(),r)}function MU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(bU)}function FI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function UI(t,e,n){return SI(t.serverSyncTree_,e,n)||Pe.EMPTY_NODE}function Hv(t,e=t.transactionQueueTree_){if(e||e2(t,e),Ll(e)){const n=zI(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&OU(t,hd(e),n)}else MI(e)&&Zf(e,n=>{Hv(t,n)})}function OU(t,e,n){const r=n.map(c=>c.currentWriteId),s=UI(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];Y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Er(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{FI(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Sa(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();e2(t,Bv(t.transactionQueueTree_,e)),Hv(t,t.transactionQueueTree_),Yo(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ud(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{nr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}qv(t,e)}},o)}function qv(t,e){const n=VI(t,e),r=hd(n),s=zI(t,n);return DU(t,s,r),r}function DU(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Er(n,l.path);let u=!1,d;if(Y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Sa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=SU)u=!0,d="maxretry",s=s.concat(Sa(t.serverSyncTree_,l.currentWriteId,!0));else{const h=UI(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){jI("transaction failed: Data returned ",p,l.path);let g=vn(p);typeof p=="object"&&p!=null&&Ys(p,".priority")||(g=g.updatePriority(h.getPriority()));const w=l.currentWriteId,m=$I(t),v=fU(g,h,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=v,l.currentWriteId=PU(t),o.splice(o.indexOf(w),1),s=s.concat(iU(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(Sa(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",s=s.concat(Sa(t.serverSyncTree_,l.currentWriteId,!0))}Yo(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}e2(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ud(r[a]);Hv(t,t.transactionQueueTree_)}function VI(t,e){let n,r=t.transactionQueueTree_;for(n=Ee(e);n!==null&&Ll(r)===void 0;)r=Bv(r,n),e=et(e),n=Ee(e);return r}function zI(t,e){const n=[];return BI(t,e,n),n.sort((r,s)=>r.order-s.order),n}function BI(t,e,n){const r=Ll(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Zf(e,s=>{BI(t,s,n)})}function e2(t,e){const n=Ll(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,LI(e,n.length>0?n:void 0)}Zf(e,r=>{e2(t,r)})}function jU(t,e){const n=hd(VI(t,e)),r=Bv(t.transactionQueueTree_,e);return mU(r,s=>{Bp(t,s)}),Bp(t,r),OI(r,s=>{Bp(t,s)}),n}function Bp(t,e){const n=Ll(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Y(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Y(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Sa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?LI(e,void 0):n.length=i+1,Yo(t.eventQueue_,hd(e),s);for(let o=0;o<r.length;o++)ud(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function FU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nr(`Invalid query segment '${n}' in query '${t}'`)}return e}const G5=function(t,e){const n=UU(t),r=n.namespace;n.domain==="firebase.com"&&Ks(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||g$();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new G9(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new rt(n.pathString)}},UU=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=$U(t.substring(u,d)));const h=FU(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return _e(this._path)?null:nI(this._path)}get ref(){return new Ml(this._repo,this._path)}get _queryIdentifier(){const e=P5(this._queryParams),n=Sv(e);return n==="{}"?"default":n}get _queryObject(){return P5(this._queryParams)}isEqual(e){if(e=He(e),!(e instanceof Gv))return!1;const n=this._repo===e._repo,r=iI(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+J$(this._path)}}class Ml extends Gv{constructor(e,n){super(e,n,new Lv,!1)}get parent(){const e=sI(this._path);return e===null?null:new Ml(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}rU(Ml);sU(Ml);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="FIREBASE_DATABASE_EMULATOR_HOST",zg={};let zU=!1;function BU(t,e,n,r){t.repoInfo_=new G9(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function WU(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=G5(i,s),a=o.repoInfo,l,c;typeof process<"u"&&f5&&(c=f5[VU]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=G5(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Ha(Ha.OWNER):new b$(t.name,t.options,e);xU("Invalid Firebase Database URL",o),_e(o.path)||Ks("Database URL must point to the root of a Firebase Database (not including a child path).");const d=qU(a,t,u,new I$(t.name,n));return new GU(d,t)}function HU(t,e){const n=zg[e];(!n||n[t.key]!==t)&&Ks(`Database ${e}(${t.repoInfo_}) has already been deleted.`),MU(t),delete n[t.key]}function qU(t,e,n,r){let s=zg[e.name];s||(s={},zg[e.name]=s);let i=s[t.toURLString()];return i&&Ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new AU(t,zU,n,r),s[t.toURLString()]=i,i}class GU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ml(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ks("Cannot call "+e+" on a deleted database.")}}function KU(t=cf(),e){const n=Vu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Y1("database");r&&QU(n,...r)}return n}function QU(t,e,n,r={}){t=He(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ks("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Ks('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Ha(Ha.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:J1(r.mockUserToken,t.app.options.projectId);i=new Ha(o)}BU(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){d$(Wi),Mi(new Bs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return WU(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Tr(p5,m5,t),Tr(p5,m5,"esm2017")}$s.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};$s.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};YU();function k0(t,e){localStorage.setItem(t,JSON.stringify(e))}function WI(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}const XU={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},t2=pC(XU),J=qP(t2),JU=new ks,ye=UD(t2),pi=a$(t2);KU(t2);const Uo=(t,e,n)=>{C.useEffect(()=>{try{if(n){const r=Ge(ye,t),s=Hn(r,i=>{const o=i.docs.map(a=>({...a.data(),[t==="users"?"uid":"id"]:a.id}));o.length!==0&&e(o)});return()=>{s()}}}catch(r){console.log(r.message)}},[n])},ZU=(t,e,n)=>{C.useEffect(()=>{var r;try{if(n){const s=oe(ye,t,(r=J==null?void 0:J.currentUser)==null?void 0:r.uid),i=Hn(s,o=>{const a={uid:o.id,...o.data()};return a!=null&&a.name&&e(a),()=>i()})}}catch(s){console.log(s.message)}},[n])};function Gn(t,e){let n;return t.forEach(r=>{r.uid===e&&(n=r)}),n}function eV(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let K5;function tV(t){t(!0),clearTimeout(K5),K5=setTimeout(()=>{t(!1)},[4e3])}function rr(){scrollTo({top:0,behavior:"smooth"})}function Ga(t="smooth"){const e=window.innerHeight,r=document.documentElement.scrollHeight-e;scrollTo({top:r+200,behavior:t})}function xt(t){document.body.style.overflow=t}function Ts(t,e){C.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function HI(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${Wp(n,"hours")} ${Wp(r,"minutes")} ${Wp(s,"seconds")}`}catch{return null}}function Wp(t,e){return t?`${t} ${e}`:""}function Q5(t){return t>=10?t:`0${t}`}const N0=(t,e)=>{let n;return t.forEach(r=>{r.id===e&&(n=r)}),n?n.seenBy.includes(J.currentUser.uid):!1},nV=(t,e)=>{let n=0;return t.forEach(r=>{N0(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function n2(t){C.useEffect(()=>{const e=()=>{const n=window.scrollY;k0(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function r2(t){C.useEffect(()=>{const e=WI(`SEA-scrollPosition-${t}`);e&&window.scrollTo(0,parseInt(e,10))},[])}const We=({data:t})=>{const{clickFn:e,text:n,image:r}=t,s=le(r),{theme:i}=C.useContext(ee),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${i==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:s}),n&&f.jsx("span",{children:n})]})},Vo=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s}=t,{theme:i}=C.useContext(ee),o=C.useRef(null);return Ts(o,s),C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsx("div",{ref:o,className:`w-4/5 sm:w-3/5 md:w-2/5 min-h-40 grid gap-y-3 rounded-md items-center border  ${i==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:f.jsxs("div",{children:[f.jsx("div",{className:"text-center",children:r}),f.jsxs("div",{className:"flex justify-center mt-2 items-center gap-x-3 ",children:[f.jsx(We,{data:{clickFn:e,image:"trueIcon",text:"Yes"}}),f.jsx(We,{data:{clickFn:n,image:"falseIcon",text:"No"}})]})]})})})},rV=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=C.useContext(ee),[u,d]=C.useState(!1),h=()=>{a(),d(!1)},p=()=>{d(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(Be,{data:{clickFn:()=>d(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),u&&f.jsx(Vo,{data:{yesButton:h,noButton:p,text:"Are you sure to stop the test ?",setValue:d}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${s}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},sV=({data:t})=>{const{currentQuestions:e,chooseAnswer:n}=t,{answeredQuestions:r,theme:s}=C.useContext(ee);return f.jsx("div",{children:e.map((i,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${s==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:i.id}),f.jsx("div",{className:"flex-1 font-padauk",children:i.question})]}),f.jsx("div",{className:"grid gap-y-2",children:i.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{i.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(i.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${s==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(i.id,a)},className:"h-5 w-5",name:`question-${i.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${i.id}-${l}-${a}`)})})]}),f.jsx(iV,{})]},`question-${i.id}-${o}-${i.question}`))})},iV=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),oV=()=>(C.useContext(ee),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:le("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}var mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mi||(mi={}));const Y5="popstate";function aV(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Xo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Bg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:P0(i))}function r(s,i){s2(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cV(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function s2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lV(){return Math.random().toString(36).substr(2,8)}function X5(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n,r){return n===void 0&&(n=null),Su({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||lV()})}function P0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=mi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Su({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=mi.Pop;let w=u(),m=w==null?null:w-c;c=w,l&&l({action:a,location:y.location,delta:m})}function h(w,m){a=mi.Push;let v=Bg(y.location,w,m);n&&n(v,w),c=u()+1;let _=X5(v,c),x=y.createHref(v);try{o.pushState(_,"",x)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(x)}i&&l&&l({action:a,location:y.location,delta:1})}function p(w,m){a=mi.Replace;let v=Bg(y.location,w,m);n&&n(v,w),c=u();let _=X5(v,c),x=y.createHref(v);o.replaceState(_,"",x),i&&l&&l({action:a,location:y.location,delta:0})}function g(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:P0(w);return Nt(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let y={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Y5,d),l=w,()=>{s.removeEventListener(Y5,d),l=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(w){return o.go(w)}};return y}var J5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(J5||(J5={}));function uV(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xo(e):e,s=Kv(r.pathname||"/",n);if(s==null)return null;let i=qI(t);dV(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=wV(i[a],CV(s));return o}function qI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ni([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qI(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:vV(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of GI(i.path))s(i,o,l)}),e}function GI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=GI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_V(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hV=/^:[\w-]+$/,fV=3,pV=2,mV=1,gV=10,yV=-2,Z5=t=>t==="*";function vV(t,e){let n=t.split("/"),r=n.length;return n.some(Z5)&&(r+=yV),e&&(r+=pV),n.filter(s=>!Z5(s)).reduce((s,i)=>s+(hV.test(i)?fV:i===""?mV:gV),r)}function _V(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wV(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=xV({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:Ni([s,u.pathname]),pathnameBase:AV(Ni([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=Ni([s,u.pathnameBase]))}return i}function xV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[h]=void 0:c[h]=TV(g||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function EV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),s2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function CV(t){try{return decodeURI(t)}catch(e){return s2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function TV(t,e){try{return decodeURIComponent(t)}catch(n){return s2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Kv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:bV(n,e):e,search:RV(r),hash:kV(s)}}function bV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KI(t,e){let n=SV(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xo(t):(s=Su({},t),Nt(!s.pathname||!s.pathname.includes("?"),Hp("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Hp("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Hp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=IV(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ni=t=>t.join("/").replace(/\/\/+/g,"/"),AV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YI=["post","put","patch","delete"];new Set(YI);const PV=["get",...YI];new Set(PV);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}const Qv=C.createContext(null),LV=C.createContext(null),Jo=C.createContext(null),i2=C.createContext(null),Xi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),XI=C.createContext(null);function MV(t,e){let{relative:n}=e===void 0?{}:e;fd()||Nt(!1);let{basename:r,navigator:s}=C.useContext(Jo),{hash:i,pathname:o,search:a}=ZI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ni([r,o])),s.createHref({pathname:l,search:a,hash:i})}function fd(){return C.useContext(i2)!=null}function Ol(){return fd()||Nt(!1),C.useContext(i2).location}function JI(t){C.useContext(Jo).static||C.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=C.useContext(Xi);return t?GV():OV()}function OV(){fd()||Nt(!1);let t=C.useContext(Qv),{basename:e,future:n,navigator:r}=C.useContext(Jo),{matches:s}=C.useContext(Xi),{pathname:i}=Ol(),o=JSON.stringify(KI(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return JI(()=>{a.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=QI(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ni([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function Yv(){let{matches:t}=C.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function ZI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Jo),{matches:s}=C.useContext(Xi),{pathname:i}=Ol(),o=JSON.stringify(KI(s,r.v7_relativeSplatPath));return C.useMemo(()=>QI(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function DV(t,e){return jV(t,e)}function jV(t,e,n,r){fd()||Nt(!1);let{navigator:s}=C.useContext(Jo),{matches:i}=C.useContext(Xi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ol(),u;if(e){var d;let w=typeof e=="string"?Xo(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Nt(!1),u=w}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",g=uV(t,{pathname:p}),y=zV(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ni([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ni([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&y?C.createElement(i2.Provider,{value:{location:Au({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:mi.Pop}},y):y}function $V(){let t=qV(),e=NV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,i)}const FV=C.createElement($V,null);class UV extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Xi.Provider,{value:this.props.routeContext},C.createElement(XI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VV(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Qv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Xi.Provider,{value:e},r)}function zV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||Nt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,g=!1,y=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||FV,l&&(c<0&&h===0?(KV("route-fallback",!1),g=!0,w=null):c===h&&(g=!0,w=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),v=()=>{let _;return p?_=y:g?_=w:d.route.Component?_=C.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,C.createElement(VV,{match:d,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(UV,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var eb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eb||{}),L0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(L0||{});function BV(t){let e=C.useContext(Qv);return e||Nt(!1),e}function WV(t){let e=C.useContext(LV);return e||Nt(!1),e}function HV(t){let e=C.useContext(Xi);return e||Nt(!1),e}function tb(t){let e=HV(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function qV(){var t;let e=C.useContext(XI),n=WV(L0.UseRouteError),r=tb(L0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GV(){let{router:t}=BV(eb.UseNavigateStable),e=tb(L0.UseNavigateStable),n=C.useRef(!1);return JI(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Au({fromRouteId:e},i)))},[t,e])}const ex={};function KV(t,e,n){!e&&!ex[t]&&(ex[t]=!0)}function Sn(t){Nt(!1)}function QV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=mi.Pop,navigator:i,static:o=!1,future:a}=t;fd()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:o,future:Au({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xo(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,y=C.useMemo(()=>{let w=Kv(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:g},navigationType:s}},[l,u,d,h,p,g,s]);return y==null?null:C.createElement(Jo.Provider,{value:c},C.createElement(i2.Provider,{children:n,value:y}))}function YV(t){let{children:e,location:n}=t;return DV(Wg(e),n)}new Promise(()=>{});function Wg(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Wg(r.props.children,i));return}r.type!==Sn&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function XV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function JV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZV(t,e){return t.button===0&&(!e||e==="_self")&&!JV(t)}const ez=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tz="6";try{window.__reactRouterVersion=tz}catch{}const nz="startTransition",tx=Zp[nz];function rz(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=aV({window:s,v5Compat:!0}));let o=i.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&tx?tx(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>o.listen(u),[o,u]),C.createElement(QV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const sz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oz=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=XV(e,ez),{basename:p}=C.useContext(Jo),g,y=!1;if(typeof c=="string"&&iz.test(c)&&(g=c,sz))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),A=Kv(x.pathname,p);x.origin===_.origin&&A!=null?c=A+x.search+x.hash:y=!0}catch{}let w=MV(c,{relative:s}),m=az(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||m(_)}return C.createElement("a",Hg({},h,{href:g||w,onClick:y||i?r:v,ref:n,target:l}))});var nx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nx||(nx={}));var rx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rx||(rx={}));function az(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=ur(),c=Ol(),u=ZI(t,{relative:o});return C.useCallback(d=>{if(ZV(d,n)){d.preventDefault();let h=r!==void 0?r:P0(c)===P0(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function lz(t,e,n){const r=e.name,s=cz(t,e.quizzes),i=uz(s),o=t.length,a=e.gradingRules.length!==0?dz(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=hz(),c=fz();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function cz(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function uz(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function dz(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function hz(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function fz(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}async function Xv(t,e,n,r=null){try{const s=Ge(ye,"notifications"),i={uid:J.currentUser.uid,type:t,[e]:n,isReadBy:[],timestamp:Fn(),comment:r};await Ko(s,i)}catch(s){console.log(s.message)}}const pz=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s}=t,{startTimer:i,formattedTime:o,stopTest:a,currentTest:l,answeredQuestions:c}=C.useContext(ee),u=ur(),d=async()=>{try{const p=Ge(oe(ye,"users",J.currentUser.uid),"history"),g=lz(c,l,o),y=await Ko(p,g),w=(await p9(y)).id;u(`/app/history/${w}`)}catch(p){console.log(p.message)}},h=()=>{i(),d(),a(),Xv(["took","test"],"testName",l.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&f.jsx(We,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(We,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(We,{data:{clickFn:e,text:"Next",image:"next"}})]})},Jr=()=>{const[t,e]=C.useState(!0),[n,r]=C.useState(0),{theme:s}=C.useContext(ee);if(C.useEffect(()=>{const i=setInterval(()=>{r(Math.min(n+1,100)),n===100&&(e(!1),r(0))},5);return()=>{clearInterval(i)}},[n]),t&&(document.title="Loading..."),t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${s==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsx("div",{className:"h-3 w-[200px] rounded-md overflow-hidden",children:f.jsx("div",{style:{width:`${n}%`},className:"h-full bg-blue-300"})}),f.jsxs("p",{className:"text-lg",children:[n,"%"]})]})})},mz=()=>{const{answeredQuestions:t,setAnsweredQuestions:e,currentTest:n,seaLocalStorage:r,seconds:s,hours:i,minutes:o}=C.useContext(ee),a=t.length,l=n.quizzes.length,[c,u]=C.useState((r==null?void 0:r.startIndex)||0),[d,h]=C.useState(!1),[p,g]=C.useState(!1),[y,w]=C.useState(!1),m=10;let v=n.quizzes.slice(c,c+m);const _=n.name,x=Math.ceil(l/m),A=Math.ceil((c+m)/m),I=Math.round(a/l*100);C.useEffect(()=>(rr(),rr()),[]),C.useEffect(()=>{k0("sea-localStorage",{answeredQuestions:t,currentTest:n,startIndex:c,timer:{seconds:s,minutes:o,hours:i}})},[t,n,c,s]),C.useEffect(()=>{a===l&&c+m>=l?h(!0):h(!1)},[c,t]),C.useEffect(()=>{a>=c+m?g(!0):g(!1)},[t,c]);const b={pageTitle:_,currentPage:A,totalPage:x,percentage:I,answerLength:a,questionsLength:l,currentQuestions:v,isEnded:d,chooseAnswer:(P,N)=>{const M=eV(P,t);e(M?t.map(L=>P===L.id?{id:P,userAnswer:N}:L):[...t,{id:P,userAnswer:N}])},nextPage:()=>{p?(u(c+m),a<=c+m&&rr()):tV(w)},prevPage:()=>{u(Math.max(c-m,0))},startIndex:c};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(Jr,{}),f.jsx(rV,{data:b}),f.jsx(sV,{data:b}),y&&f.jsx(oV,{}),f.jsx(pz,{data:b})]})},Jv=({title:t,text:e})=>{const{isLogin:n,theme:r}=C.useContext(ee),s=ur();return f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx("div",{className:` ${r==="light"?"":"text-white"}`,children:e}),f.jsx("div",{children:f.jsx(We,{data:{clickFn:()=>s(n?"/app/posts":"/login"),image:"redo",text:n?"Return Home":"Login"}})})]})},gz=()=>{const{theme:t,userData:e}=C.useContext(ee),[n,r]=C.useState(null),s=`${n==null?void 0:n.testName} - Results`,i=Math.round((n==null?void 0:n.score)/(n==null?void 0:n.totalScore)*100),o=ur(),{resultId:a}=Yv(),l=()=>{try{const u=Ge(oe(ye,"users",e.uid),"history"),d=oe(u,a);return Hn(d,p=>{const g={id:p.id,...p.data()};r(g)})}catch(u){return console.log(u.message),()=>{}}};C.useEffect(()=>{const u=l();return()=>{u()}},[a]),C.useEffect(()=>(rr(),rr()),[]);const c=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${n.score} out of ${n.totalScore} in '${n.testName}'.
Website URL - https://wwww.seaacademy.onrender.com
        `})}catch{console.log("Error")}};return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Jr,{}),n?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(Be,{data:{image:"back",clickFn:()=>o("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:s})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[n.score," / ",n.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:n.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${i}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-i}%`}})]}),f.jsxs("div",{className:`grid grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsx(eo,{text:"Score Percentage",value:`${i}%`,color:"text-lime-500"}),f.jsx(eo,{text:"Total Questions",value:n.totalScore,color:"text-lime-500"}),f.jsx(eo,{text:"Correct",value:n.score,color:"text-green-500"}),f.jsx(eo,{text:"Wrong",value:n.totalScore-n.score,color:"text-red-500"}),f.jsx(eo,{text:"Date",value:n.date,color:"text-lime-500"}),f.jsx(eo,{text:"Time",value:n.time,color:"text-lime-500"}),f.jsx(eo,{text:"Time taken",value:HI(n.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(Be,{data:{clickFn:()=>o(`/app/history/${a}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(Be,{data:{clickFn:c,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(Be,{data:{clickFn:()=>o("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsx(Jv,{text:"Unavailable"})]})},eo=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:[" ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function Is(t,e=15){const n=t.slice(0,e);return e>t.length?n:`${n}...`}const dr=({image:t,name:e,size:n="size-10",fontSize:r="text-lg"})=>{const s=t&&t.trim(),i=e&&e.trim(),o=s&&i,a=()=>{const l=e.trim().split(" ");return l.length<=3?l[0][0].toUpperCase():`${l[0][0]}${l[1][0]}`.toUpperCase()};if(s||o)return f.jsx("img",{className:`${n} rounded-full object-cover`,src:t});if(i)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:a()});if(!o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},yz=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=C.useState(!1),[s,i]=C.useState(!1),o=C.useRef(null),a=ur(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=C.useContext(ee),g=async()=>{try{await MN(J),e(!1),l(!1)}catch(y){console.log(y.message)}};return Ts(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:s&&f.jsx(Vo,{data:{yesButton:g,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),f.jsx("button",{onClick:()=>r(!n),className:`transition-all p-1 rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-200/70":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative w-10",children:f.jsx(dr,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx("div",{className:"font-medium",children:u!=null&&u.name?u.name:"User"}),h&&f.jsx(Be,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsxs("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:[f.jsx("div",{children:f.jsxs("button",{onClick:()=>{a("/app/settings"),e(!1),r(!1)},className:`flex w-full p-1 rounded-md gap-x-2 items-center  ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:le("admin")}),f.jsx("div",{children:"Settings"})]})}),f.jsxs("button",{onClick:()=>{i(!0)},className:`flex w-full p-1 rounded-md gap-x-2 items-center ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:le("logout")}),f.jsx("div",{children:"Log out"})]})]})]})},vz={black:"#000",white:"#fff"},Ru=vz,_z={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sa=_z,wz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ia=wz,xz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},oa=xz,Ez={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},aa=Ez,Cz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},la=Cz,Tz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rc=Tz,Iz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bz=Iz;function ku(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Sz=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),Zv="$$material";function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(null,arguments)}function Mt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nb(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Az=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rz=nb(function(t){return Az.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function kz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Nz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Pz=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Nz(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=kz(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),fn="-ms-",M0="-moz-",Se="-webkit-",rb="comm",e_="rule",t_="decl",Lz="@import",sb="@keyframes",Mz="@layer",Oz=Math.abs,o2=String.fromCharCode,Dz=Object.assign;function jz(t,e){return tn(t,0)^45?(((e<<2^tn(t,0))<<2^tn(t,1))<<2^tn(t,2))<<2^tn(t,3):0}function ib(t){return t.trim()}function $z(t,e){return(t=e.exec(t))?t[0]:t}function Ae(t,e,n){return t.replace(e,n)}function qg(t,e){return t.indexOf(e)}function tn(t,e){return t.charCodeAt(e)|0}function Nu(t,e,n){return t.slice(e,n)}function ns(t){return t.length}function n_(t){return t.length}function Qd(t,e){return e.push(t),t}function Fz(t,e){return t.map(e).join("")}var a2=1,vl=1,ob=0,qn=0,At=0,Dl="";function l2(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:a2,column:vl,length:o,return:""}}function sc(t,e){return Dz(l2("",null,null,"",null,null,0),t,{length:-t.length},e)}function Uz(){return At}function Vz(){return At=qn>0?tn(Dl,--qn):0,vl--,At===10&&(vl=1,a2--),At}function sr(){return At=qn<ob?tn(Dl,qn++):0,vl++,At===10&&(vl=1,a2++),At}function vs(){return tn(Dl,qn)}function wh(){return qn}function pd(t,e){return Nu(Dl,t,e)}function Pu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ab(t){return a2=vl=1,ob=ns(Dl=t),qn=0,[]}function lb(t){return Dl="",t}function xh(t){return ib(pd(qn-1,Gg(t===91?t+2:t===40?t+1:t)))}function zz(t){for(;(At=vs())&&At<33;)sr();return Pu(t)>2||Pu(At)>3?"":" "}function Bz(t,e){for(;--e&&sr()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return pd(t,wh()+(e<6&&vs()==32&&sr()==32))}function Gg(t){for(;sr();)switch(At){case t:return qn;case 34:case 39:t!==34&&t!==39&&Gg(At);break;case 40:t===41&&Gg(t);break;case 92:sr();break}return qn}function Wz(t,e){for(;sr()&&t+At!==57;)if(t+At===84&&vs()===47)break;return"/*"+pd(e,qn-1)+"*"+o2(t===47?t:sr())}function Hz(t){for(;!Pu(vs());)sr();return pd(t,qn)}function qz(t){return lb(Eh("",null,null,null,[""],t=ab(t),0,[0],t))}function Eh(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,y=1,w=1,m=1,v=0,_="",x=s,A=i,I=r,S=_;w;)switch(g=v,v=sr()){case 40:if(g!=108&&tn(S,d-1)==58){qg(S+=Ae(xh(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=xh(v);break;case 9:case 10:case 13:case 32:S+=zz(g);break;case 92:S+=Bz(wh()-1,7);continue;case 47:switch(vs()){case 42:case 47:Qd(Gz(Wz(sr(),wh()),e,n),l);break;default:S+="/"}break;case 123*y:a[c++]=ns(S)*m;case 125*y:case 59:case 0:switch(v){case 0:case 125:w=0;case 59+u:m==-1&&(S=Ae(S,/\f/g,"")),p>0&&ns(S)-d&&Qd(p>32?ix(S+";",r,n,d-1):ix(Ae(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(Qd(I=sx(S,e,n,c,u,s,a,_,x=[],A=[],d),i),v===123)if(u===0)Eh(S,e,I,I,x,i,d,a,A);else switch(h===99&&tn(S,3)===110?100:h){case 100:case 108:case 109:case 115:Eh(t,I,I,r&&Qd(sx(t,I,I,0,0,s,a,_,s,x=[],d),A),s,A,d,a,r?x:A);break;default:Eh(S,I,I,I,[""],A,0,a,A)}}c=u=p=0,y=m=1,_=S="",d=o;break;case 58:d=1+ns(S),p=g;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&Vz()==125)continue}switch(S+=o2(v),v*y){case 38:m=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(ns(S)-1)*m,m=1;break;case 64:vs()===45&&(S+=xh(sr())),h=vs(),u=d=ns(_=S+=Hz(wh())),v++;break;case 45:g===45&&ns(S)==2&&(y=0)}}return i}function sx(t,e,n,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],p=n_(h),g=0,y=0,w=0;g<r;++g)for(var m=0,v=Nu(t,d+1,d=Oz(y=o[g])),_=t;m<p;++m)(_=ib(y>0?h[m]+" "+v:Ae(v,/&\f/g,h[m])))&&(l[w++]=_);return l2(t,e,n,s===0?e_:a,l,c,u)}function Gz(t,e,n){return l2(t,e,n,rb,o2(Uz()),Nu(t,2,-2),0)}function ix(t,e,n,r){return l2(t,e,n,t_,Nu(t,0,r),Nu(t,r+1,-1),r)}function Ka(t,e){for(var n="",r=n_(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Kz(t,e,n,r){switch(t.type){case Mz:if(t.children.length)break;case Lz:case t_:return t.return=t.return||t.value;case rb:return"";case sb:return t.return=t.value+"{"+Ka(t.children,r)+"}";case e_:t.value=t.props.join(",")}return ns(n=Ka(t.children,r))?t.return=t.value+"{"+n+"}":""}function Qz(t){var e=n_(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function Yz(t){return function(e){e.root||(e=e.return)&&t(e)}}var Xz=function(e,n,r){for(var s=0,i=0;s=i,i=vs(),s===38&&i===12&&(n[r]=1),!Pu(i);)sr();return pd(e,qn)},Jz=function(e,n){var r=-1,s=44;do switch(Pu(s)){case 0:s===38&&vs()===12&&(n[r]=1),e[r]+=Xz(qn-1,n,r);break;case 2:e[r]+=xh(s);break;case 4:if(s===44){e[++r]=vs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=o2(s)}while(s=sr());return e},Zz=function(e,n){return lb(Jz(ab(e),n))},ox=new WeakMap,eB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ox.get(r))&&!s){ox.set(e,!0);for(var i=[],o=Zz(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},tB=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function cb(t,e){switch(jz(t,e)){case 5103:return Se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Se+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Se+t+M0+t+fn+t+t;case 6828:case 4268:return Se+t+fn+t+t;case 6165:return Se+t+fn+"flex-"+t+t;case 5187:return Se+t+Ae(t,/(\w+).+(:[^]+)/,Se+"box-$1$2"+fn+"flex-$1$2")+t;case 5443:return Se+t+fn+"flex-item-"+Ae(t,/flex-|-self/,"")+t;case 4675:return Se+t+fn+"flex-line-pack"+Ae(t,/align-content|flex-|-self/,"")+t;case 5548:return Se+t+fn+Ae(t,"shrink","negative")+t;case 5292:return Se+t+fn+Ae(t,"basis","preferred-size")+t;case 6060:return Se+"box-"+Ae(t,"-grow","")+Se+t+fn+Ae(t,"grow","positive")+t;case 4554:return Se+Ae(t,/([^-])(transform)/g,"$1"+Se+"$2")+t;case 6187:return Ae(Ae(Ae(t,/(zoom-|grab)/,Se+"$1"),/(image-set)/,Se+"$1"),t,"")+t;case 5495:case 3959:return Ae(t,/(image-set\([^]*)/,Se+"$1$`$1");case 4968:return Ae(Ae(t,/(.+:)(flex-)?(.*)/,Se+"box-pack:$3"+fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Se+t+t;case 4095:case 3583:case 4068:case 2532:return Ae(t,/(.+)-inline(.+)/,Se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ns(t)-1-e>6)switch(tn(t,e+1)){case 109:if(tn(t,e+4)!==45)break;case 102:return Ae(t,/(.+:)(.+)-([^]+)/,"$1"+Se+"$2-$3$1"+M0+(tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~qg(t,"stretch")?cb(Ae(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(tn(t,e+1)!==115)break;case 6444:switch(tn(t,ns(t)-3-(~qg(t,"!important")&&10))){case 107:return Ae(t,":",":"+Se)+t;case 101:return Ae(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Se+(tn(t,14)===45?"inline-":"")+"box$3$1"+Se+"$2$3$1"+fn+"$2box$3")+t}break;case 5936:switch(tn(t,e+11)){case 114:return Se+t+fn+Ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Se+t+fn+Ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Se+t+fn+Ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Se+t+fn+t+t}return t}var nB=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case t_:e.return=cb(e.value,e.length);break;case sb:return Ka([sc(e,{value:Ae(e.value,"@","@"+Se)})],s);case e_:if(e.length)return Fz(e.props,function(i){switch($z(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ka([sc(e,{props:[Ae(i,/:(read-\w+)/,":"+M0+"$1")]})],s);case"::placeholder":return Ka([sc(e,{props:[Ae(i,/:(plac\w+)/,":"+Se+"input-$1")]}),sc(e,{props:[Ae(i,/:(plac\w+)/,":"+M0+"$1")]}),sc(e,{props:[Ae(i,/:(plac\w+)/,fn+"input-$1")]})],s)}return""})}},rB=[nB],ub=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||rB,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),m=1;m<w.length;m++)i[w[m]]=!0;a.push(y)});var l,c=[eB,tB];{var u,d=[Kz,Yz(function(y){u.insert(y)})],h=Qz(c.concat(s,d)),p=function(w){return Ka(qz(w),h)};l=function(w,m,v,_){u=v,p(w?w+"{"+m.styles+"}":m.styles),_&&(g.inserted[m.name]=!0)}}var g={key:n,sheet:new Pz({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(a),g},db={exports:{}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=typeof Symbol=="function"&&Symbol.for,r_=Qt?Symbol.for("react.element"):60103,s_=Qt?Symbol.for("react.portal"):60106,c2=Qt?Symbol.for("react.fragment"):60107,u2=Qt?Symbol.for("react.strict_mode"):60108,d2=Qt?Symbol.for("react.profiler"):60114,h2=Qt?Symbol.for("react.provider"):60109,f2=Qt?Symbol.for("react.context"):60110,i_=Qt?Symbol.for("react.async_mode"):60111,p2=Qt?Symbol.for("react.concurrent_mode"):60111,m2=Qt?Symbol.for("react.forward_ref"):60112,g2=Qt?Symbol.for("react.suspense"):60113,sB=Qt?Symbol.for("react.suspense_list"):60120,y2=Qt?Symbol.for("react.memo"):60115,v2=Qt?Symbol.for("react.lazy"):60116,iB=Qt?Symbol.for("react.block"):60121,oB=Qt?Symbol.for("react.fundamental"):60117,aB=Qt?Symbol.for("react.responder"):60118,lB=Qt?Symbol.for("react.scope"):60119;function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case r_:switch(t=t.type,t){case i_:case p2:case c2:case d2:case u2:case g2:return t;default:switch(t=t&&t.$$typeof,t){case f2:case m2:case v2:case y2:case h2:return t;default:return e}}case s_:return e}}}function hb(t){return hr(t)===p2}De.AsyncMode=i_;De.ConcurrentMode=p2;De.ContextConsumer=f2;De.ContextProvider=h2;De.Element=r_;De.ForwardRef=m2;De.Fragment=c2;De.Lazy=v2;De.Memo=y2;De.Portal=s_;De.Profiler=d2;De.StrictMode=u2;De.Suspense=g2;De.isAsyncMode=function(t){return hb(t)||hr(t)===i_};De.isConcurrentMode=hb;De.isContextConsumer=function(t){return hr(t)===f2};De.isContextProvider=function(t){return hr(t)===h2};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r_};De.isForwardRef=function(t){return hr(t)===m2};De.isFragment=function(t){return hr(t)===c2};De.isLazy=function(t){return hr(t)===v2};De.isMemo=function(t){return hr(t)===y2};De.isPortal=function(t){return hr(t)===s_};De.isProfiler=function(t){return hr(t)===d2};De.isStrictMode=function(t){return hr(t)===u2};De.isSuspense=function(t){return hr(t)===g2};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===c2||t===p2||t===d2||t===u2||t===g2||t===sB||typeof t=="object"&&t!==null&&(t.$$typeof===v2||t.$$typeof===y2||t.$$typeof===h2||t.$$typeof===f2||t.$$typeof===m2||t.$$typeof===oB||t.$$typeof===aB||t.$$typeof===lB||t.$$typeof===iB)};De.typeOf=hr;db.exports=De;var cB=db.exports,fb=cB,uB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pb={};pb[fb.ForwardRef]=uB;pb[fb.Memo]=dB;var hB=!0;function fB(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var mb=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||hB===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},gb=function(e,n,r){mb(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function pB(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gB=/[A-Z]|^ms/g,yB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yb=function(e){return e.charCodeAt(1)===45},ax=function(e){return e!=null&&typeof e!="boolean"},qp=nb(function(t){return yb(t)?t:t.replace(gB,"-$&").toLowerCase()}),lx=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(yB,function(r,s,i){return rs={name:s,styles:i,next:rs},s})}return mB[e]!==1&&!yb(e)&&typeof n=="number"&&n!==0?n+"px":n};function Lu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return rs={name:n.name,styles:n.styles,next:rs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)rs={name:r.name,styles:r.styles,next:rs},r=r.next;var s=n.styles+";";return s}return vB(t,e,n)}case"function":{if(t!==void 0){var i=rs,o=n(t);return rs=i,Lu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function vB(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Lu(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":ax(o)&&(r+=qp(i)+":"+lx(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)ax(o[a])&&(r+=qp(i)+":"+lx(i,o[a])+";");else{var l=Lu(t,e,o);switch(i){case"animation":case"animationName":{r+=qp(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var cx=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rs,o_=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";rs=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=Lu(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Lu(r,n,e[a]),s&&(i+=o[a]);cx.lastIndex=0;for(var l="",c;(c=cx.exec(i))!==null;)l+="-"+c[1];var u=pB(i)+l;return{name:u,styles:i,next:rs}},_B=function(e){return e()},vb=Zp.useInsertionEffect?Zp.useInsertionEffect:!1,wB=vb||_B,ux=vb||C.useLayoutEffect,_b=C.createContext(typeof HTMLElement<"u"?ub({key:"css"}):null),xB=_b.Provider,wb=function(e){return C.forwardRef(function(n,r){var s=C.useContext(_b);return e(n,s,r)})},_2=C.createContext({}),Gp={exports:{}},dx;function xb(){return dx||(dx=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Gp)),Gp.exports}xb();var EB=wb(function(t,e){var n=t.styles,r=o_([n],void 0,C.useContext(_2)),s=C.useRef();return ux(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),ux(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&gb(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Eb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o_(e)}var w2=function(){var e=Eb.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},CB=Rz,TB=function(e){return e!=="theme"},hx=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?CB:TB},fx=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},IB=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return mb(n,r,s),wB(function(){return gb(n,r,s)}),null},bB=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=fx(e,n,r),l=a||hx(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=wb(function(y,w,m){var v=c&&y.as||s,_="",x=[],A=y;if(y.theme==null){A={};for(var I in y)A[I]=y[I];A.theme=C.useContext(_2)}typeof y.className=="string"?_=fB(w.registered,x,y.className):y.className!=null&&(_=y.className+" ");var S=o_(d.concat(x),w.registered,A);_+=w.key+"-"+S.name,o!==void 0&&(_+=" "+o);var E=c&&a===void 0?hx(v):l,T={};for(var b in y)c&&b==="as"||E(b)&&(T[b]=y[b]);return T.className=_,T.ref=m,C.createElement(C.Fragment,null,C.createElement(IB,{cache:w,serialized:S,isStringTag:typeof v=="string"}),C.createElement(v,T))});return g.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,w){return t(y,G({},n,w,{shouldForwardProp:fx(g,w,!0)})).apply(void 0,d)},g}},SB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Kg=bB.bind();SB.forEach(function(t){Kg[t]=Kg(t)});let Qg;typeof document=="object"&&(Qg=ub({key:"css",prepend:!0}));function AB(t){const{injectFirst:e,children:n}=t;return e&&Qg?f.jsx(xB,{value:Qg,children:n}):n}function RB(t){return t==null||Object.keys(t).length===0}function kB(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(RB(s)?n:s):e;return f.jsx(EB,{styles:r})}function NB(t,e){return Kg(t,e)}const PB=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},LB=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:kB,StyledEngineProvider:AB,ThemeContext:_2,css:Eb,default:NB,internal_processStyles:PB,keyframes:w2},Symbol.toStringTag,{value:"Module"}));function li(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Cb(t){if(!li(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Cb(t[n])}),e}function _s(t,e,n={clone:!0}){const r=n.clone?G({},t):t;return li(t)&&li(e)&&Object.keys(e).forEach(s=>{li(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&li(t[s])?r[s]=_s(t[s],e[s],n):n.clone?r[s]=li(e[s])?Cb(e[s]):e[s]:r[s]=e[s]}),r}const MB=Object.freeze(Object.defineProperty({__proto__:null,default:_s,isPlainObject:li},Symbol.toStringTag,{value:"Module"})),OB=["values","unit","step"],DB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>G({},n,{[r.key]:r.val}),{})};function Tb(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=Mt(t,OB),i=DB(e),o=Object.keys(i);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},s)}const jB={borderRadius:4},$B=jB;function $c(t,e){return e?_s(t,e,{clone:!1}):t}const a_={xs:0,sm:600,md:900,lg:1200,xl:1536},px={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${a_[t]}px)`};function kr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||px;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||px;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||a_).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function FB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function UB(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function VB(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function x2({values:t,breakpoints:e,base:n}){const r=n||VB(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function Qe(t){if(typeof t!="string")throw new Error(ku(7));return t.charAt(0).toUpperCase()+t.slice(1)}const zB=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"}));function E2(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function O0(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=E2(t,n)||r,e&&(s=e(s,r,t)),s}function Et(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=E2(l,r)||{};return kr(o,a,d=>{let h=O0(c,s,d);return d===h&&typeof d=="string"&&(h=O0(c,s,`${e}${d==="default"?"":Qe(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[e],i}function BB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const WB={m:"margin",p:"padding"},HB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qB=BB(t=>{if(t.length>2)if(mx[t])t=mx[t];else return[t];const[e,n]=t.split(""),r=WB[e],s=HB[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),l_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],c_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...l_,...c_];function md(t,e,n,r){var s;const i=(s=E2(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function Ib(t){return md(t,"spacing",8)}function gd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function GB(t,e){return n=>t.reduce((r,s)=>(r[s]=gd(e,n),r),{})}function KB(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=qB(n),i=GB(s,r),o=t[n];return kr(t,o,i)}function bb(t,e){const n=Ib(t.theme);return Object.keys(t).map(r=>KB(t,e,r,n)).reduce($c,{})}function ut(t){return bb(t,l_)}ut.propTypes={};ut.filterProps=l_;function dt(t){return bb(t,c_)}dt.propTypes={};dt.filterProps=c_;function QB(t=8){if(t.mui)return t;const e=Ib({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function C2(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?$c(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function _r(t){return typeof t!="number"?t:`${t}px solid`}function Lr(t,e){return Et({prop:t,themeKey:"borders",transform:e})}const YB=Lr("border",_r),XB=Lr("borderTop",_r),JB=Lr("borderRight",_r),ZB=Lr("borderBottom",_r),eW=Lr("borderLeft",_r),tW=Lr("borderColor"),nW=Lr("borderTopColor"),rW=Lr("borderRightColor"),sW=Lr("borderBottomColor"),iW=Lr("borderLeftColor"),oW=Lr("outline",_r),aW=Lr("outlineColor"),T2=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=md(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:gd(e,r)});return kr(t,t.borderRadius,n)}return null};T2.propTypes={};T2.filterProps=["borderRadius"];C2(YB,XB,JB,ZB,eW,tW,nW,rW,sW,iW,T2,oW,aW);const I2=t=>{if(t.gap!==void 0&&t.gap!==null){const e=md(t.theme,"spacing",8),n=r=>({gap:gd(e,r)});return kr(t,t.gap,n)}return null};I2.propTypes={};I2.filterProps=["gap"];const b2=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=md(t.theme,"spacing",8),n=r=>({columnGap:gd(e,r)});return kr(t,t.columnGap,n)}return null};b2.propTypes={};b2.filterProps=["columnGap"];const S2=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=md(t.theme,"spacing",8),n=r=>({rowGap:gd(e,r)});return kr(t,t.rowGap,n)}return null};S2.propTypes={};S2.filterProps=["rowGap"];const lW=Et({prop:"gridColumn"}),cW=Et({prop:"gridRow"}),uW=Et({prop:"gridAutoFlow"}),dW=Et({prop:"gridAutoColumns"}),hW=Et({prop:"gridAutoRows"}),fW=Et({prop:"gridTemplateColumns"}),pW=Et({prop:"gridTemplateRows"}),mW=Et({prop:"gridTemplateAreas"}),gW=Et({prop:"gridArea"});C2(I2,b2,S2,lW,cW,uW,dW,hW,fW,pW,mW,gW);function Qa(t,e){return e==="grey"?e:t}const yW=Et({prop:"color",themeKey:"palette",transform:Qa}),vW=Et({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qa}),_W=Et({prop:"backgroundColor",themeKey:"palette",transform:Qa});C2(yW,vW,_W);function Xn(t){return t<=1&&t!==0?`${t*100}%`:t}const wW=Et({prop:"width",transform:Xn}),u_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||a_[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Xn(n)}};return kr(t,t.maxWidth,e)}return null};u_.filterProps=["maxWidth"];const xW=Et({prop:"minWidth",transform:Xn}),EW=Et({prop:"height",transform:Xn}),CW=Et({prop:"maxHeight",transform:Xn}),TW=Et({prop:"minHeight",transform:Xn});Et({prop:"size",cssProperty:"width",transform:Xn});Et({prop:"size",cssProperty:"height",transform:Xn});const IW=Et({prop:"boxSizing"});C2(wW,u_,xW,EW,CW,TW,IW);const bW={border:{themeKey:"borders",transform:_r},borderTop:{themeKey:"borders",transform:_r},borderRight:{themeKey:"borders",transform:_r},borderBottom:{themeKey:"borders",transform:_r},borderLeft:{themeKey:"borders",transform:_r},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_r},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T2},color:{themeKey:"palette",transform:Qa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qa},backgroundColor:{themeKey:"palette",transform:Qa},p:{style:dt},pt:{style:dt},pr:{style:dt},pb:{style:dt},pl:{style:dt},px:{style:dt},py:{style:dt},padding:{style:dt},paddingTop:{style:dt},paddingRight:{style:dt},paddingBottom:{style:dt},paddingLeft:{style:dt},paddingX:{style:dt},paddingY:{style:dt},paddingInline:{style:dt},paddingInlineStart:{style:dt},paddingInlineEnd:{style:dt},paddingBlock:{style:dt},paddingBlockStart:{style:dt},paddingBlockEnd:{style:dt},m:{style:ut},mt:{style:ut},mr:{style:ut},mb:{style:ut},ml:{style:ut},mx:{style:ut},my:{style:ut},margin:{style:ut},marginTop:{style:ut},marginRight:{style:ut},marginBottom:{style:ut},marginLeft:{style:ut},marginX:{style:ut},marginY:{style:ut},marginInline:{style:ut},marginInlineStart:{style:ut},marginInlineEnd:{style:ut},marginBlock:{style:ut},marginBlockStart:{style:ut},marginBlockEnd:{style:ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:I2},rowGap:{style:S2},columnGap:{style:b2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xn},maxWidth:{style:u_},minWidth:{transform:Xn},height:{transform:Xn},maxHeight:{transform:Xn},minHeight:{transform:Xn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},yd=bW;function SW(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function AW(t,e){return typeof t=="function"?t(e):t}function Sb(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=E2(s,c)||{};return d?d(o):kr(o,r,g=>{let y=O0(h,u,g);return g===y&&typeof g=="string"&&(y=O0(h,u,`${n}${g==="default"?"":Qe(g)}`,g)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:yd;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=FB(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=AW(c[p],i);if(g!=null)if(typeof g=="object")if(o[p])h=$c(h,t(p,g,i,o));else{const y=kr({theme:i},g,w=>({[p]:w}));SW(y,g)?h[p]=e({sx:g,theme:i}):h=$c(h,y)}else h=$c(h,t(p,g,i,o))}),UB(d,h)}return Array.isArray(s)?s.map(a):a(s)}return e}const Ab=Sb();Ab.filterProps=["sx"];const d_=Ab;function Rb(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const RW=["breakpoints","palette","spacing","shape"];function h_(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=Mt(t,RW),a=Tb(n),l=QB(s);let c=_s({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},$B,i)},o);return c.applyStyles=Rb,c=e.reduce((u,d)=>_s(u,d),c),c.unstable_sxConfig=G({},yd,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return d_({sx:d,theme:this})},c}const kW=Object.freeze(Object.defineProperty({__proto__:null,default:h_,private_createBreakpoints:Tb,unstable_applyStyles:Rb},Symbol.toStringTag,{value:"Module"}));function NW(t){return Object.keys(t).length===0}function PW(t=null){const e=C.useContext(_2);return!e||NW(e)?t:e}const LW=h_();function kb(t=LW){return PW(t)}const MW=["sx"],OW=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:yd;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function f_(t){const{sx:e}=t,n=Mt(t,MW),{systemProps:r,otherProps:s}=OW(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return li(a)?G({},r,a):r}:i=G({},r,e),G({},s,{sx:i})}const DW=Object.freeze(Object.defineProperty({__proto__:null,default:d_,extendSxProp:f_,unstable_createStyleFunctionSx:Sb,unstable_defaultSxConfig:yd},Symbol.toStringTag,{value:"Module"})),gx=t=>t,jW=()=>{let t=gx;return{configure(e){t=e},generate(e){return t(e)},reset(){t=gx}}},$W=jW(),FW=$W;function Nb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Nb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _t(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Nb(t))&&(r&&(r+=" "),r+=e);return r}const UW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mr(t,e,n="Mui"){const r=UW[e];return r?`${n}-${r}`:`${FW.generate(t)}-${e}`}function Or(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Mr(t,s,n)}),r}var Pb={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=Symbol.for("react.element"),m_=Symbol.for("react.portal"),A2=Symbol.for("react.fragment"),R2=Symbol.for("react.strict_mode"),k2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),P2=Symbol.for("react.context"),VW=Symbol.for("react.server_context"),L2=Symbol.for("react.forward_ref"),M2=Symbol.for("react.suspense"),O2=Symbol.for("react.suspense_list"),D2=Symbol.for("react.memo"),j2=Symbol.for("react.lazy"),zW=Symbol.for("react.offscreen"),Lb;Lb=Symbol.for("react.module.reference");function Dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case p_:switch(t=t.type,t){case A2:case k2:case R2:case M2:case O2:return t;default:switch(t=t&&t.$$typeof,t){case VW:case P2:case L2:case j2:case D2:case N2:return t;default:return e}}case m_:return e}}}je.ContextConsumer=P2;je.ContextProvider=N2;je.Element=p_;je.ForwardRef=L2;je.Fragment=A2;je.Lazy=j2;je.Memo=D2;je.Portal=m_;je.Profiler=k2;je.StrictMode=R2;je.Suspense=M2;je.SuspenseList=O2;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return Dr(t)===P2};je.isContextProvider=function(t){return Dr(t)===N2};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===p_};je.isForwardRef=function(t){return Dr(t)===L2};je.isFragment=function(t){return Dr(t)===A2};je.isLazy=function(t){return Dr(t)===j2};je.isMemo=function(t){return Dr(t)===D2};je.isPortal=function(t){return Dr(t)===m_};je.isProfiler=function(t){return Dr(t)===k2};je.isStrictMode=function(t){return Dr(t)===R2};je.isSuspense=function(t){return Dr(t)===M2};je.isSuspenseList=function(t){return Dr(t)===O2};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===A2||t===k2||t===R2||t===M2||t===O2||t===zW||typeof t=="object"&&t!==null&&(t.$$typeof===j2||t.$$typeof===D2||t.$$typeof===N2||t.$$typeof===P2||t.$$typeof===L2||t.$$typeof===Lb||t.getModuleId!==void 0)};je.typeOf=Dr;Pb.exports=je;var yx=Pb.exports;const BW=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Mb(t){const e=`${t}`.match(BW);return e&&e[1]||""}function Ob(t,e=""){return t.displayName||t.name||Mb(t)||e}function vx(t,e,n){const r=Ob(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function WW(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Ob(t,"Component");if(typeof t=="object")switch(t.$$typeof){case yx.ForwardRef:return vx(t,t.render,"ForwardRef");case yx.Memo:return vx(t,t.type,"memo");default:return}}}const HW=Object.freeze(Object.defineProperty({__proto__:null,default:WW,getFunctionName:Mb},Symbol.toStringTag,{value:"Module"}));function g_(t,e){const n=G({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=G({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=G({},i),Object.keys(s).forEach(o=>{n[r][o]=g_(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function qW(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:g_(e.components[n].defaultProps,r)}function GW({props:t,name:e,defaultTheme:n,themeId:r}){let s=kb(n);return r&&(s=s[r]||s),qW({theme:s,name:e,props:t})}const KW=typeof window<"u"?C.useLayoutEffect:C.useEffect,QW=KW;function YW(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const XW=Object.freeze(Object.defineProperty({__proto__:null,default:YW},Symbol.toStringTag,{value:"Module"}));function JW(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Yd(t){const e=C.useRef(t);return QW(()=>{e.current=t}),C.useRef((...n)=>(0,e.current)(...n)).current}function _x(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{JW(n,e)})},t)}const wx={};function ZW(t,e){const n=C.useRef(wx);return n.current===wx&&(n.current=t(e)),n}const eH=[];function tH(t){C.useEffect(t,eH)}class $2{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new $2}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function nH(){const t=ZW($2.create).current;return tH(t.disposeEffect),t}let F2=!0,Yg=!1;const rH=new $2,sH={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function iH(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&sH[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function oH(t){t.metaKey||t.altKey||t.ctrlKey||(F2=!0)}function Kp(){F2=!1}function aH(){this.visibilityState==="hidden"&&Yg&&(F2=!0)}function lH(t){t.addEventListener("keydown",oH,!0),t.addEventListener("mousedown",Kp,!0),t.addEventListener("pointerdown",Kp,!0),t.addEventListener("touchstart",Kp,!0),t.addEventListener("visibilitychange",aH,!0)}function cH(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return F2||iH(e)}function uH(){const t=C.useCallback(s=>{s!=null&&lH(s.ownerDocument)},[]),e=C.useRef(!1);function n(){return e.current?(Yg=!0,rH.start(100,()=>{Yg=!1}),e.current=!1,!0):!1}function r(s){return cH(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Zr(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function dH(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Ct={},Db={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Db);var jb=Db.exports;const hH=Ui(Sz),fH=Ui(XW);var $b=jb;Object.defineProperty(Ct,"__esModule",{value:!0});var gi=Ct.alpha=zb;Ct.blend=bH;Ct.colorChannel=void 0;var pH=Ct.darken=v_;Ct.decomposeColor=Nr;Ct.emphasize=Bb;var mH=Ct.getContrastRatio=xH;Ct.getLuminance=D0;Ct.hexToRgb=Fb;Ct.hslToRgb=Vb;var gH=Ct.lighten=__;Ct.private_safeAlpha=EH;Ct.private_safeColorChannel=void 0;Ct.private_safeDarken=CH;Ct.private_safeEmphasize=IH;Ct.private_safeLighten=TH;Ct.recomposeColor=jl;Ct.rgbToHex=wH;var xx=$b(hH),yH=$b(fH);function y_(t,e=0,n=1){return(0,yH.default)(t,e,n)}function Fb(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function vH(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Nr(t){if(t.type)return t;if(t.charAt(0)==="#")return Nr(Fb(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,xx.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,xx.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const Ub=t=>{const e=Nr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Ct.colorChannel=Ub;const _H=(t,e)=>{try{return Ub(t)}catch{return t}};Ct.private_safeColorChannel=_H;function jl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function wH(t){if(t.indexOf("#")===0)return t;const{values:e}=Nr(t);return`#${e.map((n,r)=>vH(r===3?Math.round(255*n):n)).join("")}`}function Vb(t){t=Nr(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),jl({type:a,values:l})}function D0(t){t=Nr(t);let e=t.type==="hsl"||t.type==="hsla"?Nr(Vb(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function xH(t,e){const n=D0(t),r=D0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function zb(t,e){return t=Nr(t),e=y_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,jl(t)}function EH(t,e,n){try{return zb(t,e)}catch{return t}}function v_(t,e){if(t=Nr(t),e=y_(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return jl(t)}function CH(t,e,n){try{return v_(t,e)}catch{return t}}function __(t,e){if(t=Nr(t),e=y_(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return jl(t)}function TH(t,e,n){try{return __(t,e)}catch{return t}}function Bb(t,e=.15){return D0(t)>.5?v_(t,e):__(t,e)}function IH(t,e,n){try{return Bb(t,e)}catch{return t}}function bH(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=Nr(t),o=Nr(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return jl({type:"rgb",values:a})}const SH=["mode","contrastThreshold","tonalOffset"],Ex={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ru.white,default:Ru.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qp={text:{primary:Ru.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ru.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Cx(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=gH(t.main,s):e==="dark"&&(t.dark=pH(t.main,i)))}function AH(t="light"){return t==="dark"?{main:oa[200],light:oa[50],dark:oa[400]}:{main:oa[700],light:oa[400],dark:oa[800]}}function RH(t="light"){return t==="dark"?{main:ia[200],light:ia[50],dark:ia[400]}:{main:ia[500],light:ia[300],dark:ia[700]}}function kH(t="light"){return t==="dark"?{main:sa[500],light:sa[300],dark:sa[700]}:{main:sa[700],light:sa[400],dark:sa[800]}}function NH(t="light"){return t==="dark"?{main:aa[400],light:aa[300],dark:aa[700]}:{main:aa[700],light:aa[500],dark:aa[900]}}function PH(t="light"){return t==="dark"?{main:la[400],light:la[300],dark:la[700]}:{main:la[800],light:la[500],dark:la[900]}}function LH(t="light"){return t==="dark"?{main:rc[400],light:rc[300],dark:rc[700]}:{main:"#ed6c02",light:rc[500],dark:rc[900]}}function MH(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=Mt(t,SH),i=t.primary||AH(e),o=t.secondary||RH(e),a=t.error||kH(e),l=t.info||NH(e),c=t.success||PH(e),u=t.warning||LH(e);function d(y){return mH(y,Qp.text.primary)>=n?Qp.text.primary:Ex.text.primary}const h=({color:y,name:w,mainShade:m=500,lightShade:v=300,darkShade:_=700})=>{if(y=G({},y),!y.main&&y[m]&&(y.main=y[m]),!y.hasOwnProperty("main"))throw new Error(ku(11,w?` (${w})`:"",m));if(typeof y.main!="string")throw new Error(ku(12,w?` (${w})`:"",JSON.stringify(y.main)));return Cx(y,"light",v,r),Cx(y,"dark",_,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:Qp,light:Ex};return _s(G({common:G({},Ru),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:bz,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),s)}const OH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function DH(t){return Math.round(t*1e5)/1e5}const Tx={textTransform:"uppercase"},Ix='"Roboto", "Helvetica", "Arial", sans-serif';function jH(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Ix,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Mt(n,OH),p=s/14,g=d||(m=>`${m/c*p}rem`),y=(m,v,_,x,A)=>G({fontFamily:r,fontWeight:m,fontSize:g(v),lineHeight:_},r===Ix?{letterSpacing:`${DH(x/v)}em`}:{},A,u),w={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,Tx),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,Tx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _s(G({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},w),h,{clone:!1})}const $H=.2,FH=.14,UH=.12;function it(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${$H})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${FH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${UH})`].join(",")}const VH=["none",it(0,2,1,-1,0,1,1,0,0,1,3,0),it(0,3,1,-2,0,2,2,0,0,1,5,0),it(0,3,3,-2,0,3,4,0,0,1,8,0),it(0,2,4,-1,0,4,5,0,0,1,10,0),it(0,3,5,-1,0,5,8,0,0,1,14,0),it(0,3,5,-1,0,6,10,0,0,1,18,0),it(0,4,5,-2,0,7,10,1,0,2,16,1),it(0,5,5,-3,0,8,10,1,0,3,14,2),it(0,5,6,-3,0,9,12,1,0,3,16,2),it(0,6,6,-3,0,10,14,1,0,4,18,3),it(0,6,7,-4,0,11,15,1,0,4,20,3),it(0,7,8,-4,0,12,17,2,0,5,22,4),it(0,7,8,-4,0,13,19,2,0,5,24,4),it(0,7,9,-4,0,14,21,2,0,5,26,4),it(0,8,9,-5,0,15,22,2,0,6,28,5),it(0,8,10,-5,0,16,24,2,0,6,30,5),it(0,8,11,-5,0,17,26,2,0,6,32,5),it(0,9,11,-5,0,18,28,2,0,7,34,6),it(0,9,12,-6,0,19,29,2,0,7,36,6),it(0,10,13,-6,0,20,31,3,0,8,38,7),it(0,10,13,-6,0,21,33,3,0,8,40,7),it(0,10,14,-6,0,22,35,3,0,8,42,7),it(0,11,14,-7,0,23,36,3,0,9,44,8),it(0,11,15,-7,0,24,38,3,0,9,46,8)],zH=VH,BH=["duration","easing","delay"],WH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},HH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bx(t){return`${Math.round(t)}ms`}function qH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function GH(t){const e=G({},WH,t.easing),n=G({},HH,t.duration);return G({getAutoHeightDuration:qH,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return Mt(i,BH),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:bx(o)} ${a} ${typeof l=="string"?l:bx(l)}`).join(",")}},t,{easing:e,duration:n})}const KH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},QH=KH,YH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function XH(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=Mt(t,YH);if(t.vars)throw new Error(ku(18));const a=MH(r),l=h_(t);let c=_s(l,{mixins:dH(l.breakpoints,n),palette:a,shadows:zH.slice(),typography:jH(a,i),transitions:GH(s),zIndex:G({},QH)});return c=_s(c,o),c=e.reduce((u,d)=>_s(u,d),c),c.unstable_sxConfig=G({},yd,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return d_({sx:d,theme:this})},c}const JH=XH(),w_=JH;function ZH(){const t=kb(w_);return t[Zv]||t}function jr({props:t,name:e}){return GW({props:t,name:e,defaultTheme:w_,themeId:Zv})}var vd={},Yp={exports:{}},Sx;function eq(){return Sx||(Sx=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)>=0)continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Yp)),Yp.exports}const tq=Ui(LB),nq=Ui(MB),rq=Ui(zB),sq=Ui(HW),iq=Ui(kW),oq=Ui(DW);var $l=jb;Object.defineProperty(vd,"__esModule",{value:!0});var aq=vd.default=wq;vd.shouldForwardProp=Ch;vd.systemDefaultTheme=void 0;var mr=$l(xb()),Xg=$l(eq()),Ax=pq(tq),lq=nq;$l(rq);$l(sq);var cq=$l(iq),uq=$l(oq);const dq=["ownerState"],hq=["variants"],fq=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Wb(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Wb=function(r){return r?n:e})(t)}function pq(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Wb(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function mq(t){return Object.keys(t).length===0}function gq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ch(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const yq=vd.systemDefaultTheme=(0,cq.default)(),vq=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Xd({defaultTheme:t,theme:e,themeId:n}){return mq(e)?t:e[n]||e}function _q(t){return t?(e,n)=>n[t]:null}function Th(t,e){let{ownerState:n}=e,r=(0,Xg.default)(e,dq);const s=typeof t=="function"?t((0,mr.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>Th(i,(0,mr.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,Xg.default)(s,hq);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,mr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,mr.default)({ownerState:n},r,n)):l.style))}),a}return s}function wq(t={}){const{themeId:e,defaultTheme:n=yq,rootShouldForwardProp:r=Ch,slotShouldForwardProp:s=Ch}=t,i=o=>(0,uq.default)((0,mr.default)({},o,{theme:Xd((0,mr.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,Ax.internal_processStyles)(o,A=>A.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=_q(vq(c))}=a,p=(0,Xg.default)(a,fq),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let w,m=Ch;c==="Root"||c==="root"?m=r:c?m=s:gq(o)&&(m=void 0);const v=(0,Ax.default)(o,(0,mr.default)({shouldForwardProp:m,label:w},p)),_=A=>typeof A=="function"&&A.__emotion_real!==A||(0,lq.isPlainObject)(A)?I=>Th(A,(0,mr.default)({},I,{theme:Xd({theme:I.theme,defaultTheme:n,themeId:e})})):A,x=(A,...I)=>{let S=_(A);const E=I?I.map(_):[];l&&h&&E.push(P=>{const N=Xd((0,mr.default)({},P,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([j,k])=>{L[j]=Th(k,(0,mr.default)({},P,{theme:N}))}),h(P,L)}),l&&!g&&E.push(P=>{var N;const M=Xd((0,mr.default)({},P,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return Th({variants:L},(0,mr.default)({},P,{theme:M}))}),y||E.push(i);const T=E.length-I.length;if(Array.isArray(A)&&T>0){const P=new Array(T).fill("");S=[...A,...P],S.raw=[...A.raw,...P]}const b=v(S,...E);return o.muiName&&(b.muiName=o.muiName),b};return v.withConfig&&(x.withConfig=v.withConfig),x}}function xq(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Eq=t=>xq(t)&&t!=="classes",Hb=Eq,Cq=aq({themeId:Zv,defaultTheme:w_,rootShouldForwardProp:Hb}),Ln=Cq,Tq=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},Rx=Tq;function Jg(t,e){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Jg(t,e)}function Iq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jg(t,e)}const kx=ha.createContext(null);function bq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x_(t,e){var n=function(i){return e&&C.isValidElement(i)?e(i):i},r=Object.create(null);return t&&C.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function Sq(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function yo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Aq(t,e){return x_(t.children,function(n){return C.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:yo(n,"appear",t),enter:yo(n,"enter",t),exit:yo(n,"exit",t)})})}function Rq(t,e,n){var r=x_(t.children),s=Sq(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(C.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=C.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=C.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:yo(o,"exit",t),enter:yo(o,"enter",t)}):!l&&a&&!u?s[i]=C.cloneElement(o,{in:!1}):l&&a&&C.isValidElement(c)&&(s[i]=C.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:yo(o,"exit",t),enter:yo(o,"enter",t)}))}}),s}var kq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Nq={component:"div",childFactory:function(e){return e}},E_=function(t){Iq(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(bq(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?Aq(s,a):Rq(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=x_(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=Mt(s,["component","childFactory"]),l=this.state.contextValue,c=kq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?ha.createElement(kx.Provider,{value:l},c):ha.createElement(kx.Provider,{value:l},ha.createElement(i,a,c))},e}(ha.Component);E_.propTypes={};E_.defaultProps=Nq;const Pq=E_;function Lq(t){return Mr("MuiPaper",t)}Or("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Mq=["className","component","elevation","square","variant"],Oq=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Zr(i,Lq,s)},Dq=Ln("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${gi("#fff",Rx(e.elevation))}, ${gi("#fff",Rx(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),jq=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=Mt(r,Mq),u=G({},r,{component:i,elevation:o,square:a,variant:l}),d=Oq(u);return f.jsx(Dq,G({as:i,ownerState:u,className:_t(d.root,s),ref:n},c))}),qb=jq;function $q(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=C.useState(!1),h=_t(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},g=_t(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),C.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Fq=Or("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gr=Fq,Uq=["center","classes","className"];let U2=t=>t,Nx,Px,Lx,Mx;const Zg=550,Vq=80,zq=w2(Nx||(Nx=U2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Bq=w2(Px||(Px=U2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Wq=w2(Lx||(Lx=U2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Hq=Ln("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qq=Ln($q,{name:"MuiTouchRipple",slot:"Ripple"})(Mx||(Mx=U2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),gr.rippleVisible,zq,Zg,({theme:t})=>t.transitions.easing.easeInOut,gr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,gr.child,gr.childLeaving,Bq,Zg,({theme:t})=>t.transitions.easing.easeInOut,gr.childPulsate,Wq,({theme:t})=>t.transitions.easing.easeInOut),Gq=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=Mt(r,Uq),[l,c]=C.useState([]),u=C.useRef(0),d=C.useRef(null);C.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=C.useRef(!1),p=nH(),g=C.useRef(null),y=C.useRef(null),w=C.useCallback(x=>{const{pulsate:A,rippleX:I,rippleY:S,rippleSize:E,cb:T}=x;c(b=>[...b,f.jsx(qq,{classes:{ripple:_t(i.ripple,gr.ripple),rippleVisible:_t(i.rippleVisible,gr.rippleVisible),ripplePulsate:_t(i.ripplePulsate,gr.ripplePulsate),child:_t(i.child,gr.child),childLeaving:_t(i.childLeaving,gr.childLeaving),childPulsate:_t(i.childPulsate,gr.childPulsate)},timeout:Zg,pulsate:A,rippleX:I,rippleY:S,rippleSize:E},u.current)]),u.current+=1,d.current=T},[i]),m=C.useCallback((x={},A={},I=()=>{})=>{const{pulsate:S=!1,center:E=s||A.pulsate,fakeElement:T=!1}=A;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const b=T?null:y.current,P=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,L;if(E||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(P.width/2),M=Math.round(P.height/2);else{const{clientX:j,clientY:k}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round(j-P.left),M=Math.round(k-P.top)}if(E)L=Math.sqrt((2*P.width**2+P.height**2)/3),L%2===0&&(L+=1);else{const j=Math.max(Math.abs((b?b.clientWidth:0)-N),N)*2+2,k=Math.max(Math.abs((b?b.clientHeight:0)-M),M)*2+2;L=Math.sqrt(j**2+k**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{w({pulsate:S,rippleX:N,rippleY:M,rippleSize:L,cb:I})},p.start(Vq,()=>{g.current&&(g.current(),g.current=null)})):w({pulsate:S,rippleX:N,rippleY:M,rippleSize:L,cb:I})},[s,w,p]),v=C.useCallback(()=>{m({},{pulsate:!0})},[m]),_=C.useCallback((x,A)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(x,A)});return}g.current=null,c(I=>I.length>0?I.slice(1):I),d.current=A},[p]);return C.useImperativeHandle(n,()=>({pulsate:v,start:m,stop:_}),[v,m,_]),f.jsx(Hq,G({className:_t(gr.root,i.root,o),ref:y},a,{children:f.jsx(Pq,{component:null,exit:!0,children:l})}))}),Kq=Gq;function Qq(t){return Mr("MuiButtonBase",t)}const Yq=Or("MuiButtonBase",["root","disabled","focusVisible"]),Xq=Yq,Jq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Zq=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=Zr({root:["root",e&&"disabled",n&&"focusVisible"]},Qq,s);return n&&r&&(o.root+=` ${r}`),o},eG=Ln("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Xq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),tG=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:y,onContextMenu:w,onDragLeave:m,onFocus:v,onFocusVisible:_,onKeyDown:x,onKeyUp:A,onMouseDown:I,onMouseLeave:S,onMouseUp:E,onTouchEnd:T,onTouchMove:b,onTouchStart:P,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:L,type:j}=r,k=Mt(r,Jq),R=C.useRef(null),D=C.useRef(null),O=_x(D,L),{isFocusVisibleRef:$,onFocus:H,onBlur:B,ref:K}=uH(),[V,F]=C.useState(!1);c&&V&&F(!1),C.useImperativeHandle(s,()=>({focusVisible:()=>{F(!0),R.current.focus()}}),[]);const[te,pe]=C.useState(!1);C.useEffect(()=>{pe(!0)},[]);const we=te&&!u&&!c;C.useEffect(()=>{V&&h&&!u&&te&&D.current.pulsate()},[u,h,V,te]);function ne(ie,It,Xt=d){return Yd(Jt=>(It&&It(Jt),!Xt&&D.current&&D.current[ie](Jt),!0))}const Ie=ne("start",I),Le=ne("stop",w),ke=ne("stop",m),In=ne("stop",E),Yt=ne("stop",ie=>{V&&ie.preventDefault(),S&&S(ie)}),Ue=ne("start",P),Ve=ne("stop",T),Ne=ne("stop",b),$e=ne("stop",ie=>{B(ie),$.current===!1&&F(!1),g&&g(ie)},!1),gt=Yd(ie=>{R.current||(R.current=ie.currentTarget),H(ie),$.current===!0&&(F(!0),_&&_(ie)),v&&v(ie)}),yt=()=>{const ie=R.current;return l&&l!=="button"&&!(ie.tagName==="A"&&ie.href)},ze=C.useRef(!1),Ot=Yd(ie=>{h&&!ze.current&&V&&D.current&&ie.key===" "&&(ze.current=!0,D.current.stop(ie,()=>{D.current.start(ie)})),ie.target===ie.currentTarget&&yt()&&ie.key===" "&&ie.preventDefault(),x&&x(ie),ie.target===ie.currentTarget&&yt()&&ie.key==="Enter"&&!c&&(ie.preventDefault(),y&&y(ie))}),qe=Yd(ie=>{h&&ie.key===" "&&D.current&&V&&!ie.defaultPrevented&&(ze.current=!1,D.current.stop(ie,()=>{D.current.pulsate(ie)})),A&&A(ie),y&&ie.target===ie.currentTarget&&yt()&&ie.key===" "&&!ie.defaultPrevented&&y(ie)});let be=l;be==="button"&&(k.href||k.to)&&(be=p);const vt={};be==="button"?(vt.type=j===void 0?"button":j,vt.disabled=c):(!k.href&&!k.to&&(vt.role="button"),c&&(vt["aria-disabled"]=c));const fr=_x(n,K,R),bs=G({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:V}),Tt=Zq(bs);return f.jsxs(eG,G({as:be,className:_t(Tt.root,a),ownerState:bs,onBlur:$e,onClick:y,onContextMenu:Le,onFocus:gt,onKeyDown:Ot,onKeyUp:qe,onMouseDown:Ie,onMouseLeave:Yt,onMouseUp:In,onDragLeave:ke,onTouchEnd:Ve,onTouchMove:Ne,onTouchStart:Ue,ref:fr,tabIndex:c?-1:N,type:j},vt,k,{children:[o,we?f.jsx(Kq,G({ref:O,center:i},M)):null]}))}),Gb=tG;function nG(t){return Mr("MuiIconButton",t)}const rG=Or("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),sG=rG,iG=["edge","children","className","color","disabled","disableFocusRipple","size"],oG=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Qe(r)}`,s&&`edge${Qe(s)}`,`size${Qe(i)}`]};return Zr(o,nG,e)},aG=Ln(Gb,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Qe(n.color)}`],n.edge&&e[`edge${Qe(n.edge)}`],e[`size${Qe(n.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":G({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${sG.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),lG=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Mt(r,iG),h=G({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=oG(h);return f.jsx(aG,G({className:_t(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:i}))}),V2=lG;function cG(t){return Mr("MuiTypography",t)}Or("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const uG=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],dG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${Qe(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Zr(a,cG,o)},hG=Ln("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Qe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Ox={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fG={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},pG=t=>fG[t]||t,mG=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiTypography"}),s=pG(r.color),i=f_(G({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=Ox}=i,g=Mt(i,uG),y=G({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),w=l||(d?"p":p[h]||Ox[h])||"span",m=dG(y);return f.jsx(hG,G({as:w,ref:n,ownerState:y,className:_t(m.root,a)},g))}),oo=mG;function gG(t){return Mr("MuiAppBar",t)}Or("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const yG=["className","color","enableColorOnDark","position"],vG=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${Qe(e)}`,`position${Qe(n)}`]};return Zr(s,gG,r)},Jd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,_G=Ln(qb,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Qe(n.position)}`],e[`color${Qe(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return G({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&G({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&G({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&G({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Jd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Jd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Jd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Jd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),wG=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=Mt(r,yG),c=G({},r,{color:i,position:a,enableColorOnDark:o}),u=vG(c);return f.jsx(_G,G({square:!0,component:"header",ownerState:c,elevation:4,className:_t(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),xG=wG;function EG(t){return Mr("MuiButton",t)}const CG=Or("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Zd=CG,TG=C.createContext({}),IG=TG,bG=C.createContext(void 0),SG=bG,AG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],RG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${Qe(e)}`,`size${Qe(s)}`,`${i}Size${Qe(s)}`,`color${Qe(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Qe(s)}`],endIcon:["icon","endIcon",`iconSize${Qe(s)}`]},l=Zr(a,EG,o);return G({},o,l)},Kb=t=>G({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),kG=Ln(Gb,{shouldForwardProp:t=>Hb(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Qe(n.color)}`],e[`size${Qe(n.size)}`],e[`${n.variant}Size${Qe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return G({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Zd.focusVisible}`]:G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Zd.disabled}`]:G({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${gi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Zd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Zd.disabled}`]:{boxShadow:"none"}}),NG=Ln("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Qe(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Kb(t))),PG=Ln("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Qe(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Kb(t))),LG=C.forwardRef(function(e,n){const r=C.useContext(IG),s=C.useContext(SG),i=g_(r,e),o=jr({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:y,fullWidth:w=!1,size:m="medium",startIcon:v,type:_,variant:x="text"}=o,A=Mt(o,AG),I=G({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:w,size:m,type:_,variant:x}),S=RG(I),E=v&&f.jsx(NG,{className:S.startIcon,ownerState:I,children:v}),T=g&&f.jsx(PG,{className:S.endIcon,ownerState:I,children:g}),b=s||"";return f.jsxs(kG,G({ownerState:I,className:_t(r.className,S.root,u,b),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:_t(S.focusVisible,y),ref:n,type:_},A,{classes:S,children:[E,a,T]}))}),_l=LG;function MG(t){return Mr("MuiCard",t)}Or("MuiCard",["root"]);const OG=["className","raised"],DG=t=>{const{classes:e}=t;return Zr({root:["root"]},MG,e)},jG=Ln(qb,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),$G=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,o=Mt(r,OG),a=G({},r,{raised:i}),l=DG(a);return f.jsx(jG,G({className:_t(l.root,s),elevation:i?8:void 0,ref:n,ownerState:a},o))}),e1=$G;function FG(t){return Mr("MuiCardActions",t)}Or("MuiCardActions",["root","spacing"]);const UG=["disableSpacing","className"],VG=t=>{const{classes:e,disableSpacing:n}=t;return Zr({root:["root",!n&&"spacing"]},FG,e)},zG=Ln("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>G({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),BG=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,o=Mt(r,UG),a=G({},r,{disableSpacing:s}),l=VG(a);return f.jsx(zG,G({className:_t(l.root,i),ownerState:a,ref:n},o))}),WG=BG;function HG(t){return Mr("MuiCardMedia",t)}Or("MuiCardMedia",["root","media","img"]);const qG=["children","className","component","image","src","style"],GG=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Zr({root:["root",n&&"media",r&&"img"]},HG,e)},KG=Ln("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:s}=n;return[e.root,r&&e.media,s&&e.img]}})(({ownerState:t})=>G({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),QG=["video","audio","picture","iframe","img"],YG=["picture","img"],XG=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiCardMedia"}),{children:s,className:i,component:o="div",image:a,src:l,style:c}=r,u=Mt(r,qG),d=QG.indexOf(o)!==-1,h=!d&&a?G({backgroundImage:`url("${a}")`},c):c,p=G({},r,{component:o,isMediaComponent:d,isImageComponent:YG.indexOf(o)!==-1}),g=GG(p);return f.jsx(KG,G({className:_t(g.root,i),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:p,src:d?a||l:void 0},u,{children:s}))}),JG=XG,ZG=C.createContext(),Dx=ZG;function eK(t){return Mr("MuiGrid",t)}const tK=[0,1,2,3,4,5,6,7,8,9,10],nK=["column-reverse","column","row-reverse","row"],rK=["nowrap","wrap-reverse","wrap"],ic=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Mu=Or("MuiGrid",["root","container","item","zeroMinWidth",...tK.map(t=>`spacing-xs-${t}`),...nK.map(t=>`direction-xs-${t}`),...rK.map(t=>`wrap-xs-${t}`),...ic.map(t=>`grid-xs-${t}`),...ic.map(t=>`grid-sm-${t}`),...ic.map(t=>`grid-md-${t}`),...ic.map(t=>`grid-lg-${t}`),...ic.map(t=>`grid-xl-${t}`)]),sK=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ya(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function iK({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=x2({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${Ya(u)})`;c={flexBasis:d,maxWidth:d}}}i=G({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function oK({theme:t,ownerState:e}){const n=x2({values:e.direction,breakpoints:t.breakpoints.values});return kr({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Mu.item}`]={maxWidth:"none"}),s})}function Qb({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function aK({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=x2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=Qb({breakpoints:t.breakpoints.values,values:i})),s=kr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Ya(u)}`,[`& > .${Mu.item}`]:{paddingTop:Ya(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Mu.item}`]:{paddingTop:0}}})}return s}function lK({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=x2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=Qb({breakpoints:t.breakpoints.values,values:i})),s=kr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Ya(u)})`,marginLeft:`-${Ya(u)}`,[`& > .${Mu.item}`]:{paddingLeft:Ya(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Mu.item}`]:{paddingLeft:0}}})}return s}function cK(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const uK=Ln("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=cK(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>G({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),oK,aK,lK,iK);function dK(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const hK=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=dK(i,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Zr(d,eK,e)},fK=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiGrid"}),{breakpoints:s}=ZH(),i=f_(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:g=0,wrap:y="wrap",zeroMinWidth:w=!1}=i,m=Mt(i,sK),v=p||g,_=l||g,x=C.useContext(Dx),A=u?a||12:x,I={},S=G({},m);s.keys.forEach(b=>{m[b]!=null&&(I[b]=m[b],delete S[b])});const E=G({},i,{columns:A,container:u,direction:d,item:h,rowSpacing:v,columnSpacing:_,wrap:y,zeroMinWidth:w,spacing:g},I,{breakpoints:s.keys}),T=hK(E);return f.jsx(Dx.Provider,{value:A,children:f.jsx(uK,G({ownerState:E,className:_t(T.root,o),as:c,ref:n},S))})}),Xa=fK;function pK(t){return Mr("MuiToolbar",t)}Or("MuiToolbar",["root","gutters","regular","dense"]);const mK=["className","component","disableGutters","variant"],gK=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Zr({root:["root",!n&&"gutters",r]},pK,e)},yK=Ln("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>G({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),vK=C.forwardRef(function(e,n){const r=jr({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=Mt(r,mK),c=G({},r,{component:i,disableGutters:o,variant:a}),u=gK(c);return f.jsx(yK,G({as:i,className:_t(u.root,s),ref:n,ownerState:c},l))}),_K=vK,wK=({data:t})=>{const{isMenuOpen:e,setIsMenuOpen:n,homeActive:r,historyActive:s,helpActive:i,notificationActive:o,chatroomActive:a,adminActive:l}=t,c=C.useRef(null),{theme:u,userData:d,newMessages:h}=C.useContext(ee),p=()=>{let m=0;return h.forEach(v=>{N0(h,v.id)||(m+=1)}),!!(m>0&&(d!=null&&d.name))},g=[{text:"Home",image:"home",path:"/app/posts",active:r,clickFn:()=>n(!1)},{text:"History",image:"history",path:"/app/history",active:s,clickFn:()=>n(!1)},{text:"Help",image:"help",path:"/app/help",active:i,clickFn:()=>n(!1)},{text:"Notifications",image:"notification",path:"/app/notifications",color:"bg-red-600",active:o,clickFn:()=>n(!1)},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:a,clickFn:()=>n(!1)},{text:"Admin",image:"admin",path:"/app/admin",active:l,clickFn:()=>n(!1)}],y=["Admin","Notifications"],w=g.filter(m=>d.isAdmin?!0:!y.includes(m.text));return Ts(c,n),f.jsx("div",{className:"z-30 transition-all duration-300 fixed right-0 left-0  top-0 bottom-0 bg-black/40",children:f.jsxs("div",{ref:c,className:"relative flex flex-col nbackdrop-blur-sm  justify-between transition-all duration-300 h-full w-5/6 sm:w-3/5 md:w-3/6 lg:w-2/6 shadow-lg shadow-black bg-white text-black",children:[f.jsxs("div",{children:[f.jsx("div",{className:"flex p-2 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(V2,{onClick:()=>n(!1),children:f.jsx("img",{className:"w-8",src:le("close")})}),f.jsx(oo,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsx("div",{className:"mr-2",children:w.map(m=>f.jsx(xK,{data:{active:m.active,image:m.image,path:m.path,text:m.text,items:m==null?void 0:m.items,clickFn:m.clickFn,color:m.color,isThereNewMessages:p}},m.text))})]}),f.jsx(yz,{data:{setIsMenuOpen:n}})]})})},xK=({data:t})=>{const{active:e,image:n,text:r,items:s,path:i,clickFn:o,color:a,isThereNewMessages:l}=t,c=ur(),{theme:u,currentTest:d}=C.useContext(ee),h=()=>{o&&o()};return f.jsxs("button",{onClick:()=>{c(i),h()},className:`relative p-2 pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      ${u==="light"?` ${e?"bg-blue-500/70":"hover:bg-slate-200/70"}`:` ${e?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[f.jsx("img",{className:`h-9 w-9 p-1 transition-all
        `,src:le(n)}),f.jsx("div",{children:r}),s>=0&&f.jsx("div",{className:` flex items-center rounded-full justify-center w-6 h-6 text-sm  top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}),d&&r==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",Is(d.name,45),")"]}),r==="Chat Room"&&(l()?f.jsx("div",{className:"absolute left-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},EK=()=>{const{headerTitle:t,newMessages:e,userData:n,theme:r,setTheme:s,isLogin:i,setHeaderTitle:o}=C.useContext(ee),[a,l]=C.useState(!1),c=Ol(),u=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],d=["/app/posts","/app/tests"],h=c.pathname.includes("/app/history"),p=u.includes(c.pathname),g=d.includes(c.pathname),y=c.pathname==="/app/help",w=c.pathname==="/app/settings",m=c.pathname==="/login",v=c.pathname==="/app/notifications",_=c.pathname==="/app/chatroom";if(h)o("History");else if(y)o("Help");else if(p)switch(c.pathname){case"/app/admin":o("Admin");break;case"/app/admin/posts":o("Admin - Posts");break;case"/app/admin/users":o("Admin - Users");break;case"/app/admin/tests":o("Admin - Tests");break;case"/app/admin/help":o("Admin - Help");break}else w?o("Settings"):(m||g)&&o("STAR EDUCATION ACADEMY");return C.useEffect(()=>{xt(a?"hidden":"auto")},[a]),f.jsx(xG,{position:"sticky",sx:{zIndex:"20"},children:f.jsx(_K,{sx:{padding:"5px",backgroundColor:"white"},children:f.jsxs(Xa,{container:!0,justifyContent:"space-between",children:[f.jsxs(Xa,{item:!0,display:"flex",alignItems:"center",children:[i&&f.jsxs(f.Fragment,{children:[f.jsxs(V2,{sx:{position:"relative"},onClick:()=>l(!0),children:[f.jsx("img",{className:"w-8",src:le("menu")}),nV(e,n)?f.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]}),a&&f.jsx(wK,{data:{homeActive:g,historyActive:h,helpActive:y,notificationActive:v,chatroomActive:_,adminActive:p,isMenuOpen:a,setIsMenuOpen:l}})]}),f.jsx(oo,{sx:{fontWeight:"bold",color:"black"},children:t})]}),f.jsx(Xa,{item:!0,children:f.jsx("div",{className:"flex gap-x-2 items-center",children:f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},Aa=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),CK=()=>{var y;const{theme:t,userData:e}=C.useContext(ee),n=0,r=10,[s,i]=C.useState(r),[o,a]=C.useState(!1),[l,c]=C.useState({}),u=(y=l==null?void 0:l.results)==null?void 0:y.slice(n,s),d=`${l==null?void 0:l.testName} - Review your answers`,{resultId:h}=Yv(),p=()=>{try{const w=Ge(oe(ye,"users",e.uid),"history"),m=oe(w,h);return Hn(m,_=>{const x={id:_.id,..._.data()};c(x)})}catch(w){console.log(w.message)}};C.useEffect(()=>{const w=p();return()=>{w()}},[h]),C.useEffect(()=>(rr(),rr()),[]);const g=()=>{i(s+r)};return C.useEffect(()=>{var w;s>=((w=l==null?void 0:l.results)==null?void 0:w.length)&&a(!0)},[s]),document.title=d,f.jsxs("div",{className:"p-5",children:[f.jsx(Jr,{}),l?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:d}),u==null?void 0:u.map(w=>{const{id:m,question:v,isTrue:_,answer:x,userAnswer:A}=w;return _?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:m}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:v})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:le("trueIcon")}),f.jsx("div",{children:x})]})]})}),f.jsx(Aa,{})]},`result-${m}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:m}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:v})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:le("falseIcon")}),f.jsx("div",{children:A})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:le("trueIcon")}),f.jsx("div",{children:x})]})]})]}),f.jsx(Aa,{})]},`result-${m}`)}),o?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(We,{data:{image:"down",text:"See More",clickFn:g}})}),f.jsx("div",{children:f.jsx(oz,{to:`/app/history/${h}`,children:f.jsx(We,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(Jv,{text:"Unavailable"})]})},TK=()=>{const{deleteFromHistory:t,theme:e,history:n,setHistory:r,userData:s,historyLastDoc:i,setHistoryLastDoc:o}=C.useContext(ee),a=ur(),[l,c]=C.useState(null),[u,d]=C.useState(!1),[h,p]=C.useState(!1),[g,y]=C.useState(!1),[w,m]=C.useState([]);C.useState(null);const v=()=>{try{const E=Ge(oe(ye,"users",s.uid),"history");return Hn(E,b=>{const P=b.docs.map(N=>({id:N.id,...N.data()}));P.length!==0&&r(P)})}catch(E){return console.log(E.message),()=>{}}};C.useEffect(()=>{rr();const E=v();return()=>{rr(),E()}},[]);const _=E=>{g||a(`/app/history/${E.id}`)},x=()=>{t(l),c(null),d(!1)},A=()=>{d(!1),c(null)},I=(E,T)=>{E.target.checked?m([...w,T]):m(w.filter(b=>b!==T))},S=()=>{const E=n.filter(T=>!w.includes(T.id));r(E),m([]),p(!1),y(!1)};return n2("history-page"),r2("history-page"),f.jsxs("div",{className:"p-5",children:[f.jsx(Jr,{}),h&&f.jsx(Vo,{data:{text:`Are you sure to delete ${w.length} ${w.length<=1?"item":"items"} ?`,yesButton:S,noButton:()=>p(!1),setValue:p}}),u&&f.jsx(Vo,{data:{text:"Are you sure to delete ?",yesButton:x,noButton:A,setValue:d}}),n.length!==0?f.jsxs("div",{className:"grid gap-y-2  ",children:[f.jsxs("div",{className:"flex items-center gap-x-2 justify-between",children:[f.jsx(We,{data:{clickFn:()=>{y(!g),m([])},text:g?"Done":"Select"}}),g&&f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsxs("div",{className:"font-medium rounded-lg",children:[w.length," ",w.length<=1?"item":"items"," selected"]}),f.jsx(Be,{data:{clickFn:()=>{w.length&&p(!0)},image:"trash"}})]})]}),n.map((E,T)=>f.jsxs("div",{className:`min-h-20 border rounded-md gap-x-3 ${e==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium border-b p-2 rounded-tl-md rounded-tr-md ${e==="light"?"bg-slate-100 border-b-slate-200":"bg-slate-500/70 border-b-slate-400"}`,children:E.testName}),f.jsxs("div",{className:"p-2 flex items-center gap-x-2",children:[g&&f.jsx("input",{checked:w.includes(E.id),onChange:b=>I(b,E.id),className:"form-checkbox rounded-lg border-2 w-6 h-6 border-gray-200 checked:bg-transparent ",type:"checkbox"}),f.jsx("div",{onClick:()=>_(E),className:"flex flex-1 items-center gap-x-3 cursor-pointer",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",E.score," / ",E.results.length," "]}),f.jsxs("div",{className:"",children:["Message: ",Is(E.level,15)]}),f.jsxs("div",{className:" ",children:["Date: ",E.date," (",` ${E.time}`,")"]}),f.jsxs("div",{className:"",children:["Time taken: ",HI(E.timeTaken)||"Unknown"]})]})}),!1]})]},`shadow-md history-item-${E.id}`))]}):f.jsx("p",{children:"No items"})]})},IK=()=>{const[t,e]=C.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return C.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},bK=()=>{const{users:t,theme:e}=C.useContext(ee),n=ur(),r=[{name:"Posts",image:"home",path:"/app/admin/posts"},{name:"Tests",image:"exam",path:"/app/admin/tests"},{name:"Users",image:"user",path:"/app/admin/users"}];return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx(Jr,{}),r.map(s=>f.jsxs("button",{onClick:()=>{n(s.path)},className:`transition-all flex items-center gap-x-2 border  p-2 rounded-lg hover:shadow-md  hover:font-bold min-h-[70px] ${e==="light"?"border-gray-200 hover:bg-slate-100 hover:shadow-gray-500 ":"border-slate-500/70 hover:bg-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:le(s.image)}),f.jsx("div",{children:s.name})]},s.name))]})},SK=["January","February","March","April","May","June","July","August","September","October","November","December"];function Zo(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),g=`${SK[h]} ${p}, ${d}`;if(c>0)return g;if(l>0)return`${g}`;if(a>0)return`${g}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(i>0)return`${i} ${i===1?"hour":"hours"} ago`;if(s>0)return`${s} ${s===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const AK=({options:t,moreOptionRef:e,handleClick:n,message:r,chatId:s,isComment:i})=>{const o=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}];C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]);const a=async l=>{const c=oe(Ge(oe(Ge(oe(ye,"chats",s),"messages"),r.id),"reactedBy"),J.currentUser.uid);await Ba(c,{uid:J.currentUser.uid,reactionType:l})};return f.jsx("div",{className:"z-30 bg-black/50 p-2 fixed bottom-[-8px] top-0 left-[-8px] right-[-8px] flex items-end justify-center",children:f.jsxs("div",{ref:e,className:"h-[40%] w-full bg-slate-200 md:w-[60%]",children:[i?f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):f.jsx("div",{className:" flex gap-x-1 bg-slate-50 rounded-md p-1",children:o.map(l=>f.jsx(V2,{onClick:()=>{n(),a(l.name)},children:f.jsx("img",{className:"w-6",src:le(l.image)})},l.name))}),f.jsx("div",{className:"grid gap-y-1",children:t.map(l=>{if(l)return f.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-300",onClick:()=>{l.onClick(),n()},children:[f.jsx("img",{className:"w-6",src:le(l.icon)}),f.jsx("p",{children:l.text})]},l.text)})})]})})},z2=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:s})=>{const[i,o]=C.useState(!1),{theme:a}=C.useContext(ee),l=C.useRef(null);Ts(l,o);const c=()=>{o(!0)};return f.jsxs(f.Fragment,{children:[f.jsx("button",{className:`relative rounded-full p-1 ${a==="light"?"bg-slate-100":"bg-slate-500/70"}`,onClick:c,children:f.jsx("img",{className:"w-6",src:le("moreOption")})}),i&&f.jsx(AK,{handleClick:()=>{o(!1)},moreOptionRef:l,options:t,message:n,chatId:r,isComment:s})]})},RK=["January","February","March","April","May","June","July","August","September","October","November","December"],kK=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Fi(t){const e=new Date().getTime(),n=new Date,r=e-t,s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),h=d.getFullYear(),p=d.getMonth(),g=d.getDate(),y=kK[d.getDay()],m=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,v=RK[p],_=`${v} ${g}, ${h}`,x=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${x}  ${_}`;if(c>0)return`${x}  ${v} ${g}`;if(l>0)return`${y}, ${x}  ${v} ${g}`;if(a>0)return`${m?"Yesterday":y}, ${x}`;if(o>0)return`${m?"Yesterday, ":""}${x}`;if(i>0)return x;if(s>0)return x}function Pr(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}function ar(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Yb=({post:t,collectionName:e})=>{const{id:n}=t,[r,s]=C.useState([]),[i,o]=C.useState([]),{users:a,theme:l}=C.useContext(ee),[c,u]=C.useState(!1),[d,h]=C.useState(!1),p=e==="posts",g=Ge(oe(ye,e,n),"comments"),y=Ge(oe(ye,e,n),"likes"),w=()=>Hn(y,S=>{const E=S.docs.map(T=>({id:T.id,...T.data()})).sort((T,b)=>Pr(T,b,"timestamp","newer"));s(E)}),m=()=>Hn(g,S=>{const E=S.docs.map(T=>({id:T.id,...T.data()})).sort((T,b)=>Pr(T,b,"timestamp"));o(E)});C.useEffect(()=>{const I=w(),S=m();return()=>{I(),S()}},[]);const v=()=>{let I=!1;return r.forEach(S=>{var E;S.uid===((E=J==null?void 0:J.currentUser)==null?void 0:E.uid)&&(I=!0)}),I},_=async()=>{try{const I=oe(y,J.currentUser.uid),S=v(),E={uid:J.currentUser.uid,timestamp:Fn()};S?await Ri(I):(await Ba(I,E),Xv(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(I){console.log(I.message)}},x=v(),A=()=>{var S;return Gn(a,(S=r[0])==null?void 0:S.uid)||null};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between",children:[f.jsx("button",{onClick:()=>{u(!c),h(!1)},className:`transition-all ${l==="light"?`${c?"bg-slate-200":"hover:bg-slate-200"}`:`${c?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:A()?f.jsx("span",{children:r.length===1?A().name:`${A().name} and ${r.length-1} others`}):f.jsxs("span",{children:[r.length," ",r.length>1?"likes":"like"]})}),f.jsxs("button",{onClick:()=>{h(!d),u(!1)},className:`transition-all ${l==="light"?`${d?"bg-slate-200":"hover:bg-slate-200"}`:`${d?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[i.length," ",i.length>1?"comments":"comment"]})]}),f.jsxs("div",{className:`border-t pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(_l,{variant:x?"outlined":"",color:l!=="light"?"warning":"primary",onClick:_,startIcon:f.jsx("img",{className:"w-6",src:le(x?"liked":"like")}),children:x?"Liked":"Like"}),f.jsx(_l,{color:l!=="light"?"warning":"primary",onClick:()=>{h(!d),u(!1)},startIcon:f.jsx("img",{className:"w-6",src:le("comment")}),children:"Comment"})]}),c&&f.jsx(NK,{likes:r,users:a}),d&&f.jsx(PK,{isPost:p,post:t,id:n,comments:i,collectionName:e})]})},NK=({likes:t})=>{const{users:e}=C.useContext(ee);return f.jsx("div",{className:"mt-2 grid gap-y-2",children:t.map(n=>{const r=Gn(e,n.uid);return f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(dr,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{children:r==null?void 0:r.name})]},`user-${r==null?void 0:r.uid}`)})})},PK=({post:t,isPost:e,comments:n,id:r,collectionName:s})=>{const[i,o]=C.useState(""),{users:a,theme:l,userData:c}=C.useContext(ee),u=Ge(oe(ye,s,r),"comments"),[d,h]=C.useState(null),p=async()=>{if(i.trim()){const w={uid:J.currentUser.uid,text:i.trim(),timestamp:Fn()};await Ko(u,w),o(""),Xv(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,i.trim())}},g=async()=>{const w=oe(u,d);if(i.trim()){const m={text:i.trim(),editedTime:Fn()};await $t(w,m),o(""),h(null)}},y=async w=>{const m=oe(u,w);try{await Ri(m)}catch(v){console.log(v.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"grid gap-y-2",children:n.map(w=>{var x;const m=Gn(a,w.uid);console.log(m);const v=w.uid===((x=J==null?void 0:J.currentUser)==null?void 0:x.uid),_=v&&{text:"Edit",icon:"editPencil",onClick:()=>{h(w.id),o(w.text)}};return f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(dr,{image:m==null?void 0:m.image,name:m==null?void 0:m.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2  rounded-lg ${l==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:m==null?void 0:m.name}),f.jsx("div",{children:w.text})]}),f.jsx("div",{className:`text-sm mt-1 ${l==="light"?"text-gray-600":"text-white"}`,children:w!=null&&w.editedTime?f.jsxs("span",{children:["edited ",Fi(ar(w.editedTime))]}):f.jsx("span",{children:Fi(ar(w.timestamp))})})]})]}),v||c!=null&&c.isAdmin?f.jsx(z2,{options:[_,{text:"Delete",icon:"deleteIcon",onClick:()=>y(w.id)}],isComment:!0}):""]},`${w.uid}-${w.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:w=>o(w.target.value),value:i,className:`h-10 flex-1 rounded-lg pl-2 border ${l==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[d&&f.jsx(We,{data:{image:"falseIcon",clickFn:()=>{h(null),o("")}}}),f.jsx(We,{data:{clickFn:()=>{i.trim()&&(d?g():p())},image:"send"}})]})]})]})},LK=({t,takeTest:e})=>{const{users:n,theme:r}=C.useContext(ee),s=Gn(n,t.uid);return f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-md  rounded-md bg-gradient-to-tr ${r==="light"?"border-blue-200 shadow-gray-200":"border-blue-200 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:s.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:s.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500 ":"text-white"}`,children:Zo(ar(t.time))})]}),f.jsxs("span",{className:`rounded-md flex items-center p-1 ${r==="light"?"bg-slate-100 ":"bg-slate-500/70 "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&f.jsx("div",{className:"m-2 min-h-32",children:f.jsx("img",{className:"w-full",src:`images/tests/${t.image}`})}),f.jsxs("div",{className:`rounded-bl-lg rounded-br-lg border-t  p-2 pb-5 ${r==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:t.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),f.jsx(_l,{onClick:()=>e(t),children:"Take the test"}),f.jsx(Yb,{post:t,collectionName:"tests"})]})]})},jx=({text:t})=>{const{theme:e}=C.useContext(ee);return f.jsx("div",{className:"h-[300px] flex flex-col justify-center items-center",children:f.jsx("p",{className:`text-center ${e==="light"?"":"text-white"}`,children:t})})},MK=()=>{const{setCurrentTest:t,startTimer:e,users:n,theme:r,isLogin:s,posts:i,setPosts:o,tests:a,setTests:l}=C.useContext(ee),{page:c}=Yv(),u=Ol(),d=ur(),h=u.pathname==="/app/posts",p=u.pathname==="/app/tests";C.useState(!0),C.useState(!0);const g=[{name:"Posts",active:h,image:"home",path:"/app/posts"},{name:"Tests",active:p,image:"exam",path:"/app/tests"}];Uo("posts",o,s),Uo("tests",l,s);const y=m=>{scrollTo({top:0}),t(m),e()};n2("home-page"),r2("home-page");const w=()=>{switch(c){case"posts":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:i.length===0?f.jsx(jx,{text:"No posts"}):i.sort((m,v)=>Pr(m,v,"time","newer")).map(m=>{var _,x;const v=Gn(n,m.uid);if(!m.draft)return f.jsxs(e1,{sx:{width:"full",padding:"8px",backgroundColor:"white",color:r!=="light"?"white":"black"},children:[f.jsxs("div",{className:"top-section flex gap-x-2 mb-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:v==null?void 0:v.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:v==null?void 0:v.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500":"text-white"}`,children:Zo(ar(m.time))})]})]}),(m==null?void 0:m.description)&&f.jsx("p",{className:"mb-2 break-words whitespace-pre-wrap",children:m.description}),m.images.length!==0&&f.jsx("div",{className:"image grid gap-y-2",children:f.jsx(OK,{data:{post:m}})}),m.files&&((_=m==null?void 0:m.files)==null?void 0:_.length)!==0&&f.jsx(DK,{files:m.files}),(m==null?void 0:m.links)&&((x=m==null?void 0:m.links)==null?void 0:x.length)!==0&&f.jsx(jK,{links:m.links}),f.jsx(Yb,{post:m,collectionName:"posts"})]},`post-${m.id}`)})});case"tests":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:a.length===0?f.jsx(jx,{text:"No tests"}):a.sort((m,v)=>Pr(m,v,"timestamp","newer")).map(m=>{if(m.isUploaded)return f.jsx(LK,{t:m,takeTest:y},`tests-${m.id}-${m.name}`)})})}};return f.jsxs("div",{children:[f.jsx(Jr,{}),f.jsxs("div",{className:"grid pb-5 pl-2 pr-2",children:[f.jsx("div",{className:"flex mb-2 justify-center ",children:f.jsx(e1,{justify:"center",sx:{backgroundColor:"white"},children:f.jsx(WG,{children:g.map(m=>f.jsx(_l,{color:"primary",onClick:()=>d(m.path),variant:m.active?"contained":"",startIcon:f.jsx("img",{className:"w-6",src:le(m.image)}),children:m.name},m.name))})})}),w()]})]})},OK=({data:t})=>{const{post:e}=t,n=0,[r,s]=C.useState(4),[i,o]=C.useState(!0),a=e.images.slice(n,r),l=e.images.length-4,c=()=>{o(!1),s(e.images.length)};return a.map((u,d)=>f.jsxs("div",{className:"relative ",children:[f.jsx("img",{className:"w-full shadow-md min-h-48",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&i&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-8xl text-white",children:["+",l]})}):""]},`post-${e.id}-image-${u.imageURL}`))},DK=({files:t})=>{const{theme:e}=C.useContext(ee);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.fileURL,download:n.name,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:le("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:n.name}),(n==null?void 0:n.size)&&f.jsxs("p",{children:[(n.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${r}-${n.fileURL}`))})},jK=({links:t})=>{const{theme:e}=C.useContext(ee);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.link,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex ga-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:le("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:n.title})})]})},`${r}-${n.link}`))})},$K=()=>{const e=new Date().getFullYear(),{theme:n}=C.useContext(ee);return f.jsxs("footer",{className:`w-full flex flex-col items-center p-1 bg-white border-t  mt-auto ${n==="light"?"border-t-gray-100":"bg-slate-600 text-white border-t-slate-500"}`,children:[f.jsxs("div",{children:["SEA copyright 2015 - ",e]}),f.jsx("div",{children:"All rights reserved."}),f.jsx("div",{children:"Author: Than Aung Naing"})]})},j0=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),FK=({data:t})=>{const{isLogin:e,refreshUserData:n,setHeaderTitle:r,theme:s}=C.useContext(ee),[i,o]=C.useState(""),[a,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(null),[p,g]=C.useState("login"),y=ur();let w;document.title="Login",C.useEffect(()=>{e&&y("/"),r("STAR EDUCATION ACADEMY")},[]),xt("auto");const m=async(I,S,E,T)=>{try{const b=oe(ye,"users",J.currentUser.uid),P=await p9(b),N={name:I,email:S,password:E,image:T,isAdmin:!1,createdAt:Fn()};P.exists()||await Ba(b,N),n()}catch(b){console.log(b.message)}},v=async()=>{try{await tP(J,JU),m(J.currentUser.displayName,J.currentUser.email,"",J.currentUser.photoURL)}catch(I){clearTimeout(w),h(I.message),w=setTimeout(()=>{h(null)},3e3)}},_=async()=>{try{await kN(J,a,c)}catch(I){clearTimeout(w),h(I.message),w=setTimeout(()=>{h(null)},3e3)}},x=async()=>{try{await RN(J,a,c),m(i,a,c,null)}catch(I){clearTimeout(w),h(I.message),w=setTimeout(()=>{h(null)},3e3)}},A=()=>{switch(p){case"login":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":"text-white bg-slate-500/70 border-slate-500/70"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Log in"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(oc,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(oc,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(j0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:_,className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Log in"})]}),f.jsx($x,{}),f.jsx("div",{children:f.jsx(We,{data:{clickFn:v,image:"google",text:"Sign in with Google"}})}),f.jsx($x,{}),f.jsx("div",{children:f.jsx(We,{data:{clickFn:()=>g("signup"),text:"Create new Account"}})})]})]});case"signup":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Create new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(oc,{data:{type:"text",value:i,setValue:o,placeholder:"Enter your name"}}),f.jsx(oc,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(oc,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(j0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:()=>{i.trim()&&x()},className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Sign up"}),f.jsx("div",{children:f.jsx(We,{data:{clickFn:()=>g("login"),text:"Back",image:"back"}})})]})]})]})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(Jr,{}),A()]})},oc=({data:t})=>{const{value:e,setValue:n,placeholder:r,type:s}=t,{theme:i}=C.useContext(ee);return f.jsx("input",{type:s,value:e,onChange:o=>n(o.target.value),className:`h-10  pl-1 border rounded-lg   ${i==="light"?"border-gray-200 focus:outline-blue-500":"bg-slate-500/70 outline-none border-slate-500/70 text-white"}`,placeholder:r})},$x=()=>{const{theme:t}=C.useContext(ee);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})};function UK(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Xb(t,e){return new Promise(function(n,r){let s;return VK(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const VK=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=i.getUint32(c+4,u),h=c+d+2+12*i.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var $0={},zK={get exports(){return $0},set exports(t){$0=t}};(function(t){var e,n,r={};zK.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),g=a(u,l+=4);l+=4,l=g;for(var y=0;y<h;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var w=a(u,l+=4),m=o(u,l+=4),v=o(u,l+2),_=o(u,l+4);l+=6;var x=a(u,l+=8);l+=4,l+=m+v+_,r._readLocal(u,x,c,p,w,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var p=u(s,i+=8),g=u(s,i+=2);i+=2;var y=r.bin.readUTF8(s,i,p);if(i+=p,i+=g,c)o[y]={size:l,csize:a};else{var w=new Uint8Array(s.buffer,i);if(h==0)o[y]=new Uint8Array(w.buffer.slice(i,i+a));else{if(h!=8)throw"unknown compression method: "+h;var m=new Uint8Array(l);r.inflateRaw(w,m),o[y]=m}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var d=!r._noNeed(u)&&!i,h=s[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var g=new Uint8Array(o),y=0,w=[];for(var u in c){var m=c[u];w.push(y),y=r._writeHeader(g,y,u,m,0)}var v=0,_=y;for(var u in c)m=c[u],w.push(y),y=r._writeHeader(g,y,u,m,1,w[v++]);var x=y-_;return a(g,y,101010256),y+=4,l(g,y+=4,v),l(g,y+=2,v),a(g,y+=2,x),a(g,y+=4,_),y+=4,y+=2,g.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,h.length),u(s,i+=4,a.usize),d(s,i+=4,r.bin.sizeUTF8(o)),d(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,g=0,y=s.length;if(a==0){for(;h<y;)d(i,p,h+(P=Math.min(65535,y-h))==y?1:0),p=r.F._copyExact(s,h,P,i,p+8),h+=P;return p>>>3}var w=c.lits,m=c.strt,v=c.prev,_=0,x=0,A=0,I=0,S=0,E=0;for(y>2&&(m[E=r.F._hash(s,0)]=0),h=0;h<y;h++){if(S=E,h+1<y-2){E=r.F._hash(s,h+1);var T=h+1&32767;v[T]=m[E],m[E]=T}if(g<=h){(_>14e3||x>26697)&&y-h>100&&(g<h&&(w[_]=h-g,_+=2,g=h),p=r.F._writeBlock(h==y-1||g==y?1:0,w,_,I,s,A,h-A,i,p),_=x=I=0,A=h);var b=0;h<y-2&&(b=r.F._bestMatch(s,h,v,S,Math.min(l[2],y-h),l[3]));var P=b>>>16,N=65535&b;if(b!=0){N=65535&b;var M=u(P=b>>>16,c.of0);c.lhst[257+M]++;var L=u(N,c.df0);c.dhst[L]++,I+=c.exb[M]+c.dxb[L],w[_]=P<<23|h-g,w[_+1]=N<<16|M<<8|L,_+=2,g=h+P}else c.lhst[s[h]]++;x++}}for(A==h&&s.length!=0||(g<h&&(w[_]=h-g,_+=2,g=h),p=r.F._writeBlock(1,w,_,I,s,A,h-A,i,p),_=0,x=0,_=x=I=0,A=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(s,i-h))return 0;for(var p=0,g=0,y=Math.min(32767,i);h<=y&&--c!=0&&d!=u;){if(p==0||s[i+p]==s[i+p-h]){var w=r.F._howLong(s,i,h);if(w>p){if(g=h,(p=w)>=l)break;h+2<w&&(w=h+2);for(var m=0,v=0;v<w-2;v++){var _=i-h+v+32768&32767,x=_-o[_]+32768&32767;x>m&&(m=x,d=_)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|g},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,d,h){var p,g,y,w,m,v,_,x,A,I=r.F.U,S=r.F._putsF,E=r.F._putsE;I.lhst[256]++,g=(p=r.F.getTrees())[0],y=p[1],w=p[2],m=p[3],v=p[4],_=p[5],x=p[6],A=p[7];var T=32+(h+3&7?8-(h+3&7):0)+(u<<3),b=a+r.F.contSize(I.fltree,I.lhst)+r.F.contSize(I.fdtree,I.dhst),P=a+r.F.contSize(I.ltree,I.lhst)+r.F.contSize(I.dtree,I.dhst);P+=14+3*_+r.F.contSize(I.itree,I.ihst)+(2*I.ihst[16]+3*I.ihst[17]+7*I.ihst[18]);for(var N=0;N<286;N++)I.lhst[N]=0;for(N=0;N<30;N++)I.dhst[N]=0;for(N=0;N<19;N++)I.ihst[N]=0;var M=T<b&&T<P?0:b<P?1:2;if(S(d,h,s),S(d,h+1,M),h+=3,M==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var L,j;if(M==1&&(L=I.fltree,j=I.fdtree),M==2){r.F.makeCodes(I.ltree,g),r.F.revCodes(I.ltree,g),r.F.makeCodes(I.dtree,y),r.F.revCodes(I.dtree,y),r.F.makeCodes(I.itree,w),r.F.revCodes(I.itree,w),L=I.ltree,j=I.dtree,E(d,h,m-257),E(d,h+=5,v-1),E(d,h+=5,_-4),h+=4;for(var k=0;k<_;k++)E(d,h+3*k,I.itree[1+(I.ordr[k]<<1)]);h+=3*_,h=r.F._codeTiny(x,I.itree,d,h),h=r.F._codeTiny(A,I.itree,d,h)}for(var R=c,D=0;D<o;D+=2){for(var O=i[D],$=O>>>23,H=R+(8388607&O);R<H;)h=r.F._writeLit(l[R++],L,d,h);if($!=0){var B=i[D+1],K=B>>16,V=B>>8&255,F=255&B;E(d,h=r.F._writeLit(257+V,L,d,h),$-I.of0[V]),h+=I.exb[V],S(d,h=r.F._writeLit(F,j,d,h),K-I.df0[F]),h+=I.dxb[F],R+=$}}h=r.F._writeLit(256,L,d,h)}return h},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),d=0;d<a.length;d+=2)s.ihst[a[d]]++;for(d=0;d<c.length;d+=2)s.ihst[c[d]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,h,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,d=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&s[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&s[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}a.sort(function(x,A){return x.f-A.f});var g=a[0],y=a[1],w=0,m=1,v=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};m!=d-1;)g=w!=m&&(v==d||a[w].f<a[v].f)?a[w++]:a[v++],y=w!=m&&(v==d||a[w].f<a[v].f)?a[w++]:a[v++],a[m++]={lit:-1,f:g.f+y.f,l:g,r:y};var _=r.F.setDepth(a[m-1],0);for(_>o&&(r.F.restrictDepth(h,o,_),_=o),u=0;u<d;u++)i[1+(h[u].lit<<1)]=h[u].d;return _},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,g=a.U,y=i==null;y&&(i=new o(s.length>>>2<<3));for(var w,m,v=0,_=0,x=0,A=0,I=0,S=0,E=0,T=0,b=0;v==0;)if(v=l(s,b,1),_=l(s,b+1,2),b+=3,_!=0){if(y&&(i=r.F._check(i,T+(1<<17))),_==1&&(w=g.flmap,m=g.fdmap,S=511,E=31),_==2){x=c(s,b,5)+257,A=c(s,b+5,5)+1,I=c(s,b+10,4)+4,b+=14;for(var P=0;P<38;P+=2)g.itree[P]=0,g.itree[P+1]=0;var N=1;for(P=0;P<I;P++){var M=c(s,b+3*P,3);g.itree[1+(g.ordr[P]<<1)]=M,M>N&&(N=M)}b+=3*I,d(g.itree,N),h(g.itree,N,g.imap),w=g.lmap,m=g.dmap,b=u(g.imap,(1<<N)-1,x+A,s,b,g.ttree);var L=a._copyOut(g.ttree,0,x,g.ltree);S=(1<<L)-1;var j=a._copyOut(g.ttree,x,A,g.dtree);E=(1<<j)-1,d(g.ltree,L),h(g.ltree,L,w),d(g.dtree,j),h(g.dtree,j,m)}for(;;){var k=w[p(s,b)&S];b+=15&k;var R=k>>>4;if(!(R>>>8))i[T++]=R;else{if(R==256)break;var D=T+R-254;if(R>264){var O=g.ldef[R-257];D=T+(O>>>3)+c(s,b,7&O),b+=7&O}var $=m[p(s,b)&E];b+=15&$;var H=$>>>4,B=g.ddef[H],K=(B>>>4)+l(s,b,15&B);for(b+=15&B,y&&(i=r.F._check(i,T+(1<<17)));T<D;)i[T]=i[T++-K],i[T]=i[T++-K],i[T]=i[T++-K],i[T]=i[T++-K];T=D}}}else{7&b&&(b+=8-(7&b));var V=4+(b>>>3),F=s[V-4]|s[V-3]<<8;y&&(i=r.F._check(i,T+F)),i.set(new o(s.buffer,s.byteOffset+V,F),T),b=V+F<<3,T+=F}return i.length==T?i:i.slice(0,T)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=s[d(a,l)&i];l+=15&p;var g=p>>>4;if(g<=15)c[h]=g,h++;else{var y=0,w=0;g==16?(w=3+u(a,l,2),l+=2,y=c[h-1]):g==17?(w=3+u(a,l,3),l+=3):g==18&&(w=11+u(a,l,7),l+=7);for(var m=h+w;h<m;)c[h]=y,h++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=s[c+i];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,d=s.length,h=u.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<d;p+=2)h[s[p]]++;var g=u.next_code;for(o=0,h[0]=0,a=1;a<=i;a++)o=o+h[a-1]<<1,g[a]=o;for(l=0;l<d;l+=2)(c=s[l+1])!=0&&(s[l]=g[c],g[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,d=s[c+1],h=u<<4|d,p=i-d,g=s[c]<<p,y=g+(1<<p);g!=y;)o[l[g]>>>15-i]=h,g++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var BK=UK({__proto__:null,default:$0},[$0]);const Ur=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let g=0;g<h;g++)p+=String.fromCharCode(u[d+g]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let g=0;g<h;g++)p.push(u[d+g]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,g="";for(let y=0;y<h;y++)g+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(g)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const g=d*h,y=i(p),w=Math.ceil(d*y/8),m=new Uint8Array(4*g),v=new Uint32Array(m.buffer),{ctype:_}=p,{depth:x}=p,A=t.readUshort;if(_==6){const O=g<<2;if(x==8)for(var I=0;I<O;I+=4)m[I]=u[I],m[I+1]=u[I+1],m[I+2]=u[I+2],m[I+3]=u[I+3];if(x==16)for(I=0;I<O;I++)m[I]=u[I<<1]}else if(_==2){const O=p.tabs.tRNS;if(O==null){if(x==8)for(I=0;I<g;I++){var S=3*I;v[I]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S]}if(x==16)for(I=0;I<g;I++)S=6*I,v[I]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S]}else{var E=O[0];const $=O[1],H=O[2];if(x==8)for(I=0;I<g;I++){var T=I<<2;S=3*I,v[I]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S],u[S]==E&&u[S+1]==$&&u[S+2]==H&&(m[T+3]=0)}if(x==16)for(I=0;I<g;I++)T=I<<2,S=6*I,v[I]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S],A(u,S)==E&&A(u,S+2)==$&&A(u,S+4)==H&&(m[T+3]=0)}}else if(_==3){const O=p.tabs.PLTE,$=p.tabs.tRNS,H=$?$.length:0;if(x==1)for(var b=0;b<h;b++){var P=b*w,N=b*d;for(I=0;I<d;I++){T=N+I<<2;var M=3*(L=u[P+(I>>3)]>>7-((7&I)<<0)&1);m[T]=O[M],m[T+1]=O[M+1],m[T+2]=O[M+2],m[T+3]=L<H?$[L]:255}}if(x==2)for(b=0;b<h;b++)for(P=b*w,N=b*d,I=0;I<d;I++)T=N+I<<2,M=3*(L=u[P+(I>>2)]>>6-((3&I)<<1)&3),m[T]=O[M],m[T+1]=O[M+1],m[T+2]=O[M+2],m[T+3]=L<H?$[L]:255;if(x==4)for(b=0;b<h;b++)for(P=b*w,N=b*d,I=0;I<d;I++)T=N+I<<2,M=3*(L=u[P+(I>>1)]>>4-((1&I)<<2)&15),m[T]=O[M],m[T+1]=O[M+1],m[T+2]=O[M+2],m[T+3]=L<H?$[L]:255;if(x==8)for(I=0;I<g;I++){var L;T=I<<2,M=3*(L=u[I]),m[T]=O[M],m[T+1]=O[M+1],m[T+2]=O[M+2],m[T+3]=L<H?$[L]:255}}else if(_==4){if(x==8)for(I=0;I<g;I++){T=I<<2;var j=u[k=I<<1];m[T]=j,m[T+1]=j,m[T+2]=j,m[T+3]=u[k+1]}if(x==16)for(I=0;I<g;I++){var k;T=I<<2,j=u[k=I<<2],m[T]=j,m[T+1]=j,m[T+2]=j,m[T+3]=u[k+2]}}else if(_==0)for(E=p.tabs.tRNS?p.tabs.tRNS:-1,b=0;b<h;b++){const O=b*w,$=b*d;if(x==1)for(var R=0;R<d;R++){var D=(j=255*(u[O+(R>>>3)]>>>7-(7&R)&1))==255*E?0:255;v[$+R]=D<<24|j<<16|j<<8|j}else if(x==2)for(R=0;R<d;R++)D=(j=85*(u[O+(R>>>2)]>>>6-((3&R)<<1)&3))==85*E?0:255,v[$+R]=D<<24|j<<16|j<<8|j;else if(x==4)for(R=0;R<d;R++)D=(j=17*(u[O+(R>>>1)]>>>4-((1&R)<<2)&15))==17*E?0:255,v[$+R]=D<<24|j<<16|j<<8|j;else if(x==8)for(R=0;R<d;R++)D=(j=u[O+R])==E?0:255,v[$+R]=D<<24|j<<16|j<<8|j;else if(x==16)for(R=0;R<d;R++)j=u[O+(R<<1)],D=A(u,O+(R<<1))==E?0:255,v[$+R]=D<<24|j<<16|j<<8|j}return m}function n(u,d,h,p){const g=i(u),y=Math.ceil(h*g/8),w=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?s(d,w):r(d,w),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(v,_){const x=_.width,A=_.height,I=i(_),S=I>>3,E=Math.ceil(x*I/8),T=new Uint8Array(A*E);let b=0;const P=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const R=M[j],D=L[j];let O=0,$=0,H=P[j];for(;H<A;)H+=R,$++;let B=N[j];for(;B<x;)B+=D,O++;const K=Math.ceil(O*I/8);o(v,_,b,O,$);let V=0,F=P[j];for(;F<A;){let te=N[j],pe=b+V*K<<3;for(;te<x;){var k;if(I==1&&(k=(k=v[pe>>3])>>7-(7&pe)&1,T[F*E+(te>>3)]|=k<<7-((7&te)<<0)),I==2&&(k=(k=v[pe>>3])>>6-(7&pe)&3,T[F*E+(te>>2)]|=k<<6-((3&te)<<1)),I==4&&(k=(k=v[pe>>3])>>4-(7&pe)&15,T[F*E+(te>>1)]|=k<<4-((1&te)<<2)),I>=8){const we=F*E+te*S;for(let ne=0;ne<S;ne++)T[we+ne]=v[(pe>>3)+ne]}pe+=I,te+=D}V++,F+=R}O*$!=0&&(b+=$*(1+K)),j+=1}return T}(d,u)),d}function r(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let g,y,w=0,m=0,v=0,_=0,x=0,A=0,I=0,S=0,E=0;if(d[0]==3&&d[1]==0)return h||new p(0);const T=u.H,b=T.b,P=T.e,N=T.R,M=T.n,L=T.A,j=T.Z,k=T.m,R=h==null;for(R&&(h=new p(d.length>>>2<<5));w==0;)if(w=b(d,E,1),m=b(d,E+1,2),E+=3,m!=0){if(R&&(h=u.H.W(h,S+(1<<17))),m==1&&(g=k.J,y=k.h,A=511,I=31),m==2){v=P(d,E,5)+257,_=P(d,E+5,5)+1,x=P(d,E+10,4)+4,E+=14;let O=1;for(var D=0;D<38;D+=2)k.Q[D]=0,k.Q[D+1]=0;for(D=0;D<x;D++){const B=P(d,E+3*D,3);k.Q[1+(k.X[D]<<1)]=B,B>O&&(O=B)}E+=3*x,M(k.Q,O),L(k.Q,O,k.u),g=k.w,y=k.d,E=N(k.u,(1<<O)-1,v+_,d,E,k.v);const $=T.V(k.v,0,v,k.C);A=(1<<$)-1;const H=T.V(k.v,v,_,k.D);I=(1<<H)-1,M(k.C,$),L(k.C,$,g),M(k.D,H),L(k.D,H,y)}for(;;){const O=g[j(d,E)&A];E+=15&O;const $=O>>>4;if(!($>>>8))h[S++]=$;else{if($==256)break;{let H=S+$-254;if($>264){const te=k.q[$-257];H=S+(te>>>3)+P(d,E,7&te),E+=7&te}const B=y[j(d,E)&I];E+=15&B;const K=B>>>4,V=k.c[K],F=(V>>>4)+b(d,E,15&V);for(E+=15&V;S<H;)h[S]=h[S++-F],h[S]=h[S++-F],h[S]=h[S++-F],h[S]=h[S++-F];S=H}}}}else{7&E&&(E+=8-(7&E));const O=4+(E>>>3),$=d[O-4]|d[O-3]<<8;R&&(h=u.H.W(h,S+$)),h.set(new p(d.buffer,d.byteOffset+O,$),S),E=O+$<<3,S+=$}return h.length==S?h:h.slice(0,S)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const g=new Uint8Array(p<<1);return g.set(d,0),g},u.H.R=function(d,h,p,g,y,w){const m=u.H.e,v=u.H.Z;let _=0;for(;_<p;){const x=d[v(g,y)&h];y+=15&x;const A=x>>>4;if(A<=15)w[_]=A,_++;else{let I=0,S=0;A==16?(S=3+m(g,y,2),y+=2,I=w[_-1]):A==17?(S=3+m(g,y,3),y+=3):A==18&&(S=11+m(g,y,7),y+=7);const E=_+S;for(;_<E;)w[_]=I,_++}}return y},u.H.V=function(d,h,p,g){let y=0,w=0;const m=g.length>>>1;for(;w<p;){const v=d[w+h];g[w<<1]=0,g[1+(w<<1)]=v,v>y&&(y=v),w++}for(;w<m;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},u.H.n=function(d,h){const p=u.H.m,g=d.length;let y,w,m,v;const _=p.j;for(var x=0;x<=h;x++)_[x]=0;for(x=1;x<g;x+=2)_[d[x]]++;const A=p.K;for(y=0,_[0]=0,w=1;w<=h;w++)y=y+_[w-1]<<1,A[w]=y;for(m=0;m<g;m+=2)v=d[m+1],v!=0&&(d[m]=A[v],A[v]++)},u.H.A=function(d,h,p){const g=d.length,y=u.H.m.r;for(let w=0;w<g;w+=2)if(d[w+1]!=0){const m=w>>1,v=d[w+1],_=m<<4|v,x=h-v;let A=d[w]<<x;const I=A+(1<<x);for(;A!=I;)p[y[A]>>>15-h]=_,A++}},u.H.l=function(d,h){const p=u.H.m.r,g=15-h;for(let y=0;y<d.length;y+=2){const w=d[y]<<h-d[y+1];d[y]=p[w]>>>g}},u.H.M=function(d,h,p){p<<=7&h;const g=h>>>3;d[g]|=p,d[g+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const g=h>>>3;d[g]|=p,d[g+1]|=p>>>8,d[g+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let g=h;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,d.r[h]=(g>>>16|g<<16)>>>17}function p(g,y,w){for(;y--!=0;)g.push(0,w)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,g){let y=i(d);const w=Math.ceil(p*y/8);let m,v;y=Math.ceil(y/8);let _=u[h],x=0;if(_>1&&(u[h]=[0,0,1][_-2]),_==3)for(x=y;x<w;x++)u[x+1]=u[x+1]+(u[x+1-y]>>>1)&255;for(let A=0;A<g;A++)if(m=h+A*w,v=m+A+1,_=u[v-1],x=0,_==0)for(;x<w;x++)u[m+x]=u[v+x];else if(_==1){for(;x<y;x++)u[m+x]=u[v+x];for(;x<w;x++)u[m+x]=u[v+x]+u[m+x-y]}else if(_==2)for(;x<w;x++)u[m+x]=u[v+x]+u[m+x-w];else if(_==3){for(;x<y;x++)u[m+x]=u[v+x]+(u[m+x-w]>>>1);for(;x<w;x++)u[m+x]=u[v+x]+(u[m+x-w]+u[m+x-y]>>>1)}else{for(;x<y;x++)u[m+x]=u[v+x]+a(0,u[m+x-w],0);for(;x<w;x++)u[m+x]=u[v+x]+a(u[m+x-y],u[m+x-w],u[m+x-y-w])}return u}function a(u,d,h){const p=u+d-h,g=p-u,y=p-d,w=p-h;return g*g<=y*y&&g*g<=w*w?u:y*y<=w*w?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,g,y,w,m,v){const _=Math.min(d,g),x=Math.min(h,y);let A=0,I=0;for(let j=0;j<x;j++)for(let k=0;k<_;k++)if(w>=0&&m>=0?(A=j*d+k<<2,I=(m+j)*g+w+k<<2):(A=(-m+j)*d-w+k<<2,I=j*g+k<<2),v==0)p[I]=u[A],p[I+1]=u[A+1],p[I+2]=u[A+2],p[I+3]=u[A+3];else if(v==1){var S=u[A+3]*.00392156862745098,E=u[A]*S,T=u[A+1]*S,b=u[A+2]*S,P=p[I+3]*(1/255),N=p[I]*P,M=p[I+1]*P,L=p[I+2]*P;const R=1-S,D=S+P*R,O=D==0?0:1/D;p[I+3]=255*D,p[I+0]=(E+N*R)*O,p[I+1]=(T+M*R)*O,p[I+2]=(b+L*R)*O}else if(v==2)S=u[A+3],E=u[A],T=u[A+1],b=u[A+2],P=p[I+3],N=p[I],M=p[I+1],L=p[I+2],S==P&&E==N&&T==M&&b==L?(p[I]=0,p[I+1]=0,p[I+2]=0,p[I+3]=0):(p[I]=E,p[I+1]=T,p[I+2]=b,p[I+3]=S);else if(v==3){if(S=u[A+3],E=u[A],T=u[A+1],b=u[A+2],P=p[I+3],N=p[I],M=p[I+1],L=p[I+2],S==P&&E==N&&T==M&&b==L)continue;if(S<220&&P>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const g=t,y=g.readUshort,w=g.readUint,m={tabs:{},frames:[]},v=new Uint8Array(h.length);let _,x=0,A=0;const I=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(h[S]!=I[S])throw"The input is not a PNG file!";for(;p<h.length;){const j=g.readUint(h,p);p+=4;const k=g.readASCII(h,p,4);if(p+=4,k=="IHDR")l(h,p,m);else if(k=="iCCP"){for(var E=p;h[E]!=0;)E++;g.readASCII(h,p,E-p),h[E+1];const R=h.slice(E+2,p+j);let D=null;try{D=r(R)}catch{D=s(R)}m.tabs[k]=D}else if(k=="CgBI")m.tabs[k]=h.slice(p,p+4);else if(k=="IDAT"){for(S=0;S<j;S++)v[x+S]=h[p+S];x+=j}else if(k=="acTL")m.tabs[k]={num_frames:w(h,p),num_plays:w(h,p+4)},_=new Uint8Array(h.length);else if(k=="fcTL"){A!=0&&((L=m.frames[m.frames.length-1]).data=n(m,_.slice(0,A),L.rect.width,L.rect.height),A=0);const R={x:w(h,p+12),y:w(h,p+16),width:w(h,p+4),height:w(h,p+8)};let D=y(h,p+22);D=y(h,p+20)/(D==0?100:D);const O={rect:R,delay:Math.round(1e3*D),dispose:h[p+24],blend:h[p+25]};m.frames.push(O)}else if(k=="fdAT"){for(S=0;S<j-4;S++)_[A+S]=h[p+S+4];A+=j-4}else if(k=="pHYs")m.tabs[k]=[g.readUint(h,p),g.readUint(h,p+4),h[p+8]];else if(k=="cHRM")for(m.tabs[k]=[],S=0;S<8;S++)m.tabs[k].push(g.readUint(h,p+4*S));else if(k=="tEXt"||k=="zTXt"){m.tabs[k]==null&&(m.tabs[k]={});var T=g.nextZero(h,p),b=g.readASCII(h,p,T-p),P=p+j-T-1;if(k=="tEXt")M=g.readASCII(h,T+1,P);else{var N=r(h.slice(T+2,T+2+P));M=g.readUTF8(N,0,N.length)}m.tabs[k][b]=M}else if(k=="iTXt"){m.tabs[k]==null&&(m.tabs[k]={}),T=0,E=p,T=g.nextZero(h,E),b=g.readASCII(h,E,T-E);const R=h[E=T+1];var M;h[E+1],E+=2,T=g.nextZero(h,E),g.readASCII(h,E,T-E),E=T+1,T=g.nextZero(h,E),g.readUTF8(h,E,T-E),P=j-((E=T+1)-p),R==0?M=g.readUTF8(h,E,P):(N=r(h.slice(E,E+P)),M=g.readUTF8(N,0,N.length)),m.tabs[k][b]=M}else if(k=="PLTE")m.tabs[k]=g.readBytes(h,p,j);else if(k=="hIST"){const R=m.tabs.PLTE.length/3;for(m.tabs[k]=[],S=0;S<R;S++)m.tabs[k].push(y(h,p+2*S))}else if(k=="tRNS")m.ctype==3?m.tabs[k]=g.readBytes(h,p,j):m.ctype==0?m.tabs[k]=y(h,p):m.ctype==2&&(m.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(k=="gAMA")m.tabs[k]=g.readUint(h,p)/1e5;else if(k=="sRGB")m.tabs[k]=h[p];else if(k=="bKGD")m.ctype==0||m.ctype==4?m.tabs[k]=[y(h,p)]:m.ctype==2||m.ctype==6?m.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]:m.ctype==3&&(m.tabs[k]=h[p]);else if(k=="IEND")break;p+=j,g.readUint(h,p),p+=4}var L;return A!=0&&((L=m.frames[m.frames.length-1]).data=n(m,_.slice(0,A),L.rect.width,L.rect.height)),m.data=n(m,v,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const g=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=h*p*4,w=new Uint8Array(y),m=new Uint8Array(y),v=new Uint8Array(y);for(let x=0;x<d.frames.length;x++){const A=d.frames[x],I=A.rect.x,S=A.rect.y,E=A.rect.width,T=A.rect.height,b=e(A.data,E,T,d);if(x!=0)for(var _=0;_<y;_++)v[_]=w[_];if(A.blend==0?c(b,E,T,w,h,p,I,S,0):A.blend==1&&c(b,E,T,w,h,p,I,S,1),g.push(w.buffer.slice(0)),A.dispose!=0){if(A.dispose==1)c(m,E,T,w,h,p,I,S,0);else if(A.dispose==2)for(_=0;_<y;_++)w[_]=v[_]}}return g},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Ur,{_bin:e}=Ur,n=Ur._paeth;var r={table:function(){const E=new Uint32Array(256);for(let T=0;T<256;T++){let b=T;for(let P=0;P<8;P++)1&b?b=3988292384^b>>>1:b>>>=1;E[T]=b}return E}(),update(E,T,b,P){for(let N=0;N<P;N++)E=r.table[255&(E^T[b+N])]^E>>>8;return E},crc:(E,T,b)=>4294967295^r.update(4294967295,E,T,b)};function s(E,T,b,P){T[b]+=E[0]*P>>4,T[b+1]+=E[1]*P>>4,T[b+2]+=E[2]*P>>4,T[b+3]+=E[3]*P>>4}function i(E){return Math.max(0,Math.min(255,E))}function o(E,T){const b=E[0]-T[0],P=E[1]-T[1],N=E[2]-T[2],M=E[3]-T[3];return b*b+P*P+N*N+M*M}function a(E,T,b,P,N,M,L){L==null&&(L=1);const j=P.length,k=[];for(var R=0;R<j;R++){const F=P[R];k.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(R=0;R<j;R++){let F=4294967295;for(var D=0,O=0;O<j;O++){var $=o(k[R],k[O]);O!=R&&$<F&&(F=$,D=O)}}const H=new Uint32Array(N.buffer),B=new Int16Array(T*b*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(R=0;R<K.length;R++)K[R]=255*((K[R]+.5)/16-.5);for(let F=0;F<b;F++)for(let te=0;te<T;te++){var V;R=4*(F*T+te),L!=2?V=[i(E[R]+B[R]),i(E[R+1]+B[R+1]),i(E[R+2]+B[R+2]),i(E[R+3]+B[R+3])]:($=K[4*(3&F)+(3&te)],V=[i(E[R]+$),i(E[R+1]+$),i(E[R+2]+$),i(E[R+3]+$)]),D=0;let pe=16777215;for(O=0;O<j;O++){const Ie=o(V,k[O]);Ie<pe&&(pe=Ie,D=O)}const we=k[D],ne=[V[0]-we[0],V[1]-we[1],V[2]-we[2],V[3]-we[3]];L==1&&(te!=T-1&&s(ne,B,R+4,7),F!=b-1&&(te!=0&&s(ne,B,R+4*T-4,3),s(ne,B,R+4*T,5),te!=T-1&&s(ne,B,R+4*T+4,1))),M[R>>2]=D,H[R>>2]=P[D]}}function l(E,T,b,P,N){N==null&&(N={});const{crc:M}=r,L=e.writeUint,j=e.writeUshort,k=e.writeASCII;let R=8;const D=E.frames.length>1;let O,$=!1,H=33+(D?20:0);if(N.sRGB!=null&&(H+=13),N.pHYs!=null&&(H+=21),N.iCCP!=null&&(O=pako.deflate(N.iCCP),H+=21+O.length+4),E.ctype==3){for(var B=E.plte.length,K=0;K<B;K++)E.plte[K]>>>24!=255&&($=!0);H+=8+3*B+4+($?8+1*B+4:0)}for(var V=0;V<E.frames.length;V++)D&&(H+=38),H+=(we=E.frames[V]).cimg.length+12,V!=0&&(H+=4);H+=12;const F=new Uint8Array(H),te=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)F[K]=te[K];if(L(F,R,13),R+=4,k(F,R,"IHDR"),R+=4,L(F,R,T),R+=4,L(F,R,b),R+=4,F[R]=E.depth,R++,F[R]=E.ctype,R++,F[R]=0,R++,F[R]=0,R++,F[R]=0,R++,L(F,R,M(F,R-17,17)),R+=4,N.sRGB!=null&&(L(F,R,1),R+=4,k(F,R,"sRGB"),R+=4,F[R]=N.sRGB,R++,L(F,R,M(F,R-5,5)),R+=4),N.iCCP!=null){const ne=13+O.length;L(F,R,ne),R+=4,k(F,R,"iCCP"),R+=4,k(F,R,"ICC profile"),R+=11,R+=2,F.set(O,R),R+=O.length,L(F,R,M(F,R-(ne+4),ne+4)),R+=4}if(N.pHYs!=null&&(L(F,R,9),R+=4,k(F,R,"pHYs"),R+=4,L(F,R,N.pHYs[0]),R+=4,L(F,R,N.pHYs[1]),R+=4,F[R]=N.pHYs[2],R++,L(F,R,M(F,R-13,13)),R+=4),D&&(L(F,R,8),R+=4,k(F,R,"acTL"),R+=4,L(F,R,E.frames.length),R+=4,L(F,R,N.loop!=null?N.loop:0),R+=4,L(F,R,M(F,R-12,12)),R+=4),E.ctype==3){for(L(F,R,3*(B=E.plte.length)),R+=4,k(F,R,"PLTE"),R+=4,K=0;K<B;K++){const ne=3*K,Ie=E.plte[K],Le=255&Ie,ke=Ie>>>8&255,In=Ie>>>16&255;F[R+ne+0]=Le,F[R+ne+1]=ke,F[R+ne+2]=In}if(R+=3*B,L(F,R,M(F,R-3*B-4,3*B+4)),R+=4,$){for(L(F,R,B),R+=4,k(F,R,"tRNS"),R+=4,K=0;K<B;K++)F[R+K]=E.plte[K]>>>24&255;R+=B,L(F,R,M(F,R-B-4,B+4)),R+=4}}let pe=0;for(V=0;V<E.frames.length;V++){var we=E.frames[V];D&&(L(F,R,26),R+=4,k(F,R,"fcTL"),R+=4,L(F,R,pe++),R+=4,L(F,R,we.rect.width),R+=4,L(F,R,we.rect.height),R+=4,L(F,R,we.rect.x),R+=4,L(F,R,we.rect.y),R+=4,j(F,R,P[V]),R+=2,j(F,R,1e3),R+=2,F[R]=we.dispose,R++,F[R]=we.blend,R++,L(F,R,M(F,R-30,30)),R+=4);const ne=we.cimg;L(F,R,(B=ne.length)+(V==0?0:4)),R+=4;const Ie=R;k(F,R,V==0?"IDAT":"fdAT"),R+=4,V!=0&&(L(F,R,pe++),R+=4),F.set(ne,R),R+=B,L(F,R,M(F,Ie,R-Ie)),R+=4}return L(F,R,0),R+=4,k(F,R,"IEND"),R+=4,L(F,R,M(F,R-4,4)),R+=4,F.buffer}function c(E,T,b){for(let P=0;P<E.frames.length;P++){const N=E.frames[P];N.rect.width;const M=N.rect.height,L=new Uint8Array(M*N.bpl+M);N.cimg=p(N.img,M,N.bpp,N.bpl,L,T,b)}}function u(E,T,b,P,N){const M=N[0],L=N[1],j=N[2],k=N[3],R=N[4],D=N[5];let O=6,$=8,H=255;for(var B=0;B<E.length;B++){const Ve=new Uint8Array(E[B]);for(var K=Ve.length,V=0;V<K;V+=4)H&=Ve[V+3]}const F=H!=255,te=function(Ne,$e,gt,yt,ze,Ot){const qe=[];for(var be=0;be<Ne.length;be++){const It=new Uint8Array(Ne[be]),Xt=new Uint32Array(It.buffer);var vt;let Jt=0,Kn=0,pr=$e,se=gt,fe=yt?1:0;if(be!=0){const st=Ot||yt||be==1||qe[be-2].dispose!=0?1:2;let Zt=0,$r=1e9;for(let Mn=0;Mn<st;Mn++){var fr=new Uint8Array(Ne[be-1-Mn]);const Fl=new Uint32Array(Ne[be-1-Mn]);let Qn=$e,Xs=gt,ea=-1,Ul=-1;for(let Ji=0;Ji<gt;Ji++)for(let Zi=0;Zi<$e;Zi++)Xt[Tt=Ji*$e+Zi]!=Fl[Tt]&&(Zi<Qn&&(Qn=Zi),Zi>ea&&(ea=Zi),Ji<Xs&&(Xs=Ji),Ji>Ul&&(Ul=Ji));ea==-1&&(Qn=Xs=ea=Ul=0),ze&&((1&Qn)==1&&Qn--,(1&Xs)==1&&Xs--);const S_=(ea-Qn+1)*(Ul-Xs+1);S_<$r&&($r=S_,Zt=Mn,Jt=Qn,Kn=Xs,pr=ea-Qn+1,se=Ul-Xs+1)}fr=new Uint8Array(Ne[be-1-Zt]),Zt==1&&(qe[be-1].dispose=2),vt=new Uint8Array(pr*se*4),t(fr,$e,gt,vt,pr,se,-Jt,-Kn,0),fe=t(It,$e,gt,vt,pr,se,-Jt,-Kn,3)?1:0,fe==1?h(It,$e,gt,vt,{x:Jt,y:Kn,width:pr,height:se}):t(It,$e,gt,vt,pr,se,-Jt,-Kn,0)}else vt=It.slice(0);qe.push({rect:{x:Jt,y:Kn,width:pr,height:se},img:vt,blend:fe,dispose:0})}if(yt)for(be=0;be<qe.length;be++){if((ie=qe[be]).blend==1)continue;const It=ie.rect,Xt=qe[be-1].rect,Jt=Math.min(It.x,Xt.x),Kn=Math.min(It.y,Xt.y),pr={x:Jt,y:Kn,width:Math.max(It.x+It.width,Xt.x+Xt.width)-Jt,height:Math.max(It.y+It.height,Xt.y+Xt.height)-Kn};qe[be-1].dispose=1,be-1!=0&&d(Ne,$e,gt,qe,be-1,pr,ze),d(Ne,$e,gt,qe,be,pr,ze)}let bs=0;if(Ne.length!=1)for(var Tt=0;Tt<qe.length;Tt++){var ie;bs+=(ie=qe[Tt]).rect.width*ie.rect.height}return qe}(E,T,b,M,L,j),pe={},we=[],ne=[];if(P!=0){const Ve=[];for(V=0;V<te.length;V++)Ve.push(te[V].img.buffer);const Ne=function(ze){let Ot=0;for(var qe=0;qe<ze.length;qe++)Ot+=ze[qe].byteLength;const be=new Uint8Array(Ot);let vt=0;for(qe=0;qe<ze.length;qe++){const fr=new Uint8Array(ze[qe]),bs=fr.length;for(let Tt=0;Tt<bs;Tt+=4){let ie=fr[Tt],It=fr[Tt+1],Xt=fr[Tt+2];const Jt=fr[Tt+3];Jt==0&&(ie=It=Xt=0),be[vt+Tt]=ie,be[vt+Tt+1]=It,be[vt+Tt+2]=Xt,be[vt+Tt+3]=Jt}vt+=bs}return be.buffer}(Ve),$e=y(Ne,P);for(V=0;V<$e.plte.length;V++)we.push($e.plte[V].est.rgba);let gt=0;for(V=0;V<te.length;V++){const yt=(Le=te[V]).img.length;var Ie=new Uint8Array($e.inds.buffer,gt>>2,yt>>2);ne.push(Ie);const ze=new Uint8Array($e.abuf,gt,yt);D&&a(Le.img,Le.rect.width,Le.rect.height,we,ze,Ie),Le.img.set(ze),gt+=yt}}else for(B=0;B<te.length;B++){var Le=te[B];const Ve=new Uint32Array(Le.img.buffer);var ke=Le.rect.width;for(K=Ve.length,Ie=new Uint8Array(K),ne.push(Ie),V=0;V<K;V++){const Ne=Ve[V];if(V!=0&&Ne==Ve[V-1])Ie[V]=Ie[V-1];else if(V>ke&&Ne==Ve[V-ke])Ie[V]=Ie[V-ke];else{let $e=pe[Ne];if($e==null&&(pe[Ne]=$e=we.length,we.push(Ne),we.length>=300))break;Ie[V]=$e}}}const In=we.length;for(In<=256&&R==0&&($=In<=2?1:In<=4?2:In<=16?4:8,$=Math.max($,k)),B=0;B<te.length;B++){(Le=te[B]).rect.x,Le.rect.y,ke=Le.rect.width;const Ve=Le.rect.height;let Ne=Le.img;new Uint32Array(Ne.buffer);let $e=4*ke,gt=4;if(In<=256&&R==0){$e=Math.ceil($*ke/8);var Yt=new Uint8Array($e*Ve);const yt=ne[B];for(let ze=0;ze<Ve;ze++){V=ze*$e;const Ot=ze*ke;if($==8)for(var Ue=0;Ue<ke;Ue++)Yt[V+Ue]=yt[Ot+Ue];else if($==4)for(Ue=0;Ue<ke;Ue++)Yt[V+(Ue>>1)]|=yt[Ot+Ue]<<4-4*(1&Ue);else if($==2)for(Ue=0;Ue<ke;Ue++)Yt[V+(Ue>>2)]|=yt[Ot+Ue]<<6-2*(3&Ue);else if($==1)for(Ue=0;Ue<ke;Ue++)Yt[V+(Ue>>3)]|=yt[Ot+Ue]<<7-1*(7&Ue)}Ne=Yt,O=3,gt=1}else if(F==0&&te.length==1){Yt=new Uint8Array(ke*Ve*3);const yt=ke*Ve;for(V=0;V<yt;V++){const ze=3*V,Ot=4*V;Yt[ze]=Ne[Ot],Yt[ze+1]=Ne[Ot+1],Yt[ze+2]=Ne[Ot+2]}Ne=Yt,O=2,gt=3,$e=3*ke}Le.img=Ne,Le.bpl=$e,Le.bpp=gt}return{ctype:O,depth:$,plte:we,frames:te}}function d(E,T,b,P,N,M,L){const j=Uint8Array,k=Uint32Array,R=new j(E[N-1]),D=new k(E[N-1]),O=N+1<E.length?new j(E[N+1]):null,$=new j(E[N]),H=new k($.buffer);let B=T,K=b,V=-1,F=-1;for(let pe=0;pe<M.height;pe++)for(let we=0;we<M.width;we++){const ne=M.x+we,Ie=M.y+pe,Le=Ie*T+ne,ke=H[Le];ke==0||P[N-1].dispose==0&&D[Le]==ke&&(O==null||O[4*Le+3]!=0)||(ne<B&&(B=ne),ne>V&&(V=ne),Ie<K&&(K=Ie),Ie>F&&(F=Ie))}V==-1&&(B=K=V=F=0),L&&((1&B)==1&&B--,(1&K)==1&&K--),M={x:B,y:K,width:V-B+1,height:F-K+1};const te=P[N];te.rect=M,te.blend=1,te.img=new Uint8Array(M.width*M.height*4),P[N-1].dispose==0?(t(R,T,b,te.img,M.width,M.height,-M.x,-M.y,0),h($,T,b,te.img,M)):t($,T,b,te.img,M.width,M.height,-M.x,-M.y,0)}function h(E,T,b,P,N){t(E,T,b,P,N.width,N.height,-N.x,-N.y,2)}function p(E,T,b,P,N,M,L){const j=[];let k,R=[0,1,2,3,4];M!=-1?R=[M]:(T*P>5e5||b==1)&&(R=[0]),L&&(k={level:0});const D=BK;for(var O=0;O<R.length;O++){for(let B=0;B<T;B++)g(N,E,B,P,b,R[O]);j.push(D.deflate(N,k))}let $,H=1e9;for(O=0;O<j.length;O++)j[O].length<H&&($=O,H=j[O].length);return j[$]}function g(E,T,b,P,N,M){const L=b*P;let j=L+b;if(E[j]=M,j++,M==0)if(P<500)for(var k=0;k<P;k++)E[j+k]=T[L+k];else E.set(new Uint8Array(T.buffer,L,P),j);else if(M==1){for(k=0;k<N;k++)E[j+k]=T[L+k];for(k=N;k<P;k++)E[j+k]=T[L+k]-T[L+k-N]+256&255}else if(b==0){for(k=0;k<N;k++)E[j+k]=T[L+k];if(M==2)for(k=N;k<P;k++)E[j+k]=T[L+k];if(M==3)for(k=N;k<P;k++)E[j+k]=T[L+k]-(T[L+k-N]>>1)+256&255;if(M==4)for(k=N;k<P;k++)E[j+k]=T[L+k]-n(T[L+k-N],0,0)+256&255}else{if(M==2)for(k=0;k<P;k++)E[j+k]=T[L+k]+256-T[L+k-P]&255;if(M==3){for(k=0;k<N;k++)E[j+k]=T[L+k]+256-(T[L+k-P]>>1)&255;for(k=N;k<P;k++)E[j+k]=T[L+k]+256-(T[L+k-P]+T[L+k-N]>>1)&255}if(M==4){for(k=0;k<N;k++)E[j+k]=T[L+k]+256-n(0,T[L+k-P],0)&255;for(k=N;k<P;k++)E[j+k]=T[L+k]+256-n(T[L+k-N],T[L+k-P],T[L+k-N-P])&255}}}function y(E,T){const b=new Uint8Array(E),P=b.slice(0),N=new Uint32Array(P.buffer),M=w(P,T),L=M[0],j=M[1],k=b.length,R=new Uint8Array(k>>2);let D;if(b.length<2e7)for(var O=0;O<k;O+=4)D=m(L,$=b[O]*(1/255),H=b[O+1]*(1/255),B=b[O+2]*(1/255),K=b[O+3]*(1/255)),R[O>>2]=D.ind,N[O>>2]=D.est.rgba;else for(O=0;O<k;O+=4){var $=b[O]*.00392156862745098,H=b[O+1]*(1/255),B=b[O+2]*(1/255),K=b[O+3]*(1/255);for(D=L;D.left;)D=v(D.est,$,H,B,K)<=0?D.left:D.right;R[O>>2]=D.ind,N[O>>2]=D.est.rgba}return{abuf:P.buffer,inds:R,plte:j}}function w(E,T,b){b==null&&(b=1e-4);const P=new Uint32Array(E.buffer),N={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=A(E,N.i0,N.i1),N.est=I(N.bst);const M=[N];for(;M.length<T;){let j=0,k=0;for(var L=0;L<M.length;L++)M[L].est.L>j&&(j=M[L].est.L,k=L);if(j<b)break;const R=M[k],D=_(E,P,R.i0,R.i1,R.est.e,R.est.eMq255);if(R.i0>=D||R.i1<=D){R.est.L=0;continue}const O={i0:R.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};O.bst=A(E,O.i0,O.i1),O.est=I(O.bst);const $={i0:D,i1:R.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:R.bst.N-O.bst.N},L=0;L<16;L++)$.bst.R[L]=R.bst.R[L]-O.bst.R[L];for(L=0;L<4;L++)$.bst.m[L]=R.bst.m[L]-O.bst.m[L];$.est=I($.bst),R.left=O,R.right=$,M[k]=O,M.push($)}for(M.sort((j,k)=>k.bst.N-j.bst.N),L=0;L<M.length;L++)M[L].ind=L;return[N,M]}function m(E,T,b,P,N){if(E.left==null)return E.tdst=function(O,$,H,B,K){const V=$-O[0],F=H-O[1],te=B-O[2],pe=K-O[3];return V*V+F*F+te*te+pe*pe}(E.est.q,T,b,P,N),E;const M=v(E.est,T,b,P,N);let L=E.left,j=E.right;M>0&&(L=E.right,j=E.left);const k=m(L,T,b,P,N);if(k.tdst<=M*M)return k;const R=m(j,T,b,P,N);return R.tdst<k.tdst?R:k}function v(E,T,b,P,N){const{e:M}=E;return M[0]*T+M[1]*b+M[2]*P+M[3]*N-E.eMq}function _(E,T,b,P,N,M){for(P-=4;b<P;){for(;x(E,b,N)<=M;)b+=4;for(;x(E,P,N)>M;)P-=4;if(b>=P)break;const L=T[b>>2];T[b>>2]=T[P>>2],T[P>>2]=L,b+=4,P-=4}for(;x(E,b,N)>M;)b-=4;return b+4}function x(E,T,b){return E[T]*b[0]+E[T+1]*b[1]+E[T+2]*b[2]+E[T+3]*b[3]}function A(E,T,b){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],M=b-T>>2;for(let L=T;L<b;L+=4){const j=E[L]*.00392156862745098,k=E[L+1]*(1/255),R=E[L+2]*(1/255),D=E[L+3]*(1/255);N[0]+=j,N[1]+=k,N[2]+=R,N[3]+=D,P[0]+=j*j,P[1]+=j*k,P[2]+=j*R,P[3]+=j*D,P[5]+=k*k,P[6]+=k*R,P[7]+=k*D,P[10]+=R*R,P[11]+=R*D,P[15]+=D*D}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:N,N:M}}function I(E){const{R:T}=E,{m:b}=E,{N:P}=E,N=b[0],M=b[1],L=b[2],j=b[3],k=P==0?0:1/P,R=[T[0]-N*N*k,T[1]-N*M*k,T[2]-N*L*k,T[3]-N*j*k,T[4]-M*N*k,T[5]-M*M*k,T[6]-M*L*k,T[7]-M*j*k,T[8]-L*N*k,T[9]-L*M*k,T[10]-L*L*k,T[11]-L*j*k,T[12]-j*N*k,T[13]-j*M*k,T[14]-j*L*k,T[15]-j*j*k],D=R,O=S;let $=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,B=0;if(P!=0)for(let V=0;V<16&&($=O.multVec(D,$),B=Math.sqrt(O.dot($,$)),$=O.sml(1/B,$),!(V!=0&&Math.abs(B-H)<1e-9));V++)H=B;const K=[N*k,M*k,L*k,j*k];return{Cov:R,q:K,e:$,L:H,eMq255:O.dot(O.sml(255,K),$),eMq:O.dot($,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var S={multVec:(E,T)=>[E[0]*T[0]+E[1]*T[1]+E[2]*T[2]+E[3]*T[3],E[4]*T[0]+E[5]*T[1]+E[6]*T[2]+E[7]*T[3],E[8]*T[0]+E[9]*T[1]+E[10]*T[2]+E[11]*T[3],E[12]*T[0]+E[13]*T[1]+E[14]*T[2]+E[15]*T[3]],dot:(E,T)=>E[0]*T[0]+E[1]*T[1]+E[2]*T[2]+E[3]*T[3],sml:(E,T)=>[E*T[0],E*T[1],E*T[2],E*T[3]]};Ur.encode=function(T,b,P,N,M,L,j){N==null&&(N=0),j==null&&(j=!1);const k=u(T,b,P,N,[!1,!1,!1,0,j,!1]);return c(k,-1),l(k,b,P,M,L)},Ur.encodeLL=function(T,b,P,N,M,L,j,k){const R={ctype:0+(N==1?0:2)+(M==0?0:4),depth:L,frames:[]},D=(N+M)*L,O=D*b;for(let $=0;$<T.length;$++)R.frames.push({rect:{x:0,y:0,width:b,height:P},img:new Uint8Array(T[$]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(O/8)});return c(R,0,!0),l(R,b,P,j,k)},Ur.encode.compress=u,Ur.encode.dither=a,Ur.quantize=y,Ur.quantize.getKDtree=w,Ur.quantize.getNearest=m})();const Jb={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,g,y,w,m=h,v=0,_=0,x=0;function A(E){d.setUint16(_,E,!0),_+=2}function I(E){d.setUint32(_,E,!0),_+=4}function S(E){_+=E}A(19778),I(c),S(4),I(122),I(108),I(n),I(-r>>>0),A(1),A(32),I(3),I(l),I(2835),I(2835),S(8),I(16711680),I(65280),I(255),I(4278190080),I(1466527264),function E(){for(;v<r&&m>0;){for(w=122+v*a,p=0;p<s;)m--,g=o[x++],y=g>>>24,d.setUint32(w+p,g<<8|y),p+=4;v++}x<o.length?(m=h,setTimeout(E,Jb._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Dn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},WK={[Dn.CHROME]:16384,[Dn.FIREFOX]:11180,[Dn.DESKTOP_SAFARI]:16384,[Dn.IE]:8192,[Dn.IOS]:4096,[Dn.ETC]:8192};const C_=typeof window<"u",Zb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,F0=C_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),HK=(C_||Zb)&&(F0&&F0.getOriginalSymbol(window,"File")||typeof File<"u"&&File),eS=(C_||Zb)&&(F0&&F0.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function T_(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function tS(t){return new Promise((e,n)=>{const r=new eS;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function nS(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function vo(){if(vo.cachedResult!==void 0)return vo.cachedResult;let t=Dn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Dn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Dn.IOS:/Safari/i.test(e)?t=Dn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Dn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Dn.IE),vo.cachedResult=t,vo.cachedResult}function rS(t,e){const n=vo(),r=WK[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function B2(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function sS(t,e){const{width:n,height:r}=rS(t.width,t.height),[s,i]=B2(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function Ih(){return Ih.cachedResult!==void 0||(Ih.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ih.cachedResult}function U0(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=sS(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return tS(t).then(function(d){try{return u=d,nS(u).then(function(h){try{return s=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(Ih()||[Dn.DESKTOP_SAFARI,Dn.MOBILE_SAFARI].includes(vo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function V0(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=Ur.encode([h.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>Jb.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(g){return o(g)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),T_(p,n,r).then((function(g){try{return a=g,h.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return i(a)}})}function ss(t){t.width=0,t.height=0}function Ra(){return new Promise(function(t,e){let n,r,s,i;return Ra.cachedResult!==void 0?t(Ra.cachedResult):T_("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,U0(n).then(function(a){try{return r=a[1],V0(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,ss(r),U0(s).then(function(c){try{return i=c[0],Ra.cachedResult=i.width===1&&i.height===2,t(Ra.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function iS(t){return new Promise((e,n)=>{const r=new eS;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(i.getUint16(a+12*d,c)==274)return e(i.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function oS(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=B2(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),ss(t)),o}function aS(t,e){const{width:n}=t,{height:r}=t,[s,i]=B2(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),ss(t),s}function Fx(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,d,h,p,g,y,w,m,v,_,x,A,I,S,E;function T(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=P,e.onProgress(Math.min(i,100))}function b(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(P,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,T(),U0(t,e).then((function(P){try{return[,l]=P,T(),c=oS(l,e),T(),new Promise(function(N,M){var L;if(!(L=e.exifOrientation))return iS(t).then((function(k){try{return L=k,j.call(this)}catch(R){return M(R)}}).bind(this),M);function j(){return N(L)}return j.call(this)}).then((function(N){try{return u=N,T(),Ra().then((function(M){try{return d=M?c:aS(c,u),T(),h=e.initialQuality||1,p=e.fileType||t.type,V0(d,p,t.name,t.lastModified,h).then((function(L){try{{let D=function(){if(o--&&(_>a||_>m)){let $,H;return $=E?.95*S.width:S.width,H=E?.95*S.height:S.height,[A,I]=B2($,H),I.drawImage(S,0,0,$,H),h*=p==="image/png"?.85:.95,V0(A,p,t.name,t.lastModified,h).then(function(B){try{return x=B,ss(S),S=A,_=x.size,b(Math.min(99,Math.floor((v-_)/(v-a)*100))),D}catch(K){return s(K)}},s)}return[1]},O=function(){return ss(S),ss(A),ss(c),ss(d),ss(l),b(100),r(x)};var k=D,R=O;if(g=L,T(),y=g.size>a,w=g.size>t.size,!y&&!w)return b(100),r(g);var j;return m=t.size,v=g.size,_=v,S=d,E=!e.alwaysKeepResolution&&y,(j=(function($){for(;$;){if($.then)return void $.then(j,s);try{if($.pop){if($.length)return $.pop()?O.call(this):$;$=D}else $=$.call(this)}catch(H){return s(H)}}}).bind(this))(D)}}catch(D){return s(D)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(M){return s(M)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)})}const qK=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Xp;function GK(t,e){return new Promise((n,r)=>{Xp||(Xp=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(qK));const s=new Worker(Xp);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Dt(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof HK))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return Fx(t,s).then((function(p){try{return i=p,h.call(this)}catch(g){return r(g)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return Fx(t,s).then(function(g){try{return i=g,u()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",GK(t,s).then(function(p){try{return i=p,u()}catch{return d()}},d)}catch{d()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=Xb(t,i))}catch{}return n(i)}})}Dt.getDataUrlFromFile=tS,Dt.getFilefromDataUrl=T_,Dt.loadImage=nS,Dt.drawImageInCanvas=sS,Dt.drawFileInCanvas=U0,Dt.canvasToFile=V0,Dt.getExifOrientation=iS,Dt.handleMaxWidthOrHeight=oS,Dt.followExifOrientation=aS,Dt.cleanupCanvasMemory=ss,Dt.isAutoOrientationInBrowser=Ra,Dt.approximateBelowMaximumCanvasSizeOfBrowser=rS,Dt.copyExifWithoutOrientation=Xb,Dt.getBrowserName=vo,Dt.version="2.0.2";const KK=()=>{var T,b;const{userData:t,refreshUserData:e,theme:n,setTheme:r,isOnline:s}=C.useContext(ee),[i,o]=C.useState(t.name||""),[a,l]=C.useState(null),[c,u]=C.useState(!1),d=C.useRef(null),[h,p]=C.useState(null),g=oe(ye,"users",(T=J==null?void 0:J.currentUser)==null?void 0:T.uid),y=(t==null?void 0:t.nameChangeCount)||0,w=(b=t==null?void 0:t.lastNameChangeDate)==null?void 0:b.toDate(),m=new Date,v=m.getMonth()===(w==null?void 0:w.getMonth())&&m.getFullYear()===(w==null?void 0:w.getFullYear());Ts(d,u),C.useEffect(()=>{(async()=>{!v&&(t!=null&&t.name)&&await $t(g,{nameChangeCount:0,lastNameChangeDate:m})})()},[t]);const _=async(P,N)=>{if(i.trim())try{await $t(g,P),e(),E(N)}catch(M){E(M.message)}},x=()=>{const P=new Date;if(v)if(y<3){const N={name:i.trim(),nameChangeCount:y+1,lastNameChangeDate:P};_(N,"Updated name successfully!")}else E("You can only change your name 3 times per month!");else{const N={name:i.trim(),nameChangeCount:1,lastNameChangeDate:P};_(N,"Updated name successfully!")}};C.useEffect(()=>{o(t.name)},[t]);const A=async()=>{const P=await Dt(a,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),N=fi(pi,`profile/${t.uid}/${t.name}-${a.name}`);try{const M=oe(ye,"users",t.uid);E("Uploading image...");const L=await Cu(N,P),k={image:await Tu(L.ref)};await $t(M,k),l(null),E("Updated profile picture successfully!")}catch(M){E(M.message)}},I=()=>{a&&A(),i.trim()!==t.name&&x()};let S;const E=(P,N=3e3)=>{clearTimeout(S),p(P),S=setTimeout(()=>{p(null)},N)};return f.jsxs("div",{className:"Settings p-2",children:[f.jsx(Jr,{}),f.jsxs("div",{className:"p-2",children:[f.jsxs("div",{className:"relative size-20",children:[f.jsx(dr,{name:t.name||i||"User",image:a?URL.createObjectURL(a):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden",onChange:P=>l(P.target.files[0])}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:le("edit")})})]}),f.jsxs("div",{className:`${n==="light"?"":"text-white"}`,children:["Hi, ",Is(t.name||i||"User",25),"!"]})]}),f.jsxs("div",{className:`grid gap-y-2 border  p-2 rounded-md ${n==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{children:[f.jsx("div",{children:"Name"}),f.jsxs("div",{ref:d,className:"flex gap-x-2 items-center",children:[!c&&f.jsx("div",{children:i||t.name||"User"}),c&&f.jsx("input",{autoFocus:!0,value:i,onChange:P=>o(P.target.value),className:` ${n==="light"?"focus:outline-blue-500":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx("button",{onClick:()=>{u(!c)},className:` p-1 rounded-full cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:le(c?"save":"edit")})})]}),(t==null?void 0:t.name)&&f.jsxs("p",{className:"text-red-600 font-bold text-sm mb-1",children:["You have changed your name ",`${y} / 3`," ",y>1?"times":"time"," this month!"]})]}),f.jsxs("div",{children:[f.jsx("div",{children:"Email"}),f.jsx("div",{children:t.email||"example@gmail.com"})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:a||(i==null?void 0:i.trim())!==t.name?f.jsx(We,{data:{clickFn:()=>{I()},image:"save",text:"Update"}}):""}),h&&f.jsx(j0,{message:h}),f.jsx("div",{className:`mt-4 ${n==="light"?"":"text-white"} md:hidden`})]})},z0=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t,{theme:i}=C.useContext(ee);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${i==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:s})]})},QK=({data:t})=>{const{close:e}=t,{theme:n}=C.useContext(ee),[r,s]=C.useState(""),[i,o]=C.useState(""),a=r.trim(),l=Ge(ye,"tests"),c=async h=>{try{await Ko(l,h)}catch(p){console.log(p.message)}},u=()=>{const h={uid:J.currentUser.uid,isUploaded:!1,name:r,description:i,quizzes:[],gradingRules:[],time:Fn()};c(h),e()},d=()=>{a&&u()};return C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(z0,{data:{text:"Name",onChangeFn:h=>s(h.target.value),value:r,placeholder:"Type test name here"}}),f.jsx(z0,{data:{text:"Description",onChangeFn:h=>o(h.target.value),value:i,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(We,{data:{clickFn:d,text:"Save",image:"save"}}),f.jsx(We,{data:{clickFn:e,text:"Cancel"}})]})]})})},YK=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:s}=C.useContext(ee),[i,o]=C.useState(!1),a=C.useRef(null);Ts(a,o);const l=()=>{o(!i)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${s==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:le(i?"up":"down")})]}),i&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${s==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${s==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},ci=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t,{theme:i}=C.useContext(ee);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${i==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:s})]})},XK=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i}=t,{theme:o}=C.useContext(ee),[a,l]=C.useState(s?s.question:""),[c,u]=C.useState(s?s.choices[0]:""),[d,h]=C.useState(s?s.choices[1]:""),[p,g]=C.useState(s?s.choices[2]:""),[y,w]=C.useState(s?s.choices[3]:""),[m,v]=C.useState(s?s.answer:"");let _=[];const x=c.trim()&&d.trim()&&p.trim()&&y.trim(),A=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&m.trim();x&&(_=[c,d,p,y]);const I=(N,M)=>{N.toLowerCase()==="question"?l(M.target.value):v(M.target.value)},S=()=>{let N,M;A&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:m},M=[...n,N],r(M),Ga(),e())},E=()=>{const N=s.id,M={id:N,question:a,choices:_,answer:m},L=n.map(j=>N===j.id?M:j);r(L),e(),i()},T=(N,M)=>{N.toLowerCase()==="choice 1"?u(M.target.value):N.toLowerCase()==="choice 2"?h(M.target.value):N.toLowerCase()==="choice 3"?g(M.target.value):w(M.target.value)},b=()=>{s?E():S()},P=()=>{e(),i()};return C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:s?s.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(ci,{data:{handleFn:I,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(ci,{data:{handleFn:T,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(ci,{data:{handleFn:T,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(ci,{data:{handleFn:T,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(ci,{data:{handleFn:T,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(YK,{data:{options:_,value:m,setValue:v}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(We,{data:{clickFn:b,text:"Save",image:"save"}}),f.jsx(We,{data:{clickFn:P,text:"Cancel"}})]})]})})},JK=({data:t})=>{const{theme:e}=C.useContext(ee),{testName:n,numbers:r,changePage:s}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(Be,{data:{clickFn:()=>s("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:["  "," ",r," ",r>1?"questions":"question"]})]})]})})},ZK=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s,changePage:i}=t,{theme:o}=C.useContext(ee);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(Be,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(Be,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(Be,{data:{clickFn:s,image:"add"}})})]})},eQ=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{theme:i}=C.useContext(ee),{gradingRules:o}=e,[a,l]=C.useState(null),c=g=>{const y=o.filter(m=>m.id!==g),w={...e,gradingRules:y};n(w)},u=g=>{l(g)},d=g=>{s(g),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${i==="light"?"":"text-white"}`,children:"Grading Rules"}),a&&f.jsx(Vo,{data:{yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((g,y)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(Jp,{data:{text:"From",value:g.from}}),f.jsx(Jp,{data:{text:"To",value:g.to}}),f.jsx(Jp,{data:{text:"Level",value:g.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(Be,{data:{clickFn:()=>d(g),image:"edit"}}),f.jsx(Be,{data:{clickFn:()=>u(g.id),image:"trash"}})]})]},`rule-${y}-${g.from}-${g.to}-${g.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(Be,{data:{clickFn:()=>r(!0),image:"add"}})})]})},Jp=({data:t})=>{const{text:e,value:n}=t,{theme:r}=C.useContext(ee);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?Is(n,15):n})]})},tQ=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,setIsRulesAdding:i}=t,{theme:o}=C.useContext(ee),{gradingRules:a}=e,[l,c]=C.useState(r?r.from:null),[u,d]=C.useState(r?r.to:null),[h,p]=C.useState(r?r.level:""),g=l&&u&&h.trim(),y=()=>{const x={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},A={...e,gradingRules:[...a,x]};n(A)},w=()=>{const x=r.id,A={id:x,from:Number(l),to:Number(u),level:h},I=a.map(E=>x===E.id?A:E),S={...e,gradingRules:I};n(S)},m=()=>{i(!1),s(null)},v=()=>{g&&(r?w():y(),m())},_=(x,A)=>{const I=A.target.value;x.toLowerCase()==="from"?c(I):x.toLowerCase()==="to"?d(I):p(I)};return C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(ci,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(ci,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(ci,{data:{handleFn:_,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(We,{data:{clickFn:v,text:"Save",image:"save"}}),f.jsx(We,{data:{clickFn:m,text:"Cancel"}})]})]})})},Ux=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:s}=C.useContext(ee),{description:i,name:o}=e,[a,l]=C.useState(r==="Description"?i:o),[c,u]=C.useState(!1),d=y=>{l(y.target.value)},h=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{h(),u(!1)},g=()=>{u(!1),l(r==="Description"?i:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${s==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${s==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(Be,{data:{clickFn:p,image:"save"}}),f.jsx(Be,{data:{clickFn:g,image:"falseIcon"}})]}):f.jsx(Be,{data:{clickFn:()=>u(!0),image:"edit"}})]})},nQ=({data:t})=>{const{setHeaderTitle:e}=C.useContext(ee),{setPage:n,currentTest:r,setCurrentTest:s}=t,[i,o]=C.useState(!1),[a,l]=C.useState(!1),[c,u]=C.useState(r.quizzes),[d,h]=C.useState(null),[p,g]=C.useState(null);C.useEffect(()=>{e(r.name)});const y=async(N,M)=>{try{const L=oe(ye,"tests",N);await $t(L,M)}catch(L){console.log(L.message)}};C.useEffect(()=>{w()},[r,c]);const w=()=>{y(r.id,{...r,quizzes:c})},m=()=>{o(!0)},v=()=>{o(!1),g(null)},_=N=>{g(N)},x=()=>{S(p),g(null)},A=()=>{g(null)},I=N=>{n(N)},S=N=>{const M=c.filter(L=>L.id!==N);u(M)},E=(N,M)=>{const L={...N,number:M+1};h(L),m()},T=()=>{h(null)},b={testName:r.name,numbers:c.length,changePage:I},P={quizzes:c,editQuestion:E,askToDelete:_,add:m};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(JK,{data:b}),f.jsx(Aa,{}),f.jsx(Ux,{data:{title:"Test Name",currentTest:r,setCurrentTest:s}}),f.jsx(Ux,{data:{title:"Description",currentTest:r,setCurrentTest:s}}),f.jsx(Aa,{}),f.jsx(eQ,{data:{currentTest:r,setEditData:h,setCurrentTest:s,setIsRulesAdding:l}}),f.jsx(Aa,{}),f.jsx(ZK,{data:P}),i&&f.jsx(XK,{data:{cancel:v,setQuizzes:u,quizzes:c,editData:d,clearEditData:T}}),a&&f.jsx(tQ,{data:{currentTest:r,setCurrentTest:s,editData:d,setEditData:h,setIsRulesAdding:l}}),p&&f.jsx(Vo,{data:{yesButton:x,noButton:A,text:"Are you sure to delete ?"}}),f.jsx(Aa,{})]})},I_=({text:t,length:e})=>{const n=ur(),{theme:r}=C.useContext(ee);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(Be,{data:{clickFn:()=>n("/app/admin"),image:"back"}}),f.jsxs("p",{children:[t," (",e,")"]})]})},rQ=()=>{const[t,e]=C.useState("test"),{theme:n,isLogin:r,tests:s,setTests:i}=C.useContext(ee),[o,a]=C.useState({}),[l,c]=C.useState(!1),[u,d]=C.useState(!1),[h,p]=C.useState(null);Uo("tests",i,r),C.useEffect(()=>(rr(),rr()),[]);const g=S=>{a(S),e("editTest")},y=S=>{p(S),d(!0)},w=async S=>{const E=oe(ye,"tests",S.id);await $t(E,{isUploaded:!S.isUploaded})},m=()=>{A(h),p(null),d(!1)},v=()=>{d(!1)},_=()=>{c(!0)},x=()=>{c(!1)},A=async S=>{try{const E=oe(ye,"tests",S);await Ri(E)}catch(E){console.log(E.message)}};return(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(I_,{text:"Tests",length:s.length})}),l&&f.jsx(QK,{data:{close:x}}),u&&f.jsx(Vo,{data:{yesButton:m,noButton:v,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid gap-y-2",children:s.map(S=>f.jsxs("div",{className:`flex items-center border p-2 rounded-md min-h-[100px] ${n==="light"?"border-gray-100":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:S.isUploaded,onChange:()=>w(S),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:S.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[S.quizzes.length,S.quizzes.length>1?" questions":" question",S.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(z2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{g(S)}},{text:"Delete",icon:"deleteIcon",onClick:()=>y(S.id)}]})})]},`tests-${S.id}`))}),f.jsx("div",{children:f.jsx(We,{data:{clickFn:_,text:"New Test",image:"add"}})})]});case"editTest":return f.jsx(nQ,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}})()},sQ=({password:t})=>{const[e,n]=C.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},iQ=()=>{const{setUserData:t,users:e,theme:n}=C.useContext(ee);C.useEffect(()=>(rr(),rr()),[]);const r=ur(),s=o=>{t(o),r("/app/posts")},i=async o=>{const a=oe(ye,"users",o.uid);await $t(a,{isAdmin:!o.isAdmin})};return f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(I_,{text:"Users",length:e==null?void 0:e.length}),f.jsx("div",{className:"mt-2 grid gap-y-2",children:e.sort((o,a)=>Pr(o,a,"timestamp","newer")).map(o=>{var a,l,c,u,d;return f.jsxs("div",{className:`hover:border-blue-300 border p-2  ${n==="light"?`hover:bg-slate-50 ${((a=J==null?void 0:J.currentUser)==null?void 0:a.uid)===o.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${((l=J==null?void 0:J.currentUser)==null?void 0:l.uid)===o.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(dr,{image:o.image,name:o.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[o.name," ",f.jsxs("span",{className:`${o!=null&&o.isAdmin?"text-blue-500":"text-white"}`,children:["(",o!=null&&o.isAdmin?"admin":"user",")"," ",((c=J==null?void 0:J.currentUser)==null?void 0:c.uid)===o.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:o.email}),f.jsxs("div",{className:"text-md",children:["Created: ",Fi(ar(o.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",o.uid]}),f.jsx(sQ,{password:o.password})]})]}),((u=J==null?void 0:J.currentUser)==null?void 0:u.uid)!==o.uid&&f.jsx(Be,{data:{clickFn:()=>s(o),image:"review"}})]}),((d=J==null?void 0:J.currentUser)==null?void 0:d.uid)!==o.uid&&f.jsx(We,{data:{image:"admin",clickFn:()=>i(o),text:o.isAdmin?"Remove from admin":"Set as admin"}})]},o.uid)})})]})},b_=({data:t,children:e})=>{const{setValue:n}=t,{theme:r}=C.useContext(ee),s=C.useRef(null);return Ts(s,n),C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-40 bg-black/60 justify-center top-0 left-0 right-0 bottom-0 ",children:f.jsx("div",{ref:s,className:`w-4/5 sm:w-3/5 md:w-2/5 p-5 min-h-40 grid gap-y-3 rounded-md items-center border  ${r==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:e})})},oQ=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r}=t,[s,i]=C.useState(""),[o,a]=C.useState(""),l=s.trim()&&o.trim(),c=()=>{if(l){const u={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:o.trim()},d=[...e,u];n(d),r(!1)}};return f.jsxs(b_,{data:{setValue:r},children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(z0,{data:{text:"Title",onChangeFn:u=>i(u.target.value),value:s,placeholder:"Enter title..."}}),f.jsx(z0,{data:{text:"Link",onChangeFn:u=>a(u.target.value),value:o,placeholder:"Enter link..."}})]}),f.jsx("div",{children:f.jsx(We,{data:{image:"add",text:"Add Link",clickFn:c}})})]})},aQ=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:s}=C.useContext(ee),[i,o]=C.useState("posts"),[a,l]=C.useState(null);Uo("posts",s,n);const c=async d=>{const h=oe(ye,"posts",d);await Ri(h)},u=()=>{switch(i){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx(I_,{text:"Posts",length:r.length}),f.jsx(We,{data:{clickFn:()=>o("createPost"),text:"Create a post"}})]}),f.jsx("div",{className:"grid gap-y-2 mb-2",children:r.sort((d,h)=>Pr(d,h,"time","newer")).map(d=>{var p,g,y;let h;return t.forEach(w=>{w.uid===d.uid&&(h=w)}),f.jsxs("div",{className:`p-2 border min-h-20 flex items-center rounded-md ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:h.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:h.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500":"text-white"}`,children:Zo(ar(d.time))})]})]}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:Is(d.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[d.images.length!==0&&f.jsxs("div",{className:`p-1 min-h-9 flex items-center gap-x-1  rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:le("image")}),f.jsxs("span",{children:[d.images.length," ",d.images.length<=1?"image":"images"]})]}),d.files.length!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:le("file")}),f.jsxs("span",{children:[d.files.length," ",d.files.length<=1?"file":"files"]})]}),d.links&&((p=d==null?void 0:d.links)==null?void 0:p.length)!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:le("link")}),f.jsxs("span",{children:[(g=d==null?void 0:d.links)==null?void 0:g.length," ",((y=d==null?void 0:d.links)==null?void 0:y.length)<=1?"link":"links"]})]}),d.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(z2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{l(d),o("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>c(d.id)}]})})]},`post-${d.id}`)})})]});case"createPost":return f.jsx(lQ,{setPage:o,postData:a,setPostData:l})}};return f.jsx("div",{className:"p-5",children:u()})},lQ=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=C.useContext(ee),[s,i]=C.useState(e?e.images:[]),[o,a]=C.useState(null),[l,c]=C.useState(e?e.description:""),[u,d]=C.useState(e?e==null?void 0:e.files:[]),[h,p]=C.useState(e?(e==null?void 0:e.links)||[]:[]),[g,y]=C.useState(!1),w=l.trim()||s.length!==0||u.length!==0||h.length!==0,m=async(T=!1)=>{try{const b=Ge(ye,"posts");await Ko(b,{uid:J.currentUser.uid,time:Fn(),editedTime:Fn(),description:l,images:s,files:u,links:h,draft:T}),t("posts")}catch(b){console.log(b.message)}},v=async()=>{try{const T=oe(ye,"posts",e.id);await $t(T,{editedTime:Fn(),description:l,images:s,files:u,links:h,draft:!1}),t("posts")}catch(T){console.log(T.message)}},_=async()=>{try{if(e){const T=oe(ye,"posts",e.id);await $t(T,{editedTime:Fn(),description:l,images:s,files:u,links:h,draft:!0})}else m(!0);t("posts")}catch(T){console.log(T.message)}},x=async T=>{try{const b=await Dt(T,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),P=`posts/${J.currentUser.uid}/${T.name}`,N=fi(pi,P);a("Uploading image...");const M=await Cu(N,b),L=await Tu(M.ref),j=[...s,{name:T.name,path:P,imageURL:L}];i(j),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(b){a(b.message),setTimeout(()=>{a(null)},3e3)}},A=async T=>{try{const b=`posts/${J.currentUser.uid}/${T.name}`,P=fi(pi,b);a("Uploading file...");const N=await Cu(P,T),M=await Tu(N.ref),L=[...u,{name:T.name,path:b,fileURL:M,size:T.size}];d(L),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(b){a(b.message),setTimeout(()=>{a(null)},3e3)}},I=async(T,b)=>{const P=s.filter(M=>b!==M.imageURL);i(P);const N=fi(pi,T);await Rg(N)},S=async(T,b)=>{const P=u.filter(M=>b!==M.fileURL);d(P);const N=fi(pi,T);await Rg(N)},E=T=>{const b=h.filter(P=>T!==P.id);p(b)};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(j0,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(Be,{data:{clickFn:()=>{t("posts"),n(null)},image:"back"}}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(We,{data:{text:"Draft",clickFn:()=>{w&&_()}}}),f.jsx(We,{data:{clickFn:()=>{w?(e?v():m(),n(null)):a("Create a post first!")},text:e?"Save":"Publish",image:e?"save":"upload"}})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:T=>c(T.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-200  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:T=>x(T.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:T=>A(T.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsxs("label",{htmlFor:"imagesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:le("image")}),f.jsx("span",{children:"Image"})]}),f.jsxs("label",{htmlFor:"filesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:le("file")}),f.jsx("span",{children:"File"})]}),f.jsxs("label",{onClick:()=>{y(!0)},className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:le("link")}),f.jsx("span",{children:"Link"})]}),g&&f.jsx(oQ,{data:{links:h,setLinks:p,setIsLinkAdding:y}})]})]}),s.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:s.map(T=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:T.name,className:"size-full",src:T.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(Be,{data:{clickFn:()=>I(T.path,T.imageURL),image:"falseIcon"}})})]},T.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(T=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:le("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:T.name}),(T==null?void 0:T.size)&&f.jsxs("p",{children:[(T.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(Be,{data:{clickFn:()=>S(T.path,T.fileURL),image:"falseIcon"}})})]},T.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(T=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:le("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:T.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(Be,{data:{image:"falseIcon",clickFn:()=>E(T.id)}})})]},T.link))})]})},cQ=()=>{const{users:t,setHeaderTitle:e,theme:n,notifications:r,setNotifications:s,notificationLastDoc:i,setNotificationLastDoc:o}=C.useContext(ee),a=5,l=()=>{const c=Ge(ye,"notifications");let u=za(c,_0("timestamp","desc"),w0(a));i&&(u=za(u,c9(i))),Hn(u,d=>{const h=d.docs.map(p=>({id:p.id,...p.data()}));s([...r,...h]),o(d.docs[d.docs.length-1])})};return C.useEffect(()=>{const c=Ge(ye,"notifications"),u=za(c,_0("timestamp","desc"),w0(5)),d=Hn(u,h=>{const p=h.docs.map(g=>({id:g.id,...g.data()}));p.length!==0&&(s(p),setLastDoc(h.docs[h.docs.length-1]))});return()=>d()},[]),C.useEffect(()=>{e("Notifications")},[]),f.jsxs("div",{className:"p-5 grid gap-y-2 ",children:[f.jsx(Jr,{}),r.map(c=>{let u;return t.forEach(d=>{c.uid===d.uid&&(u=d)}),f.jsx(uQ,{notification:c,user:u},c.id)}),r.length===0&&f.jsx("div",{className:`${n==="light"?"":"text-white"}`,children:"No notifications"}),r.length>=a&&f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx("button",{onClick:l,className:`border  rounded-md text-sm p-1 ${n==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"load more"})})]})},uQ=({notification:t,user:e})=>{let n;const{type:r,description:s,timestamp:i,testName:o,comment:a}=t,{theme:l}=C.useContext(ee);switch(`${r[0]} ${r[1]}`){case"like post":n="liked a post";break;case"like test":n="liked a test";break;case"comment post":n="commented on a post";break;case"comment test":n="commented on a test";break;case"added post":n="added a post";break;case"added test":n="added a test";break;case"took test":n="took a test";break}return f.jsxs("div",{className:`cursor-pointer shadow-md flex items-center gap-x-2 p-2 border  rounded-md ${l==="light"?"border-slate-300 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:e==null?void 0:e.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:e==null?void 0:e.name})," ",n]}),s&&f.jsx("p",{children:Is(s,30)}),o&&f.jsx("p",{children:o}),a&&f.jsx("p",{children:a}),f.jsx("p",{children:Zo(ar(i))})]})]})},dQ=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=C.useContext(ee);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),t.sort((s,i)=>Pr(s,i,"joinedAt","newer")).map(s=>{const i=Gn(n,s.uid),o=e(s.uid);return f.jsxs("div",{className:`p-2 flex gap-x-2 items-center border  rounded-md ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx(dr,{image:i.image,name:i.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${o.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:i==null?void 0:i.name}),f.jsx("p",{className:`text-sm ${o.isOnline?"text-blue-500":"text-red-500"}`,children:o.isOnline?"Online":Zo(ar(o.lastSeen))})]})]},s.uid+s.joinedAt)})]})},hQ=({setSubPage:t,currentChat:e,onlineUsers:n})=>{var v;const{theme:r,users:s,userData:i}=C.useContext(ee),{members:o}=e,a=oe(ye,"chats",e.id),[l,c]=C.useState(""),[u,d]=C.useState(null);C.useEffect(()=>{c(e.name)},[e]);const h=async _=>{try{const x=oe(ye,"chats",e.id);await $t(x,{members:x0({uid:_,joinedAt:new Date().getTime()})})}catch(x){console.log(x.message)}},p=async _=>{try{const x=oe(ye,"chats",e.id),A=o.filter(I=>_!==I.uid);await $t(x,{members:A})}catch(x){console.log(x.message)}},g=_=>{let x=!1;return o.forEach(A=>{_===A.uid&&(x=!0)}),x},y=_=>{let x=!1,A=null;return n.forEach(I=>{I.uid===_&&(x=!0,A=I)}),{isOnline:x,...A}},w=async()=>{if(!u)return;const _=`chats/${e.id}/groupImage-${u.name}`,x=fi(pi,_),A=await Dt(u,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),I=await Cu(x,A),S=await Tu(I.ref),E={name:u.name,path:_,URL:S,size:A.size};await $t(a,{image:E})},m=async()=>{l.trim()&&await $t(a,{name:l})};return C.useEffect(()=>{w()},[u]),C.useEffect(()=>{scrollTo({top:0})},[]),f.jsxs("div",{className:"pt-[75px]",children:[f.jsx("div",{className:`h-[70px] fixed z-30 top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${r==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Be,{data:{image:"back",clickFn:()=>t("chat")}})}),f.jsxs("div",{className:` ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:e.name}),f.jsxs("p",{className:"text-sm",children:[o.length," ",o.length<=1?"member":"members"]})]})]})}),(i==null?void 0:i.isAdmin)&&f.jsxs("div",{className:"p-2 m-1 mt-4  border border-gray-300 rounded-md",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:_=>d(_.target.files[0])}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:(v=e==null?void 0:e.image)==null?void 0:v.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${r==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:le("edit")})})]}),f.jsxs("div",{className:`mt-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx("input",{className:"p-[2px] focus:outline-blue-500",value:l,onChange:_=>c(_.target.value)}),f.jsx(V2,{onClick:m,children:f.jsx("img",{className:"w-7",src:le("save")})})]})]}),f.jsx(dQ,{members:o,onlineUsers:n,isUserOnline:y}),(i==null?void 0:i.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),s.sort((_,x)=>Pr(_,x,"createdAt","newer")).map((_,x)=>{const A=y(_.uid);return f.jsxs("div",{className:`p-2 flex justify-between items-center border  rounded-md ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(dr,{image:_.image,name:_.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${A.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:_.name}),f.jsx("p",{className:`text-sm ${A.isOnline?"text-blue-500":"text-red-500"}`,children:A.isOnline?"Online":Zo(ar(A.lastSeen))})]})]}),f.jsx("div",{children:g(_.uid)?!_.isAdmin&&f.jsx(Be,{data:{clickFn:()=>p(_.uid),image:"trash"}}):f.jsx(Be,{data:{clickFn:()=>h(_.uid),image:"add"}})})]},_.name+" "+_.image+x)})]})]})},fQ=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],pQ=({chatId:t,message:e})=>{const[n,r]=C.useState(!1),[s,i]=C.useState([]),o=Ge(oe(Ge(oe(ye,"chats",t),"messages"),e.id),"reactedBy"),a=()=>{r(!1)},l=()=>Hn(o,p=>{const g=p.docs.map(y=>({...y.data()}));i(g)});C.useEffect(()=>l(),[]);const c=async()=>{const h=oe(o,J.currentUser.uid);await Ri(h)},u=h=>{let p=!1;return s.forEach(g=>{g.reactionType===h&&(p=!0)}),p},d=fQ.filter(h=>u(h.name));if(s.length!==0)return f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>r(!0),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[d.map((h,p)=>f.jsx("img",{className:"w-4 ml-[-3px]",src:le(h.image)},`reaction-${h.name}-${p}`)),f.jsx("span",{className:"ml-1",children:s.length})]}),n&&f.jsx(mQ,{setOpen:r,reactedBy:s,removeReaction:c,close:a})]})},mQ=({reactedBy:t,setOpen:e,removeReaction:n,close:r})=>{const s=C.useRef(null),{users:i}=C.useContext(ee),o=a=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[a];return Ts(s,e),C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed top-[-8px] left-[-8px] bg-black/50 right-[-8px] bottom-[-8px] flex items-end justify-center z-30",children:f.jsxs("div",{ref:s,className:" h-[50%] w-full md:w-[60%] bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Reactions"}),f.jsx("div",{className:"flex flex-col p-2 min-h-full max-h-full overflow-y-auto",children:t.map((a,l)=>{const c=Gn(i,a.uid),u=a.uid===J.currentUser.uid;return f.jsxs("div",{onClick:()=>{u&&(n(),r())},className:`flex p-2 justify-between items-center w-full hover:bg-slate-300 ${u?"cursor-pointer":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(dr,{image:c.image,name:c.name,size:"size-9"}),f.jsxs("p",{className:"ml-[4px]",children:[c.name," ",u?"(Click to remove)":""]})]}),f.jsx("img",{className:"w-6 ",src:le(o(a.reactionType))})]},`reactedBy-${c.name}-${l}`)})})]})})},gQ=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageObject:s,setViewingImage:i,setReplyMessage:o,isUserOnline:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:h,messages:p})=>{var P;const{users:g,theme:y,userData:w}=C.useContext(ee),m=J.currentUser.uid===t.senderId,v=Gn(g,t.senderId),_=a(v==null?void 0:v.uid),x=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,A=C.useRef(!1),I={...t,index:u},S=m?{text:"Edit",icon:"editPencil",onClick:()=>{s(I),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}}:null,E=m||w!=null&&w.isAdmin?{text:"Delete",icon:"deleteIcon",onClick:()=>{e(t,u)}}:null,T=()=>{let N=!1;return((t==null?void 0:t.seenBy)||[]).forEach(L=>{J.currentUser.uid===L.uid&&(N=!0)}),N},b=()=>{let N=!1;return u>=p.length-5&&u<=p.length-1&&(N=!0),N};return C.useEffect(()=>{const N=async()=>{const M=oe(c,t.id);if(A.current)return;const L={uid:J.currentUser.uid,timestamp:new Date().getTime()};!T()&&!m&&b()&&!d&&(await $t(M,{seenBy:x0(L)}),A.current=!0)};console.log(t==null?void 0:t.seenBy),N()},[]),f.jsxs("div",{className:`flex mb-2 gap-x-2 ${m?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(dr,{name:v==null?void 0:v.name,image:v==null?void 0:v.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${_!=null&&_.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${y==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${m?"text-right":"text-left"} `,children:v!=null&&v.name?v.name:"Deleted User"}),f.jsxs("div",{className:`flex items-start gap-x-1 ${m?"flex-row-reverse justify-start":""}`,children:[f.jsx("div",{className:"relative",children:f.jsxs("div",{className:`max-w-[250px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${y==="light"?`${m?"rounded-tr-none bg-blue-300 ":"bg-white rounded-tl-none "}`:`${m?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black "}`}`,children:[(t==null?void 0:t.reply)&&f.jsx(yQ,{message:t,setViewingImage:i}),f.jsx("p",{className:"w-full max-w-full break-words break-all",children:t.content}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{i(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),f.jsx(pQ,{chatId:l,message:t}),f.jsx("div",{className:`flex  ${m?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:f.jsxs("p",{className:`text-sm flex gap-x-1 items-center ${m?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Fi(ar(t.editedTime))]}):f.jsx("span",{children:Fi(ar(t.timestamp))}),f.jsx("img",{className:"w-4",src:le("seen")}),x?f.jsxs("button",{onClick:()=>{h(t.seenBy)},className:"flex gap-x-1 items-center",children:[(P=t==null?void 0:t.seenBy)==null?void 0:P.length,f.jsx("img",{className:"w-4",src:le("eye")})]}):""]})})]})}),f.jsx(z2,{options:[S,E,{text:"Reply",icon:"reply",onClick:()=>o(t)}],message:t,chatId:l})]})]})]})},yQ=({message:t,setViewingImage:e})=>{const{users:n,theme:r}=C.useContext(ee),{senderId:s,content:i,image:o}=t.reply,[a,l]=C.useState(!1),c=Gn(n,s);return f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${r==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:c.name}),i&&f.jsxs("p",{className:"w-full max-w-full break-words break-all",children:[a?i:Is(i,25),i.length>=25&&f.jsx("span",{onClick:()=>{l(!a)},className:"font-bold text-blue-400 cursor-pointer",children:a?" see less":" see more"})]}),o&&f.jsx("img",{onClick:()=>{e(o)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:o.name,src:o.URL})]})},vQ=({image:t,setViewingImage:e})=>{const n=C.useRef(null);Ts(n,e),C.useEffect(()=>(xt("hidden"),()=>xt("auto")),[]);const r=()=>{const s=(t==null?void 0:t.size)/1048576,i=(t==null?void 0:t.size)/1024;return s>1?`${s.toFixed(2)} MB`:`${i.toFixed(2)} kB`};return f.jsxs("div",{className:"p-2 flex flex-col items-center justify-center fixed top-0 right-0 left-0 bottom-0 z-40 bg-black/50",children:[f.jsx("button",{onClick:()=>{e(!1)},className:"p-1 bg-white absolute right-2 top-2 rounded-md opacity-60 z-50",children:f.jsx("img",{className:"w-7",src:le("close")})}),t?f.jsxs("div",{ref:n,className:"bg-white border rounded-md overflow-hidden min-h-[200px] min-w-[200px] border-gray-300 relative max-w-full max-h-full",children:[f.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),f.jsx("img",{alt:t.name,className:"h-full ",src:t.URL})]}):f.jsx("div",{className:"bg-white border border-gray-300 rounded-md",children:"Image not available."})]})},_Q=({setIsRulesOpen:t,rules:e=[" - Group         ","No spamming -    (link)   emoji   ","Privacy  -        ","  (rules)    Group       ()   "]})=>f.jsx(b_,{data:{setValue:t},children:e?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),e.map((n,r)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:r+1}),f.jsx("p",{className:"flex-1",children:n})]},`${r}-${n}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),wQ=({message:t,loadMessages:e,setNewMessage:n,setViewingOldMessages:r})=>{const{senderId:s,content:i,timestamp:o}=t,{users:a,theme:l}=C.useContext(ee),c=Gn(a,s);return f.jsx("div",{onClick:()=>{e(),Ga(),n(null),r(!1)},className:`z-30 cursor-pointer fixed  right-2 bottom-[200px] rounded-md border border-slate-300 p-2 ${l==="light"?"bg-white":"bg-slate-500 text-white"}`,children:f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-x-1 mb-1",children:[f.jsx("img",{className:"size-7 rounded-full object-center object-cover",src:c.image}),f.jsx("p",{className:"font-bold",children:c.name})]}),f.jsx("div",{children:Is(i)}),f.jsx("p",{className:"text-sm text-gray-300",children:Fi(ar(o))})]})})},lS=()=>{const t="Typing...",[e,n]=C.useState("");let r=0;const[s,i]=C.useState(0);return C.useEffect(()=>(r=setInterval(()=>{s!==t.length?(n(e+t[s]),i(s+1)):(i(0),n(""))},250),()=>{clearInterval(r)}),[e,s]),f.jsx("p",{children:e.length===0?"T":e})},xQ=({typingUsers:t,viewingOldMessages:e,isUserOnline:n})=>{const{users:r,theme:s}=C.useContext(ee);if(C.useEffect(()=>{!e&&t.length!==0&&Ga()},[t]),t.length!==0)return f.jsx("div",{className:"",children:f.jsx("div",{className:"grid gap-y-1",children:t.sort((i,o)=>Pr(i,o,"timestamp","older")).map(i=>{const o=Gn(r,i.uid),a=n(i.uid),l=J.currentUser.uid===i.uid;return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${l?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(dr,{name:o.name,image:o.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${a!=null&&a.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${s==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${l?"text-right":"text-left"} `,children:o.name}),f.jsx("div",{className:`flex items-start gap-x-1 ${l?"flex-row-reverse justify-start":""}`,children:f.jsx("div",{children:f.jsx("p",{className:`max-w-[250px] w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${s==="light"?`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:f.jsx(lS,{})})})})]})]},i.uid)})})})},EQ=({seenUsers:t,setSeenUsers:e})=>{const n=C.useRef(null),{users:r}=C.useContext(ee);return Ts(n,e),C.useEffect(()=>(xt("hidden"),()=>{xt("auto")}),[]),f.jsx("div",{className:"fixed top-[-8px] left-[-8px] bg-black/50 right-[-8px] bottom-[-8px] flex items-end justify-center z-40",children:f.jsxs("div",{ref:n,className:" h-[50%] w-full md:w-[60%] bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),f.jsx("div",{className:"flex flex-col p-2 min-h-full max-h-full overflow-y-auto",children:t.sort((s,i)=>Pr(s,i,"timestamp","older")).map((s,i)=>{const o=Gn(r,s.uid);return f.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(dr,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),f.jsx("p",{children:o==null?void 0:o.name})]}),f.jsx("p",{className:"ml-[4px]",children:Fi(s.timestamp)})]},`seenUser-${o==null?void 0:o.name}-${i}`)})})]})})},CQ=({data:t})=>{const{setPage:e,chatId:n,chats:r,typingUsers:s,setTypingUsers:i,youSeenThisChat:o}=t,{theme:a,userData:l,users:c,newMessages:u}=C.useContext(ee),[d,h]=C.useState(""),[p,g]=C.useState("chat"),[y,w]=C.useState(null),m=oe(ye,"chats",n),v=Ge(m,"messages"),[_,x]=C.useState(null),[A,I]=C.useState(!1),[S,E]=C.useState(!1),[T,b]=C.useState(null),[P,N]=C.useState(null),[M,L]=C.useState(null),[j,k]=C.useState(!1),[R,D]=C.useState(null);let O=0;const $=Ge(m,"typingUsers"),H=oe($,J.currentUser.uid),[B,K]=C.useState(!1);let V=0;const F=Ge(m,"onlineUsers"),te=oe(F,J.currentUser.uid),[pe,we]=C.useState([]);let ne;const[Ie,Le]=C.useState(null),[ke,In]=C.useState([]),[Yt,Ue]=C.useState(null),[Ve,Ne]=C.useState(!1);(()=>{r.forEach(se=>{n===se.id&&(ne=se)})})();const gt=()=>Hn($,fe=>{const st=fe.docs.map(Zt=>({...Zt.data()}));i(st)});C.useEffect(()=>{const se=gt();return()=>{se()}},[]),C.useEffect(()=>(d.trim()&&K(!0),V=setTimeout(()=>{K(!1)},3e3),()=>{K(!1),clearTimeout(V)}),[d]);const yt=async()=>{await Ba(H,{uid:J.currentUser.uid,timestamp:Fn()})},ze=async()=>{const se=oe($,J.currentUser.uid);await Ri(se)};C.useEffect(()=>(B?yt():ze(),()=>{ze()}),[B]);const Ot=()=>{let se;try{if(!Ve){const fe=Ge(oe(ye,"chats",n),"messages");let st=za(fe,_0("timestamp","desc"),w0(15));return se=Hn(st,Zt=>{const $r=Zt.docs.map(Mn=>({id:Mn.id,...Mn.data()}));In($r),Ue(Zt.docs[Zt.docs.length-1])}),()=>{se&&se()}}}catch(fe){console.log(fe.message)}};C.useEffect(()=>Ot(),[Ve,n]);const qe=async(se,fe=()=>{})=>{try{const st=Ge(oe(ye,"chats",n),"messages");let $r=za(st,_0("timestamp",se==="newer"?"asc":"desc"),w0(15));Yt&&($r=za($r,c9(Yt)));const Mn=await JD($r),Fl=Mn.docs.map(Qn=>({id:Qn.id,...Qn.data()}));In(Fl),Ue(Mn.docs[Mn.docs.length-1]),fe()}catch(st){console.log(st.message)}},be=()=>Hn(F,fe=>{const st=fe.docs.map(Zt=>({...Zt.data()}));we(st)});C.useEffect(()=>be(),[]);const vt=async()=>{await Ba(te,{uid:J.currentUser.uid,lastSeen:Fn()})},fr=async()=>{const se=oe(F,J.currentUser.uid);await Ri(se)};C.useEffect(()=>(vt(),fr),[]),C.useEffect(()=>(D(ne==null?void 0:ne.lastMessage),O=setTimeout(()=>{D(null)},12e4),()=>clearTimeout(O)),[r]),C.useEffect(()=>{const se=Gn(c,P==null?void 0:P.senderId);L(se)},[P]);const bs=async se=>{const fe=new Date().getTime(),st=`chats/${n}/${fe}-${l.name}-${se.name}`,Zt=fi(pi,st);I(!0),E(!0);const $r=await Dt(se,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),Mn=await Cu(Zt,$r),Fl=await Tu(Mn.ref),Qn={name:se.name,path:st,URL:Fl,size:$r.size};x(Qn),I(!1),E(!1)},Tt=async se=>{const fe=fi(pi,se);await Rg(fe),x(null)},ie=async()=>{const se=oe(Ge(ye,"newMessages"),n);await Ba(se,{seenBy:x0(J.currentUser.uid)})};C.useEffect(()=>{(async()=>{const fe=oe(Ge(ye,"newMessages"),n);o(u,n)||await $t(fe,{seenBy:x0(J.currentUser.uid)})})()},[ke]);const It=async()=>{try{const se={senderId:J.currentUser.uid,content:d.trim(),timestamp:Fn(),image:_||null,reply:P||null,seenBy:[]};E(!0),await Ko(v,se),await $t(m,{lastMessage:se}),ie(),h(""),x(null),Ga(),E(!1),N(null),L(null),K(!1)}catch(se){console.log(se.message)}},Xt=async()=>{try{const se=oe(v,y.id),fe={senderId:J.currentUser.uid,content:d.trim(),editedTime:Fn(),image:_||null,reply:P||null};E(!0),await $t(se,fe),y.index===ke.length&&(await $t(m,{lastMessage:fe}),ie()),Xt&&h(""),x(null),w(null),E(!1),N(null),L(null)}catch(se){console.log(se.message)}},Jt=async(se,fe)=>{const st=oe(v,se.id);await Ri(st),fe===ke.length-1&&!Ve&&await $t(m,{lastMessage:{...se,content:"Deleted Message",image:null}}),Ve&&qe("older")},Kn=se=>{let fe=!1,st=null;return pe.forEach(Zt=>{Zt.uid===se&&(fe=!0,st=Zt)}),{isOnline:fe,...st}},pr=()=>{var se;switch(p){case"chat":return f.jsxs("div",{className:"pt-[65px]",children:[f.jsx(TQ,{}),R&&Ve?f.jsx(wQ,{message:R,loadMessages:Ot,setNewMessage:D,setViewingOldMessages:Ne}):"",T&&f.jsx(vQ,{image:T,setViewingImage:b}),j&&f.jsx(_Q,{setIsRulesOpen:k,rules:ne==null?void 0:ne.rules}),Ie&&f.jsx(EQ,{seenUsers:Ie,setSeenUsers:Le}),f.jsxs("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${a==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Be,{data:{image:"back",clickFn:()=>e("chatroom")}})}),f.jsxs("div",{onClick:()=>g("info"),className:` ${a==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:ne.name}),f.jsxs("p",{className:"text-sm",children:[ne.members.length," ",ne.members.length<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>g("info"),children:f.jsx("img",{src:(se=ne==null?void 0:ne.image)==null?void 0:se.URL,alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]}),f.jsxs("div",{className:"p-2 gap-y-3 mb-[40px]",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx("button",{onClick:()=>{qe("old",()=>{Ga()}),Ne(!0)},className:`border rounded-md text-sm p-1 ${a==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Older messages"})}),ke.sort((fe,st)=>Pr(fe,st)).map((fe,st)=>f.jsx(gQ,{editMessage:Xt,setEditMessageObject:w,deleteMessage:Jt,message:fe,setMessage:h,setImageObject:x,setViewingImage:b,setReplyMessage:N,isUserOnline:Kn,chatId:n,messagesRef:v,messageIndex:st,viewingOldMessages:Ve,setSeenUsers:Le,messages:ke},`${st}-${fe.id}`)),Ve&&f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx("button",{onClick:()=>{qe("newer",()=>{scrollTo({top:0})})},className:`border  rounded-md text-sm p-1 ${a==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Newer messages"}),f.jsx("button",{onClick:()=>{Ot(),Ne(!1),Ga(" ")},className:`border  rounded-md text-sm p-1 ${a==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Latest messages"})]}),f.jsx(xQ,{typingUsers:s,viewingOldMessages:Ve,isUserOnline:Kn})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${a==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>k(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),y&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{w(null),h(""),x(null),N(null),L(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:le("falseIcon")})})]}),P&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",M==null?void 0:M.name]}),f.jsx("p",{children:Is(P==null?void 0:P.content,25)})]}),f.jsx("button",{onClick:()=>{N(null),L(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:le("falseIcon")})})]}),A&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),_&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:_.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:_.name})]}),f.jsx("button",{onClick:()=>{Tt(_.path),x(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:le("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${a==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:fe=>{bs(fe.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:le("image")})}),f.jsx("textarea",{onChange:fe=>h(fe.target.value),value:d,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${a==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!S&&(d.trim()||_)&&(y?Xt():It())},children:f.jsx("img",{className:"w-10",src:le(S?"sendingLetter":"sendLetter")})})]})]})]});case"info":return f.jsx(f.Fragment,{children:f.jsx(hQ,{setSubPage:g,currentChat:ne,onlineUsers:pe})})}};return f.jsx(f.Fragment,{children:pr()})},TQ=()=>{n2("chat-page"),r2("chat-page")},IQ=({setIsCreating:t})=>{const[e,n]=C.useState(""),r=async()=>{if(!e.trim())return;const s=Ge(ye,"chats");await Ko(s,{name:e,image:null,lastMessage:{},members:[{uid:J.currentUser.uid,joinedAt:new Date().getTime()}]})};return f.jsxs(b_,{data:{setValue:t},children:[f.jsx("div",{children:"Group Name"}),f.jsx("input",{className:"focus:outline-blue-500 p-2",placeholder:"Enter a name",value:e,onChange:s=>n(s.target.value)}),f.jsx(_l,{onClick:()=>{e.trim()&&(r(),t(!1))},variant:"contained",children:"Create"})]})},bQ=()=>{const[t,e]=C.useState("chatroom"),[n,r]=C.useState(null),[s,i]=C.useState([]),[o,a]=C.useState(!1),{theme:l,users:c,setHeaderTitle:u,isLogin:d,chats:h,setChats:p,userData:g,newMessages:y}=C.useContext(ee);let w=0;Uo("chats",p,d);const m=x=>{e("chat"),r(x)},v=(x,A)=>{let I=!1;return x.forEach(S=>{A===S.uid&&(I=!0)}),I},_=()=>{switch(t){case"chatroom":return f.jsxs("div",{className:"p-5 grid gap-y-2 ",children:[f.jsx(Vx,{pageName:"Chat Room",setHeaderTitle:u}),h.map(x=>{var I,S,E,T,b;let A;if(c.forEach(P=>{var N;P.uid===((N=x==null?void 0:x.lastMessage)==null?void 0:N.senderId)&&(A=P)}),v(x.members,(I=J==null?void 0:J.currentUser)==null?void 0:I.uid))return w++,f.jsxs(e1,{onClick:()=>m(x.id),sx:{display:"flex",minHeight:"100px",columnGap:"2px",alignItems:"center",cursor:"pointer",padding:"4px",position:"relative"},children:[f.jsx(JG,{component:"img",alt:"Group Image",image:(S=x==null?void 0:x.image)==null?void 0:S.URL,sx:{height:"48px",width:"48px",borderRadius:"8px",objectPosition:"center",objectFit:"cover",marginRight:"4px"}}),f.jsxs("div",{children:[f.jsx(oo,{sx:{fontWeight:"bold"},gutterBottom:!0,children:x==null?void 0:x.name}),f.jsxs(Xa,{container:!0,sx:{display:"grid"},children:[f.jsx(Xa,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:(x==null?void 0:x.lastMessage)&&f.jsxs(f.Fragment,{children:[f.jsx(dr,{size:"size-5",fontSize:"text-sm",name:A==null?void 0:A.name,image:A==null?void 0:A.image}),f.jsx(oo,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:A==null?void 0:A.name})]})}),(x==null?void 0:x.lastMessage)&&f.jsxs(Xa,{sx:{marginTop:"2px",display:"grid"},children:[f.jsx(oo,{size:"small",variant:"caption",color:"textSecondary",children:Is(x.lastMessage.content,30)}),((E=x.lastMessage)==null?void 0:E.image)&&f.jsx(oo,{size:"small",variant:"caption",color:"textSecondary",children:"1 image"}),f.jsxs(oo,{size:"small",variant:"caption",color:"textSecondary",children:[((T=x.lastMessage)==null?void 0:T.editedTime)&&"edited ",Fi(ar((b=x.lastMessage)!=null&&b.editedTime?x.lastMessage.editedTime:x.lastMessage.timestamp))]})]}),f.jsx(SQ,{chat:x})]})]}),!N0(y,x.id)&&f.jsx("div",{className:"absolute right-1 top-1 bg-red-500 shadow-sm size-4 rounded-full"})]},x.id)}),w===0&&f.jsxs("div",{className:`${l==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"You don't have any chat rooms."}),f.jsx("p",{children:"Ask the admin to add you to a chat room."})]}),(g==null?void 0:g.isAdmin)&&f.jsx("div",{children:f.jsx(_l,{onClick:()=>a(!0),endIcon:f.jsx("img",{className:"w-7",src:le("add")}),children:"Create group"})}),o&&f.jsx(IQ,{setIsCreating:a})]});case"chat":return f.jsxs(f.Fragment,{children:[f.jsx(Vx,{pageName:"Chat",setHeaderTitle:u}),f.jsx(CQ,{data:{page:t,chats:h,setPage:e,chatId:n,typingUsers:s,setTypingUsers:i,youSeenThisChat:N0}})]})}};return f.jsxs(f.Fragment,{children:[f.jsx(Jr,{}),_()]})},Vx=({pageName:t,setHeaderTitle:e})=>{C.useEffect(()=>{e(t)},[])},SQ=({chat:t})=>{const{users:e}=C.useContext(ee),n=oe(ye,"chats",t.id),r=Ge(n,"typingUsers"),[s,i]=C.useState([]),o=()=>Hn(r,l=>{const c=l.docs.map(u=>({...u.data()}));i(c)});if(C.useEffect(()=>{const a=o();return()=>{a()}},[]),s.length>0)return f.jsx("div",{children:s.sort((a,l)=>Pr(a,l,"timestamp","older")).map(a=>{const l=Gn(e,a.uid);return f.jsxs("div",{className:"flex items-center gap-x-1 bg-slate-100 rounded-sm p-1",children:[f.jsx(dr,{size:"size-5",fontSize:"text-sm",name:l==null?void 0:l.name,image:l==null?void 0:l.image}),f.jsx(lS,{})]})})})},AQ=()=>{const{headerTitle:t,refreshUserData:e,isLogin:n,setIsLogIn:r,setUserId:s}=C.useContext(ee);document.title=t;const i=ur();C.useEffect(()=>{e()},[n]),C.useEffect(()=>{const o=LN(J,a=>{a&&(r(a),s(J.currentUser.uid))});return()=>{o()}},[]),C.useEffect(()=>{i(n?"/app/posts":"/login")},[n])},RQ=()=>{const t={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},e=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],n=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated ${Zo(1712655376346)}.`}];return n2("help-page"),r2("help-page"),f.jsxs("div",{className:"p-5 ",children:[f.jsx(Jr,{}),f.jsx(ac,{image:t.image,text:t.text,answer:t.answer}),f.jsx(ac,{text:"FAQ",image:"faq",answer:e.map(r=>f.jsx(ac,{text:r.text,answer:r.answer},r.text))}),f.jsx(ac,{image:"update",text:"Updates",answer:n.map(r=>f.jsx(ac,{text:r.text,answer:r.answer},r.text))})]})},ac=({image:t,text:e,answer:n})=>{const[r,s]=C.useState(!1),{theme:i}=C.useContext(ee);return f.jsxs("div",{className:`border p-2  mb-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(kQ,{image:t}),f.jsx("div",{children:e})]}),f.jsx("button",{onClick:()=>s(!r),className:`mr-2  rounded-full p-1 ${i==="light"?"bg-gray-200":"bg-slate-500"}`,children:f.jsx("img",{className:"w-6",src:le(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},kQ=({image:t})=>f.jsx("img",{className:"w-7",src:le(t)}),ee=C.createContext();function NQ(){var Le,ke,In;const t=WI("sea-localStorage"),[e,n]=C.useState("light"),[r,s]=C.useState(((Le=t==null?void 0:t.timer)==null?void 0:Le.seconds)||0),[i,o]=C.useState(((ke=t==null?void 0:t.timer)==null?void 0:ke.minutes)||0),[a,l]=C.useState(((In=t==null?void 0:t.timer)==null?void 0:In.hours)||0),[c,u]=C.useState(!1),[d,h]=C.useState({}),[p,g]=C.useState([]),[y,w]=C.useState(null),[m,v]=C.useState((t==null?void 0:t.answeredQuestions)||[]),[_,x]=C.useState((t==null?void 0:t.currentTest)||null),[A,I]=C.useState(!1),[S,E]=C.useState(""),[T,b]=C.useState(!1),[P,N]=C.useState([]),[M,L]=C.useState([]),[j,k]=C.useState([]),[R,D]=C.useState([]),[O,$]=C.useState(null),[H,B]=C.useState([]),[K,V]=C.useState([]),[F,te]=C.useState(null);Uo("users",g,c),ZU("users",h,c),Uo("newMessages",D,c);const pe=()=>{},we=()=>{s(0),o(0),l(0)},ne=()=>{we(),v([]),x(null),k0("sea-localStorage",{answeredQuestions:[],currentTest:null,startIndex:null,timer:{seconds:0,minutes:0,hours:0}})};C.useEffect(()=>{k0("seaacademy-theme-data",e)},[e]);const Ie=`${a}:${Q5(i)}:${Q5(r)}`;return C.useEffect(()=>{const Yt=setInterval(()=>{r<59?s(r+1):(s(0),o(i+1)),i===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(Yt)}},[r]),f.jsx(ee.Provider,{value:{answeredQuestions:m,setAnsweredQuestions:v,currentTest:_,stopTest:ne,seaLocalStorage:t,formattedTime:Ie,startTimer:we,seconds:r,minutes:i,hours:a,inspecting:A,userData:d,isLogin:c,setUserData:h,users:p,setCurrentTest:x,headerTitle:S,setHeaderTitle:E,theme:e,setTheme:n,refreshUserData:pe,isOnline:T,setIsOnline:b,userId:y,setUserId:w,setInspecting:I,setIsLogIn:u,posts:P,setPosts:N,tests:M,setTests:L,history:j,setHistory:k,chats:H,setChats:B,notifications:K,setNotifications:V,historyLastDoc:O,setHistoryLastDoc:$,notificationLastDoc:F,setNotificationLastDoc:te,newMessages:R},children:f.jsx("div",{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:f.jsxs(rz,{children:[f.jsx(AQ,{}),S!=="Chat"&&f.jsx(EK,{}),f.jsx(IK,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:f.jsxs(YV,{children:[!c&&f.jsx(Sn,{exact:!0,path:"/login",element:f.jsx(FK,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(Sn,{exact:!0,path:"/app/:page",element:_?f.jsx(mz,{}):f.jsx(MK,{})}),f.jsx(Sn,{exact:!0,path:"/app/history/:resultId",element:f.jsx(gz,{})}),f.jsx(Sn,{exact:!0,path:"/app/help",element:f.jsx(RQ,{})}),f.jsx(Sn,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(CK,{})}),f.jsx(Sn,{path:"/app/history",element:f.jsx(TK,{})}),f.jsx(Sn,{path:"/app/chatroom",element:f.jsx(bQ,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(Sn,{path:"/app/notifications",element:f.jsx(cQ,{})}),f.jsx(Sn,{path:"/app/admin",element:f.jsx(bK,{})}),f.jsx(Sn,{path:"/app/admin/tests",element:f.jsx(rQ,{})}),f.jsx(Sn,{path:"/app/admin/users",element:f.jsx(iQ,{})}),f.jsx(Sn,{path:"/app/admin/posts",element:f.jsx(aQ,{})})]}),f.jsx(Sn,{exact:!0,path:"/app/settings",element:f.jsx(KK,{})})]}),f.jsx(Sn,{path:"*",element:f.jsx(Jv,{title:"No page found!",text:"There is no page!"})})]})}),S!=="Chat Room"&&f.jsx($K,{})]})})})}em.createRoot(document.getElementById("root")).render(f.jsx(f.Fragment,{children:f.jsx(NQ,{})}));
