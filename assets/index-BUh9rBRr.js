var $V=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var sCe=$V((DCe,ug)=>{function jV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function A6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function El(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var P6={exports:{}},K1={},N6={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=Symbol.for("react.element"),FV=Symbol.for("react.portal"),VV=Symbol.for("react.fragment"),UV=Symbol.for("react.strict_mode"),zV=Symbol.for("react.profiler"),BV=Symbol.for("react.provider"),WV=Symbol.for("react.context"),HV=Symbol.for("react.forward_ref"),GV=Symbol.for("react.suspense"),qV=Symbol.for("react.memo"),YV=Symbol.for("react.lazy"),aS=Symbol.iterator;function KV(t){return t===null||typeof t!="object"?null:(t=aS&&t[aS]||t["@@iterator"],typeof t=="function"?t:null)}var D6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L6=Object.assign,M6={};function sh(t,e,n){this.props=t,this.context=e,this.refs=M6,this.updater=n||D6}sh.prototype.isReactComponent={};sh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O6(){}O6.prototype=sh.prototype;function mC(t,e,n){this.props=t,this.context=e,this.refs=M6,this.updater=n||D6}var gC=mC.prototype=new O6;gC.constructor=mC;L6(gC,sh.prototype);gC.isPureReactComponent=!0;var lS=Array.isArray,$6=Object.prototype.hasOwnProperty,vC={current:null},j6={key:!0,ref:!0,__self:!0,__source:!0};function F6(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$6.call(e,r)&&!j6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_p,type:t,key:s,ref:o,props:i,_owner:vC.current}}function QV(t,e){return{$$typeof:_p,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yC(t){return typeof t=="object"&&t!==null&&t.$$typeof===_p}function XV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cS=/\/+/g;function H_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XV(""+t.key):e.toString(36)}function _2(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _p:case FV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+H_(o,0):r,lS(i)?(n="",t!=null&&(n=t.replace(cS,"$&/")+"/"),_2(i,e,n,"",function(c){return c})):i!=null&&(yC(i)&&(i=QV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+H_(s,a);o+=_2(s,e,n,l,i)}else if(l=KV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+H_(s,a++),o+=_2(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bm(t,e,n){if(t==null)return t;var r=[],i=0;return _2(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},w2={transition:null},ZV={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:w2,ReactCurrentOwner:vC};gt.Children={map:bm,forEach:function(t,e,n){bm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bm(t,function(){e++}),e},toArray:function(t){return bm(t,function(e){return e})||[]},only:function(t){if(!yC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=sh;gt.Fragment=VV;gt.Profiler=zV;gt.PureComponent=mC;gt.StrictMode=UV;gt.Suspense=GV;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZV;gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=L6({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$6.call(e,l)&&!j6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_p,type:t.type,key:i,ref:s,props:r,_owner:o}};gt.createContext=function(t){return t={$$typeof:WV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BV,_context:t},t.Consumer=t};gt.createElement=F6;gt.createFactory=function(t){var e=F6.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:HV,render:t}};gt.isValidElement=yC;gt.lazy=function(t){return{$$typeof:YV,_payload:{_status:-1,_result:t},_init:JV}};gt.memo=function(t,e){return{$$typeof:qV,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=w2.transition;w2.transition={};try{t()}finally{w2.transition=e}};gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gt.useCallback=function(t,e){return Ur.current.useCallback(t,e)};gt.useContext=function(t){return Ur.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};gt.useEffect=function(t,e){return Ur.current.useEffect(t,e)};gt.useId=function(){return Ur.current.useId()};gt.useImperativeHandle=function(t,e,n){return Ur.current.useImperativeHandle(t,e,n)};gt.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return Ur.current.useMemo(t,e)};gt.useReducer=function(t,e,n){return Ur.current.useReducer(t,e,n)};gt.useRef=function(t){return Ur.current.useRef(t)};gt.useState=function(t){return Ur.current.useState(t)};gt.useSyncExternalStore=function(t,e,n){return Ur.current.useSyncExternalStore(t,e,n)};gt.useTransition=function(){return Ur.current.useTransition()};gt.version="18.2.0";N6.exports=gt;var y=N6.exports;const Ar=A6(y),dg=jV({__proto__:null,default:Ar},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eU=y,tU=Symbol.for("react.element"),nU=Symbol.for("react.fragment"),rU=Object.prototype.hasOwnProperty,iU=eU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sU={key:!0,ref:!0,__self:!0,__source:!0};function V6(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rU.call(e,r)&&!sU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tU,type:t,key:s,ref:o,props:i,_owner:iU.current}}K1.Fragment=nU;K1.jsx=V6;K1.jsxs=V6;P6.exports=K1;var h=P6.exports,Cx={},U6={exports:{}},ki={},z6={exports:{}},B6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var F=L.length;L.push($);e:for(;0<F;){var q=F-1>>>1,W=L[q];if(0<i(W,$))L[q]=$,L[F]=W,F=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],F=L.pop();if(F!==$){L[0]=F;e:for(var q=0,W=L.length,B=W>>>1;q<B;){var U=2*(q+1)-1,V=L[U],H=U+1,ie=L[H];if(0>i(V,F))H<W&&0>i(ie,V)?(L[q]=ie,L[H]=F,q=H):(L[q]=V,L[U]=F,q=U);else if(H<W&&0>i(ie,F))L[q]=ie,L[H]=F,q=H;else break e}}return $}function i(L,$){var F=L.sortIndex-$.sortIndex;return F!==0?F:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=L)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function x(L){if(g=!1,_(L),!m)if(n(l)!==null)m=!0,P(I);else{var $=n(c);$!==null&&A(x,$.startTime-L)}}function I(L,$){m=!1,g&&(g=!1,v(b),b=-1),p=!0;var F=f;try{for(_($),d=n(l);d!==null&&(!(d.expirationTime>$)||L&&!R());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var W=q(d.expirationTime<=$);$=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_($)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var U=n(c);U!==null&&A(x,U.startTime-$),B=!1}return B}finally{d=null,f=F,p=!1}}var C=!1,T=null,b=-1,k=5,S=-1;function R(){return!(t.unstable_now()-S<k)}function N(){if(T!==null){var L=t.unstable_now();S=L;var $=!0;try{$=T(!0,L)}finally{$?M():(C=!1,T=null)}}else C=!1}var M;if(typeof w=="function")M=function(){w(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,j=D.port2;D.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){E(N,0)};function P(L){T=L,C||(C=!0,M())}function A(L,$){b=E(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(I))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return L()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return $()}finally{f=F}},t.unstable_scheduleCallback=function(L,$,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,L={id:u++,callback:$,priorityLevel:L,startTime:F,expirationTime:W,sortIndex:-1},F>q?(L.sortIndex=F,e(c,L),n(l)===null&&L===n(c)&&(g?(v(b),b=-1):g=!0,A(x,F-q))):(L.sortIndex=W,e(l,L),m||p||(m=!0,P(I))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var $=f;return function(){var F=f;f=$;try{return L.apply(this,arguments)}finally{f=F}}}})(B6);z6.exports=B6;var oU=z6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W6=y,Ei=oU;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H6=new Set,l0={};function Kc(t,e){_d(t,e),_d(t+"Capture",e)}function _d(t,e){for(l0[t]=e,t=0;t<e.length;t++)H6.add(e[t])}var Go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bx=Object.prototype.hasOwnProperty,aU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uS={},dS={};function lU(t){return bx.call(dS,t)?!0:bx.call(uS,t)?!1:aU.test(t)?dS[t]=!0:(uS[t]=!0,!1)}function cU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uU(t,e,n,r){if(e===null||typeof e>"u"||cU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var _C=/[\-:]([a-z])/g;function wC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_C,wC);cr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_C,wC);cr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_C,wC);cr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xC(t,e,n,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uU(e,n,i,r)&&(n=null),r||i===null?lU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=W6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Im=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Mu=Symbol.for("react.fragment"),EC=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),G6=Symbol.for("react.provider"),q6=Symbol.for("react.context"),CC=Symbol.for("react.forward_ref"),Tx=Symbol.for("react.suspense"),Sx=Symbol.for("react.suspense_list"),bC=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),Y6=Symbol.for("react.offscreen"),hS=Symbol.iterator;function Oh(t){return t===null||typeof t!="object"?null:(t=hS&&t[hS]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,G_;function gf(t){if(G_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);G_=e&&e[1]||""}return`
`+G_+t}var q_=!1;function Y_(t,e){if(!t||q_)return"";q_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{q_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gf(t):""}function dU(t){switch(t.tag){case 5:return gf(t.type);case 16:return gf("Lazy");case 13:return gf("Suspense");case 19:return gf("SuspenseList");case 0:case 2:case 15:return t=Y_(t.type,!1),t;case 11:return t=Y_(t.type.render,!1),t;case 1:return t=Y_(t.type,!0),t;default:return""}}function kx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mu:return"Fragment";case Lu:return"Portal";case Ix:return"Profiler";case EC:return"StrictMode";case Tx:return"Suspense";case Sx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q6:return(t.displayName||"Context")+".Consumer";case G6:return(t._context.displayName||"Context")+".Provider";case CC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bC:return e=t.displayName||null,e!==null?e:kx(t.type)||"Memo";case Sa:e=t._payload,t=t._init;try{return kx(t(e))}catch{}}return null}function hU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kx(e);case 8:return e===EC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fU(t){var e=K6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tm(t){t._valueTracker||(t._valueTracker=fU(t))}function Q6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rx(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ll(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X6(t,e){e=e.checked,e!=null&&xC(t,"checked",e,!1)}function Ax(t,e){X6(t,e);var n=ll(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Px(t,e.type,n):e.hasOwnProperty("defaultValue")&&Px(t,e.type,ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Px(t,e,n){(e!=="number"||hg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vf=Array.isArray;function Ju(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ll(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(vf(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ll(n)}}function J6(t,e){var n=ll(e.value),r=ll(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sm,e9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sm=Sm||document.createElement("div"),Sm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function c0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pU=["Webkit","ms","Moz","O"];Object.keys(Nf).forEach(function(t){pU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nf[e]=Nf[t]})});function t9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nf.hasOwnProperty(t)&&Nf[t]?(""+e).trim():e+"px"}function n9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=t9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mU=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lx(t,e){if(e){if(mU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Mx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ox=null;function IC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $x=null,Zu=null,ed=null;function vS(t){if(t=Ep(t)){if(typeof $x!="function")throw Error(X(280));var e=t.stateNode;e&&(e=ev(e),$x(t.stateNode,t.type,e))}}function r9(t){Zu?ed?ed.push(t):ed=[t]:Zu=t}function i9(){if(Zu){var t=Zu,e=ed;if(ed=Zu=null,vS(t),e)for(t=0;t<e.length;t++)vS(e[t])}}function s9(t,e){return t(e)}function o9(){}var K_=!1;function a9(t,e,n){if(K_)return t(e,n);K_=!0;try{return s9(t,e,n)}finally{K_=!1,(Zu!==null||ed!==null)&&(o9(),i9())}}function u0(t,e){var n=t.stateNode;if(n===null)return null;var r=ev(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var jx=!1;if(Go)try{var $h={};Object.defineProperty($h,"passive",{get:function(){jx=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{jx=!1}function gU(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Df=!1,fg=null,pg=!1,Fx=null,vU={onError:function(t){Df=!0,fg=t}};function yU(t,e,n,r,i,s,o,a,l){Df=!1,fg=null,gU.apply(vU,arguments)}function _U(t,e,n,r,i,s,o,a,l){if(yU.apply(this,arguments),Df){if(Df){var c=fg;Df=!1,fg=null}else throw Error(X(198));pg||(pg=!0,Fx=c)}}function Qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yS(t){if(Qc(t)!==t)throw Error(X(188))}function wU(t){var e=t.alternate;if(!e){if(e=Qc(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yS(i),t;if(s===r)return yS(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function c9(t){return t=wU(t),t!==null?u9(t):null}function u9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u9(t);if(e!==null)return e;t=t.sibling}return null}var d9=Ei.unstable_scheduleCallback,_S=Ei.unstable_cancelCallback,xU=Ei.unstable_shouldYield,EU=Ei.unstable_requestPaint,bn=Ei.unstable_now,CU=Ei.unstable_getCurrentPriorityLevel,TC=Ei.unstable_ImmediatePriority,h9=Ei.unstable_UserBlockingPriority,mg=Ei.unstable_NormalPriority,bU=Ei.unstable_LowPriority,f9=Ei.unstable_IdlePriority,Q1=null,Zs=null;function IU(t){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(Q1,t,void 0,(t.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:kU,TU=Math.log,SU=Math.LN2;function kU(t){return t>>>=0,t===0?32:31-(TU(t)/SU|0)|0}var km=64,Rm=4194304;function yf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yf(a):(s&=o,s!==0&&(r=yf(s)))}else o=n&~i,o!==0?r=yf(o):s!==0&&(r=yf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cs(e),i=1<<n,r|=t[n],e&=~i;return r}function RU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=RU(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p9(){var t=km;return km<<=1,!(km&4194240)&&(km=64),t}function Q_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cs(e),t[e]=n}function PU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function SC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function m9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g9,kC,v9,y9,_9,Ux=!1,Am=[],qa=null,Ya=null,Ka=null,d0=new Map,h0=new Map,Ra=[],NU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wS(t,e){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":d0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":h0.delete(e.pointerId)}}function jh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ep(e),e!==null&&kC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DU(t,e,n,r,i){switch(e){case"focusin":return qa=jh(qa,t,e,n,r,i),!0;case"dragenter":return Ya=jh(Ya,t,e,n,r,i),!0;case"mouseover":return Ka=jh(Ka,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return d0.set(s,jh(d0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,h0.set(s,jh(h0.get(s)||null,t,e,n,r,i)),!0}return!1}function w9(t){var e=Jl(t.target);if(e!==null){var n=Qc(e);if(n!==null){if(e=n.tag,e===13){if(e=l9(n),e!==null){t.blockedOn=e,_9(t.priority,function(){v9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ox=r,n.target.dispatchEvent(r),Ox=null}else return e=Ep(n),e!==null&&kC(e),t.blockedOn=n,!1;e.shift()}return!0}function xS(t,e,n){x2(t)&&n.delete(e)}function LU(){Ux=!1,qa!==null&&x2(qa)&&(qa=null),Ya!==null&&x2(Ya)&&(Ya=null),Ka!==null&&x2(Ka)&&(Ka=null),d0.forEach(xS),h0.forEach(xS)}function Fh(t,e){t.blockedOn===e&&(t.blockedOn=null,Ux||(Ux=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,LU)))}function f0(t){function e(i){return Fh(i,t)}if(0<Am.length){Fh(Am[0],t);for(var n=1;n<Am.length;n++){var r=Am[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qa!==null&&Fh(qa,t),Ya!==null&&Fh(Ya,t),Ka!==null&&Fh(Ka,t),d0.forEach(e),h0.forEach(e),n=0;n<Ra.length;n++)r=Ra[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ra.length&&(n=Ra[0],n.blockedOn===null);)w9(n),n.blockedOn===null&&Ra.shift()}var td=aa.ReactCurrentBatchConfig,vg=!0;function MU(t,e,n,r){var i=Ot,s=td.transition;td.transition=null;try{Ot=1,RC(t,e,n,r)}finally{Ot=i,td.transition=s}}function OU(t,e,n,r){var i=Ot,s=td.transition;td.transition=null;try{Ot=4,RC(t,e,n,r)}finally{Ot=i,td.transition=s}}function RC(t,e,n,r){if(vg){var i=zx(t,e,n,r);if(i===null)ow(t,e,r,yg,n),wS(t,r);else if(DU(i,t,e,n,r))r.stopPropagation();else if(wS(t,r),e&4&&-1<NU.indexOf(t)){for(;i!==null;){var s=Ep(i);if(s!==null&&g9(s),s=zx(t,e,n,r),s===null&&ow(t,e,r,yg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ow(t,e,r,null,n)}}var yg=null;function zx(t,e,n,r){if(yg=null,t=IC(r),t=Jl(t),t!==null)if(e=Qc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yg=t,null}function x9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CU()){case TC:return 1;case h9:return 4;case mg:case bU:return 16;case f9:return 536870912;default:return 16}default:return 16}}var ja=null,AC=null,E2=null;function E9(){if(E2)return E2;var t,e=AC,n=e.length,r,i="value"in ja?ja.value:ja.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return E2=i.slice(t,1<r?1-r:void 0)}function C2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pm(){return!0}function ES(){return!1}function Ri(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pm:ES,this.isPropagationStopped=ES,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pm)},persist:function(){},isPersistent:Pm}),e}var oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PC=Ri(oh),xp=dn({},oh,{view:0,detail:0}),$U=Ri(xp),X_,J_,Vh,X1=dn({},xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vh&&(Vh&&t.type==="mousemove"?(X_=t.screenX-Vh.screenX,J_=t.screenY-Vh.screenY):J_=X_=0,Vh=t),X_)},movementY:function(t){return"movementY"in t?t.movementY:J_}}),CS=Ri(X1),jU=dn({},X1,{dataTransfer:0}),FU=Ri(jU),VU=dn({},xp,{relatedTarget:0}),Z_=Ri(VU),UU=dn({},oh,{animationName:0,elapsedTime:0,pseudoElement:0}),zU=Ri(UU),BU=dn({},oh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WU=Ri(BU),HU=dn({},oh,{data:0}),bS=Ri(HU),GU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YU[t])?!!e[t]:!1}function NC(){return KU}var QU=dn({},xp,{key:function(t){if(t.key){var e=GU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=C2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NC,charCode:function(t){return t.type==="keypress"?C2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?C2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XU=Ri(QU),JU=dn({},X1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IS=Ri(JU),ZU=dn({},xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NC}),ez=Ri(ZU),tz=dn({},oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),nz=Ri(tz),rz=dn({},X1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iz=Ri(rz),sz=[9,13,27,32],DC=Go&&"CompositionEvent"in window,Lf=null;Go&&"documentMode"in document&&(Lf=document.documentMode);var oz=Go&&"TextEvent"in window&&!Lf,C9=Go&&(!DC||Lf&&8<Lf&&11>=Lf),TS=" ",SS=!1;function b9(t,e){switch(t){case"keyup":return sz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function az(t,e){switch(t){case"compositionend":return I9(e);case"keypress":return e.which!==32?null:(SS=!0,TS);case"textInput":return t=e.data,t===TS&&SS?null:t;default:return null}}function lz(t,e){if(Ou)return t==="compositionend"||!DC&&b9(t,e)?(t=E9(),E2=AC=ja=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C9&&e.locale!=="ko"?null:e.data;default:return null}}var cz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cz[t.type]:e==="textarea"}function T9(t,e,n,r){r9(r),e=_g(e,"onChange"),0<e.length&&(n=new PC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mf=null,p0=null;function uz(t){$9(t,0)}function J1(t){var e=Fu(t);if(Q6(e))return t}function dz(t,e){if(t==="change")return e}var S9=!1;if(Go){var ew;if(Go){var tw="oninput"in document;if(!tw){var RS=document.createElement("div");RS.setAttribute("oninput","return;"),tw=typeof RS.oninput=="function"}ew=tw}else ew=!1;S9=ew&&(!document.documentMode||9<document.documentMode)}function AS(){Mf&&(Mf.detachEvent("onpropertychange",k9),p0=Mf=null)}function k9(t){if(t.propertyName==="value"&&J1(p0)){var e=[];T9(e,p0,t,IC(t)),a9(uz,e)}}function hz(t,e,n){t==="focusin"?(AS(),Mf=e,p0=n,Mf.attachEvent("onpropertychange",k9)):t==="focusout"&&AS()}function fz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return J1(p0)}function pz(t,e){if(t==="click")return J1(e)}function mz(t,e){if(t==="input"||t==="change")return J1(e)}function gz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ss=typeof Object.is=="function"?Object.is:gz;function m0(t,e){if(Ss(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bx.call(e,i)||!Ss(t[i],e[i]))return!1}return!0}function PS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NS(t,e){var n=PS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PS(n)}}function R9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A9(){for(var t=window,e=hg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hg(t.document)}return e}function LC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vz(t){var e=A9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R9(n.ownerDocument.documentElement,n)){if(r!==null&&LC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=NS(n,s);var o=NS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yz=Go&&"documentMode"in document&&11>=document.documentMode,$u=null,Bx=null,Of=null,Wx=!1;function DS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wx||$u==null||$u!==hg(r)||(r=$u,"selectionStart"in r&&LC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Of&&m0(Of,r)||(Of=r,r=_g(Bx,"onSelect"),0<r.length&&(e=new PC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$u)))}function Nm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ju={animationend:Nm("Animation","AnimationEnd"),animationiteration:Nm("Animation","AnimationIteration"),animationstart:Nm("Animation","AnimationStart"),transitionend:Nm("Transition","TransitionEnd")},nw={},P9={};Go&&(P9=document.createElement("div").style,"AnimationEvent"in window||(delete ju.animationend.animation,delete ju.animationiteration.animation,delete ju.animationstart.animation),"TransitionEvent"in window||delete ju.transitionend.transition);function Z1(t){if(nw[t])return nw[t];if(!ju[t])return t;var e=ju[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P9)return nw[t]=e[n];return t}var N9=Z1("animationend"),D9=Z1("animationiteration"),L9=Z1("animationstart"),M9=Z1("transitionend"),O9=new Map,LS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cl(t,e){O9.set(t,e),Kc(e,[t])}for(var rw=0;rw<LS.length;rw++){var iw=LS[rw],_z=iw.toLowerCase(),wz=iw[0].toUpperCase()+iw.slice(1);Cl(_z,"on"+wz)}Cl(N9,"onAnimationEnd");Cl(D9,"onAnimationIteration");Cl(L9,"onAnimationStart");Cl("dblclick","onDoubleClick");Cl("focusin","onFocus");Cl("focusout","onBlur");Cl(M9,"onTransitionEnd");_d("onMouseEnter",["mouseout","mouseover"]);_d("onMouseLeave",["mouseout","mouseover"]);_d("onPointerEnter",["pointerout","pointerover"]);_d("onPointerLeave",["pointerout","pointerover"]);Kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xz=new Set("cancel close invalid load scroll toggle".split(" ").concat(_f));function MS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_U(r,e,void 0,t),t.currentTarget=null}function $9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;MS(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;MS(i,a,c),s=l}}}if(pg)throw t=Fx,pg=!1,Fx=null,t}function Yt(t,e){var n=e[Kx];n===void 0&&(n=e[Kx]=new Set);var r=t+"__bubble";n.has(r)||(j9(e,t,2,!1),n.add(r))}function sw(t,e,n){var r=0;e&&(r|=4),j9(n,t,r,e)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function g0(t){if(!t[Dm]){t[Dm]=!0,H6.forEach(function(n){n!=="selectionchange"&&(xz.has(n)||sw(n,!1,t),sw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dm]||(e[Dm]=!0,sw("selectionchange",!1,e))}}function j9(t,e,n,r){switch(x9(e)){case 1:var i=MU;break;case 4:i=OU;break;default:i=RC}n=i.bind(null,e,n,t),i=void 0,!jx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ow(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Jl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}a9(function(){var c=s,u=IC(n),d=[];e:{var f=O9.get(t);if(f!==void 0){var p=PC,m=t;switch(t){case"keypress":if(C2(n)===0)break e;case"keydown":case"keyup":p=XU;break;case"focusin":m="focus",p=Z_;break;case"focusout":m="blur",p=Z_;break;case"beforeblur":case"afterblur":p=Z_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ez;break;case N9:case D9:case L9:p=zU;break;case M9:p=nz;break;case"scroll":p=$U;break;case"wheel":p=iz;break;case"copy":case"cut":case"paste":p=WU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=IS}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=u0(w,v),x!=null&&g.push(v0(w,x,_)))),E)break;w=w.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ox&&(m=n.relatedTarget||n.fromElement)&&(Jl(m)||m[qo]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Jl(m):null,m!==null&&(E=Qc(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=CS,x="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=IS,x="onPointerLeave",v="onPointerEnter",w="pointer"),E=p==null?f:Fu(p),_=m==null?f:Fu(m),f=new g(x,w+"leave",p,n,u),f.target=E,f.relatedTarget=_,x=null,Jl(u)===c&&(g=new g(v,w+"enter",m,n,u),g.target=_,g.relatedTarget=E,x=g),E=x,p&&m)t:{for(g=p,v=m,w=0,_=g;_;_=fu(_))w++;for(_=0,x=v;x;x=fu(x))_++;for(;0<w-_;)g=fu(g),w--;for(;0<_-w;)v=fu(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=fu(g),v=fu(v)}g=null}else g=null;p!==null&&OS(d,f,p,g,!1),m!==null&&E!==null&&OS(d,E,m,g,!0)}}e:{if(f=c?Fu(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=dz;else if(kS(f))if(S9)I=mz;else{I=fz;var C=hz}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=pz);if(I&&(I=I(t,c))){T9(d,I,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Px(f,"number",f.value)}switch(C=c?Fu(c):window,t){case"focusin":(kS(C)||C.contentEditable==="true")&&($u=C,Bx=c,Of=null);break;case"focusout":Of=Bx=$u=null;break;case"mousedown":Wx=!0;break;case"contextmenu":case"mouseup":case"dragend":Wx=!1,DS(d,n,u);break;case"selectionchange":if(yz)break;case"keydown":case"keyup":DS(d,n,u)}var T;if(DC)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ou?b9(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(C9&&n.locale!=="ko"&&(Ou||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ou&&(T=E9()):(ja=u,AC="value"in ja?ja.value:ja.textContent,Ou=!0)),C=_g(c,b),0<C.length&&(b=new bS(b,t,null,n,u),d.push({event:b,listeners:C}),T?b.data=T:(T=I9(n),T!==null&&(b.data=T)))),(T=oz?az(t,n):lz(t,n))&&(c=_g(c,"onBeforeInput"),0<c.length&&(u=new bS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}$9(d,e)})}function v0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _g(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=u0(t,n),s!=null&&r.unshift(v0(t,s,i)),s=u0(t,e),s!=null&&r.push(v0(t,s,i))),t=t.return}return r}function fu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=u0(n,s),l!=null&&o.unshift(v0(n,l,a))):i||(l=u0(n,s),l!=null&&o.push(v0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ez=/\r\n?/g,Cz=/\u0000|\uFFFD/g;function $S(t){return(typeof t=="string"?t:""+t).replace(Ez,`
`).replace(Cz,"")}function Lm(t,e,n){if(e=$S(e),$S(t)!==e&&n)throw Error(X(425))}function wg(){}var Hx=null,Gx=null;function qx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yx=typeof setTimeout=="function"?setTimeout:void 0,bz=typeof clearTimeout=="function"?clearTimeout:void 0,jS=typeof Promise=="function"?Promise:void 0,Iz=typeof queueMicrotask=="function"?queueMicrotask:typeof jS<"u"?function(t){return jS.resolve(null).then(t).catch(Tz)}:Yx;function Tz(t){setTimeout(function(){throw t})}function aw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),f0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);f0(e)}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ah=Math.random().toString(36).slice(2),zs="__reactFiber$"+ah,y0="__reactProps$"+ah,qo="__reactContainer$"+ah,Kx="__reactEvents$"+ah,Sz="__reactListeners$"+ah,kz="__reactHandles$"+ah;function Jl(t){var e=t[zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FS(t);t!==null;){if(n=t[zs])return n;t=FS(t)}return e}t=n,n=t.parentNode}return null}function Ep(t){return t=t[zs]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function ev(t){return t[y0]||null}var Qx=[],Vu=-1;function bl(t){return{current:t}}function Jt(t){0>Vu||(t.current=Qx[Vu],Qx[Vu]=null,Vu--)}function Ht(t,e){Vu++,Qx[Vu]=t.current,t.current=e}var cl={},br=bl(cl),ei=bl(!1),bc=cl;function wd(t,e){var n=t.type.contextTypes;if(!n)return cl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ti(t){return t=t.childContextTypes,t!=null}function xg(){Jt(ei),Jt(br)}function VS(t,e,n){if(br.current!==cl)throw Error(X(168));Ht(br,e),Ht(ei,n)}function F9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,hU(t)||"Unknown",i));return dn({},n,r)}function Eg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cl,bc=br.current,Ht(br,t),Ht(ei,ei.current),!0}function US(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=F9(t,e,bc),r.__reactInternalMemoizedMergedChildContext=t,Jt(ei),Jt(br),Ht(br,t)):Jt(ei),Ht(ei,n)}var To=null,tv=!1,lw=!1;function V9(t){To===null?To=[t]:To.push(t)}function Rz(t){tv=!0,V9(t)}function Il(){if(!lw&&To!==null){lw=!0;var t=0,e=Ot;try{var n=To;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}To=null,tv=!1}catch(i){throw To!==null&&(To=To.slice(t+1)),d9(TC,Il),i}finally{Ot=e,lw=!1}}return null}var Uu=[],zu=0,Cg=null,bg=0,$i=[],ji=0,Ic=null,Ao=1,Po="";function Vl(t,e){Uu[zu++]=bg,Uu[zu++]=Cg,Cg=t,bg=e}function U9(t,e,n){$i[ji++]=Ao,$i[ji++]=Po,$i[ji++]=Ic,Ic=t;var r=Ao;t=Po;var i=32-Cs(r)-1;r&=~(1<<i),n+=1;var s=32-Cs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ao=1<<32-Cs(e)+i|n<<i|r,Po=s+t}else Ao=1<<s|n<<i|r,Po=t}function MC(t){t.return!==null&&(Vl(t,1),U9(t,1,0))}function OC(t){for(;t===Cg;)Cg=Uu[--zu],Uu[zu]=null,bg=Uu[--zu],Uu[zu]=null;for(;t===Ic;)Ic=$i[--ji],$i[ji]=null,Po=$i[--ji],$i[ji]=null,Ao=$i[--ji],$i[ji]=null}var _i=null,mi=null,rn=!1,_s=null;function z9(t,e){var n=zi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_i=t,mi=Qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_i=t,mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ic!==null?{id:Ao,overflow:Po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_i=t,mi=null,!0):!1;default:return!1}}function Xx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jx(t){if(rn){var e=mi;if(e){var n=e;if(!zS(t,e)){if(Xx(t))throw Error(X(418));e=Qa(n.nextSibling);var r=_i;e&&zS(t,e)?z9(r,n):(t.flags=t.flags&-4097|2,rn=!1,_i=t)}}else{if(Xx(t))throw Error(X(418));t.flags=t.flags&-4097|2,rn=!1,_i=t}}}function BS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_i=t}function Mm(t){if(t!==_i)return!1;if(!rn)return BS(t),rn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qx(t.type,t.memoizedProps)),e&&(e=mi)){if(Xx(t))throw B9(),Error(X(418));for(;e;)z9(t,e),e=Qa(e.nextSibling)}if(BS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mi=Qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mi=null}}else mi=_i?Qa(t.stateNode.nextSibling):null;return!0}function B9(){for(var t=mi;t;)t=Qa(t.nextSibling)}function xd(){mi=_i=null,rn=!1}function $C(t){_s===null?_s=[t]:_s.push(t)}var Az=aa.ReactCurrentBatchConfig;function vs(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ig=bl(null),Tg=null,Bu=null,jC=null;function FC(){jC=Bu=Tg=null}function VC(t){var e=Ig.current;Jt(Ig),t._currentValue=e}function Zx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nd(t,e){Tg=t,jC=Bu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yr=!0),t.firstContext=null)}function Qi(t){var e=t._currentValue;if(jC!==t)if(t={context:t,memoizedValue:e,next:null},Bu===null){if(Tg===null)throw Error(X(308));Bu=t,Tg.dependencies={lanes:0,firstContext:t}}else Bu=Bu.next=t;return e}var Zl=null;function UC(t){Zl===null?Zl=[t]:Zl.push(t)}function W9(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,UC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yo(t,r)}function Yo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ka=!1;function zC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yo(t,n)}return i=r.interleaved,i===null?(e.next=e,UC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yo(t,n)}function b2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,SC(t,n)}}function WS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sg(t,e,n,r){var i=t.updateQueue;ka=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=dn({},d,f);break e;case 2:ka=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Sc|=o,t.lanes=o,t.memoizedState=d}}function HS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var G9=new W6.Component().refs;function e3(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nv={isMounted:function(t){return(t=t._reactInternals)?Qc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Za(t),s=Vo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xa(t,s,i),e!==null&&(bs(e,t,i,r),b2(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mr(),i=Za(t),s=Vo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xa(t,s,i),e!==null&&(bs(e,t,i,r),b2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mr(),r=Za(t),i=Vo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,r),e!==null&&(bs(e,t,r,n),b2(e,t,r))}};function GS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!m0(n,r)||!m0(i,s):!0}function q9(t,e,n){var r=!1,i=cl,s=e.contextType;return typeof s=="object"&&s!==null?s=Qi(s):(i=ti(e)?bc:br.current,r=e.contextTypes,s=(r=r!=null)?wd(t,i):cl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nv.enqueueReplaceState(e,e.state,null)}function t3(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=G9,zC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qi(s):(s=ti(e)?bc:br.current,i.context=wd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(e3(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nv.enqueueReplaceState(i,i.state,null),Sg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===G9&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Om(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YS(t){var e=t._init;return e(t._payload)}function Y9(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=el(v,w),v.index=0,v.sibling=null,v}function s(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,_,x){return w===null||w.tag!==6?(w=mw(_,v.mode,x),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,x){var I=_.type;return I===Mu?u(v,w,_.props.children,x,_.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sa&&YS(I)===w.type)?(x=i(w,_.props),x.ref=Uh(v,w,_),x.return=v,x):(x=A2(_.type,_.key,_.props,null,v.mode,x),x.ref=Uh(v,w,_),x.return=v,x)}function c(v,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=gw(_,v.mode,x),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function u(v,w,_,x,I){return w===null||w.tag!==7?(w=fc(_,v.mode,x,I),w.return=v,w):(w=i(w,_),w.return=v,w)}function d(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mw(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Im:return _=A2(w.type,w.key,w.props,null,v.mode,_),_.ref=Uh(v,null,w),_.return=v,_;case Lu:return w=gw(w,v.mode,_),w.return=v,w;case Sa:var x=w._init;return d(v,x(w._payload),_)}if(vf(w)||Oh(w))return w=fc(w,v.mode,_,null),w.return=v,w;Om(v,w)}return null}function f(v,w,_,x){var I=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(v,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Im:return _.key===I?l(v,w,_,x):null;case Lu:return _.key===I?c(v,w,_,x):null;case Sa:return I=_._init,f(v,w,I(_._payload),x)}if(vf(_)||Oh(_))return I!==null?null:u(v,w,_,x,null);Om(v,_)}return null}function p(v,w,_,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,a(w,v,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Im:return v=v.get(x.key===null?_:x.key)||null,l(w,v,x,I);case Lu:return v=v.get(x.key===null?_:x.key)||null,c(w,v,x,I);case Sa:var C=x._init;return p(v,w,_,C(x._payload),I)}if(vf(x)||Oh(x))return v=v.get(_)||null,u(w,v,x,I,null);Om(w,x)}return null}function m(v,w,_,x){for(var I=null,C=null,T=w,b=w=0,k=null;T!==null&&b<_.length;b++){T.index>b?(k=T,T=null):k=T.sibling;var S=f(v,T,_[b],x);if(S===null){T===null&&(T=k);break}t&&T&&S.alternate===null&&e(v,T),w=s(S,w,b),C===null?I=S:C.sibling=S,C=S,T=k}if(b===_.length)return n(v,T),rn&&Vl(v,b),I;if(T===null){for(;b<_.length;b++)T=d(v,_[b],x),T!==null&&(w=s(T,w,b),C===null?I=T:C.sibling=T,C=T);return rn&&Vl(v,b),I}for(T=r(v,T);b<_.length;b++)k=p(T,v,b,_[b],x),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?b:k.key),w=s(k,w,b),C===null?I=k:C.sibling=k,C=k);return t&&T.forEach(function(R){return e(v,R)}),rn&&Vl(v,b),I}function g(v,w,_,x){var I=Oh(_);if(typeof I!="function")throw Error(X(150));if(_=I.call(_),_==null)throw Error(X(151));for(var C=I=null,T=w,b=w=0,k=null,S=_.next();T!==null&&!S.done;b++,S=_.next()){T.index>b?(k=T,T=null):k=T.sibling;var R=f(v,T,S.value,x);if(R===null){T===null&&(T=k);break}t&&T&&R.alternate===null&&e(v,T),w=s(R,w,b),C===null?I=R:C.sibling=R,C=R,T=k}if(S.done)return n(v,T),rn&&Vl(v,b),I;if(T===null){for(;!S.done;b++,S=_.next())S=d(v,S.value,x),S!==null&&(w=s(S,w,b),C===null?I=S:C.sibling=S,C=S);return rn&&Vl(v,b),I}for(T=r(v,T);!S.done;b++,S=_.next())S=p(T,v,b,S.value,x),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?b:S.key),w=s(S,w,b),C===null?I=S:C.sibling=S,C=S);return t&&T.forEach(function(N){return e(v,N)}),rn&&Vl(v,b),I}function E(v,w,_,x){if(typeof _=="object"&&_!==null&&_.type===Mu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Im:e:{for(var I=_.key,C=w;C!==null;){if(C.key===I){if(I=_.type,I===Mu){if(C.tag===7){n(v,C.sibling),w=i(C,_.props.children),w.return=v,v=w;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sa&&YS(I)===C.type){n(v,C.sibling),w=i(C,_.props),w.ref=Uh(v,C,_),w.return=v,v=w;break e}n(v,C);break}else e(v,C);C=C.sibling}_.type===Mu?(w=fc(_.props.children,v.mode,x,_.key),w.return=v,v=w):(x=A2(_.type,_.key,_.props,null,v.mode,x),x.ref=Uh(v,w,_),x.return=v,v=x)}return o(v);case Lu:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=gw(_,v.mode,x),w.return=v,v=w}return o(v);case Sa:return C=_._init,E(v,w,C(_._payload),x)}if(vf(_))return m(v,w,_,x);if(Oh(_))return g(v,w,_,x);Om(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=mw(_,v.mode,x),w.return=v,v=w),o(v)):n(v,w)}return E}var Ed=Y9(!0),K9=Y9(!1),Cp={},eo=bl(Cp),_0=bl(Cp),w0=bl(Cp);function ec(t){if(t===Cp)throw Error(X(174));return t}function BC(t,e){switch(Ht(w0,e),Ht(_0,t),Ht(eo,Cp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dx(e,t)}Jt(eo),Ht(eo,e)}function Cd(){Jt(eo),Jt(_0),Jt(w0)}function Q9(t){ec(w0.current);var e=ec(eo.current),n=Dx(e,t.type);e!==n&&(Ht(_0,t),Ht(eo,n))}function WC(t){_0.current===t&&(Jt(eo),Jt(_0))}var an=bl(0);function kg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cw=[];function HC(){for(var t=0;t<cw.length;t++)cw[t]._workInProgressVersionPrimary=null;cw.length=0}var I2=aa.ReactCurrentDispatcher,uw=aa.ReactCurrentBatchConfig,Tc=0,cn=null,jn=null,Hn=null,Rg=!1,$f=!1,x0=0,Pz=0;function fr(){throw Error(X(321))}function GC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ss(t[n],e[n]))return!1;return!0}function qC(t,e,n,r,i,s){if(Tc=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I2.current=t===null||t.memoizedState===null?Mz:Oz,t=n(r,i),$f){s=0;do{if($f=!1,x0=0,25<=s)throw Error(X(301));s+=1,Hn=jn=null,e.updateQueue=null,I2.current=$z,t=n(r,i)}while($f)}if(I2.current=Ag,e=jn!==null&&jn.next!==null,Tc=0,Hn=jn=cn=null,Rg=!1,e)throw Error(X(300));return t}function YC(){var t=x0!==0;return x0=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?cn.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function Xi(){if(jn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=Hn===null?cn.memoizedState:Hn.next;if(e!==null)Hn=e,jn=t;else{if(t===null)throw Error(X(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Hn===null?cn.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function E0(t,e){return typeof e=="function"?e(t):e}function dw(t){var e=Xi(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Tc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,cn.lanes|=u,Sc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ss(r,e.memoizedState)||(Yr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cn.lanes|=s,Sc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hw(t){var e=Xi(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ss(s,e.memoizedState)||(Yr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function X9(){}function J9(t,e){var n=cn,r=Xi(),i=e(),s=!Ss(r.memoizedState,i);if(s&&(r.memoizedState=i,Yr=!0),r=r.queue,KC(tN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(n.flags|=2048,C0(9,eN.bind(null,n,r,i,e),void 0,null),Qn===null)throw Error(X(349));Tc&30||Z9(n,e,i)}return i}function Z9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eN(t,e,n,r){e.value=n,e.getSnapshot=r,nN(e)&&rN(t)}function tN(t,e,n){return n(function(){nN(e)&&rN(t)})}function nN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ss(t,n)}catch{return!0}}function rN(t){var e=Yo(t,1);e!==null&&bs(e,t,1,-1)}function KS(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:t},e.queue=t,t=t.dispatch=Lz.bind(null,cn,t),[e.memoizedState,t]}function C0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iN(){return Xi().memoizedState}function T2(t,e,n,r){var i=$s();cn.flags|=t,i.memoizedState=C0(1|e,n,void 0,r===void 0?null:r)}function rv(t,e,n,r){var i=Xi();r=r===void 0?null:r;var s=void 0;if(jn!==null){var o=jn.memoizedState;if(s=o.destroy,r!==null&&GC(r,o.deps)){i.memoizedState=C0(e,n,s,r);return}}cn.flags|=t,i.memoizedState=C0(1|e,n,s,r)}function QS(t,e){return T2(8390656,8,t,e)}function KC(t,e){return rv(2048,8,t,e)}function sN(t,e){return rv(4,2,t,e)}function oN(t,e){return rv(4,4,t,e)}function aN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lN(t,e,n){return n=n!=null?n.concat([t]):null,rv(4,4,aN.bind(null,e,t),n)}function QC(){}function cN(t,e){var n=Xi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uN(t,e){var n=Xi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dN(t,e,n){return Tc&21?(Ss(n,e)||(n=p9(),cn.lanes|=n,Sc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yr=!0),t.memoizedState=n)}function Nz(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=uw.transition;uw.transition={};try{t(!1),e()}finally{Ot=n,uw.transition=r}}function hN(){return Xi().memoizedState}function Dz(t,e,n){var r=Za(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fN(t))pN(e,n);else if(n=W9(t,e,n,r),n!==null){var i=Mr();bs(n,t,r,i),mN(n,e,r)}}function Lz(t,e,n){var r=Za(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fN(t))pN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ss(a,o)){var l=e.interleaved;l===null?(i.next=i,UC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=W9(t,e,i,r),n!==null&&(i=Mr(),bs(n,t,r,i),mN(n,e,r))}}function fN(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function pN(t,e){$f=Rg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,SC(t,n)}}var Ag={readContext:Qi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},Mz={readContext:Qi,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:Qi,useEffect:QS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,T2(4194308,4,aN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return T2(4194308,4,t,e)},useInsertionEffect:function(t,e){return T2(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Dz.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:KS,useDebugValue:QC,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=KS(!1),e=t[0];return t=Nz.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=$s();if(rn){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Qn===null)throw Error(X(349));Tc&30||Z9(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,QS(tN.bind(null,r,s,t),[t]),r.flags|=2048,C0(9,eN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$s(),e=Qn.identifierPrefix;if(rn){var n=Po,r=Ao;n=(r&~(1<<32-Cs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=x0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Oz={readContext:Qi,useCallback:cN,useContext:Qi,useEffect:KC,useImperativeHandle:lN,useInsertionEffect:sN,useLayoutEffect:oN,useMemo:uN,useReducer:dw,useRef:iN,useState:function(){return dw(E0)},useDebugValue:QC,useDeferredValue:function(t){var e=Xi();return dN(e,jn.memoizedState,t)},useTransition:function(){var t=dw(E0)[0],e=Xi().memoizedState;return[t,e]},useMutableSource:X9,useSyncExternalStore:J9,useId:hN,unstable_isNewReconciler:!1},$z={readContext:Qi,useCallback:cN,useContext:Qi,useEffect:KC,useImperativeHandle:lN,useInsertionEffect:sN,useLayoutEffect:oN,useMemo:uN,useReducer:hw,useRef:iN,useState:function(){return hw(E0)},useDebugValue:QC,useDeferredValue:function(t){var e=Xi();return jn===null?e.memoizedState=t:dN(e,jn.memoizedState,t)},useTransition:function(){var t=hw(E0)[0],e=Xi().memoizedState;return[t,e]},useMutableSource:X9,useSyncExternalStore:J9,useId:hN,unstable_isNewReconciler:!1};function bd(t,e){try{var n="",r=e;do n+=dU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function n3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jz=typeof WeakMap=="function"?WeakMap:Map;function gN(t,e,n){n=Vo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ng||(Ng=!0,h3=r),n3(t,e)},n}function vN(t,e,n){n=Vo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){n3(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){n3(t,e),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Jz.bind(null,t,e,n),e.then(t,t))}function JS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vo(-1,1),e.tag=2,Xa(n,e,1))),n.lanes|=1),t)}var Fz=aa.ReactCurrentOwner,Yr=!1;function Sr(t,e,n,r){e.child=t===null?K9(e,null,n,r):Ed(e,t.child,n,r)}function e4(t,e,n,r,i){n=n.render;var s=e.ref;return nd(e,i),r=qC(t,e,n,r,s,i),n=YC(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(rn&&n&&MC(e),e.flags|=1,Sr(t,e,r,i),e.child)}function t4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ib(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yN(t,e,s,r,i)):(t=A2(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:m0,n(o,r)&&t.ref===e.ref)return Ko(t,e,i)}return e.flags|=1,t=el(s,r),t.ref=e.ref,t.return=e,e.child=t}function yN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(m0(s,r)&&t.ref===e.ref)if(Yr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yr=!0);else return e.lanes=t.lanes,Ko(t,e,i)}return r3(t,e,n,r,i)}function _N(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Hu,fi),fi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(Hu,fi),fi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ht(Hu,fi),fi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ht(Hu,fi),fi|=r;return Sr(t,e,i,n),e.child}function wN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r3(t,e,n,r,i){var s=ti(n)?bc:br.current;return s=wd(e,s),nd(e,i),n=qC(t,e,n,r,s,i),r=YC(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(rn&&r&&MC(e),e.flags|=1,Sr(t,e,n,i),e.child)}function n4(t,e,n,r,i){if(ti(n)){var s=!0;Eg(e)}else s=!1;if(nd(e,i),e.stateNode===null)S2(t,e),q9(e,n,r),t3(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qi(c):(c=ti(n)?bc:br.current,c=wd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qS(e,o,r,c),ka=!1;var f=e.memoizedState;o.state=f,Sg(e,r,o,i),l=e.memoizedState,a!==r||f!==l||ei.current||ka?(typeof u=="function"&&(e3(e,n,u,r),l=e.memoizedState),(a=ka||GS(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,H9(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vs(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qi(l):(l=ti(n)?bc:br.current,l=wd(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&qS(e,o,r,l),ka=!1,f=e.memoizedState,o.state=f,Sg(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||ei.current||ka?(typeof p=="function"&&(e3(e,n,p,r),m=e.memoizedState),(c=ka||GS(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return i3(t,e,n,r,s,i)}function i3(t,e,n,r,i,s){wN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&US(e,n,!1),Ko(t,e,s);r=e.stateNode,Fz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ed(e,t.child,null,s),e.child=Ed(e,null,a,s)):Sr(t,e,a,s),e.memoizedState=r.state,i&&US(e,n,!0),e.child}function xN(t){var e=t.stateNode;e.pendingContext?VS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VS(t,e.context,!1),BC(t,e.containerInfo)}function r4(t,e,n,r,i){return xd(),$C(i),e.flags|=256,Sr(t,e,n,r),e.child}var s3={dehydrated:null,treeContext:null,retryLane:0};function o3(t){return{baseLanes:t,cachePool:null,transitions:null}}function EN(t,e,n){var r=e.pendingProps,i=an.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ht(an,i&1),t===null)return Jx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ov(o,r,0,null),t=fc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=o3(n),e.memoizedState=s3,t):XC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Vz(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=el(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=el(a,s):(s=fc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?o3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=s3,r}return s=t.child,t=s.sibling,r=el(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function XC(t,e){return e=ov({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $m(t,e,n,r){return r!==null&&$C(r),Ed(e,t.child,null,n),t=XC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vz(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fw(Error(X(422))),$m(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ov({mode:"visible",children:r.children},i,0,null),s=fc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ed(e,t.child,null,o),e.child.memoizedState=o3(o),e.memoizedState=s3,s);if(!(e.mode&1))return $m(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=fw(s,r,void 0),$m(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yr||a){if(r=Qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yo(t,i),bs(r,t,i,-1))}return rb(),r=fw(Error(X(421))),$m(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Zz.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mi=Qa(i.nextSibling),_i=e,rn=!0,_s=null,t!==null&&($i[ji++]=Ao,$i[ji++]=Po,$i[ji++]=Ic,Ao=t.id,Po=t.overflow,Ic=e),e=XC(e,r.children),e.flags|=4096,e)}function i4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zx(t.return,e,n)}function pw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function CN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Sr(t,e,r.children,n),r=an.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i4(t,n,e);else if(t.tag===19)i4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ht(an,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pw(e,!0,n,null,s);break;case"together":pw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function S2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=el(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=el(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Uz(t,e,n){switch(e.tag){case 3:xN(e),xd();break;case 5:Q9(e);break;case 1:ti(e.type)&&Eg(e);break;case 4:BC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ht(Ig,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ht(an,an.current&1),e.flags|=128,null):n&e.child.childLanes?EN(t,e,n):(Ht(an,an.current&1),t=Ko(t,e,n),t!==null?t.sibling:null);Ht(an,an.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(an,an.current),r)break;return null;case 22:case 23:return e.lanes=0,_N(t,e,n)}return Ko(t,e,n)}var bN,a3,IN,TN;bN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};a3=function(){};IN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ec(eo.current);var s=null;switch(n){case"input":i=Rx(t,i),r=Rx(t,r),s=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),s=[];break;case"textarea":i=Nx(t,i),r=Nx(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wg)}Lx(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(l0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(l0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TN=function(t,e,n,r){n!==r&&(e.flags|=4)};function zh(t,e){if(!rn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zz(t,e,n){var r=e.pendingProps;switch(OC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return ti(e.type)&&xg(),pr(e),null;case 3:return r=e.stateNode,Cd(),Jt(ei),Jt(br),HC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_s!==null&&(m3(_s),_s=null))),a3(t,e),pr(e),null;case 5:WC(e);var i=ec(w0.current);if(n=e.type,t!==null&&e.stateNode!=null)IN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return pr(e),null}if(t=ec(eo.current),Mm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zs]=e,r[y0]=s,t=(e.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(i=0;i<_f.length;i++)Yt(_f[i],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":fS(r,s),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r);break;case"textarea":mS(r,s),Yt("invalid",r)}Lx(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lm(r.textContent,a,t),i=["children",""+a]):l0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yt("scroll",r)}switch(n){case"input":Tm(r),pS(r,s,!0);break;case"textarea":Tm(r),gS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zs]=e,t[y0]=r,bN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mx(n,r),n){case"dialog":Yt("cancel",t),Yt("close",t),i=r;break;case"iframe":case"object":case"embed":Yt("load",t),i=r;break;case"video":case"audio":for(i=0;i<_f.length;i++)Yt(_f[i],t);i=r;break;case"source":Yt("error",t),i=r;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),i=r;break;case"details":Yt("toggle",t),i=r;break;case"input":fS(t,r),i=Rx(t,r),Yt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Yt("invalid",t);break;case"textarea":mS(t,r),i=Nx(t,r),Yt("invalid",t);break;default:i=r}Lx(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?n9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e9(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&c0(t,l):typeof l=="number"&&c0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(l0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yt("scroll",t):l!=null&&xC(t,s,l,o))}switch(n){case"input":Tm(t),pS(t,r,!1);break;case"textarea":Tm(t),gS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ll(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ju(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ju(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(t&&e.stateNode!=null)TN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=ec(w0.current),ec(eo.current),Mm(e)){if(r=e.stateNode,n=e.memoizedProps,r[zs]=e,(s=r.nodeValue!==n)&&(t=_i,t!==null))switch(t.tag){case 3:Lm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zs]=e,e.stateNode=r}return pr(e),null;case 13:if(Jt(an),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rn&&mi!==null&&e.mode&1&&!(e.flags&128))B9(),xd(),e.flags|=98560,s=!1;else if(s=Mm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[zs]=e}else xd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else _s!==null&&(m3(_s),_s=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||an.current&1?Fn===0&&(Fn=3):rb())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return Cd(),a3(t,e),t===null&&g0(e.stateNode.containerInfo),pr(e),null;case 10:return VC(e.type._context),pr(e),null;case 17:return ti(e.type)&&xg(),pr(e),null;case 19:if(Jt(an),s=e.memoizedState,s===null)return pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zh(s,!1);else{if(Fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kg(t),o!==null){for(e.flags|=128,zh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ht(an,an.current&1|2),e.child}t=t.sibling}s.tail!==null&&bn()>Id&&(e.flags|=128,r=!0,zh(s,!1),e.lanes=4194304)}else{if(!r)if(t=kg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return pr(e),null}else 2*bn()-s.renderingStartTime>Id&&n!==1073741824&&(e.flags|=128,r=!0,zh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bn(),e.sibling=null,n=an.current,Ht(an,r?n&1|2:n&1),e):(pr(e),null);case 22:case 23:return nb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fi&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function Bz(t,e){switch(OC(e),e.tag){case 1:return ti(e.type)&&xg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cd(),Jt(ei),Jt(br),HC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WC(e),null;case 13:if(Jt(an),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));xd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(an),null;case 4:return Cd(),null;case 10:return VC(e.type._context),null;case 22:case 23:return nb(),null;case 24:return null;default:return null}}var jm=!1,vr=!1,Wz=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Wu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(t,e,r)}else n.current=null}function l3(t,e,n){try{n()}catch(r){gn(t,e,r)}}var s4=!1;function Hz(t,e){if(Hx=vg,t=A9(),LC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gx={focusedElem:t,selectionRange:n},vg=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:vs(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){gn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return m=s4,s4=!1,m}function jf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&l3(e,n,s)}i=i.next}while(i!==r)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function c3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SN(t){var e=t.alternate;e!==null&&(t.alternate=null,SN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zs],delete e[y0],delete e[Kx],delete e[Sz],delete e[kz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kN(t){return t.tag===5||t.tag===3||t.tag===4}function o4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function u3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wg));else if(r!==4&&(t=t.child,t!==null))for(u3(t,e,n),t=t.sibling;t!==null;)u3(t,e,n),t=t.sibling}function d3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(d3(t,e,n),t=t.sibling;t!==null;)d3(t,e,n),t=t.sibling}var nr=null,ys=!1;function _a(t,e,n){for(n=n.child;n!==null;)RN(t,e,n),n=n.sibling}function RN(t,e,n){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(Q1,n)}catch{}switch(n.tag){case 5:vr||Wu(n,e);case 6:var r=nr,i=ys;nr=null,_a(t,e,n),nr=r,ys=i,nr!==null&&(ys?(t=nr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nr.removeChild(n.stateNode));break;case 18:nr!==null&&(ys?(t=nr,n=n.stateNode,t.nodeType===8?aw(t.parentNode,n):t.nodeType===1&&aw(t,n),f0(t)):aw(nr,n.stateNode));break;case 4:r=nr,i=ys,nr=n.stateNode.containerInfo,ys=!0,_a(t,e,n),nr=r,ys=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&l3(n,e,o),i=i.next}while(i!==r)}_a(t,e,n);break;case 1:if(!vr&&(Wu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gn(n,e,a)}_a(t,e,n);break;case 21:_a(t,e,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,_a(t,e,n),vr=r):_a(t,e,n);break;default:_a(t,e,n)}}function a4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Wz),e.forEach(function(r){var i=eB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nr=a.stateNode,ys=!1;break e;case 3:nr=a.stateNode.containerInfo,ys=!0;break e;case 4:nr=a.stateNode.containerInfo,ys=!0;break e}a=a.return}if(nr===null)throw Error(X(160));RN(s,o,i),nr=null,ys=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){gn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AN(e,t),e=e.sibling}function AN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ps(e,t),Os(t),r&4){try{jf(3,t,t.return),iv(3,t)}catch(g){gn(t,t.return,g)}try{jf(5,t,t.return)}catch(g){gn(t,t.return,g)}}break;case 1:ps(e,t),Os(t),r&512&&n!==null&&Wu(n,n.return);break;case 5:if(ps(e,t),Os(t),r&512&&n!==null&&Wu(n,n.return),t.flags&32){var i=t.stateNode;try{c0(i,"")}catch(g){gn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&X6(i,s),Mx(a,o);var c=Mx(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?n9(i,d):u==="dangerouslySetInnerHTML"?e9(i,d):u==="children"?c0(i,d):xC(i,u,d,c)}switch(a){case"input":Ax(i,s);break;case"textarea":J6(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ju(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ju(i,!!s.multiple,s.defaultValue,!0):Ju(i,!!s.multiple,s.multiple?[]:"",!1))}i[y0]=s}catch(g){gn(t,t.return,g)}}break;case 6:if(ps(e,t),Os(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){gn(t,t.return,g)}}break;case 3:if(ps(e,t),Os(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{f0(e.containerInfo)}catch(g){gn(t,t.return,g)}break;case 4:ps(e,t),Os(t);break;case 13:ps(e,t),Os(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eb=bn())),r&4&&a4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vr=(c=vr)||u,ps(e,t),vr=c):ps(e,t),Os(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ve=t,u=t.child;u!==null;){for(d=ve=u;ve!==null;){switch(f=ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:jf(4,f,f.return);break;case 1:Wu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){gn(r,n,g)}}break;case 5:Wu(f,f.return);break;case 22:if(f.memoizedState!==null){c4(d);continue}}p!==null?(p.return=f,ve=p):c4(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=t9("display",o))}catch(g){gn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){gn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ps(e,t),Os(t),r&4&&a4(t);break;case 21:break;default:ps(e,t),Os(t)}}function Os(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kN(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(c0(i,""),r.flags&=-33);var s=o4(t);d3(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o4(t);u3(t,a,o);break;default:throw Error(X(161))}}catch(l){gn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gz(t,e,n){ve=t,PN(t)}function PN(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=jm;var c=vr;if(jm=o,(vr=l)&&!c)for(ve=i;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?u4(i):l!==null?(l.return=o,ve=l):u4(i);for(;s!==null;)ve=s,PN(s),s=s.sibling;ve=i,jm=a,vr=c}l4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):l4(t)}}function l4(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&HS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&f0(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}vr||e.flags&512&&c3(e)}catch(f){gn(e,e.return,f)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function c4(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function u4(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iv(4,e)}catch(l){gn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){gn(e,i,l)}}var s=e.return;try{c3(e)}catch(l){gn(e,s,l)}break;case 5:var o=e.return;try{c3(e)}catch(l){gn(e,o,l)}}}catch(l){gn(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var qz=Math.ceil,Pg=aa.ReactCurrentDispatcher,JC=aa.ReactCurrentOwner,Hi=aa.ReactCurrentBatchConfig,Et=0,Qn=null,Mn=null,or=0,fi=0,Hu=bl(0),Fn=0,b0=null,Sc=0,sv=0,ZC=0,Ff=null,Hr=null,eb=0,Id=1/0,Co=null,Ng=!1,h3=null,Ja=null,Fm=!1,Fa=null,Dg=0,Vf=0,f3=null,k2=-1,R2=0;function Mr(){return Et&6?bn():k2!==-1?k2:k2=bn()}function Za(t){return t.mode&1?Et&2&&or!==0?or&-or:Az.transition!==null?(R2===0&&(R2=p9()),R2):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:x9(t.type)),t):1}function bs(t,e,n,r){if(50<Vf)throw Vf=0,f3=null,Error(X(185));wp(t,n,r),(!(Et&2)||t!==Qn)&&(t===Qn&&(!(Et&2)&&(sv|=n),Fn===4&&Aa(t,or)),ni(t,r),n===1&&Et===0&&!(e.mode&1)&&(Id=bn()+500,tv&&Il()))}function ni(t,e){var n=t.callbackNode;AU(t,e);var r=gg(t,t===Qn?or:0);if(r===0)n!==null&&_S(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_S(n),e===1)t.tag===0?Rz(d4.bind(null,t)):V9(d4.bind(null,t)),Iz(function(){!(Et&6)&&Il()}),n=null;else{switch(m9(r)){case 1:n=TC;break;case 4:n=h9;break;case 16:n=mg;break;case 536870912:n=f9;break;default:n=mg}n=FN(n,NN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NN(t,e){if(k2=-1,R2=0,Et&6)throw Error(X(327));var n=t.callbackNode;if(rd()&&t.callbackNode!==n)return null;var r=gg(t,t===Qn?or:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lg(t,r);else{e=r;var i=Et;Et|=2;var s=LN();(Qn!==t||or!==e)&&(Co=null,Id=bn()+500,hc(t,e));do try{Qz();break}catch(a){DN(t,a)}while(!0);FC(),Pg.current=s,Et=i,Mn!==null?e=0:(Qn=null,or=0,e=Fn)}if(e!==0){if(e===2&&(i=Vx(t),i!==0&&(r=i,e=p3(t,i))),e===1)throw n=b0,hc(t,0),Aa(t,r),ni(t,bn()),n;if(e===6)Aa(t,r);else{if(i=t.current.alternate,!(r&30)&&!Yz(i)&&(e=Lg(t,r),e===2&&(s=Vx(t),s!==0&&(r=s,e=p3(t,s))),e===1))throw n=b0,hc(t,0),Aa(t,r),ni(t,bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Ul(t,Hr,Co);break;case 3:if(Aa(t,r),(r&130023424)===r&&(e=eb+500-bn(),10<e)){if(gg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yx(Ul.bind(null,t,Hr,Co),e);break}Ul(t,Hr,Co);break;case 4:if(Aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qz(r/1960))-r,10<r){t.timeoutHandle=Yx(Ul.bind(null,t,Hr,Co),r);break}Ul(t,Hr,Co);break;case 5:Ul(t,Hr,Co);break;default:throw Error(X(329))}}}return ni(t,bn()),t.callbackNode===n?NN.bind(null,t):null}function p3(t,e){var n=Ff;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),t=Lg(t,e),t!==2&&(e=Hr,Hr=n,e!==null&&m3(e)),t}function m3(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function Yz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ss(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~ZC,e&=~sv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cs(e),r=1<<n;t[n]=-1,e&=~r}}function d4(t){if(Et&6)throw Error(X(327));rd();var e=gg(t,0);if(!(e&1))return ni(t,bn()),null;var n=Lg(t,e);if(t.tag!==0&&n===2){var r=Vx(t);r!==0&&(e=r,n=p3(t,r))}if(n===1)throw n=b0,hc(t,0),Aa(t,e),ni(t,bn()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ul(t,Hr,Co),ni(t,bn()),null}function tb(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(Id=bn()+500,tv&&Il())}}function kc(t){Fa!==null&&Fa.tag===0&&!(Et&6)&&rd();var e=Et;Et|=1;var n=Hi.transition,r=Ot;try{if(Hi.transition=null,Ot=1,t)return t()}finally{Ot=r,Hi.transition=n,Et=e,!(Et&6)&&Il()}}function nb(){fi=Hu.current,Jt(Hu)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bz(n)),Mn!==null)for(n=Mn.return;n!==null;){var r=n;switch(OC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xg();break;case 3:Cd(),Jt(ei),Jt(br),HC();break;case 5:WC(r);break;case 4:Cd();break;case 13:Jt(an);break;case 19:Jt(an);break;case 10:VC(r.type._context);break;case 22:case 23:nb()}n=n.return}if(Qn=t,Mn=t=el(t.current,null),or=fi=e,Fn=0,b0=null,ZC=sv=Sc=0,Hr=Ff=null,Zl!==null){for(e=0;e<Zl.length;e++)if(n=Zl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zl=null}return t}function DN(t,e){do{var n=Mn;try{if(FC(),I2.current=Ag,Rg){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rg=!1}if(Tc=0,Hn=jn=cn=null,$f=!1,x0=0,JC.current=null,n===null||n.return===null){Fn=1,b0=e,Mn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=JS(o);if(p!==null){p.flags&=-257,ZS(p,o,a,s,e),p.mode&1&&XS(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){XS(s,c,e),rb();break e}l=Error(X(426))}}else if(rn&&a.mode&1){var E=JS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ZS(E,o,a,s,e),$C(bd(l,a));break e}}s=l=bd(l,a),Fn!==4&&(Fn=2),Ff===null?Ff=[s]:Ff.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=gN(s,l,e);WS(s,v);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ja===null||!Ja.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=vN(s,a,e);WS(s,x);break e}}s=s.return}while(s!==null)}ON(n)}catch(I){e=I,Mn===n&&n!==null&&(Mn=n=n.return);continue}break}while(!0)}function LN(){var t=Pg.current;return Pg.current=Ag,t===null?Ag:t}function rb(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Qn===null||!(Sc&268435455)&&!(sv&268435455)||Aa(Qn,or)}function Lg(t,e){var n=Et;Et|=2;var r=LN();(Qn!==t||or!==e)&&(Co=null,hc(t,e));do try{Kz();break}catch(i){DN(t,i)}while(!0);if(FC(),Et=n,Pg.current=r,Mn!==null)throw Error(X(261));return Qn=null,or=0,Fn}function Kz(){for(;Mn!==null;)MN(Mn)}function Qz(){for(;Mn!==null&&!xU();)MN(Mn)}function MN(t){var e=jN(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?ON(t):Mn=e,JC.current=null}function ON(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Bz(n,e),n!==null){n.flags&=32767,Mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fn=6,Mn=null;return}}else if(n=zz(n,e,fi),n!==null){Mn=n;return}if(e=e.sibling,e!==null){Mn=e;return}Mn=e=t}while(e!==null);Fn===0&&(Fn=5)}function Ul(t,e,n){var r=Ot,i=Hi.transition;try{Hi.transition=null,Ot=1,Xz(t,e,n,r)}finally{Hi.transition=i,Ot=r}return null}function Xz(t,e,n,r){do rd();while(Fa!==null);if(Et&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PU(t,s),t===Qn&&(Mn=Qn=null,or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fm||(Fm=!0,FN(mg,function(){return rd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hi.transition,Hi.transition=null;var o=Ot;Ot=1;var a=Et;Et|=4,JC.current=null,Hz(t,n),AN(n,t),vz(Gx),vg=!!Hx,Gx=Hx=null,t.current=n,Gz(n),EU(),Et=a,Ot=o,Hi.transition=s}else t.current=n;if(Fm&&(Fm=!1,Fa=t,Dg=i),s=t.pendingLanes,s===0&&(Ja=null),IU(n.stateNode),ni(t,bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ng)throw Ng=!1,t=h3,h3=null,t;return Dg&1&&t.tag!==0&&rd(),s=t.pendingLanes,s&1?t===f3?Vf++:(Vf=0,f3=t):Vf=0,Il(),null}function rd(){if(Fa!==null){var t=m9(Dg),e=Hi.transition,n=Ot;try{if(Hi.transition=null,Ot=16>t?16:t,Fa===null)var r=!1;else{if(t=Fa,Fa=null,Dg=0,Et&6)throw Error(X(331));var i=Et;for(Et|=4,ve=t.current;ve!==null;){var s=ve,o=s.child;if(ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var u=ve;switch(u.tag){case 0:case 11:case 15:jf(8,u,s)}var d=u.child;if(d!==null)d.return=u,ve=d;else for(;ve!==null;){u=ve;var f=u.sibling,p=u.return;if(SN(u),u===c){ve=null;break}if(f!==null){f.return=p,ve=f;break}ve=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ve=o;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jf(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ve=v;break e}ve=s.return}}var w=t.current;for(ve=w;ve!==null;){o=ve;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ve=_;else e:for(o=w;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:iv(9,a)}}catch(I){gn(a,a.return,I)}if(a===o){ve=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ve=x;break e}ve=a.return}}if(Et=i,Il(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(Q1,t)}catch{}r=!0}return r}finally{Ot=n,Hi.transition=e}}return!1}function h4(t,e,n){e=bd(n,e),e=gN(t,e,1),t=Xa(t,e,1),e=Mr(),t!==null&&(wp(t,1,e),ni(t,e))}function gn(t,e,n){if(t.tag===3)h4(t,t,n);else for(;e!==null;){if(e.tag===3){h4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){t=bd(n,t),t=vN(e,t,1),e=Xa(e,t,1),t=Mr(),e!==null&&(wp(e,1,t),ni(e,t));break}}e=e.return}}function Jz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&n,Qn===t&&(or&n)===n&&(Fn===4||Fn===3&&(or&130023424)===or&&500>bn()-eb?hc(t,0):ZC|=n),ni(t,e)}function $N(t,e){e===0&&(t.mode&1?(e=Rm,Rm<<=1,!(Rm&130023424)&&(Rm=4194304)):e=1);var n=Mr();t=Yo(t,e),t!==null&&(wp(t,e,n),ni(t,n))}function Zz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$N(t,n)}function eB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),$N(t,n)}var jN;jN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ei.current)Yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yr=!1,Uz(t,e,n);Yr=!!(t.flags&131072)}else Yr=!1,rn&&e.flags&1048576&&U9(e,bg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;S2(t,e),t=e.pendingProps;var i=wd(e,br.current);nd(e,n),i=qC(null,e,r,t,i,n);var s=YC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ti(r)?(s=!0,Eg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zC(e),i.updater=nv,e.stateNode=i,i._reactInternals=e,t3(e,r,t,n),e=i3(null,e,r,!0,s,n)):(e.tag=0,rn&&s&&MC(e),Sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(S2(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nB(r),t=vs(r,t),i){case 0:e=r3(null,e,r,t,n);break e;case 1:e=n4(null,e,r,t,n);break e;case 11:e=e4(null,e,r,t,n);break e;case 14:e=t4(null,e,r,vs(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),r3(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),n4(t,e,r,i,n);case 3:e:{if(xN(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,H9(t,e),Sg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bd(Error(X(423)),e),e=r4(t,e,r,n,i);break e}else if(r!==i){i=bd(Error(X(424)),e),e=r4(t,e,r,n,i);break e}else for(mi=Qa(e.stateNode.containerInfo.firstChild),_i=e,rn=!0,_s=null,n=K9(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xd(),r===i){e=Ko(t,e,n);break e}Sr(t,e,r,n)}e=e.child}return e;case 5:return Q9(e),t===null&&Jx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qx(r,i)?o=null:s!==null&&qx(r,s)&&(e.flags|=32),wN(t,e),Sr(t,e,o,n),e.child;case 6:return t===null&&Jx(e),null;case 13:return EN(t,e,n);case 4:return BC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ed(e,null,r,n):Sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),e4(t,e,r,i,n);case 7:return Sr(t,e,e.pendingProps,n),e.child;case 8:return Sr(t,e,e.pendingProps.children,n),e.child;case 12:return Sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ht(Ig,r._currentValue),r._currentValue=o,s!==null)if(Ss(s.value,o)){if(s.children===i.children&&!ei.current){e=Ko(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zx(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nd(e,n),i=Qi(i),r=r(i),e.flags|=1,Sr(t,e,r,n),e.child;case 14:return r=e.type,i=vs(r,e.pendingProps),i=vs(r.type,i),t4(t,e,r,i,n);case 15:return yN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),S2(t,e),e.tag=1,ti(r)?(t=!0,Eg(e)):t=!1,nd(e,n),q9(e,r,i),t3(e,r,i,n),i3(null,e,r,!0,t,n);case 19:return CN(t,e,n);case 22:return _N(t,e,n)}throw Error(X(156,e.tag))};function FN(t,e){return d9(t,e)}function tB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(t,e,n,r){return new tB(t,e,n,r)}function ib(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nB(t){if(typeof t=="function")return ib(t)?1:0;if(t!=null){if(t=t.$$typeof,t===CC)return 11;if(t===bC)return 14}return 2}function el(t,e){var n=t.alternate;return n===null?(n=zi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function A2(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ib(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mu:return fc(n.children,i,s,e);case EC:o=8,i|=8;break;case Ix:return t=zi(12,n,e,i|2),t.elementType=Ix,t.lanes=s,t;case Tx:return t=zi(13,n,e,i),t.elementType=Tx,t.lanes=s,t;case Sx:return t=zi(19,n,e,i),t.elementType=Sx,t.lanes=s,t;case Y6:return ov(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G6:o=10;break e;case q6:o=9;break e;case CC:o=11;break e;case bC:o=14;break e;case Sa:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=zi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fc(t,e,n,r){return t=zi(7,t,r,e),t.lanes=n,t}function ov(t,e,n,r){return t=zi(22,t,r,e),t.elementType=Y6,t.lanes=n,t.stateNode={isHidden:!1},t}function mw(t,e,n){return t=zi(6,t,null,e),t.lanes=n,t}function gw(t,e,n){return e=zi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q_(0),this.expirationTimes=Q_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sb(t,e,n,r,i,s,o,a,l){return t=new rB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zC(s),t}function iB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VN(t){if(!t)return cl;t=t._reactInternals;e:{if(Qc(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(ti(n))return F9(t,n,e)}return e}function UN(t,e,n,r,i,s,o,a,l){return t=sb(n,r,!0,t,i,s,o,a,l),t.context=VN(null),n=t.current,r=Mr(),i=Za(n),s=Vo(r,i),s.callback=e??null,Xa(n,s,i),t.current.lanes=i,wp(t,i,r),ni(t,r),t}function av(t,e,n,r){var i=e.current,s=Mr(),o=Za(i);return n=VN(n),e.context===null?e.context=n:e.pendingContext=n,e=Vo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xa(i,e,o),t!==null&&(bs(t,i,o,s),b2(t,i,o)),o}function Mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ob(t,e){f4(t,e),(t=t.alternate)&&f4(t,e)}function sB(){return null}var zN=typeof reportError=="function"?reportError:function(t){console.error(t)};function ab(t){this._internalRoot=t}lv.prototype.render=ab.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));av(t,e,null,null)};lv.prototype.unmount=ab.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kc(function(){av(null,t,null,null)}),e[qo]=null}};function lv(t){this._internalRoot=t}lv.prototype.unstable_scheduleHydration=function(t){if(t){var e=y9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ra.length&&e!==0&&e<Ra[n].priority;n++);Ra.splice(n,0,t),n===0&&w9(t)}};function lb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p4(){}function oB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Mg(o);s.call(c)}}var o=UN(e,r,t,0,null,!1,!1,"",p4);return t._reactRootContainer=o,t[qo]=o.current,g0(t.nodeType===8?t.parentNode:t),kc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mg(l);a.call(c)}}var l=sb(t,0,!1,null,null,!1,!1,"",p4);return t._reactRootContainer=l,t[qo]=l.current,g0(t.nodeType===8?t.parentNode:t),kc(function(){av(e,l,n,r)}),l}function uv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mg(o);a.call(l)}}av(e,o,t,i)}else o=oB(n,e,t,i,r);return Mg(o)}g9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yf(e.pendingLanes);n!==0&&(SC(e,n|1),ni(e,bn()),!(Et&6)&&(Id=bn()+500,Il()))}break;case 13:kc(function(){var r=Yo(t,1);if(r!==null){var i=Mr();bs(r,t,1,i)}}),ob(t,1)}};kC=function(t){if(t.tag===13){var e=Yo(t,134217728);if(e!==null){var n=Mr();bs(e,t,134217728,n)}ob(t,134217728)}};v9=function(t){if(t.tag===13){var e=Za(t),n=Yo(t,e);if(n!==null){var r=Mr();bs(n,t,e,r)}ob(t,e)}};y9=function(){return Ot};_9=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};$x=function(t,e,n){switch(e){case"input":if(Ax(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ev(r);if(!i)throw Error(X(90));Q6(r),Ax(r,i)}}}break;case"textarea":J6(t,n);break;case"select":e=n.value,e!=null&&Ju(t,!!n.multiple,e,!1)}};s9=tb;o9=kc;var aB={usingClientEntryPoint:!1,Events:[Ep,Fu,ev,r9,i9,tb]},Bh={findFiberByHostInstance:Jl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lB={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c9(t),t===null?null:t.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||sB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{Q1=Vm.inject(lB),Zs=Vm}catch{}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aB;ki.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lb(e))throw Error(X(200));return iB(t,e,null,n)};ki.createRoot=function(t,e){if(!lb(t))throw Error(X(299));var n=!1,r="",i=zN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sb(t,1,!1,null,null,n,!1,r,i),t[qo]=e.current,g0(t.nodeType===8?t.parentNode:t),new ab(e)};ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=c9(e),t=t===null?null:t.stateNode,t};ki.flushSync=function(t){return kc(t)};ki.hydrate=function(t,e,n){if(!cv(e))throw Error(X(200));return uv(null,t,e,!0,n)};ki.hydrateRoot=function(t,e,n){if(!lb(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UN(e,null,t,1,n??null,i,!1,s,o),t[qo]=e.current,g0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lv(e)};ki.render=function(t,e,n){if(!cv(e))throw Error(X(200));return uv(null,t,e,!1,n)};ki.unmountComponentAtNode=function(t){if(!cv(t))throw Error(X(40));return t._reactRootContainer?(kc(function(){uv(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};ki.unstable_batchedUpdates=tb;ki.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cv(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return uv(t,e,n,!1,r)};ki.version="18.2.0-next-9e3b772b8-20220608";function BN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BN)}catch(t){console.error(t)}}BN(),U6.exports=ki;var I0=U6.exports;const Um=A6(I0);var m4=I0;Cx.createRoot=m4.createRoot,Cx.hydrateRoot=m4.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const g4="popstate";function cB(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Xc(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),g3("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Og(s))}function r(i,s){dv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return dB(e,n,r,t)}function On(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uB(){return Math.random().toString(36).substr(2,8)}function v4(t,e){return{usr:t.state,key:t.key,idx:e}}function g3(t,e,n,r){return n===void 0&&(n=null),T0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xc(e):e,{state:n,key:e&&e.key||r||uB()})}function Og(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Va.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(T0({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Va.Pop;let E=u(),v=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:v})}function f(E,v){a=Va.Push;let w=g3(g.location,E,v);n&&n(w,E),c=u()+1;let _=v4(w,c),x=g.createHref(w);try{o.pushState(_,"",x)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(x)}s&&l&&l({action:a,location:g.location,delta:1})}function p(E,v){a=Va.Replace;let w=g3(g.location,E,v);n&&n(w,E),c=u();let _=v4(w,c),x=g.createHref(w);o.replaceState(_,"",x),s&&l&&l({action:a,location:g.location,delta:0})}function m(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:Og(E);return On(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g4,d),l=E,()=>{i.removeEventListener(g4,d),l=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let v=m(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var y4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y4||(y4={}));function hB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xc(e):e,i=cb(r.pathname||"/",n);if(i==null)return null;let s=WN(t);fB(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=EB(s[a],IB(i));return o}function WN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(On(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=tl([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(On(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WN(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:wB(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of HN(s.path))i(s,o,l)}),e}function HN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pB=/^:[\w-]+$/,mB=3,gB=2,vB=1,yB=10,_B=-2,_4=t=>t==="*";function wB(t,e){let n=t.split("/"),r=n.length;return n.some(_4)&&(r+=_B),e&&(r+=gB),n.filter(i=>!_4(i)).reduce((i,s)=>i+(pB.test(s)?mB:s===""?vB:yB),r)}function xB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EB(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=CB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:tl([i,u.pathname]),pathnameBase:AB(tl([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=tl([i,u.pathnameBase]))}return s}function CB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[f]=void 0:c[f]=TB(m||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function bB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IB(t){try{return decodeURI(t)}catch(e){return dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function TB(t,e){try{return decodeURIComponent(t)}catch(n){return dv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function cb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xc(t):t;return{pathname:n?n.startsWith("/")?n:kB(n,e):e,search:PB(r),hash:NB(i)}}function kB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GN(t,e){let n=RB(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xc(t):(i=T0({},t),On(!i.pathname||!i.pathname.includes("?"),vw("?","pathname","search",i)),On(!i.pathname||!i.pathname.includes("#"),vw("#","pathname","hash",i)),On(!i.search||!i.search.includes("#"),vw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=SB(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const tl=t=>t.join("/").replace(/\/\/+/g,"/"),AB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YN=["post","put","patch","delete"];new Set(YN);const LB=["get",...YN];new Set(LB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}const ub=y.createContext(null),MB=y.createContext(null),Jc=y.createContext(null),hv=y.createContext(null),Tl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),KN=y.createContext(null);function OB(t,e){let{relative:n}=e===void 0?{}:e;bp()||On(!1);let{basename:r,navigator:i}=y.useContext(Jc),{hash:s,pathname:o,search:a}=XN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:tl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function bp(){return y.useContext(hv)!=null}function lh(){return bp()||On(!1),y.useContext(hv).location}function QN(t){y.useContext(Jc).static||y.useLayoutEffect(t)}function zn(){let{isDataRoute:t}=y.useContext(Tl);return t?KB():$B()}function $B(){bp()||On(!1);let t=y.useContext(ub),{basename:e,future:n,navigator:r}=y.useContext(Jc),{matches:i}=y.useContext(Tl),{pathname:s}=lh(),o=JSON.stringify(GN(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return QN(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=qN(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:tl([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function Ip(){let{matches:t}=y.useContext(Tl),e=t[t.length-1];return e?e.params:{}}function XN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Jc),{matches:i}=y.useContext(Tl),{pathname:s}=lh(),o=JSON.stringify(GN(i,r.v7_relativeSplatPath));return y.useMemo(()=>qN(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function jB(t,e){return FB(t,e)}function FB(t,e,n,r){bp()||On(!1);let{navigator:i}=y.useContext(Jc),{matches:s}=y.useContext(Tl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=lh(),u;if(e){var d;let E=typeof e=="string"?Xc(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||On(!1),u=E}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",m=hB(t,{pathname:p}),g=WB(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:tl([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:tl([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&g?y.createElement(hv.Provider,{value:{location:S0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Va.Pop}},g):g}function VB(){let t=YB(),e=DB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,s)}const UB=y.createElement(VB,null);class zB extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Tl.Provider,{value:this.props.routeContext},y.createElement(KN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BB(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(ub);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Tl.Provider,{value:e},r)}function WB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||On(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,m=!1,g=null,E=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||UB,l&&(c<0&&f===0?(QB("route-fallback",!1),m=!0,E=null):c===f&&(m=!0,E=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=g:m?_=E:d.route.Component?_=y.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,y.createElement(BB,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?y.createElement(zB,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var JN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JN||{}),$g=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($g||{});function HB(t){let e=y.useContext(ub);return e||On(!1),e}function GB(t){let e=y.useContext(MB);return e||On(!1),e}function qB(t){let e=y.useContext(Tl);return e||On(!1),e}function ZN(t){let e=qB(),n=e.matches[e.matches.length-1];return n.route.id||On(!1),n.route.id}function YB(){var t;let e=y.useContext(KN),n=GB($g.UseRouteError),r=ZN($g.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KB(){let{router:t}=HB(JN.UseNavigateStable),e=ZN($g.UseNavigateStable),n=y.useRef(!1);return QN(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,S0({fromRouteId:e},s)))},[t,e])}const w4={};function QB(t,e,n){!e&&!w4[t]&&(w4[t]=!0)}function An(t){On(!1)}function XB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Va.Pop,navigator:s,static:o=!1,future:a}=t;bp()&&On(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:S0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Xc(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,g=y.useMemo(()=>{let E=cb(u,l);return E==null?null:{location:{pathname:E,search:d,hash:f,state:p,key:m},navigationType:i}},[l,u,d,f,p,m,i]);return g==null?null:y.createElement(Jc.Provider,{value:c},y.createElement(hv.Provider,{children:n,value:g}))}function JB(t){let{children:e,location:n}=t;return jB(v3(e),n)}new Promise(()=>{});function v3(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,v3(r.props.children,s));return}r.type!==An&&On(!1),!r.props.index||!r.props.children||On(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=v3(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y3(){return y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y3.apply(this,arguments)}function ZB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tW(t,e){return t.button===0&&(!e||e==="_self")&&!eW(t)}const nW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rW="6";try{window.__reactRouterVersion=rW}catch{}const iW="startTransition",x4=dg[iW];function sW(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=cB({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(d=>{c&&x4?x4(()=>l(d)):l(d)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.createElement(XB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const oW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lW=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=ZB(e,nW),{basename:p}=y.useContext(Jc),m,g=!1;if(typeof c=="string"&&aW.test(c)&&(m=c,oW))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),I=cb(x.pathname,p);x.origin===_.origin&&I!=null?c=I+x.search+x.hash:g=!0}catch{}let E=OB(c,{relative:i}),v=cW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||v(_)}return y.createElement("a",y3({},f,{href:m||E,onClick:g||s?r:w,ref:n,target:l}))});var E4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(E4||(E4={}));var C4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(C4||(C4={}));function cW(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=zn(),c=lh(),u=XN(t,{relative:o});return y.useCallback(d=>{if(tW(d,n)){d.preventDefault();let f=r!==void 0?r:Og(c)===Og(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const uW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",dW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",hW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",fW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",pW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",mW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",gW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",vW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",yW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",_W="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",wW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",xW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",EW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",CW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",bW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",IW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",TW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",SW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",kW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",RW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",AW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",PW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",NW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",DW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",LW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",MW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",OW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",$W="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",jW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",FW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",VW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",UW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",zW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",BW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",WW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",HW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",GW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",qW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",YW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",KW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",QW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",XW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",JW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",ZW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",eH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",tH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",nH="/assets/dark-i8sdGySW.svg",rH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",iH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",sH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",oH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",aH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",lH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",cH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",uH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",dH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",hH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",fH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",pH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",mH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",gH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",vH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",yH="/assets/facebook-reaction-sad-fp-d8NwB.svg",_H="/assets/facebook-reaction-wow-4aGHxQqX.svg",wH="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",xH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",EH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",CH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",bH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",IH={sent:EH,eye:bH,seen:CH,link:hH,reply:mH,sendLetter:fH,sendingLetter:pH,deleteIcon:uH,editPencil:dH,moreOption:cH,download:rH,offline:aH,online:lH,chat:oH,notification:sH,file:iH,light:tH,dark:nH,upload:eH,trueIcon:uW,falseIcon:dW,error:hW,down:fW,back:pW,thumbUp:mW,redo:gW,next:vW,finish:yW,history:_W,trash:wW,add:xW,edit:EW,save:CW,up:bW,clipboard:IW,admin:TW,menu:SW,home:kW,result:RW,help:AW,about:PW,update:NW,faq:DW,plus:LW,minus:MW,share:OW,review:$W,fullScreen:jW,search:FW,searchLeft:VW,close:UW,copy:zW,google:BW,refresh:WW,exit:HW,exam:GW,like:qW,liked:YW,comment:KW,send:QW,logout:XW,user:JW,image:ZW,facebookAngry:wH,facebookHaha:xH,facebookLike:gH,facebookLove:vH,facebookSad:yH,facebookWow:_H};function Xn(t){return IH[t]||null}const yw=({data:t})=>{const{clickFn:e,image:n}=t,r=Xn(n),i=()=>{e&&e()};return h.jsx("button",{onClick:i,className:"shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all",children:h.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var TH={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function _3(t,e){function n(i,s,o){if(!(typeof document>"u")){o=zm({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",zm({},s,{expires:-1}))},withAttributes:function(i){return _3(this.converter,zm({},this.attributes,i))},withConverter:function(i){return _3(zm({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var gi=_3(TH,{path:"/"}),b4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=function(t,e){if(!t)throw ch(e)},ch=function(t){return new Error("Firebase Database ("+e8.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new kH;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n8=function(t){const e=t8(t);return db.encodeByteArray(e,!0)},jg=function(t){return n8(t).replace(/\./g,"")},k0=function(t){try{return db.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(t){return r8(void 0,t)}function r8(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AH(n)||(t[n]=r8(t[n],e[n]));return t}function AH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=()=>PH().__FIREBASE_DEFAULTS__,DH=()=>{if(typeof process>"u"||typeof b4>"u")return;const t=b4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&k0(t[1]);return e&&JSON.parse(e)},fv=()=>{try{return NH()||DH()||LH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i8=t=>{var e,n;return(n=(e=fv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s8=t=>{const e=i8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o8=()=>{var t;return(t=fv())===null||t===void 0?void 0:t.config},a8=t=>{var e;return(e=fv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jg(JSON.stringify(n)),jg(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function MH(){var t;const e=(t=fv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u8(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d8(){return e8.NODE_ADMIN===!0}function h8(){return!MH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f8(){try{return typeof indexedDB=="object"}catch{return!1}}function OH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$H,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,a,r)}}function jH(t,e){return t.replace(FH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return JSON.parse(t)}function Yn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=R0(k0(s[0])||""),n=R0(k0(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},VH=function(t){const e=p8(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},UH=function(t){const e=p8(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Td(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vg(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Sd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(I4(s)&&I4(o)){if(!Sd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function m8(t,e){const n=new BH(t,e);return n.subscribe.bind(n)}class BH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_w),i.error===void 0&&(i.error=_w),i.complete===void 0&&(i.complete=_w);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _w(){}function Rc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,re(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new So;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YH(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qH(t){return t===zl?void 0:t}function YH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const QH={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},XH=Ze.INFO,JH={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},ZH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=XH,this._logHandler=ZH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const eG=(t,e)=>e.some(n=>t instanceof n);let T4,S4;function tG(){return T4||(T4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nG(){return S4||(S4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g8=new WeakMap,w3=new WeakMap,v8=new WeakMap,ww=new WeakMap,fb=new WeakMap;function rG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&g8.set(n,t)}).catch(()=>{}),fb.set(e,t),e}function iG(t){if(w3.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});w3.set(t,e)}let x3={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sG(t){x3=t(x3)}function oG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xw(this),e,...n);return v8.set(r,e.sort?e.sort():[e]),nl(r)}:nG().includes(t)?function(...e){return t.apply(xw(this),e),nl(g8.get(this))}:function(...e){return nl(t.apply(xw(this),e))}}function aG(t){return typeof t=="function"?oG(t):(t instanceof IDBTransaction&&iG(t),eG(t,tG())?new Proxy(t,x3):t)}function nl(t){if(t instanceof IDBRequest)return rG(t);if(ww.has(t))return ww.get(t);const e=aG(t);return e!==t&&(ww.set(t,e),fb.set(e,t)),e}const xw=t=>fb.get(t);function lG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=nl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(nl(o.result),l.oldVersion,l.newVersion,nl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cG=["get","getKey","getAll","getAllKeys","count"],uG=["put","add","delete","clear"],Ew=new Map;function k4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ew.get(e))return Ew.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cG.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ew.set(e,s),s}sG(t=>({...t,get:(e,n,r)=>k4(e,n)||t.get(e,n,r),has:(e,n)=>!!k4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E3="@firebase/app",R4="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Tp("@firebase/app"),fG="@firebase/app-compat",pG="@firebase/analytics-compat",mG="@firebase/analytics",gG="@firebase/app-check-compat",vG="@firebase/app-check",yG="@firebase/auth",_G="@firebase/auth-compat",wG="@firebase/database",xG="@firebase/database-compat",EG="@firebase/functions",CG="@firebase/functions-compat",bG="@firebase/installations",IG="@firebase/installations-compat",TG="@firebase/messaging",SG="@firebase/messaging-compat",kG="@firebase/performance",RG="@firebase/performance-compat",AG="@firebase/remote-config",PG="@firebase/remote-config-compat",NG="@firebase/storage",DG="@firebase/storage-compat",LG="@firebase/firestore",MG="@firebase/firestore-compat",OG="firebase",$G="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="[DEFAULT]",jG={[E3]:"fire-core",[fG]:"fire-core-compat",[mG]:"fire-analytics",[pG]:"fire-analytics-compat",[vG]:"fire-app-check",[gG]:"fire-app-check-compat",[yG]:"fire-auth",[_G]:"fire-auth-compat",[wG]:"fire-rtdb",[xG]:"fire-rtdb-compat",[EG]:"fire-fn",[CG]:"fire-fn-compat",[bG]:"fire-iid",[IG]:"fire-iid-compat",[TG]:"fire-fcm",[SG]:"fire-fcm-compat",[kG]:"fire-perf",[RG]:"fire-perf-compat",[AG]:"fire-rc",[PG]:"fire-rc-compat",[NG]:"fire-gcs",[DG]:"fire-gcs-compat",[LG]:"fire-fst",[MG]:"fire-fst-compat","fire-js":"fire-js",[OG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=new Map,b3=new Map;function FG(t,e){try{t.container.addComponent(e)}catch(n){Ac.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(b3.has(e))return Ac.debug(`There were multiple attempts to register component ${e}.`),!1;b3.set(e,t);for(const n of Ug.values())FG(n,t);return!0}function Sp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rl=new Sl("app","Firebase",VG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=$G;function y8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:C3,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rl.create("bad-app-name",{appName:String(i)});if(n||(n=o8()),!n)throw rl.create("no-options");const s=Ug.get(i);if(s){if(Sd(n,s.options)&&Sd(r,s.config))return s;throw rl.create("duplicate-app",{appName:i})}const o=new KH(i);for(const l of b3.values())o.addComponent(l);const a=new UG(n,r,o);return Ug.set(i,a),a}function pb(t=C3){const e=Ug.get(t);if(!e&&t===C3&&o8())return y8();if(!e)throw rl.create("no-app",{appName:t});return e}function ri(t,e,n){var r;let i=(r=jG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ac.warn(a.join(" "));return}so(new ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG="firebase-heartbeat-database",BG=1,A0="firebase-heartbeat-store";let Cw=null;function _8(){return Cw||(Cw=lG(zG,BG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(A0)}catch(n){console.warn(n)}}}}).catch(t=>{throw rl.create("idb-open",{originalErrorMessage:t.message})})),Cw}async function WG(t){try{const n=(await _8()).transaction(A0),r=await n.objectStore(A0).get(w8(t));return await n.done,r}catch(e){if(e instanceof Ai)Ac.warn(e.message);else{const n=rl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ac.warn(n.message)}}}async function A4(t,e){try{const r=(await _8()).transaction(A0,"readwrite");await r.objectStore(A0).put(e,w8(t)),await r.done}catch(n){if(n instanceof Ai)Ac.warn(n.message);else{const r=rl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ac.warn(r.message)}}}function w8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=1024,GG=30*24*60*60*1e3;class qG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P4();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=GG}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P4(),{heartbeatsToSend:r,unsentEntries:i}=YG(this._heartbeatsCache.heartbeats),s=jg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function P4(){return new Date().toISOString().substring(0,10)}function YG(t,e=HG){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),N4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f8()?OH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N4(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(t){so(new ks("platform-logger",e=>new dG(e),"PRIVATE")),so(new ks("heartbeat",e=>new qG(e),"PRIVATE")),ri(E3,R4,t),ri(E3,R4,"esm2017"),ri("fire-js","")}QG("");var XG="firebase",JG="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(XG,JG,"app");var I3=function(t,e){return I3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},I3(t,e)};function on(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");I3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ct=function(){return ct=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ct.apply(this,arguments)};function uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function ee(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ar(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function x8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZG=x8,E8=new Sl("auth","Firebase",x8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Tp("@firebase/auth");function eq(t,...e){zg.logLevel<=Ze.WARN&&zg.warn(`Auth (${Ds}): ${t}`,...e)}function P2(t,...e){zg.logLevel<=Ze.ERROR&&zg.error(`Auth (${Ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,...e){throw mb(t,...e)}function to(t,...e){return mb(t,...e)}function C8(t,e,n){const r=Object.assign(Object.assign({},ZG()),{[e]:n});return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function tq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ji(t,"argument-error"),C8(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E8.create(t,...e)}function $e(t,e,...n){if(!t)throw mb(e,...n)}function No(t){const e="INTERNAL ASSERTION FAILED: "+t;throw P2(e),new Error(e)}function Qo(t,e){t||No(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nq(){return D4()==="http:"||D4()==="https:"}function D4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nq()||c8()||"connection"in navigator)?navigator.onLine:!0}function iq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qo(n>e,"Short delay should be less than long delay!"),this.isMobile=pv()||hb()}get(){return rq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e){Qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b8=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;No("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;No("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;No("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new kp(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uo(t,e,n,r,i={}){return I8(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=la(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),b8.fetch()(T8(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function I8(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sq),e);try{const i=new lq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Bm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bm(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw C8(t,u,c);Ji(t,u)}}catch(i){if(i instanceof Ai)throw i;Ji(t,"network-request-failed",{message:String(i)})}}async function Rp(t,e,n,r,i={}){const s=await uo(t,e,n,r,i);return"mfaPendingCredential"in s&&Ji(t,"multi-factor-auth-required",{_serverResponse:s}),s}function T8(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?gb(t.config,i):`${t.config.apiScheme}://${i}`}function aq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let lq=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(to(this.auth,"network-request-failed")),oq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Bm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=to(t,e,r);return i.customData._tokenResponse=n,i}function L4(t){return t!==void 0&&t.enterprise!==void 0}let cq=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function uq(t,e){return uo(t,"GET","/v2/recaptchaConfig",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dq(t,e){return uo(t,"POST","/v1/accounts:delete",e)}async function hq(t,e){return uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fq(t,e=!1){const n=st(t),r=await n.getIdToken(e),i=vb(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uf(bw(i.auth_time)),issuedAtTime:Uf(bw(i.iat)),expirationTime:Uf(bw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bw(t){return Number(t)*1e3}function vb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return P2("JWT malformed, contained fewer than 3 sections"),null;try{const i=k0(n);return i?JSON.parse(i):(P2("Failed to decode base64 JWT payload"),null)}catch(i){return P2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pq(t){const e=vb(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&mq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gq=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S8=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kd(t,hq(n,{idToken:r}));$e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_q(s.providerUserInfo):[],a=yq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new S8(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function vq(t){const e=st(t);await Bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _q(t){return t.map(e=>{var{providerId:n}=e,r=uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e){const n=await I8(t,{},async()=>{const r=la({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=T8(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b8.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xq(t,e){return uo(t,"POST","/v2/accounts:revokeToken",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M4=class S3{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return $e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new S3;return r&&($e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new S3,this.toJSON())}_performRefresh(){return No("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let k3=class N2{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S8(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kd(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fq(this,e)}reload(){return vq(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new N2(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kd(this,dq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:x,isAnonymous:I,providerData:C,stsTokenManager:T}=n;$e(_&&T,e,"internal-error");const b=M4.fromJSON(this.name,T);$e(typeof _=="string",e,"internal-error"),wa(d,e.name),wa(f,e.name),$e(typeof x=="boolean",e,"internal-error"),$e(typeof I=="boolean",e,"internal-error"),wa(p,e.name),wa(m,e.name),wa(g,e.name),wa(E,e.name),wa(v,e.name),wa(w,e.name);const k=new N2({uid:_,auth:e,email:f,emailVerified:x,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:b,createdAt:v,lastLoginAt:w});return C&&Array.isArray(C)&&(k.providerData=C.map(S=>Object.assign({},S))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new M4;i.updateFromServerResponse(n);const s=new N2({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bg(s),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Map;function Do(t){Qo(t instanceof Function,"Expected a class definition");let e=O4.get(t);return e?(Qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k8=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};k8.type="NONE";const $4=k8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e,n){return`firebase:${t}:${e}:${n}`}let j4=class L2{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=D2(this.userKey,i.apiKey,s),this.fullPersistenceKey=D2("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?k3._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new L2(Do($4),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Do($4);const o=D2(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=k3._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new L2(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new L2(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D8(e))return"Blackberry";if(L8(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||A8(e))&&!e.includes("edge/"))return"Chrome";if(N8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R8(t=bt()){return/firefox\//i.test(t)}function yb(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A8(t=bt()){return/crios\//i.test(t)}function P8(t=bt()){return/iemobile/i.test(t)}function N8(t=bt()){return/android/i.test(t)}function D8(t=bt()){return/blackberry/i.test(t)}function L8(t=bt()){return/webos/i.test(t)}function gv(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Eq(t=bt()){var e;return gv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cq(){return u8()&&document.documentMode===10}function M8(t=bt()){return gv(t)||N8(t)||L8(t)||D8(t)||/windows phone/i.test(t)||P8(t)}function bq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t,e=[]){let n;switch(t){case"Browser":n=F4(bt());break;case"Worker":n=`${F4(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iq=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(t,e={}){return uo(t,"GET","/v2/passwordPolicy",ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=6;let kq=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Sq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rq=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V4(this),this.idTokenSubscription=new V4(this),this.beforeStateQueue=new Iq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Do(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await j4.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?st(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Do(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tq(this),n=new kq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Do(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await j4.create(this,[Do(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ua(t){return st(t)}let V4=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=m8(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aq(t){vv=t}function $8(t){return vv.loadJS(t)}function Pq(){return vv.recaptchaEnterpriseScript}function Nq(){return vv.gapiScript}function Dq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Lq="recaptcha-enterprise",Mq="NO_RECAPTCHA";let Oq=class{constructor(e){this.type=Lq,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{uq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new cq(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;L4(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Mq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&L4(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Pq();l.length!==0&&(l+=a),$8(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function U4(t,e,n,r=!1){const i=new Oq(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await U4(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await U4(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t,e){const n=Sp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sd(s,e??{}))return i;Ji(i,"already-initialized")}return n.initialize({options:e})}function jq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Do);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fq(t,e,n){const r=ua(t);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=j8(e),{host:o,port:a}=Vq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Uq()}function j8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vq(t){const e=j8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:z4(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:z4(o)}}}function z4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _b=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return No("not implemented")}_getIdTokenResponse(e){return No("not implemented")}_linkToIdToken(e,n){return No("not implemented")}_getReauthenticationResolver(e){return No("not implemented")}};async function zq(t,e){return uo(t,"POST","/v1/accounts:update",e)}async function Bq(t,e){return uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wq(t,e){return Rp(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}async function Hq(t,e){return uo(t,"POST","/v1/accounts:sendOobCode",ca(t,e))}async function Gq(t,e){return Hq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e){return Rp(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function Yq(t,e){return Rp(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4=class R3 extends _b{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new R3(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new R3(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,n,"signInWithPassword",Wq);case"emailLink":return qq(e,{email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wg(e,r,"signUpPassword",Bq);case"emailLink":return Yq(e,{idToken:n,email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t,e){return Rp(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="http://localhost";let yv=class A3 extends _b{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new A3(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new A3(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return id(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,id(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,id(e,n)}buildRequest(){const e={requestUri:Kq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=la(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xq(t){const e=Hs(Gs(t)).link,n=e?Hs(Gs(e)).deep_link_id:null,r=Hs(Gs(t)).deep_link_id;return(r?Hs(Gs(r)).link:null)||r||n||e||t}let Jq=class F8{constructor(e){var n,r,i,s,o,a;const l=Hs(Gs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Qq((i=l.mode)!==null&&i!==void 0?i:null);$e(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Xq(e);try{return new F8(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v=class V8{constructor(){this.providerId=V8.PROVIDER_ID}static credential(e,n){return B4._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jq.parseLink(n);return $e(r,"argument-error"),B4._fromEmailAndCode(e,r.code,r.tenantId)}};_v.PROVIDER_ID="password";_v.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_v.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wb=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap=class extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Ap{constructor(){super("facebook.com")}static credential(e){return yv._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Ap{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yv._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ko.credential(n,r)}catch{return null}}}ko.GOOGLE_SIGN_IN_METHOD="google.com";ko.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Ap{constructor(){super("github.com")}static credential(e){return yv._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Ap{constructor(){super("twitter.com")}static credential(e,n){return yv._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Da.credential(n,r)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zq(t,e){return Rp(t,"POST","/v1/accounts:signUp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv=class P3{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await k3._fromIdTokenResponse(e,r,i),o=W4(r);return new P3({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=W4(r);return new P3({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function W4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eY=class N3 extends Ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,N3.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new N3(e,n,r,i)}};function U8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eY._fromErrorAndOperation(t,s,e,r):s})}async function tY(t,e,n=!1){const r=await kd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wv._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await kd(t,U8(r,i,e,t),n);$e(s.idToken,r,"internal-error");const o=vb(s.idToken);$e(o,r,"internal-error");const{sub:a}=o;return $e(t.uid===a,r,"user-mismatch"),wv._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ji(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e,n=!1){const r="signIn",i=await U8(t,r,e),s=await wv._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function nY(t,e){return B8(ua(t),e)}async function rY(t,e){return z8(st(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t,e,n){var r;$e(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),$e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($e(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&($e(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t){const e=ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sY(t,e,n){const r=ua(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&iY(r,i,n),await Wg(r,i,"getOobCode",Gq)}async function oY(t,e,n){const r=ua(t),o=await Wg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&W8(t),l}),a=await wv._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function aY(t,e,n){return nY(st(t),_v.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W8(t),r})}function lY(t,e){return cY(st(t),null,e)}async function cY(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await kd(t,zq(r,s));await t._updateTokensIfNecessary(o,!0)}function uY(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function dY(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function hY(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function H8(t){return st(t).signOut()}const Hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G8=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(){const t=bt();return yb(t)||gv(t)}const pY=1e3,mY=10;class q8 extends G8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fY()&&bq(),this.fallbackToPolling=M8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Cq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q8.type="LOCAL";const gY=q8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8 extends G8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y8.type="SESSION";const K8=Y8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await vY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yY=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return window}function _Y(t){no().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(){return typeof no().WorkerGlobalScope<"u"&&typeof no().importScripts=="function"}async function wY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EY(){return Q8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="firebaseLocalStorageDb",CY=1,Gg="firebaseLocalStorage",J8="fbase_key";class Pp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ev(t,e){return t.transaction([Gg],e?"readwrite":"readonly").objectStore(Gg)}function bY(){const t=indexedDB.deleteDatabase(X8);return new Pp(t).toPromise()}function D3(){const t=indexedDB.open(X8,CY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gg,{keyPath:J8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gg)?e(r):(r.close(),await bY(),e(await D3()))})})}async function H4(t,e,n){const r=Ev(t,!0).put({[J8]:e,value:n});return new Pp(r).toPromise()}async function IY(t,e){const n=Ev(t,!1).get(e),r=await new Pp(n).toPromise();return r===void 0?null:r.value}function G4(t,e){const n=Ev(t,!0).delete(e);return new Pp(n).toPromise()}const TY=800,SY=3;class Z8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xv._getInstance(EY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wY(),!this.activeServiceWorker)return;this.sender=new yY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D3();return await H4(e,Hg,"1"),await G4(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ev(i,!1).getAll();return new Pp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z8.type="LOCAL";const kY=Z8;new kp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t,e){return e?Do(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eb=class extends _b{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return id(e,this._buildIdpRequest())}_linkToIdToken(e,n){return id(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return id(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RY(t){return B8(t.auth,new Eb(t),t.bypassAuthState)}function AY(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),z8(n,new Eb(t),t.bypassAuthState)}async function PY(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),tY(n,new Eb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t7=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RY;case"linkViaPopup":case"linkViaRedirect":return PY;case"reauthViaPopup":case"reauthViaRedirect":return AY;default:Ji(this.auth,"internal-error")}}resolve(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=new kp(2e3,1e4);async function DY(t,e,n){const r=ua(t);tq(t,e,wb);const i=e7(r,n);return new tc(r,"signInViaPopup",e,i).executeNotNull()}class tc extends t7{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Qo(this.filter.length===1,"Popup operations only handle one event");const e=xb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(to(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NY.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY="pendingRedirect",M2=new Map;class MY extends t7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=M2.get(this.auth._key());if(!e){try{const r=await OY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}M2.set(this.auth._key(),e)}return this.bypassAuthState||M2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OY(t,e){const n=FY(e),r=jY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $Y(t,e){M2.set(t._key(),e)}function jY(t){return Do(t._redirectPersistence)}function FY(t){return D2(LY,t.config.apiKey,t.name)}async function VY(t,e,n=!1){const r=ua(t),i=e7(r,e),o=await new MY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=10*60*1e3;let zY=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(to(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UY&&this.cachedEventUids.clear(),this.cachedEventUids.has(q4(e))}saveEventToCache(e){this.cachedEventUids.add(q4(e)),this.lastProcessedEventTime=Date.now()}};function q4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e={}){return uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GY=/^https?/;async function qY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WY(t);for(const n of e)try{if(YY(n))return}catch{}Ji(t,"unauthorized-domain")}function YY(t){const e=T3(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GY.test(n))return!1;if(HY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=new kp(3e4,6e4);function Y4(){const t=no().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QY(t){return new Promise((e,n)=>{var r,i,s;function o(){Y4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y4(),n(to(t,"network-request-failed"))},timeout:KY.get()})}if(!((i=(r=no().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=no().gapi)===null||s===void 0)&&s.load)o();else{const a=Dq("iframefcb");return no()[a]=()=>{gapi.load?o():n(to(t,"network-request-failed"))},$8(`${Nq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw O2=null,e})}let O2=null;function XY(t){return O2=O2||QY(t),O2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY=new kp(5e3,15e3),ZY="__/auth/iframe",eK="emulator/auth/iframe",tK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rK(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gb(e,eK):`https://${t.config.authDomain}/${ZY}`,r={apiKey:e.apiKey,appName:t.name,v:Ds},i=nK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${la(r).slice(1)}`}async function iK(t){const e=await XY(t),n=no().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:rK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=to(t,"network-request-failed"),a=no().setTimeout(()=>{s(o)},JY.get());function l(){no().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oK=500,aK=600,lK="_blank",cK="http://localhost";class K4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uK(t,e,n,r=oK,i=aK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sK),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();n&&(a=A8(c)?lK:n),R8(c)&&(e=e||cK,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Eq(c)&&a!=="_self")return dK(e||"",a),new K4(null);const d=window.open(e||"",a,u);$e(d,t,"popup-blocked");try{d.focus()}catch{}return new K4(d)}function dK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="__/auth/handler",fK="emulator/auth/handler",pK=encodeURIComponent("fac");async function Q4(t,e,n,r,i,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ds,eventId:i};if(e instanceof wb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Ap){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${pK}=${encodeURIComponent(l)}`:"";return`${mK(t)}?${la(a).slice(1)}${c}`}function mK({config:t}){return t.emulator?gb(t,fK):`https://${t.authDomain}/${hK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="webStorageSupport";class gK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K8,this._completeRedirectFn=VY,this._overrideRedirectResult=$Y}async _openPopup(e,n,r,i){var s;Qo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Q4(e,n,r,T3(),i);return uK(e,o,xb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Q4(e,n,r,T3(),i);return _Y(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iK(e),r=new zY(e);return n.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Iw,{type:Iw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Iw];o!==void 0&&n(!!o),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M8()||yb()||gv()}}const vK=gK;var X4="@firebase/auth",J4="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yK=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wK(t){so(new ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O8(t)},c=new Rq(r,i,s,l);return jq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),so(new ks("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new yK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(X4,J4,_K(t)),ri(X4,J4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=5*60,EK=a8("authIdTokenMaxAge")||xK;let Z4=null;const CK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EK)return;const i=n==null?void 0:n.token;Z4!==i&&(Z4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bK(t=pb()){const e=Sp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$q(t,{popupRedirectResolver:vK,persistence:[kY,gY,K8]}),r=a8("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=CK(r);dY(n,s,()=>s(n.currentUser)),uY(n,o=>s(o))}const i=i8("auth");return i&&Fq(n,`http://${i}`),n}function IK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Aq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=to("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wK("Browser");var TK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,Cb=Cb||{},Be=TK||self;function Cv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Np(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SK(t){return Object.prototype.hasOwnProperty.call(t,Tw)&&t[Tw]||(t[Tw]=++kK)}var Tw="closure_uid_"+(1e9*Math.random()>>>0),kK=0;function RK(t,e,n){return t.call.apply(t.bind,arguments)}function AK(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wr=RK:wr=AK,wr.apply(null,arguments)}function Wm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Zn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function kl(){this.s=this.s,this.o=this.o}var PK=0;kl.prototype.s=!1;kl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PK!=0)&&SK(this)};kl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r7=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ek(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cv(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function xr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var NK=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Be.addEventListener("test",n,e),Be.removeEventListener("test",n,e)}catch{}return t}();function P0(t){return/^[\s\xa0]*$/.test(t)}function bv(){var t=Be.navigator;return t&&(t=t.userAgent)?t:""}function Bs(t){return bv().indexOf(t)!=-1}function Ib(t){return Ib[" "](t),t}Ib[" "]=function(){};function DK(t,e){var n=IQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var LK=Bs("Opera"),Rd=Bs("Trident")||Bs("MSIE"),i7=Bs("Edge"),L3=i7||Rd,s7=Bs("Gecko")&&!(bv().toLowerCase().indexOf("webkit")!=-1&&!Bs("Edge"))&&!(Bs("Trident")||Bs("MSIE"))&&!Bs("Edge"),MK=bv().toLowerCase().indexOf("webkit")!=-1&&!Bs("Edge");function o7(){var t=Be.document;return t?t.documentMode:void 0}var M3;e:{var Sw="",kw=function(){var t=bv();if(s7)return/rv:([^\);]+)(\)|;)/.exec(t);if(i7)return/Edge\/([\d\.]+)/.exec(t);if(Rd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(MK)return/WebKit\/(\S+)/.exec(t);if(LK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kw&&(Sw=kw?kw[1]:""),Rd){var Rw=o7();if(Rw!=null&&Rw>parseFloat(Sw)){M3=String(Rw);break e}}M3=Sw}var O3;if(Be.document&&Rd){var tk=o7();O3=tk||parseInt(M3,10)||void 0}else O3=void 0;var OK=O3;function N0(t,e){if(xr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s7){e:{try{Ib(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$K[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&N0.$.h.call(this)}}Zn(N0,xr);var $K={2:"touch",3:"pen",4:"mouse"};N0.prototype.h=function(){N0.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dp="closure_listenable_"+(1e6*Math.random()|0),jK=0;function FK(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++jK,this.fa=this.ia=!1}function Iv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Tb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function a7(t){const e={};for(const n in t)e[n]=t[n];return e}const nk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l7(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<nk.length;s++)n=nk[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tv(t){this.src=t,this.g={},this.h=0}Tv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=j3(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FK(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function $3(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=r7(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Iv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function j3(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Sb="closure_lm_"+(1e6*Math.random()|0),Aw={};function c7(t,e,n,r,i){if(r&&r.once)return d7(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)c7(t,e[s],n,r,i);return null}return n=Ab(n),t&&t[Dp]?t.O(e,n,Np(r)?!!r.capture:!!r,i):u7(t,e,n,!1,r,i)}function u7(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Np(i)?!!i.capture:!!i,a=Rb(t);if(a||(t[Sb]=a=new Tv(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=UK(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)NK||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f7(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UK(){function t(n){return e.call(t.src,t.listener,n)}const e=zK;return t}function d7(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)d7(t,e[s],n,r,i);return null}return n=Ab(n),t&&t[Dp]?t.P(e,n,Np(r)?!!r.capture:!!r,i):u7(t,e,n,!0,r,i)}function h7(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)h7(t,e[s],n,r,i);else r=Np(r)?!!r.capture:!!r,n=Ab(n),t&&t[Dp]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=j3(s,n,r,i),-1<n&&(Iv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Rb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=j3(e,n,r,i)),(n=-1<t?e[t]:null)&&kb(n))}function kb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Dp])$3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rb(e))?($3(n,t),n.h==0&&(n.src=null,e[Sb]=null)):Iv(t)}}}function f7(t){return t in Aw?Aw[t]:Aw[t]="on"+t}function zK(t,e){if(t.fa)t=!0;else{e=new N0(e,this);var n=t.listener,r=t.la||t.src;t.ia&&kb(t),t=n.call(r,e)}return t}function Rb(t){return t=t[Sb],t instanceof Tv?t:null}var Pw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ab(t){return typeof t=="function"?t:(t[Pw]||(t[Pw]=function(e){return t.handleEvent(e)}),t[Pw])}function Jn(){kl.call(this),this.i=new Tv(this),this.S=this,this.J=null}Zn(Jn,kl);Jn.prototype[Dp]=!0;Jn.prototype.removeEventListener=function(t,e,n,r){h7(this,t,e,n,r)};function lr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new xr(e,t);else if(e instanceof xr)e.target=e.target||t;else{var i=e;e=new xr(r,t),l7(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hm(o,r,!0,e)&&i}if(o=e.g=t,i=Hm(o,r,!0,e)&&i,i=Hm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Hm(o,r,!1,e)&&i}Jn.prototype.N=function(){if(Jn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iv(n[r]);delete t.g[e],t.h--}}this.J=null};Jn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Jn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hm(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$3(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Pb=Be.JSON.stringify;class BK{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function WK(){var t=Nb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class HK{constructor(){this.h=this.g=null}add(e,n){const r=p7.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var p7=new BK(()=>new GK,t=>t.reset());class GK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qK(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function YK(t){Be.setTimeout(()=>{throw t},0)}let D0,L0=!1,Nb=new HK,m7=()=>{const t=Be.Promise.resolve(void 0);D0=()=>{t.then(KK)}};var KK=()=>{for(var t;t=WK();){try{t.h.call(t.g)}catch(n){YK(n)}var e=p7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}L0=!1};function Sv(t,e){Jn.call(this),this.h=t||1,this.g=e||Be,this.j=wr(this.qb,this),this.l=Date.now()}Zn(Sv,Jn);le=Sv.prototype;le.ga=!1;le.T=null;le.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lr(this,"tick"),this.ga&&(Db(this),this.start()))}};le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Db(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}le.N=function(){Sv.$.N.call(this),Db(this),delete this.g};function Lb(t,e,n){if(typeof t=="function")n&&(t=wr(t,n));else if(t&&typeof t.handleEvent=="function")t=wr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Be.setTimeout(t,e||0)}function g7(t){t.g=Lb(()=>{t.g=null,t.i&&(t.i=!1,g7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QK extends kl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g7(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function M0(t){kl.call(this),this.h=t,this.g={}}Zn(M0,kl);var rk=[];function v7(t,e,n,r){Array.isArray(n)||(n&&(rk[0]=n.toString()),n=rk);for(var i=0;i<n.length;i++){var s=c7(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function y7(t){Tb(t.g,function(e,n){this.g.hasOwnProperty(n)&&kb(e)},t),t.g={}}M0.prototype.N=function(){M0.$.N.call(this),y7(this)};M0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kv(){this.g=!0}kv.prototype.Ea=function(){this.g=!1};function XK(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function JK(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Gu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eQ(t,n)+(r?" "+r:"")})}function ZK(t,e){t.info(function(){return"TIMEOUT: "+e})}kv.prototype.info=function(){};function eQ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Pb(n)}catch{return e}}var Zc={},ik=null;function Rv(){return ik=ik||new Jn}Zc.Ta="serverreachability";function _7(t){xr.call(this,Zc.Ta,t)}Zn(_7,xr);function O0(t){const e=Rv();lr(e,new _7(e))}Zc.STAT_EVENT="statevent";function w7(t,e){xr.call(this,Zc.STAT_EVENT,t),this.stat=e}Zn(w7,xr);function Pr(t){const e=Rv();lr(e,new w7(e,t))}Zc.Ua="timingevent";function x7(t,e){xr.call(this,Zc.Ua,t),this.size=e}Zn(x7,xr);function Lp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){t()},e)}var Av={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},E7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mb(){}Mb.prototype.h=null;function sk(t){return t.h||(t.h=t.i())}function C7(){}var Mp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ob(){xr.call(this,"d")}Zn(Ob,xr);function $b(){xr.call(this,"c")}Zn($b,xr);var F3;function Pv(){}Zn(Pv,Mb);Pv.prototype.g=function(){return new XMLHttpRequest};Pv.prototype.i=function(){return{}};F3=new Pv;function Op(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new M0(this),this.P=tQ,t=L3?125:void 0,this.V=new Sv(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new b7}function b7(){this.i=null,this.g="",this.h=!1}var tQ=45e3,I7={},V3={};le=Op.prototype;le.setTimeout=function(t){this.P=t};function U3(t,e,n){t.L=1,t.A=Dv(Xo(e)),t.u=n,t.S=!0,T7(t,null)}function T7(t,e){t.G=Date.now(),$p(t),t.B=Xo(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),L7(n.i,"t",r),t.o=0,n=t.l.J,t.h=new b7,t.g=tD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new QK(wr(t.Pa,t,t.g),t.O)),v7(t.U,t.g,"readystatechange",t.nb),e=t.I?a7(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),O0(),XK(t.j,t.v,t.B,t.m,t.W,t.u)}le.nb=function(t){t=t.target;const e=this.M;e&&qs(t)==3?e.l():this.Pa(t)};le.Pa=function(t){try{if(t==this.g)e:{const u=qs(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||L3||this.g&&(this.h.h||this.g.ja()||ck(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?O0(3):O0(2)),Nv(this);var n=this.g.da();this.ca=n;t:if(S7(this)){var r=ck(this.g);t="";var i=r.length,s=qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),zf(this);var o="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,JK(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P0(a)){var c=a;break t}}c=null}if(n=c)Gu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,z3(this,n);else{this.i=!1,this.s=3,Pr(12),nc(this),zf(this);break e}}this.S?(k7(this,u,o),L3&&this.i&&u==3&&(v7(this.U,this.V,"tick",this.mb),this.V.start())):(Gu(this.j,this.m,o,null),z3(this,o)),u==4&&nc(this),this.i&&!this.J&&(u==4?X7(this.l,this):(this.i=!1,$p(this)))}else EQ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Pr(12)):(this.s=0,Pr(13)),nc(this),zf(this)}}}catch{}finally{}};function S7(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function k7(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=nQ(t,n),i==V3){e==4&&(t.s=4,Pr(14),r=!1),Gu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==I7){t.s=4,Pr(15),Gu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Gu(t.j,t.m,i,null),z3(t,i);S7(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bb(e),e.M=!0,Pr(11))):(Gu(t.j,t.m,n,"[Invalid Chunked Response]"),nc(t),zf(t))}le.mb=function(){if(this.g){var t=qs(this.g),e=this.g.ja();this.o<e.length&&(Nv(this),k7(this,t,e),this.i&&t!=4&&$p(this))}};function nQ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?V3:(n=Number(e.substring(n,r)),isNaN(n)?I7:(r+=1,r+n>e.length?V3:(e=e.slice(r,r+n),t.o=r+n,e)))}le.cancel=function(){this.J=!0,nc(this)};function $p(t){t.Y=Date.now()+t.P,R7(t,t.P)}function R7(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Lp(wr(t.lb,t),e)}function Nv(t){t.C&&(Be.clearTimeout(t.C),t.C=null)}le.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(ZK(this.j,this.B),this.L!=2&&(O0(),Pr(17)),nc(this),this.s=2,zf(this)):R7(this,this.Y-t)};function zf(t){t.l.H==0||t.J||X7(t.l,t)}function nc(t){Nv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Db(t.V),y7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function z3(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||B3(n.i,t))){if(!t.K&&B3(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Kg(n),$v(n);else break e;zb(n),Pr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Lp(wr(n.ib,n),6e3));if(1>=$7(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rc(n,11)}else if((t.K||n.g==t)&&Kg(n),!P0(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(jb(s,s.h),s.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=eD(r,r.J?r.pa:null,r.Y),o.K){j7(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Nv(a),$p(a)),r.g=o}else K7(r);0<n.j.length&&jv(n)}else c[0]!="stop"&&c[0]!="close"||rc(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?rc(n,7):Ub(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}O0(4)}catch{}}function rQ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iQ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function A7(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iQ(t),r=rQ(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var P7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function pc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pc){this.h=t.h,qg(this,t.j),this.s=t.s,this.g=t.g,Yg(this,t.m),this.l=t.l;var e=t.i,n=new $0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ok(this,n),this.o=t.o}else t&&(e=String(t).match(P7))?(this.h=!1,qg(this,e[1]||"",!0),this.s=wf(e[2]||""),this.g=wf(e[3]||"",!0),Yg(this,e[4]),this.l=wf(e[5]||"",!0),ok(this,e[6]||"",!0),this.o=wf(e[7]||"")):(this.h=!1,this.i=new $0(null,this.h))}pc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xf(e,ak,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xf(e,ak,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xf(n,n.charAt(0)=="/"?lQ:aQ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xf(n,uQ)),t.join("")};function Xo(t){return new pc(t)}function qg(t,e,n){t.j=n?wf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ok(t,e,n){e instanceof $0?(t.i=e,dQ(t.i,t.h)):(n||(e=xf(e,cQ)),t.i=new $0(e,t.h))}function Xt(t,e,n){t.i.set(e,n)}function Dv(t){return Xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,oQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oQ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ak=/[#\/\?@]/g,aQ=/[#\?:]/g,lQ=/[#\?]/g,cQ=/[#\?@]/g,uQ=/#/g;function $0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rl(t){t.g||(t.g=new Map,t.h=0,t.i&&sQ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}le=$0.prototype;le.add=function(t,e){Rl(this),this.i=null,t=dh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function N7(t,e){Rl(t),e=dh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function D7(t,e){return Rl(t),e=dh(t,e),t.g.has(e)}le.forEach=function(t,e){Rl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};le.ta=function(){Rl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};le.Z=function(t){Rl(this);let e=[];if(typeof t=="string")D7(this,t)&&(e=e.concat(this.g.get(dh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};le.set=function(t,e){return Rl(this),this.i=null,t=dh(this,t),D7(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};le.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function L7(t,e,n){N7(t,e),0<n.length&&(t.i=null,t.g.set(dh(t,e),bb(n)),t.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function dh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dQ(t,e){e&&!t.j&&(Rl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(N7(this,r),L7(this,i,n))},t)),t.j=e}var hQ=class{constructor(t,e){this.g=t,this.map=e}};function M7(t){this.l=t||fQ,Be.PerformanceNavigationTiming?(t=Be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fQ=10;function O7(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $7(t){return t.h?1:t.g?t.g.size:0}function B3(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jb(t,e){t.g?t.g.add(e):t.h=e}function j7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}M7.prototype.cancel=function(){if(this.i=F7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function F7(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bb(t.i)}var pQ=class{stringify(t){return Be.JSON.stringify(t,void 0)}parse(t){return Be.JSON.parse(t,void 0)}};function mQ(){this.g=new pQ}function gQ(t,e,n){const r=n||"";try{A7(t,function(i,s){let o=i;Np(i)&&(o=Pb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vQ(t,e){const n=new kv;if(Be.Image){const r=new Image;r.onload=Wm(Gm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wm(Gm,n,r,"TestLoadImage: error",!1,e),r.onabort=Wm(Gm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wm(Gm,n,r,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lv(t){this.l=t.ec||null,this.j=t.ob||!1}Zn(Lv,Mb);Lv.prototype.g=function(){return new Mv(this.l,this.j)};Lv.prototype.i=function(t){return function(){return t}}({});function Mv(t,e){Jn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zn(Mv,Jn);var Fb=0;le=Mv.prototype;le.open=function(t,e){if(this.readyState!=Fb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,j0(this)};le.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jp(this)),this.readyState=Fb};le.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,j0(this)),this.g&&(this.readyState=3,j0(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function V7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}le.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jp(this):j0(this),this.readyState==3&&V7(this)}};le.Za=function(t){this.g&&(this.response=this.responseText=t,jp(this))};le.Ya=function(t){this.g&&(this.response=t,jp(this))};le.ka=function(){this.g&&jp(this)};function jp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,j0(t)}le.setRequestHeader=function(t,e){this.v.append(t,e)};le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function j0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yQ=Be.JSON.parse;function wn(t){Jn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=U7,this.L=this.M=!1}Zn(wn,Jn);var U7="",_Q=/^https?$/i,wQ=["POST","PUT"];le=wn.prototype;le.Oa=function(t){this.M=t};le.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():F3.g(),this.C=this.u?sk(this.u):sk(F3),this.g.onreadystatechange=wr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lk(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Be.FormData&&t instanceof Be.FormData,!(0<=r7(wQ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{W7(this),0<this.B&&((this.L=xQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.ua,this)):this.A=Lb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lk(this,s)}};function xQ(t){return Rd&&typeof t.timeout=="number"&&t.ontimeout!==void 0}le.ua=function(){typeof Cb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))};function lk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,z7(t),Ov(t)}function z7(t){t.F||(t.F=!0,lr(t,"complete"),lr(t,"error"))}le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lr(this,"complete"),lr(this,"abort"),Ov(this))};le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ov(this,!0)),wn.$.N.call(this)};le.La=function(){this.s||(this.G||this.v||this.l?B7(this):this.kb())};le.kb=function(){B7(this)};function B7(t){if(t.h&&typeof Cb<"u"&&(!t.C[1]||qs(t)!=4||t.da()!=2)){if(t.v&&qs(t)==4)Lb(t.La,0,t);else if(lr(t,"readystatechange"),qs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(P7)[1]||null;!i&&Be.self&&Be.self.location&&(i=Be.self.location.protocol.slice(0,-1)),r=!_Q.test(i?i.toLowerCase():"")}n=r}if(n)lr(t,"complete"),lr(t,"success");else{t.m=6;try{var s=2<qs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",z7(t)}}finally{Ov(t)}}}}function Ov(t,e){if(t.g){W7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||lr(t,"ready");try{n.onreadystatechange=r}catch{}}}function W7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Be.clearTimeout(t.A),t.A=null)}le.isActive=function(){return!!this.g};function qs(t){return t.g?t.g.readyState:0}le.da=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}};le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yQ(e)}};function ck(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case U7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function EQ(t){const e={};t=(t.g&&2<=qs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(P0(t[r]))continue;var n=qK(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}VK(e,function(r){return r.join(", ")})}le.Ia=function(){return this.m};le.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H7(t){let e="";return Tb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Vb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H7(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xt(t,e,n))}function Wh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function G7(t){this.Ga=0,this.j=[],this.l=new kv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wh("baseRetryDelayMs",5e3,t),this.hb=Wh("retryDelaySeedMs",1e4,t),this.eb=Wh("forwardChannelMaxRetries",2,t),this.xa=Wh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new M7(t&&t.concurrentRequestLimit),this.Ja=new mQ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}le=G7.prototype;le.ra=8;le.H=1;function Ub(t){if(q7(t),t.H==3){var e=t.W++,n=Xo(t.I);if(Xt(n,"SID",t.K),Xt(n,"RID",e),Xt(n,"TYPE","terminate"),Fp(t,n),e=new Op(t,t.l,e),e.L=2,e.A=Dv(Xo(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon)try{n=Be.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Be.Image&&(new Image().src=e.A,n=!0),n||(e.g=tD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),$p(e)}Z7(t)}function $v(t){t.g&&(Bb(t),t.g.cancel(),t.g=null)}function q7(t){$v(t),t.u&&(Be.clearTimeout(t.u),t.u=null),Kg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Be.clearTimeout(t.m),t.m=null)}function jv(t){if(!O7(t.i)&&!t.m){t.m=!0;var e=t.Na;D0||m7(),L0||(D0(),L0=!0),Nb.add(e,t),t.C=0}}function CQ(t,e){return $7(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Lp(wr(t.Na,t,e),J7(t,t.C)),t.C++,!0)}le.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Op(this,this.l,t);let s=this.s;if(this.U&&(s?(s=a7(s),l7(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Y7(this,i,e),n=Xo(this.I),Xt(n,"RID",t),Xt(n,"CVER",22),this.F&&Xt(n,"X-HTTP-Session-Id",this.F),Fp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(H7(s)))+"&"+e:this.o&&Vb(n,this.o,s)),jb(this.i,i),this.bb&&Xt(n,"TYPE","init"),this.P?(Xt(n,"$req",e),Xt(n,"SID","null"),i.aa=!0,U3(i,n,null)):U3(i,n,e),this.H=2}}else this.H==3&&(t?uk(this,t):this.j.length==0||O7(this.i)||uk(this))};function uk(t,e){var n;e?n=e.m:n=t.W++;const r=Xo(t.I);Xt(r,"SID",t.K),Xt(r,"RID",n),Xt(r,"AID",t.V),Fp(t,r),t.o&&t.s&&Vb(r,t.o,t.s),n=new Op(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Y7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jb(t.i,n),U3(n,r,e)}function Fp(t,e){t.na&&Tb(t.na,function(n,r){Xt(e,r,n)}),t.h&&A7({},function(n,r){Xt(e,r,n)})}function Y7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{gQ(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function K7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;D0||m7(),L0||(D0(),L0=!0),Nb.add(e,t),t.A=0}}function zb(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Lp(wr(t.Ma,t),J7(t,t.A)),t.A++,!0)}le.Ma=function(){if(this.u=null,Q7(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Lp(wr(this.jb,this),t)}};le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pr(10),$v(this),Q7(this))};function Bb(t){t.B!=null&&(Be.clearTimeout(t.B),t.B=null)}function Q7(t){t.g=new Op(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xo(t.wa);Xt(e,"RID","rpc"),Xt(e,"SID",t.K),Xt(e,"AID",t.V),Xt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Xt(e,"TO",t.qa),Xt(e,"TYPE","xmlhttp"),Fp(t,e),t.o&&t.s&&Vb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dv(Xo(e)),n.u=null,n.S=!0,T7(n,t)}le.ib=function(){this.v!=null&&(this.v=null,$v(this),zb(this),Pr(19))};function Kg(t){t.v!=null&&(Be.clearTimeout(t.v),t.v=null)}function X7(t,e){var n=null;if(t.g==e){Kg(t),Bb(t),t.g=null;var r=2}else if(B3(t.i,e))n=e.F,j7(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Rv(),lr(r,new x7(r,n)),jv(t)}else K7(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&CQ(t,e)||r==2&&zb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rc(t,5);break;case 4:rc(t,10);break;case 3:rc(t,6);break;default:rc(t,2)}}}function J7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rc(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wr(t.pb,t);n||(n=new pc("//www.google.com/images/cleardot.gif"),Be.location&&Be.location.protocol=="http"||qg(n,"https"),Dv(n)),vQ(n.toString(),r)}else Pr(2);t.H=0,t.h&&t.h.za(e),Z7(t),q7(t)}le.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pr(2)):(this.l.info("Failed to ping google.com"),Pr(1))};function Z7(t){if(t.H=0,t.ma=[],t.h){const e=F7(t.i);(e.length!=0||t.j.length!=0)&&(ek(t.ma,e),ek(t.ma,t.j),t.i.i.length=0,bb(t.j),t.j.length=0),t.h.ya()}}function eD(t,e,n){var r=n instanceof pc?Xo(n):new pc(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yg(r,r.m);else{var i=Be.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new pc(null);r&&qg(s,r),e&&(s.g=e),i&&Yg(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Xt(r,n,e),Xt(r,"VER",t.ra),Fp(t,r),r}function tD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new wn(new Lv({ob:n})):new wn(t.va),e.Oa(t.J),e}le.isActive=function(){return!!this.h&&this.h.isActive(this)};function nD(){}le=nD.prototype;le.Ba=function(){};le.Aa=function(){};le.za=function(){};le.ya=function(){};le.isActive=function(){return!0};le.Va=function(){};function Qg(){if(Rd&&!(10<=Number(OK)))throw Error("Environmental error: no available transport.")}Qg.prototype.g=function(t,e){return new Ci(t,e)};function Ci(t,e){Jn.call(this),this.g=new G7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!P0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P0(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new hh(this)}Zn(Ci,Jn);Ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eD(t,null,t.Y),jv(t)};Ci.prototype.close=function(){Ub(this.g)};Ci.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pb(t),t=n);e.j.push(new hQ(e.fb++,t)),e.H==3&&jv(e)};Ci.prototype.N=function(){this.g.h=null,delete this.j,Ub(this.g),delete this.g,Ci.$.N.call(this)};function rD(t){Ob.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Zn(rD,Ob);function iD(){$b.call(this),this.status=1}Zn(iD,$b);function hh(t){this.g=t}Zn(hh,nD);hh.prototype.Ba=function(){lr(this.g,"a")};hh.prototype.Aa=function(t){lr(this.g,new rD(t))};hh.prototype.za=function(t){lr(this.g,new iD)};hh.prototype.ya=function(){lr(this.g,"b")};function bQ(){this.blockSize=-1}function Rs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Zn(Rs,bQ);Rs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Nw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Rs.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Nw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Nw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Nw(this,r),i=0;break}}this.h=i,this.i+=e};Rs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function $t(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var IQ={};function Wb(t){return-128<=t&&128>t?DK(t,function(e){return new $t([e|0],0>e?-1:0)}):new $t([t|0],0>t?-1:0)}function Ys(t){if(isNaN(t)||!isFinite(t))return sd;if(0>t)return ir(Ys(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=W3;return new $t(e,0)}function sD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ir(sD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ys(Math.pow(e,8)),r=sd,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ys(Math.pow(e,s)),r=r.R(s).add(Ys(o))):(r=r.R(n),r=r.add(Ys(o)))}return r}var W3=4294967296,sd=Wb(0),H3=Wb(1),dk=Wb(16777216);le=$t.prototype;le.ea=function(){if(Ui(this))return-ir(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:W3+r)*e,e*=W3}return t};le.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Lo(this))return"0";if(Ui(this))return"-"+ir(this).toString(t);for(var e=Ys(Math.pow(t,6)),n=this,r="";;){var i=Jg(n,e).g;n=Xg(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Lo(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};le.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Lo(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ui(t){return t.h==-1}le.X=function(t){return t=Xg(this,t),Ui(t)?-1:Lo(t)?0:1};function ir(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $t(n,~t.h).add(H3)}le.abs=function(){return Ui(this)?ir(this):this};le.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new $t(n,n[n.length-1]&-2147483648?-1:0)};function Xg(t,e){return t.add(ir(e))}le.R=function(t){if(Lo(this)||Lo(t))return sd;if(Ui(this))return Ui(t)?ir(this).R(ir(t)):ir(ir(this).R(t));if(Ui(t))return ir(this.R(ir(t)));if(0>this.X(dk)&&0>t.X(dk))return Ys(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,qm(n,2*r+2*i),n[2*r+2*i+1]+=s*l,qm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $t(n,0)};function qm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hh(t,e){this.g=t,this.h=e}function Jg(t,e){if(Lo(e))throw Error("division by zero");if(Lo(t))return new Hh(sd,sd);if(Ui(t))return e=Jg(ir(t),e),new Hh(ir(e.g),ir(e.h));if(Ui(e))return e=Jg(t,ir(e)),new Hh(ir(e.g),e.h);if(30<t.g.length){if(Ui(t)||Ui(e))throw Error("slowDivide_ only works with positive integers.");for(var n=H3,r=e;0>=r.X(t);)n=hk(n),r=hk(r);var i=pu(n,1),s=pu(r,1);for(r=pu(r,2),n=pu(n,2);!Lo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pu(r,1),n=pu(n,1)}return e=Xg(t,i.R(e)),new Hh(i,e)}for(i=sd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ys(n),o=s.R(e);Ui(o)||0<o.X(t);)n-=r,s=Ys(n),o=s.R(e);Lo(s)&&(s=H3),i=i.add(s),t=Xg(t,o)}return new Hh(i,t)}le.gb=function(t){return Jg(this,t).h};le.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $t(n,this.h&t.h)};le.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $t(n,this.h|t.h)};le.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $t(n,this.h^t.h)};function hk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $t(n,t.h)}function pu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new $t(i,t.h)}Qg.prototype.createWebChannel=Qg.prototype.g;Ci.prototype.send=Ci.prototype.u;Ci.prototype.open=Ci.prototype.m;Ci.prototype.close=Ci.prototype.close;Av.NO_ERROR=0;Av.TIMEOUT=8;Av.HTTP_ERROR=6;E7.COMPLETE="complete";C7.EventType=Mp;Mp.OPEN="a";Mp.CLOSE="b";Mp.ERROR="c";Mp.MESSAGE="d";Jn.prototype.listen=Jn.prototype.O;wn.prototype.listenOnce=wn.prototype.P;wn.prototype.getLastError=wn.prototype.Sa;wn.prototype.getLastErrorCode=wn.prototype.Ia;wn.prototype.getStatus=wn.prototype.da;wn.prototype.getResponseJson=wn.prototype.Wa;wn.prototype.getResponseText=wn.prototype.ja;wn.prototype.send=wn.prototype.ha;wn.prototype.setWithCredentials=wn.prototype.Oa;Rs.prototype.digest=Rs.prototype.l;Rs.prototype.reset=Rs.prototype.reset;Rs.prototype.update=Rs.prototype.j;$t.prototype.add=$t.prototype.add;$t.prototype.multiply=$t.prototype.R;$t.prototype.modulo=$t.prototype.gb;$t.prototype.compare=$t.prototype.X;$t.prototype.toNumber=$t.prototype.ea;$t.prototype.toString=$t.prototype.toString;$t.prototype.getBits=$t.prototype.D;$t.fromNumber=Ys;$t.fromString=sD;var TQ=function(){return new Qg},SQ=function(){return Rv()},Dw=Av,kQ=E7,RQ=Zc,fk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ym=C7,AQ=wn,PQ=Rs,od=$t;const pk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Tp("@firebase/firestore");function ku(){return Pc.logLevel}function Q(t,...e){if(Pc.logLevel<=Ze.DEBUG){const n=e.map(Hb);Pc.debug(`Firestore (${fh}): ${t}`,...n)}}function Rr(t,...e){if(Pc.logLevel<=Ze.ERROR){const n=e.map(Hb);Pc.error(`Firestore (${fh}): ${t}`,...n)}}function Nc(t,...e){if(Pc.logLevel<=Ze.WARN){const n=e.map(Hb);Pc.warn(`Firestore (${fh}): ${t}`,...n)}}function Hb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function Ae(t,e){t||Ce()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}}class LQ{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new NQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new kr(e)}}class MQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $Q{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new $Q(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Ad(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function aD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new un(0,0))}static max(){return new De(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return F0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof F0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Rt extends F0{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const VQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends F0{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return VQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Rt.fromString(e))}static fromName(e){return new ae(Rt.fromString(e).popFirst(5))}static empty(){return new ae(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function G3(t){return t.fields.find(e=>e.kind===2)}function Bl(t){return t.fields.filter(e=>e.kind!==2)}Zg.UNKNOWN_ID=-1;class $2{constructor(e,n){this.fieldPath=e,this.kind=n}}class V0{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new V0(0,bi.min())}}function UQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new bi(i,ae.empty(),e)}function lD(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(De.min(),ae.empty(),-1)}static max(){return new bi(De.max(),ae.empty(),-1)}}function Gb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==cD)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Bf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=qb(r.target.error);this.V.reject(new Bf(e,i))}}static open(e,n,r,i){try{return new Fv(n,e.transaction(i,r))}catch(s){throw new Bf(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new BQ(n)}}class Ks{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ks.S(bt())===12.2&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),ql(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!f8())return!1;if(Ks.C())return!0;const e=bt(),n=Ks.S(e),r=0<n&&n<10,i=Ks.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Bf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ne(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ne(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Bf(e,o))},i.onupgradeneeded=s=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Fv.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class zQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ql(this.k.delete())}}class Bf extends ne{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Al(t){return t.name==="IndexedDbTransactionError"}class BQ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ql(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),ql(this.store.add(e))}get(e){return ql(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),ql(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),ql(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const o=qb(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new z((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new zQ(a),c=n(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(d=>(l.done(),z.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ql(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=qb(r.target.error);n(i)}})}let mk=!1;function qb(t){const e=Ks.S(bt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mk||(mk=!0,setTimeout(()=>{throw r},0)),r}}return t}class WQ{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){Q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Q("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Al(n)?Q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await eu(n)}await this.ee(6e4)})}}class HQ{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Q("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(Q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=lD(s);Gb(o,r)>0&&(r=o)}),new bi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Bi._e=-1;function Vv(t){return t==null}function U0(t){return t===0&&1/t==-1/0}function GQ(t){return typeof t=="number"&&Number.isInteger(t)&&!U0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gk(e)),e=qQ(t.get(n),e);return gk(e)}function qQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function gk(t){return t+""}function Qs(t){const e=t.length;if(Ae(e>=2),e===2)return Ae(t.charAt(0)===""&&t.charAt(1)===""),Rt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Ce(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Ce()}s=o+2}return new Rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t,e){return[t,Or(e)]}function dD(t,e,n){return[t,Or(e),n]}const YQ={},KQ=["prefixPath","collectionGroup","readTime","documentId"],QQ=["prefixPath","collectionGroup","documentId"],XQ=["collectionGroup","readTime","prefixPath","documentId"],JQ=["canonicalId","targetId"],ZQ=["targetId","path"],eX=["path","targetId"],tX=["collectionId","parent"],nX=["indexId","uid"],rX=["uid","sequenceNumber"],iX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sX=["indexId","uid","orderedDocumentKey"],oX=["userId","collectionPath","documentId"],aX=["userId","collectionPath","largestBatchId"],lX=["userId","collectionGroup","largestBatchId"],hD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cX=[...hD,"documentOverlays"],fD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pD=fD,uX=[...pD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3 extends uD{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function er(t,e){const n=Ve(t);return Ks.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class Y3{constructor(e,n){this.comparator=e,this.root=n||il.EMPTY}insert(e,n){return new Y3(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,il.BLACK,null,null))}remove(e){return new Y3(this.comparator,this.root.remove(e,this.comparator).copy(null,null,il.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Km(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Km(this.root,e,this.comparator,!1)}getReverseIterator(){return new Km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Km(this.root,e,this.comparator,!0)}},Km=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},il=class Eo{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Eo.RED,this.left=i??Eo.EMPTY,this.right=s??Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Eo(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Eo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}};il.EMPTY=null,il.RED=!0,il.BLACK=!1;il.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new il(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _k(this.data.getIterator())}getIteratorFrom(e){return new _k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class _k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new Vt(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ad(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gD("Invalid base64 string: "+s):s}}(e);return new ur(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const dX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=dX.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dl(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yb(t){const e=t.mapValue.fields.__previous_value__;return Uv(e)?Yb(e):e}function z0(t){const e=ul(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Dc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},F2={nullValue:"NULL_VALUE"};function Lc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:vD(t)?9007199254740991:10:Ce()}function oo(t,e){if(t===e)return!0;const n=Lc(t);if(n!==Lc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return z0(t).isEqual(z0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ul(i.timestampValue),a=ul(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return dl(i.bytesValue).isEqual(dl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vn(i.geoPointValue.latitude)===vn(s.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vn(i.integerValue)===vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vn(i.doubleValue),a=vn(s.doubleValue);return o===a?U0(o)===U0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ad(t.arrayValue.values||[],e.arrayValue.values||[],oo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(yk(o)!==yk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!oo(o[l],a[l])))return!1;return!0}(t,e);default:return Ce()}}function B0(t,e){return(t.values||[]).find(n=>oo(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=Lc(t),r=Lc(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=vn(s.integerValue||s.doubleValue),l=vn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wk(t.timestampValue,e.timestampValue);case 4:return wk(z0(t),z0(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=dl(s),l=dl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=qe(a[c],l[c]);if(u!==0)return u}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=qe(vn(s.latitude),vn(o.latitude));return a!==0?a:qe(vn(s.longitude),vn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=hl(a[c],l[c]);if(u)return u}return qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ua.mapValue&&o===Ua.mapValue)return 0;if(s===Ua.mapValue)return 1;if(o===Ua.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=qe(l[d],u[d]);if(f!==0)return f;const p=hl(a[l[d]],c[u[d]]);if(p!==0)return p}return qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function wk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ul(t),r=ul(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function Pd(t){return K3(t)}function K3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=K3(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${K3(n.fields[o])}`;return i+"}"}(t.mapValue):Ce()}function Mc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q3(t){return!!t&&"integerValue"in t}function W0(t){return!!t&&"arrayValue"in t}function xk(t){return!!t&&"nullValue"in t}function Ek(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function V2(t){return!!t&&"mapValue"in t}function Wf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return tu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function fX(t){return"nullValue"in t?F2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Mc(Dc.empty(),ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ce()}function pX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Mc(Dc.empty(),ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ua:Ce()}function Ck(t,e){const n=hl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bk(t,e){const n=hl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!V2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wf(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());V2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];V2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yr(Wf(this.value))}}function yD(t){const e=[];return tu(t.fields,(n,r)=>{const i=new ln([n]);if(V2(r)){const s=yD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,De.min(),De.min(),De.min(),yr.empty(),0)}static newFoundDocument(e,n,r,i){return new yn(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new yn(e,2,n,De.min(),De.min(),yr.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,De.min(),De.min(),yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.position=e,this.inclusive=n}}function Ik(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=hl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n="asc"){this.field=e,this.dir=n}}function mX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class pt extends _D{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gX(e,n,r):n==="array-contains"?new _X(e,r):n==="in"?new ID(e,r):n==="not-in"?new wX(e,r):n==="array-contains-any"?new xX(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vX(e,r):new yX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&Lc(this.value)===Lc(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mt extends _D{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Mt(e,n)}matches(e){return Nd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Nd(t){return t.op==="and"}function X3(t){return t.op==="or"}function Kb(t){return wD(t)&&Nd(t)}function wD(t){for(const e of t.filters)if(e instanceof Mt)return!1;return!0}function J3(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Pd(t.value);if(Kb(t))return t.filters.map(e=>J3(e)).join(",");{const e=t.filters.map(n=>J3(n)).join(",");return`${t.op}(${e})`}}function xD(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&oo(r.value,i.value)}(t,e):t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xD(o,i.filters[a]),!0):!1}(t,e):void Ce()}function ED(t,e){const n=t.filters.concat(e);return Mt.create(n,t.op)}function CD(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pd(n.value)}`}(t):t instanceof Mt?function(n){return n.op.toString()+" {"+n.getFilters().map(CD).join(" ,")+"}"}(t):"Filter"}class gX extends pt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class vX extends pt{constructor(e,n){super(e,"in",n),this.keys=bD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yX extends pt{constructor(e,n){super(e,"not-in",n),this.keys=bD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class _X extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W0(n)&&B0(n.arrayValue,this.value)}}class ID extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&B0(this.value.arrayValue,n)}}class wX extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(B0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!B0(this.value.arrayValue,n)}}class xX extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>B0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Z3(t,e=null,n=[],r=[],i=null,s=null,o=null){return new EX(t,e,n,r,i,s,o)}function Oc(t){const e=Ve(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J3(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pd(r)).join(",")),e.ce=n}return e.ce}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tk(t.startAt,e.startAt)&&Tk(t.endAt,e.endAt)}function e1(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function t1(t,e){return t.filters.filter(n=>n instanceof pt&&n.field.isEqual(e))}function Sk(t,e,n){let r=F2,i=!0;for(const s of t1(t,e)){let o=F2,a=!0;switch(s.op){case"<":case"<=":o=fX(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=F2}Ck({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ck({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function kk(t,e,n){let r=Ua,i=!0;for(const s of t1(t,e)){let o=Ua,a=!0;switch(s.op){case">=":case">":o=pX(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ua}bk({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bk({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function CX(t,e,n,r,i,s,o,a){return new nu(t,e,n,r,i,s,o,a)}function Up(t){return new nu(t)}function Rk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qb(t){return t.collectionGroup!==null}function ad(t){const e=Ve(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vt(ln.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new H0(s,r))}),n.has(ln.keyField().canonicalString())||e.le.push(new H0(ln.keyField(),r))}return e.le}function qi(t){const e=Ve(t);return e.he||(e.he=TD(e,ad(t))),e.he}function TD(t,e){if(t.limitType==="F")return Z3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new H0(i.field,s)});const n=t.endAt?new fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fl(t.startAt.position,t.startAt.inclusive):null;return Z3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eE(t,e){const n=t.filters.concat([e]);return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function n1(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zv(t,e){return Vp(qi(t),qi(e))&&t.limitType===e.limitType}function SD(t){return`${Oc(qi(t))}|lt:${t.limitType}`}function Ru(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CD(i)).join(", ")}]`),Vv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pd(i)).join(",")),`Target(${r})`}(qi(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ad(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ik(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ad(r),i)||r.endAt&&!function(o,a,l){const c=Ik(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ad(r),i))}(t,e)}function bX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kD(t){return(e,n)=>{let r=!1;for(const i of ad(t)){const s=IX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IX(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?hl(l,c):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX=new Tn(ae.comparator);function vi(){return TX}const RD=new Tn(ae.comparator);function Ef(...t){let e=RD;for(const n of t)e=e.insert(n.key,n);return e}function AD(t){let e=RD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xs(){return Hf()}function PD(){return Hf()}function Hf(){return new Pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const SX=new Tn(ae.comparator),kX=new Vt(ae.comparator);function nt(...t){let e=kX;for(const n of t)e=e.add(n);return e}const RX=new Vt(qe);function AX(){return RX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U0(e)?"-0":e}}function DD(t){return{integerValue:""+t}}function PX(t,e){return GQ(e)?DD(e):ND(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this._=void 0}}function NX(t,e,n){return t instanceof Dd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uv(s)&&(s=Yb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $c?MD(t,e):t instanceof Ld?OD(t,e):function(i,s){const o=LD(i,s),a=Ak(o)+Ak(i.Ie);return Q3(o)&&Q3(i.Ie)?DD(a):ND(i.serializer,a)}(t,e)}function DX(t,e,n){return t instanceof $c?MD(t,e):t instanceof Ld?OD(t,e):n}function LD(t,e){return t instanceof G0?function(r){return Q3(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Dd extends Bv{}class $c extends Bv{constructor(e){super(),this.elements=e}}function MD(t,e){const n=$D(e);for(const r of t.elements)n.some(i=>oo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ld extends Bv{constructor(e){super(),this.elements=e}}function OD(t,e){let n=$D(e);for(const r of t.elements)n=n.filter(i=>!oo(i,r));return{arrayValue:{values:n}}}class G0 extends Bv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ak(t){return vn(t.integerValue||t.doubleValue)}function $D(t){return W0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.field=e,this.transform=n}}function LX(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $c&&i instanceof $c||r instanceof Ld&&i instanceof Ld?Ad(r.elements,i.elements,oo):r instanceof G0&&i instanceof G0?oo(r.Ie,i.Ie):r instanceof Dd&&i instanceof Dd}(t.transform,e.transform)}class MX{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function U2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wv{}function jD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hv(t.key,_r.none()):new ph(t.key,t.data,_r.none());{const n=t.data,r=yr.empty();let i=new Vt(ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new da(t.key,r,new Kr(i.toArray()),_r.none())}}function OX(t,e,n){t instanceof ph?function(i,s,o){const a=i.value.clone(),l=Nk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof da?function(i,s,o){if(!U2(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Nk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(FD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gf(t,e,n,r){return t instanceof ph?function(s,o,a,l){if(!U2(s.precondition,o))return a;const c=s.value.clone(),u=Dk(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof da?function(s,o,a,l){if(!U2(s.precondition,o))return a;const c=Dk(s.fieldTransforms,l,o),u=o.data;return u.setAll(FD(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return U2(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $X(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=LD(r.transform,i||null);s!=null&&(n===null&&(n=yr.empty()),n.set(r.field,s))}return n||null}function Pk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ad(r,i,(s,o)=>LX(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ph extends Wv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class da extends Wv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nk(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DX(o,a,n[i]))}return r}function Dk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,NX(s,o,e))}return r}class Hv extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=jD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Ad(this.mutations,e.mutations,(n,r)=>Pk(n,r))&&Ad(this.baseMutations,e.baseMutations,(n,r)=>Pk(n,r))}}class Zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return SX}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,_t;function VX(t){switch(t){default:return Ce();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function UD(t){if(t===void 0)return Rr("GRPC error has no .code"),G.UNKNOWN;switch(t){case Pn.OK:return G.OK;case Pn.CANCELLED:return G.CANCELLED;case Pn.UNKNOWN:return G.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return G.INTERNAL;case Pn.UNAVAILABLE:return G.UNAVAILABLE;case Pn.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Pn.NOT_FOUND:return G.NOT_FOUND;case Pn.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Pn.ABORTED:return G.ABORTED;case Pn.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Pn.DATA_LOSS:return G.DATA_LOSS;default:return Ce()}}(_t=Pn||(Pn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=new od([4294967295,4294967295],0);function Lk(t){const e=UX().encode(t),n=new PQ;return n.update(e),new Uint8Array(n.digest())}function Mk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new od([n,r],0),new od([i,s],0)]}class t5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cf(`Invalid padding: ${n}`);if(r<0)throw new Cf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=od.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(od.fromNumber(r)));return i.compare(zX)===1&&(i=new od([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Lk(e),[r,i]=Mk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Lk(e),[r,i]=Mk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gv(De.min(),i,new Tn(qe),vi(),nt())}}class Bp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bp(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class zD{constructor(e,n){this.targetId=e,this.fe=n}}class BD{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ok{constructor(){this.ge=0,this.pe=jk(),this.ye=ur.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=nt(),n=nt(),r=nt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Bp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=jk()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ae(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class BX{constructor(e){this.Be=e,this.ke=new Map,this.qe=vi(),this.Qe=$k(),this.Ke=new Tn(qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(e1(s))if(r===0){const o=new ae(s.path);this.We(n,o,yn.newNoDocument(o,De.min()))}else Ae(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=dl(r).toUint8Array()}catch(l){if(l instanceof gD)return Nc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new t5(o,i,s)}catch(l){return Nc(l instanceof Cf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&e1(a.target)){const l=new ae(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,yn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=nt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Gv(e,n,this.Ke,this.qe,r);return this.qe=vi(),this.Qe=$k(),this.Ke=new Tn(qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ok,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Vt(qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Ok),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function $k(){return new Tn(ae.comparator)}function jk(){return new Tn(ae.comparator)}const WX={asc:"ASCENDING",desc:"DESCENDING"},HX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GX={and:"AND",or:"OR"};class qX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tE(t,e){return t.useProto3Json||Vv(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YX(t,e){return Md(t,e.toTimestamp())}function $r(t){return Ae(!!t),De.fromTimestamp(function(n){const r=ul(n);return new un(r.seconds,r.nanos)}(t))}function n5(t,e){return nE(t,e).canonicalString()}function nE(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HD(t){const e=Rt.fromString(t);return Ae(ZD(e)),e}function r1(t,e){return n5(t.databaseId,e.path)}function mc(t,e){const n=HD(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(YD(n))}function GD(t,e){return n5(t.databaseId,e)}function qD(t){const e=HD(t);return e.length===4?Rt.emptyPath():YD(e)}function rE(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YD(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fk(t,e,n){return{name:r1(t,e),fields:n.value.mapValue.fields}}function KX(t,e,n){const r=mc(t,e.name),i=$r(e.updateTime),s=e.createTime?$r(e.createTime):De.min(),o=new yr({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function QX(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Ae(u===void 0||typeof u=="string"),ur.fromBase64String(u||"")):(Ae(u===void 0||u instanceof Uint8Array),ur.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?G.UNKNOWN:UD(c.code);return new ne(u,c.message||"")}(o);n=new BD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mc(t,r.document.name),s=$r(r.document.updateTime),o=r.document.createTime?$r(r.document.createTime):De.min(),a=new yr({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new z2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mc(t,r.document),s=r.readTime?$r(r.readTime):De.min(),o=yn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new z2([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mc(t,r.document),s=r.removedTargetIds||[];n=new z2([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new FX(i,s),a=r.targetId;n=new zD(a,o)}}return n}function i1(t,e){let n;if(e instanceof ph)n={update:Fk(t,e.key,e.value)};else if(e instanceof Hv)n={delete:r1(t,e.key)};else if(e instanceof da)n={update:Fk(t,e.key,e.data),updateMask:nJ(e.fieldMask)};else{if(!(e instanceof VD))return Ce();n={verify:r1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Dd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof G0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce()}(t,e.precondition)),n}function iE(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?_r.updateTime($r(s.updateTime)):s.exists!==void 0?_r.exists(s.exists):_r.none()}(e.currentDocument):_r.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)Ae(a.setToServerValue==="REQUEST_TIME"),l=new Dd;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new $c(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Ld(u)}else"increment"in a?l=new G0(o,a.increment):Ce();const c=ln.fromServerFormat(a.fieldPath);return new Xb(c,l)}(t,i)):[];if(e.update){e.update.name;const i=mc(t,e.update.name),s=new yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Kr(c.map(u=>ln.fromServerFormat(u)))}(e.updateMask);return new da(i,s,o,n,r)}return new ph(i,s,n,r)}if(e.delete){const i=mc(t,e.delete);return new Hv(i,n)}if(e.verify){const i=mc(t,e.verify);return new VD(i,n)}return Ce()}function XX(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?$r(i.updateTime):$r(s);return o.isEqual(De.min())&&(o=$r(s)),new MX(o,i.transformResults||[])}(n,e))):[]}function KD(t,e){return{documents:[GD(t,e.path)]}}function r5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GD(t,i);const s=function(c){if(c.length!==0)return JD(Mt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:La(f.field),direction:ZX(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function QD(t){let e=qD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=XD(d);return f instanceof Mt&&Kb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new H0(Au(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Vv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new fl(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new fl(p,f)}(n.endAt)),CX(e,i,o,s,a,"F",l,c)}function JX(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Au(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Au(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Au(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Au(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Au(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mt.create(n.compositeFilter.filters.map(r=>XD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function ZX(t){return WX[t]}function eJ(t){return HX[t]}function tJ(t){return GX[t]}function La(t){return{fieldPath:t.canonicalString()}}function Au(t){return ln.fromServerFormat(t.fieldPath)}function JD(t){return t instanceof pt?function(n){if(n.op==="=="){if(Ek(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(xk(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ek(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(xk(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:eJ(n.op),value:n.value}}}(t):t instanceof Mt?function(n){const r=n.getFilters().map(i=>JD(i));return r.length===1?r[0]:{compositeFilter:{op:tJ(n.op),filters:r}}}(t):Ce()}function nJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r,i,s=De.min(),o=De.min(),a=ur.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.ct=e}}function rJ(t,e){let n;if(e.document)n=KX(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ae.fromSegments(e.noDocument.path),i=Fc(e.noDocument.readTime);n=yn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce();{const r=ae.fromSegments(e.unknownDocument.path),i=Fc(e.unknownDocument.version);n=yn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new un(i[0],i[1]);return De.fromTimestamp(s)}(e.readTime)),n}function Vk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:s1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:r1(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Md(s,o.version.toTimestamp()),createTime:Md(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jc(e.version)};else{if(!e.isUnknownDocument())return Ce();r.unknownDocument={path:n.path.toArray(),version:jc(e.version)}}return r}function s1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fc(t){const e=new un(t.seconds,t.nanoseconds);return De.fromTimestamp(e)}function Yl(t,e){const n=(e.baseMutations||[]).map(s=>iE(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>iE(t.ct,s)),i=un.fromMillis(e.localWriteTimeMs);return new Jb(e.batchId,i,n,r)}function bf(t){const e=Fc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Fc(t.lastLimboFreeSnapshotVersion):De.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Ae(s.documents.length===1),qi(Up(qD(s.documents[0])))}(t.query):function(s){return qi(QD(s))}(t.query),new Mo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ur.fromBase64String(t.resumeToken))}function tL(t,e){const n=jc(e.snapshotVersion),r=jc(e.lastLimboFreeSnapshotVersion);let i;i=e1(e.target)?KD(t.ct,e.target):r5(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function nL(t){const e=QD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n1(e,e.limit,"L"):e}function Lw(t,e){return new e5(e.largestBatchId,iE(t.ct,e.overlayMutation))}function Uk(t,e){const n=e.path.lastSegment();return[t,Or(e.path.popLast()),n]}function zk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:jc(r.readTime),documentKey:Or(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{getBundleMetadata(e,n){return Bk(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Fc(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Bk(e).put(function(i){return{bundleId:i.id,createTime:jc($r(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Wk(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:nL(s.bundledQuery),readTime:Fc(s.readTime)}}(r)})}saveNamedQuery(e,n){return Wk(e).put(function(i){return{name:i.name,readTime:jc($r(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Bk(t){return er(t,"bundles")}function Wk(t){return er(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new qv(e,r)}getOverlay(e,n){return Gh(e).get(Uk(this.userId,n)).next(r=>r?Lw(this.serializer,r):null)}getOverlays(e,n){const r=Xs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new e5(n,o);i.push(this.ht(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Or(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Gh(e).H("collectionPathOverlayIndex",a))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Xs(),s=Or(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Gh(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Lw(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Xs();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gh(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=Lw(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return Gh(e).put(function(i,s,o){const[a,l,c]=Uk(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:i1(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Gh(t){return er(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(vn(e.integerValue));else if("doubleValue"in e){const r=vn(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),U0(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(dl(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?vD(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ce()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ae.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Kl.bt=new Kl;function sJ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Hk(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=sJ(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class oJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=Hk(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=Hk(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aJ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class lJ{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class qh{constructor(){this.Gt=new oJ,this.zt=new aJ(this.Gt),this.jt=new lJ(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,r)}}function xa(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Gk(t.arrayValue,e.arrayValue),n!==0?n:(n=Gk(t.directionalValue,e.directionalValue),n!==0?n:ae.comparator(t.documentKey,e.documentKey)))}function Gk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.Yt=new Vt((n,r)=>ln.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Ae(e.collectionGroup===this.collectionId),this.en)return!1;const n=G3(e);if(n!==void 0&&!this.nn(n))return!1;const r=Bl(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Vt(ln.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new $2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new $2(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new $2(r.field,r.dir==="asc"?0:1)));return new Zg(Zg.UNKNOWN_ID,this.collectionId,n,V0.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){var e,n;if(Ae(t instanceof pt||t instanceof Mt),t instanceof pt){if(t instanceof ID){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>pt.create(t.field,"==",s)))||[];return Mt.create(i,"or")}return t}const r=t.filters.map(i=>rL(i));return Mt.create(r,t.op)}function cJ(t){if(t.getFilters().length===0)return[];const e=aE(rL(t));return Ae(iL(e)),sE(e)||oE(e)?[e]:e.getFilters()}function sE(t){return t instanceof pt}function oE(t){return t instanceof Mt&&Kb(t)}function iL(t){return sE(t)||oE(t)||function(n){if(n instanceof Mt&&X3(n)){for(const r of n.getFilters())if(!sE(r)&&!oE(r))return!1;return!0}return!1}(t)}function aE(t){if(Ae(t instanceof pt||t instanceof Mt),t instanceof pt)return t;if(t.filters.length===1)return aE(t.filters[0]);const e=t.filters.map(r=>aE(r));let n=Mt.create(e,t.op);return n=o1(n),iL(n)?n:(Ae(n instanceof Mt),Ae(Nd(n)),Ae(n.filters.length>1),n.filters.reduce((r,i)=>i5(r,i)))}function i5(t,e){let n;return Ae(t instanceof pt||t instanceof Mt),Ae(e instanceof pt||e instanceof Mt),n=t instanceof pt?e instanceof pt?function(i,s){return Mt.create([i,s],"and")}(t,e):Yk(t,e):e instanceof pt?Yk(e,t):function(i,s){if(Ae(i.filters.length>0&&s.filters.length>0),Nd(i)&&Nd(s))return ED(i,s.getFilters());const o=X3(i)?i:s,a=X3(i)?s:i,l=o.filters.map(c=>i5(c,a));return Mt.create(l,"or")}(t,e),o1(n)}function Yk(t,e){if(Nd(e))return ED(e,t.getFilters());{const n=e.filters.map(r=>i5(t,r));return Mt.create(n,"or")}}function o1(t){if(Ae(t instanceof pt||t instanceof Mt),t instanceof pt)return t;const e=t.getFilters();if(e.length===1)return o1(e[0]);if(wD(t))return t;const n=e.map(i=>o1(i)),r=[];return n.forEach(i=>{i instanceof pt?r.push(i):i instanceof Mt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Mt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(){this._n=new s5}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(bi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class s5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Uint8Array(0);class dJ{constructor(e,n){this.databaseId=n,this.an=new s5,this.un=new Pl(r=>Oc(r),(r,i)=>Vp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:Or(i)};return Kk(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[aD(n),""],!1,!0);return Kk(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Qs(o.parent))}return r})}addFieldIndex(e,n){const r=Yh(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=vu(e);return s.next(a=>{o.put(zk(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Yh(e),i=vu(e),s=gu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Yh(e),r=gu(e),i=vu(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return z.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new qk(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=gu(e);let i=!0;const s=new Map;return z.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=nt();const a=[];return z.forEach(s,(l,c)=>{Q("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${Oc(n)}`);const u=function(_,x){const I=G3(x);if(I===void 0)return null;for(const C of t1(_,I.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(c,l),d=function(_,x){const I=new Map;for(const C of Bl(x))for(const T of t1(_,C.fieldPath))switch(T.op){case"==":case"in":I.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return I.set(C.fieldPath.canonicalString(),T.value),Array.from(I.values())}return null}(c,l),f=function(_,x){const I=[];let C=!0;for(const T of Bl(x)){const b=T.kind===0?Sk(_,T.fieldPath,_.startAt):kk(_,T.fieldPath,_.startAt);I.push(b.value),C&&(C=b.inclusive)}return new fl(I,C)}(c,l),p=function(_,x){const I=[];let C=!0;for(const T of Bl(x)){const b=T.kind===0?kk(_,T.fieldPath,_.endAt):Sk(_,T.fieldPath,_.endAt);I.push(b.value),C&&(C=b.inclusive)}return new fl(I,C)}(c,l),m=this.hn(l,c,f),g=this.hn(l,c,p),E=this.Pn(l,c,d),v=this.In(l.indexId,u,m,f.inclusive,g,p.inclusive,E);return z.forEach(v,w=>r.j(w,n.limit).next(_=>{_.forEach(x=>{const I=ae.fromSegments(x.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=cJ(Mt.create(e.filters,"and")).map(r=>Z3(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.Tn(n[d/c]):Qm,p=this.En(e,f,r[d%c],i),m=this.dn(e,f,s[d%c],o),g=a.map(E=>this.En(e,f,E,!0));u.push(...this.createRange(p,m,g))}return u}En(e,n,r,i){const s=new Ql(e,ae.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Ql(e,ae.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new qk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return z.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Vt(ln.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new qh;for(const i of Bl(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Kl.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new qh;return Kl.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new qh;return Kl.bt.Pt(Mc(this.databaseId,n),r.Ht(function(s){const o=Bl(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new qh);let s=0;for(const o of Bl(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&W0(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Kl.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new qh;l.seed(a.Wt()),Kl.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof pt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Yh(e),i=vu(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return z.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const f=d?new V0(d.sequenceNumber,new bi(Fc(d.readTime),new ae(Qs(d.documentKey)),d.largestBatchId)):V0.empty(),p=u.fields.map(([m,g])=>new $2(ln.fromServerFormat(m),g));return new Zg(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:qe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Yh(e),s=vu(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,l=>s.put(zk(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?z.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return gu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return gu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=gu(e);let s=new Vt(xa);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ql(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Vt(xa);const i=this.An(n,e);if(i==null)return r;const s=G3(n);if(s!=null){const o=e.data.field(s.fieldPath);if(W0(o))for(const a of o.arrayValue.values||[])r=r.add(new Ql(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ql(n.indexId,e.key,Qm,i));return r}wn(e,n,r,i,s){Q("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,f){const p=l.getIterator(),m=c.getIterator();let g=mu(p),E=mu(m);for(;g||E;){let v=!1,w=!1;if(g&&E){const _=u(g,E);_<0?w=!0:_>0&&(v=!0)}else g!=null?w=!0:v=!0;v?(d(E),E=mu(m)):w?(f(g),g=mu(p)):(g=mu(p),E=mu(m))}}(i,s,xa,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),z.waitFor(o)}gn(e){let n=1;return vu(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>xa(o,a)).filter((o,a,l)=>!a||xa(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=xa(o,e),l=xa(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Qm,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Qm,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return xa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Qk)}getMinOffset(e,n){return z.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Ce())).next(Qk)}}function Kk(t){return er(t,"collectionParents")}function gu(t){return er(t,"indexEntries")}function Yh(t){return er(t,"indexConfiguration")}function vu(t){return er(t,"indexState")}function Qk(t){Ae(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Gb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wr(e,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{Ae(a===1)}));const c=[];for(const u of n.mutations){const d=dD(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return z.waitFor(s).next(()=>c)}function a1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(41943040,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class Yv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Ae(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Yv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ea(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Pu(e),o=Ea(e);return o.add({}).next(a=>{Ae(typeof a=="number");const l=new Jb(a,n,r,i),c=function(p,m,g){const E=g.baseMutations.map(w=>i1(p.ct,w)),v=g.mutations.map(w=>i1(p.ct,w));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:E,mutations:v}}(this.serializer,this.userId,l),u=[];let d=new Vt((f,p)=>qe(f.canonicalString(),p.canonicalString()));for(const f of i){const p=dD(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,YQ))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Ea(e).get(n).next(r=>r?(Ae(r.userId===this.userId),Yl(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?z.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ea(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Ae(a.batchId>=r),s=Yl(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ea(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ea(e).W("userMutationsIndex",n).next(r=>r.map(i=>Yl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=j2(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Pu(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,f=Qs(u);if(c===this.userId&&n.path.isEqual(f))return Ea(e).get(d).next(p=>{if(!p)throw Ce();Ae(p.userId===this.userId),s.push(Yl(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(qe);const i=[];return n.forEach(s=>{const o=j2(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Pu(e).Y({range:a},(c,u,d)=>{const[f,p,m]=c,g=Qs(p);f===this.userId&&s.path.isEqual(g)?r=r.add(m):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=j2(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Vt(qe);return Pu(e).Y({range:o},(l,c,u)=>{const[d,f,p]=l,m=Qs(f);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ea(e).get(s).next(o=>{if(o===null)throw Ce();Ae(o.userId===this.userId),r.push(Yl(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return sL(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Pu(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Qs(s[1]);i.push(l)}else a.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,n){return oL(e,this.userId,n)}xn(e){return aL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oL(t,e,n){const r=j2(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Pu(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Ea(t){return er(t,"mutations")}function Pu(t){return er(t,"documentMutations")}function aL(t){return er(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Vc(0)}static Ln(){return new Vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Vc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>De.fromTimestamp(new un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>yu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return yu(e).Y((o,a)=>{const l=bf(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return yu(e).Y((r,i)=>{const s=bf(i);n(s)})}Bn(e){return Jk(e).get("targetGlobalKey").next(n=>(Ae(n!==null),n))}kn(e,n){return Jk(e).put("targetGlobalKey",n)}qn(e,n){return yu(e).put(tL(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Oc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return yu(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=bf(a);Vp(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ma(e);return n.forEach(o=>{const a=Or(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ma(e);return z.forEach(n,s=>{const o=Or(s.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ma(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ma(e);let s=nt();return i.Y({range:r,J:!0},(o,a,l)=>{const c=Qs(o[1]),u=new ae(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=Or(n.path),i=IDBKeyRange.bound([r],[aD(r)],!1,!0);let s=0;return Ma(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return yu(e).get(n).next(r=>r?bf(r):null)}}function yu(t){return er(t,"targets")}function Jk(t){return er(t,"targetGlobal")}function Ma(t){return er(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk([t,e],[n,r]){const i=qe(t,n);return i===0?qe(e,r):i}class fJ{constructor(e){this.Kn=e,this.buffer=new Vt(Zk),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await eu(n)}await this.zn(3e5)})}}class mJ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Bi._e);const r=new fJ(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Xk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xk):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ku()<=Ze.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function gJ(t,e){return new mJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(e,n){this.db=e,this.garbageCollector=gJ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Xm(e,r)}removeReference(e,n,r){return Xm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Xm(e,n)}er(e,n){return function(i,s){let o=!1;return aL(i).Z(a=>oL(i,a,s).next(l=>(l&&(o=!0),z.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,De.min()),Ma(e).delete(function(d){return[0,Or(d.path)]}(o))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Xm(e,n)}Xn(e,n){const r=Ma(e);let i,s=Bi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Bi._e&&n(new ae(Qs(i)),s),s=c,i=l):s=Bi._e}).next(()=>{s!==Bi._e&&n(new ae(Qs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xm(t,e){return Ma(t).put(function(r,i){return{targetId:0,path:Or(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.changes=new Pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ol(e).put(r)}removeEntry(e,n,r){return Ol(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],s1(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=yn.newInvalidDocument(n);return Ol(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Kh(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:yn.newInvalidDocument(n)};return Ol(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Kh(n))},(i,s)=>{r={document:this.nr(n,s),size:a1(s)}}).next(()=>r)}getEntries(e,n){let r=vi();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=vi(),i=new Tn(ae.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,a1(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return z.resolve();let i=new Vt(nR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Kh(i.first()),Kh(i.last())),o=i.getIterator();let a=o.getNext();return Ol(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=ae.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&nR(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(Kh(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),s1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ol(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=vi();for(const d of c){const f=this.nr(ae.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(zp(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=vi();const o=tR(n,r),a=tR(n,bi.max());return Ol(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(ae.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new _J(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return eR(e).get("remoteDocumentGlobalKey").next(n=>(Ae(!!n),n))}tr(e,n){return eR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=rJ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return yn.newInvalidDocument(e)}}function cL(t){return new yJ(t)}class _J extends lL{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Pl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Vt((s,o)=>qe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Vk(this.ar.serializer,o);i=i.add(s.path.popLast());const c=a1(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Vk(this.ar.serializer,o.convertToNoDocument(De.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function eR(t){return er(t,"remoteDocumentGlobal")}function Ol(t){return er(t,"remoteDocumentsV14")}function Kh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tR(t,e){const n=e.documentKey.path.toArray();return[t,s1(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=qe(n[s],r[s]),i)return i;return i=qe(n.length,r.length),i||(i=qe(n[n.length-2],r[r.length-2]),i||qe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gf(r.mutation,i,Kr.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const i=Xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ef();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vi();const o=Hf(),a=function(){return Hf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof da)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Gf(u.mutation,c,u.mutation.getFieldMask(),un.now())):o.set(c.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new wJ(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hf();let i=new Tn((o,a)=>o-a),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Kr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||nt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=PD();u.forEach(f=>{if(!s.has(f)){const p=jD(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Xs());let a=-1,l=s;return o.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,nt())).next(u=>({batchId:a,changes:AD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ef();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const c=function(d,f){return new nu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,yn.newInvalidDocument(u)))});let a=Ef();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Gf(u.mutation,c,Kr.empty(),un.now()),zp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:nL(i.bundledQuery),readTime:$r(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(){this.overlays=new Tn(ae.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Xs(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Tn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Xs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Xs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new e5(n,r));let s=this.hr.get(n);s===void 0&&(s=nt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.Pr=new Vt(Wn.Ir),this.Tr=new Vt(Wn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Wn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new Rt([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new Rt([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=nt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Wn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||qe(e.pr,n.pr)}static Er(e,n){return qe(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Vt(Wn.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Jb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Wn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(qe);return n.forEach(i=>{const s=new Wn(i,0),o=new Wn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new Wn(new ae(s),0);let a=new Vt(qe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Wn(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e){this.vr=e,this.docs=function(){return new Tn(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vi();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Gb(lD(u),r)<=0||(i.has(u.key)||zp(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IJ(this)}getSize(e){return z.resolve(this.size)}}class IJ extends lL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e){this.persistence=e,this.Mr=new Pl(n=>Oc(n),Vp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Or=0,this.Nr=new o5,this.targetCount=0,this.Lr=Vc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Vc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Bi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new TJ(this),this.indexManager=new uJ,this.remoteDocumentCache=function(i){return new bJ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new eL(n),this.$r=new xJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new CJ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new SJ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class SJ extends uD{constructor(e){super(),this.currentSequenceNumber=e}}class Kv{constructor(e){this.persistence=e,this.zr=new o5,this.jr=null}static Hr(e){return new Kv(e)}get Jr(){if(this.jr)return this.jr;throw Ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=ae.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,De.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Fv("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vk,{unique:!0}),l.createObjectStore("documentMutations")}(e),rR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),rR(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vk,{unique:!0});const d=c.store("mutations"),f=u.map(p=>d.put(p));return z.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:oX});c.createIndex("collectionPathOverlayIndex",aX,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",lX,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:KQ});c.createIndex("documentKeyIndex",QQ),c.createIndex("collectionGroupIndex",XQ)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:nX}).createIndex("sequenceNumberIndex",rX,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:iX}).createIndex("documentKeyIndex",sX,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=a1(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>z.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>z.forEach(a,l=>{Ae(l.userId===s.userId);const c=Yl(this.serializer,l);return sL(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Rt(o),c=function(d){return[0,Or(d)]}(l);s.push(n.get(c).next(u=>u?z.resolve():(d=>n.put({targetId:0,path:Or(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:tX});const r=n.store("collectionParents"),i=new s5,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Or(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Rt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=Qs(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=bf(i),o=tL(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new ae(Rt.fromString(d.document.name).popFirst(5)):d.noDocument?ae.fromSegments(d.noDocument.path):d.unknownDocument?ae.fromSegments(d.unknownDocument.path):Ce()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>z.waitFor(i))}si(e,n){const r=n.store("mutations"),i=cL(this.serializer),s=new dL(Kv.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:nt();Yl(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),z.forEach(a,(l,c)=>{const u=new kr(c),d=qv.lt(this.serializer,u),f=s.getIndexManager(u),p=Yv.lt(u,this.serializer,f,s.referenceDelegate);return new uL(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new q3(n,Bi._e),l).next()})})}}function rR(t){t.createObjectStore("targetDocuments",{keyPath:ZQ}).createIndex("documentTargetsIndex",eX,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JQ,{unique:!0}),t.createObjectStore("targetGlobal")}const Mw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class a5{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!a5.D())throw new ne(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vJ(this,i),this.Ti=n+"main",this.serializer=new eL(l),this.Ei=new Ks(this.Ti,this.ui,new kJ(this.serializer)),this.Qr=new hJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cL(this.serializer),this.$r=new iJ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ne(G.FAILED_PRECONDITION,Mw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Bi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Al(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Qh(e).get("owner").next(n=>z.resolve(this.Si(n)))}bi(e){return Jm(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=er(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return z.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):Qh(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new ne(G.FAILED_PRECONDITION,Mw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jm(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Q("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new q3(e,Bi._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Jm(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Yv.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dJ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return qv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?uX:l===14?pD:l===13?fD:l===12?cX:l===11?hD:void Ce()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new q3(a,this.kr?this.kr.next():Bi._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ne(G.FAILED_PRECONDITION,cD);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Qh(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ne(G.FAILED_PRECONDITION,Mw)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qh(e).put("owner",n)}static D(){return Ks.D()}yi(e){const n=Qh(e);return n.get("owner").next(r=>this.Si(r)?(Q("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;h8()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return Q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qh(t){return er(t,"owner")}function Jm(t){return er(t,"clientMetadata")}function RJ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=nt(),i=nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new l5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return h8()?8:Ks.v(bt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new AJ;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ku()<=Ze.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(ku()<=Ze.DEBUG&&Q("QueryEngine","Query:",Ru(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ku()<=Ze.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):z.resolve())}ji(e,n){if(Rk(n))return z.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n1(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=nt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,n1(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return Rk(n)||i.isEqual(De.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(ku()<=Ze.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ru(n)),this.es(e,o,n,UQ(i,-1)).next(a=>a))})}Zi(e,n){let r=new Vt(kD(e));return n.forEach((i,s)=>{zp(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ku()<=Ze.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ru(n)),this.zi.getDocumentsMatchingQuery(e,n,bi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Tn(qe),this.rs=new Pl(s=>Oc(s),Vp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function fL(t,e,n,r){return new PJ(t,e,n,r)}async function pL(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=nt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function NJ(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Ae(E!==null),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mL(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function DJ(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(ur.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=vi(),c=nt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(LJ(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(De.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function LJ(t,e,n){let r=nt(),i=nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function MJ(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OJ(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Mo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function lE(t,e,n){const r=Ve(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Al(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function iR(t,e,n){const r=Ve(t);let i=De.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Ve(l),f=d.rs.get(u);return f!==void 0?z.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,qi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:De.min(),n?s:nt())).next(a=>($J(r,bX(e),a),{documents:a,hs:s})))}function $J(t,e,n){let r=t.ss.get(e)||De.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class sR{constructor(){this.activeTargetIds=AX()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gL{constructor(){this.no=new sR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm=null;function Ow(){return Zm===null?Zm=function(){return 268435456+Math.round(2147483648*Math.random())}():Zm++,"0x"+Zm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class UJ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Ow(),l=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Nc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=FJ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Ow();return new Promise((o,a)=>{const l=new AQ;l.setWithCredentials(!0),l.listenOnce(kQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dw.NO_ERROR:const u=l.getResponseJson();Q(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Dw.TIMEOUT:Q(mr,`RPC '${e}' ${s} timed out`),a(new ne(G.DEADLINE_EXCEEDED,"Request time out"));break;case Dw.HTTP_ERROR:const d=l.getStatus();if(Q(mr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(v)>=0?v:G.UNKNOWN}(p.status);a(new ne(m,p.message))}else a(new ne(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(G.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{Q(mr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Q(mr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Ow(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TQ(),a=SQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Q(mr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const m=new VJ({lo:E=>{p?Q(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(Q(mr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Q(mr,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),g=(E,v,w)=>{E.listen(v,_=>{try{w(_)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,Ym.EventType.OPEN,()=>{p||Q(mr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ym.EventType.CLOSE,()=>{p||(p=!0,Q(mr,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),g(d,Ym.EventType.ERROR,E=>{p||(p=!0,Nc(mr,`RPC '${e}' stream ${i} transport errored:`,E),m.Vo(new ne(G.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ym.EventType.MESSAGE,E=>{var v;if(!p){const w=E.data[0];Ae(!!w);const _=w,x=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(x){Q(mr,`RPC '${e}' stream ${i} received error:`,x);const I=x.status;let C=function(k){const S=Pn[k];if(S!==void 0)return UD(S)}(I),T=x.message;C===void 0&&(C=G.INTERNAL,T="Unknown error status: "+I+" with message "+x.message),p=!0,m.Vo(new ne(C,T)),d.close()}else Q(mr,`RPC '${e}' stream ${i} received:`,w),m.mo(w)}}),g(a,RQ.STAT_EVENT,E=>{E.stat===fk.PROXY?Q(mr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===fk.NOPROXY&&Q(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(){return typeof window<"u"?window:null}function B2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){return new qX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new vL(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ne(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BJ extends yL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=QX(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?$r(o.readTime):De.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=rE(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=e1(l)?{documents:KD(s,l)}:{query:r5(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WD(s,o.resumeToken);const c=tE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Md(s,o.snapshotVersion.toTimestamp());const c=tE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=JX(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=rE(this.serializer),n.removeTarget=e,this.t_(n)}}class WJ extends yL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=XX(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.T_(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rE(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i1(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ne(G.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,nE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(G.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,nE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(G.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function GJ(t,e,n){var r;const i=Ve(t),{request:s,V_:o,parent:a}=function(d,f,p){const{ut:m,parent:g}=r5(d,f),E={},v=[];let w=0;return p.forEach(_=>{const x="aggregate_"+w++;E[x]=_.alias,_.aggregateType==="count"?v.push({alias:x,count:{}}):_.aggregateType==="avg"?v.push({alias:x,avg:{field:La(_.fieldPath)}}):_.aggregateType==="sum"&&v.push({alias:x,sum:{field:La(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:v,structuredQuery:m.structuredQuery},parent:m.parent},V_:E,parent:g}}(i.serializer,function(d){const f=Ve(d);return f.Pe||(f.Pe=TD(f,d.explicitOrderBy)),f.Pe}(e),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter(u=>!!u.result);Ae(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,d)=>(u[o[d]]=c[d],u),{})}class qJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Rr(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ru(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.v_.add(4),await Wp(c),c.x_.set("Unknown"),c.v_.delete(4),await Xv(c)}(this))})}),this.x_=new qJ(r,i)}}async function Xv(t){if(ru(t))for(const e of t.F_)await e(!0)}async function Wp(t){for(const e of t.F_)await e(!1)}function _L(t,e){const n=Ve(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),h5(n)?d5(n):mh(n).Jo()&&u5(n,e))}function c5(t,e){const n=Ve(t),r=mh(n);n.C_.delete(e),r.Jo()&&wL(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ru(n)&&n.x_.set("Unknown"))}function u5(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mh(t).c_(e)}function wL(t,e){t.O_.Oe(e),mh(t).l_(e)}function d5(t){t.O_=new BX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),mh(t).start(),t.x_.p_()}function h5(t){return ru(t)&&!mh(t).Ho()&&t.C_.size>0}function ru(t){return Ve(t).v_.size===0}function xL(t){t.O_=void 0}async function KJ(t){t.C_.forEach((e,n)=>{u5(t,e)})}async function QJ(t,e){xL(t),h5(t)?(t.x_.S_(e),d5(t)):t.x_.set("Unknown")}async function XJ(t,e,n){if(t.x_.set("Online"),e instanceof BD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await l1(t,r)}else if(e instanceof z2?t.O_.$e(e):e instanceof zD?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(De.min()))try{const r=await mL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(ur.EMPTY_BYTE_STRING,u.snapshotVersion)),wL(s,l);const d=new Mo(u.target,l,c,u.sequenceNumber);u5(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await l1(t,r)}}async function l1(t,e,n){if(!Al(e))throw e;t.v_.add(1),await Wp(t),t.x_.set("Offline"),n||(n=()=>mL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Xv(t)})}function EL(t,e){return e().catch(n=>l1(t,n,e))}async function Hp(t){const e=Ve(t),n=pl(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;JJ(e);)try{const i=await MJ(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,ZJ(e,i)}catch(i){await l1(e,i)}CL(e)&&bL(e)}function JJ(t){return ru(t)&&t.D_.length<10}function ZJ(t,e){t.D_.push(e);const n=pl(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function CL(t){return ru(t)&&!pl(t).Ho()&&t.D_.length>0}function bL(t){pl(t).start()}async function eZ(t){pl(t).d_()}async function tZ(t){const e=pl(t);for(const n of t.D_)e.I_(n.mutations)}async function nZ(t,e,n){const r=t.D_.shift(),i=Zb.from(r,e,n);await EL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hp(t)}async function rZ(t,e){e&&pl(t).P_&&await async function(r,i){if(function(o){return VX(o)&&o!==G.ABORTED}(i.code)){const s=r.D_.shift();pl(r).Zo(),await EL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hp(r)}}(t,e),CL(t)&&bL(t)}async function aR(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=ru(n);n.v_.add(3),await Wp(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Xv(n)}async function iZ(t,e){const n=Ve(t);e?(n.v_.delete(2),await Xv(n)):e||(n.v_.add(2),await Wp(n),n.x_.set("Unknown"))}function mh(t){return t.N_||(t.N_=function(n,r,i){const s=Ve(n);return s.R_(),new BJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:KJ.bind(null,t),To:QJ.bind(null,t),u_:XJ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),h5(t)?d5(t):t.x_.set("Unknown")):(await t.N_.stop(),xL(t))})),t.N_}function pl(t){return t.L_||(t.L_=function(n,r,i){const s=Ve(n);return s.R_(),new WJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:eZ.bind(null,t),To:rZ.bind(null,t),E_:tZ.bind(null,t),T_:nZ.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Hp(t)):(await t.L_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new f5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p5(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Al(t))return new ne(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Ef(),this.sortedSet=new Tn(this.comparator)}static emptySet(e){return new ld(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ld)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ld;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.B_=new Tn(ae.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ce():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Od{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Od(e,n,ld.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class oZ{constructor(){this.queries=new Pl(e=>SD(e),zv),this.onlineState="Unknown",this.W_=new Set}}async function m5(t,e){const n=Ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new sZ,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=p5(o,`Initialization of query '${Ru(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&v5(n)}async function g5(t,e){const n=Ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aZ(t,e){const n=Ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&v5(n)}function lZ(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function v5(t){t.W_.forEach(e=>{e.next()})}var cE,cR;(cR=cE||(cE={})).j_="default",cR.Cache="cache";class y5{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==cE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.key=e}}class TL{constructor(e){this.key=e}}class cZ{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=nt(),this.mutatedKeys=nt(),this.ha=kD(e),this.Pa=new ld(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new lR,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=zp(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.da(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return g(p)-g(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new Od(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new lR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=nt(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new TL(r))}),this.la.forEach(r=>{e.has(r)||n.push(new IL(r))}),n}fa(e){this.ua=e.hs,this.la=nt();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Od.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class uZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dZ{constructor(e){this.key=e,this.pa=!1}}class hZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Pl(a=>SD(a),zv),this.Sa=new Map,this.ba=new Set,this.Da=new Tn(ae.comparator),this.Ca=new Map,this.va=new o5,this.Fa={},this.Ma=new Map,this.xa=Vc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function fZ(t,e,n=!0){const r=NL(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await SL(r,e,n,!0),i}async function pZ(t,e){const n=NL(t);await SL(n,e,!0,!1)}async function SL(t,e,n,r){const i=await OJ(t.localStore,qi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await mZ(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_L(t.remoteStore,i),a}async function mZ(t,e,n,r,i){t.Na=(d,f,p)=>async function(g,E,v,w){let _=E.view.Ta(v);_.Xi&&(_=await iR(g.localStore,E.query,!1).then(({documents:T})=>E.view.Ta(T,_)));const x=w&&w.targetChanges.get(E.targetId),I=w&&w.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(_,g.isPrimaryClient,x,I);return dR(g,E.targetId,C.Va),C.snapshot}(t,d,f,p);const s=await iR(t.localStore,e,!0),o=new cZ(e,s.hs),a=o.Ta(s.documents),l=Bp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);dR(t,n,c.Va);const u=new uZ(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function gZ(t,e,n){const r=Ve(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!zv(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&c5(r.remoteStore,i.targetId),uE(r,i.targetId)}).catch(eu)):(uE(r,i.targetId),await lE(r.localStore,i.targetId,!0))}async function vZ(t,e){const n=Ve(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),c5(n.remoteStore,r.targetId))}async function yZ(t,e,n){const r=DL(t);try{const i=await function(o,a){const l=Ve(o),c=un.now(),u=a.reduce((p,m)=>p.add(m.key),nt());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=vi(),g=nt();return l.os.getEntries(p,u).next(E=>{m=E,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{d=E;const v=[];for(const w of a){const _=$X(w,d.get(w.key).overlayedDocument);_!=null&&v.push(new da(w.key,_,yD(_.value.mapValue),_r.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:AD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Tn(qe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Gp(r,i.changes),await Hp(r.remoteStore)}catch(i){const s=p5(i,"Failed to persist write");n.reject(s)}}async function kL(t,e){const n=Ve(t);try{const r=await DJ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?Ae(o.pa):i.removedDocuments.size>0&&(Ae(o.pa),o.pa=!1))}),await Gp(n,r,e)}catch(r){await eu(r)}}function uR(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ve(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Q_)f.G_(a)&&(c=!0)}),c&&v5(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _Z(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new Tn(ae.comparator);o=o.insert(s,yn.newNoDocument(s,De.min()));const a=nt().add(s),l=new Gv(De.min(),new Map,new Tn(qe),o,a);await kL(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),_5(r)}else await lE(r.localStore,e,!1).then(()=>uE(r,e,n)).catch(eu)}async function wZ(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await NJ(n.localStore,e);AL(n,r,null),RL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gp(n,i)}catch(i){await eu(i)}}async function xZ(t,e,n){const r=Ve(t);try{const i=await function(o,a){const l=Ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ae(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);AL(r,e,n),RL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gp(r,i)}catch(i){await eu(i)}}function RL(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function AL(t,e,n){const r=Ve(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function uE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||PL(t,r)})}function PL(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(c5(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),_5(t))}function dR(t,e,n){for(const r of n)r instanceof IL?(t.va.addReference(r.key,e),EZ(t,r)):r instanceof TL?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||PL(t,r.key)):Ce()}function EZ(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ba.add(r),_5(t))}function _5(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ae(Rt.fromString(e)),r=t.xa.next();t.Ca.set(r,new dZ(n)),t.Da=t.Da.insert(n,r),_L(t.remoteStore,new Mo(qi(Up(n.path)),r,"TargetPurposeLimboResolution",Bi._e))}}async function Gp(t,e,n){const r=Ve(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=l5.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=Ve(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,f=>z.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>z.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Al(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.ns.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(f,g)}}}(r.localStore,s))}async function CZ(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await pL(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new ne(G.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gp(n,r.us)}}function bZ(t,e){const n=Ve(t),r=n.Ca.get(e);if(r&&r.pa)return nt().add(r.key);{let i=nt();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function NL(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_Z.bind(null,e),e.ya.u_=aZ.bind(null,e.eventManager),e.ya.La=lZ.bind(null,e.eventManager),e}function DL(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xZ.bind(null,e),e}class dE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fL(this.persistence,new hL,e.initialUser,this.serializer)}createPersistence(e){return new dL(Kv.Hr,this.serializer)}createSharedClientState(e){return new gL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class LL extends dE{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await DL(this.ka.syncEngine),await Hp(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return fL(this.persistence,new hL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new pJ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new HQ(n,this.persistence);return new WQ(e.asyncQueue,r)}createPersistence(e){const n=RJ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new a5(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,zJ(),B2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gL}}class w5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CZ.bind(null,this.syncEngine),await iZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oZ}()}createDatastore(e){const n=Qv(e.databaseInfo.databaseId),r=function(s){return new UJ(s)}(e.databaseInfo);return function(s,o,a,l){return new HJ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new YJ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>uR(this.syncEngine,n,0),function(){return oR.D()?new oR:new jJ}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new hZ(i,s,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ve(r);Q("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Wp(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=oD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=p5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W2(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TZ(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aR(e.remoteStore,i)),t._onlineComponents=e}function ML(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function TZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await W2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ML(n))throw n;Nc("Error using user provided cache. Falling back to memory cache: "+n),await W2(t,new dE)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await W2(t,new dE);return t._offlineComponents}async function E5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await hE(t,new w5))),t._onlineComponents}function SZ(t){return E5(t).then(e=>e.syncEngine)}function kZ(t){return E5(t).then(e=>e.datastore)}async function c1(t){const e=await E5(t),n=e.eventManager;return n.onListen=fZ.bind(null,e.syncEngine),n.onUnlisten=gZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vZ.bind(null,e.syncEngine),n}function RZ(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new x5({next:f=>{o.enqueueAndForget(()=>g5(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ne(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ne(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new y5(Up(a.path),u,{includeMetadataChanges:!0,ta:!0});return m5(s,d)}(await c1(t),t.asyncQueue,e,n,r)),r.promise}function AZ(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new x5({next:f=>{o.enqueueAndForget(()=>g5(s,d)),f.fromCache&&l.source==="server"?c.reject(new ne(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new y5(a,u,{includeMetadataChanges:!0,ta:!0});return m5(s,d)}(await c1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e,n){if(!n)throw new ne(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PZ(t,e,n,r){if(e===!0&&r===!0)throw new ne(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fR(t){if(!ae.isDocumentKey(t))throw new ne(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pR(t){if(ae.isDocumentKey(t))throw new ne(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jv(t);throw new ne(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NZ(t,e){if(e<=0)throw new ne(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C5{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DQ;switch(r.type){case"firstParty":return new OQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hR.get(n);r&&(Q("ComponentProvider","Removing Datastore"),hR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class sl extends ho{constructor(e,n,r){super(e,n,Up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new ae(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function We(t,e,...n){if(t=st(t),$L("collection","path",e),t instanceof C5){const r=Rt.fromString(e,...n);return pR(r),new sl(t,null,r)}{if(!(t instanceof Er||t instanceof sl))throw new ne(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return pR(r),new sl(t.firestore,null,r)}}function Re(t,e,...n){if(t=st(t),arguments.length===1&&(e=oD.newId()),$L("doc","path",e),t instanceof C5){const r=Rt.fromString(e,...n);return fR(r),new Er(t,null,new ae(r))}{if(!(t instanceof Er||t instanceof sl))throw new ne(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return fR(r),new Er(t.firestore,t instanceof sl?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new vL(this,"async_queue_retry"),this.cu=()=>{const n=B2();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=B2();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=B2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Gi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Al(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=f5.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&Ce()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function gR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends C5{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new DZ}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jL(this),this._firestoreClient.terminate()}}function LZ(t,e,n){n||(n="(default)");const r=Sp(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Sd(s,e))return i;throw new ne(G.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ne(G.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function gh(t){return t._firestoreClient||jL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new hX(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new IZ(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function MZ(t,e){$Z(t=jr(t,As));const n=gh(t);if(n._uninitializedComponentsProvider)throw new ne(G.FAILED_PRECONDITION,"SDK cache is already specified.");Nc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new w5;return OZ(n,i,new LL(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function OZ(t,e,n){const r=new Gi;return t.asyncQueue.enqueue(async()=>{try{await W2(t,n),await hE(t,e),r.resolve()}catch(i){const s=i;if(!ML(s))throw s;Nc("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function $Z(t){if(t._initialized||t._terminated)throw new ne(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class FZ{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $d(ur.fromBase64String(e))}catch(n){throw new ne(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $d(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=/^__.*__$/;class UZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new ph(e,this.data,n,this.fieldTransforms)}}class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class ey{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return u1(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(VL(this.Vu)&&VZ.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class zZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qv(e)}Cu(e,n,r,i=!1){return new ey({Vu:e,methodName:n,Du:r,path:ln.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(t){const e=t._freezeSettings(),n=Qv(t._databaseId);return new zZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UL(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);S5("Data must be an object, but it was:",o,r);const a=BL(r,o);let l,c;if(s.merge)l=new Kr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=fE(e,d,n);if(!o.contains(f))throw new ne(G.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HL(u,f)||u.push(f)}l=new Kr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new UZ(new yr(a),l,c)}class ty extends qp{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ty}}function BZ(t,e,n){return new ey({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class I5 extends qp{_toFieldTransform(e){return new Xb(e.path,new Dd)}isEqual(e){return e instanceof I5}}class T5 extends qp{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=BZ(this,e,!0),r=this.vu.map(s=>vh(s,n)),i=new $c(r);return new Xb(e.path,i)}isEqual(e){return e instanceof T5&&Sd(this.vu,e.vu)}}function WZ(t,e,n,r){const i=t.Cu(1,e,n);S5("Data must be an object, but it was:",i,r);const s=[],o=yr.empty();tu(r,(l,c)=>{const u=k5(e,l,n);c=st(c);const d=i.yu(u);if(c instanceof ty)s.push(u);else{const f=vh(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new Kr(s);return new FL(o,a,i.fieldTransforms)}function HZ(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[fE(e,r,n)],l=[i];if(s.length%2!=0)throw new ne(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(fE(e,s[f])),l.push(s[f+1]);const c=[],u=yr.empty();for(let f=a.length-1;f>=0;--f)if(!HL(c,a[f])){const p=a[f];let m=l[f];m=st(m);const g=o.yu(p);if(m instanceof ty)c.push(p);else{const E=vh(m,g);E!=null&&(c.push(p),u.set(p,E))}}const d=new Kr(c);return new FL(u,d,o.fieldTransforms)}function zL(t,e,n,r=!1){return vh(n,t.Cu(r?4:3,e))}function vh(t,e){if(WL(t=st(t)))return S5("Unsupported field value:",e,t),BL(t,e);if(t instanceof qp)return function(r,i){if(!VL(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=vh(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=un.fromDate(r);return{timestampValue:Md(i.serializer,s)}}if(r instanceof un){const s=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(i.serializer,s)}}if(r instanceof b5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $d)return{bytesValue:WD(i.serializer,r._byteString)};if(r instanceof Er){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n5(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Jv(r)}`)}(t,e)}function BL(t,e){const n={};return mD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(t,(r,i)=>{const s=vh(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof b5||t instanceof $d||t instanceof Er||t instanceof qp)}function S5(t,e,n){if(!WL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jv(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function fE(t,e,n){if((e=st(e))instanceof Zv)return e._internalPath;if(typeof e=="string")return k5(t,e);throw u1("Field path arguments must be of type string or ",t,!1,void 0,n)}const GZ=new RegExp("[~\\*/\\[\\]]");function k5(t,e,n){if(e.search(GZ)>=0)throw u1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zv(...e.split("."))._internalPath}catch{throw u1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function u1(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ne(G.INVALID_ARGUMENT,a+t+l)}function HL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qZ extends R5{data(){return super.data()}}function ny(t,e){return typeof e=="string"?k5(t,e):e instanceof Zv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A5{}let ry=class extends A5{};function Vr(t,e,...n){let r=[];e instanceof A5&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof P5).length,a=s.filter(l=>l instanceof iy).length;if(o>1||o>0&&a>0)throw new ne(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class iy extends ry{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new iy(e,n,r)}_apply(e){const n=this._parse(e);return YL(e._query,n),new ho(e.firestore,e.converter,eE(e._query,n))}_parse(e){const n=Yp(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ne(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){yR(d,u);const p=[];for(const m of d)p.push(vR(l,s,m));f={arrayValue:{values:p}}}else f=vR(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||yR(d,u),f=zL(a,o,d,u==="in"||u==="not-in");return pt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sy(t,e,n){const r=e,i=ny("where",t);return iy._create(i,r,n)}class P5 extends A5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)YL(o,l),o=eE(o,l)}(e._query,n),new ho(e.firestore,e.converter,eE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class N5 extends ry{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new N5(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ne(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new H0(s,o)}(e._query,this._field,this._direction);return new ho(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new nu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function jd(t,e="asc"){const n=e,r=ny("orderBy",t);return N5._create(r,n)}class D5 extends ry{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new D5(e,n,r)}_apply(e){return new ho(e.firestore,e.converter,n1(e._query,this._limit,this._limitType))}}function Jo(t){return NZ("limit",t),D5._create("limit",t,"F")}let YZ=class qL extends ry{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qL(e,n,r)}_apply(e){const n=KZ(e,this.type,this._docOrFields,this._inclusive);return new ho(e.firestore,e.converter,function(i,s){return new nu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function oy(...t){return YZ._create("startAfter",t,!1)}function KZ(t,e,n,r){if(n[0]=st(n[0]),n[0]instanceof R5)return function(s,o,a,l,c){if(!l)throw new ne(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of ad(s))if(d.field.isKeyField())u.push(Mc(o,l.key));else{const f=l.data.field(d.field);if(Uv(f))throw new ne(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new ne(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new fl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Yp(t.firestore);return function(o,a,l,c,u,d){const f=o.explicitOrderBy;if(u.length>f.length)throw new ne(G.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const g=u[m];if(f[m].field.isKeyField()){if(typeof g!="string")throw new ne(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!Qb(o)&&g.indexOf("/")!==-1)throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const E=o.path.child(Rt.fromString(g));if(!ae.isDocumentKey(E))throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const v=new ae(E);p.push(Mc(a,v))}else{const E=zL(l,c,g);p.push(E)}}return new fl(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function vR(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new ne(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(e)&&n.indexOf("/")!==-1)throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!ae.isDocumentKey(r))throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mc(t,new ae(r))}if(n instanceof Er)return Mc(t,n._key);throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jv(n)}.`)}function yR(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YL(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QZ{convertValue(e,n="none"){switch(Lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new b5(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(z0(e));default:return null}}convertTimestamp(e){const n=ul(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);Ae(ZD(r));const i=new Dc(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function XZ(){return new jZ("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QL extends R5{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new H2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ny("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class H2 extends QL{data(e={}){return super.data(e)}}class XL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new If(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new H2(this._firestore,this._userDataWriter,r.key,r,new If(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new H2(i._firestore,i._userDataWriter,a.doc.key,a.doc,new If(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new H2(i._firestore,i._userDataWriter,a.doc.key,a.doc,new If(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:JZ(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){t=jr(t,Er);const e=jr(t.firestore,As);return RZ(gh(e),t._key).then(n=>JL(e,t,n))}class ay extends QZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new $d(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,n)}}function Nl(t){t=jr(t,ho);const e=jr(t.firestore,As),n=gh(e),r=new ay(e);return GL(t._query),AZ(n,t._query).then(i=>new XL(e,r,t,i))}function Fd(t,e,n){t=jr(t,Er);const r=jr(t.firestore,As),i=KL(t.converter,e,n);return ly(r,[UL(Yp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_r.none())])}function Nr(t,e,n,...r){t=jr(t,Er);const i=jr(t.firestore,As),s=Yp(i);let o;return o=typeof(e=st(e))=="string"||e instanceof Zv?HZ(s,"updateDoc",t._key,e,n,r):WZ(s,"updateDoc",t._key,e),ly(i,[o.toMutation(t._key,_r.exists(!0))])}function gl(t){return ly(jr(t.firestore,As),[new Hv(t._key,_r.none())])}function vl(t,e){const n=jr(t.firestore,As),r=Re(t),i=KL(t.converter,e);return ly(n,[UL(Yp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function fo(t,...e){var n,r,i;t=st(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gR(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Er)c=jr(t.firestore,As),u=Up(t._key.path),l={next:d=>{e[o]&&e[o](JL(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=jr(t,ho);c=jr(d.firestore,As),u=d._query;const f=new ay(c);l={next:p=>{e[o]&&e[o](new XL(c,f,d,p))},error:e[o+1],complete:e[o+2]},GL(t._query)}return function(f,p,m,g){const E=new x5(g),v=new y5(p,E,m);return f.asyncQueue.enqueueAndForget(async()=>m5(await c1(f),v)),()=>{E.Qa(),f.asyncQueue.enqueueAndForget(async()=>g5(await c1(f),v))}}(gh(c),u,a,l)}function ly(t,e){return function(r,i){const s=new Gi;return r.asyncQueue.enqueueAndForget(async()=>yZ(await SZ(r),i,s)),s.promise}(gh(t),e)}function JL(t,e,n){const r=n.docs.get(e._key),i=new ay(t);return new QL(t,i,e._key,r,new If(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){return ZZ(t,{count:XZ()})}function ZZ(t,e){const n=jr(t.firestore,As),r=gh(n),i=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(s,o)=>new jX(o,s.aggregateType,s._internalFieldPath));return function(o,a,l){const c=new Gi;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await kZ(o);c.resolve(GJ(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,i).then(s=>function(a,l,c){const u=new ay(a);return new FZ(l,u,c)}(n,t,s))}class eee{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=ree(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function tee(t){return new eee(t)}class nee{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new w5,this._offlineComponentProvider=new LL(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function ree(t){return new nee(t==null?void 0:t.forceOwnership)}function Dr(){return new I5("serverTimestamp")}function pE(...t){return new T5("arrayUnion",t)}(function(e,n=!0){(function(i){fh=i})(Ds),so(new ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new As(new LQ(r.getProvider("auth-internal")),new jQ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ri(pk,"4.5.0",e),ri(pk,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebasestorage.googleapis.com",tM="storageBucket",iee=2*60*1e3,see=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends Ai{constructor(e,n,r=0){super($w(e),`Firebase Storage: ${n} (${$w(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $w(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function $w(t){return"storage/"+t}function L5(){const t="An unknown error occurred, please check the error payload for server response.";return new En(xn.UNKNOWN,t)}function oee(t){return new En(xn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aee(t){return new En(xn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new En(xn.UNAUTHENTICATED,t)}function cee(){return new En(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uee(t){return new En(xn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dee(){return new En(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hee(){return new En(xn.CANCELED,"User canceled the upload/download.")}function fee(t){return new En(xn.INVALID_URL,"Invalid URL '"+t+"'.")}function pee(t){return new En(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mee(){return new En(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tM+"' property when initializing the app?")}function gee(){return new En(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vee(){return new En(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yee(t){return new En(xn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mE(t){return new En(xn.INVALID_ARGUMENT,t)}function nM(){return new En(xn.APP_DELETED,"The Firebase app was deleted.")}function _ee(t){return new En(xn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qf(t,e){return new En(xn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xh(t){throw new En(xn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(r.path==="")return r;throw pee(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},g=n===eM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${E}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<_.length;x++){const I=_[x],C=I.regex.exec(e);if(C){const T=C[I.indices.bucket];let b=C[I.indices.path];b||(b=""),r=new yi(T,b),I.postModify(r);break}}if(r==null)throw fee(e);return r}}class wee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...v){if(c){f();return}if(E){f(),u.call(null,E,...v);return}if(l()||o){f(),u.call(null,E,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function g(E){m||(m=!0,f(),!c&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Eee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){return t!==void 0}function bee(t){return typeof t=="object"&&!Array.isArray(t)}function M5(t){return typeof t=="string"||t instanceof String}function _R(t){return O5()&&t instanceof Blob}function O5(){return typeof Blob<"u"}function wR(t,e,n,r){if(r<e)throw mE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gc||(gc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new e2(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===gc.NO_ERROR,l=s.getStatus();if(!a||Iee(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===gc.ABORT;r(!1,new e2(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new e2(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Cee(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=L5();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?nM():hee();o(l)}else{const l=dee();o(l)}};this.canceled_?n(!1,new e2(!1,null,!0)):this.backoffId_=xee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Eee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class e2{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function See(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ree(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Aee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pee(t,e,n,r,i,s,o=!0){const a=rM(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Ree(c,e),See(c,n),kee(c,s),Aee(c,r),new Tee(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Dee(...t){const e=Nee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(O5())return new Blob(t);throw new En(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Lee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(t){if(typeof atob>"u")throw yee("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jw{constructor(e,n){this.data=e,this.contentType=n||null}}function Oee(t,e){switch(t){case Js.RAW:return new jw(iM(e));case Js.BASE64:case Js.BASE64URL:return new jw(sM(t,e));case Js.DATA_URL:return new jw(jee(e),Fee(e))}throw L5()}function iM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $ee(t){let e;try{e=decodeURIComponent(t)}catch{throw qf(Js.DATA_URL,"Malformed data URL.")}return iM(e)}function sM(t,e){switch(t){case Js.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw qf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Js.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw qf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mee(e)}catch(i){throw i.message.includes("polyfill")?i:qf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class oM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw qf(Js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Vee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jee(t){const e=new oM(t);return e.base64?sM(Js.BASE64,e.rest):$ee(e.rest)}function Fee(t){return new oM(t).contentType}function Vee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){let r=0,i="";_R(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_R(this.data_)){const r=this.data_,i=Lee(r,e,n);return i===null?null:new Oa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Oa(r,!0)}}static getBlob(...e){if(O5()){const n=e.map(r=>r instanceof Oa?r.data_:r);return new Oa(Dee.apply(null,n))}else{const n=e.map(o=>M5(o)?Oee(Js.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Oa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){let e;try{e=JSON.parse(t)}catch{return null}return bee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Bee}}let t2=null;function Wee(t){return!M5(t)||t.length<2?t:lM(t)}function cM(){if(t2)return t2;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,o){return Wee(o)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),t2=t,t2}function Hee(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Gee(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Hee(r,t),r}function uM(t,e,n){const r=aM(e);return r===null?null:Gee(t,r,n)}function qee(t,e,n,r){const i=aM(e);if(i===null||!M5(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=cy(f,n,r),m=rM({alt:"media",token:c});return p+m})[0]}function Yee(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class $5{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){if(!t)throw L5()}function Kee(t,e){function n(r,i){const s=uM(t,i,e);return dM(s!==null),s}return n}function Qee(t,e){function n(r,i){const s=uM(t,i,e);return dM(s!==null),qee(s,i,t.host,t._protocol)}return n}function hM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cee():i=lee():n.getStatus()===402?i=aee(t.bucket):n.getStatus()===403?i=uee(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function fM(t){const e=hM(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=oee(t.path)),s.serverResponse=i.serverResponse,s}return n}function Xee(t,e,n){const r=e.fullServerUrl(),i=cy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $5(i,s,Qee(t,n),o);return a.errorHandler=fM(e),a}function Jee(t,e){const n=e.fullServerUrl(),r=cy(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new $5(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=fM(e),a}function Zee(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ete(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Zee(null,e)),r}function tte(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=ete(e,r,i),u=Yee(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Oa.getBlob(d,r,f);if(p===null)throw gee();const m={name:c.fullPath},g=cy(s,t.host,t._protocol),E="POST",v=t.maxUploadRetryTime,w=new $5(g,E,Kee(t,n),v);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=hM(e),w}class nte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Xh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rte extends nte{initXhr(){this.xhr_.responseType="text"}}function j5(){return new rte}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this._service=e,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uc(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lM(this._location.path)}get storage(){return this._service}get parent(){const e=Uee(this._location.path);if(e===null)return null;const n=new yi(this._location.bucket,e);return new Uc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _ee(e)}}function ite(t,e,n){t._throwIfRoot("uploadBytes");const r=tte(t.storage,t._location,cM(),new Oa(e,!0),n);return t.storage.makeRequestWithTokens(r,j5).then(i=>({metadata:i,ref:t}))}function ste(t){t._throwIfRoot("getDownloadURL");const e=Xee(t.storage,t._location,cM());return t.storage.makeRequestWithTokens(e,j5).then(n=>{if(n===null)throw vee();return n})}function ote(t){t._throwIfRoot("deleteObject");const e=Jee(t.storage,t._location);return t.storage.makeRequestWithTokens(e,j5)}function ate(t,e){const n=zee(t._location.path,e),r=new yi(t._location.bucket,n);return new Uc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(t){return/^[A-Za-z]+:\/\//.test(t)}function cte(t,e){return new Uc(t,e)}function pM(t,e){if(t instanceof F5){const n=t;if(n._bucket==null)throw mee();const r=new Uc(n,n._bucket);return e!=null?pM(r,e):r}else return e!==void 0?ate(t,e):t}function ute(t,e){if(e&&lte(e)){if(t instanceof F5)return cte(t,e);throw mE("To use ref(service, url), the first argument must be a Storage instance.")}else return pM(t,e)}function xR(t,e){const n=e==null?void 0:e[tM];return n==null?null:yi.makeFromBucketSpec(n,t)}function dte(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l8(i,t.app.options.projectId))}class F5{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iee,this._maxUploadRetryTime=see,this._requests=new Set,i!=null?this._bucket=yi.makeFromBucketSpec(i,this._host):this._bucket=xR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,e):this._bucket=xR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new wee(nM());{const o=Pee(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ER="@firebase/storage",CR="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="storage";function q0(t,e,n){return t=st(t),ite(t,e,n)}function Y0(t){return t=st(t),ste(t)}function gE(t){return t=st(t),ote(t)}function za(t,e){return t=st(t),ute(t,e)}function hte(t=pb(),e){t=st(t);const r=Sp(t,mM).getImmediate({identifier:e}),i=s8("storage");return i&&fte(r,...i),r}function fte(t,e,n,r={}){dte(t,e,n,r)}function pte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new F5(n,r,i,e,Ds)}function mte(){so(new ks(mM,pte,"PUBLIC").setMultipleInstances(!0)),ri(ER,CR,""),ri(ER,CR,"esm2017")}mte();var bR={};const IR="@firebase/database",TR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gM="";function gte(t){gM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:R0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return co(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vte(e)}}catch{}return new yte},ic=vM("localStorage"),vE=vM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Tp("@firebase/database"),_te=function(){let t=1;return function(){return t++}}(),yM=function(t){const e=HH(t),n=new zH;n.update(e);const r=n.digest();return db.encodeByteArray(r)},Kp=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Kp.apply(null,r):typeof r=="object"?e+=Yn(r):e+=r,e+=" "}return e};let vc=null,SR=!0;const wte=function(t,e){re(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cd.logLevel=Ze.VERBOSE,vc=cd.log.bind(cd),e&&vE.set("logging_enabled",!0)):typeof t=="function"?vc=t:(vc=null,vE.remove("logging_enabled"))},sr=function(...t){if(SR===!0&&(SR=!1,vc===null&&vE.get("logging_enabled")===!0&&wte(!0)),vc){const e=Kp.apply(null,t);vc(e)}},Qp=function(t){return function(...e){sr(t,...e)}},yE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Kp(...t);cd.error(e)},Zo=function(...t){const e=`FIREBASE FATAL ERROR: ${Kp(...t)}`;throw cd.error(e),new Error(e)},ii=function(...t){const e="FIREBASE WARNING: "+Kp(...t);cd.warn(e)},xte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ete=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zc="[MIN_NAME]",yl="[MAX_NAME]",iu=function(t,e){if(t===e)return 0;if(t===zc||e===yl)return-1;if(e===zc||t===yl)return 1;{const n=kR(t),r=kR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Cte=function(t,e){return t===e?0:t<e?-1:1},Jh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Yn(e))},V5=function(t){if(typeof t!="object"||t===null)return Yn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Yn(e[r]),n+=":",n+=V5(t[e[r]]);return n+="}",n},_M=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ir(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const wM=function(t){re(!uy(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},bte=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ite=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tte(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ste=new RegExp("^-?(0*)\\d{1,10}$"),kte=-2147483648,Rte=2147483647,kR=function(t){if(Ste.test(t)){const e=Number(t);if(e>=kte&&e<=Rte)return e}return null},yh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ii("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ate=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yf=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(e)}}class ud{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ud.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="5",xM="v",EM="s",CM="r",bM="f",IM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TM="ls",SM="p",_E="ac",kM="websocket",RM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ic.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ic.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Dte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PM(t,e,n){re(typeof e=="string","typeof type must == string"),re(typeof n=="object","typeof params must == object");let r;if(e===kM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Dte(t)&&(n.ns=t.namespace);const i=[];return Ir(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(){this.counters_={}}incrementCounter(e,n=1){co(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return RH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={},Vw={};function z5(t){const e=t.toString();return Fw[e]||(Fw[e]=new Lte),Fw[e]}function Mte(t,e){const n=t.toString();return Vw[n]||(Vw[n]=e()),Vw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="start",$te="close",jte="pLPCommand",Fte="pRTLPCB",NM="id",DM="pw",LM="ser",Vte="cb",Ute="seg",zte="ts",Bte="d",Wte="dframe",MM=1870,OM=30,Hte=MM-OM,Gte=25e3,qte=3e4;class qu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qp(e),this.stats_=z5(n),this.urlFn=l=>(this.appCheckToken&&(l[_E]=this.appCheckToken),PM(n,RM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ote(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qte)),Ete(()=>{if(this.isClosed_)return;this.scriptTagHolder=new B5((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===RR)this.id=a,this.password=l;else if(o===$te)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[RR]="t",r[LM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vte]=this.scriptTagHolder.uniqueCallbackIdentifier),r[xM]=U5,this.transportSessionId&&(r[EM]=this.transportSessionId),this.lastSessionId&&(r[TM]=this.lastSessionId),this.applicationId&&(r[SM]=this.applicationId),this.appCheckToken&&(r[_E]=this.appCheckToken),typeof location<"u"&&location.hostname&&IM.test(location.hostname)&&(r[CM]=bM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qu.forceAllow_=!0}static forceDisallow(){qu.forceDisallow_=!0}static isAvailable(){return qu.forceAllow_?!0:!qu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bte()&&!Ite()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Yn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=n8(n),i=_M(r,Hte);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Wte]="t",r[NM]=e,r[DM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Yn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class B5{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_te(),window[jte+this.uniqueCallbackIdentifier]=e,window[Fte+this.uniqueCallbackIdentifier]=n,this.myIFrame=B5.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){sr("frame writing exception"),a.stack&&sr(a.stack),sr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||sr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[NM]=this.myID,e[DM]=this.myPW,e[LM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OM+r.length<=MM;){const o=this.pendingSegs.shift();r=r+"&"+Ute+i+"="+o.seg+"&"+zte+i+"="+o.ts+"&"+Bte+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Gte)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{sr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=16384,Kte=45e3;let d1=null;typeof MozWebSocket<"u"?d1=MozWebSocket:typeof WebSocket<"u"&&(d1=WebSocket);class ws{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qp(this.connId),this.stats_=z5(n),this.connURL=ws.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[xM]=U5,typeof location<"u"&&location.hostname&&IM.test(location.hostname)&&(o[CM]=bM),n&&(o[EM]=n),r&&(o[TM]=r),i&&(o[_E]=i),s&&(o[SM]=s),PM(e,kM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ic.set("previous_websocket_failure",!0);try{let r;d8(),this.mySock=new d1(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ws.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&d1!==null&&!ws.forceDisallow_}static previouslyFailed(){return ic.isInMemoryStorage||ic.get("previous_websocket_failure")===!0}markConnectionHealthy(){ic.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=R0(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(re(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Yn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_M(n,Yte);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Kte))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ws.responsesRequiredToBeHealthy=2;ws.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qu,ws]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ws&&ws.isAvailable();let r=n&&!ws.previouslyFailed();if(e.webSocketOnly&&(n||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ws];else{const i=this.transports_=[];for(const s of K0.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);K0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}K0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qte=6e4,Xte=5e3,Jte=10*1024,Zte=100*1024,Uw="t",AR="d",ene="s",PR="r",tne="e",NR="o",DR="a",LR="n",MR="p",nne="h";class rne{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qp("c:"+this.id+":"),this.transportManager_=new K0(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zte?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Jte?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Uw in e){const n=e[Uw];n===DR?this.upgradeIfSecondaryHealthy_():n===PR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===NR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Jh("t",e),r=Jh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Jh("t",e),r=Jh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Jh(Uw,e);if(AR in e){const r=e[AR];if(n===nne){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ene?this.onConnectionShutdown_(r):n===PR?this.onReset_(r):n===tne?yE("Server Error: "+r):n===NR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),U5!==r&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Qte))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Xte))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ic.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.allowedEvents_=e,this.listeners_={},re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){re(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends jM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new h1}getInitialEvent(e){return re(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=32,$R=768;class Dt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function At(){return new Dt("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _l(t){return t.pieces_.length-t.pieceNum_}function Bt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Dt(t.pieces_,e)}function W5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ine(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Q0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function FM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Dt(e,0)}function In(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Dt(n,0)}function tt(t){return t.pieceNum_>=t.pieces_.length}function Qr(t,e){const n=et(t),r=et(e);if(n===null)return e;if(n===r)return Qr(Bt(t),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function sne(t,e){const n=Q0(t,0),r=Q0(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=iu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function H5(t,e){if(_l(t)!==_l(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_l(t)>_l(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class one{constructor(e,n){this.errorPrefix_=n,this.parts_=Q0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=mv(this.parts_[r]);VM(this)}}function ane(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=mv(e),VM(t)}function lne(t){const e=t.parts_.pop();t.byteLength_-=mv(e),t.parts_.length>0&&(t.byteLength_-=1)}function VM(t){if(t.byteLength_>$R)throw new Error(t.errorPrefix_+"has a key path longer than "+$R+" bytes ("+t.byteLength_+").");if(t.parts_.length>OR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+OR+") or object contains a cycle "+Wl(t))}function Wl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5 extends jM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new G5}getInitialEvent(e){return re(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=1e3,cne=60*5*1e3,jR=30*1e3,une=1.3,dne=3e4,hne="server_kill",FR=3;class Uo extends $M{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Uo.nextPersistentConnectionId_++,this.log_=Qp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zh,this.maxReconnectDelay_=cne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!d8())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");G5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&h1.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Yn(s)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new So,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Uo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&co(e,"w")){const r=Td(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||UH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=VH(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Yn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):yE("Unrecognized action received from server: "+Yn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dne&&(this.reconnectDelay_=Zh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*une)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Uo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){re(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?sr("getToken() completed but was canceled"):(sr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new rne(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ii(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(hne)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ii(d),l())}}}interrupt(e){sr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){sr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fg(this.interruptReasons_)&&(this.reconnectDelay_=Zh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>V5(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Dt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){sr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=FR&&(this.reconnectDelay_=jR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){sr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=FR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+gM.replace(/\./g,"-")]=1,pv()?e["framework.cordova"]=1:hb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=h1.getInstance().currentlyOnline();return Fg(this.interruptReasons_)&&e}}Uo.nextPersistentConnectionId_=0;Uo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new it(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new it(zc,e),i=new it(zc,n);return this.compare(r,i)!==0}minPost(){return it.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2;class UM extends dy{static get __EMPTY_NODE(){return n2}static set __EMPTY_NODE(e){n2=e}compare(e,n){return iu(e.name,n.name)}isDefinedOn(e){throw ch("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return it.MIN}maxPost(){return new it(yl,n2)}makePost(e,n){return re(typeof e=="string","KeyIndex indexValue must always be a string."),new it(e,n2)}toString(){return".key"}}const yc=new UM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Gn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gn.RED,this.left=i??Xr.EMPTY_NODE,this.right=s??Xr.EMPTY_NODE}copy(e,n,r,i,s){return new Gn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Xr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Gn.RED=!0;Gn.BLACK=!1;class fne{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xr{constructor(e,n=Xr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gn.BLACK,null,null))}remove(e){return new Xr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new r2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new r2(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new r2(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new r2(this.root_,null,this.comparator_,!0,e)}}Xr.EMPTY_NODE=new fne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pne(t,e){return iu(t.name,e.name)}function q5(t,e){return iu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE;function mne(t){wE=t}const zM=function(t){return typeof t=="number"?"number:"+wM(t):"string:"+t},BM=function(t){if(t.isLeafNode()){const e=t.val();re(typeof e=="string"||typeof e=="number"||typeof e=="object"&&co(e,".sv"),"Priority must be a string or number.")}else re(t===wE||t.isEmpty(),"priority of unexpected type.");re(t===wE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VR;class Bn{constructor(e,n=Bn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,re(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),BM(this.priorityNode_)}static set __childrenNodeConstructor(e){VR=e}static get __childrenNodeConstructor(){return VR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return tt(e)?this:et(e)===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Bn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(re(r!==".priority"||_l(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=wM(this.value_):e+=this.value_,this.lazyHash_=yM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bn.__childrenNodeConstructor?-1:(re(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Bn.VALUE_TYPE_ORDER.indexOf(n),s=Bn.VALUE_TYPE_ORDER.indexOf(r);return re(i>=0,"Unknown leaf type: "+n),re(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Bn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WM,HM;function gne(t){WM=t}function vne(t){HM=t}class yne extends dy{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?iu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return it.MIN}maxPost(){return new it(yl,new Bn("[PRIORITY-POST]",HM))}makePost(e,n){const r=WM(e);return new it(n,new Bn("[PRIORITY-POST]",r))}toString(){return".priority"}}const sn=new yne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne=Math.log(2);class wne{constructor(e){const n=s=>parseInt(Math.log(s)/_ne,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const f1=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Gn(f,d.node,Gn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),g=i(p+1,c);return d=t[p],f=n?n(d):d,new Gn(f,d.node,Gn.BLACK,m,g)}},s=function(l){let c=null,u=null,d=t.length;const f=function(m,g){const E=d-m,v=d;d-=m;const w=i(E+1,v),_=t[E],x=n?n(_):_;p(new Gn(x,_.node,g,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,Gn.BLACK):(f(E,Gn.BLACK),f(E,Gn.RED))}return u},o=new wne(t.length),a=s(o);return new Xr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zw;const _u={};class Oo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return re(_u&&sn,"ChildrenNode.ts has not been loaded"),zw=zw||new Oo({".priority":_u},{".priority":sn}),zw}get(e){const n=Td(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xr?n:null}hasIndex(e){return co(this.indexSet_,e.toString())}addIndex(e,n){re(e!==yc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(it.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=f1(r,e.getCompare()):a=_u;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Oo(u,c)}addToIndexes(e,n){const r=Vg(this.indexes_,(i,s)=>{const o=Td(this.indexSet_,s);if(re(o,"Missing index implementation for "+s),i===_u)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(it.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),f1(a,o.getCompare())}else return _u;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new it(e.name,a))),l.insert(e,e.node)}});return new Oo(r,this.indexSet_)}removeFromIndexes(e,n){const r=Vg(this.indexes_,i=>{if(i===_u)return i;{const s=n.get(e.name);return s?i.remove(new it(e.name,s)):i}});return new Oo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef;class Fe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&BM(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ef||(ef=new Fe(new Xr(q5),null,Oo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ef}updatePriority(e){return this.children_.isEmpty()?this:new Fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ef:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(re(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new it(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ef:this.priorityNode_;return new Fe(i,o,s)}}updateChild(e,n){const r=et(e);if(r===null)return n;{re(et(e)!==".priority"||_l(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Bt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(sn,(o,a)=>{n[o]=a.val(e),r++,s&&Fe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zM(this.getPriority().val())+":"),this.forEachChild(sn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":yM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new it(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new it(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new it(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,it.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,it.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xp?-1:0}withIndex(e){if(e===yc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===yc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(sn),i=n.getIterator(sn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===yc?null:this.indexMap_.get(e.toString())}}Fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xne extends Fe{constructor(){super(new Xr(q5),Fe.EMPTY_NODE,Oo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Fe.EMPTY_NODE}isEmpty(){return!1}}const Xp=new xne;Object.defineProperties(it,{MIN:{value:new it(zc,Fe.EMPTY_NODE)},MAX:{value:new it(yl,Xp)}});UM.__EMPTY_NODE=Fe.EMPTY_NODE;Bn.__childrenNodeConstructor=Fe;mne(Xp);vne(Xp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=!0;function Nn(t,e=null){if(t===null)return Fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),re(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Bn(n,Nn(e))}if(!(t instanceof Array)&&Ene){const n=[];let r=!1;if(Ir(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Nn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new it(o,l)))}}),n.length===0)return Fe.EMPTY_NODE;const s=f1(n,pne,o=>o.name,q5);if(r){const o=f1(n,sn.getCompare());return new Fe(s,Nn(e),new Oo({".priority":o},{".priority":sn}))}else return new Fe(s,Nn(e),Oo.Default)}else{let n=Fe.EMPTY_NODE;return Ir(t,(r,i)=>{if(co(t,r)&&r.substring(0,1)!=="."){const s=Nn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Nn(e))}}gne(Nn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5 extends dy{constructor(e){super(),this.indexPath_=e,re(!tt(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?iu(e.name,n.name):s}makePost(e,n){const r=Nn(e),i=Fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new it(n,i)}maxPost(){const e=Fe.EMPTY_NODE.updateChild(this.indexPath_,Xp);return new it(yl,e)}toString(){return Q0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne extends dy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?iu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return it.MIN}maxPost(){return it.MAX}makePost(e,n){const r=Nn(e);return new it(n,r)}toString(){return".value"}}const GM=new Cne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return{type:"value",snapshotNode:t}}function Vd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function X0(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function J0(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function bne(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){re(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(X0(n,a)):re(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Vd(n,r)):o.trackChildChange(J0(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(sn,(i,s)=>{n.hasChild(i)||r.trackChildChange(X0(i,s))}),n.isLeafNode()||n.forEachChild(sn,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(J0(i,s,o))}else r.trackChildChange(Vd(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.indexedFilter_=new K5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Z0.getStartPost_(e),this.endPost_=Z0.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new it(n,r))||(r=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Fe.EMPTY_NODE);const s=this;return n.forEachChild(sn,(o,a)=>{s.matches(new it(o,a))||(i=i.updateImmediateChild(o,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Z0(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new it(n,r))||(r=Fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Fe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Fe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;re(a.numChildren()===this.limit_,"");const l=new it(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(J0(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(X0(n,d));const g=a.updateImmediateChild(n,Fe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Vd(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(X0(c.name,c.node)),s.trackChildChange(Vd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zc}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new Q5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tne(t){return t.loadsAllData()?new K5(t.getIndex()):t.hasLimit()?new Ine(t):new Z0(t)}function Sne(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kne(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Rne(t,e){const n=t.copy();return n.index_=e,n}function UR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sn?n="$priority":t.index_===GM?n="$value":t.index_===yc?n="$key":(re(t.index_ instanceof Y5,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Yn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Yn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Yn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Yn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Yn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends $M{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=p1.getListenId_(e,r),a={};this.listens_[o]=a;const l=UR(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Td(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=p1.getListenId_(e,n);delete this.listens_[r]}get(e){const n=UR(e._queryParams),r=e._path.toString(),i=new So;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+la(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=R0(a.responseText)}catch{ii("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ii("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(){this.rootNode_=Fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return{value:null,children:new Map}}function _h(t,e,n){if(tt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=et(e);t.children.has(r)||t.children.set(r,m1());const i=t.children.get(r);e=Bt(e),_h(i,e,n)}}function xE(t,e){if(tt(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(sn,(r,i)=>{_h(t,new Dt(r),i)}),xE(t,e)}}else if(t.children.size>0){const n=et(e);return e=Bt(e),t.children.has(n)&&xE(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function EE(t,e,n){t.value!==null?n(e,t.value):Pne(t,(r,i)=>{const s=new Dt(e.toString()+"/"+r);EE(i,s,n)})}function Pne(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ir(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=10*1e3,Dne=30*1e3,Lne=5*60*1e3;class Mne{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nne(e);const r=BR+(Dne-BR)*Math.random();Yf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ir(e,(i,s)=>{s>0&&co(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Yf(this.reportStats_.bind(this),Math.floor(Math.random()*2*Lne))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xs||(xs={}));function YM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function X5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function J5(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=xs.ACK_USER_WRITE,this.source=YM()}operationForChild(e){if(tt(this.path)){if(this.affectedTree.value!=null)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Dt(e));return new g1(At(),n,this.revert)}}else return re(et(this.path)===e,"operationForChild called for unrelated child."),new g1(Bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.source=e,this.path=n,this.type=xs.LISTEN_COMPLETE}operationForChild(e){return tt(this.path)?new ep(this.source,At()):new ep(this.source,Bt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=xs.OVERWRITE}operationForChild(e){return tt(this.path)?new Bc(this.source,At(),this.snap.getImmediateChild(e)):new Bc(this.source,Bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=xs.MERGE}operationForChild(e){if(tt(this.path)){const n=this.children.subtree(new Dt(e));return n.isEmpty()?null:n.value?new Bc(this.source,At(),n.value):new tp(this.source,At(),n)}else return re(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tp(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(tt(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $ne(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(bne(o.childName,o.snapshotNode))}),tf(t,i,"child_removed",e,r,n),tf(t,i,"child_added",e,r,n),tf(t,i,"child_moved",s,r,n),tf(t,i,"child_changed",e,r,n),tf(t,i,"value",e,r,n),i}function tf(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Fne(t,a,l)),o.forEach(a=>{const l=jne(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function jne(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Fne(t,e,n){if(e.childName==null||n.childName==null)throw ch("Should only compare child_ events.");const r=new it(e.childName,e.snapshotNode),i=new it(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){return{eventCache:t,serverCache:e}}function Kf(t,e,n,r){return hy(new Wc(e,n,r),t.serverCache)}function KM(t,e,n,r){return hy(t.eventCache,new Wc(e,n,r))}function CE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bw;const Vne=()=>(Bw||(Bw=new Xr(Cte)),Bw);class Qt{constructor(e,n=Vne()){this.value=e,this.children=n}static fromObject(e){let n=new Qt(null);return Ir(e,(r,i)=>{n=n.set(new Dt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:At(),value:this.value};if(tt(e))return null;{const r=et(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Bt(e),n);return s!=null?{path:In(new Dt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(tt(e))return this;{const n=et(e),r=this.children.get(n);return r!==null?r.subtree(Bt(e)):new Qt(null)}}set(e,n){if(tt(e))return new Qt(n,this.children);{const r=et(e),s=(this.children.get(r)||new Qt(null)).set(Bt(e),n),o=this.children.insert(r,s);return new Qt(this.value,o)}}remove(e){if(tt(e))return this.children.isEmpty()?new Qt(null):new Qt(null,this.children);{const n=et(e),r=this.children.get(n);if(r){const i=r.remove(Bt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Qt(null):new Qt(this.value,s)}else return this}}get(e){if(tt(e))return this.value;{const n=et(e),r=this.children.get(n);return r?r.get(Bt(e)):null}}setTree(e,n){if(tt(e))return n;{const r=et(e),s=(this.children.get(r)||new Qt(null)).setTree(Bt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Qt(this.value,o)}}fold(e){return this.fold_(At(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(In(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,At(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(tt(e))return null;{const s=et(e),o=this.children.get(s);return o?o.findOnPath_(Bt(e),In(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,At(),n)}foreachOnPath_(e,n,r){if(tt(e))return this;{this.value&&r(n,this.value);const i=et(e),s=this.children.get(i);return s?s.foreachOnPath_(Bt(e),In(n,i),r):new Qt(null)}}foreach(e){this.foreach_(At(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(In(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.writeTree_=e}static empty(){return new Is(new Qt(null))}}function Qf(t,e,n){if(tt(e))return new Is(new Qt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Qr(i,e);return s=s.updateChild(o,n),new Is(t.writeTree_.set(i,s))}else{const i=new Qt(n),s=t.writeTree_.setTree(e,i);return new Is(s)}}}function WR(t,e,n){let r=t;return Ir(n,(i,s)=>{r=Qf(r,In(e,i),s)}),r}function HR(t,e){if(tt(e))return Is.empty();{const n=t.writeTree_.setTree(e,new Qt(null));return new Is(n)}}function bE(t,e){return su(t,e)!=null}function su(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qr(n.path,e)):null}function GR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sn,(r,i)=>{e.push(new it(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new it(r,i.value))}),e}function ol(t,e){if(tt(e))return t;{const n=su(t,e);return n!=null?new Is(new Qt(n)):new Is(t.writeTree_.subtree(e))}}function IE(t){return t.writeTree_.isEmpty()}function Ud(t,e){return QM(At(),t.writeTree_,e)}function QM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(re(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=QM(In(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(In(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t,e){return eO(e,t)}function Une(t,e,n,r,i){re(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Qf(t.visibleWrites,e,n)),t.lastWriteId=r}function zne(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Bne(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);re(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Wne(a,r.path)?i=!1:Wi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Hne(t),!0;if(r.snap)t.visibleWrites=HR(t.visibleWrites,r.path);else{const a=r.children;Ir(a,l=>{t.visibleWrites=HR(t.visibleWrites,In(r.path,l))})}return!0}else return!1}function Wne(t,e){if(t.snap)return Wi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Wi(In(t.path,n),e))return!0;return!1}function Hne(t){t.visibleWrites=XM(t.allWrites,Gne,At()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Gne(t){return t.visible}function XM(t,e,n){let r=Is.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Wi(n,o)?(a=Qr(n,o),r=Qf(r,a,s.snap)):Wi(o,n)&&(a=Qr(o,n),r=Qf(r,At(),s.snap.getChild(a)));else if(s.children){if(Wi(n,o))a=Qr(n,o),r=WR(r,a,s.children);else if(Wi(o,n))if(a=Qr(o,n),tt(a))r=WR(r,At(),s.children);else{const l=Td(s.children,et(a));if(l){const c=l.getChild(Bt(a));r=Qf(r,At(),c)}}}else throw ch("WriteRecord should have .snap or .children")}}return r}function JM(t,e,n,r,i){if(!r&&!i){const s=su(t.visibleWrites,e);if(s!=null)return s;{const o=ol(t.visibleWrites,e);if(IE(o))return n;if(n==null&&!bE(o,At()))return null;{const a=n||Fe.EMPTY_NODE;return Ud(o,a)}}}else{const s=ol(t.visibleWrites,e);if(!i&&IE(s))return n;if(!i&&n==null&&!bE(s,At()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Wi(c.path,e)||Wi(e,c.path))},a=XM(t.allWrites,o,e),l=n||Fe.EMPTY_NODE;return Ud(a,l)}}}function qne(t,e,n){let r=Fe.EMPTY_NODE;const i=su(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(sn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ol(t.visibleWrites,e);return n.forEachChild(sn,(o,a)=>{const l=Ud(ol(s,new Dt(o)),a);r=r.updateImmediateChild(o,l)}),GR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ol(t.visibleWrites,e);return GR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Yne(t,e,n,r,i){re(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=In(e,n);if(bE(t.visibleWrites,s))return null;{const o=ol(t.visibleWrites,s);return IE(o)?i.getChild(n):Ud(o,i.getChild(n))}}function Kne(t,e,n,r){const i=In(e,n),s=su(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ol(t.visibleWrites,i);return Ud(o,r.getNode().getImmediateChild(n))}else return null}function Qne(t,e){return su(t.visibleWrites,e)}function Xne(t,e,n,r,i,s,o){let a;const l=ol(t.visibleWrites,e),c=su(l,At());if(c!=null)a=c;else if(n!=null)a=Ud(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function Jne(){return{visibleWrites:Is.empty(),allWrites:[],lastWriteId:-1}}function v1(t,e,n,r){return JM(t.writeTree,t.treePath,e,n,r)}function eI(t,e){return qne(t.writeTree,t.treePath,e)}function qR(t,e,n,r){return Yne(t.writeTree,t.treePath,e,n,r)}function y1(t,e){return Qne(t.writeTree,In(t.treePath,e))}function Zne(t,e,n,r,i,s){return Xne(t.writeTree,t.treePath,e,n,r,i,s)}function tI(t,e,n){return Kne(t.writeTree,t.treePath,e,n)}function ZM(t,e){return eO(In(t.treePath,e),t.writeTree)}function eO(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;re(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),re(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,J0(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,X0(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Vd(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,J0(r,e.snapshotNode,i.oldSnap));else throw ch("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tO=new tre;class nI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Wc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hc(this.viewCache_),s=Zne(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nre(t){return{filter:t}}function rre(t,e){re(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),re(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ire(t,e,n,r,i){const s=new ere;let o,a;if(n.type===xs.OVERWRITE){const c=n;c.source.fromUser?o=TE(t,e,c.path,c.snap,r,i,s):(re(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!tt(c.path),o=_1(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===xs.MERGE){const c=n;c.source.fromUser?o=ore(t,e,c.path,c.children,r,i,s):(re(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=SE(t,e,c.path,c.children,r,i,a,s))}else if(n.type===xs.ACK_USER_WRITE){const c=n;c.revert?o=cre(t,e,c.path,r,i,s):o=are(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===xs.LISTEN_COMPLETE)o=lre(t,e,n.path,r,s);else throw ch("Unknown operation type: "+n.type);const l=s.getChanges();return sre(e,o,l),{viewCache:o,changes:l}}function sre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=CE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(qM(CE(e)))}}function nO(t,e,n,r,i,s){const o=e.eventCache;if(y1(r,n)!=null)return e;{let a,l;if(tt(n))if(re(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Hc(e),u=c instanceof Fe?c:Fe.EMPTY_NODE,d=eI(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=v1(r,Hc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=et(n);if(c===".priority"){re(_l(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=qR(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Bt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=qR(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=tI(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Kf(e,a,o.isFullyInitialized()||tt(n),t.filter.filtersNodes())}}function _1(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(tt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=et(n);if(!l.isCompleteForPath(n)&&_l(n)>1)return e;const m=Bt(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,tO,null)}const d=KM(e,c,l.isFullyInitialized()||tt(n),u.filtersNodes()),f=new nI(i,d,s);return nO(t,d,n,i,f,a)}function TE(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new nI(i,e,s);if(tt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Kf(e,c,!0,t.filter.filtersNodes());else{const d=et(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Kf(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Bt(n),p=a.getNode().getImmediateChild(d);let m;if(tt(f))m=r;else{const g=u.getCompleteChild(d);g!=null?W5(f)===".priority"&&g.getChild(FM(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=Fe.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=Kf(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YR(t,e){return t.eventCache.isCompleteForChild(e)}function ore(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=In(n,l);YR(e,et(u))&&(a=TE(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=In(n,l);YR(e,et(u))||(a=TE(t,a,u,c,i,s,o))}),a}function KR(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function SE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;tt(n)?c=r:c=new Qt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=KR(t,p,f);l=_1(t,l,new Dt(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),g=KR(t,m,f);l=_1(t,l,new Dt(d),g,i,s,o,a)}}),l}function are(t,e,n,r,i,s,o){if(y1(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(tt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return _1(t,e,n,l.getNode().getChild(n),i,s,a,o);if(tt(n)){let c=new Qt(null);return l.getNode().forEachChild(yc,(u,d)=>{c=c.set(new Dt(u),d)}),SE(t,e,n,c,i,s,a,o)}else return e}else{let c=new Qt(null);return r.foreach((u,d)=>{const f=In(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),SE(t,e,n,c,i,s,a,o)}}function lre(t,e,n,r,i){const s=e.serverCache,o=KM(e,s.getNode(),s.isFullyInitialized()||tt(n),s.isFiltered());return nO(t,o,n,r,tO,i)}function cre(t,e,n,r,i,s){let o;if(y1(r,n)!=null)return e;{const a=new nI(r,e,i),l=e.eventCache.getNode();let c;if(tt(n)||et(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=v1(r,Hc(e));else{const d=e.serverCache.getNode();re(d instanceof Fe,"serverChildren would be complete if leaf node"),u=eI(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=et(n);let d=tI(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Bt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Fe.EMPTY_NODE,Bt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=v1(r,Hc(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||y1(r,At())!=null,Kf(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new K5(r.getIndex()),s=Tne(r);this.processor_=nre(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Fe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Fe.EMPTY_NODE,a.getNode(),null),u=new Wc(l,o.isFullyInitialized(),i.filtersNodes()),d=new Wc(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=hy(d,u),this.eventGenerator_=new One(this.query_)}get query(){return this.query_}}function dre(t){return t.viewCache_.serverCache.getNode()}function hre(t,e){const n=Hc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!tt(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function QR(t){return t.eventRegistrations_.length===0}function fre(t,e){t.eventRegistrations_.push(e)}function XR(t,e,n){const r=[];if(n){re(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function JR(t,e,n,r){e.type===xs.MERGE&&e.source.queryId!==null&&(re(Hc(t.viewCache_),"We should always have a full cache before handling merges"),re(CE(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ire(t.processor_,i,e,n,r);return rre(t.processor_,s.viewCache),re(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,rO(t,s.changes,s.viewCache.eventCache.getNode(),null)}function pre(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sn,(s,o)=>{r.push(Vd(s,o))}),n.isFullyInitialized()&&r.push(qM(n.getNode())),rO(t,r,n.getNode(),e)}function rO(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return $ne(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w1;class mre{constructor(){this.views=new Map}}function gre(t){re(!w1,"__referenceConstructor has already been defined"),w1=t}function vre(){return re(w1,"Reference.ts has not been loaded"),w1}function yre(t){return t.views.size===0}function rI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return re(s!=null,"SyncTree gave us an op for an invalid query."),JR(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(JR(o,e,n,r));return s}}function _re(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=v1(n,i?r:null),l=!1;a?l=!0:r instanceof Fe?(a=eI(n,r),l=!1):(a=Fe.EMPTY_NODE,l=!1);const c=hy(new Wc(a,l,!1),new Wc(r,i,!1));return new ure(e,c)}return o}function wre(t,e,n,r,i,s){const o=_re(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),fre(o,n),pre(o,n)}function xre(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=wl(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(XR(c,n,r)),QR(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(XR(l,n,r)),QR(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!wl(t)&&s.push(new(vre())(e._repo,e._path)),{removed:s,events:o}}function iO(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function dd(t,e){let n=null;for(const r of t.views.values())n=n||hre(r,e);return n}function sO(t,e){if(e._queryParams.loadsAllData())return fy(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oO(t,e){return sO(t,e)!=null}function wl(t){return fy(t)!=null}function fy(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x1;function Ere(t){re(!x1,"__referenceConstructor has already been defined"),x1=t}function Cre(){return re(x1,"Reference.ts has not been loaded"),x1}let bre=1;class ZR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_=Jne(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aO(t,e,n,r,i){return Une(t.pendingWriteTree_,e,n,r,i),i?Jp(t,new Bc(YM(),e,n)):[]}function sc(t,e,n=!1){const r=zne(t.pendingWriteTree_,e);if(Bne(t.pendingWriteTree_,e)){let s=new Qt(null);return r.snap!=null?s=s.set(At(),!0):Ir(r.children,o=>{s=s.set(new Dt(o),!0)}),Jp(t,new g1(r.path,s,n))}else return[]}function py(t,e,n){return Jp(t,new Bc(X5(),e,n))}function Ire(t,e,n){const r=Qt.fromObject(n);return Jp(t,new tp(X5(),e,r))}function Tre(t,e){return Jp(t,new ep(X5(),e))}function Sre(t,e,n){const r=sI(t,n);if(r){const i=oI(r),s=i.path,o=i.queryId,a=Qr(s,e),l=new ep(J5(o),a);return aI(t,s,l)}else return[]}function kE(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||oO(o,e))){const l=xre(o,e,n,r);yre(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>wl(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=Are(f);for(let m=0;m<p.length;++m){const g=p[m],E=g.query,v=uO(t,g);t.listenProvider_.startListening(Xf(E),E1(t,E),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Xf(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(my(f));t.listenProvider_.stopListening(Xf(f),p)}))}Pre(t,c)}return a}function kre(t,e,n,r){const i=sI(t,r);if(i!=null){const s=oI(i),o=s.path,a=s.queryId,l=Qr(o,e),c=new Bc(J5(a),l,n);return aI(t,o,c)}else return[]}function Rre(t,e,n,r){const i=sI(t,r);if(i){const s=oI(i),o=s.path,a=s.queryId,l=Qr(o,e),c=Qt.fromObject(n),u=new tp(J5(a),l,c);return aI(t,o,u)}else return[]}function eA(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const m=Qr(f,i);s=s||dd(p,m),o=o||wl(p)});let a=t.syncPointTree_.get(i);a?(o=o||wl(a),s=s||dd(a,At())):(a=new mre,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Fe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=dd(m,At());g&&(s=s.updateImmediateChild(p,g))}));const c=oO(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=my(e);re(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Nre();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=Z5(t.pendingWriteTree_,i);let d=wre(a,e,n,u,s,l);if(!c&&!o&&!r){const f=sO(a,e);d=d.concat(Dre(t,e,f))}return d}function iI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Qr(o,e),c=dd(a,l);if(c)return c});return JM(i,e,s,n,!0)}function Jp(t,e){return lO(e,t.syncPointTree_,null,Z5(t.pendingWriteTree_,At()))}function lO(t,e,n,r){if(tt(t.path))return cO(t,e,n,r);{const i=e.get(At());n==null&&i!=null&&(n=dd(i,At()));let s=[];const o=et(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=ZM(r,o);s=s.concat(lO(a,l,c,u))}return i&&(s=s.concat(rI(i,t,r,n))),s}}function cO(t,e,n,r){const i=e.get(At());n==null&&i!=null&&(n=dd(i,At()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=ZM(r,o),u=t.operationForChild(o);u&&(s=s.concat(cO(u,a,l,c)))}),i&&(s=s.concat(rI(i,t,r,n))),s}function uO(t,e){const n=e.query,r=E1(t,n);return{hashFn:()=>(dre(e)||Fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Sre(t,n._path,r):Tre(t,n._path);{const s=Tte(i,n);return kE(t,n,null,s)}}}}function E1(t,e){const n=my(e);return t.queryToTagMap.get(n)}function my(t){return t._path.toString()+"$"+t._queryIdentifier}function sI(t,e){return t.tagToQueryMap.get(e)}function oI(t){const e=t.indexOf("$");return re(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Dt(t.substr(0,e))}}function aI(t,e,n){const r=t.syncPointTree_.get(e);re(r,"Missing sync point for query tag that we're tracking");const i=Z5(t.pendingWriteTree_,e);return rI(r,n,i,null)}function Are(t){return t.fold((e,n,r)=>{if(n&&wl(n))return[fy(n)];{let i=[];return n&&(i=iO(n)),Ir(r,(s,o)=>{i=i.concat(o)}),i}})}function Xf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Cre())(t._repo,t._path):t}function Pre(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=my(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Nre(){return bre++}function Dre(t,e,n){const r=e._path,i=E1(t,e),s=uO(t,n),o=t.listenProvider_.startListening(Xf(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)re(!wl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!tt(c)&&u&&wl(u))return[fy(u).query];{let f=[];return u&&(f=f.concat(iO(u).map(p=>p.query))),Ir(d,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Xf(u),E1(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new lI(n)}node(){return this.node_}}class cI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new cI(this.syncTree_,n)}node(){return iI(this.syncTree_,this.path_)}}const Lre=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tA=function(t,e,n){if(!t||typeof t!="object")return t;if(re(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Mre(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Ore(t[".sv"],e);re(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Mre=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:re(!1,"Unexpected server value: "+t)}},Ore=function(t,e,n){t.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&re(!1,"Unexpected increment value: "+r);const i=e.node();if(re(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},$re=function(t,e,n,r){return uI(e,new cI(n,t),r)},dO=function(t,e,n){return uI(t,new lI(e),n)};function uI(t,e,n){const r=t.getPriority().val(),i=tA(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=tA(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Bn(a,Nn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Bn(i))),o.forEachChild(sn,(a,l)=>{const c=uI(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function hI(t,e){let n=e instanceof Dt?e:new Dt(e),r=t,i=et(n);for(;i!==null;){const s=Td(r.node.children,i)||{children:{},childCount:0};r=new dI(i,r,s),n=Bt(n),i=et(n)}return r}function wh(t){return t.node.value}function hO(t,e){t.node.value=e,RE(t)}function fO(t){return t.node.childCount>0}function jre(t){return wh(t)===void 0&&!fO(t)}function gy(t,e){Ir(t.node.children,(n,r)=>{e(new dI(n,t,r))})}function pO(t,e,n,r){n&&!r&&e(t),gy(t,i=>{pO(i,e,!0,r)}),n&&r&&e(t)}function Fre(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zp(t){return new Dt(t.parent===null?t.name:Zp(t.parent)+"/"+t.name)}function RE(t){t.parent!==null&&Vre(t.parent,t.name,t)}function Vre(t,e,n){const r=jre(n),i=co(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,RE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,RE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=/[\[\].#$\/\u0000-\u001F\u007F]/,zre=/[\[\].#$\u0000-\u001F\u007F]/,Ww=10*1024*1024,vy=function(t){return typeof t=="string"&&t.length!==0&&!Ure.test(t)},mO=function(t){return typeof t=="string"&&t.length!==0&&!zre.test(t)},Bre=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mO(t)},C1=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!uy(t)||t&&typeof t=="object"&&co(t,".sv")},zd=function(t,e,n,r){r&&e===void 0||yy(Rc(t,"value"),e,n)},yy=function(t,e,n){const r=n instanceof Dt?new one(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wl(r)+" with contents = "+e.toString());if(uy(e))throw new Error(t+"contains "+e.toString()+" "+Wl(r));if(typeof e=="string"&&e.length>Ww/3&&mv(e)>Ww)throw new Error(t+"contains a string greater than "+Ww+" utf8 bytes "+Wl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ir(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!vy(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ane(r,o),yy(t,a,r),lne(r)}),i&&s)throw new Error(t+' contains ".value" child '+Wl(r)+" in addition to actual children.")}},Wre=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Q0(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!vy(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(sne);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Wi(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Hre=function(t,e,n,r){if(r&&e===void 0)return;const i=Rc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ir(e,(o,a)=>{const l=new Dt(o);if(yy(i,a,In(n,l)),W5(l)===".priority"&&!C1(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Wre(i,s)},Gre=function(t,e,n){if(!(n&&e===void 0)){if(uy(e))throw new Error(Rc(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!C1(e))throw new Error(Rc(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qre=function(t,e,n,r){if(!(r&&n===void 0)&&!vy(n))throw new Error(Rc(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},fI=function(t,e,n,r){if(!(r&&n===void 0)&&!mO(n))throw new Error(Rc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Yre=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fI(t,e,n,r)},Tf=function(t,e){if(et(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Kre=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Bre(n))throw new Error(Rc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pI(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!H5(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function gO(t,e,n){pI(t,n),vO(t,r=>H5(r,e))}function ea(t,e,n){pI(t,n),vO(t,r=>Wi(r,e)||Wi(e,r))}function vO(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Xre(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xre(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();vc&&sr("event: "+n.toString()),yh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre="repo_interrupt",Zre=25;class eie{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=m1(),this.transactionQueueTree_=new dI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tie(t,e,n){if(t.stats_=z5(t.repoInfo_),t.forceRestClient_||Ate())t.server_=new p1(t.repoInfo_,(r,i,s,o)=>{nA(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Uo(t.repoInfo_,e,(r,i,s,o)=>{nA(t,r,i,s,o)},r=>{rA(t,r)},r=>{rie(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Mte(t.repoInfo_,()=>new Mne(t.stats_,t.server_)),t.infoData_=new Ane,t.infoSyncTree_=new ZR({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=py(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),gI(t,"connected",!1),t.serverSyncTree_=new ZR({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ea(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function nie(t){const n=t.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mI(t){return Lre({timestamp:nie(t)})}function nA(t,e,n,r,i){t.dataUpdateCount++;const s=new Dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Vg(n,c=>Nn(c));o=Rre(t.serverSyncTree_,s,l,i)}else{const l=Nn(n);o=kre(t.serverSyncTree_,s,l,i)}else if(r){const l=Vg(n,c=>Nn(c));o=Ire(t.serverSyncTree_,s,l)}else{const l=Nn(n);o=py(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=_y(t,s)),ea(t.eventQueue_,a,o)}function rA(t,e){gI(t,"connected",e),e===!1&&sie(t)}function rie(t,e){Ir(e,(n,r)=>{gI(t,n,r)})}function gI(t,e,n){const r=new Dt("/.info/"+e),i=Nn(n);t.infoData_.updateSnapshot(r,i);const s=py(t.infoSyncTree_,r,i);ea(t.eventQueue_,r,s)}function yO(t){return t.nextWriteId_++}function iie(t,e,n,r,i){vI(t,"set",{path:e.toString(),value:n,priority:r});const s=mI(t),o=Nn(n,r),a=iI(t.serverSyncTree_,e),l=dO(o,a,s),c=yO(t),u=aO(t.serverSyncTree_,e,l,c,!0);pI(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const m=f==="ok";m||ii("set at "+e+" failed: "+f);const g=sc(t.serverSyncTree_,c,!m);ea(t.eventQueue_,e,g),Bd(t,i,f,p)});const d=CO(t,e);_y(t,d),ea(t.eventQueue_,d,[])}function sie(t){vI(t,"onDisconnectEvents");const e=mI(t),n=m1();EE(t.onDisconnect_,At(),(i,s)=>{const o=$re(i,s,t.serverSyncTree_,e);_h(n,i,o)});let r=[];EE(n,At(),(i,s)=>{r=r.concat(py(t.serverSyncTree_,i,s));const o=CO(t,i);_y(t,o)}),t.onDisconnect_=m1(),ea(t.eventQueue_,At(),r)}function oie(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&xE(t.onDisconnect_,e),Bd(t,n,r,i)})}function iA(t,e,n,r){const i=Nn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&_h(t.onDisconnect_,e,i),Bd(t,r,s,o)})}function aie(t,e,n,r,i){const s=Nn(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&_h(t.onDisconnect_,e,s),Bd(t,i,o,a)})}function lie(t,e,n,r){if(Fg(n)){sr("onDisconnect().update() called with empty data.  Don't do anything."),Bd(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Ir(n,(o,a)=>{const l=Nn(a);_h(t.onDisconnect_,In(e,o),l)}),Bd(t,r,i,s)})}function cie(t,e,n){let r;et(e._path)===".info"?r=eA(t.infoSyncTree_,e,n):r=eA(t.serverSyncTree_,e,n),gO(t.eventQueue_,e._path,r)}function sA(t,e,n){let r;et(e._path)===".info"?r=kE(t.infoSyncTree_,e,n):r=kE(t.serverSyncTree_,e,n),gO(t.eventQueue_,e._path,r)}function uie(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jre)}function vI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),sr(n,...e)}function Bd(t,e,n,r){e&&yh(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function _O(t,e,n){return iI(t.serverSyncTree_,e,n)||Fe.EMPTY_NODE}function yI(t,e=t.transactionQueueTree_){if(e||wy(t,e),wh(e)){const n=xO(t,e);re(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&die(t,Zp(e),n)}else fO(e)&&gy(e,n=>{yI(t,n)})}function die(t,e,n){const r=n.map(c=>c.currentWriteId),i=_O(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];re(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Qr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{vI(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(sc(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();wy(t,hI(t.transactionQueueTree_,e)),yI(t,t.transactionQueueTree_),ea(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)yh(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ii("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}_y(t,e)}},o)}function _y(t,e){const n=wO(t,e),r=Zp(n),i=xO(t,n);return hie(t,i,r),r}function hie(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Qr(n,l.path);let u=!1,d;if(re(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(sc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Zre)u=!0,d="maxretry",i=i.concat(sc(t.serverSyncTree_,l.currentWriteId,!0));else{const f=_O(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){yy("transaction failed: Data returned ",p,l.path);let m=Nn(p);typeof p=="object"&&p!=null&&co(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,v=mI(t),w=dO(m,f,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=yO(t),o.splice(o.indexOf(E),1),i=i.concat(aO(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(sc(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(sc(t.serverSyncTree_,l.currentWriteId,!0))}ea(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}wy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)yh(r[a]);yI(t,t.transactionQueueTree_)}function wO(t,e){let n,r=t.transactionQueueTree_;for(n=et(e);n!==null&&wh(r)===void 0;)r=hI(r,n),e=Bt(e),n=et(e);return r}function xO(t,e){const n=[];return EO(t,e,n),n.sort((r,i)=>r.order-i.order),n}function EO(t,e,n){const r=wh(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gy(e,i=>{EO(t,i,n)})}function wy(t,e){const n=wh(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,hO(e,n.length>0?n:void 0)}gy(e,r=>{wy(t,r)})}function CO(t,e){const n=Zp(wO(t,e)),r=hI(t.transactionQueueTree_,e);return Fre(r,i=>{Hw(t,i)}),Hw(t,r),pO(r,i=>{Hw(t,i)}),n}function Hw(t,e){const n=wh(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(re(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(re(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?hO(e,void 0):n.length=s+1,ea(t.eventQueue_,Zp(e),i);for(let o=0;o<r.length;o++)yh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function pie(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ii(`Invalid query segment '${n}' in query '${t}'`)}return e}const oA=function(t,e){const n=mie(t),r=n.namespace;n.domain==="firebase.com"&&Zo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xte();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new AM(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Dt(n.pathString)}},mie=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=fie(t.substring(u,d)));const f=pie(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Yn(this.snapshot.exportVal())}}class IO{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new So;return oie(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Tf("OnDisconnect.remove",this._path);const e=new So;return iA(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Tf("OnDisconnect.set",this._path),zd("OnDisconnect.set",e,this._path,!1);const n=new So;return iA(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Tf("OnDisconnect.setWithPriority",this._path),zd("OnDisconnect.setWithPriority",e,this._path,!1),Gre("OnDisconnect.setWithPriority",n,!1);const r=new So;return aie(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Tf("OnDisconnect.update",this._path),Hre("OnDisconnect.update",e,this._path,!1);const n=new So;return lie(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return tt(this._path)?null:W5(this._path)}get ref(){return new ha(this._repo,this._path)}get _queryIdentifier(){const e=zR(this._queryParams),n=V5(e);return n==="{}"?"default":n}get _queryObject(){return zR(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof xh))return!1;const n=this._repo===e._repo,r=H5(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ine(this._path)}}function yie(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function _I(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yc){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==zc)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==yl)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===sn){if(e!=null&&!C1(e)||n!=null&&!C1(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(re(t.getIndex()instanceof Y5||t.getIndex()===GM,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function TO(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ha extends xh{constructor(e,n){super(e,n,new Q5,!1)}get parent(){const e=FM(this._path);return e===null?null:new ha(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class np{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Dt(e),r=b1(this.ref,e);return new np(this._node.getChild(n),r,sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new np(i,b1(this.ref,r),sn)))}hasChild(e){const n=new Dt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rp(t,e){return t=st(t),t._checkNotDeleted("ref"),e!==void 0?b1(t._root,e):t._root}function b1(t,e){return t=st(t),et(t._path)===null?Yre("child","path",e,!1):fI("child","path",e,!1),new ha(t._repo,In(t._path,e))}function _ie(t){return t=st(t),new vie(t._repo,t._path)}function wie(t,e){t=st(t),Tf("set",t._path),zd("set",e,t._path,!1);const n=new So;return iie(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class wI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new bO("value",this,new np(e.snapshotNode,new ha(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IO(this,e,n):null}matches(e){return e instanceof wI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class xI{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IO(this,e,n):null}createEvent(e,n){re(e.childName!=null,"Child events should have a childName.");const r=b1(new ha(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new bO(e.type,this,new np(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof xI?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function xie(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{sA(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new gie(n,s||void 0),a=e==="value"?new wI(o):new xI(e,o);return cie(t._repo,t,a),()=>sA(t._repo,t,a)}function xy(t,e,n,r){return xie(t,"value",e,n,r)}class Ey{}class Eie extends Ey{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){zd("endAt",this._value,e._path,!0);const n=kne(e._queryParams,this._value,this._key);if(TO(n),_I(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xh(e._repo,e._path,n,e._orderByCalled)}}class Cie extends Ey{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){zd("startAt",this._value,e._path,!0);const n=Sne(e._queryParams,this._value,this._key);if(TO(n),_I(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xh(e._repo,e._path,n,e._orderByCalled)}}class bie extends Ey{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){yie(e,"orderByChild");const n=new Dt(this._path);if(tt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Y5(n),i=Rne(e._queryParams,r);return _I(i),new xh(e._repo,e._path,i,!0)}}function SO(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fI("orderByChild","path",t,!1),new bie(t)}class Iie extends Ey{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(zd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Eie(this._value,this._key)._apply(new Cie(this._value,this._key)._apply(e))}}function kO(t,e){return qre("equalTo","key",e,!0),new Iie(t,e)}function RO(t,...e){let n=st(t);for(const r of e)n=r._apply(n);return n}gre(ha);Ere(ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie="FIREBASE_DATABASE_EMULATOR_HOST",AE={};let Sie=!1;function kie(t,e,n,r){t.repoInfo_=new AM(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Rie(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Zo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=oA(s,i),a=o.repoInfo,l,c;typeof process<"u"&&bR&&(c=bR[Tie]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=oA(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new ud(ud.OWNER):new Nte(t.name,t.options,e);Kre("Invalid Firebase Database URL",o),tt(o.path)||Zo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Pie(a,t,u,new Pte(t.name,n));return new Nie(d,t)}function Aie(t,e){const n=AE[e];(!n||n[t.key]!==t)&&Zo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uie(t),delete n[t.key]}function Pie(t,e,n,r){let i=AE[e.name];i||(i={},AE[e.name]=i);let s=i[t.toURLString()];return s&&Zo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new eie(t,Sie,n,r),i[t.toURLString()]=s,s}class Nie{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tie(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ha(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Aie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zo("Cannot call "+e+" on a deleted database.")}}function Die(t=pb(),e){const n=Sp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=s8("database");r&&Lie(n,...r)}return n}function Lie(t,e,n,r={}){t=st(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Zo("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ud(ud.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:l8(r.mockUserToken,t.app.options.projectId);s=new ud(o)}kie(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(t){gte(Ds),so(new ks("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Rie(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ri(IR,TR,t),ri(IR,TR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie={".sv":"timestamp"};function aA(){return Oie}Uo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Uo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Mie();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var AO;function fe(){return AO.apply(null,arguments)}function $ie(t){AO=t}function Ps(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function _c(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ct(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function EI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ct(t,e))return!1;return!0}function Br(t){return t===void 0}function ta(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function em(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function PO(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Ba(t,e){for(var n in e)Ct(e,n)&&(t[n]=e[n]);return Ct(e,"toString")&&(t.toString=e.toString),Ct(e,"valueOf")&&(t.valueOf=e.valueOf),t}function po(t,e,n,r){return e$(t,e,n,r,!0).utc()}function jie(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ye(t){return t._pf==null&&(t._pf=jie()),t._pf}var PE;Array.prototype.some?PE=Array.prototype.some:PE=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function CI(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Ye(t),n=PE.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Cy(t){var e=po(NaN);return t!=null?Ba(Ye(e),t):Ye(e).userInvalidated=!0,e}var lA=fe.momentProperties=[],Gw=!1;function bI(t,e){var n,r,i,s=lA.length;if(Br(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Br(e._i)||(t._i=e._i),Br(e._f)||(t._f=e._f),Br(e._l)||(t._l=e._l),Br(e._strict)||(t._strict=e._strict),Br(e._tzm)||(t._tzm=e._tzm),Br(e._isUTC)||(t._isUTC=e._isUTC),Br(e._offset)||(t._offset=e._offset),Br(e._pf)||(t._pf=Ye(e)),Br(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=lA[n],i=e[r],Br(i)||(t[r]=i);return t}function tm(t){bI(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Gw===!1&&(Gw=!0,fe.updateOffset(this),Gw=!1)}function Ns(t){return t instanceof tm||t!=null&&t._isAMomentObject!=null}function NO(t){fe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function is(t,e){var n=!0;return Ba(function(){if(fe.deprecationHandler!=null&&fe.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Ct(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}NO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var cA={};function DO(t,e){fe.deprecationHandler!=null&&fe.deprecationHandler(t,e),cA[t]||(NO(e),cA[t]=!0)}fe.suppressDeprecationWarnings=!1;fe.deprecationHandler=null;function mo(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Fie(t){var e,n;for(n in t)Ct(t,n)&&(e=t[n],mo(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function NE(t,e){var n=Ba({},t),r;for(r in e)Ct(e,r)&&(_c(t[r])&&_c(e[r])?(n[r]={},Ba(n[r],t[r]),Ba(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ct(t,r)&&!Ct(e,r)&&_c(t[r])&&(n[r]=Ba({},n[r]));return n}function II(t){t!=null&&this.set(t)}var DE;Object.keys?DE=Object.keys:DE=function(t){var e,n=[];for(e in t)Ct(t,e)&&n.push(e);return n};var Vie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Uie(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return mo(r)?r.call(e,n):r}function ao(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var TI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,i2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qw={},hd={};function Ne(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(hd[t]=i),e&&(hd[e[0]]=function(){return ao(i.apply(this,arguments),e[1],e[2])}),n&&(hd[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function zie(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Bie(t){var e=t.match(TI),n,r;for(n=0,r=e.length;n<r;n++)hd[e[n]]?e[n]=hd[e[n]]:e[n]=zie(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=mo(e[o])?e[o].call(i,t):e[o];return s}}function G2(t,e){return t.isValid()?(e=LO(e,t.localeData()),qw[e]=qw[e]||Bie(e),qw[e](t)):t.localeData().invalidDate()}function LO(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(i2.lastIndex=0;n>=0&&i2.test(t);)t=t.replace(i2,r),i2.lastIndex=0,n-=1;return t}var Wie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Hie(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(TI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Gie="Invalid date";function qie(){return this._invalidDate}var Yie="%d",Kie=/\d{1,2}/;function Qie(t){return this._ordinal.replace("%d",t)}var Xie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Jie(t,e,n,r){var i=this._relativeTime[n];return mo(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Zie(t,e){var n=this._relativeTime[t>0?"future":"past"];return mo(n)?n(e):n.replace(/%s/i,e)}var uA={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ss(t){return typeof t=="string"?uA[t]||uA[t.toLowerCase()]:void 0}function SI(t){var e={},n,r;for(r in t)Ct(t,r)&&(n=ss(r),n&&(e[n]=t[r]));return e}var ese={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function tse(t){var e=[],n;for(n in t)Ct(t,n)&&e.push({unit:n,priority:ese[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var MO=/\d/,Pi=/\d\d/,OO=/\d{3}/,kI=/\d{4}/,by=/[+-]?\d{6}/,en=/\d\d?/,$O=/\d\d\d\d?/,jO=/\d\d\d\d\d\d?/,Iy=/\d{1,3}/,RI=/\d{1,4}/,Ty=/[+-]?\d{1,6}/,Eh=/\d+/,Sy=/[+-]?\d+/,nse=/Z|[+-]\d\d:?\d\d/gi,ky=/Z|[+-]\d\d(?::?\d\d)?/gi,rse=/[+-]?\d+(\.\d{1,3})?/,nm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ch=/^[1-9]\d?/,AI=/^([1-9]\d|\d)/,I1;I1={};function ge(t,e,n){I1[t]=mo(e)?e:function(r,i){return r&&n?n:e}}function ise(t,e){return Ct(I1,t)?I1[t](e._strict,e._locale):new RegExp(sse(t))}function sse(t){return zo(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function zo(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Fi(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function mt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Fi(e)),n}var LE={};function Ut(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ta(e)&&(r=function(s,o){o[e]=mt(s)}),i=t.length,n=0;n<i;n++)LE[t[n]]=r}function rm(t,e){Ut(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function ose(t,e,n){e!=null&&Ct(LE,t)&&LE[t](e,n._a,n,t)}function Ry(t){return t%4===0&&t%100!==0||t%400===0}var Cr=0,$o=1,Ws=2,Vn=3,Es=4,jo=5,oc=6,ase=7,lse=8;Ne("Y",0,0,function(){var t=this.year();return t<=9999?ao(t,4):"+"+t});Ne(0,["YY",2],0,function(){return this.year()%100});Ne(0,["YYYY",4],0,"year");Ne(0,["YYYYY",5],0,"year");Ne(0,["YYYYYY",6,!0],0,"year");ge("Y",Sy);ge("YY",en,Pi);ge("YYYY",RI,kI);ge("YYYYY",Ty,by);ge("YYYYYY",Ty,by);Ut(["YYYYY","YYYYYY"],Cr);Ut("YYYY",function(t,e){e[Cr]=t.length===2?fe.parseTwoDigitYear(t):mt(t)});Ut("YY",function(t,e){e[Cr]=fe.parseTwoDigitYear(t)});Ut("Y",function(t,e){e[Cr]=parseInt(t,10)});function Jf(t){return Ry(t)?366:365}fe.parseTwoDigitYear=function(t){return mt(t)+(mt(t)>68?1900:2e3)};var FO=bh("FullYear",!0);function cse(){return Ry(this.year())}function bh(t,e){return function(n){return n!=null?(VO(this,t,n),fe.updateOffset(this,e),this):ip(this,t)}}function ip(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function VO(t,e,n){var r,i,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!Ry(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function use(t){return t=ss(t),mo(this[t])?this[t]():this}function dse(t,e){if(typeof t=="object"){t=SI(t);var n=tse(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=ss(t),mo(this[t]))return this[t](e);return this}function hse(t,e){return(t%e+e)%e}var Cn;Array.prototype.indexOf?Cn=Array.prototype.indexOf:Cn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function PI(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=hse(e,12);return t+=(e-n)/12,n===1?Ry(t)?29:28:31-n%7%2}Ne("M",["MM",2],"Mo",function(){return this.month()+1});Ne("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ne("MMMM",0,0,function(t){return this.localeData().months(this,t)});ge("M",en,Ch);ge("MM",en,Pi);ge("MMM",function(t,e){return e.monthsShortRegex(t)});ge("MMMM",function(t,e){return e.monthsRegex(t)});Ut(["M","MM"],function(t,e){e[$o]=mt(t)-1});Ut(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[$o]=i:Ye(n).invalidMonth=t});var fse="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),UO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pse=nm,mse=nm;function gse(t,e){return t?Ps(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||zO).test(e)?"format":"standalone"][t.month()]:Ps(this._months)?this._months:this._months.standalone}function vse(t,e){return t?Ps(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[zO.test(e)?"format":"standalone"][t.month()]:Ps(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function yse(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=po([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Cn.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Cn.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Cn.call(this._shortMonthsParse,o),i!==-1?i:(i=Cn.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Cn.call(this._longMonthsParse,o),i!==-1?i:(i=Cn.call(this._shortMonthsParse,o),i!==-1?i:null))}function _se(t,e,n){var r,i,s;if(this._monthsParseExact)return yse.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=po([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function BO(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=mt(e);else if(e=t.localeData().monthsParse(e),!ta(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,PI(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function WO(t){return t!=null?(BO(this,t),fe.updateOffset(this,!0),this):ip(this,"Month")}function wse(){return PI(this.year(),this.month())}function xse(t){return this._monthsParseExact?(Ct(this,"_monthsRegex")||HO.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ct(this,"_monthsShortRegex")||(this._monthsShortRegex=pse),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ese(t){return this._monthsParseExact?(Ct(this,"_monthsRegex")||HO.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ct(this,"_monthsRegex")||(this._monthsRegex=mse),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function HO(){function t(l,c){return c.length-l.length}var e=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=po([2e3,i]),o=zo(this.monthsShort(s,"")),a=zo(this.months(s,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Cse(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function sp(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function T1(t,e,n){var r=7+e-n,i=(7+sp(t,0,r).getUTCDay()-e)%7;return-i+r-1}function GO(t,e,n,r,i){var s=(7+n-r)%7,o=T1(t,r,i),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=t-1,c=Jf(l)+a):a>Jf(t)?(l=t+1,c=a-Jf(t)):(l=t,c=a),{year:l,dayOfYear:c}}function op(t,e,n){var r=T1(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Bo(o,e,n)):i>Bo(t.year(),e,n)?(s=i-Bo(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Bo(t,e,n){var r=T1(t,e,n),i=T1(t+1,e,n);return(Jf(t)-r+i)/7}Ne("w",["ww",2],"wo","week");Ne("W",["WW",2],"Wo","isoWeek");ge("w",en,Ch);ge("ww",en,Pi);ge("W",en,Ch);ge("WW",en,Pi);rm(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=mt(t)});function bse(t){return op(t,this._week.dow,this._week.doy).week}var Ise={dow:0,doy:6};function Tse(){return this._week.dow}function Sse(){return this._week.doy}function kse(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Rse(t){var e=op(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ne("d",0,"do","day");Ne("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ne("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ne("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ne("e",0,0,"weekday");Ne("E",0,0,"isoWeekday");ge("d",en);ge("e",en);ge("E",en);ge("dd",function(t,e){return e.weekdaysMinRegex(t)});ge("ddd",function(t,e){return e.weekdaysShortRegex(t)});ge("dddd",function(t,e){return e.weekdaysRegex(t)});rm(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Ye(n).invalidWeekday=t});rm(["d","e","E"],function(t,e,n,r){e[r]=mt(t)});function Ase(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Pse(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function NI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Nse="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dse="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lse=nm,Mse=nm,Ose=nm;function $se(t,e){var n=Ps(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?NI(n,this._week.dow):t?n[t.day()]:n}function jse(t){return t===!0?NI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Fse(t){return t===!0?NI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Vse(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=po([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Cn.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Cn.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Cn.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Cn.call(this._weekdaysParse,o),i!==-1||(i=Cn.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Cn.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Cn.call(this._shortWeekdaysParse,o),i!==-1||(i=Cn.call(this._weekdaysParse,o),i!==-1)?i:(i=Cn.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Cn.call(this._minWeekdaysParse,o),i!==-1||(i=Cn.call(this._weekdaysParse,o),i!==-1)?i:(i=Cn.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Use(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Vse.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=po([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function zse(t){if(!this.isValid())return t!=null?this:NaN;var e=ip(this,"Day");return t!=null?(t=Ase(t,this.localeData()),this.add(t-e,"d")):e}function Bse(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Wse(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Pse(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Hse(t){return this._weekdaysParseExact?(Ct(this,"_weekdaysRegex")||DI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ct(this,"_weekdaysRegex")||(this._weekdaysRegex=Lse),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gse(t){return this._weekdaysParseExact?(Ct(this,"_weekdaysRegex")||DI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ct(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mse),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qse(t){return this._weekdaysParseExact?(Ct(this,"_weekdaysRegex")||DI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ct(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ose),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function DI(){function t(u,d){return d.length-u.length}var e=[],n=[],r=[],i=[],s,o,a,l,c;for(s=0;s<7;s++)o=po([2e3,1]).day(s),a=zo(this.weekdaysMin(o,"")),l=zo(this.weekdaysShort(o,"")),c=zo(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function LI(){return this.hours()%12||12}function Yse(){return this.hours()||24}Ne("H",["HH",2],0,"hour");Ne("h",["hh",2],0,LI);Ne("k",["kk",2],0,Yse);Ne("hmm",0,0,function(){return""+LI.apply(this)+ao(this.minutes(),2)});Ne("hmmss",0,0,function(){return""+LI.apply(this)+ao(this.minutes(),2)+ao(this.seconds(),2)});Ne("Hmm",0,0,function(){return""+this.hours()+ao(this.minutes(),2)});Ne("Hmmss",0,0,function(){return""+this.hours()+ao(this.minutes(),2)+ao(this.seconds(),2)});function YO(t,e){Ne(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}YO("a",!0);YO("A",!1);function KO(t,e){return e._meridiemParse}ge("a",KO);ge("A",KO);ge("H",en,AI);ge("h",en,Ch);ge("k",en,Ch);ge("HH",en,Pi);ge("hh",en,Pi);ge("kk",en,Pi);ge("hmm",$O);ge("hmmss",jO);ge("Hmm",$O);ge("Hmmss",jO);Ut(["H","HH"],Vn);Ut(["k","kk"],function(t,e,n){var r=mt(t);e[Vn]=r===24?0:r});Ut(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Ut(["h","hh"],function(t,e,n){e[Vn]=mt(t),Ye(n).bigHour=!0});Ut("hmm",function(t,e,n){var r=t.length-2;e[Vn]=mt(t.substr(0,r)),e[Es]=mt(t.substr(r)),Ye(n).bigHour=!0});Ut("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Vn]=mt(t.substr(0,r)),e[Es]=mt(t.substr(r,2)),e[jo]=mt(t.substr(i)),Ye(n).bigHour=!0});Ut("Hmm",function(t,e,n){var r=t.length-2;e[Vn]=mt(t.substr(0,r)),e[Es]=mt(t.substr(r))});Ut("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Vn]=mt(t.substr(0,r)),e[Es]=mt(t.substr(r,2)),e[jo]=mt(t.substr(i))});function Kse(t){return(t+"").toLowerCase().charAt(0)==="p"}var Qse=/[ap]\.?m?\.?/i,Xse=bh("Hours",!0);function Jse(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var QO={calendar:Vie,longDateFormat:Wie,invalidDate:Gie,ordinal:Yie,dayOfMonthOrdinalParse:Kie,relativeTime:Xie,months:fse,monthsShort:UO,week:Ise,weekdays:Nse,weekdaysMin:Dse,weekdaysShort:qO,meridiemParse:Qse},nn={},nf={},ap;function Zse(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function dA(t){return t&&t.toLowerCase().replace("_","-")}function eoe(t){for(var e=0,n,r,i,s;e<t.length;){for(s=dA(t[e]).split("-"),n=s.length,r=dA(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Ay(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Zse(s,r)>=n-1)break;n--}e++}return ap}function toe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ay(t){var e=null,n;if(nn[t]===void 0&&typeof ug<"u"&&ug&&ug.exports&&toe(t))try{e=ap._abbr,n=require,n("./locale/"+t),al(e)}catch{nn[t]=null}return nn[t]}function al(t,e){var n;return t&&(Br(e)?n=fa(t):n=MI(t,e),n?ap=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ap._abbr}function MI(t,e){if(e!==null){var n,r=QO;if(e.abbr=t,nn[t]!=null)DO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=nn[t]._config;else if(e.parentLocale!=null)if(nn[e.parentLocale]!=null)r=nn[e.parentLocale]._config;else if(n=Ay(e.parentLocale),n!=null)r=n._config;else return nf[e.parentLocale]||(nf[e.parentLocale]=[]),nf[e.parentLocale].push({name:t,config:e}),null;return nn[t]=new II(NE(r,e)),nf[t]&&nf[t].forEach(function(i){MI(i.name,i.config)}),al(t),nn[t]}else return delete nn[t],null}function noe(t,e){if(e!=null){var n,r,i=QO;nn[t]!=null&&nn[t].parentLocale!=null?nn[t].set(NE(nn[t]._config,e)):(r=Ay(t),r!=null&&(i=r._config),e=NE(i,e),r==null&&(e.abbr=t),n=new II(e),n.parentLocale=nn[t],nn[t]=n),al(t)}else nn[t]!=null&&(nn[t].parentLocale!=null?(nn[t]=nn[t].parentLocale,t===al()&&al(t)):nn[t]!=null&&delete nn[t]);return nn[t]}function fa(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ap;if(!Ps(t)){if(e=Ay(t),e)return e;t=[t]}return eoe(t)}function roe(){return DE(nn)}function OI(t){var e,n=t._a;return n&&Ye(t).overflow===-2&&(e=n[$o]<0||n[$o]>11?$o:n[Ws]<1||n[Ws]>PI(n[Cr],n[$o])?Ws:n[Vn]<0||n[Vn]>24||n[Vn]===24&&(n[Es]!==0||n[jo]!==0||n[oc]!==0)?Vn:n[Es]<0||n[Es]>59?Es:n[jo]<0||n[jo]>59?jo:n[oc]<0||n[oc]>999?oc:-1,Ye(t)._overflowDayOfYear&&(e<Cr||e>Ws)&&(e=Ws),Ye(t)._overflowWeeks&&e===-1&&(e=ase),Ye(t)._overflowWeekday&&e===-1&&(e=lse),Ye(t).overflow=e),t}var ioe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,soe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ooe=/Z|[+-]\d\d(?::?\d\d)?/,s2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aoe=/^\/?Date\((-?\d+)/i,loe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,coe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function XO(t){var e,n,r=t._i,i=ioe.exec(r)||soe.exec(r),s,o,a,l,c=s2.length,u=Yw.length;if(i){for(Ye(t).iso=!0,e=0,n=c;e<n;e++)if(s2[e][1].exec(i[1])){o=s2[e][0],s=s2[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=u;e<n;e++)if(Yw[e][1].exec(i[3])){a=(i[2]||" ")+Yw[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(ooe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),jI(t)}else t._isValid=!1}function uoe(t,e,n,r,i,s){var o=[doe(t),UO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function doe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function hoe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function foe(t,e,n){if(t){var r=qO.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Ye(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function poe(t,e,n){if(t)return coe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function JO(t){var e=loe.exec(hoe(t._i)),n;if(e){if(n=uoe(e[4],e[3],e[2],e[5],e[6],e[7]),!foe(e[1],n,t))return;t._a=n,t._tzm=poe(e[8],e[9],e[10]),t._d=sp.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ye(t).rfc2822=!0}else t._isValid=!1}function moe(t){var e=aoe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(XO(t),t._isValid===!1)delete t._isValid;else return;if(JO(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:fe.createFromInputFallback(t)}fe.createFromInputFallback=is("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Nu(t,e,n){return t??e??n}function goe(t){var e=new Date(fe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function $I(t){var e,n,r=[],i,s,o;if(!t._d){for(i=goe(t),t._w&&t._a[Ws]==null&&t._a[$o]==null&&voe(t),t._dayOfYear!=null&&(o=Nu(t._a[Cr],i[Cr]),(t._dayOfYear>Jf(o)||t._dayOfYear===0)&&(Ye(t)._overflowDayOfYear=!0),n=sp(o,0,t._dayOfYear),t._a[$o]=n.getUTCMonth(),t._a[Ws]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Vn]===24&&t._a[Es]===0&&t._a[jo]===0&&t._a[oc]===0&&(t._nextDay=!0,t._a[Vn]=0),t._d=(t._useUTC?sp:Cse).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Ye(t).weekdayMismatch=!0)}}function voe(t){var e,n,r,i,s,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=Nu(e.GG,t._a[Cr],op(Zt(),1,4).year),r=Nu(e.W,1),i=Nu(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=op(Zt(),s,o),n=Nu(e.gg,t._a[Cr],c.year),r=Nu(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Bo(n,s,o)?Ye(t)._overflowWeeks=!0:l!=null?Ye(t)._overflowWeekday=!0:(a=GO(n,r,i,s,o),t._a[Cr]=a.year,t._dayOfYear=a.dayOfYear)}fe.ISO_8601=function(){};fe.RFC_2822=function(){};function jI(t){if(t._f===fe.ISO_8601){XO(t);return}if(t._f===fe.RFC_2822){JO(t);return}t._a=[],Ye(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,c,u;for(i=LO(t._f,t._locale).match(TI)||[],u=i.length,n=0;n<u;n++)s=i[n],r=(e.match(ise(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Ye(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),hd[s]?(r?Ye(t).empty=!1:Ye(t).unusedTokens.push(s),ose(s,r,t)):t._strict&&!r&&Ye(t).unusedTokens.push(s);Ye(t).charsLeftOver=a-l,e.length>0&&Ye(t).unusedInput.push(e),t._a[Vn]<=12&&Ye(t).bigHour===!0&&t._a[Vn]>0&&(Ye(t).bigHour=void 0),Ye(t).parsedDateParts=t._a.slice(0),Ye(t).meridiem=t._meridiem,t._a[Vn]=yoe(t._locale,t._a[Vn],t._meridiem),c=Ye(t).era,c!==null&&(t._a[Cr]=t._locale.erasConvertYear(c,t._a[Cr])),$I(t),OI(t)}function yoe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function _oe(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){Ye(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=bI({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],jI(e),CI(e)&&(o=!0),s+=Ye(e).charsLeftOver,s+=Ye(e).unusedTokens.length*10,Ye(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));Ba(t,n||e)}function woe(t){if(!t._d){var e=SI(t._i),n=e.day===void 0?e.date:e.day;t._a=PO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),$I(t)}}function xoe(t){var e=new tm(OI(ZO(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ZO(t){var e=t._i,n=t._f;return t._locale=t._locale||fa(t._l),e===null||n===void 0&&e===""?Cy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ns(e)?new tm(OI(e)):(em(e)?t._d=e:Ps(n)?_oe(t):n?jI(t):Eoe(t),CI(t)||(t._d=null),t))}function Eoe(t){var e=t._i;Br(e)?t._d=new Date(fe.now()):em(e)?t._d=new Date(e.valueOf()):typeof e=="string"?moe(t):Ps(e)?(t._a=PO(e.slice(0),function(n){return parseInt(n,10)}),$I(t)):_c(e)?woe(t):ta(e)?t._d=new Date(e):fe.createFromInputFallback(t)}function e$(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(_c(t)&&EI(t)||Ps(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,xoe(s)}function Zt(t,e,n,r){return e$(t,e,n,r,!1)}var Coe=is("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Zt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Cy()}),boe=is("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Zt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Cy()});function t$(t,e){var n,r;if(e.length===1&&Ps(e[0])&&(e=e[0]),!e.length)return Zt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Ioe(){var t=[].slice.call(arguments,0);return t$("isBefore",t)}function Toe(){var t=[].slice.call(arguments,0);return t$("isAfter",t)}var Soe=function(){return Date.now?Date.now():+new Date},rf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function koe(t){var e,n=!1,r,i=rf.length;for(e in t)if(Ct(t,e)&&!(Cn.call(rf,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[rf[r]]){if(n)return!1;parseFloat(t[rf[r]])!==mt(t[rf[r]])&&(n=!0)}return!0}function Roe(){return this._isValid}function Aoe(){return Ls(NaN)}function Py(t){var e=SI(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=koe(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=fa(),this._bubble()}function q2(t){return t instanceof Py}function ME(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Poe(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&mt(t[o])!==mt(e[o]))&&s++;return s+i}function n$(t,e){Ne(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ao(~~(n/60),2)+e+ao(~~n%60,2)})}n$("Z",":");n$("ZZ","");ge("Z",ky);ge("ZZ",ky);Ut(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=FI(ky,t)});var Noe=/([\+\-]|\d\d)/gi;function FI(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Noe)||["-",0,0],s=+(i[1]*60)+mt(i[2]),s===0?0:i[0]==="+"?s:-s)}function VI(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ns(t)||em(t)?t.valueOf():Zt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),fe.updateOffset(n,!1),n):Zt(t).local()}function OE(t){return-Math.round(t._d.getTimezoneOffset())}fe.updateOffset=function(){};function Doe(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=FI(ky,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=OE(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?s$(this,Ls(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,fe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:OE(this)}function Loe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Moe(t){return this.utcOffset(0,t)}function Ooe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(OE(this),"m")),this}function $oe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=FI(nse,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function joe(t){return this.isValid()?(t=t?Zt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Foe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Voe(){if(!Br(this._isDSTShifted))return this._isDSTShifted;var t={},e;return bI(t,this),t=ZO(t),t._a?(e=t._isUTC?po(t._a):Zt(t._a),this._isDSTShifted=this.isValid()&&Poe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Uoe(){return this.isValid()?!this._isUTC:!1}function zoe(){return this.isValid()?this._isUTC:!1}function r$(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Boe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Woe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ls(t,e){var n=t,r=null,i,s,o;return q2(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ta(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Boe.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:mt(r[Ws])*i,h:mt(r[Vn])*i,m:mt(r[Es])*i,s:mt(r[jo])*i,ms:mt(ME(r[oc]*1e3))*i}):(r=Woe.exec(t))?(i=r[1]==="-"?-1:1,n={y:$l(r[2],i),M:$l(r[3],i),w:$l(r[4],i),d:$l(r[5],i),h:$l(r[6],i),m:$l(r[7],i),s:$l(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Hoe(Zt(n.from),Zt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Py(n),q2(t)&&Ct(t,"_locale")&&(s._locale=t._locale),q2(t)&&Ct(t,"_isValid")&&(s._isValid=t._isValid),s}Ls.fn=Py.prototype;Ls.invalid=Aoe;function $l(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function hA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Hoe(t,e){var n;return t.isValid()&&e.isValid()?(e=VI(e,t),t.isBefore(e)?n=hA(t,e):(n=hA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function i$(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(DO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Ls(n,r),s$(this,i,t),this}}function s$(t,e,n,r){var i=e._milliseconds,s=ME(e._days),o=ME(e._months);t.isValid()&&(r=r??!0,o&&BO(t,ip(t,"Month")+o*n),s&&VO(t,"Date",ip(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&fe.updateOffset(t,s||o))}var Goe=i$(1,"add"),qoe=i$(-1,"subtract");function o$(t){return typeof t=="string"||t instanceof String}function Yoe(t){return Ns(t)||em(t)||o$(t)||ta(t)||Qoe(t)||Koe(t)||t===null||t===void 0}function Koe(t){var e=_c(t)&&!EI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Ct(t,s);return e&&n}function Qoe(t){var e=Ps(t),n=!1;return e&&(n=t.filter(function(r){return!ta(r)&&o$(t)}).length===0),e&&n}function Xoe(t){var e=_c(t)&&!EI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Ct(t,s);return e&&n}function Joe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Zoe(t,e){arguments.length===1&&(arguments[0]?Yoe(arguments[0])?(t=arguments[0],e=void 0):Xoe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Zt(),r=VI(n,this).startOf("day"),i=fe.calendarFormat(this,r)||"sameElse",s=e&&(mo(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Zt(n)))}function eae(){return new tm(this)}function tae(t,e){var n=Ns(t)?t:Zt(t);return this.isValid()&&n.isValid()?(e=ss(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function nae(t,e){var n=Ns(t)?t:Zt(t);return this.isValid()&&n.isValid()?(e=ss(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function rae(t,e,n,r){var i=Ns(t)?t:Zt(t),s=Ns(e)?e:Zt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function iae(t,e){var n=Ns(t)?t:Zt(t),r;return this.isValid()&&n.isValid()?(e=ss(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function sae(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function oae(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function aae(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=VI(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=ss(e),e){case"year":s=Y2(this,r)/12;break;case"month":s=Y2(this,r);break;case"quarter":s=Y2(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Fi(s)}function Y2(t,e){if(t.date()<e.date())return-Y2(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}fe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";fe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function lae(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cae(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?G2(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):mo(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",G2(n,"Z")):G2(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function uae(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function dae(t){t||(t=this.isUtc()?fe.defaultFormatUtc:fe.defaultFormat);var e=G2(this,t);return this.localeData().postformat(e)}function hae(t,e){return this.isValid()&&(Ns(t)&&t.isValid()||Zt(t).isValid())?Ls({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fae(t){return this.from(Zt(),t)}function pae(t,e){return this.isValid()&&(Ns(t)&&t.isValid()||Zt(t).isValid())?Ls({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mae(t){return this.to(Zt(),t)}function a$(t){var e;return t===void 0?this._locale._abbr:(e=fa(t),e!=null&&(this._locale=e),this)}var l$=is("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function c$(){return this._locale}var S1=1e3,fd=60*S1,k1=60*fd,u$=(365*400+97)*24*k1;function pd(t,e){return(t%e+e)%e}function d$(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-u$:new Date(t,e,n).valueOf()}function h$(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-u$:Date.UTC(t,e,n)}function gae(t){var e,n;if(t=ss(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?h$:d$,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=pd(e+(this._isUTC?0:this.utcOffset()*fd),k1);break;case"minute":e=this._d.valueOf(),e-=pd(e,fd);break;case"second":e=this._d.valueOf(),e-=pd(e,S1);break}return this._d.setTime(e),fe.updateOffset(this,!0),this}function vae(t){var e,n;if(t=ss(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?h$:d$,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=k1-pd(e+(this._isUTC?0:this.utcOffset()*fd),k1)-1;break;case"minute":e=this._d.valueOf(),e+=fd-pd(e,fd)-1;break;case"second":e=this._d.valueOf(),e+=S1-pd(e,S1)-1;break}return this._d.setTime(e),fe.updateOffset(this,!0),this}function yae(){return this._d.valueOf()-(this._offset||0)*6e4}function _ae(){return Math.floor(this.valueOf()/1e3)}function wae(){return new Date(this.valueOf())}function xae(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Eae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Cae(){return this.isValid()?this.toISOString():null}function bae(){return CI(this)}function Iae(){return Ba({},Ye(this))}function Tae(){return Ye(this).overflow}function Sae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ne("N",0,0,"eraAbbr");Ne("NN",0,0,"eraAbbr");Ne("NNN",0,0,"eraAbbr");Ne("NNNN",0,0,"eraName");Ne("NNNNN",0,0,"eraNarrow");Ne("y",["y",1],"yo","eraYear");Ne("y",["yy",2],0,"eraYear");Ne("y",["yyy",3],0,"eraYear");Ne("y",["yyyy",4],0,"eraYear");ge("N",UI);ge("NN",UI);ge("NNN",UI);ge("NNNN",jae);ge("NNNNN",Fae);Ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Ye(n).era=i:Ye(n).invalidEra=t});ge("y",Eh);ge("yy",Eh);ge("yyy",Eh);ge("yyyy",Eh);ge("yo",Vae);Ut(["y","yy","yyy","yyyy"],Cr);Ut(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Cr]=n._locale.eraYearOrdinalParse(t,i):e[Cr]=parseInt(t,10)});function kae(t,e){var n,r,i,s=this._eras||fa("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=fe(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=fe(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function Rae(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function Aae(t,e){var n=t.since<=t.until?1:-1;return e===void 0?fe(t.since).year():fe(t.since).year()+(e-t.offset)*n}function Pae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Nae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Dae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Lae(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-fe(i[t].since).year())*n+i[t].offset;return this.year()}function Mae(t){return Ct(this,"_erasNameRegex")||zI.call(this),t?this._erasNameRegex:this._erasRegex}function Oae(t){return Ct(this,"_erasAbbrRegex")||zI.call(this),t?this._erasAbbrRegex:this._erasRegex}function $ae(t){return Ct(this,"_erasNarrowRegex")||zI.call(this),t?this._erasNarrowRegex:this._erasRegex}function UI(t,e){return e.erasAbbrRegex(t)}function jae(t,e){return e.erasNameRegex(t)}function Fae(t,e){return e.erasNarrowRegex(t)}function Vae(t,e){return e._eraYearOrdinalRegex||Eh}function zI(){var t=[],e=[],n=[],r=[],i,s,o,a,l,c=this.eras();for(i=0,s=c.length;i<s;++i)o=zo(c[i].name),a=zo(c[i].abbr),l=zo(c[i].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Ne(0,["gg",2],0,function(){return this.weekYear()%100});Ne(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ny(t,e){Ne(0,[t,t.length],0,e)}Ny("gggg","weekYear");Ny("ggggg","weekYear");Ny("GGGG","isoWeekYear");Ny("GGGGG","isoWeekYear");ge("G",Sy);ge("g",Sy);ge("GG",en,Pi);ge("gg",en,Pi);ge("GGGG",RI,kI);ge("gggg",RI,kI);ge("GGGGG",Ty,by);ge("ggggg",Ty,by);rm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=mt(t)});rm(["gg","GG"],function(t,e,n,r){e[r]=fe.parseTwoDigitYear(t)});function Uae(t){return f$.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zae(t){return f$.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Bae(){return Bo(this.year(),1,4)}function Wae(){return Bo(this.isoWeekYear(),1,4)}function Hae(){var t=this.localeData()._week;return Bo(this.year(),t.dow,t.doy)}function Gae(){var t=this.localeData()._week;return Bo(this.weekYear(),t.dow,t.doy)}function f$(t,e,n,r,i){var s;return t==null?op(this,r,i).year:(s=Bo(t,r,i),e>s&&(e=s),qae.call(this,t,e,n,r,i))}function qae(t,e,n,r,i){var s=GO(t,e,n,r,i),o=sp(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ne("Q",0,"Qo","quarter");ge("Q",MO);Ut("Q",function(t,e){e[$o]=(mt(t)-1)*3});function Yae(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ne("D",["DD",2],"Do","date");ge("D",en,Ch);ge("DD",en,Pi);ge("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ut(["D","DD"],Ws);Ut("Do",function(t,e){e[Ws]=mt(t.match(en)[0])});var p$=bh("Date",!0);Ne("DDD",["DDDD",3],"DDDo","dayOfYear");ge("DDD",Iy);ge("DDDD",OO);Ut(["DDD","DDDD"],function(t,e,n){n._dayOfYear=mt(t)});function Kae(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ne("m",["mm",2],0,"minute");ge("m",en,AI);ge("mm",en,Pi);Ut(["m","mm"],Es);var Qae=bh("Minutes",!1);Ne("s",["ss",2],0,"second");ge("s",en,AI);ge("ss",en,Pi);Ut(["s","ss"],jo);var Xae=bh("Seconds",!1);Ne("S",0,0,function(){return~~(this.millisecond()/100)});Ne(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ne(0,["SSS",3],0,"millisecond");Ne(0,["SSSS",4],0,function(){return this.millisecond()*10});Ne(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ne(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ne(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ne(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ne(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ge("S",Iy,MO);ge("SS",Iy,Pi);ge("SSS",Iy,OO);var Wa,m$;for(Wa="SSSS";Wa.length<=9;Wa+="S")ge(Wa,Eh);function Jae(t,e){e[oc]=mt(("0."+t)*1e3)}for(Wa="S";Wa.length<=9;Wa+="S")Ut(Wa,Jae);m$=bh("Milliseconds",!1);Ne("z",0,0,"zoneAbbr");Ne("zz",0,0,"zoneName");function Zae(){return this._isUTC?"UTC":""}function ele(){return this._isUTC?"Coordinated Universal Time":""}var J=tm.prototype;J.add=Goe;J.calendar=Zoe;J.clone=eae;J.diff=aae;J.endOf=vae;J.format=dae;J.from=hae;J.fromNow=fae;J.to=pae;J.toNow=mae;J.get=use;J.invalidAt=Tae;J.isAfter=tae;J.isBefore=nae;J.isBetween=rae;J.isSame=iae;J.isSameOrAfter=sae;J.isSameOrBefore=oae;J.isValid=bae;J.lang=l$;J.locale=a$;J.localeData=c$;J.max=boe;J.min=Coe;J.parsingFlags=Iae;J.set=dse;J.startOf=gae;J.subtract=qoe;J.toArray=xae;J.toObject=Eae;J.toDate=wae;J.toISOString=cae;J.inspect=uae;typeof Symbol<"u"&&Symbol.for!=null&&(J[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});J.toJSON=Cae;J.toString=lae;J.unix=_ae;J.valueOf=yae;J.creationData=Sae;J.eraName=Pae;J.eraNarrow=Nae;J.eraAbbr=Dae;J.eraYear=Lae;J.year=FO;J.isLeapYear=cse;J.weekYear=Uae;J.isoWeekYear=zae;J.quarter=J.quarters=Yae;J.month=WO;J.daysInMonth=wse;J.week=J.weeks=kse;J.isoWeek=J.isoWeeks=Rse;J.weeksInYear=Hae;J.weeksInWeekYear=Gae;J.isoWeeksInYear=Bae;J.isoWeeksInISOWeekYear=Wae;J.date=p$;J.day=J.days=zse;J.weekday=Bse;J.isoWeekday=Wse;J.dayOfYear=Kae;J.hour=J.hours=Xse;J.minute=J.minutes=Qae;J.second=J.seconds=Xae;J.millisecond=J.milliseconds=m$;J.utcOffset=Doe;J.utc=Moe;J.local=Ooe;J.parseZone=$oe;J.hasAlignedHourOffset=joe;J.isDST=Foe;J.isLocal=Uoe;J.isUtcOffset=zoe;J.isUtc=r$;J.isUTC=r$;J.zoneAbbr=Zae;J.zoneName=ele;J.dates=is("dates accessor is deprecated. Use date instead.",p$);J.months=is("months accessor is deprecated. Use month instead",WO);J.years=is("years accessor is deprecated. Use year instead",FO);J.zone=is("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Loe);J.isDSTShifted=is("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Voe);function tle(t){return Zt(t*1e3)}function nle(){return Zt.apply(null,arguments).parseZone()}function g$(t){return t}var It=II.prototype;It.calendar=Uie;It.longDateFormat=Hie;It.invalidDate=qie;It.ordinal=Qie;It.preparse=g$;It.postformat=g$;It.relativeTime=Jie;It.pastFuture=Zie;It.set=Fie;It.eras=kae;It.erasParse=Rae;It.erasConvertYear=Aae;It.erasAbbrRegex=Oae;It.erasNameRegex=Mae;It.erasNarrowRegex=$ae;It.months=gse;It.monthsShort=vse;It.monthsParse=_se;It.monthsRegex=Ese;It.monthsShortRegex=xse;It.week=bse;It.firstDayOfYear=Sse;It.firstDayOfWeek=Tse;It.weekdays=$se;It.weekdaysMin=Fse;It.weekdaysShort=jse;It.weekdaysParse=Use;It.weekdaysRegex=Hse;It.weekdaysShortRegex=Gse;It.weekdaysMinRegex=qse;It.isPM=Kse;It.meridiem=Jse;function R1(t,e,n,r){var i=fa(),s=po().set(r,e);return i[n](s,t)}function v$(t,e,n){if(ta(t)&&(e=t,t=void 0),t=t||"",e!=null)return R1(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=R1(t,r,n,"month");return i}function BI(t,e,n,r){typeof t=="boolean"?(ta(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ta(e)&&(n=e,e=void 0),e=e||"");var i=fa(),s=t?i._week.dow:0,o,a=[];if(n!=null)return R1(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=R1(e,(o+s)%7,r,"day");return a}function rle(t,e){return v$(t,e,"months")}function ile(t,e){return v$(t,e,"monthsShort")}function sle(t,e,n){return BI(t,e,n,"weekdays")}function ole(t,e,n){return BI(t,e,n,"weekdaysShort")}function ale(t,e,n){return BI(t,e,n,"weekdaysMin")}al("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=mt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});fe.lang=is("moment.lang is deprecated. Use moment.locale instead.",al);fe.langData=is("moment.langData is deprecated. Use moment.localeData instead.",fa);var wo=Math.abs;function lle(){var t=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),t.milliseconds=wo(t.milliseconds),t.seconds=wo(t.seconds),t.minutes=wo(t.minutes),t.hours=wo(t.hours),t.months=wo(t.months),t.years=wo(t.years),this}function y$(t,e,n,r){var i=Ls(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function cle(t,e){return y$(this,t,e,1)}function ule(t,e){return y$(this,t,e,-1)}function fA(t){return t<0?Math.floor(t):Math.ceil(t)}function dle(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=fA($E(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Fi(t/1e3),r.seconds=i%60,s=Fi(i/60),r.minutes=s%60,o=Fi(s/60),r.hours=o%24,e+=Fi(o/24),l=Fi(_$(e)),n+=l,e-=fA($E(l)),a=Fi(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function _$(t){return t*4800/146097}function $E(t){return t*146097/4800}function hle(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=ss(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+_$(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round($E(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function pa(t){return function(){return this.as(t)}}var w$=pa("ms"),fle=pa("s"),ple=pa("m"),mle=pa("h"),gle=pa("d"),vle=pa("w"),yle=pa("M"),_le=pa("Q"),wle=pa("y"),xle=w$;function Ele(){return Ls(this)}function Cle(t){return t=ss(t),this.isValid()?this[t+"s"]():NaN}function ou(t){return function(){return this.isValid()?this._data[t]:NaN}}var ble=ou("milliseconds"),Ile=ou("seconds"),Tle=ou("minutes"),Sle=ou("hours"),kle=ou("days"),Rle=ou("months"),Ale=ou("years");function Ple(){return Fi(this.days()/7)}var bo=Math.round,Yu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Nle(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Dle(t,e,n,r){var i=Ls(t).abs(),s=bo(i.as("s")),o=bo(i.as("m")),a=bo(i.as("h")),l=bo(i.as("d")),c=bo(i.as("M")),u=bo(i.as("w")),d=bo(i.as("y")),f=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],f[2]=e,f[3]=+t>0,f[4]=r,Nle.apply(null,f)}function Lle(t){return t===void 0?bo:typeof t=="function"?(bo=t,!0):!1}function Mle(t,e){return Yu[t]===void 0?!1:e===void 0?Yu[t]:(Yu[t]=e,t==="s"&&(Yu.ss=e-1),!0)}function Ole(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Yu,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Yu,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=Dle(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Kw=Math.abs;function wu(t){return(t>0)-(t<0)||+t}function Dy(){if(!this.isValid())return this.localeData().invalidDate();var t=Kw(this._milliseconds)/1e3,e=Kw(this._days),n=Kw(this._months),r,i,s,o,a=this.asSeconds(),l,c,u,d;return a?(r=Fi(t/60),i=Fi(r/60),t%=60,r%=60,s=Fi(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=wu(this._months)!==wu(a)?"-":"",u=wu(this._days)!==wu(a)?"-":"",d=wu(this._milliseconds)!==wu(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+o+"S":"")):"P0D"}var wt=Py.prototype;wt.isValid=Roe;wt.abs=lle;wt.add=cle;wt.subtract=ule;wt.as=hle;wt.asMilliseconds=w$;wt.asSeconds=fle;wt.asMinutes=ple;wt.asHours=mle;wt.asDays=gle;wt.asWeeks=vle;wt.asMonths=yle;wt.asQuarters=_le;wt.asYears=wle;wt.valueOf=xle;wt._bubble=dle;wt.clone=Ele;wt.get=Cle;wt.milliseconds=ble;wt.seconds=Ile;wt.minutes=Tle;wt.hours=Sle;wt.days=kle;wt.weeks=Ple;wt.months=Rle;wt.years=Ale;wt.humanize=Ole;wt.toISOString=Dy;wt.toString=Dy;wt.toJSON=Dy;wt.locale=a$;wt.localeData=c$;wt.toIsoString=is("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dy);wt.lang=l$;Ne("X",0,0,"unix");Ne("x",0,0,"valueOf");ge("x",Sy);ge("X",rse);Ut("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Ut("x",function(t,e,n){n._d=new Date(mt(t))});//! moment.js
fe.version="2.30.1";$ie(Zt);fe.fn=J;fe.min=Ioe;fe.max=Toe;fe.now=Soe;fe.utc=po;fe.unix=tle;fe.months=rle;fe.isDate=em;fe.locale=al;fe.invalid=Cy;fe.duration=Ls;fe.isMoment=Ns;fe.weekdays=sle;fe.parseZone=nle;fe.localeData=fa;fe.isDuration=q2;fe.monthsShort=ile;fe.weekdaysMin=ale;fe.defineLocale=MI;fe.updateLocale=noe;fe.locales=roe;fe.weekdaysShort=ole;fe.normalizeUnits=ss;fe.relativeTimeRounding=Lle;fe.relativeTimeThreshold=Mle;fe.calendarFormat=Joe;fe.prototype=J;fe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const $le={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Ly=y8($le),Gr=bK(Ly),jle=new ko,Pe=LZ(Ly,{cache:tee()}),ac=hte(Ly),lp=Die(Ly);MZ(Pe).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const Un=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},au=async(t,e,n,r,i,s=!1,o,a=200)=>{const l=gi.get("userId");y.useEffect(()=>{if(!l)return;const c=Vr(t,...e),u=fo(c,d=>{if(r(!0),d.empty)i(!0),n([]);else{const f=d.docs.map(p=>({...p.data(),[s?"uid":"id"]:p.id}));n(f),i(!1)}Un(r,a)},d=>{console.log("Error fetching documents: ",d.message),Un(r,a),o("Error fetching documents: "+d.message+" Come here again at 1:30 pm.")});return()=>u()},[])},Fle=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(i){if(r++,r>=e)throw console.log("Failed to save user data",i.message),i;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(s=>setTimeout(s,n*r))}},Qw=async(t,e,n,r="",i)=>{try{const s=Re(Pe,"users",i),o=await ml(s),a={name:t,email:e,password:n,image:r,isAdmin:!1,createdAt:Dr()};o.exists()||await Fle(()=>Fd(Re(Pe,"users",i),a))}catch(s){console.log(s.message)}};function WI(t,e,n){y.useEffect(()=>{const r=rp(lp,`/status/${t}`);xy(r,i=>{if(i.exists()){const{status:s,lastChanged:o}=i.val();e(s),n(fe(o).fromNow())}})},[])}function x$(t,e){localStorage.setItem(t,JSON.stringify(e))}function jE(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function Vle(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let pA;function Ule(t){t(!0),clearTimeout(pA),pA=setTimeout(()=>{t(!1)},[4e3])}function Yi(t){scrollTo({top:0,...{behavior:t}})}function Zf(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function zle(t){document.body.style.overflow=t}function My(t,e){y.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function Ble(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return`${Xw(n,"hours")} ${Xw(r,"minutes")} ${Xw(i,"seconds")}`}catch{return null}}function Xw(t,e){return t?`${t} ${e}`:""}function mA(t){return t>=10?t:`0${t}`}const Oy=(t,e)=>{const n=gi.get("userId");let r;return t.forEach(i=>{i.id===e&&(r=i)}),r?r.seenBy.includes(n):!1},Wle=(t,e)=>{let n=0;return t.forEach(r=>{Oy(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function im(t){y.useEffect(()=>{const e=()=>{const n=window.scrollY;x$(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function sm(t){y.useEffect(()=>{const e=jE(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function Wo(t,e){try{console.log("Fetching counts...");const n=await ZL(t);e(n.data().count)}catch(n){console.log(n.message)}}async function Hle(t,e){const n=gA(t,e);try{if(n)return console.log("Fetched from the array..."),n;{const r=Re(We(Pe,"users"),e);console.log("fetching user...");const i=await ml(r);if(i.exists()){const s={uid:i.id,...i.data()};return gA(t,i.id)?console.log("User already exists in the array:"):t.push(s),s}else return console.log("No user found in Firestore"),null}}catch(r){return console.error("Error fetching user:",r.message),null}}function gA(t,e){return t.find(n=>n.uid===e)}function dr(t,e,n,r=()=>{},i=[],s=150){y.useEffect(()=>{(async()=>{r(!0);const a=await Hle(e,t);n(a),Un(r,s)})()},i)}const Gle={black:"#000",white:"#fff"},cp=Gle,qle={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},xu=qle,Yle={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Eu=Yle,Kle={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cu=Kle,Qle={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bu=Qle,Xle={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Iu=Xle,Jle={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},sf=Jle,Zle={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ece=Zle;function na(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const tce=Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"})),Wd="$$material";function O(){return O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O.apply(null,arguments)}function he(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function nce(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ice=nce(function(t){return rce.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),sce=!1;function oce(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ace(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var lce=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!sce:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ace(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=oce(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),gr="-ms-",A1="-moz-",St="-webkit-",E$="comm",HI="rule",GI="decl",cce="@import",C$="@keyframes",uce="@layer",dce=Math.abs,$y=String.fromCharCode,hce=Object.assign;function fce(t,e){return rr(t,0)^45?(((e<<2^rr(t,0))<<2^rr(t,1))<<2^rr(t,2))<<2^rr(t,3):0}function b$(t){return t.trim()}function pce(t,e){return(t=e.exec(t))?t[0]:t}function kt(t,e,n){return t.replace(e,n)}function FE(t,e){return t.indexOf(e)}function rr(t,e){return t.charCodeAt(e)|0}function up(t,e,n){return t.slice(e,n)}function js(t){return t.length}function qI(t){return t.length}function o2(t,e){return e.push(t),t}function mce(t,e){return t.map(e).join("")}var jy=1,Hd=1,I$=0,ai=0,Dn=0,Ih="";function Fy(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:jy,column:Hd,length:o,return:""}}function of(t,e){return hce(Fy("",null,null,"",null,null,0),t,{length:-t.length},e)}function gce(){return Dn}function vce(){return Dn=ai>0?rr(Ih,--ai):0,Hd--,Dn===10&&(Hd=1,jy--),Dn}function wi(){return Dn=ai<I$?rr(Ih,ai++):0,Hd++,Dn===10&&(Hd=1,jy++),Dn}function ro(){return rr(Ih,ai)}function K2(){return ai}function om(t,e){return up(Ih,t,e)}function dp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T$(t){return jy=Hd=1,I$=js(Ih=t),ai=0,[]}function S$(t){return Ih="",t}function Q2(t){return b$(om(ai-1,VE(t===91?t+2:t===40?t+1:t)))}function yce(t){for(;(Dn=ro())&&Dn<33;)wi();return dp(t)>2||dp(Dn)>3?"":" "}function _ce(t,e){for(;--e&&wi()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return om(t,K2()+(e<6&&ro()==32&&wi()==32))}function VE(t){for(;wi();)switch(Dn){case t:return ai;case 34:case 39:t!==34&&t!==39&&VE(Dn);break;case 40:t===41&&VE(t);break;case 92:wi();break}return ai}function wce(t,e){for(;wi()&&t+Dn!==57;)if(t+Dn===84&&ro()===47)break;return"/*"+om(e,ai-1)+"*"+$y(t===47?t:wi())}function xce(t){for(;!dp(ro());)wi();return om(t,ai)}function Ece(t){return S$(X2("",null,null,null,[""],t=T$(t),0,[0],t))}function X2(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,g=1,E=1,v=1,w=0,_="",x=i,I=s,C=r,T=_;E;)switch(m=w,w=wi()){case 40:if(m!=108&&rr(T,d-1)==58){FE(T+=kt(Q2(w),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=Q2(w);break;case 9:case 10:case 13:case 32:T+=yce(m);break;case 92:T+=_ce(K2()-1,7);continue;case 47:switch(ro()){case 42:case 47:o2(Cce(wce(wi(),K2()),e,n),l);break;default:T+="/"}break;case 123*g:a[c++]=js(T)*v;case 125*g:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:v==-1&&(T=kt(T,/\f/g,"")),p>0&&js(T)-d&&o2(p>32?yA(T+";",r,n,d-1):yA(kt(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(o2(C=vA(T,e,n,c,u,i,a,_,x=[],I=[],d),s),w===123)if(u===0)X2(T,e,C,C,x,s,d,a,I);else switch(f===99&&rr(T,3)===110?100:f){case 100:case 108:case 109:case 115:X2(t,C,C,r&&o2(vA(t,C,C,0,0,i,a,_,i,x=[],d),I),i,I,d,a,r?x:I);break;default:X2(T,C,C,C,[""],I,0,a,I)}}c=u=p=0,g=v=1,_=T="",d=o;break;case 58:d=1+js(T),p=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&vce()==125)continue}switch(T+=$y(w),w*g){case 38:v=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(js(T)-1)*v,v=1;break;case 64:ro()===45&&(T+=Q2(wi())),f=ro(),u=d=js(_=T+=xce(K2())),w++;break;case 45:m===45&&js(T)==2&&(g=0)}}return s}function vA(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],p=qI(f),m=0,g=0,E=0;m<r;++m)for(var v=0,w=up(t,d+1,d=dce(g=o[m])),_=t;v<p;++v)(_=b$(g>0?f[v]+" "+w:kt(w,/&\f/g,f[v])))&&(l[E++]=_);return Fy(t,e,n,i===0?HI:a,l,c,u)}function Cce(t,e,n){return Fy(t,e,n,E$,$y(gce()),up(t,2,-2),0)}function yA(t,e,n,r){return Fy(t,e,n,GI,up(t,0,r),up(t,r+1,-1),r)}function md(t,e){for(var n="",r=qI(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function bce(t,e,n,r){switch(t.type){case uce:if(t.children.length)break;case cce:case GI:return t.return=t.return||t.value;case E$:return"";case C$:return t.return=t.value+"{"+md(t.children,r)+"}";case HI:t.value=t.props.join(",")}return js(n=md(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ice(t){var e=qI(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Tce(t){return function(e){e.root||(e=e.return)&&t(e)}}var Sce=function(e,n,r){for(var i=0,s=0;i=s,s=ro(),i===38&&s===12&&(n[r]=1),!dp(s);)wi();return om(e,ai)},kce=function(e,n){var r=-1,i=44;do switch(dp(i)){case 0:i===38&&ro()===12&&(n[r]=1),e[r]+=Sce(ai-1,n,r);break;case 2:e[r]+=Q2(i);break;case 4:if(i===44){e[++r]=ro()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=$y(i)}while(i=wi());return e},Rce=function(e,n){return S$(kce(T$(e),n))},_A=new WeakMap,Ace=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_A.get(r))&&!i){_A.set(e,!0);for(var s=[],o=Rce(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Pce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function k$(t,e){switch(fce(t,e)){case 5103:return St+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return St+t+A1+t+gr+t+t;case 6828:case 4268:return St+t+gr+t+t;case 6165:return St+t+gr+"flex-"+t+t;case 5187:return St+t+kt(t,/(\w+).+(:[^]+)/,St+"box-$1$2"+gr+"flex-$1$2")+t;case 5443:return St+t+gr+"flex-item-"+kt(t,/flex-|-self/,"")+t;case 4675:return St+t+gr+"flex-line-pack"+kt(t,/align-content|flex-|-self/,"")+t;case 5548:return St+t+gr+kt(t,"shrink","negative")+t;case 5292:return St+t+gr+kt(t,"basis","preferred-size")+t;case 6060:return St+"box-"+kt(t,"-grow","")+St+t+gr+kt(t,"grow","positive")+t;case 4554:return St+kt(t,/([^-])(transform)/g,"$1"+St+"$2")+t;case 6187:return kt(kt(kt(t,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),t,"")+t;case 5495:case 3959:return kt(t,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return kt(kt(t,/(.+:)(flex-)?(.*)/,St+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+t+t;case 4095:case 3583:case 4068:case 2532:return kt(t,/(.+)-inline(.+)/,St+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(js(t)-1-e>6)switch(rr(t,e+1)){case 109:if(rr(t,e+4)!==45)break;case 102:return kt(t,/(.+:)(.+)-([^]+)/,"$1"+St+"$2-$3$1"+A1+(rr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~FE(t,"stretch")?k$(kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rr(t,e+1)!==115)break;case 6444:switch(rr(t,js(t)-3-(~FE(t,"!important")&&10))){case 107:return kt(t,":",":"+St)+t;case 101:return kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+St+(rr(t,14)===45?"inline-":"")+"box$3$1"+St+"$2$3$1"+gr+"$2box$3")+t}break;case 5936:switch(rr(t,e+11)){case 114:return St+t+gr+kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return St+t+gr+kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return St+t+gr+kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return St+t+gr+t+t}return t}var Nce=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case GI:e.return=k$(e.value,e.length);break;case C$:return md([of(e,{value:kt(e.value,"@","@"+St)})],i);case HI:if(e.length)return mce(e.props,function(s){switch(pce(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return md([of(e,{props:[kt(s,/:(read-\w+)/,":"+A1+"$1")]})],i);case"::placeholder":return md([of(e,{props:[kt(s,/:(plac\w+)/,":"+St+"input-$1")]}),of(e,{props:[kt(s,/:(plac\w+)/,":"+A1+"$1")]}),of(e,{props:[kt(s,/:(plac\w+)/,gr+"input-$1")]})],i)}return""})}},Dce=[Nce],R$=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var E=g.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||Dce,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var E=g.getAttribute("data-emotion").split(" "),v=1;v<E.length;v++)s[E[v]]=!0;a.push(g)});var l,c=[Ace,Pce];{var u,d=[bce,Tce(function(g){u.insert(g)})],f=Ice(c.concat(i,d)),p=function(E){return md(Ece(E),f)};l=function(E,v,w,_){u=w,p(E?E+"{"+v.styles+"}":v.styles),_&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new lce({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},A$={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=typeof Symbol=="function"&&Symbol.for,YI=tr?Symbol.for("react.element"):60103,KI=tr?Symbol.for("react.portal"):60106,Vy=tr?Symbol.for("react.fragment"):60107,Uy=tr?Symbol.for("react.strict_mode"):60108,zy=tr?Symbol.for("react.profiler"):60114,By=tr?Symbol.for("react.provider"):60109,Wy=tr?Symbol.for("react.context"):60110,QI=tr?Symbol.for("react.async_mode"):60111,Hy=tr?Symbol.for("react.concurrent_mode"):60111,Gy=tr?Symbol.for("react.forward_ref"):60112,qy=tr?Symbol.for("react.suspense"):60113,Lce=tr?Symbol.for("react.suspense_list"):60120,Yy=tr?Symbol.for("react.memo"):60115,Ky=tr?Symbol.for("react.lazy"):60116,Mce=tr?Symbol.for("react.block"):60121,Oce=tr?Symbol.for("react.fundamental"):60117,$ce=tr?Symbol.for("react.responder"):60118,jce=tr?Symbol.for("react.scope"):60119;function Ni(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YI:switch(t=t.type,t){case QI:case Hy:case Vy:case zy:case Uy:case qy:return t;default:switch(t=t&&t.$$typeof,t){case Wy:case Gy:case Ky:case Yy:case By:return t;default:return e}}case KI:return e}}}function P$(t){return Ni(t)===Hy}jt.AsyncMode=QI;jt.ConcurrentMode=Hy;jt.ContextConsumer=Wy;jt.ContextProvider=By;jt.Element=YI;jt.ForwardRef=Gy;jt.Fragment=Vy;jt.Lazy=Ky;jt.Memo=Yy;jt.Portal=KI;jt.Profiler=zy;jt.StrictMode=Uy;jt.Suspense=qy;jt.isAsyncMode=function(t){return P$(t)||Ni(t)===QI};jt.isConcurrentMode=P$;jt.isContextConsumer=function(t){return Ni(t)===Wy};jt.isContextProvider=function(t){return Ni(t)===By};jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YI};jt.isForwardRef=function(t){return Ni(t)===Gy};jt.isFragment=function(t){return Ni(t)===Vy};jt.isLazy=function(t){return Ni(t)===Ky};jt.isMemo=function(t){return Ni(t)===Yy};jt.isPortal=function(t){return Ni(t)===KI};jt.isProfiler=function(t){return Ni(t)===zy};jt.isStrictMode=function(t){return Ni(t)===Uy};jt.isSuspense=function(t){return Ni(t)===qy};jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vy||t===Hy||t===zy||t===Uy||t===qy||t===Lce||typeof t=="object"&&t!==null&&(t.$$typeof===Ky||t.$$typeof===Yy||t.$$typeof===By||t.$$typeof===Wy||t.$$typeof===Gy||t.$$typeof===Oce||t.$$typeof===$ce||t.$$typeof===jce||t.$$typeof===Mce)};jt.typeOf=Ni;A$.exports=jt;var Fce=A$.exports,N$=Fce,Vce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Uce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},D$={};D$[N$.ForwardRef]=Vce;D$[N$.Memo]=Uce;var zce=!0;function Bce(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var L$=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zce===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},M$=function(e,n,r){L$(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Wce(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Hce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Gce(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var qce=!1,Yce=/[A-Z]|^ms/g,Kce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,O$=function(e){return e.charCodeAt(1)===45},wA=function(e){return e!=null&&typeof e!="boolean"},Jw=Gce(function(t){return O$(t)?t:t.replace(Yce,"-$&").toLowerCase()}),xA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kce,function(r,i,s){return Fs={name:i,styles:s,next:Fs},i})}return Hce[e]!==1&&!O$(e)&&typeof n=="number"&&n!==0?n+"px":n},Qce="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function hp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Fs={name:i.name,styles:i.styles,next:Fs},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Fs={name:o.name,styles:o.styles,next:Fs},o=o.next;var a=s.styles+";";return a}return Xce(t,e,n)}case"function":{if(t!==void 0){var l=Fs,c=n(t);return Fs=l,hp(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Xce(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hp(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":wA(a)&&(r+=Jw(s)+":"+xA(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&qce)throw new Error(Qce);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)wA(o[l])&&(r+=Jw(s)+":"+xA(s,o[l])+";");else{var c=hp(t,e,o);switch(s){case"animation":case"animationName":{r+=Jw(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var EA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fs;function XI(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Fs=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=hp(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=hp(n,e,t[a]),r){var l=s;i+=l[a]}EA.lastIndex=0;for(var c="",u;(u=EA.exec(i))!==null;)c+="-"+u[1];var d=Wce(i)+c;return{name:d,styles:i,next:Fs}}var Jce=function(e){return e()},$$=dg.useInsertionEffect?dg.useInsertionEffect:!1,Zce=$$||Jce,CA=$$||y.useLayoutEffect,j$=y.createContext(typeof HTMLElement<"u"?R$({key:"css"}):null),eue=j$.Provider,F$=function(e){return y.forwardRef(function(n,r){var i=y.useContext(j$);return e(n,i,r)})},am=y.createContext({}),Zw={exports:{}},bA;function V$(){return bA||(bA=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Zw)),Zw.exports}V$();var tue=F$(function(t,e){var n=t.styles,r=XI([n],void 0,y.useContext(am)),i=y.useRef();return CA(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),CA(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&M$(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ra(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return XI(e)}var Ms=function(){var e=ra.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},nue=ice,rue=function(e){return e!=="theme"},IA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nue:rue},TA=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},iue=!1,sue=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return L$(n,r,i),Zce(function(){return M$(n,r,i)}),null},oue=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=TA(e,n,r),l=a||IA(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var m=F$(function(g,E,v){var w=c&&g.as||i,_="",x=[],I=g;if(g.theme==null){I={};for(var C in g)I[C]=g[C];I.theme=y.useContext(am)}typeof g.className=="string"?_=Bce(E.registered,x,g.className):g.className!=null&&(_=g.className+" ");var T=XI(d.concat(x),E.registered,I);_+=E.key+"-"+T.name,o!==void 0&&(_+=" "+o);var b=c&&a===void 0?IA(w):l,k={};for(var S in g)c&&S==="as"||b(S)&&(k[S]=g[S]);return k.className=_,v&&(k.ref=v),y.createElement(y.Fragment,null,y.createElement(sue,{cache:E,serialized:T,isStringTag:typeof w=="string"}),y.createElement(w,k))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return o===void 0&&iue?"NO_COMPONENT_SELECTOR":"."+o}}),m.withComponent=function(g,E){return t(g,O({},n,E,{shouldForwardProp:TA(m,E,!0)})).apply(void 0,d)},m}},aue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],UE=oue.bind();aue.forEach(function(t){UE[t]=UE(t)});let zE;typeof document=="object"&&(zE=R$({key:"css",prepend:!0}));function lue(t){const{injectFirst:e,children:n}=t;return e&&zE?h.jsx(eue,{value:zE,children:n}):n}function cue(t){return t==null||Object.keys(t).length===0}function U$(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(cue(i)?n:i):e;return h.jsx(tue,{styles:r})}function JI(t,e){return UE(t,e)}const z$=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},uue=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:U$,StyledEngineProvider:lue,ThemeContext:am,css:ra,default:JI,internal_processStyles:z$,keyframes:Ms},Symbol.toStringTag,{value:"Module"}));function Ro(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function B$(t){if(!Ro(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=B$(t[n])}),e}function Fr(t,e,n={clone:!0}){const r=n.clone?O({},t):t;return Ro(t)&&Ro(e)&&Object.keys(e).forEach(i=>{Ro(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ro(t[i])?r[i]=Fr(t[i],e[i],n):n.clone?r[i]=Ro(e[i])?B$(e[i]):e[i]:r[i]=e[i]}),r}const due=Object.freeze(Object.defineProperty({__proto__:null,default:Fr,isPlainObject:Ro},Symbol.toStringTag,{value:"Module"})),hue=["values","unit","step"],fue=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>O({},n,{[r.key]:r.val}),{})};function W$(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=he(t,hue),s=fue(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return O({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const pue={borderRadius:4},mue=pue;function e0(t,e){return e?Fr(t,e,{clone:!1}):t}const ZI={xs:0,sm:600,md:900,lg:1200,xl:1536},SA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ZI[t]}px)`};function li(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||SA;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||SA;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||ZI).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function H$(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function G$(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function gue(t,...e){const n=H$(t),r=[n,...e].reduce((i,s)=>Fr(i,s),{});return G$(Object.keys(n),r)}function vue(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function wc({values:t,breakpoints:e,base:n}){const r=n||vue(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function de(t){if(typeof t!="string")throw new Error(na(7));return t.charAt(0).toUpperCase()+t.slice(1)}const yue=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));function Qy(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function P1(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Qy(t,n)||r,e&&(i=e(i,r,t)),i}function kn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Qy(l,r)||{};return li(o,a,d=>{let f=P1(c,i,d);return d===f&&typeof d=="string"&&(f=P1(c,i,`${e}${d==="default"?"":de(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function _ue(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const wue={m:"margin",p:"padding"},xue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},kA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Eue=_ue(t=>{if(t.length>2)if(kA[t])t=kA[t];else return[t];const[e,n]=t.split(""),r=wue[e],i=xue[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),eT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],tT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...eT,...tT];function lm(t,e,n,r){var i;const s=(i=Qy(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function nT(t){return lm(t,"spacing",8)}function Gc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Cue(t,e){return n=>t.reduce((r,i)=>(r[i]=Gc(e,n),r),{})}function bue(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Eue(n),s=Cue(i,r),o=t[n];return li(t,o,s)}function q$(t,e){const n=nT(t.theme);return Object.keys(t).map(r=>bue(t,e,r,n)).reduce(e0,{})}function pn(t){return q$(t,eT)}pn.propTypes={};pn.filterProps=eT;function mn(t){return q$(t,tT)}mn.propTypes={};mn.filterProps=tT;function Iue(t=8){if(t.mui)return t;const e=nT({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Xy(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?e0(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Vi(t){return typeof t!="number"?t:`${t}px solid`}function os(t,e){return kn({prop:t,themeKey:"borders",transform:e})}const Tue=os("border",Vi),Sue=os("borderTop",Vi),kue=os("borderRight",Vi),Rue=os("borderBottom",Vi),Aue=os("borderLeft",Vi),Pue=os("borderColor"),Nue=os("borderTopColor"),Due=os("borderRightColor"),Lue=os("borderBottomColor"),Mue=os("borderLeftColor"),Oue=os("outline",Vi),$ue=os("outlineColor"),Jy=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=lm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Gc(e,r)});return li(t,t.borderRadius,n)}return null};Jy.propTypes={};Jy.filterProps=["borderRadius"];Xy(Tue,Sue,kue,Rue,Aue,Pue,Nue,Due,Lue,Mue,Jy,Oue,$ue);const Zy=t=>{if(t.gap!==void 0&&t.gap!==null){const e=lm(t.theme,"spacing",8),n=r=>({gap:Gc(e,r)});return li(t,t.gap,n)}return null};Zy.propTypes={};Zy.filterProps=["gap"];const e_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=lm(t.theme,"spacing",8),n=r=>({columnGap:Gc(e,r)});return li(t,t.columnGap,n)}return null};e_.propTypes={};e_.filterProps=["columnGap"];const t_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=lm(t.theme,"spacing",8),n=r=>({rowGap:Gc(e,r)});return li(t,t.rowGap,n)}return null};t_.propTypes={};t_.filterProps=["rowGap"];const jue=kn({prop:"gridColumn"}),Fue=kn({prop:"gridRow"}),Vue=kn({prop:"gridAutoFlow"}),Uue=kn({prop:"gridAutoColumns"}),zue=kn({prop:"gridAutoRows"}),Bue=kn({prop:"gridTemplateColumns"}),Wue=kn({prop:"gridTemplateRows"}),Hue=kn({prop:"gridTemplateAreas"}),Gue=kn({prop:"gridArea"});Xy(Zy,e_,t_,jue,Fue,Vue,Uue,zue,Bue,Wue,Hue,Gue);function gd(t,e){return e==="grey"?e:t}const que=kn({prop:"color",themeKey:"palette",transform:gd}),Yue=kn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:gd}),Kue=kn({prop:"backgroundColor",themeKey:"palette",transform:gd});Xy(que,Yue,Kue);function pi(t){return t<=1&&t!==0?`${t*100}%`:t}const Que=kn({prop:"width",transform:pi}),rT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||ZI[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:pi(n)}};return li(t,t.maxWidth,e)}return null};rT.filterProps=["maxWidth"];const Xue=kn({prop:"minWidth",transform:pi}),Jue=kn({prop:"height",transform:pi}),Zue=kn({prop:"maxHeight",transform:pi}),ede=kn({prop:"minHeight",transform:pi});kn({prop:"size",cssProperty:"width",transform:pi});kn({prop:"size",cssProperty:"height",transform:pi});const tde=kn({prop:"boxSizing"});Xy(Que,rT,Xue,Jue,Zue,ede,tde);const nde={border:{themeKey:"borders",transform:Vi},borderTop:{themeKey:"borders",transform:Vi},borderRight:{themeKey:"borders",transform:Vi},borderBottom:{themeKey:"borders",transform:Vi},borderLeft:{themeKey:"borders",transform:Vi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jy},color:{themeKey:"palette",transform:gd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:gd},backgroundColor:{themeKey:"palette",transform:gd},p:{style:mn},pt:{style:mn},pr:{style:mn},pb:{style:mn},pl:{style:mn},px:{style:mn},py:{style:mn},padding:{style:mn},paddingTop:{style:mn},paddingRight:{style:mn},paddingBottom:{style:mn},paddingLeft:{style:mn},paddingX:{style:mn},paddingY:{style:mn},paddingInline:{style:mn},paddingInlineStart:{style:mn},paddingInlineEnd:{style:mn},paddingBlock:{style:mn},paddingBlockStart:{style:mn},paddingBlockEnd:{style:mn},m:{style:pn},mt:{style:pn},mr:{style:pn},mb:{style:pn},ml:{style:pn},mx:{style:pn},my:{style:pn},margin:{style:pn},marginTop:{style:pn},marginRight:{style:pn},marginBottom:{style:pn},marginLeft:{style:pn},marginX:{style:pn},marginY:{style:pn},marginInline:{style:pn},marginInlineStart:{style:pn},marginInlineEnd:{style:pn},marginBlock:{style:pn},marginBlockStart:{style:pn},marginBlockEnd:{style:pn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zy},rowGap:{style:t_},columnGap:{style:e_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pi},maxWidth:{style:rT},minWidth:{transform:pi},height:{transform:pi},maxHeight:{transform:pi},minHeight:{transform:pi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},cm=nde;function rde(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function ide(t,e){return typeof t=="function"?t(e):t}function Y$(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Qy(i,c)||{};return d?d(o):li(o,r,m=>{let g=P1(f,u,m);return m===g&&typeof m=="string"&&(g=P1(f,u,`${n}${m==="default"?"":de(m)}`,m)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:cm;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=H$(s.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const m=ide(c[p],s);if(m!=null)if(typeof m=="object")if(o[p])f=e0(f,t(p,m,s,o));else{const g=li({theme:s},m,E=>({[p]:E}));rde(g,m)?f[p]=e({sx:m,theme:s}):f=e0(f,g)}else f=e0(f,t(p,m,s,o))}),G$(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const K$=Y$();K$.filterProps=["sx"];const um=K$;function Q$(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const sde=["breakpoints","palette","spacing","shape"];function dm(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=he(t,sde),a=W$(n),l=Iue(i);let c=Fr({breakpoints:a,direction:"ltr",components:{},palette:O({mode:"light"},r),spacing:l,shape:O({},mue,s)},o);return c.applyStyles=Q$,c=e.reduce((u,d)=>Fr(u,d),c),c.unstable_sxConfig=O({},cm,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return um({sx:d,theme:this})},c}const ode=Object.freeze(Object.defineProperty({__proto__:null,default:dm,private_createBreakpoints:W$,unstable_applyStyles:Q$},Symbol.toStringTag,{value:"Module"}));function ade(t){return Object.keys(t).length===0}function iT(t=null){const e=y.useContext(am);return!e||ade(e)?t:e}const lde=dm();function n_(t=lde){return iT(t)}function cde({styles:t,themeId:e,defaultTheme:n={}}){const r=n_(n),i=typeof t=="function"?t(e&&r[e]||r):t;return h.jsx(U$,{styles:i})}const ude=["sx"],dde=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:cm;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function hm(t){const{sx:e}=t,n=he(t,ude),{systemProps:r,otherProps:i}=dde(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ro(a)?O({},r,a):r}:s=O({},r,e),O({},i,{sx:s})}const hde=Object.freeze(Object.defineProperty({__proto__:null,default:um,extendSxProp:hm,unstable_createStyleFunctionSx:Y$,unstable_defaultSxConfig:cm},Symbol.toStringTag,{value:"Module"})),RA=t=>t,fde=()=>{let t=RA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=RA}}},pde=fde(),X$=pde;function J$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=J$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=J$(t))&&(r&&(r+=" "),r+=e);return r}const mde=["className","component"];function gde(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=JI("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(um);return y.forwardRef(function(l,c){const u=n_(n),d=hm(l),{className:f,component:p="div"}=d,m=he(d,mde);return h.jsx(s,O({as:p,ref:c,className:Te(f,i?i(r):r),theme:e&&u[e]||u},m))})}const vde={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ot(t,e,n="Mui"){const r=vde[e];return r?`${n}-${r}`:`${X$.generate(t)}-${e}`}function Qe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ot(t,i,n)}),r}var Z$={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=Symbol.for("react.element"),oT=Symbol.for("react.portal"),r_=Symbol.for("react.fragment"),i_=Symbol.for("react.strict_mode"),s_=Symbol.for("react.profiler"),o_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),yde=Symbol.for("react.server_context"),l_=Symbol.for("react.forward_ref"),c_=Symbol.for("react.suspense"),u_=Symbol.for("react.suspense_list"),d_=Symbol.for("react.memo"),h_=Symbol.for("react.lazy"),_de=Symbol.for("react.offscreen"),ej;ej=Symbol.for("react.module.reference");function as(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sT:switch(t=t.type,t){case r_:case s_:case i_:case c_:case u_:return t;default:switch(t=t&&t.$$typeof,t){case yde:case a_:case l_:case h_:case d_:case o_:return t;default:return e}}case oT:return e}}}Ft.ContextConsumer=a_;Ft.ContextProvider=o_;Ft.Element=sT;Ft.ForwardRef=l_;Ft.Fragment=r_;Ft.Lazy=h_;Ft.Memo=d_;Ft.Portal=oT;Ft.Profiler=s_;Ft.StrictMode=i_;Ft.Suspense=c_;Ft.SuspenseList=u_;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return as(t)===a_};Ft.isContextProvider=function(t){return as(t)===o_};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sT};Ft.isForwardRef=function(t){return as(t)===l_};Ft.isFragment=function(t){return as(t)===r_};Ft.isLazy=function(t){return as(t)===h_};Ft.isMemo=function(t){return as(t)===d_};Ft.isPortal=function(t){return as(t)===oT};Ft.isProfiler=function(t){return as(t)===s_};Ft.isStrictMode=function(t){return as(t)===i_};Ft.isSuspense=function(t){return as(t)===c_};Ft.isSuspenseList=function(t){return as(t)===u_};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===r_||t===s_||t===i_||t===c_||t===u_||t===_de||typeof t=="object"&&t!==null&&(t.$$typeof===h_||t.$$typeof===d_||t.$$typeof===o_||t.$$typeof===a_||t.$$typeof===l_||t.$$typeof===ej||t.getModuleId!==void 0)};Ft.typeOf=as;Z$.exports=Ft;var AA=Z$.exports;const wde=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function tj(t){const e=`${t}`.match(wde);return e&&e[1]||""}function nj(t,e=""){return t.displayName||t.name||tj(t)||e}function PA(t,e,n){const r=nj(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function xde(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return nj(t,"Component");if(typeof t=="object")switch(t.$$typeof){case AA.ForwardRef:return PA(t,t.render,"ForwardRef");case AA.Memo:return PA(t,t.type,"memo");default:return}}}const Ede=Object.freeze(Object.defineProperty({__proto__:null,default:xde,getFunctionName:tj},Symbol.toStringTag,{value:"Module"})),Cde=["ownerState"],bde=["variants"],Ide=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Tde(t){return Object.keys(t).length===0}function Sde(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ex(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const kde=dm(),Rde=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function a2({defaultTheme:t,theme:e,themeId:n}){return Tde(e)?t:e[n]||e}function Ade(t){return t?(e,n)=>n[t]:null}function J2(t,e){let{ownerState:n}=e,r=he(e,Cde);const i=typeof t=="function"?t(O({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>J2(s,O({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=he(i,bde);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(O({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(O({ownerState:n},r,n)):l.style))}),a}return i}function Pde(t={}){const{themeId:e,defaultTheme:n=kde,rootShouldForwardProp:r=ex,slotShouldForwardProp:i=ex}=t,s=o=>um(O({},o,{theme:a2(O({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{z$(o,I=>I.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=Ade(Rde(c))}=a,p=he(a,Ide),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=d||!1;let E,v=ex;c==="Root"||c==="root"?v=r:c?v=i:Sde(o)&&(v=void 0);const w=JI(o,O({shouldForwardProp:v,label:E},p)),_=I=>typeof I=="function"&&I.__emotion_real!==I||Ro(I)?C=>J2(I,O({},C,{theme:a2({theme:C.theme,defaultTheme:n,themeId:e})})):I,x=(I,...C)=>{let T=_(I);const b=C?C.map(_):[];l&&f&&b.push(R=>{const N=a2(O({},R,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,D={};return Object.entries(M).forEach(([j,P])=>{D[j]=J2(P,O({},R,{theme:N}))}),f(R,D)}),l&&!m&&b.push(R=>{var N;const M=a2(O({},R,{defaultTheme:n,themeId:e})),D=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return J2({variants:D},O({},R,{theme:M}))}),g||b.push(s);const k=b.length-C.length;if(Array.isArray(I)&&k>0){const R=new Array(k).fill("");T=[...I,...R],T.raw=[...I.raw,...R]}const S=w(T,...b);return o.muiName&&(S.muiName=o.muiName),S};return w.withConfig&&(x.withConfig=w.withConfig),x}}const Nde=Pde(),Dde=Nde;function fp(t,e){const n=O({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=O({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=O({},s),Object.keys(i).forEach(o=>{n[r][o]=fp(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function rj(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:fp(e.components[n].defaultProps,r)}function Lde({props:t,name:e,defaultTheme:n,themeId:r}){let i=n_(n);return r&&(i=i[r]||i),rj({theme:i,name:e,props:t})}const Mde=typeof window<"u"?y.useLayoutEffect:y.useEffect,Ii=Mde;function Ode(t,e,n,r,i){const[s,o]=y.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return Ii(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&o(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),s}const ij=y.useSyncExternalStore;function $de(t,e,n,r,i){const s=y.useCallback(()=>e,[e]),o=y.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return s},[s,t,r,i,n]),[a,l]=y.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const u=n(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[s,n,t]);return ij(l,a,o)}function jde(t,e={}){const n=iT(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=rj({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(ij!==void 0?$de:Ode)(l,i,s,o,a)}function sj(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Fde=Object.freeze(Object.defineProperty({__proto__:null,default:sj},Symbol.toStringTag,{value:"Module"}));function Vde(t,e=0,n=1){return sj(t,e,n)}function Ude(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function oj(t){if(t.type)return t;if(t.charAt(0)==="#")return oj(Ude(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(na(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(na(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function zde(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Bde(t,e){return t=oj(t),e=Vde(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,zde(t)}function NA(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function aT(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function tx(t,e){var n,r;return y.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function _n(t){return t&&t.ownerDocument||document}function xi(t){return _n(t).defaultView||window}function BE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let DA=0;function Wde(t){const[e,n]=y.useState(t),r=t||e;return y.useEffect(()=>{e==null&&(DA+=1,n(`mui-${DA}`))},[e]),r}const LA=dg.useId;function f_(t){if(LA!==void 0){const e=LA();return t??e}return Wde(t)}function WE({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=y.useRef(t!==void 0),[s,o]=y.useState(e),a=i?t:s,l=y.useCallback(c=>{i||o(c)},[]);return[a,l]}function Jr(t){const e=y.useRef(t);return Ii(()=>{e.current=t}),y.useRef((...n)=>(0,e.current)(...n)).current}function Sn(...t){return y.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{BE(n,e)})},t)}const MA={};function Hde(t,e){const n=y.useRef(MA);return n.current===MA&&(n.current=t(e)),n}const Gde=[];function qde(t){y.useEffect(t,Gde)}class fm{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new fm}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function lc(){const t=Hde(fm.create).current;return qde(t.disposeEffect),t}let p_=!0,HE=!1;const Yde=new fm,Kde={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Qde(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Kde[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Xde(t){t.metaKey||t.altKey||t.ctrlKey||(p_=!0)}function nx(){p_=!1}function Jde(){this.visibilityState==="hidden"&&HE&&(p_=!0)}function Zde(t){t.addEventListener("keydown",Xde,!0),t.addEventListener("mousedown",nx,!0),t.addEventListener("pointerdown",nx,!0),t.addEventListener("touchstart",nx,!0),t.addEventListener("visibilitychange",Jde,!0)}function ehe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return p_||Qde(e)}function aj(){const t=y.useCallback(i=>{i!=null&&Zde(i.ownerDocument)},[]),e=y.useRef(!1);function n(){return e.current?(HE=!0,Yde.start(100,()=>{HE=!1}),e.current=!1,!0):!1}function r(i){return ehe(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function lj(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function ut(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function N1(t){return typeof t=="string"}function Sf(t,e,n){return t===void 0||N1(t)?e:O({},e,{ownerState:O({},e.ownerState,n)})}function D1(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function OA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function the(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=Te(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m=O({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=O({},n,i,r);return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=D1(O({},i,r)),a=OA(r),l=OA(i),c=e(o),u=Te(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=O({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=O({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function nhe(t,e,n){return typeof t=="function"?t(e,n):t}const rhe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function xl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=he(t,rhe),a=s?{}:nhe(r,i),{props:l,internalRef:c}=the(O({},o,{externalSlotProps:a})),u=Sn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Sf(n,O({},l,{ref:u}),i)}const ihe=y.createContext(null),cj=ihe;function uj(){return y.useContext(cj)}const she=typeof Symbol=="function"&&Symbol.for,ohe=she?Symbol.for("mui.nested"):"__THEME_NESTED__";function ahe(t,e){return typeof e=="function"?e(t):O({},t,e)}function lhe(t){const{children:e,theme:n}=t,r=uj(),i=y.useMemo(()=>{const s=r===null?n:ahe(r,n);return s!=null&&(s[ohe]=r!==null),s},[n,r]);return h.jsx(cj.Provider,{value:i,children:e})}const che=["value"],dj=y.createContext();function uhe(t){let{value:e}=t,n=he(t,che);return h.jsx(dj.Provider,O({value:e??!0},n))}const m_=()=>{const t=y.useContext(dj);return t??!1},hj=y.createContext(void 0);function dhe({value:t,children:e}){return h.jsx(hj.Provider,{value:t,children:e})}function hhe(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?fp(i.defaultProps,r):!i.styleOverrides&&!i.variants?fp(i,r):r}function fhe({props:t,name:e}){const n=y.useContext(hj);return hhe({props:t,name:e,theme:{components:n}})}const $A={};function jA(t,e,n,r=!1){return y.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?O({},e,{[t]:s}):s;return r?()=>o:o}return t?O({},e,{[t]:n}):O({},e,n)},[t,e,n,r])}function phe(t){const{children:e,theme:n,themeId:r}=t,i=iT($A),s=uj()||$A,o=jA(r,i,n),a=jA(r,s,n,!0),l=o.direction==="rtl";return h.jsx(lhe,{theme:a,children:h.jsx(am.Provider,{value:o,children:h.jsx(uhe,{value:l,children:h.jsx(dhe,{value:o==null?void 0:o.components,children:e})})})})}const mhe=["component","direction","spacing","divider","children","className","useFlexGap"],ghe=dm(),vhe=Dde("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function yhe(t){return Lde({props:t,name:"MuiStack",defaultTheme:ghe})}function _he(t,e){const n=y.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(y.cloneElement(e,{key:`separator-${s}`})),r),[])}const whe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],xhe=({ownerState:t,theme:e})=>{let n=O({display:"flex",flexDirection:"column"},li({theme:e},wc({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=nT(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=wc({values:t.direction,base:i}),o=wc({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const f=c>0?s[u[c-1]]:"column";s[l]=f}}),n=Fr(n,li({theme:e},o,(l,c)=>t.useFlexGap?{gap:Gc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${whe(c?s[c]:t.direction)}`]:Gc(r,l)}}))}return n=gue(e.breakpoints,n),n};function Ehe(t={}){const{createStyledComponent:e=vhe,useThemeProps:n=yhe,componentName:r="MuiStack"}=t,i=()=>ut({root:["root"]},l=>ot(r,l),{}),s=e(xhe);return y.forwardRef(function(l,c){const u=n(l),d=hm(u),{component:f="div",direction:p="column",spacing:m=0,divider:g,children:E,className:v,useFlexGap:w=!1}=d,_=he(d,mhe),x={direction:p,spacing:m,useFlexGap:w},I=i();return h.jsx(s,O({as:f,ownerState:x,ref:c,className:Te(I.root,v)},_,{children:g?_he(E,g):E}))})}function Che(t,e){return O({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Rn={},fj={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(fj);var pj=fj.exports;const bhe=El(tce),Ihe=El(Fde);var mj=pj;Object.defineProperty(Rn,"__esModule",{value:!0});var Zr=Rn.alpha=xj;Rn.blend=$he;Rn.colorChannel=void 0;var gj=Rn.darken=cT;Rn.decomposeColor=Zi;var The=Rn.emphasize=Ej,She=Rn.getContrastRatio=Nhe;Rn.getLuminance=L1;Rn.hexToRgb=yj;Rn.hslToRgb=wj;var vj=Rn.lighten=uT;Rn.private_safeAlpha=Dhe;Rn.private_safeColorChannel=void 0;Rn.private_safeDarken=Lhe;Rn.private_safeEmphasize=Ohe;Rn.private_safeLighten=Mhe;Rn.recomposeColor=Th;Rn.rgbToHex=Phe;var FA=mj(bhe),khe=mj(Ihe);function lT(t,e=0,n=1){return(0,khe.default)(t,e,n)}function yj(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Rhe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Zi(t){if(t.type)return t;if(t.charAt(0)==="#")return Zi(yj(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,FA.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,FA.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const _j=t=>{const e=Zi(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Rn.colorChannel=_j;const Ahe=(t,e)=>{try{return _j(t)}catch{return t}};Rn.private_safeColorChannel=Ahe;function Th(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Phe(t){if(t.indexOf("#")===0)return t;const{values:e}=Zi(t);return`#${e.map((n,r)=>Rhe(r===3?Math.round(255*n):n)).join("")}`}function wj(t){t=Zi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Th({type:a,values:l})}function L1(t){t=Zi(t);let e=t.type==="hsl"||t.type==="hsla"?Zi(wj(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Nhe(t,e){const n=L1(t),r=L1(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function xj(t,e){return t=Zi(t),e=lT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Th(t)}function Dhe(t,e,n){try{return xj(t,e)}catch{return t}}function cT(t,e){if(t=Zi(t),e=lT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Th(t)}function Lhe(t,e,n){try{return cT(t,e)}catch{return t}}function uT(t,e){if(t=Zi(t),e=lT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Th(t)}function Mhe(t,e,n){try{return uT(t,e)}catch{return t}}function Ej(t,e=.15){return L1(t)>.5?cT(t,e):uT(t,e)}function Ohe(t,e,n){try{return Ej(t,e)}catch{return t}}function $he(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Zi(t),o=Zi(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Th({type:"rgb",values:a})}const jhe=["mode","contrastThreshold","tonalOffset"],VA={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cp.white,default:cp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rx={text:{primary:cp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function UA(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=vj(t.main,i):e==="dark"&&(t.dark=gj(t.main,s)))}function Fhe(t="light"){return t==="dark"?{main:Cu[200],light:Cu[50],dark:Cu[400]}:{main:Cu[700],light:Cu[400],dark:Cu[800]}}function Vhe(t="light"){return t==="dark"?{main:Eu[200],light:Eu[50],dark:Eu[400]}:{main:Eu[500],light:Eu[300],dark:Eu[700]}}function Uhe(t="light"){return t==="dark"?{main:xu[500],light:xu[300],dark:xu[700]}:{main:xu[700],light:xu[400],dark:xu[800]}}function zhe(t="light"){return t==="dark"?{main:bu[400],light:bu[300],dark:bu[700]}:{main:bu[700],light:bu[500],dark:bu[900]}}function Bhe(t="light"){return t==="dark"?{main:Iu[400],light:Iu[300],dark:Iu[700]}:{main:Iu[800],light:Iu[500],dark:Iu[900]}}function Whe(t="light"){return t==="dark"?{main:sf[400],light:sf[300],dark:sf[700]}:{main:"#ed6c02",light:sf[500],dark:sf[900]}}function Hhe(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=he(t,jhe),s=t.primary||Fhe(e),o=t.secondary||Vhe(e),a=t.error||Uhe(e),l=t.info||zhe(e),c=t.success||Bhe(e),u=t.warning||Whe(e);function d(g){return She(g,rx.text.primary)>=n?rx.text.primary:VA.text.primary}const f=({color:g,name:E,mainShade:v=500,lightShade:w=300,darkShade:_=700})=>{if(g=O({},g),!g.main&&g[v]&&(g.main=g[v]),!g.hasOwnProperty("main"))throw new Error(na(11,E?` (${E})`:"",v));if(typeof g.main!="string")throw new Error(na(12,E?` (${E})`:"",JSON.stringify(g.main)));return UA(g,"light",w,r),UA(g,"dark",_,r),g.contrastText||(g.contrastText=d(g.main)),g},p={dark:rx,light:VA};return Fr(O({common:O({},cp),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:ece,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const Ghe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function qhe(t){return Math.round(t*1e5)/1e5}const zA={textTransform:"uppercase"},BA='"Roboto", "Helvetica", "Arial", sans-serif';function Yhe(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=BA,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=he(n,Ghe),p=i/14,m=d||(v=>`${v/c*p}rem`),g=(v,w,_,x,I)=>O({fontFamily:r,fontWeight:v,fontSize:m(w),lineHeight:_},r===BA?{letterSpacing:`${qhe(x/w)}em`}:{},I,u),E={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,zA),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,zA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fr(O({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),f,{clone:!1})}const Khe=.2,Qhe=.14,Xhe=.12;function tn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Khe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Qhe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Xhe})`].join(",")}const Jhe=["none",tn(0,2,1,-1,0,1,1,0,0,1,3,0),tn(0,3,1,-2,0,2,2,0,0,1,5,0),tn(0,3,3,-2,0,3,4,0,0,1,8,0),tn(0,2,4,-1,0,4,5,0,0,1,10,0),tn(0,3,5,-1,0,5,8,0,0,1,14,0),tn(0,3,5,-1,0,6,10,0,0,1,18,0),tn(0,4,5,-2,0,7,10,1,0,2,16,1),tn(0,5,5,-3,0,8,10,1,0,3,14,2),tn(0,5,6,-3,0,9,12,1,0,3,16,2),tn(0,6,6,-3,0,10,14,1,0,4,18,3),tn(0,6,7,-4,0,11,15,1,0,4,20,3),tn(0,7,8,-4,0,12,17,2,0,5,22,4),tn(0,7,8,-4,0,13,19,2,0,5,24,4),tn(0,7,9,-4,0,14,21,2,0,5,26,4),tn(0,8,9,-5,0,15,22,2,0,6,28,5),tn(0,8,10,-5,0,16,24,2,0,6,30,5),tn(0,8,11,-5,0,17,26,2,0,6,32,5),tn(0,9,11,-5,0,18,28,2,0,7,34,6),tn(0,9,12,-6,0,19,29,2,0,7,36,6),tn(0,10,13,-6,0,20,31,3,0,8,38,7),tn(0,10,13,-6,0,21,33,3,0,8,40,7),tn(0,10,14,-6,0,22,35,3,0,8,42,7),tn(0,11,14,-7,0,23,36,3,0,9,44,8),tn(0,11,15,-7,0,24,38,3,0,9,46,8)],Zhe=Jhe,efe=["duration","easing","delay"],tfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WA(t){return`${Math.round(t)}ms`}function rfe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function ife(t){const e=O({},tfe,t.easing),n=O({},nfe,t.duration);return O({getAutoHeightDuration:rfe,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return he(s,efe),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:WA(o)} ${a} ${typeof l=="string"?l:WA(l)}`).join(",")}},t,{easing:e,duration:n})}const sfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ofe=sfe,afe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function dT(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=he(t,afe);if(t.vars)throw new Error(na(18));const a=Hhe(r),l=dm(t);let c=Fr(l,{mixins:Che(l.breakpoints,n),palette:a,shadows:Zhe.slice(),typography:Yhe(a,s),transitions:ife(i),zIndex:O({},ofe)});return c=Fr(c,o),c=e.reduce((u,d)=>Fr(u,d),c),c.unstable_sxConfig=O({},cm,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return um({sx:d,theme:this})},c}function lfe(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function cfe(t){return parseFloat(t)}const ufe=dT(),hT=ufe;function Tt(){const t=n_(hT);return t[Wd]||t}var pm={},ix={exports:{}},HA;function dfe(){return HA||(HA=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.includes(s))continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ix)),ix.exports}const Cj=El(uue),hfe=El(due),ffe=El(yue),pfe=El(Ede),mfe=El(ode),gfe=El(hde);var Sh=pj;Object.defineProperty(pm,"__esModule",{value:!0});var vfe=pm.default=Afe;pm.shouldForwardProp=Z2;pm.systemDefaultTheme=void 0;var Mi=Sh(V$()),GE=Sh(dfe()),GA=bfe(Cj),yfe=hfe;Sh(ffe);Sh(pfe);var _fe=Sh(mfe),wfe=Sh(gfe);const xfe=["ownerState"],Efe=["variants"],Cfe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bj(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(bj=function(r){return r?n:e})(t)}function bfe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=bj(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Ife(t){return Object.keys(t).length===0}function Tfe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Z2(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Sfe=pm.systemDefaultTheme=(0,_fe.default)(),kfe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function l2({defaultTheme:t,theme:e,themeId:n}){return Ife(e)?t:e[n]||e}function Rfe(t){return t?(e,n)=>n[t]:null}function eg(t,e){let{ownerState:n}=e,r=(0,GE.default)(e,xfe);const i=typeof t=="function"?t((0,Mi.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>eg(s,(0,Mi.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,GE.default)(i,Efe);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Mi.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Mi.default)({ownerState:n},r,n)):l.style))}),a}return i}function Afe(t={}){const{themeId:e,defaultTheme:n=Sfe,rootShouldForwardProp:r=Z2,slotShouldForwardProp:i=Z2}=t,s=o=>(0,wfe.default)((0,Mi.default)({},o,{theme:l2((0,Mi.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,GA.internal_processStyles)(o,I=>I.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=Rfe(kfe(c))}=a,p=(0,GE.default)(a,Cfe),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=d||!1;let E,v=Z2;c==="Root"||c==="root"?v=r:c?v=i:Tfe(o)&&(v=void 0);const w=(0,GA.default)(o,(0,Mi.default)({shouldForwardProp:v,label:E},p)),_=I=>typeof I=="function"&&I.__emotion_real!==I||(0,yfe.isPlainObject)(I)?C=>eg(I,(0,Mi.default)({},C,{theme:l2({theme:C.theme,defaultTheme:n,themeId:e})})):I,x=(I,...C)=>{let T=_(I);const b=C?C.map(_):[];l&&f&&b.push(R=>{const N=l2((0,Mi.default)({},R,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,D={};return Object.entries(M).forEach(([j,P])=>{D[j]=eg(P,(0,Mi.default)({},R,{theme:N}))}),f(R,D)}),l&&!m&&b.push(R=>{var N;const M=l2((0,Mi.default)({},R,{defaultTheme:n,themeId:e})),D=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return eg({variants:D},(0,Mi.default)({},R,{theme:M}))}),g||b.push(s);const k=b.length-C.length;if(Array.isArray(I)&&k>0){const R=new Array(k).fill("");T=[...I,...R],T.raw=[...I.raw,...R]}const S=w(T,...b);return o.muiName&&(S.muiName=o.muiName),S};return w.withConfig&&(x.withConfig=w.withConfig),x}}function Ij(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Pfe=t=>Ij(t)&&t!=="classes",ci=Pfe,Nfe=vfe({themeId:Wd,defaultTheme:hT,rootShouldForwardProp:ci}),ue=Nfe,Dfe=["theme"];function Lfe(t){let{theme:e}=t,n=he(t,Dfe);const r=e[Wd];return h.jsx(phe,O({},n,{themeId:r?Wd:void 0,theme:r||e}))}const Mfe=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},qA=Mfe;function rt(t){return fhe(t)}function Ofe(t){return ot("MuiSvgIcon",t)}Qe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $fe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jfe=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return ut(i,Ofe,r)},Ffe=ue("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),Tj=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=he(r,$fe),m=y.isValidElement(i)&&i.type==="svg",g=O({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m}),E={};u||(E.viewBox=f);const v=jfe(g);return h.jsxs(Ffe,O({as:a,className:Te(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},E,p,m&&i.props,{ownerState:g,children:[m?i.props.children:i,d?h.jsx("title",{children:d}):null]}))});Tj.muiName="SvgIcon";const YA=Tj;function He(t,e){function n(r,i){return h.jsx(YA,O({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=YA.muiName,y.memo(y.forwardRef(n))}var zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT=Symbol.for("react.element"),pT=Symbol.for("react.portal"),g_=Symbol.for("react.fragment"),v_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),w_=Symbol.for("react.context"),Vfe=Symbol.for("react.server_context"),x_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),C_=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),I_=Symbol.for("react.lazy"),Ufe=Symbol.for("react.offscreen"),Sj;Sj=Symbol.for("react.module.reference");function ls(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fT:switch(t=t.type,t){case g_:case y_:case v_:case E_:case C_:return t;default:switch(t=t&&t.$$typeof,t){case Vfe:case w_:case x_:case I_:case b_:case __:return t;default:return e}}case pT:return e}}}zt.ContextConsumer=w_;zt.ContextProvider=__;zt.Element=fT;zt.ForwardRef=x_;zt.Fragment=g_;zt.Lazy=I_;zt.Memo=b_;zt.Portal=pT;zt.Profiler=y_;zt.StrictMode=v_;zt.Suspense=E_;zt.SuspenseList=C_;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(t){return ls(t)===w_};zt.isContextProvider=function(t){return ls(t)===__};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fT};zt.isForwardRef=function(t){return ls(t)===x_};zt.isFragment=function(t){return ls(t)===g_};zt.isLazy=function(t){return ls(t)===I_};zt.isMemo=function(t){return ls(t)===b_};zt.isPortal=function(t){return ls(t)===pT};zt.isProfiler=function(t){return ls(t)===y_};zt.isStrictMode=function(t){return ls(t)===v_};zt.isSuspense=function(t){return ls(t)===E_};zt.isSuspenseList=function(t){return ls(t)===C_};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===g_||t===y_||t===v_||t===E_||t===C_||t===Ufe||typeof t=="object"&&t!==null&&(t.$$typeof===I_||t.$$typeof===b_||t.$$typeof===__||t.$$typeof===w_||t.$$typeof===x_||t.$$typeof===Sj||t.getModuleId!==void 0)};zt.typeOf=ls;function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},qE(t,e)}function kj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qE(t,e)}const KA={disabled:!1},M1=Ar.createContext(null);var zfe=function(e){return e.scrollTop},kf="unmounted",Hl="exited",Gl="entering",Du="entered",YE="exiting",ma=function(t){kj(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Hl,s.appearStatus=Gl):l=Du:r.unmountOnExit||r.mountOnEnter?l=kf:l=Hl,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===kf?{status:Hl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Gl&&o!==Du&&(s=Gl):(o===Gl||o===Du)&&(s=YE)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Gl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Um.findDOMNode(this);o&&zfe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hl&&this.setState({status:kf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Um.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||KA.disabled){this.safeSetState({status:Du},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Gl},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Du},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Um.findDOMNode(this);if(!s||KA.disabled){this.safeSetState({status:Hl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:YE},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Hl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Um.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===kf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=he(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ar.createElement(M1.Provider,{value:null},typeof o=="function"?o(i,a):Ar.cloneElement(Ar.Children.only(o),a))},e}(Ar.Component);ma.contextType=M1;ma.propTypes={};function Tu(){}ma.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Tu,onEntering:Tu,onEntered:Tu,onExit:Tu,onExiting:Tu,onExited:Tu};ma.UNMOUNTED=kf;ma.EXITED=Hl;ma.ENTERING=Gl;ma.ENTERED=Du;ma.EXITING=YE;const mT=ma;function Bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gT(t,e){var n=function(s){return e&&y.isValidElement(s)?e(s):s},r=Object.create(null);return t&&y.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Wfe(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function cc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Hfe(t,e){return gT(t.children,function(n){return y.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:cc(n,"appear",t),enter:cc(n,"enter",t),exit:cc(n,"exit",t)})})}function Gfe(t,e,n){var r=gT(t.children),i=Wfe(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(y.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=y.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=y.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:cc(o,"exit",t),enter:cc(o,"enter",t)}):!l&&a&&!u?i[s]=y.cloneElement(o,{in:!1}):l&&a&&y.isValidElement(c)&&(i[s]=y.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:cc(o,"exit",t),enter:cc(o,"enter",t)}))}}),i}var qfe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Yfe={component:"div",childFactory:function(e){return e}},vT=function(t){kj(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Bfe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Hfe(i,a):Gfe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=gT(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=O({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=he(i,["component","childFactory"]),l=this.state.contextValue,c=qfe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ar.createElement(M1.Provider,{value:l},c):Ar.createElement(M1.Provider,{value:l},Ar.createElement(s,a,c))},e}(Ar.Component);vT.propTypes={};vT.defaultProps=Yfe;const Kfe=vT,yT=t=>t.scrollTop;function qc(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Qfe(t){return ot("MuiPaper",t)}Qe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Xfe=["className","component","elevation","square","variant"],Jfe=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ut(s,Qfe,i)},Zfe=ue("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return O({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&O({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zr("#fff",qA(e.elevation))}, ${Zr("#fff",qA(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),e0e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=he(r,Xfe),u=O({},r,{component:s,elevation:o,square:a,variant:l}),d=Jfe(u);return h.jsx(Zfe,O({as:s,ownerState:u,className:Te(d.root,i),ref:n},c))}),kh=e0e;function t0e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=y.useState(!1),f=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=Te(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),y.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,a,c]),h.jsx("span",{className:f,style:p,children:h.jsx("span",{className:m})})}const n0e=Qe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Oi=n0e,r0e=["center","classes","className"];let T_=t=>t,QA,XA,JA,ZA;const KE=550,i0e=80,s0e=Ms(QA||(QA=T_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),o0e=Ms(XA||(XA=T_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),a0e=Ms(JA||(JA=T_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),l0e=ue("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),c0e=ue(t0e,{name:"MuiTouchRipple",slot:"Ripple"})(ZA||(ZA=T_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Oi.rippleVisible,s0e,KE,({theme:t})=>t.transitions.easing.easeInOut,Oi.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Oi.child,Oi.childLeaving,o0e,KE,({theme:t})=>t.transitions.easing.easeInOut,Oi.childPulsate,a0e,({theme:t})=>t.transitions.easing.easeInOut),u0e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=he(r,r0e),[l,c]=y.useState([]),u=y.useRef(0),d=y.useRef(null);y.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=y.useRef(!1),p=lc(),m=y.useRef(null),g=y.useRef(null),E=y.useCallback(x=>{const{pulsate:I,rippleX:C,rippleY:T,rippleSize:b,cb:k}=x;c(S=>[...S,h.jsx(c0e,{classes:{ripple:Te(s.ripple,Oi.ripple),rippleVisible:Te(s.rippleVisible,Oi.rippleVisible),ripplePulsate:Te(s.ripplePulsate,Oi.ripplePulsate),child:Te(s.child,Oi.child),childLeaving:Te(s.childLeaving,Oi.childLeaving),childPulsate:Te(s.childPulsate,Oi.childPulsate)},timeout:KE,pulsate:I,rippleX:C,rippleY:T,rippleSize:b},u.current)]),u.current+=1,d.current=k},[s]),v=y.useCallback((x={},I={},C=()=>{})=>{const{pulsate:T=!1,center:b=i||I.pulsate,fakeElement:k=!1}=I;if((x==null?void 0:x.type)==="mousedown"&&f.current){f.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(f.current=!0);const S=k?null:g.current,R=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,D;if(b||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(R.width/2),M=Math.round(R.height/2);else{const{clientX:j,clientY:P}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round(j-R.left),M=Math.round(P-R.top)}if(b)D=Math.sqrt((2*R.width**2+R.height**2)/3),D%2===0&&(D+=1);else{const j=Math.max(Math.abs((S?S.clientWidth:0)-N),N)*2+2,P=Math.max(Math.abs((S?S.clientHeight:0)-M),M)*2+2;D=Math.sqrt(j**2+P**2)}x!=null&&x.touches?m.current===null&&(m.current=()=>{E({pulsate:T,rippleX:N,rippleY:M,rippleSize:D,cb:C})},p.start(i0e,()=>{m.current&&(m.current(),m.current=null)})):E({pulsate:T,rippleX:N,rippleY:M,rippleSize:D,cb:C})},[i,E,p]),w=y.useCallback(()=>{v({},{pulsate:!0})},[v]),_=y.useCallback((x,I)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(x,I)});return}m.current=null,c(C=>C.length>0?C.slice(1):C),d.current=I},[p]);return y.useImperativeHandle(n,()=>({pulsate:w,start:v,stop:_}),[w,v,_]),h.jsx(l0e,O({className:Te(Oi.root,s.root,o),ref:g},a,{children:h.jsx(Kfe,{component:null,exit:!0,children:l})}))}),d0e=u0e;function h0e(t){return ot("MuiButtonBase",t)}const f0e=Qe("MuiButtonBase",["root","disabled","focusVisible"]),p0e=f0e,m0e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],g0e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=ut({root:["root",e&&"disabled",n&&"focusVisible"]},h0e,i);return n&&r&&(o.root+=` ${r}`),o},v0e=ue("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${p0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),y0e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:m,onClick:g,onContextMenu:E,onDragLeave:v,onFocus:w,onFocusVisible:_,onKeyDown:x,onKeyUp:I,onMouseDown:C,onMouseLeave:T,onMouseUp:b,onTouchEnd:k,onTouchMove:S,onTouchStart:R,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:D,type:j}=r,P=he(r,m0e),A=y.useRef(null),L=y.useRef(null),$=Sn(L,D),{isFocusVisibleRef:F,onFocus:q,onBlur:W,ref:B}=aj(),[U,V]=y.useState(!1);c&&U&&V(!1),y.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),A.current.focus()}}),[]);const[H,ie]=y.useState(!1);y.useEffect(()=>{ie(!0)},[]);const K=H&&!u&&!c;y.useEffect(()=>{U&&f&&!u&&H&&L.current.pulsate()},[u,f,U,H]);function te(Ee,at,qt=d){return Jr(Wt=>(at&&at(Wt),!qt&&L.current&&L.current[Ee](Wt),!0))}const pe=te("start",C),se=te("stop",E),oe=te("stop",v),ye=te("stop",b),we=te("stop",Ee=>{U&&Ee.preventDefault(),T&&T(Ee)}),xe=te("start",R),dt=te("stop",k),Ue=te("stop",S),je=te("stop",Ee=>{W(Ee),F.current===!1&&V(!1),m&&m(Ee)},!1),ht=Jr(Ee=>{A.current||(A.current=Ee.currentTarget),q(Ee),F.current===!0&&(V(!0),_&&_(Ee)),w&&w(Ee)}),Ge=()=>{const Ee=A.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},Se=y.useRef(!1),xt=Jr(Ee=>{f&&!Se.current&&U&&L.current&&Ee.key===" "&&(Se.current=!0,L.current.stop(Ee,()=>{L.current.start(Ee)})),Ee.target===Ee.currentTarget&&Ge()&&Ee.key===" "&&Ee.preventDefault(),x&&x(Ee),Ee.target===Ee.currentTarget&&Ge()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),g&&g(Ee))}),ze=Jr(Ee=>{f&&Ee.key===" "&&L.current&&U&&!Ee.defaultPrevented&&(Se.current=!1,L.current.stop(Ee,()=>{L.current.pulsate(Ee)})),I&&I(Ee),g&&Ee.target===Ee.currentTarget&&Ge()&&Ee.key===" "&&!Ee.defaultPrevented&&g(Ee)});let Ie=l;Ie==="button"&&(P.href||P.to)&&(Ie=p);const yt={};Ie==="button"?(yt.type=j===void 0?"button":j,yt.disabled=c):(!P.href&&!P.to&&(yt.role="button"),c&&(yt["aria-disabled"]=c));const Lt=Sn(n,B,A),hn=O({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:N,focusVisible:U}),Me=g0e(hn);return h.jsxs(v0e,O({as:Ie,className:Te(Me.root,a),ownerState:hn,onBlur:je,onClick:g,onContextMenu:se,onFocus:ht,onKeyDown:xt,onKeyUp:ze,onMouseDown:pe,onMouseLeave:we,onMouseUp:ye,onDragLeave:oe,onTouchEnd:dt,onTouchMove:Ue,onTouchStart:xe,ref:Lt,tabIndex:c?-1:N,type:j},yt,P,{children:[o,K?h.jsx(d0e,O({ref:$,center:s},M)):null]}))}),_T=y0e;function _0e(t){return ot("MuiIconButton",t)}const w0e=Qe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),x0e=w0e,E0e=["edge","children","className","color","disabled","disableFocusRipple","size"],C0e=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${de(r)}`,i&&`edge${de(i)}`,`size${de(s)}`]};return ut(o,_0e,e)},b0e=ue(_T,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(({theme:t,ownerState:e})=>O({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return O({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&O({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":O({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${x0e.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),I0e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=he(r,E0e),f=O({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=C0e(f);return h.jsx(b0e,O({className:Te(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:f,children:s}))}),Ke=I0e;function T0e(t){return ot("MuiTypography",t)}Qe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const S0e=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],k0e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ut(a,T0e,o)},R0e=ue("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>O({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),eP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},A0e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},P0e=t=>A0e[t]||t,N0e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTypography"}),i=P0e(r.color),s=hm(O({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=eP}=s,m=he(s,S0e),g=O({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),E=l||(d?"p":p[f]||eP[f])||"span",v=k0e(g);return h.jsx(R0e,O({as:E,ref:n,ownerState:g,className:Te(v.root,a)},m))}),lt=N0e;function D0e(t){return ot("MuiAppBar",t)}Qe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const L0e=["className","color","enableColorOnDark","position"],M0e=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${de(e)}`,`position${de(n)}`]};return ut(i,D0e,r)},c2=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,O0e=ue(kh,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${de(n.position)}`],e[`color${de(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return O({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&O({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&O({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&O({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:c2(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:c2(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:c2(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:c2(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),$0e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=he(r,L0e),c=O({},r,{color:s,position:a,enableColorOnDark:o}),u=M0e(c);return h.jsx(O0e,O({square:!0,component:"header",ownerState:c,elevation:4,className:Te(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),Rj=$0e;var wT={};Object.defineProperty(wT,"__esModule",{value:!0});var Aj=wT.default=void 0,j0e=V0e(y),F0e=Cj;function Pj(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Pj=function(r){return r?n:e})(t)}function V0e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Pj(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function U0e(t){return Object.keys(t).length===0}function z0e(t=null){const e=j0e.useContext(F0e.ThemeContext);return!e||U0e(e)?t:e}Aj=wT.default=z0e;var si="top",es="bottom",ts="right",oi="left",xT="auto",mm=[si,es,ts,oi],Gd="start",pp="end",B0e="clippingParents",Nj="viewport",af="popper",W0e="reference",tP=mm.reduce(function(t,e){return t.concat([e+"-"+Gd,e+"-"+pp])},[]),Dj=[].concat(mm,[xT]).reduce(function(t,e){return t.concat([e,e+"-"+Gd,e+"-"+pp])},[]),H0e="beforeRead",G0e="read",q0e="afterRead",Y0e="beforeMain",K0e="main",Q0e="afterMain",X0e="beforeWrite",J0e="write",Z0e="afterWrite",epe=[H0e,G0e,q0e,Y0e,K0e,Q0e,X0e,J0e,Z0e];function lo(t){return t?(t.nodeName||"").toLowerCase():null}function Ti(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yc(t){var e=Ti(t).Element;return t instanceof e||t instanceof Element}function Ki(t){var e=Ti(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ET(t){if(typeof ShadowRoot>"u")return!1;var e=Ti(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function tpe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Ki(s)||!lo(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function npe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ki(i)||!lo(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const rpe={name:"applyStyles",enabled:!0,phase:"write",fn:tpe,effect:npe,requires:["computeStyles"]};function io(t){return t.split("-")[0]}var xc=Math.max,O1=Math.min,qd=Math.round;function QE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Lj(){return!/^((?!chrome|android).)*safari/i.test(QE())}function Yd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Ki(t)&&(i=t.offsetWidth>0&&qd(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&qd(r.height)/t.offsetHeight||1);var o=Yc(t)?Ti(t):window,a=o.visualViewport,l=!Lj()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function CT(t){var e=Yd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Mj(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ET(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ia(t){return Ti(t).getComputedStyle(t)}function ipe(t){return["table","td","th"].indexOf(lo(t))>=0}function Dl(t){return((Yc(t)?t.ownerDocument:t.document)||window.document).documentElement}function S_(t){return lo(t)==="html"?t:t.assignedSlot||t.parentNode||(ET(t)?t.host:null)||Dl(t)}function nP(t){return!Ki(t)||ia(t).position==="fixed"?null:t.offsetParent}function spe(t){var e=/firefox/i.test(QE()),n=/Trident/i.test(QE());if(n&&Ki(t)){var r=ia(t);if(r.position==="fixed")return null}var i=S_(t);for(ET(i)&&(i=i.host);Ki(i)&&["html","body"].indexOf(lo(i))<0;){var s=ia(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gm(t){for(var e=Ti(t),n=nP(t);n&&ipe(n)&&ia(n).position==="static";)n=nP(n);return n&&(lo(n)==="html"||lo(n)==="body"&&ia(n).position==="static")?e:n||spe(t)||e}function bT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function t0(t,e,n){return xc(t,O1(e,n))}function ope(t,e,n){var r=t0(t,e,n);return r>n?n:r}function Oj(){return{top:0,right:0,bottom:0,left:0}}function $j(t){return Object.assign({},Oj(),t)}function jj(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var ape=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$j(typeof e!="number"?e:jj(e,mm))};function lpe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=io(n.placement),l=bT(a),c=[oi,ts].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=ape(i.padding,n),f=CT(s),p=l==="y"?si:oi,m=l==="y"?es:ts,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],E=o[l]-n.rects.reference[l],v=gm(s),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,_=g/2-E/2,x=d[p],I=w-f[u]-d[m],C=w/2-f[u]/2+_,T=t0(x,C,I),b=l;n.modifiersData[r]=(e={},e[b]=T,e.centerOffset=T-C,e)}}function cpe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Mj(e.elements.popper,i)&&(e.elements.arrow=i))}const upe={name:"arrow",enabled:!0,phase:"main",fn:lpe,effect:cpe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kd(t){return t.split("-")[1]}var dpe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hpe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:qd(n*i)/i||0,y:qd(r*i)/i||0}}function rP(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,E=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=E.x,g=E.y;var v=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),_=oi,x=si,I=window;if(c){var C=gm(n),T="clientHeight",b="clientWidth";if(C===Ti(n)&&(C=Dl(n),ia(C).position!=="static"&&a==="absolute"&&(T="scrollHeight",b="scrollWidth")),C=C,i===si||(i===oi||i===ts)&&s===pp){x=es;var k=d&&C===I&&I.visualViewport?I.visualViewport.height:C[T];g-=k-r.height,g*=l?1:-1}if(i===oi||(i===si||i===es)&&s===pp){_=ts;var S=d&&C===I&&I.visualViewport?I.visualViewport.width:C[b];p-=S-r.width,p*=l?1:-1}}var R=Object.assign({position:a},c&&dpe),N=u===!0?hpe({x:p,y:g},Ti(n)):{x:p,y:g};if(p=N.x,g=N.y,l){var M;return Object.assign({},R,(M={},M[x]=w?"0":"",M[_]=v?"0":"",M.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",M))}return Object.assign({},R,(e={},e[x]=w?g+"px":"",e[_]=v?p+"px":"",e.transform="",e))}function fpe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:io(e.placement),variation:Kd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rP(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rP(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ppe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fpe,data:{}};var u2={passive:!0};function mpe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ti(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,u2)}),a&&l.addEventListener("resize",n.update,u2),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,u2)}),a&&l.removeEventListener("resize",n.update,u2)}}const gpe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mpe,data:{}};var vpe={left:"right",right:"left",bottom:"top",top:"bottom"};function tg(t){return t.replace(/left|right|bottom|top/g,function(e){return vpe[e]})}var ype={start:"end",end:"start"};function iP(t){return t.replace(/start|end/g,function(e){return ype[e]})}function IT(t){var e=Ti(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function TT(t){return Yd(Dl(t)).left+IT(t).scrollLeft}function _pe(t,e){var n=Ti(t),r=Dl(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Lj();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+TT(t),y:l}}function wpe(t){var e,n=Dl(t),r=IT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=xc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=xc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+TT(t),l=-r.scrollTop;return ia(i||n).direction==="rtl"&&(a+=xc(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ST(t){var e=ia(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Fj(t){return["html","body","#document"].indexOf(lo(t))>=0?t.ownerDocument.body:Ki(t)&&ST(t)?t:Fj(S_(t))}function n0(t,e){var n;e===void 0&&(e=[]);var r=Fj(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ti(r),o=i?[s].concat(s.visualViewport||[],ST(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(n0(S_(o)))}function XE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xpe(t,e){var n=Yd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function sP(t,e,n){return e===Nj?XE(_pe(t,n)):Yc(e)?xpe(e,n):XE(wpe(Dl(t)))}function Epe(t){var e=n0(S_(t)),n=["absolute","fixed"].indexOf(ia(t).position)>=0,r=n&&Ki(t)?gm(t):t;return Yc(r)?e.filter(function(i){return Yc(i)&&Mj(i,r)&&lo(i)!=="body"}):[]}function Cpe(t,e,n,r){var i=e==="clippingParents"?Epe(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=sP(t,c,r);return l.top=xc(u.top,l.top),l.right=O1(u.right,l.right),l.bottom=O1(u.bottom,l.bottom),l.left=xc(u.left,l.left),l},sP(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Vj(t){var e=t.reference,n=t.element,r=t.placement,i=r?io(r):null,s=r?Kd(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case si:l={x:o,y:e.y-n.height};break;case es:l={x:o,y:e.y+e.height};break;case ts:l={x:e.x+e.width,y:a};break;case oi:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?bT(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Gd:l[c]=l[c]-(e[u]/2-n[u]/2);break;case pp:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function mp(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?B0e:a,c=n.rootBoundary,u=c===void 0?Nj:c,d=n.elementContext,f=d===void 0?af:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,E=g===void 0?0:g,v=$j(typeof E!="number"?E:jj(E,mm)),w=f===af?W0e:af,_=t.rects.popper,x=t.elements[m?w:f],I=Cpe(Yc(x)?x:x.contextElement||Dl(t.elements.popper),l,u,o),C=Yd(t.elements.reference),T=Vj({reference:C,element:_,strategy:"absolute",placement:i}),b=XE(Object.assign({},_,T)),k=f===af?b:C,S={top:I.top-k.top+v.top,bottom:k.bottom-I.bottom+v.bottom,left:I.left-k.left+v.left,right:k.right-I.right+v.right},R=t.modifiersData.offset;if(f===af&&R){var N=R[i];Object.keys(S).forEach(function(M){var D=[ts,es].indexOf(M)>=0?1:-1,j=[si,es].indexOf(M)>=0?"y":"x";S[M]+=N[j]*D})}return S}function bpe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Dj:l,u=Kd(r),d=u?a?tP:tP.filter(function(m){return Kd(m)===u}):mm,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=mp(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[io(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function Ipe(t){if(io(t)===xT)return[];var e=tg(t);return[iP(t),e,iP(e)]}function Tpe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,E=e.options.placement,v=io(E),w=v===E,_=l||(w||!m?[tg(E)]:Ipe(E)),x=[E].concat(_).reduce(function(U,V){return U.concat(io(V)===xT?bpe(e,{placement:V,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):V)},[]),I=e.rects.reference,C=e.rects.popper,T=new Map,b=!0,k=x[0],S=0;S<x.length;S++){var R=x[S],N=io(R),M=Kd(R)===Gd,D=[si,es].indexOf(N)>=0,j=D?"width":"height",P=mp(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),A=D?M?ts:oi:M?es:si;I[j]>C[j]&&(A=tg(A));var L=tg(A),$=[];if(s&&$.push(P[N]<=0),a&&$.push(P[A]<=0,P[L]<=0),$.every(function(U){return U})){k=R,b=!1;break}T.set(R,$)}if(b)for(var F=m?3:1,q=function(V){var H=x.find(function(ie){var K=T.get(ie);if(K)return K.slice(0,V).every(function(te){return te})});if(H)return k=H,"break"},W=F;W>0;W--){var B=q(W);if(B==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const Spe={name:"flip",enabled:!0,phase:"main",fn:Tpe,requiresIfExists:["offset"],data:{_skip:!1}};function oP(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function aP(t){return[si,ts,es,oi].some(function(e){return t[e]>=0})}function kpe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=mp(e,{elementContext:"reference"}),a=mp(e,{altBoundary:!0}),l=oP(o,r),c=oP(a,i,s),u=aP(l),d=aP(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Rpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kpe};function Ape(t,e,n){var r=io(t),i=[oi,si].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[oi,ts].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Ppe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Dj.reduce(function(u,d){return u[d]=Ape(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Npe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ppe};function Dpe(t){var e=t.state,n=t.name;e.modifiersData[n]=Vj({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Lpe={name:"popperOffsets",enabled:!0,phase:"read",fn:Dpe,data:{}};function Mpe(t){return t==="x"?"y":"x"}function Ope(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,E=mp(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=io(e.placement),w=Kd(e.placement),_=!w,x=bT(v),I=Mpe(x),C=e.modifiersData.popperOffsets,T=e.rects.reference,b=e.rects.popper,k=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,S=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(C){if(s){var M,D=x==="y"?si:oi,j=x==="y"?es:ts,P=x==="y"?"height":"width",A=C[x],L=A+E[D],$=A-E[j],F=p?-b[P]/2:0,q=w===Gd?T[P]:b[P],W=w===Gd?-b[P]:-T[P],B=e.elements.arrow,U=p&&B?CT(B):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Oj(),H=V[D],ie=V[j],K=t0(0,T[P],U[P]),te=_?T[P]/2-F-K-H-S.mainAxis:q-K-H-S.mainAxis,pe=_?-T[P]/2+F+K+ie+S.mainAxis:W+K+ie+S.mainAxis,se=e.elements.arrow&&gm(e.elements.arrow),oe=se?x==="y"?se.clientTop||0:se.clientLeft||0:0,ye=(M=R==null?void 0:R[x])!=null?M:0,we=A+te-ye-oe,xe=A+pe-ye,dt=t0(p?O1(L,we):L,A,p?xc($,xe):$);C[x]=dt,N[x]=dt-A}if(a){var Ue,je=x==="x"?si:oi,ht=x==="x"?es:ts,Ge=C[I],Se=I==="y"?"height":"width",xt=Ge+E[je],ze=Ge-E[ht],Ie=[si,oi].indexOf(v)!==-1,yt=(Ue=R==null?void 0:R[I])!=null?Ue:0,Lt=Ie?xt:Ge-T[Se]-b[Se]-yt+S.altAxis,hn=Ie?Ge+T[Se]+b[Se]-yt-S.altAxis:ze,Me=p&&Ie?ope(Lt,Ge,hn):t0(p?Lt:xt,Ge,p?hn:ze);C[I]=Me,N[I]=Me-Ge}e.modifiersData[r]=N}}const $pe={name:"preventOverflow",enabled:!0,phase:"main",fn:Ope,requiresIfExists:["offset"]};function jpe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Fpe(t){return t===Ti(t)||!Ki(t)?IT(t):jpe(t)}function Vpe(t){var e=t.getBoundingClientRect(),n=qd(e.width)/t.offsetWidth||1,r=qd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Upe(t,e,n){n===void 0&&(n=!1);var r=Ki(e),i=Ki(e)&&Vpe(e),s=Dl(e),o=Yd(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((lo(e)!=="body"||ST(s))&&(a=Fpe(e)),Ki(e)?(l=Yd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=TT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function zpe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Bpe(t){var e=zpe(t);return epe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Wpe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Hpe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var lP={placement:"bottom",modifiers:[],strategy:"absolute"};function cP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Gpe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?lP:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},lP,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:Yc(a)?n0(a):a.contextElement?n0(a.contextElement):[],popper:n0(l)};var _=Bpe(Hpe([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(x){return x.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=u.elements,w=v.reference,_=v.popper;if(cP(w,_)){u.rects={reference:Upe(w,gm(_),u.options.strategy==="fixed"),popper:CT(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(S){return u.modifiersData[S.name]=Object.assign({},S.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var I=u.orderedModifiers[x],C=I.fn,T=I.options,b=T===void 0?{}:T,k=I.name;typeof C=="function"&&(u=C({state:u,options:b,name:k,instance:p})||u)}}}},update:Wpe(function(){return new Promise(function(E){p.forceUpdate(),E(u)})}),destroy:function(){g(),f=!0}};if(!cP(a,l))return p;p.setOptions(c).then(function(E){!f&&c.onFirstUpdate&&c.onFirstUpdate(E)});function m(){u.orderedModifiers.forEach(function(E){var v=E.name,w=E.options,_=w===void 0?{}:w,x=E.effect;if(typeof x=="function"){var I=x({state:u,name:v,instance:p,options:_}),C=function(){};d.push(I||C)}})}function g(){d.forEach(function(E){return E()}),d=[]}return p}}var qpe=[gpe,Lpe,ppe,rpe,Npe,Spe,$pe,upe,Rpe],Ype=Gpe({defaultModifiers:qpe});function Kpe(t){return typeof t=="function"?t():t}const Qpe=y.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=y.useState(null),l=Sn(y.isValidElement(r)?r.ref:null,n);if(Ii(()=>{s||a(Kpe(i)||document.body)},[i,s]),Ii(()=>{if(o&&!s)return BE(n,o),()=>{BE(n,null)}},[n,o,s]),s){if(y.isValidElement(r)){const c={ref:l};return y.cloneElement(r,c)}return h.jsx(y.Fragment,{children:r})}return h.jsx(y.Fragment,{children:o&&I0.createPortal(r,o)})}),Uj=Qpe;function Xpe(t){return ot("MuiPopper",t)}Qe("MuiPopper",["root"]);const Jpe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Zpe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function eme(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function JE(t){return typeof t=="function"?t():t}function tme(t){return t.nodeType!==void 0}const nme=t=>{const{classes:e}=t;return ut({root:["root"]},Xpe,e)},rme={},ime=y.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:f,slotProps:p={},slots:m={},TransitionProps:g}=e,E=he(e,Jpe),v=y.useRef(null),w=Sn(v,n),_=y.useRef(null),x=Sn(_,f),I=y.useRef(x);Ii(()=>{I.current=x},[x]),y.useImperativeHandle(f,()=>_.current,[]);const C=eme(u,o),[T,b]=y.useState(C),[k,S]=y.useState(JE(i));y.useEffect(()=>{_.current&&_.current.forceUpdate()}),y.useEffect(()=>{i&&S(JE(i))},[i]),Ii(()=>{if(!k||!c)return;const j=L=>{b(L.placement)};let P=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:L})=>{j(L)}}];l!=null&&(P=P.concat(l)),d&&d.modifiers!=null&&(P=P.concat(d.modifiers));const A=Ype(k,v.current,O({placement:C},d,{modifiers:P}));return I.current(A),()=>{A.destroy(),I.current(null)}},[k,a,l,c,d,C]);const R={placement:T};g!==null&&(R.TransitionProps=g);const N=nme(e),M=(r=m.root)!=null?r:"div",D=xl({elementType:M,externalSlotProps:p.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:N.root});return h.jsx(M,O({},D,{children:typeof s=="function"?s(R):s}))}),sme=y.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=rme,popperRef:p,style:m,transition:g=!1,slotProps:E={},slots:v={}}=e,w=he(e,Zpe),[_,x]=y.useState(!0),I=()=>{x(!1)},C=()=>{x(!0)};if(!l&&!u&&(!g||_))return null;let T;if(s)T=s;else if(r){const S=JE(r);T=S&&tme(S)?_n(S).body:_n(null).body}const b=!u&&l&&(!g||_)?"none":void 0,k=g?{in:u,onEnter:I,onExited:C}:void 0;return h.jsx(Uj,{disablePortal:a,container:T,children:h.jsx(ime,O({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:g?!_:u,placement:d,popperOptions:f,popperRef:p,slotProps:E,slots:v},w,{style:O({position:"fixed",top:0,left:0,display:b},m),TransitionProps:k,children:i}))})}),ome=sme,ame=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],lme=ue(ome,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cme=y.forwardRef(function(e,n){var r;const i=Aj(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:m,placement:g,popperOptions:E,popperRef:v,transition:w,slots:_,slotProps:x}=s,I=he(s,ame),C=(r=_==null?void 0:_.root)!=null?r:l==null?void 0:l.Root,T=O({anchorEl:o,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:m,placement:g,popperOptions:E,popperRef:v,transition:w},I);return h.jsx(lme,O({as:a,direction:i==null?void 0:i.direction,slots:{root:C},slotProps:x??c},T,{ref:n}))}),zj=cme,ume=["onChange","maxRows","minRows","style","value"];function d2(t){return parseInt(t,10)||0}const dme={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function hme(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const fme=y.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=he(e,ume),{current:c}=y.useRef(a!=null),u=y.useRef(null),d=Sn(n,u),f=y.useRef(null),p=y.useRef(null),m=y.useCallback(()=>{const v=u.current,_=xi(v).getComputedStyle(v);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const x=p.current;x.style.width=_.width,x.value=v.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const I=_.boxSizing,C=d2(_.paddingBottom)+d2(_.paddingTop),T=d2(_.borderBottomWidth)+d2(_.borderTopWidth),b=x.scrollHeight;x.value="x";const k=x.scrollHeight;let S=b;s&&(S=Math.max(Number(s)*k,S)),i&&(S=Math.min(Number(i)*k,S)),S=Math.max(S,k);const R=S+(I==="border-box"?C+T:0),N=Math.abs(S-b)<=1;return{outerHeightStyle:R,overflowing:N}},[i,s,e.placeholder]),g=y.useCallback(()=>{const v=m();if(hme(v))return;const w=v.outerHeightStyle,_=u.current;f.current!==w&&(f.current=w,_.style.height=`${w}px`),_.style.overflow=v.overflowing?"hidden":""},[m]);Ii(()=>{const v=()=>{g()};let w;const _=aT(v),x=u.current,I=xi(x);I.addEventListener("resize",_);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(v),C.observe(x)),()=>{_.clear(),cancelAnimationFrame(w),I.removeEventListener("resize",_),C&&C.disconnect()}},[m,g]),Ii(()=>{g()});const E=v=>{c||g(),r&&r(v)};return h.jsxs(y.Fragment,{children:[h.jsx("textarea",O({value:a,onChange:E,ref:d,rows:s,style:o},l)),h.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:O({},dme.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),pme=fme;function Rh({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const mme=y.createContext(void 0),kT=mme;function Ah(){return y.useContext(kT)}function Bj(t){return h.jsx(cde,O({},t,{defaultTheme:hT,themeId:Wd}))}function uP(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function $1(t,e=!1){return t&&(uP(t.value)&&t.value!==""||e&&uP(t.defaultValue)&&t.defaultValue!=="")}function gme(t){return t.startAdornment}function vme(t){return ot("MuiInputBase",t)}const yme=Qe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Qd=yme,_me=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],k_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},R_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},wme=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:m}=t,g={root:["root",`color${de(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${de(f)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return ut(g,vme,e)},A_=ue("div",{name:"MuiInputBase",slot:"Root",overridesResolver:k_})(({theme:t,ownerState:e})=>O({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Qd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&O({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),P_=ue("input",{name:"MuiInputBase",slot:"Input",overridesResolver:R_})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=O({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return O({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Qd.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Qd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),xme=h.jsx(Bj,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Eme=y.forwardRef(function(e,n){var r;const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:g=!1,id:E,inputComponent:v="input",inputProps:w={},inputRef:_,maxRows:x,minRows:I,multiline:C=!1,name:T,onBlur:b,onChange:k,onClick:S,onFocus:R,onKeyDown:N,onKeyUp:M,placeholder:D,readOnly:j,renderSuffix:P,rows:A,slotProps:L={},slots:$={},startAdornment:F,type:q="text",value:W}=i,B=he(i,_me),U=w.value!=null?w.value:W,{current:V}=y.useRef(U!=null),H=y.useRef(),ie=y.useCallback(Me=>{},[]),K=Sn(H,_,w.ref,ie),[te,pe]=y.useState(!1),se=Ah(),oe=Rh({props:i,muiFormControl:se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=se?se.focused:te,y.useEffect(()=>{!se&&f&&te&&(pe(!1),b&&b())},[se,f,te,b]);const ye=se&&se.onFilled,we=se&&se.onEmpty,xe=y.useCallback(Me=>{$1(Me)?ye&&ye():we&&we()},[ye,we]);Ii(()=>{V&&xe({value:U})},[U,xe,V]);const dt=Me=>{if(oe.disabled){Me.stopPropagation();return}R&&R(Me),w.onFocus&&w.onFocus(Me),se&&se.onFocus?se.onFocus(Me):pe(!0)},Ue=Me=>{b&&b(Me),w.onBlur&&w.onBlur(Me),se&&se.onBlur?se.onBlur(Me):pe(!1)},je=(Me,...Ee)=>{if(!V){const at=Me.target||H.current;if(at==null)throw new Error(na(1));xe({value:at.value})}w.onChange&&w.onChange(Me,...Ee),k&&k(Me,...Ee)};y.useEffect(()=>{xe(H.current)},[]);const ht=Me=>{H.current&&Me.currentTarget===Me.target&&H.current.focus(),S&&S(Me)};let Ge=v,Se=w;C&&Ge==="input"&&(A?Se=O({type:void 0,minRows:A,maxRows:A},Se):Se=O({type:void 0,maxRows:x,minRows:I},Se),Ge=pme);const xt=Me=>{xe(Me.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};y.useEffect(()=>{se&&se.setAdornedStart(!!F)},[se,F]);const ze=O({},i,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:m,error:oe.error,focused:oe.focused,formControl:se,fullWidth:g,hiddenLabel:oe.hiddenLabel,multiline:C,size:oe.size,startAdornment:F,type:q}),Ie=wme(ze),yt=$.root||c.Root||A_,Lt=L.root||u.root||{},hn=$.input||c.Input||P_;return Se=O({},Se,(r=L.input)!=null?r:u.input),h.jsxs(y.Fragment,{children:[!p&&xme,h.jsxs(yt,O({},Lt,!N1(yt)&&{ownerState:O({},ze,Lt.ownerState)},{ref:n,onClick:ht},B,{className:Te(Ie.root,Lt.className,l,j&&"MuiInputBase-readOnly"),children:[F,h.jsx(kT.Provider,{value:null,children:h.jsx(hn,O({ownerState:ze,"aria-invalid":oe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:oe.disabled,id:E,onAnimationStart:xt,name:T,placeholder:D,readOnly:j,required:oe.required,rows:A,value:U,onKeyDown:N,onKeyUp:M,type:q},Se,!N1(hn)&&{as:Ge,ownerState:O({},ze,Se.ownerState)},{ref:K,className:Te(Ie.input,Se.className,j&&"MuiInputBase-readOnly"),onBlur:Ue,onChange:je,onFocus:dt}))}),m,P?P(O({},oe,{startAdornment:F})):null]}))]})}),RT=Eme;function Cme(t){return ot("MuiInput",t)}const bme=O({},Qd,Qe("MuiInput",["root","underline","input"])),lf=bme;function Ime(t){return ot("MuiOutlinedInput",t)}const Tme=O({},Qd,Qe("MuiOutlinedInput",["root","notchedOutline","input"])),Ca=Tme;function Sme(t){return ot("MuiFilledInput",t)}const kme=O({},Qd,Qe("MuiFilledInput",["root","underline","input"])),jl=kme,Rme=He(h.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ame=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Pme={entering:{opacity:1},entered:{opacity:1}},Nme=y.forwardRef(function(e,n){const r=Tt(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:g,style:E,timeout:v=i,TransitionComponent:w=mT}=e,_=he(e,Ame),x=y.useRef(null),I=Sn(x,a.ref,n),C=D=>j=>{if(D){const P=x.current;j===void 0?D(P):D(P,j)}},T=C(f),b=C((D,j)=>{yT(D);const P=qc({style:E,timeout:v,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",P),D.style.transition=r.transitions.create("opacity",P),u&&u(D,j)}),k=C(d),S=C(g),R=C(D=>{const j=qc({style:E,timeout:v,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",j),D.style.transition=r.transitions.create("opacity",j),p&&p(D)}),N=C(m),M=D=>{s&&s(x.current,D)};return h.jsx(w,O({appear:o,in:c,nodeRef:x,onEnter:b,onEntered:k,onEntering:T,onExit:R,onExited:N,onExiting:S,addEndListener:M,timeout:v},_,{children:(D,j)=>y.cloneElement(a,O({style:O({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},Pme[D],E,a.props.style),ref:I},j))}))}),Wj=Nme;function Dme(t){return ot("MuiBackdrop",t)}Qe("MuiBackdrop",["root","invisible"]);const Lme=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Mme=t=>{const{classes:e,invisible:n}=t;return ut({root:["root",n&&"invisible"]},Dme,e)},Ome=ue("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>O({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),$me=y.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:p,slotProps:m={},slots:g={},TransitionComponent:E=Wj,transitionDuration:v}=o,w=he(o,Lme),_=O({},o,{component:c,invisible:f}),x=Mme(_),I=(r=m.root)!=null?r:d.root;return h.jsx(E,O({in:p,timeout:v},w,{children:h.jsx(Ome,O({"aria-hidden":!0},I,{as:(i=(s=g.root)!=null?s:u.Root)!=null?i:c,className:Te(x.root,l,I==null?void 0:I.className),ownerState:O({},_,I==null?void 0:I.ownerState),classes:x,ref:n,children:a}))}))}),Hj=$me,jme=Qe("MuiBox",["root"]),Fme=jme,Vme=dT(),Ume=gde({themeId:Wd,defaultTheme:Vme,defaultClassName:Fme.root,generateClassName:X$.generate}),ce=Ume;function zme(t){return ot("MuiButton",t)}const Bme=Qe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),h2=Bme,Wme=y.createContext({}),Hme=Wme,Gme=y.createContext(void 0),qme=Gme,Yme=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Kme=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${de(e)}`,`size${de(i)}`,`${s}Size${de(i)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${de(i)}`],endIcon:["icon","endIcon",`iconSize${de(i)}`]},l=ut(a,zme,o);return O({},o,l)},Gj=t=>O({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Qme=ue(_T,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return O({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":O({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":O({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${h2.focusVisible}`]:O({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${h2.disabled}`]:O({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Zr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${h2.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${h2.disabled}`]:{boxShadow:"none"}}),Xme=ue("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${de(n.size)}`]]}})(({ownerState:t})=>O({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Gj(t))),Jme=ue("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${de(n.size)}`]]}})(({ownerState:t})=>O({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Gj(t))),Zme=y.forwardRef(function(e,n){const r=y.useContext(Hme),i=y.useContext(qme),s=fp(r,e),o=rt({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:E=!1,size:v="medium",startIcon:w,type:_,variant:x="text"}=o,I=he(o,Yme),C=O({},o,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:E,size:v,type:_,variant:x}),T=Kme(C),b=w&&h.jsx(Xme,{className:T.startIcon,ownerState:C,children:w}),k=m&&h.jsx(Jme,{className:T.endIcon,ownerState:C,children:m}),S=i||"";return h.jsxs(Qme,O({ownerState:C,className:Te(r.className,T.root,u,S),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:Te(T.focusVisible,g),ref:n,type:_},I,{classes:T,children:[b,a,k]}))}),Le=Zme;function e2e(t){return ot("MuiCircularProgress",t)}Qe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const t2e=["className","color","disableShrink","size","style","thickness","value","variant"];let N_=t=>t,dP,hP,fP,pP;const ba=44,n2e=Ms(dP||(dP=N_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),r2e=Ms(hP||(hP=N_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),i2e=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${de(r)}`],svg:["svg"],circle:["circle",`circle${de(n)}`,i&&"circleDisableShrink"]};return ut(s,e2e,e)},s2e=ue("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${de(n.color)}`]]}})(({ownerState:t,theme:e})=>O({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&ra(fP||(fP=N_`
      animation: ${0} 1.4s linear infinite;
    `),n2e)),o2e=ue("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),a2e=ue("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${de(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>O({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&ra(pP||(pP=N_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),r2e)),l2e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=he(r,t2e),p=O({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),m=i2e(p),g={},E={},v={};if(d==="determinate"){const w=2*Math.PI*((ba-c)/2);g.strokeDasharray=w.toFixed(3),v["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,E.transform="rotate(-90deg)"}return h.jsx(s2e,O({className:Te(m.root,i),style:O({width:a,height:a},E,l),ownerState:p,ref:n,role:"progressbar"},v,f,{children:h.jsx(o2e,{className:m.svg,ownerState:p,viewBox:`${ba/2} ${ba/2} ${ba} ${ba}`,children:h.jsx(a2e,{className:m.circle,style:g,ownerState:p,cx:ba,cy:ba,r:(ba-c)/2,fill:"none",strokeWidth:c})})}))}),c2e=l2e;function mP(t){return t.substring(2).toLowerCase()}function u2e(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function d2e(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=y.useRef(!1),a=y.useRef(null),l=y.useRef(!1),c=y.useRef(!1);y.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Sn(e.ref,a),d=Jr(m=>{const g=c.current;c.current=!1;const E=_n(a.current);if(!l.current||!a.current||"clientX"in m&&u2e(m,E))return;if(o.current){o.current=!1;return}let v;m.composedPath?v=m.composedPath().indexOf(a.current)>-1:v=!E.documentElement.contains(m.target)||a.current.contains(m.target),!v&&(n||!g)&&i(m)}),f=m=>g=>{c.current=!0;const E=e.props[m];E&&E(g)},p={ref:u};return s!==!1&&(p[s]=f(s)),y.useEffect(()=>{if(s!==!1){const m=mP(s),g=_n(a.current),E=()=>{o.current=!0};return g.addEventListener(m,d),g.addEventListener("touchmove",E),()=>{g.removeEventListener(m,d),g.removeEventListener("touchmove",E)}}},[d,s]),r!==!1&&(p[r]=f(r)),y.useEffect(()=>{if(r!==!1){const m=mP(r),g=_n(a.current);return g.addEventListener(m,d),()=>{g.removeEventListener(m,d)}}},[d,r]),h.jsx(y.Fragment,{children:y.cloneElement(e,p)})}const h2e=(t,e)=>O({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),f2e=t=>O({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),p2e=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let i=O({html:h2e(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:O({margin:0},f2e(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function m2e(t){const e=rt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return h.jsxs(y.Fragment,{children:[h.jsx(Bj,{styles:i=>p2e(i,r)}),n]})}function g2e(t){const e=_n(t);return e.body===t?xi(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function r0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function gP(t){return parseInt(xi(t).getComputedStyle(t).paddingRight,10)||0}function v2e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function vP(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!v2e(o);a&&l&&r0(o,i)})}function sx(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function y2e(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(g2e(r)){const o=lj(_n(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${gP(r)+o}px`;const a=_n(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${gP(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=_n(r).body;else{const o=r.parentElement,a=xi(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function _2e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class w2e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&r0(e.modalRef,!1);const i=_2e(n);vP(n,e.mount,e.modalRef,i,!0);const s=sx(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=sx(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=y2e(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=sx(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&r0(e.modalRef,n),vP(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&r0(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const x2e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function E2e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function C2e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function b2e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||C2e(t))}function I2e(t){const e=[],n=[];return Array.from(t.querySelectorAll(x2e)).forEach((r,i)=>{const s=E2e(r);s===-1||!b2e(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function T2e(){return!0}function S2e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=I2e,isEnabled:o=T2e,open:a}=t,l=y.useRef(!1),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),p=y.useRef(!1),m=y.useRef(null),g=Sn(e.ref,m),E=y.useRef(null);y.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),y.useEffect(()=>{if(!a||!m.current)return;const _=_n(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),y.useEffect(()=>{if(!a||!m.current)return;const _=_n(m.current),x=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&_.activeElement===m.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},I=()=>{const T=m.current;if(T===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let b=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(b=s(m.current)),b.length>0){var k,S;const R=!!((k=E.current)!=null&&k.shiftKey&&((S=E.current)==null?void 0:S.key)==="Tab"),N=b[0],M=b[b.length-1];typeof N!="string"&&typeof M!="string"&&(R?M.focus():N.focus())}else T.focus()};_.addEventListener("focusin",I),_.addEventListener("keydown",x,!0);const C=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(C),_.removeEventListener("focusin",I),_.removeEventListener("keydown",x,!0)}},[n,r,i,o,a,s]);const v=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,f.current=_.target;const x=e.props.onFocus;x&&x(_)},w=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return h.jsxs(y.Fragment,{children:[h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),y.cloneElement(e,{ref:g,onFocus:v}),h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function k2e(t){return typeof t=="function"?t():t}function R2e(t){return t?t.props.hasOwnProperty("in"):!1}const A2e=new w2e;function P2e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=A2e,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=y.useRef({}),p=y.useRef(null),m=y.useRef(null),g=Sn(m,d),[E,v]=y.useState(!u),w=R2e(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const x=()=>_n(p.current),I=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),C=()=>{i.mount(I(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},T=Jr(()=>{const P=k2e(e)||x().body;i.add(I(),P),m.current&&C()}),b=y.useCallback(()=>i.isTopModal(I()),[i]),k=Jr(P=>{p.current=P,P&&(u&&b()?C():m.current&&r0(m.current,_))}),S=y.useCallback(()=>{i.remove(I(),_)},[_,i]);y.useEffect(()=>()=>{S()},[S]),y.useEffect(()=>{u?T():(!w||!s)&&S()},[u,S,w,s,T]);const R=P=>A=>{var L;(L=P.onKeyDown)==null||L.call(P,A),!(A.key!=="Escape"||A.which===229||!b())&&(n||(A.stopPropagation(),c&&c(A,"escapeKeyDown")))},N=P=>A=>{var L;(L=P.onClick)==null||L.call(P,A),A.target===A.currentTarget&&c&&c(A,"backdropClick")};return{getRootProps:(P={})=>{const A=D1(t);delete A.onTransitionEnter,delete A.onTransitionExited;const L=O({},A,P);return O({role:"presentation"},L,{onKeyDown:R(L),ref:g})},getBackdropProps:(P={})=>{const A=P;return O({"aria-hidden":!0},A,{onClick:N(A),open:u})},getTransitionProps:()=>{const P=()=>{v(!1),o&&o()},A=()=>{v(!0),a&&a(),s&&S()};return{onEnter:NA(P,l==null?void 0:l.props.onEnter),onExited:NA(A,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:k,isTopModal:b,exited:E,hasTransition:w}}function N2e(t){return ot("MuiModal",t)}Qe("MuiModal",["root","hidden","backdrop"]);const D2e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],L2e=t=>{const{open:e,exited:n,classes:r}=t;return ut({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},N2e,r)},M2e=ue("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>O({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),O2e=ue(Hj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),$2e=y.forwardRef(function(e,n){var r,i,s,o,a,l;const c=rt({name:"MuiModal",props:e}),{BackdropComponent:u=O2e,BackdropProps:d,className:f,closeAfterTransition:p=!1,children:m,container:g,component:E,components:v={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:I=!1,disablePortal:C=!1,disableRestoreFocus:T=!1,disableScrollLock:b=!1,hideBackdrop:k=!1,keepMounted:S=!1,onBackdropClick:R,open:N,slotProps:M,slots:D}=c,j=he(c,D2e),P=O({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:x,disableEscapeKeyDown:I,disablePortal:C,disableRestoreFocus:T,disableScrollLock:b,hideBackdrop:k,keepMounted:S}),{getRootProps:A,getBackdropProps:L,getTransitionProps:$,portalRef:F,isTopModal:q,exited:W,hasTransition:B}=P2e(O({},P,{rootRef:n})),U=O({},P,{exited:W}),V=L2e(U),H={};if(m.props.tabIndex===void 0&&(H.tabIndex="-1"),B){const{onEnter:ye,onExited:we}=$();H.onEnter=ye,H.onExited=we}const ie=(r=(i=D==null?void 0:D.root)!=null?i:v.Root)!=null?r:M2e,K=(s=(o=D==null?void 0:D.backdrop)!=null?o:v.Backdrop)!=null?s:u,te=(a=M==null?void 0:M.root)!=null?a:w.root,pe=(l=M==null?void 0:M.backdrop)!=null?l:w.backdrop,se=xl({elementType:ie,externalSlotProps:te,externalForwardedProps:j,getSlotProps:A,additionalProps:{ref:n,as:E},ownerState:U,className:Te(f,te==null?void 0:te.className,V==null?void 0:V.root,!U.open&&U.exited&&(V==null?void 0:V.hidden))}),oe=xl({elementType:K,externalSlotProps:pe,additionalProps:d,getSlotProps:ye=>L(O({},ye,{onClick:we=>{R&&R(we),ye!=null&&ye.onClick&&ye.onClick(we)}})),className:Te(pe==null?void 0:pe.className,d==null?void 0:d.className,V==null?void 0:V.backdrop),ownerState:U});return!S&&!N&&(!B||W)?null:h.jsx(Uj,{ref:F,container:g,disablePortal:C,children:h.jsxs(ie,O({},se,{children:[!k&&u?h.jsx(K,O({},oe)):null,h.jsx(S2e,{disableEnforceFocus:x,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:q,open:N,children:y.cloneElement(m,H)})]}))})}),AT=$2e;function j2e(t){return ot("MuiDialog",t)}const F2e=Qe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),ox=F2e,V2e=y.createContext({}),qj=V2e,U2e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],z2e=ue(Hj,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),B2e=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${de(n)}`],paper:["paper",`paperScroll${de(n)}`,`paperWidth${de(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return ut(o,j2e,e)},W2e=ue(AT,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),H2e=ue("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${de(n.scroll)}`]]}})(({ownerState:t})=>O({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),G2e=ue(kh,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${de(n.scroll)}`],e[`paperWidth${de(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>O({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${ox.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${ox.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ox.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),q2e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDialog"}),i=Tt(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:g="sm",onBackdropClick:E,onClick:v,onClose:w,open:_,PaperComponent:x=kh,PaperProps:I={},scroll:C="paper",TransitionComponent:T=Wj,transitionDuration:b=s,TransitionProps:k}=r,S=he(r,U2e),R=O({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:m,maxWidth:g,scroll:C}),N=B2e(R),M=y.useRef(),D=L=>{M.current=L.target===L.currentTarget},j=L=>{v&&v(L),M.current&&(M.current=null,E&&E(L),w&&w(L,"backdropClick"))},P=f_(a),A=y.useMemo(()=>({titleId:P}),[P]);return h.jsx(W2e,O({className:Te(N.root,d),closeAfterTransition:!0,components:{Backdrop:z2e},componentsProps:{backdrop:O({transitionDuration:b,as:l},c)},disableEscapeKeyDown:f,onClose:w,open:_,ref:n,onClick:j,ownerState:R},S,{children:h.jsx(T,O({appear:!0,in:_,timeout:b,role:"presentation"},k,{children:h.jsx(H2e,{className:Te(N.container),onMouseDown:D,ownerState:R,children:h.jsx(G2e,O({as:x,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},I,{className:Te(N.paper,I.className),ownerState:R,children:h.jsx(qj.Provider,{value:A,children:u})}))})}))}))}),Di=q2e;function Y2e(t){return ot("MuiDialogTitle",t)}Qe("MuiDialogTitle",["root"]);const K2e=["className","id"],Q2e=t=>{const{classes:e}=t;return ut({root:["root"]},Y2e,e)},X2e=ue(lt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),J2e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=he(r,K2e),a=r,l=Q2e(a),{titleId:c=s}=y.useContext(qj);return h.jsx(X2e,O({component:"h2",className:Te(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c},o))}),Z2e=J2e,ege=Qe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),yP=ege,tge=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function nge(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=xi(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function rge(t){return typeof t=="function"?t():t}function f2(t,e,n){const r=rge(n),i=nge(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const ige=y.forwardRef(function(e,n){const r=Tt(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:f,onEnter:p,onEntered:m,onEntering:g,onExit:E,onExited:v,onExiting:w,style:_,timeout:x=s,TransitionComponent:I=mT}=e,C=he(e,tge),T=y.useRef(null),b=Sn(l.ref,T,n),k=L=>$=>{L&&($===void 0?L(T.current):L(T.current,$))},S=k((L,$)=>{f2(u,L,c),yT(L),p&&p(L,$)}),R=k((L,$)=>{const F=qc({timeout:x,style:_,easing:d},{mode:"enter"});L.style.webkitTransition=r.transitions.create("-webkit-transform",O({},F)),L.style.transition=r.transitions.create("transform",O({},F)),L.style.webkitTransform="none",L.style.transform="none",g&&g(L,$)}),N=k(m),M=k(w),D=k(L=>{const $=qc({timeout:x,style:_,easing:d},{mode:"exit"});L.style.webkitTransition=r.transitions.create("-webkit-transform",$),L.style.transition=r.transitions.create("transform",$),f2(u,L,c),E&&E(L)}),j=k(L=>{L.style.webkitTransition="",L.style.transition="",v&&v(L)}),P=L=>{o&&o(T.current,L)},A=y.useCallback(()=>{T.current&&f2(u,T.current,c)},[u,c]);return y.useEffect(()=>{if(f||u==="down"||u==="right")return;const L=aT(()=>{T.current&&f2(u,T.current,c)}),$=xi(T.current);return $.addEventListener("resize",L),()=>{L.clear(),$.removeEventListener("resize",L)}},[u,f,c]),y.useEffect(()=>{f||A()},[f,A]),h.jsx(I,O({nodeRef:T,onEnter:S,onEntered:N,onEntering:R,onExit:D,onExited:j,onExiting:M,addEndListener:P,appear:a,in:f,timeout:x},C,{children:(L,$)=>y.cloneElement(l,O({ref:b,style:O({visibility:L==="exited"&&!f?"hidden":void 0},_,l.props.style)},$))}))}),Yj=ige;function sge(t){return ot("MuiDrawer",t)}Qe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const oge=["BackdropProps"],age=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Kj=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},lge=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${de(n)}`,r!=="temporary"&&`paperAnchorDocked${de(n)}`]};return ut(i,sge,e)},cge=ue(AT,{name:"MuiDrawer",slot:"Root",overridesResolver:Kj})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),_P=ue("div",{shouldForwardProp:ci,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Kj})({flex:"0 0 auto"}),uge=ue(kh,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${de(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${de(n.anchor)}`]]}})(({theme:t,ownerState:e})=>O({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),Qj={left:"right",right:"left",top:"down",bottom:"up"};function Xl(t){return["left","right"].indexOf(t)!==-1}function Rf({direction:t},e){return t==="rtl"&&Xl(e)?Qj[e]:e}const dge=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDrawer"}),i=Tt(),s=m_(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:g=!1,PaperProps:E={},SlideProps:v,TransitionComponent:w=Yj,transitionDuration:_=o,variant:x="temporary"}=r,I=he(r.ModalProps,oge),C=he(r,age),T=y.useRef(!1);y.useEffect(()=>{T.current=!0},[]);const b=Rf({direction:s?"rtl":"ltr"},a),S=O({},r,{anchor:a,elevation:d,open:g,variant:x},C),R=lge(S),N=h.jsx(uge,O({elevation:x==="temporary"?d:0,square:!0},E,{className:Te(R.paper,E.className),ownerState:S,children:c}));if(x==="permanent")return h.jsx(_P,O({className:Te(R.root,R.docked,u),ownerState:S,ref:n},C,{children:N}));const M=h.jsx(w,O({in:g,direction:Qj[b],timeout:_,appear:T.current},v,{children:N}));return x==="persistent"?h.jsx(_P,O({className:Te(R.root,R.docked,u),ownerState:S,ref:n},C,{children:M})):h.jsx(cge,O({BackdropProps:O({},l,p,{transitionDuration:_}),className:Te(R.root,R.modal,u),open:g,ownerState:S,onClose:m,hideBackdrop:f,ref:n},C,I,{children:M}))}),hge=dge,fge=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],pge=t=>{const{classes:e,disableUnderline:n}=t,i=ut({root:["root",!n&&"underline"],input:["input"]},Sme,e);return O({},e,i)},mge=ue(A_,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...k_(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return O({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${jl.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${jl.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${jl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${jl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${jl.disabled}, .${jl.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${jl.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&O({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),gge=ue(P_,{name:"MuiFilledInput",slot:"Input",overridesResolver:R_})(({theme:t,ownerState:e})=>O({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Xj=y.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:m={},type:g="text"}=a,E=he(a,fge),v=O({},a,{fullWidth:u,inputComponent:d,multiline:f,type:g}),w=pge(a),_={root:{ownerState:v},input:{ownerState:v}},x=p??c?Fr(_,p??c):_,I=(r=(i=m.root)!=null?i:l.Root)!=null?r:mge,C=(s=(o=m.input)!=null?o:l.Input)!=null?s:gge;return h.jsx(RT,O({slots:{root:I,input:C},componentsProps:x,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:g},E,{classes:w}))});Xj.muiName="Input";const Jj=Xj;function vge(t){return ot("MuiFormControl",t)}Qe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const yge=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],_ge=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return ut(i,vge,e)},wge=ue("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>O({},e.root,e[`margin${de(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>O({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),xge=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:g="medium",variant:E="outlined"}=r,v=he(r,yge),w=O({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:m,size:g,variant:E}),_=_ge(w),[x,I]=y.useState(()=>{let M=!1;return i&&y.Children.forEach(i,D=>{if(!tx(D,["Input","Select"]))return;const j=tx(D,["Select"])?D.props.input:D;j&&gme(j.props)&&(M=!0)}),M}),[C,T]=y.useState(()=>{let M=!1;return i&&y.Children.forEach(i,D=>{tx(D,["Input","Select"])&&($1(D.props,!0)||$1(D.props.inputProps,!0))&&(M=!0)}),M}),[b,k]=y.useState(!1);l&&b&&k(!1);const S=u!==void 0&&!l?u:b;let R;const N=y.useMemo(()=>({adornedStart:x,setAdornedStart:I,color:o,disabled:l,error:c,filled:C,focused:S,fullWidth:d,hiddenLabel:f,size:g,onBlur:()=>{k(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{k(!0)},registerEffect:R,required:m,variant:E}),[x,o,l,c,C,S,d,f,R,m,g,E]);return h.jsx(kT.Provider,{value:N,children:h.jsx(wge,O({as:a,ownerState:w,className:Te(_.root,s),ref:n},v,{children:i}))})}),Ege=xge,Cge=Ehe({createStyledComponent:ue("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>rt({props:t,name:"MuiStack"})}),Lr=Cge;function bge(t){return ot("MuiFormHelperText",t)}const Ige=Qe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),wP=Ige;var xP;const Tge=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Sge=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${de(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return ut(c,bge,e)},kge=ue("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>O({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${wP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${wP.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Rge=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=he(r,Tge),l=Ah(),c=Rh({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=O({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Sge(u);return h.jsx(kge,O({as:o,ownerState:u,className:Te(d.root,s),ref:n},a,{children:i===" "?xP||(xP=h.jsx("span",{className:"notranslate",children:"​"})):i}))}),Age=Rge;function Pge(t){return ot("MuiFormLabel",t)}const Nge=Qe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),i0=Nge,Dge=["children","className","color","component","disabled","error","filled","focused","required"],Lge=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${de(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return ut(l,Pge,e)},Mge=ue("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>O({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>O({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${i0.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${i0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${i0.error}`]:{color:(t.vars||t).palette.error.main}})),Oge=ue("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${i0.error}`]:{color:(t.vars||t).palette.error.main}})),$ge=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=he(r,Dge),l=Ah(),c=Rh({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=O({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Lge(u);return h.jsxs(Mge,O({as:o,ownerState:u,className:Te(d.root,s),ref:n},a,{children:[i,c.required&&h.jsxs(Oge,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),jge=$ge,Fge=y.createContext(),EP=Fge;function Vge(t){return ot("MuiGrid",t)}const Uge=[0,1,2,3,4,5,6,7,8,9,10],zge=["column-reverse","column","row-reverse","row"],Bge=["nowrap","wrap-reverse","wrap"],cf=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gp=Qe("MuiGrid",["root","container","item","zeroMinWidth",...Uge.map(t=>`spacing-xs-${t}`),...zge.map(t=>`direction-xs-${t}`),...Bge.map(t=>`wrap-xs-${t}`),...cf.map(t=>`grid-xs-${t}`),...cf.map(t=>`grid-sm-${t}`),...cf.map(t=>`grid-md-${t}`),...cf.map(t=>`grid-lg-${t}`),...cf.map(t=>`grid-xl-${t}`)]),Wge=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function vd(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Hge({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=wc({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${vd(u)})`;c={flexBasis:d,maxWidth:d}}}s=O({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function Gge({theme:t,ownerState:e}){const n=wc({values:e.direction,breakpoints:t.breakpoints.values});return li({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${gp.item}`]={maxWidth:"none"}),i})}function Zj({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function qge({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=wc({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=Zj({breakpoints:t.breakpoints.values,values:s})),i=li({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${vd(u)}`,[`& > .${gp.item}`]:{paddingTop:vd(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${gp.item}`]:{paddingTop:0}}})}return i}function Yge({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=wc({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=Zj({breakpoints:t.breakpoints.values,values:s})),i=li({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${vd(u)})`,marginLeft:`-${vd(u)}`,[`& > .${gp.item}`]:{paddingLeft:vd(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${gp.item}`]:{paddingLeft:0}}})}return i}function Kge(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const Qge=ue("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=Kge(o,c,e));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>O({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Gge,qge,Yge,Hge);function Xge(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const Jge=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=Xge(s,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return ut(d,Vge,e)},Zge=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiGrid"}),{breakpoints:i}=Tt(),s=hm(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:m=0,wrap:g="wrap",zeroMinWidth:E=!1}=s,v=he(s,Wge),w=p||m,_=l||m,x=y.useContext(EP),I=u?a||12:x,C={},T=O({},v);i.keys.forEach(S=>{v[S]!=null&&(C[S]=v[S],delete T[S])});const b=O({},s,{columns:I,container:u,direction:d,item:f,rowSpacing:w,columnSpacing:_,wrap:g,zeroMinWidth:E,spacing:m},C,{breakpoints:i.keys}),k=Jge(b);return h.jsx(EP.Provider,{value:I,children:h.jsx(Qge,O({ownerState:b,className:Te(k.root,o),as:c,ref:n},T))})}),s0=Zge,e1e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ZE(t){return`scale(${t}, ${t**2})`}const t1e={entering:{opacity:1,transform:ZE(1)},entered:{opacity:1,transform:"none"}},ax=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eF=y.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:m,timeout:g="auto",TransitionComponent:E=mT}=e,v=he(e,e1e),w=lc(),_=y.useRef(),x=Tt(),I=y.useRef(null),C=Sn(I,s.ref,n),T=j=>P=>{if(j){const A=I.current;P===void 0?j(A):j(A,P)}},b=T(u),k=T((j,P)=>{yT(j);const{duration:A,delay:L,easing:$}=qc({style:m,timeout:g,easing:o},{mode:"enter"});let F;g==="auto"?(F=x.transitions.getAutoHeightDuration(j.clientHeight),_.current=F):F=A,j.style.transition=[x.transitions.create("opacity",{duration:F,delay:L}),x.transitions.create("transform",{duration:ax?F:F*.666,delay:L,easing:$})].join(","),l&&l(j,P)}),S=T(c),R=T(p),N=T(j=>{const{duration:P,delay:A,easing:L}=qc({style:m,timeout:g,easing:o},{mode:"exit"});let $;g==="auto"?($=x.transitions.getAutoHeightDuration(j.clientHeight),_.current=$):$=P,j.style.transition=[x.transitions.create("opacity",{duration:$,delay:A}),x.transitions.create("transform",{duration:ax?$:$*.666,delay:ax?A:A||$*.333,easing:L})].join(","),j.style.opacity=0,j.style.transform=ZE(.75),d&&d(j)}),M=T(f),D=j=>{g==="auto"&&w.start(_.current||0,j),r&&r(I.current,j)};return h.jsx(E,O({appear:i,in:a,nodeRef:I,onEnter:k,onEntered:S,onEntering:b,onExit:N,onExited:M,onExiting:R,addEndListener:D,timeout:g==="auto"?null:g},v,{children:(j,P)=>y.cloneElement(s,O({style:O({opacity:0,transform:ZE(.75),visibility:j==="exited"&&!a?"hidden":void 0},t1e[j],m,s.props.style),ref:C},P))}))});eF.muiSupportAuto=!0;const j1=eF,n1e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],r1e=t=>{const{classes:e,disableUnderline:n}=t,i=ut({root:["root",!n&&"underline"],input:["input"]},Cme,e);return O({},e,i)},i1e=ue(A_,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...k_(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),O({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lf.disabled}, .${lf.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${lf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),s1e=ue(P_,{name:"MuiInput",slot:"Input",overridesResolver:R_})({}),tF=y.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:g={},type:E="text"}=a,v=he(a,n1e),w=r1e(a),x={root:{ownerState:{disableUnderline:l}}},I=m??u?Fr(m??u,x):x,C=(r=(i=g.root)!=null?i:c.Root)!=null?r:i1e,T=(s=(o=g.input)!=null?o:c.Input)!=null?s:s1e;return h.jsx(RT,O({slots:{root:C,input:T},slotProps:I,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:E},v,{classes:w}))});tF.muiName="Input";const nF=tF;function o1e(t){return ot("MuiInputLabel",t)}Qe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const a1e=["disableAnimation","margin","shrink","variant","className"],l1e=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${de(r)}`,o],asterisk:[a&&"asterisk"]},c=ut(l,o1e,e);return O({},e,c)},c1e=ue(jge,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${i0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>O({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&O({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&O({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&O({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),u1e=y.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=he(r,a1e),l=Ah();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Rh({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=O({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=l1e(d);return h.jsx(c1e,O({"data-shrink":c,ownerState:d,ref:n,className:Te(f.root,o)},a,{classes:f}))}),d1e=u1e;function h1e(t){return ot("MuiLinearProgress",t)}Qe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const f1e=["className","color","value","valueBuffer","variant"];let Ph=t=>t,CP,bP,IP,TP,SP,kP;const eC=4,p1e=Ms(CP||(CP=Ph`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),m1e=Ms(bP||(bP=Ph`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),g1e=Ms(IP||(IP=Ph`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),v1e=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${de(r)}`,n],dashed:["dashed",`dashedColor${de(r)}`],bar1:["bar",`barColor${de(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${de(r)}`,n==="buffer"&&`color${de(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ut(i,h1e,e)},PT=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?vj(t.palette[e].main,.62):gj(t.palette[e].main,.5),y1e=ue("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${de(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>O({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:PT(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),_1e=ue("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${de(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=PT(e,t.color);return O({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ra(TP||(TP=Ph`
    animation: ${0} 3s infinite linear;
  `),g1e)),w1e=ue("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${de(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>O({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${eC}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${eC}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ra(SP||(SP=Ph`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),p1e)),x1e=ue("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${de(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>O({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:PT(e,t.color),transition:`transform .${eC}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ra(kP||(kP=Ph`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),m1e)),E1e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=he(r,f1e),u=O({},r,{color:s,variant:l}),d=v1e(u),f=m_(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let g=o-100;f&&(g=-g),m.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&a!==void 0){let g=(a||0)-100;f&&(g=-g),m.bar2.transform=`translateX(${g}%)`}return h.jsxs(y1e,O({className:Te(d.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?h.jsx(_1e,{className:d.dashed,ownerState:u}):null,h.jsx(w1e,{className:d.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:h.jsx(x1e,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),C1e=E1e,b1e=y.createContext({}),tC=b1e;function I1e(t){return ot("MuiList",t)}Qe("MuiList",["root","padding","dense","subheader"]);const T1e=["children","className","component","dense","disablePadding","subheader"],S1e=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ut({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},I1e,e)},k1e=ue("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>O({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),R1e=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=he(r,T1e),d=y.useMemo(()=>({dense:a}),[a]),f=O({},r,{component:o,dense:a,disablePadding:l}),p=S1e(f);return h.jsx(tC.Provider,{value:d,children:h.jsxs(k1e,O({as:o,className:Te(p.root,s),ref:n,ownerState:f},u,{children:[c,i]}))})}),A1e=R1e,P1e=Qe("MuiListItemIcon",["root","alignItemsFlexStart"]),RP=P1e,N1e=Qe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),AP=N1e,D1e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function lx(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function PP(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function rF(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function uf(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!rF(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const L1e=y.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=he(e,D1e),p=y.useRef(null),m=y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ii(()=>{i&&p.current.focus()},[i]),y.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:x})=>{const I=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&I){const C=`${lj(_n(_))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=C,p.current.style.width=`calc(100% + ${C})`}return p.current}}),[]);const g=_=>{const x=p.current,I=_.key,C=_n(x).activeElement;if(I==="ArrowDown")_.preventDefault(),uf(x,C,c,l,lx);else if(I==="ArrowUp")_.preventDefault(),uf(x,C,c,l,PP);else if(I==="Home")_.preventDefault(),uf(x,null,c,l,lx);else if(I==="End")_.preventDefault(),uf(x,null,c,l,PP);else if(I.length===1){const T=m.current,b=I.toLowerCase(),k=performance.now();T.keys.length>0&&(k-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&b!==T.keys[0]&&(T.repeating=!1)),T.lastTime=k,T.keys.push(b);const S=C&&!T.repeating&&rF(C,T);T.previousKeyMatched&&(S||uf(x,C,!1,l,lx,T))?_.preventDefault():T.previousKeyMatched=!1}u&&u(_)},E=Sn(p,n);let v=-1;y.Children.forEach(o,(_,x)=>{if(!y.isValidElement(_)){v===x&&(v+=1,v>=o.length&&(v=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||v===-1)&&(v=x),v===x&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(v+=1,v>=o.length&&(v=-1))});const w=y.Children.map(o,(_,x)=>{if(x===v){const I={};return s&&(I.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),y.cloneElement(_,I)}return _});return h.jsx(A1e,O({role:"menu",ref:E,className:a,onKeyDown:g,tabIndex:i?0:-1},f,{children:w}))}),M1e=L1e;function O1e(t){return ot("MuiPopover",t)}Qe("MuiPopover",["root","paper"]);const $1e=["onEntering"],j1e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],F1e=["slotProps"];function NP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function DP(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function LP(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function cx(t){return typeof t=="function"?t():t}const V1e=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"]},O1e,e)},U1e=ue(AT,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),iF=ue(kh,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),z1e=y.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:p,container:m,elevation:g=8,marginThreshold:E=16,open:v,PaperProps:w={},slots:_,slotProps:x,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:C=j1,transitionDuration:T="auto",TransitionProps:{onEntering:b}={},disableScrollLock:k=!1}=o,S=he(o.TransitionProps,$1e),R=he(o,j1e),N=(r=x==null?void 0:x.paper)!=null?r:w,M=y.useRef(),D=Sn(M,N.ref),j=O({},o,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:E,externalPaperSlotProps:N,transformOrigin:I,TransitionComponent:C,transitionDuration:T,TransitionProps:S}),P=V1e(j),A=y.useCallback(()=>{if(d==="anchorPosition")return u;const ye=cx(l),xe=(ye&&ye.nodeType===1?ye:_n(M.current).body).getBoundingClientRect();return{top:xe.top+NP(xe,c.vertical),left:xe.left+DP(xe,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),L=y.useCallback(ye=>({vertical:NP(ye,I.vertical),horizontal:DP(ye,I.horizontal)}),[I.horizontal,I.vertical]),$=y.useCallback(ye=>{const we={width:ye.offsetWidth,height:ye.offsetHeight},xe=L(we);if(d==="none")return{top:null,left:null,transformOrigin:LP(xe)};const dt=A();let Ue=dt.top-xe.vertical,je=dt.left-xe.horizontal;const ht=Ue+we.height,Ge=je+we.width,Se=xi(cx(l)),xt=Se.innerHeight-E,ze=Se.innerWidth-E;if(E!==null&&Ue<E){const Ie=Ue-E;Ue-=Ie,xe.vertical+=Ie}else if(E!==null&&ht>xt){const Ie=ht-xt;Ue-=Ie,xe.vertical+=Ie}if(E!==null&&je<E){const Ie=je-E;je-=Ie,xe.horizontal+=Ie}else if(Ge>ze){const Ie=Ge-ze;je-=Ie,xe.horizontal+=Ie}return{top:`${Math.round(Ue)}px`,left:`${Math.round(je)}px`,transformOrigin:LP(xe)}},[l,d,A,L,E]),[F,q]=y.useState(v),W=y.useCallback(()=>{const ye=M.current;if(!ye)return;const we=$(ye);we.top!==null&&(ye.style.top=we.top),we.left!==null&&(ye.style.left=we.left),ye.style.transformOrigin=we.transformOrigin,q(!0)},[$]);y.useEffect(()=>(k&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,k,W]);const B=(ye,we)=>{b&&b(ye,we),W()},U=()=>{q(!1)};y.useEffect(()=>{v&&W()}),y.useImperativeHandle(a,()=>v?{updatePosition:()=>{W()}}:null,[v,W]),y.useEffect(()=>{if(!v)return;const ye=aT(()=>{W()}),we=xi(l);return we.addEventListener("resize",ye),()=>{ye.clear(),we.removeEventListener("resize",ye)}},[l,v,W]);let V=T;T==="auto"&&!C.muiSupportAuto&&(V=void 0);const H=m||(l?_n(cx(l)).body:void 0),ie=(i=_==null?void 0:_.root)!=null?i:U1e,K=(s=_==null?void 0:_.paper)!=null?s:iF,te=xl({elementType:K,externalSlotProps:O({},N,{style:F?N.style:O({},N.style,{opacity:0})}),additionalProps:{elevation:g,ref:D},ownerState:j,className:Te(P.paper,N==null?void 0:N.className)}),pe=xl({elementType:ie,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:R,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:H,open:v},ownerState:j,className:Te(P.root,p)}),{slotProps:se}=pe,oe=he(pe,F1e);return h.jsx(ie,O({},oe,!N1(ie)&&{slotProps:se,disableScrollLock:k},{children:h.jsx(C,O({appear:!0,in:v,onEntering:B,onExited:U,timeout:V},S,{children:h.jsx(K,O({},te,{children:f}))}))}))}),B1e=z1e;function W1e(t){return ot("MuiMenu",t)}Qe("MuiMenu",["root","paper","list"]);const H1e=["onEntering"],G1e=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],q1e={vertical:"top",horizontal:"right"},Y1e={vertical:"top",horizontal:"left"},K1e=t=>{const{classes:e}=t;return ut({root:["root"],paper:["paper"],list:["list"]},W1e,e)},Q1e=ue(B1e,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),X1e=ue(iF,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),J1e=ue(M1e,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Z1e=y.forwardRef(function(e,n){var r,i;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:E}={},variant:v="selectedMenu",slots:w={},slotProps:_={}}=s,x=he(s.TransitionProps,H1e),I=he(s,G1e),C=m_(),T=O({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:E,PaperProps:p,transitionDuration:g,TransitionProps:x,variant:v}),b=K1e(T),k=o&&!c&&f,S=y.useRef(null),R=(L,$)=>{S.current&&S.current.adjustStyleForScrollbar(L,{direction:C?"rtl":"ltr"}),E&&E(L,$)},N=L=>{L.key==="Tab"&&(L.preventDefault(),d&&d(L,"tabKeyDown"))};let M=-1;y.Children.map(a,(L,$)=>{y.isValidElement(L)&&(L.props.disabled||(v==="selectedMenu"&&L.props.selected||M===-1)&&(M=$))});const D=(r=w.paper)!=null?r:X1e,j=(i=_.paper)!=null?i:p,P=xl({elementType:w.root,externalSlotProps:_.root,ownerState:T,className:[b.root,l]}),A=xl({elementType:D,externalSlotProps:j,ownerState:T,className:b.paper});return h.jsx(Q1e,O({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?q1e:Y1e,slots:{paper:D,root:w.root},slotProps:{root:P,paper:A},open:f,ref:n,transitionDuration:g,TransitionProps:O({onEntering:R},x),ownerState:T},I,{classes:m,children:h.jsx(J1e,O({onKeyDown:N,actions:S,autoFocus:o&&(M===-1||c),autoFocusItem:k,variant:v},u,{className:Te(b.list,u.className),children:a}))}))}),eve=Z1e;function tve(t){return ot("MuiMenuItem",t)}const nve=Qe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),df=nve,rve=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ive=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},sve=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=ut({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},tve,o);return O({},o,l)},ove=ue(_T,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ive})(({theme:t,ownerState:e})=>O({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${df.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${df.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${df.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${df.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${df.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${yP.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${yP.inset}`]:{marginLeft:52},[`& .${AP.root}`]:{marginTop:0,marginBottom:0},[`& .${AP.inset}`]:{paddingLeft:36},[`& .${RP.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&O({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${RP.root} svg`]:{fontSize:"1.25rem"}}))),ave=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=he(r,rve),m=y.useContext(tC),g=y.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),E=y.useRef(null);Ii(()=>{i&&E.current&&E.current.focus()},[i]);const v=O({},r,{dense:g.dense,divider:a,disableGutters:l}),w=sve(r),_=Sn(E,n);let x;return r.disabled||(x=d!==void 0?d:-1),h.jsx(tC.Provider,{value:g,children:h.jsx(ove,O({ref:_,role:u,tabIndex:x,component:s,focusVisibleClassName:Te(w.focusVisible,c),className:Te(w.root,f)},p,{ownerState:v,classes:w}))})}),lve=ave;function cve(t){return ot("MuiNativeSelect",t)}const uve=Qe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),NT=uve,dve=["className","disabled","error","IconComponent","inputRef","variant"],hve=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,s&&"iconOpen",r&&"disabled"]};return ut(a,cve,e)},sF=({ownerState:t,theme:e})=>O({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":O({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${NT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),fve=ue("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ci,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${NT.multiple}`]:e.multiple}]}})(sF),oF=({ownerState:t,theme:e})=>O({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${NT.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),pve=ue("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})(oF),mve=y.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=he(e,dve),u=O({},e,{disabled:i,variant:l,error:s}),d=hve(u);return h.jsxs(y.Fragment,{children:[h.jsx(fve,O({ownerState:u,className:Te(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:h.jsx(pve,{as:o,ownerState:u,className:d.icon})]})}),gve=mve;function vve(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=y.useState(!1);return Ii(()=>{n||s(!0)},[n]),y.useEffect(()=>{n&&s(!0)},[n]),h.jsx(y.Fragment,{children:i?e:r})}var MP;const yve=["children","classes","className","label","notched"],_ve=ue("fieldset",{shouldForwardProp:ci})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),wve=ue("legend",{shouldForwardProp:ci})(({ownerState:t,theme:e})=>O({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&O({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function xve(t){const{className:e,label:n,notched:r}=t,i=he(t,yve),s=n!=null&&n!=="",o=O({},t,{notched:r,withLabel:s});return h.jsx(_ve,O({"aria-hidden":!0,className:e,ownerState:o},i,{children:h.jsx(wve,{ownerState:o,children:s?h.jsx("span",{children:n}):MP||(MP=h.jsx("span",{className:"notranslate",children:"​"}))})}))}const Eve=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Cve=t=>{const{classes:e}=t,r=ut({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ime,e);return O({},e,r)},bve=ue(A_,{shouldForwardProp:t=>ci(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:k_})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return O({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ca.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ca.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ca.focused} .${Ca.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ca.error} .${Ca.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ca.disabled} .${Ca.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&O({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Ive=ue(xve,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Tve=ue(P_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:R_})(({theme:t,ownerState:e})=>O({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),aF=y.forwardRef(function(e,n){var r,i,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:m,slots:g={},type:E="text"}=l,v=he(l,Eve),w=Cve(l),_=Ah(),x=Rh({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=O({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:_,fullWidth:u,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:E}),C=(r=(i=g.root)!=null?i:c.Root)!=null?r:bve,T=(s=(o=g.input)!=null?o:c.Input)!=null?s:Tve;return h.jsx(RT,O({slots:{root:C,input:T},renderSuffix:b=>h.jsx(Ive,{ownerState:I,className:w.notchedOutline,label:f!=null&&f!==""&&x.required?a||(a=h.jsxs(y.Fragment,{children:[f," ","*"]})):f,notched:typeof m<"u"?m:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:E},v,{classes:O({},w,{notchedOutline:null})}))});aF.muiName="Input";const lF=aF;function Sve(t){return ot("MuiSelect",t)}const kve=Qe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hf=kve;var OP;const Rve=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ave=ue("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${hf.select}`]:e.select},{[`&.${hf.select}`]:e[n.variant]},{[`&.${hf.error}`]:e.error},{[`&.${hf.multiple}`]:e.multiple}]}})(sF,{[`&.${hf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Pve=ue("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})(oF),Nve=ue("input",{shouldForwardProp:t=>Ij(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $P(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Dve(t){return t==null||typeof t=="string"&&!t.trim()}const Lve=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ut(a,Sve,e)},Mve=y.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:p,error:m=!1,IconComponent:g,inputRef:E,labelId:v,MenuProps:w={},multiple:_,name:x,onBlur:I,onChange:C,onClose:T,onFocus:b,onOpen:k,open:S,readOnly:R,renderValue:N,SelectDisplayProps:M={},tabIndex:D,value:j,variant:P="standard"}=e,A=he(e,Rve),[L,$]=WE({controlled:j,default:d,name:"Select"}),[F,q]=WE({controlled:S,default:u,name:"Select"}),W=y.useRef(null),B=y.useRef(null),[U,V]=y.useState(null),{current:H}=y.useRef(S!=null),[ie,K]=y.useState(),te=Sn(n,E),pe=y.useCallback(Y=>{B.current=Y,Y&&V(Y)},[]),se=U==null?void 0:U.parentNode;y.useImperativeHandle(te,()=>({focus:()=>{B.current.focus()},node:W.current,value:L}),[L]),y.useEffect(()=>{u&&F&&U&&!H&&(K(a?null:se.clientWidth),B.current.focus())},[U,a]),y.useEffect(()=>{o&&B.current.focus()},[o]),y.useEffect(()=>{if(!v)return;const Y=_n(B.current).getElementById(v);if(Y){const _e=()=>{getSelection().isCollapsed&&B.current.focus()};return Y.addEventListener("click",_e),()=>{Y.removeEventListener("click",_e)}}},[v]);const oe=(Y,_e)=>{Y?k&&k(_e):T&&T(_e),H||(K(a?null:se.clientWidth),q(Y))},ye=Y=>{Y.button===0&&(Y.preventDefault(),B.current.focus(),oe(!0,Y))},we=Y=>{oe(!1,Y)},xe=y.Children.toArray(l),dt=Y=>{const _e=xe.find(ke=>ke.props.value===Y.target.value);_e!==void 0&&($(_e.props.value),C&&C(Y,_e))},Ue=Y=>_e=>{let ke;if(_e.currentTarget.hasAttribute("tabindex")){if(_){ke=Array.isArray(L)?L.slice():[];const Pt=L.indexOf(Y.props.value);Pt===-1?ke.push(Y.props.value):ke.splice(Pt,1)}else ke=Y.props.value;if(Y.props.onClick&&Y.props.onClick(_e),L!==ke&&($(ke),C)){const Pt=_e.nativeEvent||_e,fn=new Pt.constructor(Pt.type,Pt);Object.defineProperty(fn,"target",{writable:!0,value:{value:ke,name:x}}),C(fn,Y)}_||oe(!1,_e)}},je=Y=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Y.key)!==-1&&(Y.preventDefault(),oe(!0,Y))},ht=U!==null&&F,Ge=Y=>{!ht&&I&&(Object.defineProperty(Y,"target",{writable:!0,value:{value:L,name:x}}),I(Y))};delete A["aria-invalid"];let Se,xt;const ze=[];let Ie=!1;($1({value:L})||p)&&(N?Se=N(L):Ie=!0);const yt=xe.map(Y=>{if(!y.isValidElement(Y))return null;let _e;if(_){if(!Array.isArray(L))throw new Error(na(2));_e=L.some(ke=>$P(ke,Y.props.value)),_e&&Ie&&ze.push(Y.props.children)}else _e=$P(L,Y.props.value),_e&&Ie&&(xt=Y.props.children);return y.cloneElement(Y,{"aria-selected":_e?"true":"false",onClick:Ue(Y),onKeyUp:ke=>{ke.key===" "&&ke.preventDefault(),Y.props.onKeyUp&&Y.props.onKeyUp(ke)},role:"option",selected:_e,value:void 0,"data-value":Y.props.value})});Ie&&(_?ze.length===0?Se=null:Se=ze.reduce((Y,_e,ke)=>(Y.push(_e),ke<ze.length-1&&Y.push(", "),Y),[]):Se=xt);let Lt=ie;!a&&H&&U&&(Lt=se.clientWidth);let hn;typeof D<"u"?hn=D:hn=f?null:0;const Me=M.id||(x?`mui-component-select-${x}`:void 0),Ee=O({},e,{variant:P,value:L,open:ht,error:m}),at=Lve(Ee),qt=O({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Wt=f_();return h.jsxs(y.Fragment,{children:[h.jsx(Ave,O({ref:pe,tabIndex:hn,role:"combobox","aria-controls":Wt,"aria-disabled":f?"true":void 0,"aria-expanded":ht?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[v,Me].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:je,onMouseDown:f||R?null:ye,onBlur:Ge,onFocus:b},M,{ownerState:Ee,className:Te(M.className,at.select,c),id:Me,children:Dve(Se)?OP||(OP=h.jsx("span",{className:"notranslate",children:"​"})):Se})),h.jsx(Nve,O({"aria-invalid":m,value:Array.isArray(L)?L.join(","):L,name:x,ref:W,"aria-hidden":!0,onChange:dt,tabIndex:-1,disabled:f,className:at.nativeInput,autoFocus:o,ownerState:Ee},A)),h.jsx(Pve,{as:g,className:at.icon,ownerState:Ee}),h.jsx(eve,O({id:`menu-${x||""}`,anchorEl:se,open:ht,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:O({"aria-labelledby":v,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Wt},w.MenuListProps),slotProps:O({},w.slotProps,{paper:O({},qt,{style:O({minWidth:Lt},qt!=null?qt.style:null)})}),children:yt}))]})}),Ove=Mve,$ve=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],jve=["root"],Fve=t=>{const{classes:e}=t;return e},DT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ci(t)&&t!=="variant",slot:"Root"},Vve=ue(nF,DT)(""),Uve=ue(lF,DT)(""),zve=ue(Jj,DT)(""),cF=y.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Rme,id:d,input:f,inputProps:p,label:m,labelId:g,MenuProps:E,multiple:v=!1,native:w=!1,onClose:_,onOpen:x,open:I,renderValue:C,SelectDisplayProps:T,variant:b="outlined"}=r,k=he(r,$ve),S=w?gve:Ove,R=Ah(),N=Rh({props:r,muiFormControl:R,states:["variant","error"]}),M=N.variant||b,D=O({},r,{variant:M,classes:o}),j=Fve(D),P=he(j,jve),A=f||{standard:h.jsx(Vve,{ownerState:D}),outlined:h.jsx(Uve,{label:m,ownerState:D}),filled:h.jsx(zve,{ownerState:D})}[M],L=Sn(n,A.ref);return h.jsx(y.Fragment,{children:y.cloneElement(A,O({inputComponent:S,inputProps:O({children:s,error:N.error,IconComponent:u,variant:M,type:void 0,multiple:v},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:E,onClose:_,onOpen:x,open:I,renderValue:C,SelectDisplayProps:O({id:d},T)},p,{classes:p?Fr(P,p.classes):P},f?f.props.inputProps:{})},(v&&w||c)&&M==="outlined"?{notched:!0}:{},{ref:L,className:Te(A.props.className,a,j.root)},!f&&{variant:M},k))})});cF.muiName="Select";const uF=cF;function Bve(t){return ot("MuiSkeleton",t)}Qe("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Wve=["animation","className","component","height","style","variant","width"];let F1=t=>t,jP,FP,VP,UP;const Hve=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return ut({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Bve,e)},Gve=Ms(jP||(jP=F1`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),qve=Ms(FP||(FP=F1`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Yve=ue("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=lfe(t.shape.borderRadius)||"px",r=cfe(t.shape.borderRadius);return O({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Bde(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&ra(VP||(VP=F1`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Gve),({ownerState:t,theme:e})=>t.animation==="wave"&&ra(UP||(UP=F1`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),qve,(e.vars||e).palette.action.hover)),Kve=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=he(r,Wve),f=O({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Hve(f);return h.jsx(Yve,O({as:o,ref:n,className:Te(p.root,s),ownerState:f},d,{style:O({width:u,height:a},l)}))}),me=Kve;function Qve(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=lc();y.useEffect(()=>{if(!i)return;function v(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[i,r]);const a=Jr((v,w)=>{r==null||r(v,w)}),l=Jr(v=>{!r||v==null||o.start(v,()=>{a(null,"timeout")})});y.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const c=v=>{r==null||r(v,"clickaway")},u=o.clear,d=y.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),f=v=>w=>{const _=v.onBlur;_==null||_(w),d()},p=v=>w=>{const _=v.onFocus;_==null||_(w),u()},m=v=>w=>{const _=v.onMouseEnter;_==null||_(w),u()},g=v=>w=>{const _=v.onMouseLeave;_==null||_(w),d()};return y.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(v={})=>{const w=O({},D1(t),D1(v));return O({role:"presentation"},v,w,{onBlur:f(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:g(w)})},onClickAway:c}}function Xve(t){return ot("MuiSnackbarContent",t)}Qe("MuiSnackbarContent",["root","message","action"]);const Jve=["action","className","message","role"],Zve=t=>{const{classes:e}=t;return ut({root:["root"],action:["action"],message:["message"]},Xve,e)},eye=ue(kh,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=The(t.palette.background.default,e);return O({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),tye=ue("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),nye=ue("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),rye=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=he(r,Jve),c=r,u=Zve(c);return h.jsxs(eye,O({role:a,square:!0,elevation:6,className:Te(u.root,s),ownerState:c,ref:n},l,{children:[h.jsx(tye,{className:u.message,ownerState:c,children:o}),i?h.jsx(nye,{className:u.action,ownerState:c,children:i}):null]}))}),iye=rye;function sye(t){return ot("MuiSnackbar",t)}Qe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const oye=["onEnter","onExited"],aye=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],lye=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${de(n.vertical)}${de(n.horizontal)}`]};return ut(r,sye,e)},zP=ue("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${de(n.anchorOrigin.vertical)}${de(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return O({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:O({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),cye=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),i=Tt(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:m=!1,message:g,open:E,TransitionComponent:v=j1,transitionDuration:w=s,TransitionProps:{onEnter:_,onExited:x}={}}=r,I=he(r.TransitionProps,oye),C=he(r,aye),T=O({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:v,transitionDuration:w}),b=lye(T),{getRootProps:k,onClickAway:S}=Qve(O({},T)),[R,N]=y.useState(!0),M=xl({elementType:zP,getSlotProps:k,externalForwardedProps:C,ownerState:T,additionalProps:{ref:n},className:[b.root,d]}),D=P=>{N(!0),x&&x(P)},j=(P,A)=>{N(!1),_&&_(P,A)};return!E&&R?null:h.jsx(d2e,O({onClickAway:S},f,{children:h.jsx(zP,O({},M,{children:h.jsx(v,O({appear:!0,in:E,timeout:w,direction:a==="top"?"down":"up",onEnter:j,onExited:D},I,{children:u||h.jsx(iye,O({message:g,action:o},p))}))}))}))}),uye=cye;function dye(t){return ot("MuiTooltip",t)}const hye=Qe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ha=hye,fye=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function pye(t){return Math.round(t*1e5)/1e5}const mye=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${de(s.split("-")[0])}`],arrow:["arrow"]};return ut(o,dye,e)},gye=ue(zj,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>O({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ha.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ha.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ha.arrow}`]:O({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ha.arrow}`]:O({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),vye=ue("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${de(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>O({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Zr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${pye(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ha.popper}[data-popper-placement*="left"] &`]:O({transformOrigin:"right center"},e.isRtl?O({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):O({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ha.popper}[data-popper-placement*="right"] &`]:O({transformOrigin:"left center"},e.isRtl?O({marginRight:"14px"},e.touch&&{marginRight:"24px"}):O({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ha.popper}[data-popper-placement*="top"] &`]:O({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ha.popper}[data-popper-placement*="bottom"] &`]:O({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),yye=ue("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Zr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let p2=!1;const BP=new fm;let ff={x:0,y:0};function m2(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const _ye=y.forwardRef(function(e,n){var r,i,s,o,a,l,c,u,d,f,p,m,g,E,v,w,_,x,I;const C=rt({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:b,components:k={},componentsProps:S={},describeChild:R=!1,disableFocusListener:N=!1,disableHoverListener:M=!1,disableInteractive:D=!1,disableTouchListener:j=!1,enterDelay:P=100,enterNextDelay:A=0,enterTouchDelay:L=700,followCursor:$=!1,id:F,leaveDelay:q=0,leaveTouchDelay:W=1500,onClose:B,onOpen:U,open:V,placement:H="bottom",PopperComponent:ie,PopperProps:K={},slotProps:te={},slots:pe={},title:se,TransitionComponent:oe=j1,TransitionProps:ye}=C,we=he(C,fye),xe=y.isValidElement(b)?b:h.jsx("span",{children:b}),dt=Tt(),Ue=m_(),[je,ht]=y.useState(),[Ge,Se]=y.useState(null),xt=y.useRef(!1),ze=D||$,Ie=lc(),yt=lc(),Lt=lc(),hn=lc(),[Me,Ee]=WE({controlled:V,default:!1,name:"Tooltip",state:"open"});let at=Me;const qt=f_(F),Wt=y.useRef(),Y=Jr(()=>{Wt.current!==void 0&&(document.body.style.WebkitUserSelect=Wt.current,Wt.current=void 0),hn.clear()});y.useEffect(()=>Y,[Y]);const _e=ft=>{BP.clear(),p2=!0,Ee(!0),U&&!at&&U(ft)},ke=Jr(ft=>{BP.start(800+q,()=>{p2=!1}),Ee(!1),B&&at&&B(ft),Ie.start(dt.transitions.duration.shortest,()=>{xt.current=!1})}),Pt=ft=>{xt.current&&ft.type!=="touchstart"||(je&&je.removeAttribute("title"),yt.clear(),Lt.clear(),P||p2&&A?yt.start(p2?A:P,()=>{_e(ft)}):_e(ft))},fn=ft=>{yt.clear(),Lt.start(q,()=>{ke(ft)})},{isFocusVisibleRef:hr,onBlur:ga,onFocus:us,ref:va}=aj(),[,ds]=y.useState(!1),hs=ft=>{ga(ft),hr.current===!1&&(ds(!1),fn(ft))},vo=ft=>{je||ht(ft.currentTarget),us(ft),hr.current===!0&&(ds(!0),Pt(ft))},ya=ft=>{xt.current=!0;const di=xe.props;di.onTouchStart&&di.onTouchStart(ft)},Cm=ft=>{ya(ft),Lt.clear(),Ie.clear(),Y(),Wt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",hn.start(L,()=>{document.body.style.WebkitUserSelect=Wt.current,Pt(ft)})},yo=ft=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(ft),Y(),Lt.start(W,()=>{ke(ft)})};y.useEffect(()=>{if(!at)return;function ft(di){(di.key==="Escape"||di.key==="Esc")&&ke(di)}return document.addEventListener("keydown",ft),()=>{document.removeEventListener("keydown",ft)}},[ke,at]);const _o=Sn(xe.ref,va,ht,n);!se&&se!==0&&(at=!1);const z_=y.useRef(),PV=ft=>{const di=xe.props;di.onMouseMove&&di.onMouseMove(ft),ff={x:ft.clientX,y:ft.clientY},z_.current&&z_.current.update()},Dh={},B_=typeof se=="string";R?(Dh.title=!at&&B_&&!M?se:null,Dh["aria-describedby"]=at?qt:null):(Dh["aria-label"]=B_?se:null,Dh["aria-labelledby"]=at&&!B_?qt:null);const fs=O({},Dh,we,xe.props,{className:Te(we.className,xe.props.className),onTouchStart:ya,ref:_o},$?{onMouseMove:PV}:{}),Lh={};j||(fs.onTouchStart=Cm,fs.onTouchEnd=yo),M||(fs.onMouseOver=m2(Pt,fs.onMouseOver),fs.onMouseLeave=m2(fn,fs.onMouseLeave),ze||(Lh.onMouseOver=Pt,Lh.onMouseLeave=fn)),N||(fs.onFocus=m2(vo,fs.onFocus),fs.onBlur=m2(hs,fs.onBlur),ze||(Lh.onFocus=vo,Lh.onBlur=hs));const NV=y.useMemo(()=>{var ft;let di=[{name:"arrow",enabled:!!Ge,options:{element:Ge,padding:4}}];return(ft=K.popperOptions)!=null&&ft.modifiers&&(di=di.concat(K.popperOptions.modifiers)),O({},K.popperOptions,{modifiers:di})},[Ge,K]),Mh=O({},C,{isRtl:Ue,arrow:T,disableInteractive:ze,placement:H,PopperComponentProp:ie,touch:xt.current}),W_=mye(Mh),rS=(r=(i=pe.popper)!=null?i:k.Popper)!=null?r:gye,iS=(s=(o=(a=pe.transition)!=null?a:k.Transition)!=null?o:oe)!=null?s:j1,sS=(l=(c=pe.tooltip)!=null?c:k.Tooltip)!=null?l:vye,oS=(u=(d=pe.arrow)!=null?d:k.Arrow)!=null?u:yye,DV=Sf(rS,O({},K,(f=te.popper)!=null?f:S.popper,{className:Te(W_.popper,K==null?void 0:K.className,(p=(m=te.popper)!=null?m:S.popper)==null?void 0:p.className)}),Mh),LV=Sf(iS,O({},ye,(g=te.transition)!=null?g:S.transition),Mh),MV=Sf(sS,O({},(E=te.tooltip)!=null?E:S.tooltip,{className:Te(W_.tooltip,(v=(w=te.tooltip)!=null?w:S.tooltip)==null?void 0:v.className)}),Mh),OV=Sf(oS,O({},(_=te.arrow)!=null?_:S.arrow,{className:Te(W_.arrow,(x=(I=te.arrow)!=null?I:S.arrow)==null?void 0:x.className)}),Mh);return h.jsxs(y.Fragment,{children:[y.cloneElement(xe,fs),h.jsx(rS,O({as:ie??zj,placement:H,anchorEl:$?{getBoundingClientRect:()=>({top:ff.y,left:ff.x,right:ff.x,bottom:ff.y,width:0,height:0})}:je,popperRef:z_,open:je?at:!1,id:qt,transition:!0},Lh,DV,{popperOptions:NV,children:({TransitionProps:ft})=>h.jsx(iS,O({timeout:dt.transitions.duration.shorter},ft,LV,{children:h.jsxs(sS,O({},MV,{children:[se,T?h.jsx(oS,O({},OV,{ref:Se})):null]}))}))}))]})}),vt=_ye,wye=["anchor","classes","className","width","style"],xye=ue("div",{shouldForwardProp:ci})(({theme:t,ownerState:e})=>O({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),Eye=y.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:o,style:a}=e,l=he(e,wye),c=e;return h.jsx(xye,O({className:Te("PrivateSwipeArea-root",i.root,i[`anchor${de(r)}`],s),ref:n,style:O({[Xl(r)?"width":"height"]:o},a),ownerState:c},l))}),Cye=Eye,bye=["BackdropProps"],Iye=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],g2=3,ux=20;let xo=null;function dx(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function hx(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function pf(t,e){return t?e.clientWidth:e.clientHeight}function WP(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function Tye(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=xi(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function Sye({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(s[i.scrollPosition[a]]),c=l>0,u=l+s[i.clientLength[a]]<s[i.scrollLength[a]];return!!(o&&u||!o&&c)})}const kye=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Rye=y.forwardRef(function(e,n){const r=rt({name:"MuiSwipeableDrawer",props:e}),i=Tt(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=kye,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:f=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:g,onOpen:E,open:v=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:x=20,transitionDuration:I=s,variant:C="temporary"}=r,T=he(r.ModalProps,bye),b=he(r,Iye),[k,S]=y.useState(!1),R=y.useRef({isSwiping:null}),N=y.useRef(),M=y.useRef(),D=y.useRef(),j=Sn(w.ref,D),P=y.useRef(!1),A=y.useRef();Ii(()=>{A.current=null},[v]);const L=y.useCallback((B,U={})=>{const{mode:V=null,changeTransition:H=!0}=U,ie=Rf(i,o),K=["right","bottom"].indexOf(ie)!==-1?1:-1,te=Xl(o),pe=te?`translate(${K*B}px, 0)`:`translate(0, ${K*B}px)`,se=D.current.style;se.webkitTransform=pe,se.transform=pe;let oe="";if(V&&(oe=i.transitions.create("all",qc({easing:void 0,style:void 0,timeout:I},{mode:V}))),H&&(se.webkitTransition=oe,se.transition=oe),!a&&!u){const ye=M.current.style;ye.opacity=1-B/pf(te,D.current),H&&(ye.webkitTransition=oe,ye.transition=oe)}},[o,a,u,i,I]),$=Jr(B=>{if(!P.current)return;if(xo=null,P.current=!1,I0.flushSync(()=>{S(!1)}),!R.current.isSwiping){R.current.isSwiping=null;return}R.current.isSwiping=null;const U=Rf(i,o),V=Xl(o);let H;V?H=dx(U,B.changedTouches,_n(B.currentTarget)):H=hx(U,B.changedTouches,xi(B.currentTarget));const ie=V?R.current.startX:R.current.startY,K=pf(V,D.current),te=WP(H,ie,v,K),pe=te/K;if(Math.abs(R.current.velocity)>p&&(A.current=Math.abs((K-te)/R.current.velocity)*1e3),v){R.current.velocity>p||pe>d?g():L(0,{mode:"exit"});return}R.current.velocity<-p||1-pe>d?E():L(pf(V,D.current),{mode:"enter"})}),F=(B=!1)=>{if(!k){(B||!(l&&f))&&I0.flushSync(()=>{S(!0)});const U=Xl(o);!v&&D.current&&L(pf(U,D.current)+(l?15:-ux),{changeTransition:!1}),R.current.velocity=0,R.current.lastTime=null,R.current.lastTranslate=null,R.current.paperHit=!1,P.current=!0}},q=Jr(B=>{if(!D.current||!P.current||xo!==null&&xo!==R.current)return;F(!0);const U=Rf(i,o),V=Xl(o),H=dx(U,B.touches,_n(B.currentTarget)),ie=hx(U,B.touches,xi(B.currentTarget));if(v&&D.current.contains(B.target)&&xo===null){const oe=Tye(B.target,D.current);if(Sye({domTreeShapes:oe,start:V?R.current.startX:R.current.startY,current:V?H:ie,anchor:o})){xo=!0;return}xo=R.current}if(R.current.isSwiping==null){const oe=Math.abs(H-R.current.startX),ye=Math.abs(ie-R.current.startY),we=V?oe>ye&&oe>g2:ye>oe&&ye>g2;if(we&&B.cancelable&&B.preventDefault(),we===!0||(V?ye>g2:oe>g2)){if(R.current.isSwiping=we,!we){$(B);return}R.current.startX=H,R.current.startY=ie,!l&&!v&&(V?R.current.startX-=ux:R.current.startY-=ux)}}if(!R.current.isSwiping)return;const K=pf(V,D.current);let te=V?R.current.startX:R.current.startY;v&&!R.current.paperHit&&(te=Math.min(te,K));const pe=WP(V?H:ie,te,v,K);if(v)if(R.current.paperHit)pe===0&&(R.current.startX=H,R.current.startY=ie);else if(V?H<K:ie<K)R.current.paperHit=!0,R.current.startX=H,R.current.startY=ie;else return;R.current.lastTranslate===null&&(R.current.lastTranslate=pe,R.current.lastTime=performance.now()+1);const se=(pe-R.current.lastTranslate)/(performance.now()-R.current.lastTime)*1e3;R.current.velocity=R.current.velocity*.4+se*.6,R.current.lastTranslate=pe,R.current.lastTime=performance.now(),B.cancelable&&B.preventDefault(),L(pe)}),W=Jr(B=>{if(B.defaultPrevented||B.defaultMuiPrevented||v&&(u||!M.current.contains(B.target))&&!D.current.contains(B.target))return;const U=Rf(i,o),V=Xl(o),H=dx(U,B.touches,_n(B.currentTarget)),ie=hx(U,B.touches,xi(B.currentTarget));if(!v){var K;if(c||!(B.target===N.current||(K=D.current)!=null&&K.contains(B.target)&&(typeof f=="function"?f(B,N.current,D.current):f)))return;if(V){if(H>x)return}else if(ie>x)return}B.defaultMuiPrevented=!0,xo=null,R.current.startX=H,R.current.startY=ie,F()});return y.useEffect(()=>{if(C==="temporary"){const B=_n(D.current);return B.addEventListener("touchstart",W),B.addEventListener("touchmove",q,{passive:!v}),B.addEventListener("touchend",$),()=>{B.removeEventListener("touchstart",W),B.removeEventListener("touchmove",q,{passive:!v}),B.removeEventListener("touchend",$)}}},[C,v,W,q,$]),y.useEffect(()=>()=>{xo===R.current&&(xo=null)},[]),y.useEffect(()=>{v||S(!1)},[v]),h.jsxs(y.Fragment,{children:[h.jsx(hge,O({open:C==="temporary"&&k?!0:v,variant:C,ModalProps:O({BackdropProps:O({},m,{ref:M})},C==="temporary"&&{keepMounted:!0},T),hideBackdrop:u,PaperProps:O({},w,{style:O({pointerEvents:C==="temporary"&&!v&&!f?"none":""},w.style),ref:j}),anchor:o,transitionDuration:A.current||I,onClose:g,ref:n},b)),!c&&C==="temporary"&&h.jsx(vve,{children:h.jsx(Cye,O({anchor:o,ref:N,width:x},_))})]})}),LT=Rye;function Aye(t){return ot("MuiToolbar",t)}Qe("MuiToolbar",["root","gutters","regular","dense"]);const Pye=["className","component","disableGutters","variant"],Nye=t=>{const{classes:e,disableGutters:n,variant:r}=t;return ut({root:["root",!n&&"gutters",r]},Aye,e)},Dye=ue("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>O({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Lye=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=he(r,Pye),c=O({},r,{component:s,disableGutters:o,variant:a}),u=Nye(c);return h.jsx(Dye,O({as:s,className:Te(u.root,i),ref:n,ownerState:c},l))}),dF=Lye;function Mye(t){return ot("MuiTextField",t)}Qe("MuiTextField",["root"]);const Oye=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],$ye={standard:nF,filled:Jj,outlined:lF},jye=t=>{const{classes:e}=t;return ut({root:["root"]},Mye,e)},Fye=ue(Ege,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vye=y.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:E,inputProps:v,InputProps:w,inputRef:_,label:x,maxRows:I,minRows:C,multiline:T=!1,name:b,onBlur:k,onChange:S,onFocus:R,placeholder:N,required:M=!1,rows:D,select:j=!1,SelectProps:P,type:A,value:L,variant:$="outlined"}=r,F=he(r,Oye),q=O({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:T,required:M,select:j,variant:$}),W=jye(q),B={};$==="outlined"&&(E&&typeof E.shrink<"u"&&(B.notched=E.shrink),B.label=x),j&&((!P||!P.native)&&(B.id=void 0),B["aria-describedby"]=void 0);const U=f_(g),V=m&&U?`${U}-helper-text`:void 0,H=x&&U?`${U}-label`:void 0,ie=$ye[$],K=h.jsx(ie,O({"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:T,name:b,rows:D,maxRows:I,minRows:C,type:A,value:L,id:U,inputRef:_,onBlur:k,onChange:S,onFocus:R,placeholder:N,inputProps:v},B,w));return h.jsxs(Fye,O({className:Te(W.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:M,color:l,variant:$,ownerState:q},F,{children:[x!=null&&x!==""&&h.jsx(d1e,O({htmlFor:U,id:H},E,{children:x})),j?h.jsx(uF,O({"aria-describedby":V,id:U,labelId:H,value:L,input:K},P,{children:o})):K,m&&h.jsx(Age,O({id:V},f,{children:m}))]}))}),Kn=Vye,ui=({isLoading:t,text:e})=>{if(t)return h.jsx(ce,{sx:{bgcolor:"background.default",position:"fixed",display:"flex",alignItems:"center",top:0,bottom:0,right:0,left:0},className:"fixed top-[70px] right-0 left-0 bottom-0 flex items-center justify-center",children:h.jsxs(ce,{className:"flex flex-col items-center justify-center gap-y-4",children:[h.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),h.jsxs(ce,{className:"h-3 w-[200px] grid justify-center",children:[h.jsx(lt,{mb:2,children:e}),h.jsx(C1e,{})]})]})})},Gt=({text:t})=>h.jsx(ce,{m:2,children:h.jsx("div",{children:t})}),D_=He(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"AddSharp"),Uye=He([h.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),h.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),zye=He([h.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),h.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettingsSharp"),Bye=He(h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),lu=He(h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBackSharp"),Wye=He(h.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),Hye=He(h.jsx("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp"),Gye=He(h.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForwardSharp"),MT=He(h.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"CancelSharp"),qye=He(h.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline"),Yye=He(h.jsx("path",{d:"M22 2H2.01L2 22l4-4h16zM6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"ChatSharp"),Xd=He(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp"),hF=He(h.jsx("path",{d:"M22 18V2H6v16zm-11-6 2.03 2.71L16 11l4 5H8zM2 6v16h16v-2H4V6z"}),"CollectionsSharp"),Kye=He(h.jsx("path",{d:"M16 1H2v16h2V3h12zm5 4H6v18h15zm-2 16H8V7h11z"}),"ContentCopySharp"),cu=He(h.jsx("path",{d:"M6 21h12V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"DeleteSharp"),Qye=He(h.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"DoneSharp"),Xye=He(h.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Jye=He(h.jsx("path",{d:"M21.99 6.86 12 1 2 6.86V20h20zM12 13 3.74 7.84 12 3l8.26 4.84z"}),"DraftsSharp"),Ll=He(h.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75z"}),"EditSharp"),Zye=He(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp"),e_e=He(h.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),t_e=He(h.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),n_e=He(h.jsx("path",{d:"M16 1H2v16h2V3h12zm-1 4 6 6v12H6V5zm-1 7h5.5L14 6.5z"}),"FileCopySharp"),r_e=He(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"HelpSharp"),i_e=He(h.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.25 2.52.77-1.29-3.52-2.09V8z"}),"HistorySharp"),OT=He(h.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"HomeSharp"),s_e=He(h.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),fF=He(h.jsx("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8zm9-4h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"}),"LinkSharp"),pF=He([h.jsx("path",{d:"M5 5h7V3H3v18h9v-2H5z"},"0"),h.jsx("path",{d:"m21 12-4-4v3H9v2h8v3z"},"1")],"LogoutSharp"),o_e=He(h.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),mF=He(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertSharp"),a_e=He(h.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V2.5h-3v2.18C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"NotificationsSharp"),l_e=He(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonSharp"),$T=He([h.jsx("path",{d:"M4 6H2v16h16v-2H4z"},"0"),h.jsx("path",{d:"M6 2v16h16V2zm7.51 8.16c.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.6.58 1.73.01 2.57-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c.01-.41-.06-1.08.26-1.66m-.56 3.79c0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04 0 .58-.44 1.05-1.04 1.05-.58 0-1.05-.47-1.05-1.05"},"1")],"QuizSharp"),c_e=He(h.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"}),"ReplySharp"),vm=He(h.jsx("path",{d:"M17 3H3v18h18V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"SaveSharp"),u_e=He(h.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),d_e=He(h.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"SendSharp"),h_e=He(h.jsx("path",{d:"m19.44 12.99-.01.02c.04-.33.08-.67.08-1.01s-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99s.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"}),"SettingsSharp"),f_e=He(h.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"ShareSharp"),p_e=He(h.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"UploadSharp"),jT=He(h.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilitySharp"),m_e=()=>{const{userId:t}=y.useContext(be),[e,n]=y.useState(!0),[r,i]=y.useState(!1),[s,o]=y.useState(null),[a,l]=y.useState(null),c=`${a==null?void 0:a.testName} - Results`,u=Math.round((a==null?void 0:a.score)/(a==null?void 0:a.totalScore)*100),d=zn(),{resultId:f}=Ip();y.useEffect(()=>{(async()=>{try{n(!0);const g=We(Re(Pe,"users",t),"history"),E=Re(g,f),v=await ml(E);v.exists()?(l(v.data()),Un(n,1200)):(Un(n),i(!0))}catch(g){Un(n),o("Error fetching current result: "+g.message),console.log("Error")}})()},[f]),y.useEffect(()=>(Yi(),Yi()),[]);const p=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${a.score} out of ${a.totalScore} in '${a.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return r?h.jsx(Gt,{text:"No result available"}):s?h.jsx(Gt,{text:s}):h.jsx("div",{className:"p-5 ",children:h.jsxs("div",{className:"",children:[h.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[h.jsx(vt,{title:"Navigate up",arrow:!0,children:h.jsx(Ke,{onClick:()=>d("/app/history"),children:h.jsx(lu,{})})}),e?h.jsx(me,{height:40,width:150}):h.jsx("div",{className:"text-lg pl-2 place-items-center bg-blue-40",children:c})]}),h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx("div",{children:h.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:h.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:h.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:h.jsx("div",{className:"grid  h-20 w-20 items-center justify-center rounded-full",children:h.jsxs("div",{className:"flex flex-col items-center justify-center font-medium",children:[h.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),e?h.jsx(me,{height:40,width:60}):h.jsxs("div",{className:" text-lg ",children:[a.score," / ",a.totalScore]})]})})})})})}),h.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg `,children:e?h.jsx(me,{height:40,width:60}):h.jsxs("div",{children:[" ",a.level]})})]}),e?h.jsx(me,{width:"100%"}):h.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[h.jsx("div",{className:"h-full",style:{width:`${u}%`}}),h.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-u}%`}})]}),e?h.jsx(me,{height:200,width:"100%"}):h.jsxs("div",{className:"grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg",children:[h.jsx(Fl,{text:"Score Percentage",value:`${u}%`,color:"text-lime-500"}),h.jsx(Fl,{text:"Total Questions",value:a.totalScore,color:"text-lime-500"}),h.jsx(Fl,{text:"Correct",value:a.score,color:"text-green-500"}),h.jsx(Fl,{text:"Wrong",value:a.totalScore-a.score,color:"text-red-500"}),h.jsx(Fl,{text:"Date",value:a.date,color:"text-lime-500"}),h.jsx(Fl,{text:"Time",value:a.time,color:"text-lime-500"}),h.jsx(Fl,{text:"Time taken",value:Ble(a.timeTaken)||"Unknown",color:"text-lime-500"})]}),h.jsxs("div",{className:"grid grid-cols-3 justify-center gap-y-2 mt-5",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?h.jsx(me,{height:28,width:28}):h.jsx(Ke,{onClick:()=>d(`/app/history/${f}/reviews`),children:h.jsx(jT,{})}),e?h.jsx(me,{width:60}):h.jsx("div",{className:"text-sm",children:"Review Answers"})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?h.jsx(me,{height:28,width:28}):h.jsx(Ke,{onClick:p,children:h.jsx(f_e,{})}),e?h.jsx(me,{width:60}):h.jsx("div",{className:"text-sm",children:"Share Score"})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?h.jsx(me,{height:28,width:28}):h.jsx(Ke,{onClick:()=>d("/app"),children:h.jsx(OT,{})}),e?h.jsx(me,{width:60}):h.jsx("div",{className:"text-sm",children:"Home"})]})]})]})})},Fl=({text:t,value:e,color:n})=>h.jsxs("div",{children:[h.jsxs("div",{className:`font-medium ${n}`,children:["● ",e]}),h.jsx("div",{className:"text-sm",children:t})]});function Ml(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const Li=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:i})=>{const s=t&&t.trim(),o=e&&e.trim(),a=s&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(s||a)return h.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${i}`,src:t});if(o)return h.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return h.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},sa=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:i,value:s}=t;return h.jsxs(Di,{open:!!s,onClose:()=>i(!1),children:[h.jsx(Z2e,{children:r}),h.jsxs(Lr,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[h.jsx(Le,{onClick:e,children:"Yes"}),h.jsx(Le,{onClick:n,children:"No"})]})]})},g_e=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=y.useState(!1),[i,s]=y.useState(!1),{setUserId:o}=y.useContext(be),a=y.useRef(null),l=zn(),{userData:c}=y.useContext(be),u=async()=>{try{await H8(Gr),e(!1),gi.remove("userId"),o(null),l("/login")}catch(d){console.log(d.message)}};return My(a,r),h.jsxs(ce,{ref:a,className:"p-2 ",children:[h.jsx(ce,{className:"top-0 right-0 left-0 bottom-0",children:h.jsx(sa,{data:{value:i,yesButton:u,noButton:()=>{s(!1)},text:"Are you sure to log out ?",setValue:s}})}),h.jsx(Le,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start"},onClick:()=>r(!n),className:`transition-all ${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"} p-1 flex items-center rounded-md cursor-pointer w-full min-h-14`,children:h.jsxs(ce,{className:"flex gap-x-2 items-center mb-2",children:[h.jsx(ce,{className:"relative size-10",children:h.jsx(Li,{image:c==null?void 0:c.image,name:c==null?void 0:c.name})}),h.jsx(ce,{className:"flex flex-1 items-center justify-between",children:h.jsx(lt,{className:"font-bold",children:c!=null&&c.name?c.name:"Username"})})]})}),n&&h.jsx(ce,{className:"absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md",children:h.jsxs(ce,{children:[h.jsx(Le,{size:"small",sx:{width:"100%"},onClick:()=>{l("/app/settings"),e(!1),r(!1)},startIcon:h.jsx(h_e,{}),children:"Settings"}),h.jsx(Le,{size:"small",sx:{width:"100%"},onClick:()=>{s(!0)},startIcon:h.jsx(pF,{}),children:"Log out"})]})})]})},v_e=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:i,historyCount:s,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=y.useContext(be),u=lh(),d=u.pathname.includes("/app/history"),f=n.includes(u.pathname),p=u.pathname==="/app/"||u.pathname==="/app",m=u.pathname.includes("/app/tests"),g=u.pathname.includes("/app/help"),E=u.pathname.includes("/app/notifications"),v=u.pathname.includes("/app/chatroom");y.useEffect(()=>{try{Wo(We(Re(Pe,"users",c),"history"),o),Wo(We(Pe,"notifications"),l)}catch(C){console.log(C.message)}},[]);const w=()=>{let C=0;return i.forEach(T=>{Oy(i,T.id)||(C+=1)}),!!(C>0&&(r!=null&&r.name))},_=[{text:"Home",image:h.jsx(OT,{}),path:"/app",active:p},{text:"Tests",image:h.jsx($T,{}),path:"/app/tests",active:m},{text:"History",image:h.jsx(i_e,{}),path:"/app/history",items:s,active:d},{text:"Notifications",image:h.jsx(a_e,{}),path:"/app/notifications",items:a,active:E},{text:"Chat Room",image:h.jsx(Yye,{}),path:"/app/chatroom",color:"bg-red-600",active:v},{text:"Admin",image:h.jsx(zye,{}),path:"/app/admin",active:f},{text:"Help",image:h.jsx(r_e,{}),path:"/app/help",active:g}],x=["Admin"],I=_.filter(C=>r!=null&&r.isAdmin?!0:!x.includes(C.text));return h.jsxs(LT,{variant:"temporary",transitionDuration:{enter:300,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[h.jsx("div",{className:"flex p-2 items-center",children:h.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[h.jsx(vt,{title:"Close",arrow:!0,children:h.jsx(Ke,{onClick:()=>e(!1),children:h.jsx(Xd,{})})}),h.jsx(lt,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),h.jsxs(Lr,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[h.jsx(Yj,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:h.jsx("div",{className:"mr-2 ml-2",children:I.map(C=>h.jsx(y_e,{setIsMenuOpen:e,data:{active:C.active,image:C.image,path:C.path,text:C.text,items:C==null?void 0:C.items,color:C.color,isThereNewMessages:w}},C.text))})}),h.jsx(g_e,{data:{setIsMenuOpen:e}})]})]})},y_e=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:i,items:s,path:o,color:a,isThereNewMessages:l}=e,c=zn(),{currentTest:u}=y.useContext(be);return h.jsxs(Le,{sx:{color:n?"white":"",height:47,justifyContent:"start",alignItems:"center",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 ${n?"bg-blue-500/70":"hover:bg-slate-200"} transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      
      `,startIcon:r,children:[h.jsx("div",{children:i}),s&&s>=0?h.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}):"",u&&i==="Home"&&h.jsxs("div",{className:"text-sm",children:["(Taking ",Ml(u.name,45),")"]}),i==="Chat Room"&&(l()?h.jsx("div",{className:"absolute right-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},__e=()=>{const{headerTitle:t,newMessages:e,userData:n,userId:r}=y.useContext(be),[i,s]=y.useState(!1),o=Tt(),{mode:a}=o.palette;return h.jsx(Rj,{position:"sticky",sx:{backgroundColor:a==="dark"?"background.default":"white",color:"text.primary"},children:h.jsx(dF,{sx:{padding:"5px"},children:h.jsxs(s0,{container:!0,justifyContent:"space-between",children:[h.jsxs(s0,{item:!0,display:"flex",alignItems:"center",children:[r&&h.jsxs(h.Fragment,{children:[h.jsx(vt,{title:"Menu",arrow:!0,children:h.jsxs(Ke,{sx:{position:"relative"},onClick:()=>s(!0),children:[h.jsx(o_e,{}),Wle(e,n)?h.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]})}),i&&h.jsx(v_e,{setIsMenuOpen:s,isMenuOpen:i})]}),h.jsx(lt,{sx:{fontWeight:"bold"},children:t})]}),h.jsx(s0,{item:!0,children:h.jsx("div",{className:"flex gap-x-2 items-center",children:h.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},gF=({title:t,text:e})=>{const{userId:n,headerTitle:r,setHeaderTitle:i}=y.useContext(be),s=zn();return y.useEffect(()=>(i("STAR EDUCATION ACADEMY"),()=>{document.title=r}),[]),h.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&h.jsx(lt,{variant:"subtitle2",children:e}),h.jsx("div",{children:h.jsx(Le,{onClick:()=>s(n?"/app":"/login"),startIcon:h.jsx("img",{className:"size-7",src:Xn("redo")}),children:"Return Home"})})]})},Ku=()=>h.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),fx=({name:t,className:e,size:n="size-7"})=>h.jsx("img",{className:`${n} ${e}`,src:Xn(t)}),w_e=()=>{var x;const{userId:t,setHeaderTitle:e}=y.useContext(be),n=0,r=10,[i,s]=y.useState(r),[o,a]=y.useState({}),l=(x=o==null?void 0:o.results)==null?void 0:x.slice(n,i),c=`${o==null?void 0:o.testName} - Review your answers`,{resultId:u}=Ip(),[d,f]=y.useState(!0),[p,m]=y.useState(!1),[g,E]=y.useState(null),v=async()=>{try{f(!0);const I=We(Re(Pe,"users",t),"history"),C=Re(I,u),T=await ml(C);if(T.exists){const b={id:T.id,...T.data()};a(b),Un(f)}else m(!0),Un(f)}catch(I){E("Error fetching reviews: "+I.message),Un(f)}};y.useEffect(()=>{v()},[u]),y.useEffect(()=>(Yi(),Yi()),[]);const w=()=>{s(i+r)},_=()=>{var I;if(i>((I=o==null?void 0:o.results)==null?void 0:I.length))return!0};return y.useEffect(()=>{e(c)}),d?h.jsx(ui,{isLoading:d,text:"Loading reviews..."}):p?h.jsx(Gt,{text:"No reviews available"}):g?h.jsx(Gt,{text:g}):h.jsx("div",{className:"p-5",children:o?h.jsxs("div",{className:"grid gap-y-5",children:[h.jsx("div",{className:"font-medium text-lg",children:c}),l==null?void 0:l.map(I=>{const{id:C,question:T,isTrue:b,answer:k,userAnswer:S}=I;return b?h.jsxs("div",{className:"grid font-padauk gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),h.jsx("div",{className:"flex-1",children:T})]}),h.jsx("div",{children:h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),h.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[h.jsx("img",{className:"w-5 h-5",src:Xn("trueIcon")}),h.jsx("div",{children:k})]})]})}),h.jsx(Ku,{})]},`result-${C}`):h.jsxs("div",{className:"grid font-padauk gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),h.jsx("div",{className:"flex-1",children:T})]}),h.jsxs("div",{className:"grid gap-y-1",children:[h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),h.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[h.jsx("img",{className:"w-5 h-5",src:Xn("falseIcon")}),h.jsx("div",{children:S})]})]}),h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),h.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[h.jsx("img",{className:"w-5 h-5",src:Xn("trueIcon")}),h.jsx("div",{children:k})]})]})]}),h.jsx(Ku,{})]},`result-${C}`)}),_()?"":h.jsx("div",{className:"flex justify-center",children:h.jsx(Le,{size:"small",onClick:w,startIcon:h.jsx(Zye,{}),children:"See More"})}),h.jsx("div",{children:h.jsx(lW,{to:`/app/history/${u}`,children:h.jsx(Le,{size:"small",startIcon:h.jsx(lu,{}),children:"Back to results"})})})]}):h.jsx(gF,{text:"Unavailable"})})},vF=()=>h.jsxs("div",{className:"grid gap-y-2  p-2 ",children:[h.jsx(me,{variant:"text",width:150}),h.jsx(me,{variant:"rectangular",height:55,width:"100%"})]}),HP=()=>{const{deleteFromHistory:t,setHeaderTitle:e,userId:n,historyCount:r}=y.useContext(be),i=zn(),[s,o]=y.useState([]),[a,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[p,m]=y.useState(!1),[g,E]=y.useState([]),v=Tt(),{mode:w}=v.palette,_=We(Re(Pe,"users",n),"history"),[x,I]=y.useState(!0),[C,T]=y.useState(!1),[b,k]=y.useState(null),[S,R]=y.useState(null),N=5,M=async()=>{I(!0);let L=Vr(_,Jo(N));S&&(L=Vr(L,oy(S)));try{const $=await Nl(L);if($.empty)T(!0);else{const F=$.docs.map(q=>({id:q.id,...q.data()}));o([...s,...F]),R($.docs[$.docs.length-1]),Un(I)}}catch($){const F="Error fetching history: "+$.message;console.log(F),I(!1),k(F)}};y.useEffect(()=>{M()},[]);const D=L=>{p||i(`/app/history/${L.id}`)},j=()=>{t(a),l(null),u(!1)},P=()=>{u(!1),l(null)},A=()=>{const L=s.filter($=>!g.includes($.id));o(L),E([]),f(!1),m(!1)};return im("history-page"),sm("history-page"),y.useEffect(()=>{e("History")},[]),x?h.jsx(ui,{isLoading:x,text:"Loading history..."}):C?h.jsx(Gt,{text:"No posts available"}):b?h.jsx(Gt,{text:b}):h.jsxs("div",{className:"m-2",children:[h.jsx(sa,{data:{value:d,setValue:f,text:`Are you sure to delete ${g.length} ${g.length<=1?"item":"items"} ?`,yesButton:A,noButton:()=>f(!1),setValue:f}}),h.jsx(sa,{data:{value:c,text:"Are you sure to delete ?",yesButton:j,noButton:P,setValue:u}}),h.jsxs("div",{className:`grid border  rounded-md shadow-md ${w==="dark"?"border-slate-700":"border-slate-200"}`,children:[s.map((L,$)=>h.jsx(x_e,{h:L,index:$,goToResults:D,mode:w},`history-item-${L.id}`)),r>N&&s.length<r?h.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:h.jsx(Le,{size:"small",onClick:M,children:"load more"})}):""]})]})},x_e=({h:t,index:e,goToResults:n,mode:r})=>{const[i,s]=y.useState(!0);return Un(s,2e3),i?h.jsx(vF,{}):h.jsxs(ce,{onClick:()=>n(t,e),className:`min-h-20 p-2 border-t  cursor-pointer ${e===0&&"border-t-0"} gap-x-3 ${r==="dark"?"border-slate-700":"border-slate-200"} `,children:[h.jsx("div",{className:"font-medium",children:t.testName}),h.jsx("div",{className:"p-2 flex items-center gap-x-2",children:h.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:h.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[h.jsxs("div",{className:"",children:["Score: ",t.score," / ",t.results.length," "]}),h.jsxs("div",{className:" ",children:["Date: ",t.date," (",` ${t.time}`,")"]})]})})})]})},E_e=()=>{const[t,e]=y.useState(0),n=()=>{const r=window.innerHeight,i=document.documentElement.scrollHeight,s=window.scrollY,o=i-r,a=s/o*100;e(a)};return y.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:h.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},C_e=()=>{const{setHeaderTitle:t}=y.useContext(be),[e,n]=y.useState(null),[r,i]=y.useState(null),[s,o]=y.useState(null),a=Tt(),{mode:l}=a.palette,c=[{name:"Posts",image:h.jsx(OT,{}),path:"/app/admin/posts",counts:e},{name:"Tests",image:h.jsx($T,{}),path:"/app/admin/tests",counts:r},{name:"Users",image:h.jsx(l_e,{}),path:"/app/admin/users",counts:s}],[u,d]=y.useState(c);y.useEffect(()=>{(async()=>{await Wo(We(Pe,"posts"),n),await Wo(We(Pe,"tests"),i),await Wo(We(Pe,"users"),o)})()},[]);const f=zn();return y.useEffect(()=>{t("Admin")},[]),y.useEffect(()=>{d(c)},[e,r,s]),h.jsx("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md overflow-hidden ",children:u.map((p,m)=>h.jsxs(ce,{onClick:()=>{f(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer ${l==="light"?"hover:bg-slate-100":"hover:bg-slate-700"}`,children:[p.image,h.jsx("div",{children:p.name}),p.counts&&h.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))})},b_e=()=>{const e=new Date().getFullYear();return Tt(),h.jsxs(Lr,{bgColor:"background.default",color:"text.primary",className:"w-full shadow-t-md flex flex-col items-center p-1 border-t mt-auto",rowGap:.5,children:[h.jsxs(lt,{children:["SEA copyright 2015 - ",e]}),h.jsx(lt,{children:"All rights reserved."}),h.jsx(lt,{children:"Author: Than Aung Naing"})]})},I_e=()=>{const{setHeaderTitle:t,setUserId:e,openSnackbar:n}=y.useContext(be),[r,i]=y.useState(""),[s,o]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState("login"),d=zn();y.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const f=()=>{d("/app")};zle("auto");const p=async()=>{try{n("Signing in with Google...");const _=(await DY(Gr,jle)).user,x=Re(Pe,"users",_.uid);(await ml(x)).exists()||await Qw(Gr.currentUser.displayName,Gr.currentUser.email,"",Gr.currentUser.photoURL,_.uid),gi.set("userId",_.uid,{expires:365}),e(_.uid),f(),n(`Signed in as ${_.displayName} successfully`)}catch(w){n(w.message)}},m=async()=>{try{n("Logging in...");const _=(await aY(Gr,s,a)).user,x=Re(Pe,"users",_.uid);(await ml(x)).exists()||await Qw(_.displayName,_.email,"","",_.uid),gi.set("userId",_.uid,{expires:365}),e(_.uid),f(),n("Logged in successfully")}catch(w){n(w.message)}},g=async()=>{try{n("Creating an account...");const w=await oY(Gr,s,a),{user:_}=w;gi.set("userId",_.uid,{expires:365}),await Qw(r,s,a,"",_.uid),e(_.uid),f(),n("Created an account successfully")}catch(w){n(w.message)}},E=()=>{const w=gi.get("userId")||null;let _=!1;return w&&(_=!0),{loggedIn:_,userId:w}},v=()=>{switch(c){case"login":return h.jsx("div",{children:h.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[h.jsx(lt,{variant:"h6",color:"primary",children:"Log In"}),h.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[h.jsx(Kn,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:w=>o(w.target.value)}),h.jsx(Kn,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:w=>l(w.target.value)}),h.jsx(Le,{onClick:m,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),h.jsx(GP,{}),h.jsx("div",{children:h.jsx(Le,{onClick:p,startIcon:h.jsx("img",{className:"size-7",src:Xn("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),h.jsx(GP,{}),h.jsx("div",{children:h.jsx(Le,{onClick:()=>u("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})});case"signup":return h.jsx("div",{children:h.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[h.jsx(lt,{variant:"h6",color:"primary",children:"Create a new account"}),h.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[h.jsx(Kn,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:r,onChange:w=>i(w.target.value)}),h.jsx(Kn,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:w=>o(w.target.value)}),h.jsx(Kn,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:w=>l(w.target.value)}),h.jsx(Le,{onClick:()=>{g()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),h.jsx("div",{children:h.jsx(Le,{startIcon:h.jsx("img",{className:"size-7",src:Xn("back")}),onClick:()=>u("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return h.jsxs("div",{className:"Login mb-5",children:[h.jsx(ui,{}),E().loggedIn?h.jsx(T_e,{userId:E().userId}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-md rounded-md font-medium  p-1 pl-2 border-b",children:"You must log in first."}),v()]})]})},GP=()=>h.jsx("div",{className:"mt-2 mb-2 ",children:"OR"}),T_e=({userId:t})=>{const e=zn(),{userData:n}=y.useContext(be);return h.jsxs(Lr,{m:2,children:[h.jsxs(lt,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),h.jsx(ce,{mt:1,children:h.jsx(Le,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function S_e(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function yF(t,e){return new Promise(function(n,r){let i;return k_e(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const k_e=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,u),f=c+d+2+12*s.getUint16(c+d,u);for(let p=c+d+2;p<f;p+=12)if(s.getUint16(p,u)==274){if(s.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var V1={},R_e={get exports(){return V1},set exports(t){V1=t}};(function(t){var e,n,r={};R_e.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var f=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var g=0;g<f;g++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var E=a(u,l+=4),v=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var x=a(u,l+=8);l+=4,l+=v+w+_,r._readLocal(u,x,c,p,E,s)}return c},r._readLocal=function(i,s,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var f=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=u(i,s+=8),m=u(i,s+=2);s+=2;var g=r.bin.readUTF8(i,s,p);if(s+=p,s+=m,c)o[g]={size:l,csize:a};else{var E=new Uint8Array(i.buffer,s);if(f==0)o[g]=new Uint8Array(E.buffer.slice(s,s+a));else{if(f!=8)throw"unknown compression method: "+f;var v=new Uint8Array(l);r.inflateRaw(E,v),o[g]=v}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var d=!r._noNeed(u)&&!s,f=i[u],p=r.crc.crc(f,0,f.length);c[u]={cpr:d,usize:f.length,crc:p,file:d?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),g=0,E=[];for(var u in c){var v=c[u];E.push(g),g=r._writeHeader(m,g,u,v,0)}var w=0,_=g;for(var u in c)v=c[u],E.push(g),g=r._writeHeader(m,g,u,v,1,E[w++]);var x=g-_;return a(m,g,101010256),g+=4,l(m,g+=4,w),l(m,g+=2,w),a(m,g+=2,x),a(m,g+=4,_),g+=4,g+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,f=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,f.length),u(i,s+=4,a.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(f,s),s+=f.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,u=s+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,f=0,p=o<<3,m=0,g=i.length;if(a==0){for(;f<g;)d(s,p,f+(R=Math.min(65535,g-f))==g?1:0),p=r.F._copyExact(i,f,R,s,p+8),f+=R;return p>>>3}var E=c.lits,v=c.strt,w=c.prev,_=0,x=0,I=0,C=0,T=0,b=0;for(g>2&&(v[b=r.F._hash(i,0)]=0),f=0;f<g;f++){if(T=b,f+1<g-2){b=r.F._hash(i,f+1);var k=f+1&32767;w[k]=v[b],v[b]=k}if(m<=f){(_>14e3||x>26697)&&g-f>100&&(m<f&&(E[_]=f-m,_+=2,m=f),p=r.F._writeBlock(f==g-1||m==g?1:0,E,_,C,i,I,f-I,s,p),_=x=C=0,I=f);var S=0;f<g-2&&(S=r.F._bestMatch(i,f,w,T,Math.min(l[2],g-f),l[3]));var R=S>>>16,N=65535&S;if(S!=0){N=65535&S;var M=u(R=S>>>16,c.of0);c.lhst[257+M]++;var D=u(N,c.df0);c.dhst[D]++,C+=c.exb[M]+c.dxb[D],E[_]=R<<23|f-m,E[_+1]=N<<16|M<<8|D,_+=2,m=f+R}else c.lhst[i[f]]++;x++}}for(I==f&&i.length!=0||(m<f&&(E[_]=f-m,_+=2,m=f),p=r.F._writeBlock(1,E,_,C,i,I,f-I,s,p),_=0,x=0,_=x=C=0,I=f);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var u=32767&s,d=o[u],f=u-d+32768&32767;if(d==u||a!=r.F._hash(i,s-f))return 0;for(var p=0,m=0,g=Math.min(32767,s);f<=g&&--c!=0&&d!=u;){if(p==0||i[s+p]==i[s+p-f]){var E=r.F._howLong(i,s,f);if(E>p){if(m=f,(p=E)>=l)break;f+2<E&&(E=f+2);for(var v=0,w=0;w<E-2;w++){var _=s-f+w+32768&32767,x=_-o[_]+32768&32767;x>v&&(v=x,d=_)}}}f+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,u,d,f){var p,m,g,E,v,w,_,x,I,C=r.F.U,T=r.F._putsF,b=r.F._putsE;C.lhst[256]++,m=(p=r.F.getTrees())[0],g=p[1],E=p[2],v=p[3],w=p[4],_=p[5],x=p[6],I=p[7];var k=32+(f+3&7?8-(f+3&7):0)+(u<<3),S=a+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),R=a+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);R+=14+3*_+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var N=0;N<286;N++)C.lhst[N]=0;for(N=0;N<30;N++)C.dhst[N]=0;for(N=0;N<19;N++)C.ihst[N]=0;var M=k<S&&k<R?0:S<R?1:2;if(T(d,f,i),T(d,f+1,M),f+=3,M==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,d,f)}else{var D,j;if(M==1&&(D=C.fltree,j=C.fdtree),M==2){r.F.makeCodes(C.ltree,m),r.F.revCodes(C.ltree,m),r.F.makeCodes(C.dtree,g),r.F.revCodes(C.dtree,g),r.F.makeCodes(C.itree,E),r.F.revCodes(C.itree,E),D=C.ltree,j=C.dtree,b(d,f,v-257),b(d,f+=5,w-1),b(d,f+=5,_-4),f+=4;for(var P=0;P<_;P++)b(d,f+3*P,C.itree[1+(C.ordr[P]<<1)]);f+=3*_,f=r.F._codeTiny(x,C.itree,d,f),f=r.F._codeTiny(I,C.itree,d,f)}for(var A=c,L=0;L<o;L+=2){for(var $=s[L],F=$>>>23,q=A+(8388607&$);A<q;)f=r.F._writeLit(l[A++],D,d,f);if(F!=0){var W=s[L+1],B=W>>16,U=W>>8&255,V=255&W;b(d,f=r.F._writeLit(257+U,D,d,f),F-C.of0[U]),f+=C.exb[U],T(d,f=r.F._writeLit(V,j,d,f),B-C.df0[V]),f+=C.dxb[V],A+=F}}f=r.F._writeLit(256,D,d,f)}return f},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],u=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var f=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,f,l,u,p,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];a=r.F._writeLit(c,s,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&i[f+2]==l;)f+=2;(p=Math.min(f+1-a>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(f=a+5;f+2<o&&i[f+2]==l;)f+=2;var p=Math.min(f+1-a>>>1,6);s.push(16,p-3),a+=2*p-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var d=a.length,f=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return f=p==0?1:0,s[1+(p<<1)]=1,s[1+(f<<1)]=1,1}a.sort(function(x,I){return x.f-I.f});var m=a[0],g=a[1],E=0,v=1,w=2;for(a[0]={lit:-1,f:m.f+g.f,l:m,r:g,d:0};v!=d-1;)m=E!=v&&(w==d||a[E].f<a[w].f)?a[E++]:a[w++],g=E!=v&&(w==d||a[E].f<a[w].f)?a[E++]:a[w++],a[v++]={lit:-1,f:m.f+g.f,l:m,r:g};var _=r.F.setDepth(a[v-1],0);for(_>o&&(r.F.restrictDepth(f,o,_),_=o),u=0;u<d;u++)s[1+(f[u].lit<<1)]=f[u].d;return _},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,c+=l-(1<<o-u)}for(c>>>=o-s;c>0;)(u=i[a].d)<s?(i[a].d++,c-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,f=a.codes2map,p=a._get17,m=a.U,g=s==null;g&&(s=new o(i.length>>>2<<3));for(var E,v,w=0,_=0,x=0,I=0,C=0,T=0,b=0,k=0,S=0;w==0;)if(w=l(i,S,1),_=l(i,S+1,2),S+=3,_!=0){if(g&&(s=r.F._check(s,k+(1<<17))),_==1&&(E=m.flmap,v=m.fdmap,T=511,b=31),_==2){x=c(i,S,5)+257,I=c(i,S+5,5)+1,C=c(i,S+10,4)+4,S+=14;for(var R=0;R<38;R+=2)m.itree[R]=0,m.itree[R+1]=0;var N=1;for(R=0;R<C;R++){var M=c(i,S+3*R,3);m.itree[1+(m.ordr[R]<<1)]=M,M>N&&(N=M)}S+=3*C,d(m.itree,N),f(m.itree,N,m.imap),E=m.lmap,v=m.dmap,S=u(m.imap,(1<<N)-1,x+I,i,S,m.ttree);var D=a._copyOut(m.ttree,0,x,m.ltree);T=(1<<D)-1;var j=a._copyOut(m.ttree,x,I,m.dtree);b=(1<<j)-1,d(m.ltree,D),f(m.ltree,D,E),d(m.dtree,j),f(m.dtree,j,v)}for(;;){var P=E[p(i,S)&T];S+=15&P;var A=P>>>4;if(!(A>>>8))s[k++]=A;else{if(A==256)break;var L=k+A-254;if(A>264){var $=m.ldef[A-257];L=k+($>>>3)+c(i,S,7&$),S+=7&$}var F=v[p(i,S)&b];S+=15&F;var q=F>>>4,W=m.ddef[q],B=(W>>>4)+l(i,S,15&W);for(S+=15&W,g&&(s=r.F._check(s,k+(1<<17)));k<L;)s[k]=s[k++-B],s[k]=s[k++-B],s[k]=s[k++-B],s[k]=s[k++-B];k=L}}}else{7&S&&(S+=8-(7&S));var U=4+(S>>>3),V=i[U-4]|i[U-3]<<8;g&&(s=r.F._check(s,k+V)),s.set(new o(i.buffer,i.byteOffset+U,V),k),S=U+V<<3,k+=V}return s.length==k?s:s.slice(0,k)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,f=0;f<o;){var p=i[d(a,l)&s];l+=15&p;var m=p>>>4;if(m<=15)c[f]=m,f++;else{var g=0,E=0;m==16?(E=3+u(a,l,2),l+=2,g=c[f-1]):m==17?(E=3+u(a,l,3),l+=3):m==18&&(E=11+u(a,l,7),l+=7);for(var v=f+E;f<v;)c[f]=g,f++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=i[c+s];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,u=r.F.U,d=i.length,f=u.bl_count,p=0;p<=s;p++)f[p]=0;for(p=1;p<d;p+=2)f[i[p]]++;var m=u.next_code;for(o=0,f[0]=0,a=1;a<=s;a++)o=o+f[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=m[c],m[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],f=u<<4|d,p=s-d,m=i[c]<<p,g=m+(1<<p);m!=g;)o[l[m]>>>15-s]=f,m++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var A_e=S_e({__proto__:null,default:V1},[V1]);const ms=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,f){u[d]=f>>8&255,u[d+1]=255&f},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,f){u[d]=f>>24&255,u[d+1]=f>>16&255,u[d+2]=f>>8&255,u[d+3]=255&f},readASCII(u,d,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,f){for(let p=0;p<f.length;p++)u[d+p]=f.charCodeAt(p)},readBytes(u,d,f){const p=[];for(let m=0;m<f;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,f){let p,m="";for(let g=0;g<f;g++)m+=`%${t.pad(u[d+g].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,f)}return p}};function e(u,d,f,p){const m=d*f,g=s(p),E=Math.ceil(d*g/8),v=new Uint8Array(4*m),w=new Uint32Array(v.buffer),{ctype:_}=p,{depth:x}=p,I=t.readUshort;if(_==6){const $=m<<2;if(x==8)for(var C=0;C<$;C+=4)v[C]=u[C],v[C+1]=u[C+1],v[C+2]=u[C+2],v[C+3]=u[C+3];if(x==16)for(C=0;C<$;C++)v[C]=u[C<<1]}else if(_==2){const $=p.tabs.tRNS;if($==null){if(x==8)for(C=0;C<m;C++){var T=3*C;w[C]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T]}if(x==16)for(C=0;C<m;C++)T=6*C,w[C]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T]}else{var b=$[0];const F=$[1],q=$[2];if(x==8)for(C=0;C<m;C++){var k=C<<2;T=3*C,w[C]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T],u[T]==b&&u[T+1]==F&&u[T+2]==q&&(v[k+3]=0)}if(x==16)for(C=0;C<m;C++)k=C<<2,T=6*C,w[C]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T],I(u,T)==b&&I(u,T+2)==F&&I(u,T+4)==q&&(v[k+3]=0)}}else if(_==3){const $=p.tabs.PLTE,F=p.tabs.tRNS,q=F?F.length:0;if(x==1)for(var S=0;S<f;S++){var R=S*E,N=S*d;for(C=0;C<d;C++){k=N+C<<2;var M=3*(D=u[R+(C>>3)]>>7-((7&C)<<0)&1);v[k]=$[M],v[k+1]=$[M+1],v[k+2]=$[M+2],v[k+3]=D<q?F[D]:255}}if(x==2)for(S=0;S<f;S++)for(R=S*E,N=S*d,C=0;C<d;C++)k=N+C<<2,M=3*(D=u[R+(C>>2)]>>6-((3&C)<<1)&3),v[k]=$[M],v[k+1]=$[M+1],v[k+2]=$[M+2],v[k+3]=D<q?F[D]:255;if(x==4)for(S=0;S<f;S++)for(R=S*E,N=S*d,C=0;C<d;C++)k=N+C<<2,M=3*(D=u[R+(C>>1)]>>4-((1&C)<<2)&15),v[k]=$[M],v[k+1]=$[M+1],v[k+2]=$[M+2],v[k+3]=D<q?F[D]:255;if(x==8)for(C=0;C<m;C++){var D;k=C<<2,M=3*(D=u[C]),v[k]=$[M],v[k+1]=$[M+1],v[k+2]=$[M+2],v[k+3]=D<q?F[D]:255}}else if(_==4){if(x==8)for(C=0;C<m;C++){k=C<<2;var j=u[P=C<<1];v[k]=j,v[k+1]=j,v[k+2]=j,v[k+3]=u[P+1]}if(x==16)for(C=0;C<m;C++){var P;k=C<<2,j=u[P=C<<2],v[k]=j,v[k+1]=j,v[k+2]=j,v[k+3]=u[P+2]}}else if(_==0)for(b=p.tabs.tRNS?p.tabs.tRNS:-1,S=0;S<f;S++){const $=S*E,F=S*d;if(x==1)for(var A=0;A<d;A++){var L=(j=255*(u[$+(A>>>3)]>>>7-(7&A)&1))==255*b?0:255;w[F+A]=L<<24|j<<16|j<<8|j}else if(x==2)for(A=0;A<d;A++)L=(j=85*(u[$+(A>>>2)]>>>6-((3&A)<<1)&3))==85*b?0:255,w[F+A]=L<<24|j<<16|j<<8|j;else if(x==4)for(A=0;A<d;A++)L=(j=17*(u[$+(A>>>1)]>>>4-((1&A)<<2)&15))==17*b?0:255,w[F+A]=L<<24|j<<16|j<<8|j;else if(x==8)for(A=0;A<d;A++)L=(j=u[$+A])==b?0:255,w[F+A]=L<<24|j<<16|j<<8|j;else if(x==16)for(A=0;A<d;A++)j=u[$+(A<<1)],L=I(u,$+(A<<1))==b?0:255,w[F+A]=L<<24|j<<16|j<<8|j}return v}function n(u,d,f,p){const m=s(u),g=Math.ceil(f*m/8),E=new Uint8Array((g+1+u.interlace)*p);return d=u.tabs.CgBI?i(d,E):r(d,E),u.interlace==0?d=o(d,u,0,f,p):u.interlace==1&&(d=function(w,_){const x=_.width,I=_.height,C=s(_),T=C>>3,b=Math.ceil(x*C/8),k=new Uint8Array(I*b);let S=0;const R=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const A=M[j],L=D[j];let $=0,F=0,q=R[j];for(;q<I;)q+=A,F++;let W=N[j];for(;W<x;)W+=L,$++;const B=Math.ceil($*C/8);o(w,_,S,$,F);let U=0,V=R[j];for(;V<I;){let H=N[j],ie=S+U*B<<3;for(;H<x;){var P;if(C==1&&(P=(P=w[ie>>3])>>7-(7&ie)&1,k[V*b+(H>>3)]|=P<<7-((7&H)<<0)),C==2&&(P=(P=w[ie>>3])>>6-(7&ie)&3,k[V*b+(H>>2)]|=P<<6-((3&H)<<1)),C==4&&(P=(P=w[ie>>3])>>4-(7&ie)&15,k[V*b+(H>>1)]|=P<<4-((1&H)<<2)),C>=8){const K=V*b+H*T;for(let te=0;te<T;te++)k[K+te]=w[(ie>>3)+te]}ie+=C,H+=L}U++,V+=A}$*F!=0&&(S+=F*(1+B)),j+=1}return k}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,f){const p=Uint8Array;let m,g,E=0,v=0,w=0,_=0,x=0,I=0,C=0,T=0,b=0;if(d[0]==3&&d[1]==0)return f||new p(0);const k=u.H,S=k.b,R=k.e,N=k.R,M=k.n,D=k.A,j=k.Z,P=k.m,A=f==null;for(A&&(f=new p(d.length>>>2<<5));E==0;)if(E=S(d,b,1),v=S(d,b+1,2),b+=3,v!=0){if(A&&(f=u.H.W(f,T+(1<<17))),v==1&&(m=P.J,g=P.h,I=511,C=31),v==2){w=R(d,b,5)+257,_=R(d,b+5,5)+1,x=R(d,b+10,4)+4,b+=14;let $=1;for(var L=0;L<38;L+=2)P.Q[L]=0,P.Q[L+1]=0;for(L=0;L<x;L++){const W=R(d,b+3*L,3);P.Q[1+(P.X[L]<<1)]=W,W>$&&($=W)}b+=3*x,M(P.Q,$),D(P.Q,$,P.u),m=P.w,g=P.d,b=N(P.u,(1<<$)-1,w+_,d,b,P.v);const F=k.V(P.v,0,w,P.C);I=(1<<F)-1;const q=k.V(P.v,w,_,P.D);C=(1<<q)-1,M(P.C,F),D(P.C,F,m),M(P.D,q),D(P.D,q,g)}for(;;){const $=m[j(d,b)&I];b+=15&$;const F=$>>>4;if(!(F>>>8))f[T++]=F;else{if(F==256)break;{let q=T+F-254;if(F>264){const H=P.q[F-257];q=T+(H>>>3)+R(d,b,7&H),b+=7&H}const W=g[j(d,b)&C];b+=15&W;const B=W>>>4,U=P.c[B],V=(U>>>4)+S(d,b,15&U);for(b+=15&U;T<q;)f[T]=f[T++-V],f[T]=f[T++-V],f[T]=f[T++-V],f[T]=f[T++-V];T=q}}}}else{7&b&&(b+=8-(7&b));const $=4+(b>>>3),F=d[$-4]|d[$-3]<<8;A&&(f=u.H.W(f,T+F)),f.set(new p(d.buffer,d.byteOffset+$,F),T),b=$+F<<3,T+=F}return f.length==T?f:f.slice(0,T)},u.H.W=function(d,f){const p=d.length;if(f<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,f,p,m,g,E){const v=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const x=d[w(m,g)&f];g+=15&x;const I=x>>>4;if(I<=15)E[_]=I,_++;else{let C=0,T=0;I==16?(T=3+v(m,g,2),g+=2,C=E[_-1]):I==17?(T=3+v(m,g,3),g+=3):I==18&&(T=11+v(m,g,7),g+=7);const b=_+T;for(;_<b;)E[_]=C,_++}}return g},u.H.V=function(d,f,p,m){let g=0,E=0;const v=m.length>>>1;for(;E<p;){const w=d[E+f];m[E<<1]=0,m[1+(E<<1)]=w,w>g&&(g=w),E++}for(;E<v;)m[E<<1]=0,m[1+(E<<1)]=0,E++;return g},u.H.n=function(d,f){const p=u.H.m,m=d.length;let g,E,v,w;const _=p.j;for(var x=0;x<=f;x++)_[x]=0;for(x=1;x<m;x+=2)_[d[x]]++;const I=p.K;for(g=0,_[0]=0,E=1;E<=f;E++)g=g+_[E-1]<<1,I[E]=g;for(v=0;v<m;v+=2)w=d[v+1],w!=0&&(d[v]=I[w],I[w]++)},u.H.A=function(d,f,p){const m=d.length,g=u.H.m.r;for(let E=0;E<m;E+=2)if(d[E+1]!=0){const v=E>>1,w=d[E+1],_=v<<4|w,x=f-w;let I=d[E]<<x;const C=I+(1<<x);for(;I!=C;)p[g[I]>>>15-f]=_,I++}},u.H.l=function(d,f){const p=u.H.m.r,m=15-f;for(let g=0;g<d.length;g+=2){const E=d[g]<<f-d[g+1];d[g]=p[E]>>>m}},u.H.M=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},u.H.b=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},u.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[f]=(m>>>16|m<<16)>>>17}function p(m,g,E){for(;g--!=0;)m.push(0,E)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,f,p,m){let g=s(d);const E=Math.ceil(p*g/8);let v,w;g=Math.ceil(g/8);let _=u[f],x=0;if(_>1&&(u[f]=[0,0,1][_-2]),_==3)for(x=g;x<E;x++)u[x+1]=u[x+1]+(u[x+1-g]>>>1)&255;for(let I=0;I<m;I++)if(v=f+I*E,w=v+I+1,_=u[w-1],x=0,_==0)for(;x<E;x++)u[v+x]=u[w+x];else if(_==1){for(;x<g;x++)u[v+x]=u[w+x];for(;x<E;x++)u[v+x]=u[w+x]+u[v+x-g]}else if(_==2)for(;x<E;x++)u[v+x]=u[w+x]+u[v+x-E];else if(_==3){for(;x<g;x++)u[v+x]=u[w+x]+(u[v+x-E]>>>1);for(;x<E;x++)u[v+x]=u[w+x]+(u[v+x-E]+u[v+x-g]>>>1)}else{for(;x<g;x++)u[v+x]=u[w+x]+a(0,u[v+x-E],0);for(;x<E;x++)u[v+x]=u[w+x]+a(u[v+x-g],u[v+x-E],u[v+x-g-E])}return u}function a(u,d,f){const p=u+d-f,m=p-u,g=p-d,E=p-f;return m*m<=g*g&&m*m<=E*E?u:g*g<=E*E?d:f}function l(u,d,f){f.width=t.readUint(u,d),d+=4,f.height=t.readUint(u,d),d+=4,f.depth=u[d],d++,f.ctype=u[d],d++,f.compress=u[d],d++,f.filter=u[d],d++,f.interlace=u[d],d++}function c(u,d,f,p,m,g,E,v,w){const _=Math.min(d,m),x=Math.min(f,g);let I=0,C=0;for(let j=0;j<x;j++)for(let P=0;P<_;P++)if(E>=0&&v>=0?(I=j*d+P<<2,C=(v+j)*m+E+P<<2):(I=(-v+j)*d-E+P<<2,C=j*m+P<<2),w==0)p[C]=u[I],p[C+1]=u[I+1],p[C+2]=u[I+2],p[C+3]=u[I+3];else if(w==1){var T=u[I+3]*.00392156862745098,b=u[I]*T,k=u[I+1]*T,S=u[I+2]*T,R=p[C+3]*(1/255),N=p[C]*R,M=p[C+1]*R,D=p[C+2]*R;const A=1-T,L=T+R*A,$=L==0?0:1/L;p[C+3]=255*L,p[C+0]=(b+N*A)*$,p[C+1]=(k+M*A)*$,p[C+2]=(S+D*A)*$}else if(w==2)T=u[I+3],b=u[I],k=u[I+1],S=u[I+2],R=p[C+3],N=p[C],M=p[C+1],D=p[C+2],T==R&&b==N&&k==M&&S==D?(p[C]=0,p[C+1]=0,p[C+2]=0,p[C+3]=0):(p[C]=b,p[C+1]=k,p[C+2]=S,p[C+3]=T);else if(w==3){if(T=u[I+3],b=u[I],k=u[I+1],S=u[I+2],R=p[C+3],N=p[C],M=p[C+1],D=p[C+2],T==R&&b==N&&k==M&&S==D)continue;if(T<220&&R>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let p=8;const m=t,g=m.readUshort,E=m.readUint,v={tabs:{},frames:[]},w=new Uint8Array(f.length);let _,x=0,I=0;const C=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(f[T]!=C[T])throw"The input is not a PNG file!";for(;p<f.length;){const j=m.readUint(f,p);p+=4;const P=m.readASCII(f,p,4);if(p+=4,P=="IHDR")l(f,p,v);else if(P=="iCCP"){for(var b=p;f[b]!=0;)b++;m.readASCII(f,p,b-p),f[b+1];const A=f.slice(b+2,p+j);let L=null;try{L=r(A)}catch{L=i(A)}v.tabs[P]=L}else if(P=="CgBI")v.tabs[P]=f.slice(p,p+4);else if(P=="IDAT"){for(T=0;T<j;T++)w[x+T]=f[p+T];x+=j}else if(P=="acTL")v.tabs[P]={num_frames:E(f,p),num_plays:E(f,p+4)},_=new Uint8Array(f.length);else if(P=="fcTL"){I!=0&&((D=v.frames[v.frames.length-1]).data=n(v,_.slice(0,I),D.rect.width,D.rect.height),I=0);const A={x:E(f,p+12),y:E(f,p+16),width:E(f,p+4),height:E(f,p+8)};let L=g(f,p+22);L=g(f,p+20)/(L==0?100:L);const $={rect:A,delay:Math.round(1e3*L),dispose:f[p+24],blend:f[p+25]};v.frames.push($)}else if(P=="fdAT"){for(T=0;T<j-4;T++)_[I+T]=f[p+T+4];I+=j-4}else if(P=="pHYs")v.tabs[P]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(P=="cHRM")for(v.tabs[P]=[],T=0;T<8;T++)v.tabs[P].push(m.readUint(f,p+4*T));else if(P=="tEXt"||P=="zTXt"){v.tabs[P]==null&&(v.tabs[P]={});var k=m.nextZero(f,p),S=m.readASCII(f,p,k-p),R=p+j-k-1;if(P=="tEXt")M=m.readASCII(f,k+1,R);else{var N=r(f.slice(k+2,k+2+R));M=m.readUTF8(N,0,N.length)}v.tabs[P][S]=M}else if(P=="iTXt"){v.tabs[P]==null&&(v.tabs[P]={}),k=0,b=p,k=m.nextZero(f,b),S=m.readASCII(f,b,k-b);const A=f[b=k+1];var M;f[b+1],b+=2,k=m.nextZero(f,b),m.readASCII(f,b,k-b),b=k+1,k=m.nextZero(f,b),m.readUTF8(f,b,k-b),R=j-((b=k+1)-p),A==0?M=m.readUTF8(f,b,R):(N=r(f.slice(b,b+R)),M=m.readUTF8(N,0,N.length)),v.tabs[P][S]=M}else if(P=="PLTE")v.tabs[P]=m.readBytes(f,p,j);else if(P=="hIST"){const A=v.tabs.PLTE.length/3;for(v.tabs[P]=[],T=0;T<A;T++)v.tabs[P].push(g(f,p+2*T))}else if(P=="tRNS")v.ctype==3?v.tabs[P]=m.readBytes(f,p,j):v.ctype==0?v.tabs[P]=g(f,p):v.ctype==2&&(v.tabs[P]=[g(f,p),g(f,p+2),g(f,p+4)]);else if(P=="gAMA")v.tabs[P]=m.readUint(f,p)/1e5;else if(P=="sRGB")v.tabs[P]=f[p];else if(P=="bKGD")v.ctype==0||v.ctype==4?v.tabs[P]=[g(f,p)]:v.ctype==2||v.ctype==6?v.tabs[P]=[g(f,p),g(f,p+2),g(f,p+4)]:v.ctype==3&&(v.tabs[P]=f[p]);else if(P=="IEND")break;p+=j,m.readUint(f,p),p+=4}var D;return I!=0&&((D=v.frames[v.frames.length-1]).data=n(v,_.slice(0,I),D.rect.width,D.rect.height)),v.data=n(v,w,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(d){const f=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,f,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const g=f*p*4,E=new Uint8Array(g),v=new Uint8Array(g),w=new Uint8Array(g);for(let x=0;x<d.frames.length;x++){const I=d.frames[x],C=I.rect.x,T=I.rect.y,b=I.rect.width,k=I.rect.height,S=e(I.data,b,k,d);if(x!=0)for(var _=0;_<g;_++)w[_]=E[_];if(I.blend==0?c(S,b,k,E,f,p,C,T,0):I.blend==1&&c(S,b,k,E,f,p,C,T,1),m.push(E.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)c(v,b,k,E,f,p,C,T,0);else if(I.dispose==2)for(_=0;_<g;_++)E[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=ms,{_bin:e}=ms,n=ms._paeth;var r={table:function(){const b=new Uint32Array(256);for(let k=0;k<256;k++){let S=k;for(let R=0;R<8;R++)1&S?S=3988292384^S>>>1:S>>>=1;b[k]=S}return b}(),update(b,k,S,R){for(let N=0;N<R;N++)b=r.table[255&(b^k[S+N])]^b>>>8;return b},crc:(b,k,S)=>4294967295^r.update(4294967295,b,k,S)};function i(b,k,S,R){k[S]+=b[0]*R>>4,k[S+1]+=b[1]*R>>4,k[S+2]+=b[2]*R>>4,k[S+3]+=b[3]*R>>4}function s(b){return Math.max(0,Math.min(255,b))}function o(b,k){const S=b[0]-k[0],R=b[1]-k[1],N=b[2]-k[2],M=b[3]-k[3];return S*S+R*R+N*N+M*M}function a(b,k,S,R,N,M,D){D==null&&(D=1);const j=R.length,P=[];for(var A=0;A<j;A++){const V=R[A];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(A=0;A<j;A++){let V=4294967295;for(var L=0,$=0;$<j;$++){var F=o(P[A],P[$]);$!=A&&F<V&&(V=F,L=$)}}const q=new Uint32Array(N.buffer),W=new Int16Array(k*S*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<B.length;A++)B[A]=255*((B[A]+.5)/16-.5);for(let V=0;V<S;V++)for(let H=0;H<k;H++){var U;A=4*(V*k+H),D!=2?U=[s(b[A]+W[A]),s(b[A+1]+W[A+1]),s(b[A+2]+W[A+2]),s(b[A+3]+W[A+3])]:(F=B[4*(3&V)+(3&H)],U=[s(b[A]+F),s(b[A+1]+F),s(b[A+2]+F),s(b[A+3]+F)]),L=0;let ie=16777215;for($=0;$<j;$++){const pe=o(U,P[$]);pe<ie&&(ie=pe,L=$)}const K=P[L],te=[U[0]-K[0],U[1]-K[1],U[2]-K[2],U[3]-K[3]];D==1&&(H!=k-1&&i(te,W,A+4,7),V!=S-1&&(H!=0&&i(te,W,A+4*k-4,3),i(te,W,A+4*k,5),H!=k-1&&i(te,W,A+4*k+4,1))),M[A>>2]=L,q[A>>2]=R[L]}}function l(b,k,S,R,N){N==null&&(N={});const{crc:M}=r,D=e.writeUint,j=e.writeUshort,P=e.writeASCII;let A=8;const L=b.frames.length>1;let $,F=!1,q=33+(L?20:0);if(N.sRGB!=null&&(q+=13),N.pHYs!=null&&(q+=21),N.iCCP!=null&&($=pako.deflate(N.iCCP),q+=21+$.length+4),b.ctype==3){for(var W=b.plte.length,B=0;B<W;B++)b.plte[B]>>>24!=255&&(F=!0);q+=8+3*W+4+(F?8+1*W+4:0)}for(var U=0;U<b.frames.length;U++)L&&(q+=38),q+=(K=b.frames[U]).cimg.length+12,U!=0&&(q+=4);q+=12;const V=new Uint8Array(q),H=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)V[B]=H[B];if(D(V,A,13),A+=4,P(V,A,"IHDR"),A+=4,D(V,A,k),A+=4,D(V,A,S),A+=4,V[A]=b.depth,A++,V[A]=b.ctype,A++,V[A]=0,A++,V[A]=0,A++,V[A]=0,A++,D(V,A,M(V,A-17,17)),A+=4,N.sRGB!=null&&(D(V,A,1),A+=4,P(V,A,"sRGB"),A+=4,V[A]=N.sRGB,A++,D(V,A,M(V,A-5,5)),A+=4),N.iCCP!=null){const te=13+$.length;D(V,A,te),A+=4,P(V,A,"iCCP"),A+=4,P(V,A,"ICC profile"),A+=11,A+=2,V.set($,A),A+=$.length,D(V,A,M(V,A-(te+4),te+4)),A+=4}if(N.pHYs!=null&&(D(V,A,9),A+=4,P(V,A,"pHYs"),A+=4,D(V,A,N.pHYs[0]),A+=4,D(V,A,N.pHYs[1]),A+=4,V[A]=N.pHYs[2],A++,D(V,A,M(V,A-13,13)),A+=4),L&&(D(V,A,8),A+=4,P(V,A,"acTL"),A+=4,D(V,A,b.frames.length),A+=4,D(V,A,N.loop!=null?N.loop:0),A+=4,D(V,A,M(V,A-12,12)),A+=4),b.ctype==3){for(D(V,A,3*(W=b.plte.length)),A+=4,P(V,A,"PLTE"),A+=4,B=0;B<W;B++){const te=3*B,pe=b.plte[B],se=255&pe,oe=pe>>>8&255,ye=pe>>>16&255;V[A+te+0]=se,V[A+te+1]=oe,V[A+te+2]=ye}if(A+=3*W,D(V,A,M(V,A-3*W-4,3*W+4)),A+=4,F){for(D(V,A,W),A+=4,P(V,A,"tRNS"),A+=4,B=0;B<W;B++)V[A+B]=b.plte[B]>>>24&255;A+=W,D(V,A,M(V,A-W-4,W+4)),A+=4}}let ie=0;for(U=0;U<b.frames.length;U++){var K=b.frames[U];L&&(D(V,A,26),A+=4,P(V,A,"fcTL"),A+=4,D(V,A,ie++),A+=4,D(V,A,K.rect.width),A+=4,D(V,A,K.rect.height),A+=4,D(V,A,K.rect.x),A+=4,D(V,A,K.rect.y),A+=4,j(V,A,R[U]),A+=2,j(V,A,1e3),A+=2,V[A]=K.dispose,A++,V[A]=K.blend,A++,D(V,A,M(V,A-30,30)),A+=4);const te=K.cimg;D(V,A,(W=te.length)+(U==0?0:4)),A+=4;const pe=A;P(V,A,U==0?"IDAT":"fdAT"),A+=4,U!=0&&(D(V,A,ie++),A+=4),V.set(te,A),A+=W,D(V,A,M(V,pe,A-pe)),A+=4}return D(V,A,0),A+=4,P(V,A,"IEND"),A+=4,D(V,A,M(V,A-4,4)),A+=4,V.buffer}function c(b,k,S){for(let R=0;R<b.frames.length;R++){const N=b.frames[R];N.rect.width;const M=N.rect.height,D=new Uint8Array(M*N.bpl+M);N.cimg=p(N.img,M,N.bpp,N.bpl,D,k,S)}}function u(b,k,S,R,N){const M=N[0],D=N[1],j=N[2],P=N[3],A=N[4],L=N[5];let $=6,F=8,q=255;for(var W=0;W<b.length;W++){const dt=new Uint8Array(b[W]);for(var B=dt.length,U=0;U<B;U+=4)q&=dt[U+3]}const V=q!=255,H=function(Ue,je,ht,Ge,Se,xt){const ze=[];for(var Ie=0;Ie<Ue.length;Ie++){const at=new Uint8Array(Ue[Ie]),qt=new Uint32Array(at.buffer);var yt;let Wt=0,Y=0,_e=je,ke=ht,Pt=Ge?1:0;if(Ie!=0){const fn=xt||Ge||Ie==1||ze[Ie-2].dispose!=0?1:2;let hr=0,ga=1e9;for(let us=0;us<fn;us++){var Lt=new Uint8Array(Ue[Ie-1-us]);const va=new Uint32Array(Ue[Ie-1-us]);let ds=je,hs=ht,vo=-1,ya=-1;for(let yo=0;yo<ht;yo++)for(let _o=0;_o<je;_o++)qt[Me=yo*je+_o]!=va[Me]&&(_o<ds&&(ds=_o),_o>vo&&(vo=_o),yo<hs&&(hs=yo),yo>ya&&(ya=yo));vo==-1&&(ds=hs=vo=ya=0),Se&&((1&ds)==1&&ds--,(1&hs)==1&&hs--);const Cm=(vo-ds+1)*(ya-hs+1);Cm<ga&&(ga=Cm,hr=us,Wt=ds,Y=hs,_e=vo-ds+1,ke=ya-hs+1)}Lt=new Uint8Array(Ue[Ie-1-hr]),hr==1&&(ze[Ie-1].dispose=2),yt=new Uint8Array(_e*ke*4),t(Lt,je,ht,yt,_e,ke,-Wt,-Y,0),Pt=t(at,je,ht,yt,_e,ke,-Wt,-Y,3)?1:0,Pt==1?f(at,je,ht,yt,{x:Wt,y:Y,width:_e,height:ke}):t(at,je,ht,yt,_e,ke,-Wt,-Y,0)}else yt=at.slice(0);ze.push({rect:{x:Wt,y:Y,width:_e,height:ke},img:yt,blend:Pt,dispose:0})}if(Ge)for(Ie=0;Ie<ze.length;Ie++){if((Ee=ze[Ie]).blend==1)continue;const at=Ee.rect,qt=ze[Ie-1].rect,Wt=Math.min(at.x,qt.x),Y=Math.min(at.y,qt.y),_e={x:Wt,y:Y,width:Math.max(at.x+at.width,qt.x+qt.width)-Wt,height:Math.max(at.y+at.height,qt.y+qt.height)-Y};ze[Ie-1].dispose=1,Ie-1!=0&&d(Ue,je,ht,ze,Ie-1,_e,Se),d(Ue,je,ht,ze,Ie,_e,Se)}let hn=0;if(Ue.length!=1)for(var Me=0;Me<ze.length;Me++){var Ee;hn+=(Ee=ze[Me]).rect.width*Ee.rect.height}return ze}(b,k,S,M,D,j),ie={},K=[],te=[];if(R!=0){const dt=[];for(U=0;U<H.length;U++)dt.push(H[U].img.buffer);const Ue=function(Se){let xt=0;for(var ze=0;ze<Se.length;ze++)xt+=Se[ze].byteLength;const Ie=new Uint8Array(xt);let yt=0;for(ze=0;ze<Se.length;ze++){const Lt=new Uint8Array(Se[ze]),hn=Lt.length;for(let Me=0;Me<hn;Me+=4){let Ee=Lt[Me],at=Lt[Me+1],qt=Lt[Me+2];const Wt=Lt[Me+3];Wt==0&&(Ee=at=qt=0),Ie[yt+Me]=Ee,Ie[yt+Me+1]=at,Ie[yt+Me+2]=qt,Ie[yt+Me+3]=Wt}yt+=hn}return Ie.buffer}(dt),je=g(Ue,R);for(U=0;U<je.plte.length;U++)K.push(je.plte[U].est.rgba);let ht=0;for(U=0;U<H.length;U++){const Ge=(se=H[U]).img.length;var pe=new Uint8Array(je.inds.buffer,ht>>2,Ge>>2);te.push(pe);const Se=new Uint8Array(je.abuf,ht,Ge);L&&a(se.img,se.rect.width,se.rect.height,K,Se,pe),se.img.set(Se),ht+=Ge}}else for(W=0;W<H.length;W++){var se=H[W];const dt=new Uint32Array(se.img.buffer);var oe=se.rect.width;for(B=dt.length,pe=new Uint8Array(B),te.push(pe),U=0;U<B;U++){const Ue=dt[U];if(U!=0&&Ue==dt[U-1])pe[U]=pe[U-1];else if(U>oe&&Ue==dt[U-oe])pe[U]=pe[U-oe];else{let je=ie[Ue];if(je==null&&(ie[Ue]=je=K.length,K.push(Ue),K.length>=300))break;pe[U]=je}}}const ye=K.length;for(ye<=256&&A==0&&(F=ye<=2?1:ye<=4?2:ye<=16?4:8,F=Math.max(F,P)),W=0;W<H.length;W++){(se=H[W]).rect.x,se.rect.y,oe=se.rect.width;const dt=se.rect.height;let Ue=se.img;new Uint32Array(Ue.buffer);let je=4*oe,ht=4;if(ye<=256&&A==0){je=Math.ceil(F*oe/8);var we=new Uint8Array(je*dt);const Ge=te[W];for(let Se=0;Se<dt;Se++){U=Se*je;const xt=Se*oe;if(F==8)for(var xe=0;xe<oe;xe++)we[U+xe]=Ge[xt+xe];else if(F==4)for(xe=0;xe<oe;xe++)we[U+(xe>>1)]|=Ge[xt+xe]<<4-4*(1&xe);else if(F==2)for(xe=0;xe<oe;xe++)we[U+(xe>>2)]|=Ge[xt+xe]<<6-2*(3&xe);else if(F==1)for(xe=0;xe<oe;xe++)we[U+(xe>>3)]|=Ge[xt+xe]<<7-1*(7&xe)}Ue=we,$=3,ht=1}else if(V==0&&H.length==1){we=new Uint8Array(oe*dt*3);const Ge=oe*dt;for(U=0;U<Ge;U++){const Se=3*U,xt=4*U;we[Se]=Ue[xt],we[Se+1]=Ue[xt+1],we[Se+2]=Ue[xt+2]}Ue=we,$=2,ht=3,je=3*oe}se.img=Ue,se.bpl=je,se.bpp=ht}return{ctype:$,depth:F,plte:K,frames:H}}function d(b,k,S,R,N,M,D){const j=Uint8Array,P=Uint32Array,A=new j(b[N-1]),L=new P(b[N-1]),$=N+1<b.length?new j(b[N+1]):null,F=new j(b[N]),q=new P(F.buffer);let W=k,B=S,U=-1,V=-1;for(let ie=0;ie<M.height;ie++)for(let K=0;K<M.width;K++){const te=M.x+K,pe=M.y+ie,se=pe*k+te,oe=q[se];oe==0||R[N-1].dispose==0&&L[se]==oe&&($==null||$[4*se+3]!=0)||(te<W&&(W=te),te>U&&(U=te),pe<B&&(B=pe),pe>V&&(V=pe))}U==-1&&(W=B=U=V=0),D&&((1&W)==1&&W--,(1&B)==1&&B--),M={x:W,y:B,width:U-W+1,height:V-B+1};const H=R[N];H.rect=M,H.blend=1,H.img=new Uint8Array(M.width*M.height*4),R[N-1].dispose==0?(t(A,k,S,H.img,M.width,M.height,-M.x,-M.y,0),f(F,k,S,H.img,M)):t(F,k,S,H.img,M.width,M.height,-M.x,-M.y,0)}function f(b,k,S,R,N){t(b,k,S,R,N.width,N.height,-N.x,-N.y,2)}function p(b,k,S,R,N,M,D){const j=[];let P,A=[0,1,2,3,4];M!=-1?A=[M]:(k*R>5e5||S==1)&&(A=[0]),D&&(P={level:0});const L=A_e;for(var $=0;$<A.length;$++){for(let W=0;W<k;W++)m(N,b,W,R,S,A[$]);j.push(L.deflate(N,P))}let F,q=1e9;for($=0;$<j.length;$++)j[$].length<q&&(F=$,q=j[$].length);return j[F]}function m(b,k,S,R,N,M){const D=S*R;let j=D+S;if(b[j]=M,j++,M==0)if(R<500)for(var P=0;P<R;P++)b[j+P]=k[D+P];else b.set(new Uint8Array(k.buffer,D,R),j);else if(M==1){for(P=0;P<N;P++)b[j+P]=k[D+P];for(P=N;P<R;P++)b[j+P]=k[D+P]-k[D+P-N]+256&255}else if(S==0){for(P=0;P<N;P++)b[j+P]=k[D+P];if(M==2)for(P=N;P<R;P++)b[j+P]=k[D+P];if(M==3)for(P=N;P<R;P++)b[j+P]=k[D+P]-(k[D+P-N]>>1)+256&255;if(M==4)for(P=N;P<R;P++)b[j+P]=k[D+P]-n(k[D+P-N],0,0)+256&255}else{if(M==2)for(P=0;P<R;P++)b[j+P]=k[D+P]+256-k[D+P-R]&255;if(M==3){for(P=0;P<N;P++)b[j+P]=k[D+P]+256-(k[D+P-R]>>1)&255;for(P=N;P<R;P++)b[j+P]=k[D+P]+256-(k[D+P-R]+k[D+P-N]>>1)&255}if(M==4){for(P=0;P<N;P++)b[j+P]=k[D+P]+256-n(0,k[D+P-R],0)&255;for(P=N;P<R;P++)b[j+P]=k[D+P]+256-n(k[D+P-N],k[D+P-R],k[D+P-N-R])&255}}}function g(b,k){const S=new Uint8Array(b),R=S.slice(0),N=new Uint32Array(R.buffer),M=E(R,k),D=M[0],j=M[1],P=S.length,A=new Uint8Array(P>>2);let L;if(S.length<2e7)for(var $=0;$<P;$+=4)L=v(D,F=S[$]*(1/255),q=S[$+1]*(1/255),W=S[$+2]*(1/255),B=S[$+3]*(1/255)),A[$>>2]=L.ind,N[$>>2]=L.est.rgba;else for($=0;$<P;$+=4){var F=S[$]*.00392156862745098,q=S[$+1]*(1/255),W=S[$+2]*(1/255),B=S[$+3]*(1/255);for(L=D;L.left;)L=w(L.est,F,q,W,B)<=0?L.left:L.right;A[$>>2]=L.ind,N[$>>2]=L.est.rgba}return{abuf:R.buffer,inds:A,plte:j}}function E(b,k,S){S==null&&(S=1e-4);const R=new Uint32Array(b.buffer),N={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=I(b,N.i0,N.i1),N.est=C(N.bst);const M=[N];for(;M.length<k;){let j=0,P=0;for(var D=0;D<M.length;D++)M[D].est.L>j&&(j=M[D].est.L,P=D);if(j<S)break;const A=M[P],L=_(b,R,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=L||A.i1<=L){A.est.L=0;continue}const $={i0:A.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};$.bst=I(b,$.i0,$.i1),$.est=C($.bst);const F={i0:L,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:A.bst.N-$.bst.N},D=0;D<16;D++)F.bst.R[D]=A.bst.R[D]-$.bst.R[D];for(D=0;D<4;D++)F.bst.m[D]=A.bst.m[D]-$.bst.m[D];F.est=C(F.bst),A.left=$,A.right=F,M[P]=$,M.push(F)}for(M.sort((j,P)=>P.bst.N-j.bst.N),D=0;D<M.length;D++)M[D].ind=D;return[N,M]}function v(b,k,S,R,N){if(b.left==null)return b.tdst=function($,F,q,W,B){const U=F-$[0],V=q-$[1],H=W-$[2],ie=B-$[3];return U*U+V*V+H*H+ie*ie}(b.est.q,k,S,R,N),b;const M=w(b.est,k,S,R,N);let D=b.left,j=b.right;M>0&&(D=b.right,j=b.left);const P=v(D,k,S,R,N);if(P.tdst<=M*M)return P;const A=v(j,k,S,R,N);return A.tdst<P.tdst?A:P}function w(b,k,S,R,N){const{e:M}=b;return M[0]*k+M[1]*S+M[2]*R+M[3]*N-b.eMq}function _(b,k,S,R,N,M){for(R-=4;S<R;){for(;x(b,S,N)<=M;)S+=4;for(;x(b,R,N)>M;)R-=4;if(S>=R)break;const D=k[S>>2];k[S>>2]=k[R>>2],k[R>>2]=D,S+=4,R-=4}for(;x(b,S,N)>M;)S-=4;return S+4}function x(b,k,S){return b[k]*S[0]+b[k+1]*S[1]+b[k+2]*S[2]+b[k+3]*S[3]}function I(b,k,S){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],M=S-k>>2;for(let D=k;D<S;D+=4){const j=b[D]*.00392156862745098,P=b[D+1]*(1/255),A=b[D+2]*(1/255),L=b[D+3]*(1/255);N[0]+=j,N[1]+=P,N[2]+=A,N[3]+=L,R[0]+=j*j,R[1]+=j*P,R[2]+=j*A,R[3]+=j*L,R[5]+=P*P,R[6]+=P*A,R[7]+=P*L,R[10]+=A*A,R[11]+=A*L,R[15]+=L*L}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:N,N:M}}function C(b){const{R:k}=b,{m:S}=b,{N:R}=b,N=S[0],M=S[1],D=S[2],j=S[3],P=R==0?0:1/R,A=[k[0]-N*N*P,k[1]-N*M*P,k[2]-N*D*P,k[3]-N*j*P,k[4]-M*N*P,k[5]-M*M*P,k[6]-M*D*P,k[7]-M*j*P,k[8]-D*N*P,k[9]-D*M*P,k[10]-D*D*P,k[11]-D*j*P,k[12]-j*N*P,k[13]-j*M*P,k[14]-j*D*P,k[15]-j*j*P],L=A,$=T;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,W=0;if(R!=0)for(let U=0;U<16&&(F=$.multVec(L,F),W=Math.sqrt($.dot(F,F)),F=$.sml(1/W,F),!(U!=0&&Math.abs(W-q)<1e-9));U++)q=W;const B=[N*P,M*P,D*P,j*P];return{Cov:A,q:B,e:F,L:q,eMq255:$.dot($.sml(255,B),F),eMq:$.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var T={multVec:(b,k)=>[b[0]*k[0]+b[1]*k[1]+b[2]*k[2]+b[3]*k[3],b[4]*k[0]+b[5]*k[1]+b[6]*k[2]+b[7]*k[3],b[8]*k[0]+b[9]*k[1]+b[10]*k[2]+b[11]*k[3],b[12]*k[0]+b[13]*k[1]+b[14]*k[2]+b[15]*k[3]],dot:(b,k)=>b[0]*k[0]+b[1]*k[1]+b[2]*k[2]+b[3]*k[3],sml:(b,k)=>[b*k[0],b*k[1],b*k[2],b*k[3]]};ms.encode=function(k,S,R,N,M,D,j){N==null&&(N=0),j==null&&(j=!1);const P=u(k,S,R,N,[!1,!1,!1,0,j,!1]);return c(P,-1),l(P,S,R,M,D)},ms.encodeLL=function(k,S,R,N,M,D,j,P){const A={ctype:0+(N==1?0:2)+(M==0?0:4),depth:D,frames:[]},L=(N+M)*D,$=L*S;for(let F=0;F<k.length;F++)A.frames.push({rect:{x:0,y:0,width:S,height:R},img:new Uint8Array(k[F]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil($/8)});return c(A,0,!0),l(A,S,R,j,P)},ms.encode.compress=u,ms.encode.dither=a,ms.quantize=g,ms.quantize.getKDtree=E,ms.quantize.getNearest=v})();const _F={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),f=1<<20;let p,m,g,E,v=f,w=0,_=0,x=0;function I(b){d.setUint16(_,b,!0),_+=2}function C(b){d.setUint32(_,b,!0),_+=4}function T(b){_+=b}I(19778),C(c),T(4),C(122),C(108),C(n),C(-r>>>0),I(1),I(32),C(3),C(l),C(2835),C(2835),T(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function b(){for(;w<r&&v>0;){for(E=122+w*a,p=0;p<i;)v--,m=o[x++],g=m>>>24,d.setUint32(E+p,m<<8|g),p+=4;w++}x<o.length?(v=f,setTimeout(b,_F._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var qr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},P_e={[qr.CHROME]:16384,[qr.FIREFOX]:11180,[qr.DESKTOP_SAFARI]:16384,[qr.IE]:8192,[qr.IOS]:4096,[qr.ETC]:8192};const FT=typeof window<"u",wF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,U1=FT&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),N_e=(FT||wF)&&(U1&&U1.getOriginalSymbol(window,"File")||typeof File<"u"&&File),xF=(FT||wF)&&(U1&&U1.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function VT(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function EF(t){return new Promise((e,n)=>{const r=new xF;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function CF(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function uc(){if(uc.cachedResult!==void 0)return uc.cachedResult;let t=qr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=qr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=qr.IOS:/Safari/i.test(e)?t=qr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=qr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=qr.IE),uc.cachedResult=t,uc.cachedResult}function bF(t,e){const n=uc(),r=P_e[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function L_(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function IF(t,e){const{width:n,height:r}=bF(t.width,t.height),[i,s]=L_(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function ng(){return ng.cachedResult!==void 0||(ng.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ng.cachedResult}function z1(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=IF(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return EF(t).then(function(d){try{return u=d,CF(u).then(function(f){try{return i=f,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(ng()||[qr.DESKTOP_SAFARI,qr.MOBILE_SAFARI].includes(uc()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function B1(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let d,f,p;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),p=ms.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(f=>_F.toBlob(t,f)).then((function(f){try{return a=f,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let f=function(){return d.call(this)};var u=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,i),VT(p,n,r).then((function(m){try{return a=m,f.call(this)}catch(g){return o(g)}}).bind(this),o)}}}function l(){return s(a)}})}function Vs(t){t.width=0,t.height=0}function Qu(){return new Promise(function(t,e){let n,r,i,s;return Qu.cachedResult!==void 0?t(Qu.cachedResult):VT("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,z1(n).then(function(a){try{return r=a[1],B1(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,Vs(r),z1(i).then(function(c){try{return s=c[0],Qu.cachedResult=s.width===1&&s.height===2,t(Qu.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function TF(t){return new Promise((e,n)=>{const r=new xF;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const u=s.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(s.getUint16(a+12*d,c)==274)return e(s.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function SF(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=L_(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),Vs(t)),o}function kF(t,e){const{width:n}=t,{height:r}=t,[i,s]=L_(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Vs(t),i}function qP(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,u,d,f,p,m,g,E,v,w,_,x,I,C,T,b;function k(R=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=R,e.onProgress(Math.min(s,100))}function S(R){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(R,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,k(),z1(t,e).then((function(R){try{return[,l]=R,k(),c=SF(l,e),k(),new Promise(function(N,M){var D;if(!(D=e.exifOrientation))return TF(t).then((function(P){try{return D=P,j.call(this)}catch(A){return M(A)}}).bind(this),M);function j(){return N(D)}return j.call(this)}).then((function(N){try{return u=N,k(),Qu().then((function(M){try{return d=M?c:kF(c,u),k(),f=e.initialQuality||1,p=e.fileType||t.type,B1(d,p,t.name,t.lastModified,f).then((function(D){try{{let L=function(){if(o--&&(_>a||_>v)){let F,q;return F=b?.95*T.width:T.width,q=b?.95*T.height:T.height,[I,C]=L_(F,q),C.drawImage(T,0,0,F,q),f*=p==="image/png"?.85:.95,B1(I,p,t.name,t.lastModified,f).then(function(W){try{return x=W,Vs(T),T=I,_=x.size,S(Math.min(99,Math.floor((w-_)/(w-a)*100))),L}catch(B){return i(B)}},i)}return[1]},$=function(){return Vs(T),Vs(I),Vs(c),Vs(d),Vs(l),S(100),r(x)};var P=L,A=$;if(m=D,k(),g=m.size>a,E=m.size>t.size,!g&&!E)return S(100),r(m);var j;return v=t.size,w=m.size,_=w,T=d,b=!e.alwaysKeepResolution&&g,(j=(function(F){for(;F;){if(F.then)return void F.then(j,i);try{if(F.pop){if(F.length)return F.pop()?$.call(this):F;F=L}else F=F.call(this)}catch(q){return i(q)}}}).bind(this))(L)}}catch(L){return i(L)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)})}const D_e=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let px;function L_e(t,e){return new Promise((n,r)=>{px||(px=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(D_e));const i=new Worker(px);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function $n(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof N_e))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return qP(t,i).then((function(p){try{return s=p,f.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return qP(t,i).then(function(m){try{return s=m,u()}catch(g){return r(g)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",L_e(t,i).then(function(p){try{return s=p,u()}catch{return d()}},d)}catch{d()}function f(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=yF(t,s))}catch{}return n(s)}})}$n.getDataUrlFromFile=EF,$n.getFilefromDataUrl=VT,$n.loadImage=CF,$n.drawImageInCanvas=IF,$n.drawFileInCanvas=z1,$n.canvasToFile=B1,$n.getExifOrientation=TF,$n.handleMaxWidthOrHeight=SF,$n.followExifOrientation=kF,$n.cleanupCanvasMemory=Vs,$n.isAutoOrientationInBrowser=Qu,$n.approximateBelowMaximumCanvasSizeOfBrowser=bF,$n.copyExifWithoutOrientation=yF,$n.getBrowserName=uc,$n.version="2.0.2";const YP=({options:t,setValue:e,label:n,gender:r})=>{const[i,s]=y.useState(r),o=a=>{s(a.target.value)};return y.useEffect(()=>{e(i)},[i]),y.useEffect(()=>{s(r)},[r]),h.jsx(uF,{size:"small",variant:"standard",id:n,labelId:n,value:i,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>h.jsx(lve,{value:a.value,children:a.label},a.value))})};var KP="__sak";function RF(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var M_e=RF,nC=new Sl("auth","Firebase",RF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd=new Tp("@firebase/auth");function O_e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];yd.logLevel<=Ze.WARN&&yd.warn.apply(yd,ar(["Auth (".concat(Ds,"): ").concat(t)],e,!1))}function rg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];yd.logLevel<=Ze.ERROR&&yd.error.apply(yd,ar(["Auth (".concat(Ds,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw zT.apply(void 0,ar([t],e,!1))}function UT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return zT.apply(void 0,ar([t],e,!1))}function $_e(t,e,n){var r,i=ct(ct({},M_e()),(r={},r[e]=n,r)),s=new Sl("auth","Firebase",i);return s.create(e,{appName:t.name})}function zT(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=ar([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,ar([i],s,!1))}return nC.create.apply(nC,ar([t],n,!1))}function Je(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw zT.apply(void 0,ar([e],n,!1))}function Fo(t){var e="INTERNAL ASSERTION FAILED: "+t;throw rg(e),new Error(e)}function Jd(t,e){t||Fo(e)}function j_e(){return QP()==="http:"||QP()==="https:"}function QP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j_e()||c8()||"connection"in navigator)?navigator.onLine:!0}function V_e(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U_e=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,Jd(n>e,"Short delay should be less than long delay!"),this.isMobile=pv()||hb()}return t.prototype.get=function(){return F_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_e(t,e){Jd(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AF=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,B_e=(Oe={},Oe.CREDENTIAL_MISMATCH="custom-token-mismatch",Oe.MISSING_CUSTOM_TOKEN="internal-error",Oe.INVALID_IDENTIFIER="invalid-email",Oe.MISSING_CONTINUE_URI="internal-error",Oe.INVALID_PASSWORD="wrong-password",Oe.MISSING_PASSWORD="missing-password",Oe.INVALID_LOGIN_CREDENTIALS="invalid-credential",Oe.EMAIL_EXISTS="email-already-in-use",Oe.PASSWORD_LOGIN_DISABLED="operation-not-allowed",Oe.INVALID_IDP_RESPONSE="invalid-credential",Oe.INVALID_PENDING_TOKEN="invalid-credential",Oe.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",Oe.MISSING_REQ_TYPE="internal-error",Oe.EMAIL_NOT_FOUND="user-not-found",Oe.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",Oe.EXPIRED_OOB_CODE="expired-action-code",Oe.INVALID_OOB_CODE="invalid-action-code",Oe.MISSING_OOB_CODE="internal-error",Oe.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",Oe.INVALID_ID_TOKEN="invalid-user-token",Oe.TOKEN_EXPIRED="user-token-expired",Oe.USER_NOT_FOUND="user-token-expired",Oe.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",Oe.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",Oe.INVALID_CODE="invalid-verification-code",Oe.INVALID_SESSION_INFO="invalid-verification-id",Oe.INVALID_TEMPORARY_PROOF="invalid-credential",Oe.MISSING_SESSION_INFO="missing-verification-id",Oe.SESSION_EXPIRED="code-expired",Oe.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",Oe.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",Oe.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",Oe.ADMIN_ONLY_OPERATION="admin-restricted-operation",Oe.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",Oe.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",Oe.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",Oe.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",Oe.SECOND_FACTOR_EXISTS="second-factor-already-in-use",Oe.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",Oe.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",Oe.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",Oe.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",Oe.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",Oe.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",Oe.MISSING_CLIENT_TYPE="missing-client-type",Oe.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",Oe.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",Oe.INVALID_REQ_TYPE="invalid-req-type",Oe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W_e=new U_e(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?ct(ct({},e),{tenantId:t.tenantId}):e}function uu(t,e,n,r,i){return i===void 0&&(i={}),Z(this,void 0,void 0,function(){var s=this;return ee(this,function(o){return[2,PF(t,i,function(){return Z(s,void 0,void 0,function(){var a,l,c,u;return ee(this,function(d){switch(d.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=la(ct({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,AF.fetch()(NF(t,t.config.apiHost,n,c),ct({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function PF(t,e,n){return Z(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,f;return ee(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=ct(ct({},B_e),e),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new G_e(t),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Af(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Af(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Af(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Af(t,"user-disabled",o);if(d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw $_e(t,d,u);return oa(t,d),[3,5];case 4:if(f=p.sent(),f instanceof Ai)throw f;return oa(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function du(t,e,n,r,i){return i===void 0&&(i={}),Z(this,void 0,void 0,function(){var s;return ee(this,function(o){switch(o.label){case 0:return[4,uu(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&oa(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function NF(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?z_e(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function H_e(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var G_e=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(UT(n.auth,"network-request-failed"))},W_e.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Af(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=UT(t,e,r);return i.customData._tokenResponse=n,i}function XP(t){return t!==void 0&&t.enterprise!==void 0}var q_e=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return H_e(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function Y_e(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,uu(t,"GET","/v2/recaptchaConfig",go(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_e(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,uu(t,"POST","/v1/accounts:delete",e)]})})}function Q_e(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,uu(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function X_e(t,e){return e===void 0&&(e=!1),Z(this,void 0,void 0,function(){var n,r,i,s,o;return ee(this,function(a){switch(a.label){case 0:return n=st(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=BT(r),Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:o0(mx(i.auth_time)),issuedAtTime:o0(mx(i.iat)),expirationTime:o0(mx(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function mx(t){return Number(t)*1e3}function BT(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return rg("JWT malformed, contained fewer than 3 sections"),null;try{var s=k0(r);return s?JSON.parse(s):(rg("Failed to decode base64 JWT payload"),null)}catch(o){return rg("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function J_e(t){var e=BT(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){var r;return ee(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof Ai&&Z_e(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function Z_e(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ewe=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return Z(n,void 0,void 0,function(){return ee(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return Z(this,void 0,void 0,function(){var e;return ee(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DF=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=o0(this.lastLoginAt),this.creationTime=o0(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){var e;return Z(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u,d;return ee(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,vp(t,Q_e(n,{idToken:r}))];case 2:return i=f.sent(),Je(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rwe(s.providerUserInfo):[],a=nwe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new DF(s.createdAt,s.lastLoginAt),isAnonymous:u},Object.assign(t,d),[2]}})})}function twe(t){return Z(this,void 0,void 0,function(){var e;return ee(this,function(n){switch(n.label){case 0:return e=st(t),[4,W1(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function nwe(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return ar(ar([],n,!0),e,!0)}function rwe(t){return t.map(function(e){var n=e.providerId,r=uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iwe(t,e){return Z(this,void 0,void 0,function(){var n,r=this;return ee(this,function(i){switch(i.label){case 0:return[4,PF(t,{},function(){return Z(r,void 0,void 0,function(){var s,o,a,l,c,u;return ee(this,function(d){switch(d.label){case 0:return s=la({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=NF(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,AF.fetch()(c,{method:"POST",headers:u,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function swe(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,uu(t,"POST","/v2/accounts:revokeToken",go(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JP=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_e(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){return ee(this,function(r){switch(r.label){case 0:return Je(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return Z(this,void 0,void 0,function(){var r,i,s,o;return ee(this,function(a){switch(a.label){case 0:return[4,iwe(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Fo("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var rC=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ewe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?ar([],s.providerData,!0):[],this.metadata=new DF(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return[4,vp(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),Je(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return X_e(this,e)},t.prototype.reload=function(){return twe(this)},t.prototype._assign=function(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return ct({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(ct(ct({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){var r;return ee(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,W1(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return Z(this,void 0,void 0,function(){var e;return ee(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,vp(this,K_e(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return ct(ct({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return ct({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,l,c,u,d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,x=n.emailVerified,I=n.isAnonymous,C=n.providerData,T=n.stsTokenManager;Je(_&&T,e,"internal-error");var b=JP.fromJSON(this.name,T);Je(typeof _=="string",e,"internal-error"),Ia(d,e.name),Ia(f,e.name),Je(typeof x=="boolean",e,"internal-error"),Je(typeof I=="boolean",e,"internal-error"),Ia(p,e.name),Ia(m,e.name),Ia(g,e.name),Ia(E,e.name),Ia(v,e.name),Ia(w,e.name);var k=new t({uid:_,auth:e,email:f,emailVerified:x,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:b,createdAt:v,lastLoginAt:w});return C&&Array.isArray(C)&&(k.providerData=C.map(function(S){return ct({},S)})),E&&(k._redirectEventId=E),k},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),Z(this,void 0,void 0,function(){var i,s;return ee(this,function(o){switch(o.label){case 0:return i=new JP,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,W1(s)];case 1:return o.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZP=new Map;function Ga(t){Jd(t instanceof Function,"Expected a class definition");var e=ZP.get(t);return e?(Jd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var owe=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return Z(this,void 0,void 0,function(){return ee(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return Z(this,void 0,void 0,function(){return ee(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),e6=owe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var t6=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=ig(this.userKey,s.apiKey,o),this.fullPersistenceKey=ig("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return Z(this,void 0,void 0,function(){var e;return ee(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?rC._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),Z(this,void 0,void 0,function(){var i,s,o,a,l,c,u,d,f,p,m=this;return ee(this,function(g){switch(g.label){case 0:return n.length?[4,Promise.all(n.map(function(E){return Z(m,void 0,void 0,function(){return ee(this,function(v){switch(v.label){case 0:return[4,E._isAvailable()];case 1:return v.sent()?[2,E]:[2,void 0]}})})}))]:[2,new t(Ga(e6),e,r)];case 1:i=g.sent().filter(function(E){return E}),s=i[0]||Ga(e6),o=ig(r,e.config.apiKey,e.name),a=null,l=0,c=n,g.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],g.label=3;case 3:return g.trys.push([3,5,,6]),[4,u._get(o)];case 4:return d=g.sent(),d?(f=rC._fromJSON(e,d),u!==s&&(a=f),s=u,[3,7]):[3,6];case 5:return g.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=i.filter(function(E){return E._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new t(s,e,r)]:(s=p[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:g.sent(),g.label=9;case 9:return[4,Promise.all(n.map(function(E){return Z(m,void 0,void 0,function(){return ee(this,function(v){switch(v.label){case 0:if(E===s)return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,E._remove(o)];case 2:return v.sent(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})}))];case 10:return g.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(awe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($F(e))return"Blackberry";if(jF(e))return"Webos";if(LF(e))return"Safari";if((e.includes("chrome/")||lwe(e))&&!e.includes("edge/"))return"Chrome";if(OF(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function awe(t){return t===void 0&&(t=bt()),/firefox\//i.test(t)}function LF(t){t===void 0&&(t=bt());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lwe(t){return t===void 0&&(t=bt()),/crios\//i.test(t)}function MF(t){return t===void 0&&(t=bt()),/iemobile/i.test(t)}function OF(t){return t===void 0&&(t=bt()),/android/i.test(t)}function $F(t){return t===void 0&&(t=bt()),/blackberry/i.test(t)}function jF(t){return t===void 0&&(t=bt()),/webos/i.test(t)}function FF(t){return t===void 0&&(t=bt()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cwe(){return u8()&&document.documentMode===10}function uwe(t){return t===void 0&&(t=bt()),FF(t)||OF(t)||jF(t)||$F(t)||/windows phone/i.test(t)||MF(t)}function dwe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=n6(bt());break;case"Worker":n="".concat(n6(bt()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Ds,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hwe=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return Z(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c;return ee(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,i=this.queue,u.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:u.sent(),s.onAbort&&n.push(s.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fwe(t,e){return e===void 0&&(e={}),Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,uu(t,"GET","/v2/passwordPolicy",go(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pwe=6,mwe=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pwe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gwe=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r6(this),this.idTokenSubscription=new r6(this),this.beforeStateQueue=new hwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=Ga(n)),this._initializationPromise=this.queue(function(){return Z(r,void 0,void 0,function(){var i,s,o;return ee(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,t6.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return Z(this,void 0,void 0,function(){var e;return ee(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return Z(this,void 0,void 0,function(){var r,i,s,o,a,l,c;return ee(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),i=r,s=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0),u.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return Je(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,W1(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=V_e()},t.prototype._delete=function(){return Z(this,void 0,void 0,function(){return ee(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){return n=e?st(e):null,n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){var r=this;return ee(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return Z(r,void 0,void 0,function(){return ee(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return Z(this,void 0,void 0,function(){return ee(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return Z(n,void 0,void 0,function(){return ee(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Ga(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return Z(this,void 0,void 0,function(){var e,n;return ee(this,function(r){switch(r.label){case 0:return[4,fwe(this)];case 1:return e=r.sent(),n=new mwe(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new Sl("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return Z(this,void 0,void 0,function(){var n,r;return ee(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,swe(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return Z(this,void 0,void 0,function(){var r;return ee(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return Z(this,void 0,void 0,function(){var n,r,i;return ee(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&Ga(e)||this._popupRedirectResolver,Je(n,this,"argument-error"),r=this,[4,t6.create(this,[Ga(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return Z(this,void 0,void 0,function(){var i=this;return ee(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return Z(i,void 0,void 0,function(){return ee(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return Z(this,void 0,void 0,function(){var n=this;return ee(this,function(r){return e===this.currentUser?[2,this.queue(function(){return Z(n,void 0,void 0,function(){return ee(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(l,this,"internal-error"),l.then(function(){a||o(s.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,i);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return Z(this,void 0,void 0,function(){return ee(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VF(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return Z(this,void 0,void 0,function(){var n,r,i,s;return ee(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&O_e("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function UF(t){return st(t)}var r6=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=m8(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zF={loadJS:function(){return Z(this,void 0,void 0,function(){return ee(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vwe(t){return zF.loadJS(t)}function ywe(){return zF.recaptchaEnterpriseScript}var _we="recaptcha-enterprise",wwe="NO_RECAPTCHA",xwe=function(){function t(e){this.type=_we,this.auth=UF(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),Z(this,void 0,void 0,function(){function r(o){return Z(this,void 0,void 0,function(){var a=this;return ee(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return Z(a,void 0,void 0,function(){return ee(this,function(d){return Y_e(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new q_e(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(f){u(f)}),[2]})})})]})})}function i(o,a,l){var c=window.grecaptcha;XP(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(wwe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return ee(this,function(o){return[2,new Promise(function(a,l){r(s.auth).then(function(c){if(!n&&XP(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=ywe();u.length!==0&&(u+=c),vwe(u).then(function(){i(c,a,l)}).catch(function(d){l(d)})}}).catch(function(c){l(c)})})]})})},t}();function i6(t,e,n,r){return r===void 0&&(r=!1),Z(this,void 0,void 0,function(){var i,s,o;return ee(this,function(a){switch(a.label){case 0:i=new xwe(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=ct({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function s6(t,e,n,r){var i;return Z(this,void 0,void 0,function(){var s,o=this;return ee(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,i6(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(l){return Z(o,void 0,void 0,function(){var c;return ee(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,i6(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function Ewe(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ga);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ym=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Fo("not implemented")},t.prototype._getIdTokenResponse=function(e){return Fo("not implemented")},t.prototype._linkToIdToken=function(e,n){return Fo("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Fo("not implemented")},t}();function Cwe(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,uu(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bwe(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,du(t,"POST","/v1/accounts:signInWithPassword",go(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iwe(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,du(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))]})})}function Twe(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,du(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o6=function(t){on(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return Z(this,void 0,void 0,function(){var r;return ee(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,s6(n,r,"signInWithPassword",bwe)];case"emailLink":return[2,Iwe(n,{email:this._email,oobCode:this._password})];default:oa(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return Z(this,void 0,void 0,function(){var i;return ee(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,s6(n,i,"signUpPassword",Cwe)];case"emailLink":return[2,Twe(n,{idToken:r,email:this._email,oobCode:this._password})];default:oa(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(ym);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,du(t,"POST","/v1/accounts:signInWithIdp",go(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Swe="http://localhost",Zd=function(t){on(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):oa("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=uh(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ho(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ho(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ho(n,r)},e.prototype.buildRequest=function(){var n={requestUri:Swe,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=la(r)}return n},e}(ym);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gx;function kwe(t,e){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2,du(t,"POST","/v1/accounts:signInWithPhoneNumber",go(t,e))]})})}function Rwe(t,e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return[4,du(t,"POST","/v1/accounts:signInWithPhoneNumber",go(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Af(t,"account-exists-with-different-credential",n);return[2,n]}})})}var Awe=(gx={},gx.USER_NOT_FOUND="user-not-found",gx);function Pwe(t,e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){return n=ct(ct({},e),{operation:"REAUTH"}),[2,du(t,"POST","/v1/accounts:signInWithPhoneNumber",go(t,n),Awe)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){on(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return kwe(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return Rwe(n,ct({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return Pwe(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(ym);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nwe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dwe(t){var e=Hs(Gs(t)).link,n=e?Hs(Gs(e)).deep_link_id:null,r=Hs(Gs(t)).deep_link_id,i=r?Hs(Gs(r)).link:null;return i||r||n||e||t}var Lwe=function(){function t(e){var n,r,i,s,o,a,l=Hs(Gs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Nwe((i=l.mode)!==null&&i!==void 0?i:null);Je(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=Dwe(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mwe=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return o6._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=Lwe.parseLink(n);return Je(r,"argument-error"),o6._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BF=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _m=function(t){on(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return ar([],this.scopes,!0)},e}(BF);(function(t){on(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return Je("providerId"in r&&"signInMethod"in r,"argument-error"),Zd._fromParams(r)},e.prototype.credential=function(n){return this._credential(ct(ct({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return Je(n.idToken||n.accessToken,"argument-error"),Zd._fromParams(ct(ct({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,l=i.pendingToken,c=i.nonce,u=i.providerId;if(!o&&!a&&!s&&!l||!u)return null;try{return new e(u)._credential({idToken:s,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(_m);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){on(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return Zd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(_m);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){on(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return Zd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(_m);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){on(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return Zd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(_m);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Owe="http://localhost",a6=function(t){on(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ho(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ho(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ho(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:Owe,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(ym);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $we="saml.";(function(t){on(e,t);function e(n){return Je(n.startsWith($we),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=a6.fromJSON(n);return Je(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return a6._create(o,s)}catch{return null}},e})(BF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){on(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return Zd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(_m);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WT=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),Z(this,void 0,void 0,function(){var s,o,a;return ee(this,function(l){switch(l.label){case 0:return[4,rC._fromIdTokenResponse(e,r,i)];case 1:return s=l.sent(),o=l6(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return Z(this,void 0,void 0,function(){var i;return ee(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=l6(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function l6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jwe=function(t){on(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(Ai);function WF(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?jwe._fromErrorAndOperation(t,s,e,r):s})}function Fwe(t,e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){var r,i,s,o,a,l;return ee(this,function(c){switch(c.label){case 0:return i=vp,s=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,WT._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vwe(t,e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){var r,i,s,o,a,l;return ee(this,function(c){switch(c.label){case 0:r=t.auth,i="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,vp(t,WF(r,i,e,t),n)];case 2:return s=c.sent(),Je(s.idToken,r,"internal-error"),o=BT(s.idToken),Je(o,r,"internal-error"),a=o.sub,Je(t.uid===a,r,"user-mismatch"),[2,WT._forOperation(t,i,s)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&oa(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uwe(t,e,n){return n===void 0&&(n=!1),Z(this,void 0,void 0,function(){var r,i,s;return ee(this,function(o){switch(o.label){case 0:return r="signIn",[4,WF(t,r,e)];case 1:return i=o.sent(),[4,WT._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HF=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?zwe._fromServerResponse(e,n):"totpInfo"in n?Bwe._fromServerResponse(e,n):oa(e,"internal-error")},t}(),zwe=function(t){on(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(HF),Bwe=function(t){on(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(HF),HT=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),GF=function(t){on(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(HT);(function(t){on(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(HT);(function(t){on(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(GF);(function(t){on(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(HT);(function(t){on(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(GF);var c6="@firebase/auth",u6="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wwe=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return Z(this,void 0,void 0,function(){var n;return ee(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hwe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gwe(t){so(new ks("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,l=a.apiKey,c=a.authDomain;Je(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VF(t)},d=new gwe(i,s,o,u);return Ewe(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),so(new ks("auth-internal",function(e){var n=UF(e.getProvider("auth").getImmediate());return function(r){return new Wwe(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(c6,u6,Hwe(t)),ri(c6,u6,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qF=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(KP,"1"),this.storage.removeItem(KP),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qwe(){var t=bt();return LF(t)||FF(t)}var Ywe=1e3,Kwe=10;(function(t){on(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=qwe()&&dwe(),n.fallbackToPolling=uwe(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,d){i.notifyListeners(c,d)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(s);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var a=function(){var c=i.storage.getItem(s);!r&&i.localCache[s]===c||i.notifyListeners(s,c)},l=this.storage.getItem(s);cwe()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,Kwe):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},Ywe)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return Z(this,void 0,void 0,function(){return ee(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return Z(this,void 0,void 0,function(){var r;return ee(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return Z(this,void 0,void 0,function(){return ee(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(qF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){on(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(qF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GT=function(t){on(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Ho(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Ho(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Ho(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(ym);function Qwe(t){return Uwe(t.auth,new GT(t),t.bypassAuthState)}function Xwe(t){var e=t.auth,n=t.user;return Je(n,e,"internal-error"),Vwe(n,new GT(t),t.bypassAuthState)}function Jwe(t){return Z(this,void 0,void 0,function(){var e,n;return ee(this,function(r){return e=t.auth,n=t.user,Je(n,e,"internal-error"),[2,Fwe(n,new GT(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zwe=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return Z(e,void 0,void 0,function(){var i,s;return ee(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return Z(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u;return ee(this,function(d){switch(d.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},d.label=1;case 1:return d.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[d.sent()]),[3,4];case 3:return u=d.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qwe;case"linkViaPopup":case"linkViaRedirect":return Jwe;case"reauthViaPopup":case"reauthViaRedirect":return Xwe;default:oa(this.auth,"internal-error")}},t.prototype.resolve=function(e){Jd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){Jd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var exe="pendingRedirect",vx=new Map;(function(t){on(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return Z(this,void 0,void 0,function(){var n,r,i,s,o;return ee(this,function(a){switch(a.label){case 0:if(n=vx.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,txe(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:vx.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||vx.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return Z(this,void 0,void 0,function(){var r;return ee(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return Z(this,void 0,void 0,function(){return ee(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(Zwe);function txe(t,e){return Z(this,void 0,void 0,function(){var n,r,i;return ee(this,function(s){switch(s.label){case 0:return n=rxe(e),r=nxe(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function nxe(t){return Ga(t._redirectPersistence)}function rxe(t){return ig(exe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ixe=10*60*1e3,sxe=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oxe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!YF(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(UT(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=ixe&&this.cachedEventUids.clear(),this.cachedEventUids.has(d6(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(d6(e)),this.lastProcessedEventTime=Date.now()},t}();function d6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function YF(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function oxe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YF(t);default:return!1}}(function(t){on(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return Z(this,void 0,void 0,function(){return ee(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(sxe);Gwe("Cordova");const axe=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{y.useContext(be);const[r,i]=y.useState(""),[s,o]=y.useState(""),a=async()=>{const d=Gr.currentUser;r.trim()&&s.trim()?await l(d):n("Enter both old and new password")},l=async d=>{try{const f=Mwe.credential(d.email,r);await rY(d,f),await lY(d,s),n("Your password is changed successfully"),e(!1)}catch(f){f.code==="auth/invalid-credentail"?n("Your old password is wrong"):n(`Re-authentication failed: ${f.message}`)}},c=()=>{try{a()}catch(d){n(d.message)}},u=async()=>{try{await sY(Gr,Gr.currentUser.email),n("Password rest email was sent to "+Gr.currentUser.email)}catch(d){n(d.message)}};return h.jsxs(Di,{open:t,onClose:()=>e(!1),children:[h.jsxs(ce,{m:2,children:[h.jsxs(ce,{mb:2,children:[h.jsx(lt,{variant:"h6",children:"Change your account password"}),h.jsx(lt,{variant:"caption",children:"Only change the password if you need to and keep your password"})]}),h.jsxs(Lr,{gap:2,children:[h.jsx(Kn,{type:"password",size:"small",label:"Enter old password",value:r,onChange:d=>i(d.target.value)}),h.jsx(Kn,{type:"password",size:"small",label:"Enter new password",value:s,onChange:d=>o(d.target.value)})]}),h.jsx(Le,{size:"small",onClick:c,variant:"outlined",sx:{mt:1},children:"Change"})]}),h.jsx(ce,{pb:2,pl:2,pr:2,children:h.jsxs(lt,{variant:"caption",children:["If you forgot your password,"," ",h.jsxs(Le,{onClick:u,sx:{textDecoration:"underline"},size:"small",children:[" ","click here"]})," ","to reset."]})})]})},lxe=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=y.useContext(be),[r,i]=y.useState(!1),s=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return h.jsx(Di,{open:t,onClose:()=>e(!1),children:h.jsxs(ce,{m:3,children:[h.jsx(lt,{variant:"h6",mb:2,children:"Your account password"}),h.jsxs(Lr,{gap:2,children:[h.jsx(lt,{children:r?s():"*************"}),h.jsx(Le,{onClick:()=>i(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},cxe=()=>{var V;const{userData:t,setHeaderTitle:e,setSnackbarOpen:n,setSnackbarMessage:r,setUserId:i,mode:s,setMode:o}=y.useContext(be),[a,l]=y.useState((t==null?void 0:t.name)||""),[c,u]=y.useState((t==null?void 0:t.gender)||""),[d,f]=y.useState(null),[p,m]=y.useState(!1),[g,E]=y.useState(!1),v=Tt(),[w,_]=y.useState(!0),x=y.useRef(null),I=Re(Pe,"users",gi.get("userId")),C=(t==null?void 0:t.nameChangeCount)||0,T=(V=t==null?void 0:t.lastNameChangeDate)==null?void 0:V.toDate(),b=new Date,k=b.getMonth()===(T==null?void 0:T.getMonth())&&b.getFullYear()===(T==null?void 0:T.getFullYear()),[S,R]=y.useState(!1),[N,M]=y.useState(!1),[D,j]=y.useState(null);y.useEffect(()=>{hY(Gr,H=>{H&&(j(H),_(!1))})},[Gr]);const P=zn(),A=H=>{n(!0),r(H)};My(x,m);const L=()=>(t==null?void 0:t.gender)!==c;y.useEffect(()=>{e("Settings")},[]),y.useEffect(()=>{(async()=>{!k&&(t!=null&&t.name)&&await Nr(I,{nameChangeCount:0,lastNameChangeDate:b})})()},[t]);const $=async(H,ie)=>{if(a.trim())try{await Nr(I,H),A(ie)}catch(K){A(K.message)}},F=()=>{const H=new Date;if(k)if(C<3){const ie={name:a.trim(),nameChangeCount:C+1,lastNameChangeDate:H};$(ie,"Updated name successfully!")}else A("You can only change your name 3 times per month!");else{const ie={name:a.trim(),nameChangeCount:1,lastNameChangeDate:H};$(ie,"Updated name successfully!")}};y.useEffect(()=>{l(t==null?void 0:t.name),u(t==null?void 0:t.gender)},[t]);const q=async()=>{const H=await $n(d,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),ie=za(ac,`profile/${t==null?void 0:t.uid}/${t==null?void 0:t.name}-${d.name}`);try{const K=Re(Pe,"users",t==null?void 0:t.uid);A("Uploading image...");const te=await q0(ie,H),se={image:await Y0(te.ref)};await Nr(K,se),f(null),A("Updated profile picture successfully!")}catch(K){A(K.message)}},W=async()=>{try{await Nr(I,{gender:c}),A("Updated gender successfully!")}catch(H){A("Error updating gender: "+H.message)}},B=()=>{d&&q(),(a==null?void 0:a.trim())!==(t==null?void 0:t.name)&&F(),L()&&W()},U=async()=>{try{await H8(Gr),gi.remove("userId"),i(null),P("/login")}catch(H){console.log(H.message)}};return h.jsxs(ce,{color:"text.primary",className:"Settings m-2",children:[S&&h.jsx(axe,{openChangePassword:S,setOpenChangePassword:R,openMessage:A}),N&&h.jsx(lxe,{openViewPassword:N,setOpenViewPassword:M}),h.jsx(sa,{data:{value:g,yesButton:U,noButton:()=>{E(!1)},text:"Are you sure to log out ?",setValue:E}}),h.jsx(ui,{}),h.jsxs(ce,{className:"",children:[h.jsx(lt,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),h.jsxs(ce,{bgcolor:"background.default",className:`border ${v.palette.mode==="light"?"border-slate-300":"border-slate-700"}  rounded-md shadow-lg`,children:[h.jsxs(ce,{className:"p-2 flex flex-col items-center",children:[h.jsx(vt,{placement:"left",title:"Change profile picture",arrow:!0,children:h.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[t?h.jsx(Li,{className:"hover:opacity-70 cursor-pointer",name:(t==null?void 0:t.name)||a||"User",image:d?URL.createObjectURL(d):t==null?void 0:t.image,size:"size-full",fontSize:"text-3xl"}):h.jsx(me,{variant:"circular",width:"100%",height:"100%"}),h.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:H=>f(H.target.files[0])})]})}),h.jsxs("div",{ref:x,className:"flex mt-2 gap-x-2 items-center",children:[p?h.jsx(Kn,{size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:a,onChange:H=>l(H.target.value),className:"pl-1 pr-1 w-auto font-bold",placeholder:"Enter your full name"}):h.jsx(h.Fragment,{children:t?h.jsx(lt,{className:"font-bold",children:a||(t==null?void 0:t.name)||"Username"}):h.jsx(me,{height:40,width:150})}),t?h.jsx(vt,{title:"Edit name",arrow:!0,children:h.jsx(Ke,{size:"small",onClick:()=>{m(!p)},className:" p-1  cursor-pointer",children:h.jsx(Ll,{sx:{width:20,height:20}})})}):h.jsx(me,{variant:"circular",height:20,width:20})]}),t?h.jsx(lt,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:(t==null?void 0:t.email)||"example@gmail.com"}):h.jsx(me,{height:30,width:120}),t?h.jsxs(lt,{sx:{fontSize:"0.8rem"},children:["User ID: ",(t==null?void 0:t.uid)||"user12345"," ",h.jsx(vt,{title:"Copy user ID",arrow:!0,children:h.jsx(Ke,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),A("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:h.jsx(Kye,{sx:{width:20,height:20}})})})]}):h.jsx(me,{height:30,width:180}),t?h.jsx(Le,{startIcon:h.jsx(pF,{}),onClick:()=>E(!0),sx:{mt:2},variant:"outlined",children:"Log Out"}):h.jsx(me,{width:90,height:55})]}),h.jsx(ce,{className:"p-2 flex justify-center border-t ",children:h.jsxs(Lr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(lt,{variant:"subtitle1",children:"Gender"}):h.jsx(me,{height:45,width:70}),t?h.jsx(YP,{label:"Gender",gender:c,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:u}):h.jsx(me,{height:45,width:70})]})}),D&&h.jsx(h.Fragment,{children:h.jsx(ce,{className:"p-2 flex justify-center border-t border-b ",children:h.jsxs(Lr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(lt,{variant:"subtitle1",children:"Password"}):h.jsx(me,{height:45,width:70}),t?h.jsx(Lr,{direction:"row",children:h.jsx(Le,{size:"small",sx:{textDecoration:"underline"},onClick:()=>R(!0),variant:"text",children:"Change"})}):h.jsx(me,{height:45,width:70})]})})}),h.jsx(ce,{className:"p-2 flex justify-center border-t ",children:h.jsxs(Lr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(lt,{variant:"subtitle1",children:"Theme"}):h.jsx(me,{height:45,width:70}),t?h.jsx(YP,{label:"Theme",gender:s,options:[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],setValue:o}):h.jsx(me,{height:45,width:70})]})}),h.jsx(ce,{className:"grid gap-y-2 p-2",children:h.jsx(ce,{children:(t==null?void 0:t.name)&&h.jsxs(lt,{variant:"caption",color:"error",mb:1,children:["You have changed your name ",`${C} of 3`," ",C>1?"times":"time"," this month!"]})})})]})]}),h.jsx(ce,{className:"flex gap-x-2 mt-2",children:L()||d||(a==null?void 0:a.trim())!==(t==null?void 0:t.name)?h.jsx(Le,{variant:"outlined",onClick:B,startIcon:h.jsx("img",{className:"size-7",src:Xn("save")}),children:"Update"}):""})]})},h6=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:i}=t;return h.jsxs("div",{className:"grid items-center gap-y-2",children:[h.jsx("div",{className:"font-medium",children:e}),h.jsx(Kn,{onChange:n,value:r,size:"small",placeholder:i})]})},uxe=({data:t})=>{const{close:e,testAdding:n}=t,{userId:r}=y.useContext(be),[i,s]=y.useState(""),[o,a]=y.useState(""),l=i.trim(),c=We(Pe,"tests"),u=async p=>{try{await vl(c,p)}catch(m){console.log(m.message)}},d=()=>{const p={uid:r,isUploaded:!1,name:i,description:o,quizzes:[],gradingRules:[],time:Dr()};u(p),e()},f=()=>{l&&d()};return h.jsx(Di,{fullWidth:!0,open:n,onClose:e,children:h.jsxs(ce,{bgcolor:"background.default",className:" p-2",children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(h6,{data:{text:"Name",onChangeFn:p=>s(p.target.value),value:i,placeholder:"Type test name here"}}),h.jsx(h6,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),h.jsxs("div",{className:"flex items-center gap-x-3 justify-center mt-2",children:[h.jsx(Le,{onClick:f,startIcon:h.jsx(vm,{}),children:"Save"}),h.jsx(Le,{onClick:e,startIcon:h.jsx(Xd,{}),children:"Cancel"})]})]})})},dxe=({data:t})=>{const{options:e,value:n,setValue:r}=t,[i,s]=y.useState(!1),o=y.useRef(null);My(o,s);const a=()=>{s(!i)},l=c=>{r(c)};return h.jsxs("div",{ref:o,className:"w-full relative font-padauk",children:[h.jsxs("button",{onClick:a,className:"border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2",children:[h.jsx("span",{children:n||"Select correct answer"}),h.jsx("img",{className:"h-6 w-6",src:Xn(i?"up":"down")})]}),i&&e.length!==0?h.jsx("div",{className:"absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40",children:e.map(c=>h.jsx("div",{onClick:()=>{a(),l(c)},className:"p-1 cursor-pointer  rounded-lg transition-all",children:c},`choice-${c}`))}):""]})},$a=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:i}=t;return h.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[h.jsx("div",{className:"font-medium ",children:e}),h.jsx(Kn,{size:"small",onChange:s=>n(e,s),value:r,className:" w-full border rounded-md h-10 pl-1 pr-1",placeholder:i})]})},hxe=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:i,clearEditData:s,isAdding:o}=t,[a,l]=y.useState(i?i.question:""),[c,u]=y.useState(i?i.choices[0]:""),[d,f]=y.useState(i?i.choices[1]:""),[p,m]=y.useState(i?i.choices[2]:""),[g,E]=y.useState(i?i.choices[3]:""),[v,w]=y.useState(i?i.answer:"");let _=[];const x=c.trim()&&d.trim()&&p.trim()&&g.trim(),I=a.trim()&&c.trim()&&d.trim()&&p.trim()&&g.trim()&&v.trim();x&&(_=[c,d,p,g]);const C=(N,M)=>{N.toLowerCase()==="question"?l(M.target.value):w(M.target.value)},T=()=>{let N,M;I&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:v},M=[...n,N],r(M),Zf(),e())},b=()=>{const N=i.id,M={id:N,question:a,choices:_,answer:v},D=n.map(j=>N===j.id?M:j);r(D),e(),s()},k=(N,M)=>{N.toLowerCase()==="choice 1"?u(M.target.value):N.toLowerCase()==="choice 2"?f(M.target.value):N.toLowerCase()==="choice 3"?m(M.target.value):E(M.target.value)},S=()=>{i?b():T()},R=()=>{e(),s()};return h.jsx(Di,{fullWidth:!0,open:o,onClose:R,children:h.jsxs(ce,{bgcolor:"background.default",className:` grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative 
          `,children:[h.jsx("div",{className:"top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center",children:i?i.number:n.length+1}),h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx($a,{data:{handleFn:C,value:a,choice:"Question",placeholder:"Enter question"}}),h.jsx($a,{data:{handleFn:k,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),h.jsx($a,{data:{handleFn:k,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),h.jsx($a,{data:{handleFn:k,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),h.jsx($a,{data:{handleFn:k,value:g,choice:"Choice 4",placeholder:"Enter choice 4"}}),h.jsxs("div",{className:"flex items-center gap-x-5",children:[h.jsx("div",{className:"font-medium",children:"Answer"}),h.jsx(dxe,{data:{options:_,value:v,setValue:w}})]})]}),h.jsxs("div",{className:"flex justify-end gap-x-2",children:[h.jsx(vt,{title:"Save",arrow:!0,children:h.jsx(Ke,{onClick:S,children:h.jsx(vm,{})})}),h.jsx(vt,{title:"Cancel",children:h.jsx(Ke,{onClick:R,children:h.jsx(MT,{})})})]})]})})},fxe=({data:t})=>{const{testName:e,numbers:n,changePage:r}=t;return h.jsx("div",{className:"text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center",children:h.jsxs("div",{className:"flex items-center gap-x-2",children:[h.jsx(vt,{title:"Navigate up",arrow:!0,children:h.jsx(Ke,{onClick:()=>r("test"),children:h.jsx(lu,{})})}),h.jsxs("div",{children:[e,h.jsxs("span",{className:"text-sm",children:[" • "," ",n," ",n>1?"questions":"question"]})]})]})})},pxe=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:i}=t;return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx("div",{className:"pl-1 font-medium ",children:"Questions"}),e.map((s,o)=>h.jsxs("div",{className:"border font-padauk p-2 relative",children:[h.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[h.jsx(vt,{title:"Edit",arrow:!0,children:h.jsx(Ke,{onClick:()=>n(s,o),children:h.jsx(Ll,{})})}),h.jsx(vt,{title:"Delete",children:h.jsx(Ke,{onClick:()=>r(s.id),children:h.jsx(cu,{})})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[h.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:s.question}),h.jsx(lt,{variant:"caption",className:"top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ",children:o+1})]}),h.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:s.choices.map((a,l)=>h.jsxs("div",{className:"flex gap-x-2",children:[h.jsx("div",{className:"w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ",children:l+1}),h.jsx("div",{className:"flex-1",children:a})]},`choice-${o}-${l}`))})]},`question-${o}`)),h.jsx("div",{className:"flex justify-center sticky bottom-5",children:h.jsx(vt,{title:"Add a question",arrow:!0,children:h.jsx(Ke,{onClick:i,children:h.jsx(D_,{})})})})]})},mxe=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:i}=t,{gradingRules:s}=e,[o,a]=y.useState(null),l=p=>{const m=s.filter(E=>E.id!==p),g={...e,gradingRules:m};n(g)},c=p=>{a(p)},u=p=>{i(p),r(!0)},d=()=>{l(o),a(null)},f=()=>{a(null)};return h.jsxs("div",{className:"grid gap-y-3",children:[h.jsx("div",{className:"pl-1 font-medium",children:"Grading Rules"}),h.jsx(sa,{data:{value:o,setValue:a,yesButton:d,noButton:f,text:"Are you sure to delete?"}}),s.map((p,m)=>h.jsxs("div",{className:"flex font-padauk items-center justify-between border  p-2 ",children:[h.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[h.jsx(yx,{data:{text:"From",value:p.from}}),h.jsx(yx,{data:{text:"To",value:p.to}}),h.jsx(yx,{data:{text:"Level",value:p.level}})]}),h.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[h.jsx(vt,{title:"Edit",arrow:!0,children:h.jsx(Ke,{onClick:()=>u(p),children:h.jsx(Ll,{})})}),h.jsx(vt,{title:"Delete",arrow:!0,children:h.jsx(Ke,{onClick:()=>c(p.id),children:h.jsx(cu,{})})})]})]},`rule-${m}-${p.from}-${p.to}-${p.level}`)),h.jsx("div",{className:"flex justify-center sticky bottom-5",children:h.jsx(vt,{title:"Add a rule",arrow:!0,children:h.jsx(Ke,{onClick:()=>r(!0),children:h.jsx(D_,{})})})})]})},yx=({data:t})=>{const{text:e,value:n}=t;return h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"font-medium",children:e}),h.jsx("div",{className:"font-medium max-h-10",children:typeof n=="string"?Ml(n,15):n})]})},gxe=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:i,isRulesAdding:s,setIsRulesAdding:o}=t,{gradingRules:a}=e,[l,c]=y.useState(r?r.from:null),[u,d]=y.useState(r?r.to:null),[f,p]=y.useState(r?r.level:""),m=l&&u&&f.trim(),g=()=>{const x={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:f},I={...e,gradingRules:[...a,x]};n(I)},E=()=>{const x=r.id,I={id:x,from:Number(l),to:Number(u),level:f},C=a.map(b=>x===b.id?I:b),T={...e,gradingRules:C};n(T)},v=()=>{o(!1),i(null)},w=()=>{m&&(r?E():g(),v())},_=(x,I)=>{const C=I.target.value;x.toLowerCase()==="from"?c(C):x.toLowerCase()==="to"?d(C):p(C)};return h.jsx(Di,{fullWidth:!0,open:s,onClose:()=>o(!1),children:h.jsx(ce,{bgcolor:"background.default",children:h.jsxs("div",{className:"grid gap-y-2 p-3  rounded-lg relative",children:[h.jsx($a,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),h.jsx($a,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),h.jsx($a,{data:{handleFn:_,value:f,choice:"Level",placeholder:"Enter level"}}),h.jsxs("div",{className:"flex justify-end gap-x-2",children:[h.jsx(vt,{title:"Save",arrow:!0,children:h.jsx(Ke,{onClick:w,children:h.jsx(vm,{})})}),h.jsx(vt,{title:"Cancel",arrow:!0,children:h.jsx(Ke,{onClick:v,children:h.jsx(MT,{})})})]})]})})})},f6=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{description:i,name:s}=e,[o,a]=y.useState(r==="Description"?i:s),[l,c]=y.useState(!1),u=m=>{a(m.target.value)},d=()=>{if(r==="Description"){const m={...e,description:o};n(m)}else{const m={...e,name:o};n(m)}},f=()=>{d(),c(!1)},p=()=>{c(!1),a(r==="Description"?i:s)};return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx("div",{className:"font-medium ",children:r}),l?h.jsx(Kn,{multiline:!0,autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:u,className:"p-1 border border-gray-200 outline-none",value:o}):h.jsx("div",{className:"text-gray-500 p-1 ",children:o||"No description"}),l?h.jsxs("div",{className:"flex gap-x-2",children:[h.jsx(vt,{title:"Save",arrow:!0,children:h.jsx(Ke,{onClick:f,children:h.jsx(vm,{})})}),h.jsx(vt,{title:"Cancel",children:h.jsx(Ke,{onClick:p,children:h.jsx(MT,{})})})]}):h.jsx(ce,{children:h.jsx(vt,{title:"Edit",children:h.jsx(Ke,{onClick:()=>c(!0),children:h.jsx(Ll,{})})})})]})},vxe=({data:t})=>{y.useContext(be);const{setPage:e,currentTest:n,setCurrentTest:r}=t,[i,s]=y.useState(!1),[o,a]=y.useState(!1),[l,c]=y.useState(n.quizzes),[u,d]=y.useState(null),[f,p]=y.useState(null),m=async(R,N)=>{try{const M=Re(Pe,"tests",R);await Nr(M,N)}catch(M){console.log(M.message)}};y.useEffect(()=>{g()},[n,l]);const g=()=>{m(n.id,{...n,quizzes:l})},E=()=>{s(!0)},v=()=>{s(!1),p(null)},w=R=>{p(R)},_=()=>{C(f),p(null)},x=()=>{p(null)},I=R=>{e(R)},C=R=>{const N=l.filter(M=>M.id!==R);c(N)},T=(R,N)=>{const M={...R,number:N+1};d(M),E()},b=()=>{d(null)},k={testName:n.name,numbers:l.length,changePage:I},S={quizzes:l,editQuestion:T,askToDelete:w,add:E};return h.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[h.jsx(fxe,{data:k}),h.jsx(Ku,{}),h.jsx(f6,{data:{title:"Test Name",currentTest:n,setCurrentTest:r}}),h.jsx(f6,{data:{title:"Description",currentTest:n,setCurrentTest:r}}),h.jsx(Ku,{}),h.jsx(mxe,{data:{currentTest:n,setEditData:d,setCurrentTest:r,setIsRulesAdding:a}}),h.jsx(Ku,{}),h.jsx(pxe,{data:S}),i&&h.jsx(hxe,{data:{cancel:v,setQuizzes:c,quizzes:l,editData:u,clearEditData:b,isAdding:i}}),o&&h.jsx(gxe,{data:{currentTest:n,setCurrentTest:r,editData:u,setEditData:d,isRulesAdding:o,setIsRulesAdding:a}}),h.jsx(sa,{data:{value:f,setValue:p,yesButton:_,noButton:x,text:"Are you sure to delete ?"}}),h.jsx(Ku,{})]})},qT=({text:t,length:e})=>{const n=zn();return h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx(vt,{title:"Navigate up",arrow:!0,children:h.jsx(Ke,{onClick:()=>n("/app/admin"),children:h.jsx(lu,{})})}),h.jsxs("p",{children:[t," (",e,")"]})]})},KF=({options:t,handleClick:e,message:n,chatId:r,isComment:i,messageOption:s,setMessageOption:o,isOpened:a})=>{const{userId:l}=y.useContext(be),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async f=>{const p=Re(We(Re(We(Re(Pe,"chats",r),"messages"),n.id),"reactedBy"),l);await Fd(p,{uid:l,reactionType:f})},d=()=>i?a:!!s;return h.jsx(Di,{fullWidth:!0,open:d,onClose:e,children:h.jsxs("div",{className:"m-2 ",children:[i?h.jsx("div",{className:"rounded-md pl-4 text-lg font-bold",children:"More options"}):h.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(f=>h.jsx(vt,{placement:"top",arrow:!0,title:f.name.toUpperCase(),children:h.jsx(Ke,{onClick:()=>{e(),u(f.name)},children:h.jsx("img",{className:"w-6",src:Xn(f.image)})},f.name)}))}),h.jsx("div",{className:"grid gap-y-1",children:t.map(f=>{if(f)return h.jsx(Le,{sx:{justifyContent:"start"},startIcon:f.icon,className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{f.onClick(),e()},children:h.jsx("p",{children:f.text})},f.text)})})]})})},YT=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:i})=>{const[s,o]=y.useState(!1),a=y.useRef(null);return My(a,o),h.jsxs(h.Fragment,{children:[h.jsx(vt,{title:"More options",arrow:!0,children:h.jsx(Ke,{onClick:()=>o(!0),children:h.jsx(mF,{})})}),s&&h.jsx(KF,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:i,isOpened:s})]})},yxe=()=>{const[t,e]=y.useState("test"),{tests:n,setTests:r,setHeaderTitle:i}=y.useContext(be),[s,o]=y.useState({}),[a,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(null),p=We(Pe,"tests"),[m,g]=y.useState(!0),[E,v]=y.useState(!1),[w,_]=y.useState(null),x=Tt(),{mode:I}=x.palette;au(p,[],r,g,v,!1,_),y.useEffect(()=>{i("Admin - Tests")},[t]),y.useEffect(()=>(Yi(),Yi()),[]);const C=j=>{o(j),e("editTest")},T=j=>{f(j),u(!0)},b=async j=>{const P=Re(Pe,"tests",j.id);await Nr(P,{isUploaded:!j.isUploaded})},k=()=>{M(d),f(null),u(!1)},S=()=>{u(!1)},R=()=>{l(!0)},N=()=>{l(!1)},M=async j=>{try{const P=Re(Pe,"tests",j);await gl(P)}catch(P){console.log(P.message)}},D=()=>{switch(t){case"test":return h.jsxs("div",{className:"p-5 grid gap-y-2",children:[h.jsx("div",{className:"flex justify-between",children:h.jsx(qT,{text:"Tests",length:n.length})}),a&&h.jsx(uxe,{data:{close:N,testAdding:a}}),h.jsx(sa,{data:{value:c,setValue:u,yesButton:k,noButton:S,text:"Are you sure to delete ?"}}),h.jsx("div",{className:"grid border overflow-hidden border-slate-200 shadow-md rounded-md overflow-hidden",children:n.map((j,P)=>h.jsxs("div",{className:` ${I==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} cursor-pointer h ${P===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px]`,children:[h.jsxs("div",{onClick:()=>{C(j)},className:"flex flex-1 gap-x-2 items-center",children:[h.jsx("input",{checked:j.isUploaded,onChange:()=>b(j),className:"size-6",type:"checkbox"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:j.name}),h.jsxs("div",{className:"text-sm",children:[j.quizzes.length,j.quizzes.length>1?" questions":" question",j.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),h.jsx("div",{className:"flex gap-x-2",children:h.jsx(YT,{isComment:!0,options:[{text:"Delete",icon:h.jsx(cu,{}),onClick:()=>T(j.id)}]})})]},` tests-${j.id}`))}),h.jsx("div",{children:h.jsx(Le,{variant:"outlined",startIcon:h.jsx($T,{}),onClick:R,children:"New test"})})]});case"editTest":return h.jsx(vxe,{data:{setPage:e,currentTest:s,setCurrentTest:o}})}};return m?h.jsx(ui,{text:"Loading tests..."}):E?h.jsx(Gt,{text:"No test available"}):w?h.jsx(Gt,{text:w}):D()};function cs(t,e,n="timestamp",r="older"){var o,a;const i=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),s=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?i-s:s-i}const _xe=["January","February","March","April","May","June","July","August","September","October","November","December"],wxe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function H1(t){const e=new Date().getTime(),n=new Date,r=e-t,i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),f=d.getFullYear(),p=d.getMonth(),m=d.getDate(),g=wxe[d.getDay()],v=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,w=_xe[p],_=`${w} ${m}, ${f}`,x=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${x} • ${_}`;if(c>0)return`${x} • ${w} ${m}`;if(l>0)return`${g}, ${x} • ${w} ${m}`;if(a>0)return`${v?"Yesterday":g}, ${x}`;if(o>0)return`${v?"Yesterday, ":""}${x}`;if(s>0)return x;if(i>0)return x}function ns(t){return t!=null&&t.seconds?t.seconds*1e3:t}const xxe=({password:t})=>{const[e,n]=y.useState(!1);return h.jsxs("div",{children:["Password: ",e?t:"*********"," ",h.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},Exe=()=>{const{users:t,setHeaderTitle:e,userId:n,setUsers:r,setUserId:i}=y.useContext(be),s=We(Pe,"users"),[o,a]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>(Yi(),Yi()),[]),y.useEffect(()=>{e("Admin - Users")},[]);const f=zn(),p=g=>{i(g.uid),f("/app")},m=async g=>{const E=Re(Pe,"users",g.uid);await Nr(E,{isAdmin:!g.isAdmin})};return au(s,[],r,a,c,!0,d),o?h.jsx(ui,{isLoading:o,text:"Loading users..."}):l?h.jsx(Gt,{text:"No users available"}):u?h.jsx(Gt,{text:u}):h.jsxs("div",{className:"mt-2 p-5",children:[h.jsx(qT,{text:"Users",length:t==null?void 0:t.length}),h.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:t.sort((g,E)=>cs(g,E,"createdAt","older")).map((g,E)=>h.jsxs("div",{className:`  ${E===0&&"border-t-0"} border-t p-2  }`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[h.jsx(Li,{image:g.image,name:g.name}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"font-medium",children:[g.name," ",h.jsxs("span",{className:`${g!=null&&g.isAdmin?"text-blue-500":"text-white"}`,children:["(",g!=null&&g.isAdmin?"admin":"user",")"," ",n===g.uid?"(You)":""]})]}),h.jsx("div",{className:"text-md ",children:g.email}),h.jsxs("div",{className:"text-md",children:["Created: ",H1(ns(g.createdAt))]}),h.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",g.uid]}),h.jsx(xxe,{password:g.password})]})]}),n!==g.uid&&h.jsx(Ke,{onClick:()=>p(g),children:h.jsx(jT,{})})]}),n!==g.uid&&h.jsx(Le,{onClick:()=>m(g),size:"small",startIcon:h.jsx(Uye,{}),children:g.isAdmin?"Remove from admin":"Set as admin"})]},g.uid))})]})},Cxe=["January","February","March","April","May","June","July","August","September","October","November","December"];function wm(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),f=u.getMonth(),p=u.getDate(),m=`${Cxe[f]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(s>0)return`${s} ${s===1?"hour":"hours"} ago`;if(i>0)return`${i} ${i===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const bxe=({message:t,bgColor:e="bg-slate-200"})=>h.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:h.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),Ixe=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:i}=t,[s,o]=y.useState(""),[a,l]=y.useState(""),c=s.trim()&&a.trim(),u=()=>{if(c){const d={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:a.trim()},f=[...e,d];n(f),r(!1)}};return h.jsx(Di,{open:i,onClose:()=>r(!1),children:h.jsxs(ce,{m:4,children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(Kn,{size:"small",value:s,onChange:d=>o(d.target.value),placeholder:"Enter title..."}),h.jsx(Kn,{size:"small",value:a,onChange:d=>l(d.target.value),placeholder:"Enter link..."})]}),h.jsx("div",{className:"mt-2",children:h.jsx(Le,{variant:"outlined",startIcon:h.jsx(s_e,{}),onClick:u,children:"Add Link"})})]})})},Txe=()=>{const{users:t,posts:e,setPosts:n,setHeaderTitle:r,userId:i}=y.useContext(be),s=Tt(),{mode:o}=s.palette,a=We(Pe,"posts"),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,p]=y.useState(null),[m,g]=y.useState("posts"),[E,v]=y.useState(null),[w,_]=y.useState(!1);y.useEffect(()=>{r("Admin - Posts")},[]),au(a,[],n,c,d,!1,p);const x=async()=>{const C=Re(Pe,"posts",w);await gl(C)};if(l)return h.jsx(ui,{text:"Loading posts..."});if(u)return h.jsx(Gt,{text:"No posts available"});if(f)return h.jsx(Gt,{text:f});const I=()=>{switch(m){case"posts":return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(sa,{data:{yesButton:x,noButton:()=>_(!1),text:"Are you sure to delete this post?",setValue:_,value:w}}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx(qT,{text:"Posts",length:e.length}),h.jsx(Le,{size:"small",sx:{textDecoration:"underline"},onClick:()=>g("createPost"),children:"Create a post"})]}),h.jsx("div",{className:"grid border overflow-hidden shadow-md rounded-md border-slate-200 mb-2",children:e.sort((C,T)=>cs(C,T,"time","newer")).map((C,T)=>{var b,k,S;return t.forEach(R=>{R.uid,C.uid}),h.jsxs(ce,{className:`${T===0&&"border-t-0"} overflow-hidden ${o==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} cursor-pointer p-2 border-t   min-h-20 flex items-center`,children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(Sxe,{post:C}),h.jsx("p",{className:"mb-2 break-words whitespace-normal",children:Ml(C.description,25)}),h.jsxs("div",{className:"flex items-center gap-x-1",children:[C.images.length!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(fx,{name:"image"}),h.jsxs("span",{children:[C.images.length," ",C.images.length<=1?"image":"images"]})]}),C.files.length!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(fx,{name:"file"}),h.jsxs("span",{children:[C.files.length," ",C.files.length<=1?"file":"files"]})]}),C.links&&((b=C==null?void 0:C.links)==null?void 0:b.length)!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(fx,{name:"link"}),h.jsxs("span",{children:[(k=C==null?void 0:C.links)==null?void 0:k.length," ",((S=C==null?void 0:C.links)==null?void 0:S.length)<=1?"link":"links"]})]}),C.draft&&h.jsx("div",{className:"p-1 min-h-9 flex items-center gap-x-1 rounded-md",children:h.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),h.jsx("div",{className:"flex items-center gap-x-1",children:h.jsx(YT,{isComment:!0,options:[{text:"Edit",icon:h.jsx(Ll,{}),onClick:()=>{v(C),g("createPost")}},{text:"Delete",icon:h.jsx(cu,{}),onClick:()=>_(C.id)}]})})]},`post-${C.id}`)})})]});case"createPost":return h.jsx(kxe,{setPage:g,postData:E,setPostData:v})}};return h.jsx("div",{className:"m-5",children:I()})},Sxe=({post:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState(!0);return dr(t.uid,e,r,s,[],1200),h.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[i?h.jsx(me,{variant:"circular",width:40,height:40}):h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:n==null?void 0:n.image}),h.jsxs("div",{children:[i?h.jsx(me,{height:40,width:120}):h.jsx("div",{className:"font-medium",children:n==null?void 0:n.name}),h.jsx("div",{className:" text-sm",children:wm(ns(t.time))})]})]})},kxe=({setPage:t,postData:e,setPostData:n})=>{const{openSnackbar:r}=y.useContext(be),[i,s]=y.useState(e?e.images:[]),[o,a]=y.useState(null),[l,c]=y.useState(e?e.description:""),[u,d]=y.useState(e?e==null?void 0:e.files:[]),[f,p]=y.useState(e?(e==null?void 0:e.links)||[]:[]),[m,g]=y.useState(!1),E=l.trim()||i.length!==0||u.length!==0||f.length!==0,v=async(S=!1)=>{try{const R=We(Pe,"posts");await vl(R,{uid:userId,time:Dr(),editedTime:Dr(),description:l,images:i,files:u,links:f,draft:S}),t("posts")}catch(R){console.log(R.message)}},w=async()=>{try{const S=Re(Pe,"posts",e.id);await Nr(S,{editedTime:Dr(),description:l,images:i,files:u,links:f,draft:!1}),t("posts")}catch(S){console.log(S.message)}},_=async()=>{try{if(e){const S=Re(Pe,"posts",e.id);await Nr(S,{editedTime:Dr(),description:l,images:i,files:u,links:f,draft:!0})}else v(!0);t("posts")}catch(S){console.log(S.message)}},x=async S=>{try{const R=await $n(S,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${userId}/${S.name}`,M=za(ac,N);a("Uploading image...");const D=await q0(M,R),j=await Y0(D.ref),P=[...i,{name:S.name,path:N,imageURL:j}];s(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(R){a(R.message),setTimeout(()=>{a(null)},3e3)}},I=async S=>{try{const R=`posts/${userId}/${S.name}`,N=za(ac,R);a("Uploading file...");const M=await q0(N,S),D=await Y0(M.ref),j=[...u,{name:S.name,path:R,fileURL:D,size:S.size}];d(j),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(R){a(R.message),setTimeout(()=>{a(null)},3e3)}},C=async(S,R)=>{const N=i.filter(D=>R!==D.imageURL);s(N);const M=za(ac,S);await gE(M)},T=async(S,R)=>{const N=u.filter(D=>R!==D.fileURL);d(N);const M=za(ac,S);await gE(M)},b=S=>{const R=f.filter(N=>S!==N.id);p(R)},k=S=>{document.getElementById(S).click()};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&h.jsx(bxe,{message:o}),h.jsxs("div",{className:"flex gap-x-1 items-center",children:[h.jsx(Ke,{onClick:()=>{t("posts"),n(null)},children:h.jsx(lu,{})}),h.jsx("div",{children:e?"Edit post":"Create a post"})]}),h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(Le,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{E&&_()},startIcon:h.jsx(Jye,{}),children:"Draft"}),h.jsx(Le,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{E?(e?w():v(),n(null)):r("Create a post first")},startIcon:h.jsx(p_e,{}),children:e?"Save":"Publish"})]})]}),h.jsxs("div",{className:"mb-2",children:[h.jsx(Kn,{multiline:!0,fullWidth:!0,maxRows:20,value:l,onChange:S=>c(S.target.value),className:"p-2 resize-none border",placeholder:"Write description here"}),h.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:S=>x(S.target.files[0])}),h.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:S=>I(S.target.files[0])}),h.jsxs("div",{className:"flex justify-start gap-x-2 mt-2",children:[h.jsx(Le,{size:"small",onClick:()=>k("imagesInput"),variant:"outlined",startIcon:h.jsx(hF,{}),children:"Image"}),h.jsx(Le,{size:"small",onClick:()=>k("filesInput"),variant:"outlined",startIcon:h.jsx(n_e,{}),children:"File"}),h.jsx(Le,{onClick:()=>{g(!0)},variant:"outlined",startIcon:h.jsx(fF,{}),children:"Link"}),h.jsx(Ixe,{data:{links:f,setLinks:p,setIsLinkAdding:g,isLinkAdding:m}})]})]}),i.length!==0&&h.jsx("div",{className:"grid gap-y-2",children:i.map(S=>h.jsxs("div",{className:"relative min-h-20",children:[h.jsx("img",{alt:S.name,className:"size-full",src:S.imageURL}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(yw,{data:{clickFn:()=>C(S.path,S.imageURL),image:"falseIcon"}})})]},S.imageURL))}),u.length!==0&&h.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(S=>h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500",children:[h.jsx("img",{className:"w-7 ",src:Xn("download")}),h.jsxs("div",{children:[h.jsx("p",{className:"underline text-blue-600",children:S.name}),(S==null?void 0:S.size)&&h.jsxs("p",{children:[(S.size/(1024*1024)).toFixed(2)," MB"]})]})]}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(yw,{data:{clickFn:()=>T(S.path,S.fileURL),image:"falseIcon"}})})]},S.fileURL))}),f.length!==0&&h.jsx("div",{className:"grid gap-y-1 mt-2",children:f.map(S=>h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ",children:[h.jsx("img",{className:"w-7 ",src:Xn("link")}),h.jsx("div",{children:h.jsx("p",{className:"underline text-blue-600",children:S.title})})]}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(yw,{data:{image:"falseIcon",clickFn:()=>b(S.id)}})})]},S.link))})]})},Rxe=()=>h.jsxs("div",{className:"flex gap-x-2 rounded-md p-2 items-center",children:[h.jsx("div",{children:h.jsx(me,{variant:"circular",width:40,height:40})}),h.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[h.jsx(me,{variant:"text",width:200}),h.jsx(me,{variant:"rectangular",height:55,width:"90%"})]})]}),Axe=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=y.useContext(be),r=5,[i,s]=y.useState([]),[o,a]=y.useState(null),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,p]=y.useState(null),m=Tt(),{mode:g}=m.palette,E=async()=>{c(!0);const v=We(Pe,"notifications");let w=Vr(v,jd("timestamp","desc"),Jo(r));o&&(w=Vr(w,oy(o)));try{const _=await Nl(w);if(Wo(v,n),_.empty)d(!0);else{const x=_.docs.map(I=>({id:I.id,...I.data()}));s([...i,...x]),a(_.docs[_.docs.length-1]),Un(c)}}catch(_){const x="Error fetching notifications: "+_.message;console.log(x),c(!1),p(x)}};return y.useEffect(()=>{E()},[]),y.useEffect(()=>{t("Notifications")},[]),l?h.jsx(ui,{isLoading:l,text:"Loading notifications..."}):u?h.jsx(Gt,{text:"No notifications available"}):f?h.jsx(Gt,{text:f}):h.jsxs(ce,{className:"m-2",children:[h.jsxs(ce,{className:`border overflow-hidden shadow-md rounded-md ${g==="dark"?"border-slate-700":"border-slate-200"}`,children:[i.map((v,w)=>h.jsx(Pxe,{mode:g,length:i.length,notification:v,index:w},v.id)),l&&h.jsx(ce,{className:"flex justify-center",children:h.jsxs(ce,{children:[h.jsx("div",{className:"mb-2",children:"Loading..."}),h.jsx(c2e,{})]})})]}),e>r&&e>i.length?h.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:h.jsx(Le,{size:"small",onClick:E,children:"load more"})}):""]})},Pxe=({notification:t,index:e,length:n,mode:r})=>{let i;const{type:s,description:o,timestamp:a,testName:l,comment:c}=t,u=`${s[0]} ${s[1]}`,{users:d}=y.useContext(be),[f,p]=y.useState(null),[m,g]=y.useState(!0);switch(dr(t.uid,d,p,g),u){case"like post":i="liked a post";break;case"like test":i="liked a test";break;case"comment post":i="commented on a post";break;case"comment test":i="commented on a test";break;case"added post":i="added a post";break;case"added test":i="added a test";break;case"took test":i="took a test";break}return m?h.jsx(Rxe,{}):h.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"} ${r==="dark"?"border-slate-700":"border-slate-200"}`,children:[h.jsx("div",{children:h.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:f==null?void 0:f.image})}),h.jsxs("div",{children:[h.jsxs("p",{children:[h.jsx("b",{children:f?f==null?void 0:f.name:"Unknown User"})," ",i]}),o&&h.jsx("p",{children:Ml(o,30)}),l&&h.jsx("p",{children:l}),c&&h.jsx("p",{children:c}),h.jsx("p",{children:wm(ns(a))})]})]})},Nxe=({isCreating:t,setIsCreating:e})=>{const[n,r]=y.useState(""),{userId:i}=y.useContext(be),s=async()=>{if(!n.trim())return;const o=We(Pe,"chats"),a=await vl(o,{name:n,image:null,lastMessage:{}}),l=We(Re(o,a.id),"members");await vl(l,{uid:i,joinedAt:Dr()})};return h.jsx(Di,{open:t,onClose:()=>e(!1),children:h.jsxs(ce,{className:"m-5 ",children:[h.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),h.jsxs(Lr,{direction:"row",gap:1,children:[h.jsx(Kn,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),h.jsx(Le,{onClick:()=>{n.trim()&&(s(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var Kt="-ms-",a0="-moz-",Nt="-webkit-",QF="comm",M_="rule",KT="decl",Dxe="@import",XF="@keyframes",Lxe="@layer",JF=Math.abs,QT=String.fromCharCode,iC=Object.assign;function Mxe(t,e){return qn(t,0)^45?(((e<<2^qn(t,0))<<2^qn(t,1))<<2^qn(t,2))<<2^qn(t,3):0}function ZF(t){return t.trim()}function Io(t,e){return(t=e.exec(t))?t[0]:t}function Xe(t,e,n){return t.replace(e,n)}function sg(t,e,n){return t.indexOf(e,n)}function qn(t,e){return t.charCodeAt(e)|0}function eh(t,e,n){return t.slice(e,n)}function Us(t){return t.length}function eV(t){return t.length}function Pf(t,e){return e.push(t),t}function Oxe(t,e){return t.map(e).join("")}function p6(t,e){return t.filter(function(n){return!Io(n,e)})}var O_=1,th=1,tV=0,rs=0,Ln=0,Nh="";function $_(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:O_,column:th,length:o,return:"",siblings:a}}function Ta(t,e){return iC($_("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Su(t){for(;t.root;)t=Ta(t.root,{children:[t]});Pf(t,t.siblings)}function $xe(){return Ln}function jxe(){return Ln=rs>0?qn(Nh,--rs):0,th--,Ln===10&&(th=1,O_--),Ln}function Ts(){return Ln=rs<tV?qn(Nh,rs++):0,th++,Ln===10&&(th=1,O_++),Ln}function Ec(){return qn(Nh,rs)}function og(){return rs}function j_(t,e){return eh(Nh,t,e)}function sC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fxe(t){return O_=th=1,tV=Us(Nh=t),rs=0,[]}function Vxe(t){return Nh="",t}function _x(t){return ZF(j_(rs-1,oC(t===91?t+2:t===40?t+1:t)))}function Uxe(t){for(;(Ln=Ec())&&Ln<33;)Ts();return sC(t)>2||sC(Ln)>3?"":" "}function zxe(t,e){for(;--e&&Ts()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return j_(t,og()+(e<6&&Ec()==32&&Ts()==32))}function oC(t){for(;Ts();)switch(Ln){case t:return rs;case 34:case 39:t!==34&&t!==39&&oC(Ln);break;case 40:t===41&&oC(t);break;case 92:Ts();break}return rs}function Bxe(t,e){for(;Ts()&&t+Ln!==57;)if(t+Ln===84&&Ec()===47)break;return"/*"+j_(e,rs-1)+"*"+QT(t===47?t:Ts())}function Wxe(t){for(;!sC(Ec());)Ts();return j_(t,rs)}function Hxe(t){return Vxe(ag("",null,null,null,[""],t=Fxe(t),0,[0],t))}function ag(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,g=1,E=1,v=1,w=0,_="",x=i,I=s,C=r,T=_;E;)switch(m=w,w=Ts()){case 40:if(m!=108&&qn(T,d-1)==58){sg(T+=Xe(_x(w),"&","&\f"),"&\f",JF(c?a[c-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:T+=_x(w);break;case 9:case 10:case 13:case 32:T+=Uxe(m);break;case 92:T+=zxe(og()-1,7);continue;case 47:switch(Ec()){case 42:case 47:Pf(Gxe(Bxe(Ts(),og()),e,n,l),l);break;default:T+="/"}break;case 123*g:a[c++]=Us(T)*v;case 125*g:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:v==-1&&(T=Xe(T,/\f/g,"")),p>0&&Us(T)-d&&Pf(p>32?g6(T+";",r,n,d-1,l):g6(Xe(T," ","")+";",r,n,d-2,l),l);break;case 59:T+=";";default:if(Pf(C=m6(T,e,n,c,u,i,a,_,x=[],I=[],d,s),s),w===123)if(u===0)ag(T,e,C,C,x,s,d,a,I);else switch(f===99&&qn(T,3)===110?100:f){case 100:case 108:case 109:case 115:ag(t,C,C,r&&Pf(m6(t,C,C,0,0,i,a,_,i,x=[],d,I),I),i,I,d,a,r?x:I);break;default:ag(T,C,C,C,[""],I,0,a,I)}}c=u=p=0,g=v=1,_=T="",d=o;break;case 58:d=1+Us(T),p=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&jxe()==125)continue}switch(T+=QT(w),w*g){case 38:v=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Us(T)-1)*v,v=1;break;case 64:Ec()===45&&(T+=_x(Ts())),f=Ec(),u=d=Us(_=T+=Wxe(og())),w++;break;case 45:m===45&&Us(T)==2&&(g=0)}}return s}function m6(t,e,n,r,i,s,o,a,l,c,u,d){for(var f=i-1,p=i===0?s:[""],m=eV(p),g=0,E=0,v=0;g<r;++g)for(var w=0,_=eh(t,f+1,f=JF(E=o[g])),x=t;w<m;++w)(x=ZF(E>0?p[w]+" "+_:Xe(_,/&\f/g,p[w])))&&(l[v++]=x);return $_(t,e,n,i===0?M_:a,l,c,u,d)}function Gxe(t,e,n,r){return $_(t,e,n,QF,QT($xe()),eh(t,2,-2),0,r)}function g6(t,e,n,r,i){return $_(t,e,n,KT,eh(t,0,r),eh(t,r+1,-1),r,i)}function nV(t,e,n){switch(Mxe(t,e)){case 5103:return Nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+t+t;case 4789:return a0+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+t+a0+t+Kt+t+t;case 5936:switch(qn(t,e+11)){case 114:return Nt+t+Kt+Xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Nt+t+Kt+Xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Nt+t+Kt+Xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Nt+t+Kt+t+t;case 6165:return Nt+t+Kt+"flex-"+t+t;case 5187:return Nt+t+Xe(t,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+Kt+"flex-$1$2")+t;case 5443:return Nt+t+Kt+"flex-item-"+Xe(t,/flex-|-self/g,"")+(Io(t,/flex-|baseline/)?"":Kt+"grid-row-"+Xe(t,/flex-|-self/g,""))+t;case 4675:return Nt+t+Kt+"flex-line-pack"+Xe(t,/align-content|flex-|-self/g,"")+t;case 5548:return Nt+t+Kt+Xe(t,"shrink","negative")+t;case 5292:return Nt+t+Kt+Xe(t,"basis","preferred-size")+t;case 6060:return Nt+"box-"+Xe(t,"-grow","")+Nt+t+Kt+Xe(t,"grow","positive")+t;case 4554:return Nt+Xe(t,/([^-])(transform)/g,"$1"+Nt+"$2")+t;case 6187:return Xe(Xe(Xe(t,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),t,"")+t;case 5495:case 3959:return Xe(t,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Xe(Xe(t,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+Kt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+t+t;case 4200:if(!Io(t,/flex-|baseline/))return Kt+"grid-column-align"+eh(t,e)+t;break;case 2592:case 3360:return Kt+Xe(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Io(r.props,/grid-\w+-end/)})?~sg(t+(n=n[e].value),"span",0)?t:Kt+Xe(t,"-start","")+t+Kt+"grid-row-span:"+(~sg(n,"span",0)?Io(n,/\d+/):+Io(n,/\d+/)-+Io(t,/\d+/))+";":Kt+Xe(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Io(r.props,/grid-\w+-start/)})?t:Kt+Xe(Xe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Xe(t,/(.+)-inline(.+)/,Nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Us(t)-1-e>6)switch(qn(t,e+1)){case 109:if(qn(t,e+4)!==45)break;case 102:return Xe(t,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+a0+(qn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sg(t,"stretch",0)?nV(Xe(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Xe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return Kt+i+":"+s+c+(o?Kt+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(qn(t,e+6)===121)return Xe(t,":",":"+Nt)+t;break;case 6444:switch(qn(t,qn(t,14)===45?18:11)){case 120:return Xe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Nt+(qn(t,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+Kt+"$2box$3")+t;case 100:return Xe(t,":",":"+Kt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Xe(t,"scroll-","scroll-snap-")+t}return t}function G1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function qxe(t,e,n,r){switch(t.type){case Lxe:if(t.children.length)break;case Dxe:case KT:return t.return=t.return||t.value;case QF:return"";case XF:return t.return=t.value+"{"+G1(t.children,r)+"}";case M_:if(!Us(t.value=t.props.join(",")))return""}return Us(n=G1(t.children,r))?t.return=t.value+"{"+n+"}":""}function Yxe(t){var e=eV(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Kxe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Qxe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case KT:t.return=nV(t.value,t.length,n);return;case XF:return G1([Ta(t,{value:Xe(t.value,"@","@"+Nt)})],r);case M_:if(t.length)return Oxe(n=t.props,function(i){switch(Io(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Su(Ta(t,{props:[Xe(i,/:(read-\w+)/,":"+a0+"$1")]})),Su(Ta(t,{props:[i]})),iC(t,{props:p6(n,r)});break;case"::placeholder":Su(Ta(t,{props:[Xe(i,/:(plac\w+)/,":"+Nt+"input-$1")]})),Su(Ta(t,{props:[Xe(i,/:(plac\w+)/,":"+a0+"$1")]})),Su(Ta(t,{props:[Xe(i,/:(plac\w+)/,Kt+"input-$1")]})),Su(Ta(t,{props:[i]})),iC(t,{props:p6(n,r)});break}return""})}}var Xxe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hi={},nh=typeof process<"u"&&hi!==void 0&&(hi.REACT_APP_SC_ATTR||hi.SC_ATTR)||"data-styled",rV="active",iV="data-styled-version",F_="6.1.11",XT=`/*!sc*/
`,JT=typeof window<"u"&&"HTMLElement"in window,Jxe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&hi!==void 0&&hi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&hi.REACT_APP_SC_DISABLE_SPEEDY!==""?hi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&hi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&hi!==void 0&&hi.SC_DISABLE_SPEEDY!==void 0&&hi.SC_DISABLE_SPEEDY!==""&&hi.SC_DISABLE_SPEEDY!=="false"&&hi.SC_DISABLE_SPEEDY),V_=Object.freeze([]),rh=Object.freeze({});function Zxe(t,e,n){return n===void 0&&(n=rh),t.theme!==n.theme&&t.theme||e||n.theme}var sV=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),e3e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,t3e=/(^-|-$)/g;function v6(t){return t.replace(e3e,"-").replace(t3e,"")}var n3e=/(a)(d)/gi,v2=52,y6=function(t){return String.fromCharCode(t+(t>25?39:97))};function aC(t){var e,n="";for(e=Math.abs(t);e>v2;e=e/v2|0)n=y6(e%v2)+n;return(y6(e%v2)+n).replace(n3e,"$1-$2")}var wx,oV=5381,Xu=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},aV=function(t){return Xu(oV,t)};function lV(t){return aC(aV(t)>>>0)}function r3e(t){return t.displayName||t.name||"Component"}function xx(t){return typeof t=="string"&&!0}var cV=typeof Symbol=="function"&&Symbol.for,uV=cV?Symbol.for("react.memo"):60115,i3e=cV?Symbol.for("react.forward_ref"):60112,s3e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o3e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a3e=((wx={})[i3e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wx[uV]=dV,wx);function _6(t){return("type"in(e=t)&&e.type.$$typeof)===uV?dV:"$$typeof"in t?a3e[t.$$typeof]:s3e;var e}var l3e=Object.defineProperty,c3e=Object.getOwnPropertyNames,w6=Object.getOwnPropertySymbols,u3e=Object.getOwnPropertyDescriptor,d3e=Object.getPrototypeOf,x6=Object.prototype;function hV(t,e,n){if(typeof e!="string"){if(x6){var r=d3e(e);r&&r!==x6&&hV(t,r,n)}var i=c3e(e);w6&&(i=i.concat(w6(e)));for(var s=_6(t),o=_6(e),a=0;a<i.length;++a){var l=i[a];if(!(l in o3e||n&&n[l]||o&&l in o||s&&l in s)){var c=u3e(e,l);try{l3e(t,l,c)}catch{}}}}return t}function ih(t){return typeof t=="function"}function ZT(t){return typeof t=="object"&&"styledComponentId"in t}function dc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function lC(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function yp(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function cC(t,e,n){if(n===void 0&&(n=!1),!n&&!yp(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=cC(t[r],e[r]);else if(yp(e))for(var r in e)t[r]=cC(t[r],e[r]);return t}function eS(t,e){Object.defineProperty(t,"toString",{value:e})}function xm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var h3e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw xm(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(XT);return n},t}(),lg=new Map,q1=new Map,cg=1,y2=function(t){if(lg.has(t))return lg.get(t);for(;q1.has(cg);)cg++;var e=cg++;return lg.set(t,e),q1.set(e,t),e},f3e=function(t,e){cg=e+1,lg.set(t,e),q1.set(e,t)},p3e="style[".concat(nh,"][").concat(iV,'="').concat(F_,'"]'),m3e=new RegExp("^".concat(nh,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),g3e=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},v3e=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(XT),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(m3e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(f3e(u,c),g3e(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function y3e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var fV=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(nh,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(nh,rV),r.setAttribute(iV,F_);var o=y3e();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},_3e=function(){function t(e){this.element=fV(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw xm(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),w3e=function(){function t(e){this.element=fV(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),x3e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),E6=JT,E3e={isServer:!JT,useCSSOMInjection:!Jxe},pV=function(){function t(e,n,r){e===void 0&&(e=rh),n===void 0&&(n={});var i=this;this.options=ct(ct({},E3e),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&JT&&E6&&(E6=!1,function(s){for(var o=document.querySelectorAll(p3e),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(nh)!==rV&&(v3e(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),eS(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var f=function(v){return q1.get(v)}(d);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var g="".concat(nh,".g").concat(d,'[id="').concat(f,'"]'),E="";p!==void 0&&p.forEach(function(v){v.length>0&&(E+="".concat(v,","))}),l+="".concat(m).concat(g,'{content:"').concat(E,'"}').concat(XT)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return y2(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ct(ct({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new x3e(i):r?new _3e(i):new w3e(i)}(this.options),new h3e(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(y2(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(y2(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(y2(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),C3e=/&/g,b3e=/^\s*\/\/.*$/gm;function mV(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=mV(n.children,e)),n})}function I3e(t){var e,n,r,i=t===void 0?rh:t,s=i.options,o=s===void 0?rh:s,a=i.plugins,l=a===void 0?V_:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===M_&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(C3e,n).replace(r,c))}),o.prefix&&u.push(Qxe),u.push(qxe);var d=function(f,p,m,g){p===void 0&&(p=""),m===void 0&&(m=""),g===void 0&&(g="&"),e=g,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var E=f.replace(b3e,""),v=Hxe(m||p?"".concat(m," ").concat(p," { ").concat(E," }"):E);o.namespace&&(v=mV(v,o.namespace));var w=[];return G1(v,Yxe(u.concat(Kxe(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(f,p){return p.name||xm(15),Xu(f,p.name)},oV).toString():"",d}var T3e=new pV,uC=I3e(),gV=Ar.createContext({shouldForwardProp:void 0,styleSheet:T3e,stylis:uC});gV.Consumer;Ar.createContext(void 0);function C6(){return y.useContext(gV)}var vV=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=uC);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,eS(this,function(){throw xm(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=uC),this.name+e.hash},t}(),S3e=function(t){return t>="A"&&t<="Z"};function b6(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;S3e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var yV=function(t){return t==null||t===!1||t===""},_V=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!yV(s)&&(Array.isArray(s)&&s.isCss||ih(s)?r.push("".concat(b6(i),":"),s,";"):yp(s)?r.push.apply(r,ar(ar(["".concat(i," {")],_V(s),!1),["}"],!1)):r.push("".concat(b6(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Xxe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Cc(t,e,n,r){if(yV(t))return[];if(ZT(t))return[".".concat(t.styledComponentId)];if(ih(t)){if(!ih(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Cc(i,e,n,r)}var s;return t instanceof vV?n?(t.inject(n,r),[t.getName(r)]):[t]:yp(t)?_V(t):Array.isArray(t)?Array.prototype.concat.apply(V_,t.map(function(o){return Cc(o,e,n,r)})):[t.toString()]}function k3e(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(ih(n)&&!ZT(n))return!1}return!0}var R3e=aV(F_),A3e=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&k3e(e),this.componentId=n,this.baseHash=Xu(R3e,n),this.baseStyle=r,pV.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=dc(i,this.staticRulesId);else{var s=lC(Cc(this.rules,e,n,r)),o=aC(Xu(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=dc(i,o),this.staticRulesId=o}else{for(var l=Xu(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=lC(Cc(d,e,n,r));l=Xu(l,f+u),c+=f}}if(c){var p=aC(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=dc(i,p)}}return i},t}(),wV=Ar.createContext(void 0);wV.Consumer;var Ex={};function P3e(t,e,n){var r=ZT(t),i=t,s=!xx(t),o=e.attrs,a=o===void 0?V_:o,l=e.componentId,c=l===void 0?function(x,I){var C=typeof x!="string"?"sc":v6(x);Ex[C]=(Ex[C]||0)+1;var T="".concat(C,"-").concat(lV(F_+C+Ex[C]));return I?"".concat(I,"-").concat(T):T}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(x){return xx(x)?"styled.".concat(x):"Styled(".concat(r3e(x),")")}(t):u,f=e.displayName&&e.componentId?"".concat(v6(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;m=function(x,I){return g(x,I)&&E(x,I)}}else m=g}var v=new A3e(n,f,r?i.componentStyle:void 0);function w(x,I){return function(C,T,b){var k=C.attrs,S=C.componentStyle,R=C.defaultProps,N=C.foldedComponentIds,M=C.styledComponentId,D=C.target,j=Ar.useContext(wV),P=C6(),A=C.shouldForwardProp||P.shouldForwardProp,L=Zxe(T,j,R)||rh,$=function(V,H,ie){for(var K,te=ct(ct({},H),{className:void 0,theme:ie}),pe=0;pe<V.length;pe+=1){var se=ih(K=V[pe])?K(te):K;for(var oe in se)te[oe]=oe==="className"?dc(te[oe],se[oe]):oe==="style"?ct(ct({},te[oe]),se[oe]):se[oe]}return H.className&&(te.className=dc(te.className,H.className)),te}(k,T,L),F=$.as||D,q={};for(var W in $)$[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&$.theme===L||(W==="forwardedAs"?q.as=$.forwardedAs:A&&!A(W,F)||(q[W]=$[W]));var B=function(V,H){var ie=C6(),K=V.generateAndInjectStyles(H,ie.styleSheet,ie.stylis);return K}(S,$),U=dc(N,M);return B&&(U+=" "+B),$.className&&(U+=" "+$.className),q[xx(F)&&!sV.has(F)?"class":"className"]=U,q.ref=b,y.createElement(F,q)}(_,x,I)}w.displayName=d;var _=Ar.forwardRef(w);return _.attrs=p,_.componentStyle=v,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?dc(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(I){for(var C=[],T=1;T<arguments.length;T++)C[T-1]=arguments[T];for(var b=0,k=C;b<k.length;b++)cC(I,k[b],!0);return I}({},i.defaultProps,x):x}}),eS(_,function(){return".".concat(_.styledComponentId)}),s&&hV(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function I6(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var T6=function(t){return Object.assign(t,{isCss:!0})};function xV(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ih(t)||yp(t))return T6(Cc(I6(V_,ar([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Cc(r):T6(Cc(I6(r,e)))}function dC(t,e,n){if(n===void 0&&(n=rh),!e)throw xm(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,xV.apply(void 0,ar([i],s,!1)))};return r.attrs=function(i){return dC(t,e,ct(ct({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return dC(t,e,ct(ct({},n),i))},r}var EV=function(t){return dC(P3e,t)},hu=EV;sV.forEach(function(t){hu[t]=EV(t)});function tS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=lC(xV.apply(void 0,ar([t],e,!1))),i=lV(r);return new vV(i,r)}hu.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const gs=242.776657104492,N3e=1.6,D3e=tS`
12.5% {
  stroke-dasharray: ${gs*.14}px, ${gs}px;
  stroke-dashoffset: -${gs*.11}px;
}
43.75% {
  stroke-dasharray: ${gs*.35}px, ${gs}px;
  stroke-dashoffset: -${gs*.35}px;
}
100% {
  stroke-dasharray: ${gs*.01}px, ${gs}px;
  stroke-dashoffset: -${gs*.99}px;
}
`;hu.path`
  stroke-dasharray: ${gs*.01}px, ${gs};
  stroke-dashoffset: 0;
  animation: ${D3e} ${N3e}s linear infinite;
`;const L3e=tS`
to {
   transform: rotate(360deg);
 }
`;hu.svg`
  animation: ${L3e} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;hu.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const M3e=tS`
to {
   stroke-dashoffset: 136;
 }
`;hu.polygon`
  stroke-dasharray: 17;
  animation: ${M3e} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;hu.svg`
  transform-origin: 50% 65%;
`;const O3e=({chat:t,index:e,chats:n})=>{var x;const[r,i]=y.useState(null),{newMessages:s}=y.useContext(be),[o,a]=y.useState(!0),[l,c]=y.useState(null),u=zn(),[d,f]=y.useState(!0),[p,m]=y.useState(!1),[g,E]=y.useState(null),v=Tt(),{mode:w}=v.palette,_=async()=>{a(!0);const I=We(Re(We(Pe,"chats"),t.id),"messages");console.log("fetching message counts..."),await Wo(I,i),Un(a)};return y.useEffect(()=>{const C=(()=>{const T=We(Pe,"chats"),b=We(Re(T,t.id),"messages"),k=Vr(b,jd("timestamp","desc"),Jo(1));return fo(k,R=>{if(f(!0),console.log("fetching last message..."),R.empty)m(!0),Un(f,300);else{const N=R.docs.map(M=>({id:M.id,...M.data()}));c(N[0]),_(),Un(f,300)}},R=>{E("Error fetching last message: "+R.message),Un(f,300)})})();return()=>{C&&C()}},[t.id]),h.jsxs(ce,{className:`${w==="dark"?"hover:bg-slate-700":"hover:bg-slate-100"} flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative  border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>u(`/app/chatroom/${t.id}`),children:[h.jsx(ce,{className:"flex items-start h-full mt-3",children:h.jsx("img",{alt:t.name,src:((x=t.image)==null?void 0:x.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),h.jsxs(ce,{className:"grid items-start h-full",children:[h.jsxs(lt,{variant:"h6",children:[t.name,h.jsx($3e,{messageCounts:r})]}),h.jsxs(ce,{container:!0,sx:{display:"grid"},children:[h.jsx(ce,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:h.jsx(F3e,{lastMessage:l})}),h.jsx(j3e,{lastMessage:l,isMessageEmpty:p,isMessageLoading:d,messageError:g}),h.jsx(V3e,{chat:t})]})]}),!Oy(s,t.id)&&h.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},$3e=({messageCounts:t})=>t?h.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[t," messages"]}):h.jsx(me,{width:120}),j3e=({lastMessage:t,isMessageLoading:e,isMessageEmpty:n,messageError:r})=>{var i,s;return e?h.jsxs("div",{children:[h.jsx(me,{width:"70%"}),h.jsx(me,{width:"60%"})]}):n?h.jsx(lt,{color:"warning",children:"No messages yet"}):r?h.jsx(lt,{color:"warning",children:r}):h.jsxs(ce,{sx:{marginTop:"2px",display:"grid"},children:[h.jsx(lt,{size:"small",variant:"caption",color:"textSecondary",children:Ml(t==null?void 0:t.content,30)}),(t==null?void 0:t.image)&&h.jsx("img",{alt:(i=t==null?void 0:t.image)==null?void 0:i.name,className:"w-12",src:(s=t==null?void 0:t.image)==null?void 0:s.URL}),h.jsxs(lt,{size:"small",variant:"caption",color:"textSecondary",children:[(t==null?void 0:t.editedTime)&&"edited ",H1(ns(t!=null&&t.editedTime?t.editedTime:t==null?void 0:t.timestamp))]})]})},F3e=({lastMessage:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState(!0);return dr(t==null?void 0:t.senderId,e,r,s,[t]),i?h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(me,{variant:"circular",height:30,width:30}),h.jsx(me,{height:30,width:100})]}):h.jsxs(h.Fragment,{children:[h.jsx(Li,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx(lt,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:n==null?void 0:n.name})]})},V3e=({chat:t})=>{const e=Re(Pe,"chats",t.id),n=We(e,"typingUsers"),[r,i]=y.useState([]);if(y.useEffect(()=>{const o=fo(n,l=>{const c=l.docs.map(u=>({uid:u.id,...u.data()}));i(c)});return()=>{o&&o()}},[]),r.length>0)return h.jsx("div",{children:r.sort((s,o)=>cs(s,o,"timestamp","older")).map(s=>h.jsx(U3e,{typingUser:s},`typing-users-${s.uid}`))})},U3e=({typingUser:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState();return dr(t.uid,e,r,s),h.jsx("div",{className:"flex items-center gap-x-1 ",children:i?h.jsx(me,{width:30,height:30}):h.jsxs(h.Fragment,{children:[h.jsx(Li,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx(me,{height:35,width:120})]})})},z3e=()=>{const{setHeaderTitle:t,chats:e,setChats:n,myChats:r,setMyChats:i}=y.useContext(be),s=We(Pe,"chats"),[o,a]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(null);return au(s,[],n,a,c,!1,d,500),y.useEffect(()=>{t("Chat Room")},[]),o?h.jsx(ui,{isLoading:o,text:"Loading chat rooms..."}):l?h.jsx(Gt,{text:"No chat rooms available"}):u?h.jsx(Gt,{text:u}):h.jsx(B3e,{myChats:r,setMyChats:i})},B3e=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:i}=y.useContext(be),[s,o]=y.useState(!1),[a,l]=y.useState(0),c=async(u,d)=>{const f=We(Pe,"chats"),p=We(Re(f,u),"members"),m=Vr(p,sy("uid","==",d),Jo(1));return console.log("Checking if a member..."),!(await Nl(m)).empty};return y.useEffect(()=>{(async()=>{const d=await Promise.all(n.map(async f=>{const p=await c(f.id,i);return p&&l(a+1),p?f:null}));e(d.filter(f=>f!==null))})()},[n]),a?h.jsxs(h.Fragment,{children:[s&&h.jsx(Nxe,{isCreating:s,setIsCreating:o}),h.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[h.jsx(W3e,{}),t.map((u,d)=>h.jsx(O3e,{chat:u,index:d,chats:n},u.id)),(r==null?void 0:r.isAdmin)&&h.jsx(ce,{className:"m-2",children:h.jsx(Le,{size:"small",onClick:()=>o(!0),startIcon:h.jsx(D_,{}),children:"Create group"})})]})]}):h.jsx(Gt,{text:"No chat rooms available for you"})},W3e=()=>{const[t,e]=y.useState(0),[n,r]=y.useState(!0);return y.useEffect(()=>{const s=(()=>{const o=rp(lp,"/status"),a=RO(o,SO("status"),kO("online"));return xy(a,c=>{r(!0),e(c.size),r(!1)})})();return()=>{s&&s()}},[]),n?h.jsx(me,{sx:{m:1},height:40,width:60}):h.jsxs(ce,{className:"p-2 border-b border-b-slate-200",children:[t," online"]})},H3e=()=>{const{headerTitle:t,setUserId:e,setUserData:n,openSnackbar:r,userId:i}=y.useContext(be),s=zn(),o=lh(),a=o.pathname!=="/"?o.pathname:"/app";y.useEffect(()=>{document.title="SEA • "+t||"STAR EDUCATION ACADEMY"},[t]),y.useEffect(()=>{const l=gi.get("userId");if(!l)return;const c=fo(Re(Pe,"users",l),u=>{if(u.exists()){const d={uid:u.id,...u.data()};n(d)}else e(null),gi.remove("userId"),s("/login"),console.log("No user found..."),r("No user found")},u=>{console.log(u.message),r(u.message)});return()=>c()},[i]),y.useEffect(()=>{const l=gi.get("userId")||null;l?(e(l),s(a)):s("/login")},[])},G3e=()=>{const{setHeaderTitle:t}=y.useContext(be),e={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${wm(1712655376346)}.`}];return im("help-page"),sm("help-page"),y.useEffect(()=>{t("Help")},[]),h.jsxs(ce,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[h.jsx(ui,{}),h.jsx(mf,{image:e.image,text:e.text,answer:e.answer}),h.jsx(mf,{text:"FAQ",image:"faq",answer:n.map(i=>h.jsx(mf,{text:i.text,answer:i.answer},i.text))}),h.jsx(mf,{image:"update",text:"Updates",answer:r.map(i=>h.jsx(mf,{text:i.text,answer:i.answer},i.text))})]})},mf=({image:t,text:e,answer:n})=>{const[r,i]=y.useState(!1);return h.jsxs("div",{className:" p-2  mb-2 ",children:[h.jsxs("div",{onClick:()=>i(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[h.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&h.jsx(q3e,{image:t}),h.jsx("div",{children:e})]}),h.jsx(vt,{title:r?"Collapse":"Expand",arrow:!0,children:h.jsx(Ke,{children:r?h.jsx(Hye,{}):h.jsx(Wye,{})})})]}),r&&h.jsx("div",{className:"font-medium ",children:n})]})},q3e=({image:t})=>h.jsx("img",{className:"w-7",src:Xn(t)}),CV=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const i=(t==null?void 0:t.size)/1048576,s=(t==null?void 0:t.size)/1024;return i>1?`${i.toFixed(2)} MB`:isNaN(i)?null:`${s.toFixed(2)} kB`};return h.jsxs(Di,{open:!!t,onClose:()=>e(!1),children:[h.jsx(Lr,{direction:"row",justifyContent:"end",children:h.jsx(vt,{placement:"left",arrow:!0,title:"Close",children:h.jsx(Ke,{size:"small",color:"primary",onClick:()=>{e(!1)},children:h.jsx(Xd,{})})})}),t?h.jsxs("div",{className:"bg-white m-3 overflow-auto min-h-[200px] min-w-[200px] relative",children:[r()&&h.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),h.jsx("img",{alt:t.name,className:"h-full ",src:n?t.imageURL:t.URL})]}):h.jsx("div",{className:"bg-white border border-slate-300 rounded-md",children:"Image not available."})]})},Y3e=({post:t,setViewingImage:e})=>{const[r,i]=y.useState(4),[s,o]=y.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),i(t.images.length)};return a.map((u,d)=>h.jsxs(s0,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[h.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),h.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&s&&l?h.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:h.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},K3e=({files:t})=>{const e=Tt(),{mode:n}=e.palette;return h.jsxs(ce,{className:"grid mt-2",children:[h.jsx(lt,{className:"p-2 font-bold",children:"Files"}),t.map((r,i)=>h.jsx("a",{href:r.fileURL,download:r.name,target:"_blank",children:h.jsxs(ce,{className:`p-1 ${n==="light"?"hover:bg-slate-50 text-blue-600":"hover:bg-slate-700 text-blue-500"} cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${i===t.length-1&&"border-b"}  `,children:[h.jsx(Xye,{}),h.jsxs("div",{children:[h.jsx("p",{className:"underline",children:r.name}),(r==null?void 0:r.size)&&h.jsxs("p",{children:[(r.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${i}-${r.fileURL}`))]})},Q3e=({links:t})=>{const e=Tt(),{mode:n}=e.palette;return h.jsxs("div",{className:"grid mt-2",children:[h.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((r,i)=>h.jsx("a",{href:r.link,target:"_blank",children:h.jsxs(ce,{className:`p-1  cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${i===t.length-1&&"border-b"} ${n==="light"?"border-slate-200 hover:bg-slate-50 text-blue-600":"border-slate-700 hover:bg-slate-700 text-blue-500"} `,children:[h.jsx(fF,{}),h.jsx("div",{children:h.jsx("p",{className:"underline",children:r.title})})]})},`${i}-${r.link}`))]})};async function nS(t,e,n,r=null){const i=gi.get("userId");try{const s=We(Pe,"notifications"),o={uid:i,type:t,[e]:n,isReadBy:[],timestamp:Dr(),comment:r};await vl(s,o)}catch(s){console.log(s.message)}}const Em=()=>h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx(me,{variant:"circular",height:40,width:40}),h.jsx(me,{variant:"text",height:40,width:"200px"})]}),bV=({post:t,collectionName:e})=>{const{id:n}=t;Tt().palette;const[i,s]=y.useState(null),[o,a]=y.useState(null),{userId:l}=y.useContext(be),[c,u]=y.useState(!1),[d,f]=y.useState(!1),p=e==="posts",m=We(Re(Pe,e,n),"comments"),g=We(Re(Pe,e,n),"likes"),[E,v]=y.useState(!1),w=async(x,I)=>{const C=We(Re(Pe,e,n),x);console.log("Fetching counts...");const T=await ZL(C);I(T.data().count)};y.useEffect(()=>{(async()=>{await w("likes",s),await w("comments",a)})()},[]),y.useEffect(()=>{(async()=>{const I=Vr(g,sy("uid","==",l)),C=await Nl(I);v(!C.empty)})()},[]);const _=async()=>{try{const x=async()=>{await w("likes",s)},I=Re(g,l),C={uid:l,timestamp:Dr()};E?(v(!1),await gl(I),x()):(v(!0),await Fd(I,C),x(),nS(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(x){console.log(x.message)}};return h.jsxs("div",{className:"mt-2",children:[h.jsxs(ce,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[h.jsx(Le,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:c?"outlined":"text",onClick:()=>{u(!c),f(!1)},children:h.jsxs("span",{children:[i||0," ",i>1?"Likes":"Like"]})}),h.jsxs(Le,{size:"small",variant:d?"outlined":"text",sx:{textDecoration:"underline",textTransform:"capitalize"},onClick:()=>{f(!d),u(!1)},children:[o||0," ",o>1?"Comments":"Comment"]})]}),h.jsxs(ce,{className:"p-2 shadow-lg border-t pt-2 flex gap-x-2",children:[h.jsx(vt,{title:E?"Unlike":"Like",arrow:!0,children:h.jsx(Ke,{color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:_,children:E?h.jsx(e_e,{}):h.jsx(t_e,{})})}),h.jsx(Le,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{f(!d),u(!1)},startIcon:h.jsx(qye,{}),children:"Comment"})]}),c&&h.jsx(X3e,{isLikesOpen:c,setIsLikesOpen:u,likesRef:g,likeCounts:i}),d&&h.jsx(Z3e,{isPost:p,post:t,commentsRef:m,collectionName:e,commentCounts:o,setCommentCounts:a,getCounts:w,isCommentsOpen:d,setIsCommentsOpen:f})]})},X3e=({likesRef:t,likeCounts:e,isLikesOpen:n,setIsLikesOpen:r})=>{const[s,o]=y.useState([]),[a,l]=y.useState(null),[c,u]=y.useState(!0);Tt();const d=async()=>{let f=Vr(t,jd("timestamp","desc"),Jo(5));a&&(f=Vr(f,oy(a)));const p=await Nl(f),m=p.docs.map(g=>({id:g.id,...g.data()}));o([...s,...m]),u(!1),l(p.docs[p.docs.length-1])};return y.useEffect(()=>{d()},[]),h.jsx(LT,{anchor:"bottom",open:n,onClose:()=>r(!1),sx:{"& .MuiDrawer-paper":{backgroundColor:"transparent"}},children:h.jsxs(ce,{sx:{width:{xs:"100%",sm:"75%",md:"60%",lg:"50%"},margin:"auto",textAlign:"center",borderRadius:2},className:"",bgcolor:"background.default",children:[h.jsx(Lr,{direction:"row",sx:{display:"flex",justifyContent:"end",p:1},children:h.jsx(Le,{onClick:()=>r(!1),variant:"text",sx:{textDecoration:"underline"},children:"Close"})}),s.length===0&&h.jsx("div",{className:"flex items-center justify-center ",children:"No likes yet..."}),c?h.jsx(ce,{className:"text-center",children:"Loading..."}):h.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[s.sort((f,p)=>cs(f,p,"timestamp","newer")).map((f,p)=>h.jsx(J3e,{like:f},`user-${f.uid}-${p}`)),h.jsx(Lr,{direction:"row",justifyContent:"center",children:e>5&&s.length<e&&s.length>0?h.jsx(Le,{size:"small",onClick:d,children:"Load More"}):""})]})]})})},J3e=({like:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState();return dr(t.uid,e,r,s),i?h.jsx(Em,{}):h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx(Li,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),h.jsx("div",{children:n?n.name:"Unknown User"})]})},Z3e=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:i,isCommentsOpen:s,setIsCommentsOpen:o})=>{const[a,l]=y.useState(""),[c,u]=y.useState([]),{userId:d}=y.useContext(be),[f,p]=y.useState(null);Tt();const m=()=>{const w=Vr(n,jd("timestamp","desc"));return fo(w,x=>{i("comments",r),x.empty?u([]):u(x.docs.map(I=>({id:I.id,...I.data()})).sort((I,C)=>cs(I,C,"timestamp")))})};y.useEffect(()=>{const w=m();return()=>{w&&w()}},[]);const g=async()=>{if(a.trim()){const w={uid:d,text:a.trim(),timestamp:Dr()};await vl(n,w),l(""),nS(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,a.trim())}},E=async()=>{const w=Re(n,f);if(a.trim()){const _={text:a.trim(),editedTime:Dr()};await Nr(w,_),l(""),p(null)}},v=async w=>{const _=Re(n,w);try{await gl(_)}catch(x){console.log(x.message)}};return h.jsx(LT,{variant:"temporary",transitionDuration:{enter:500,exit:300},anchor:"bottom",open:s,onClose:()=>o(!1),className:"mt-2 p-2",sx:{"& .MuiDrawer-paper":{backgroundColor:"transparent"}},children:h.jsxs(ce,{sx:{width:{xs:"100%",sm:"75%",md:"60%",lg:"50%"},margin:"auto",textAlign:"center",borderRadius:2},bgcolor:"background.default",children:[h.jsx(Lr,{direction:"row",sx:{display:"flex",justifyContent:"end",p:1},children:h.jsx(Le,{onClick:()=>o(!1),variant:"text",sx:{textDecoration:"underline"},children:"Close"})}),c.length===0&&h.jsx("div",{className:"flex items-center justify-center ",children:"No comments yet..."}),h.jsx("div",{className:"grid gap-y-2 m-2",children:c.map(w=>{const _=w.uid===d,x=_&&{text:"Edit",icon:h.jsx(Ll,{}),onClick:()=>{p(w.id),l(w.text)}};return h.jsx(eEe,{comment:w,editOption:x,yourComment:_,deleteComment:v},`${w.uid}-${w.id}`)})}),h.jsxs("div",{className:"mt-2 flex  gap-x-1 m-2",children:[h.jsx(Kn,{fullWidth:!0,size:"small",onChange:w=>l(w.target.value),value:a,placeholder:"Write a comment..."}),h.jsxs("div",{className:"flex gap-x-1",children:[f&&h.jsx(Ke,{onClick:()=>{p(null),l("")},children:h.jsx(Xd,{})}),h.jsx(Ke,{onClick:()=>{a.trim()&&(f?E():g())},children:h.jsx(d_e,{})})]})]})]})})},eEe=({comment:t,editOption:e,yourComment:n,deleteComment:r})=>{const{users:i,userData:s}=y.useContext(be),[o,a]=y.useState(null),[l,c]=y.useState();return dr(t.uid,i,a,c),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex gap-x-1",children:[h.jsx("div",{children:l?h.jsx(me,{variant:"circular",height:40,width:40}):h.jsx(Li,{image:o&&o.image,name:o&&o.name})}),h.jsxs("div",{className:"max-w-[250px]",children:[h.jsxs("div",{className:"p-2 border  shadow-md border-slate-200 rounded-lg",children:[l?h.jsx(me,{height:40,width:120}):h.jsx("div",{className:"font-bold text-left",children:o?o.name:"Unknown User"}),l?h.jsx(me,{sx:{mt:-1},height:60,width:200}):h.jsx("div",{className:"text-left",children:t.text})]}),h.jsx("div",{className:"text-sm text-left mt-1",children:t!=null&&t.editedTime?h.jsxs("span",{children:["edited ",H1(ns(t.editedTime))]}):h.jsx("span",{children:H1(ns(t.timestamp))})})]})]}),n||s!=null&&s.isAdmin?h.jsx(YT,{options:[e,{text:"Delete",icon:h.jsx(cu,{}),onClick:()=>r(t.id)}],isComment:!0}):""]})},IV=()=>h.jsxs("div",{className:"border border-slate-200 rounded-md shadow-md",children:[h.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[h.jsx(me,{variant:"circular",width:35,height:35}),h.jsx(me,{width:"40%",height:50,variant:"text"})]}),h.jsxs("div",{className:"pl-2 pr-2",children:[h.jsx(me,{width:"100%"}),h.jsx(me,{width:"60%"})]}),h.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[h.jsx(me,{height:100,width:"20%"}),h.jsx(me,{height:100,width:"20%"}),h.jsx(me,{height:100,width:"20%"})]}),h.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[h.jsx(me,{width:70,animation:"wave",variant:"rounded",height:30}),h.jsx(me,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),tEe=({post:t,setViewingImage:e})=>{var l,c;const{users:n}=y.useContext(be),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Tt().palette,dr(t.uid,n,i,o,[],1200),s?h.jsx(IV,{}):h.jsxs(ce,{bgcolor:"background.default",color:"text.primary",className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full"},children:[h.jsxs(ce,{className:"top-section flex gap-x-2 mb-2 p-2",children:[h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r?r.image:"images/sea-logo.jpg"}),h.jsxs(ce,{children:[h.jsx(lt,{children:r?r.name:"Unknown User"}),h.jsx(lt,{variant:"caption",children:wm(ns(t.time))})]})]}),(t==null?void 0:t.description)&&h.jsx(lt,{p:1,children:t.description}),t.images.length!==0?h.jsx(s0,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:h.jsx(Y3e,{post:t,setViewingImage:e})}):"",t.files&&((l=t==null?void 0:t.files)==null?void 0:l.length)!==0&&h.jsx(K3e,{files:t.files}),(t==null?void 0:t.links)&&((c=t==null?void 0:t.links)==null?void 0:c.length)!==0&&h.jsx(Q3e,{links:t.links}),h.jsx(bV,{post:t,collectionName:"posts"})]})},nEe=()=>{const{posts:t,setPosts:e,setHeaderTitle:n}=y.useContext(be),r=We(Pe,"posts"),[i,s]=y.useState(!0),[o,a]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null);return y.useEffect(()=>{n("STAR EDUCATION ACADEMY")},[]),au(r,[],e,s,a,!1,c,500),im("posts-page"),sm("posts-page"),i?h.jsx(ui,{isLoading:i,text:"Loading posts..."}):o?h.jsx(Gt,{text:"No posts available"}):l?h.jsx(Gt,{text:l}):h.jsxs("div",{className:"grid gap-y-6 m-2",children:[u&&h.jsx(CV,{image:u,setViewingImage:d,postImage:!0}),t.sort((f,p)=>cs(f,p,"time","newer")).map(f=>h.jsx(tEe,{setViewingImage:d,post:f},f.id))]})},TV=()=>h.jsxs("div",{className:"border border-slate-200 rounded-md shadow-md",children:[h.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[h.jsx(me,{variant:"circular",width:35,height:35}),h.jsx(me,{width:"40%",height:50,variant:"text"})]}),h.jsxs("div",{className:"pl-2 pr-2",children:[h.jsx(me,{width:"100%"}),h.jsx(me,{width:"60%"})]}),h.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:h.jsx(me,{height:100,width:"30%"})}),h.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[h.jsx(me,{width:70,animation:"wave",variant:"rounded",height:30}),h.jsx(me,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),rEe=()=>{const{tests:t,setTests:e,setHeaderTitle:n,startTimer:r}=y.useContext(be);zn();const i=We(Pe,"tests"),[s,o]=y.useState(!0),[a,l]=y.useState(!1),[c,u]=y.useState(null);au(i,[],e,o,l,!1,u,500),y.useEffect(()=>{n("Tests")},[]);const d=()=>{r()};return im("tests-page"),sm("tests-page"),s?h.jsx(ui,{isLoading:s,text:"Loading tests..."}):a?h.jsx(Gt,{text:"No tests available"}):c?h.jsx(Gt,{text:c}):h.jsx("div",{className:"grid gap-y-6 mb-2 m-2",children:t.sort((f,p)=>cs(f,p,"timestamp","newer")).map(f=>h.jsx(iEe,{takeTest:d,t:f},f.id))})},iEe=({t,takeTest:e})=>{const{users:n}=y.useContext(be),[r,i]=y.useState(null),[s,o]=y.useState(!0),a=zn(),l=Tt(),{mode:c}=l.palette;return dr(t.uid,n,i,o),s?h.jsx(TV,{}):h.jsxs(ce,{bgcolor:"background.default",color:"text.primary",className:`${c==="dark"?"border-slate-700":"border-slate-200"} flex flex-col justify-between min-h-60 border shadow-md rounded-md bg-gradient-to-tr`,children:[h.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold",children:r==null?void 0:r.name}),h.jsx("div",{className:" text-sm",children:wm(ns(t.time))})]}),h.jsxs("span",{className:`rounded-md border  text-sm text-gray-400 flex items-center p-1 ${c==="dark"?"border-slate-700":"border-slate-200"}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&h.jsx("div",{className:"m-2 flex justify-center p-2",children:h.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),h.jsxs("div",{className:`${c==="dark"?"border-slate-700":"border-slate-200"} p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md`,children:[h.jsx("div",{className:"font-medium text-lg",children:t.name}),h.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),h.jsx(Le,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{e(),a(`/app/tests/${t.id}`)},children:"Take the test"})]}),h.jsx(bV,{post:t,collectionName:"tests"})]})},sEe=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:i,answerLength:s,questionsLength:o}=t,{stopTest:a,formattedTime:l}=y.useContext(be),c=zn(),[u,d]=y.useState(!1),f=()=>{a(),d(!1),c("/app/tests")},p=()=>{d(!1)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[h.jsx(vt,{title:"Navigate up",arrow:!0,children:h.jsx(Ke,{onClick:()=>d(!0),children:h.jsx(lu,{})})}),h.jsx("div",{className:"ml-2 ",children:e}),h.jsx(sa,{data:{value:u,yesButton:f,noButton:p,text:"Are you sure to stop the test ?",setValue:d}})]}),h.jsxs("div",{className:"flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ",children:[h.jsxs("div",{children:["Page ",n," of ",r]}),h.jsxs("div",{className:"w-2/3 border h-7 relative",children:[h.jsx("div",{style:{width:`${i}%`},className:"text-center h-full"}),h.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[s," ","/"," ",o]})]}),h.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},oEe=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t;return h.jsx("div",{children:e==null?void 0:e.map((i,s)=>h.jsxs("div",{children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:i.id}),h.jsx("div",{className:"flex-1 font-padauk",children:i.question})]}),h.jsx("div",{className:"grid gap-y-2",children:i.choices.map((o,a)=>{let l,c=!1;return r.forEach(u=>{i.id===u.id&&(l=u)}),(l==null?void 0:l.userAnswer)===o&&(c=!0),h.jsxs("div",{onClick:()=>{n(i.id,o)},className:"border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk",children:[h.jsx("input",{onChange:()=>{n(i.id,o)},className:"h-5 w-5",name:`question-${i.id}`,type:"radio",checked:!!c}),h.jsx("div",{children:o})]},`choice-${i.id}-${a}-${o}`)})})]}),h.jsx(aEe,{})]},`question-${i.id}-${s}-${i.question}`))})},aEe=()=>h.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),lEe=()=>h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx("img",{className:"w-8 ",src:Xn("error")}),h.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]});function cEe(t,e,n){const r=e.name,i=uEe(t,e.quizzes),s=dEe(i),o=t.length,a=e.gradingRules.length!==0?hEe(s,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=fEe(),c=pEe();return{testName:r,results:i,score:s,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function uEe(t,e){return e.map(r=>{const{id:i,question:s,answer:o}=r;let a;t.forEach(c=>{i===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:i,question:s,userAnswer:l,answer:o,isTrue:!0}:{id:i,question:s,userAnswer:l,answer:o,isTrue:!1}})}function dEe(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function hEe(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function fEe(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function pEe(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const i=n<10?`0${n}`:n;return`${e}:${i} ${r}`}const mEe=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:i,currentTest:s,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=y.useContext(be),u=zn(),d=async()=>{try{const p=We(Re(Pe,"users",c),"history"),m=cEe(o,s,a),g=await vl(p,m),E=(await ml(g)).id;u(`/app/history/${E}`)}catch(p){console.log(p.message)}},f=()=>{d(),l(),nS(["took","test"],"testName",s.name)};return h.jsxs("div",{className:"flex justify-center gap-x-5",children:[i!==0&&h.jsx(Le,{variant:"outlined",size:"small",onClick:n,startIcon:h.jsx(lu,{}),children:"Previous"}),r?h.jsx(Le,{variant:"outlined",size:"small",onClick:f,startIcon:h.jsx(Qye,{}),children:"Finish"}):h.jsx(Le,{variant:"outlined",size:"small",onClick:e,startIcon:h.jsx(Gye,{}),children:"Next"})]})},gEe=()=>{var j,P;y.useContext(be);const{testId:t}=Ip(),[e,n]=y.useState([]),[r,i]=y.useState(null),[s,o]=y.useState(!0),[a,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1);y.useEffect(()=>{(async()=>{try{o(!0);const L=Re(Pe,"tests",t),$=await ml(L);$.exists()?(i($.data()),Un(o,1200)):(Un(o),l(!0))}catch(L){Un(o,1200),u("Failed to fetch current test: "+L.message)}})()},[]);const p=e==null?void 0:e.length,m=(j=r==null?void 0:r.quizzes)==null?void 0:j.length,[g,E]=y.useState(0),[v,w]=y.useState(!1),[_,x]=y.useState(!1),I=10;let C=(P=r==null?void 0:r.quizzes)==null?void 0:P.slice(g,g+I);const T=r==null?void 0:r.name,b=Math.ceil(m/I),k=Math.ceil((g+I)/I),S=Math.round(p/m*100);y.useEffect(()=>(Yi(),Yi()),[]),y.useEffect(()=>{p===m&&g+I>=m?w(!0):w(!1)},[g,e]),y.useEffect(()=>{p>=g+I?x(!0):x(!1)},[e,g]);const D={pageTitle:T,currentPage:k,totalPage:b,percentage:S,answerLength:p,questionsLength:m,answeredQuestions:e,currentQuestions:C,isEnded:v,chooseAnswer:(A,L)=>{const $=Vle(A,e);n($?e.map(F=>A===F.id?{id:A,userAnswer:L}:F):[...e,{id:A,userAnswer:L}])},nextPage:()=>{_?(E(g+I),p<=g+I&&Yi()):Ule(f)},prevPage:()=>{E(Math.max(g-I,0))},startIndex:g,currentTest:r};return s?h.jsx(ui,{isLoading:s,text:"Loading test..."}):a?h.jsx(Gt,{text:"No test available"}):c?h.jsx(Gt,{text:d}):h.jsxs("div",{className:"p-3 grid gap-y-3",children:[h.jsx(sEe,{data:D}),h.jsx(oEe,{data:D}),d&&h.jsx(lEe,{}),h.jsx(mEe,{data:D})]})},vEe=({members:t})=>h.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[h.jsx("p",{className:"text-lg font-bold",children:"Members"}),h.jsx(ce,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((e,n)=>cs(e,n,"joinedAt","newer")).map((e,n)=>h.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===n&&"border-b"} ${n===0&&"border-t-0"}`,children:h.jsx(yEe,{member:e})},e.uid+e.joinedAt))})]}),yEe=({member:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState(!0),[o,a]=y.useState("offline"),[l,c]=y.useState(null);return WI(t.uid,a,c),dr(t.uid,e,r,s),i?h.jsx(Em,{}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(Li,{image:n==null?void 0:n.image,name:n==null?void 0:n.name}),h.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:h.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{children:n==null?void 0:n.name}),h.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":l})]})]})},SV=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:i,onlineUsers:s})=>{var c;const o=zn(),a=Tt(),{mode:l}=a.palette;return h.jsx(Rj,{sx:{backgroundColor:l==="dark"?"background.default":"white",color:"text.primary"},children:h.jsxs(dF,{className:`h-[70px] z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 ${l==="dark"?"border-slate-700":"border-slate-200"} border-b `,children:[h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx("div",{children:h.jsx(vt,{title:"Navigate up",arrow:!0,children:h.jsx(Ke,{onClick:()=>{r?e(t):o("/app/chatroom")},children:h.jsx(Bye,{})})})}),h.jsxs("div",{onClick:()=>e(t),className:"cursor-pointer",children:[h.jsx("p",{className:"text-lg  font-bold",children:n.name}),h.jsxs("div",{className:"flex items-center",children:[i?h.jsxs("p",{className:"text-sm ",children:[i," ",i<=1?"member":"members"]}):h.jsx(me,{height:40,width:100}),s?h.jsxs(lt,{variant:"caption",children:[", "," ",s," online"]}):h.jsx(me,{height:40,width:60})]})]})]}),h.jsx("button",{onClick:()=>e(t),children:h.jsx("img",{src:((c=n==null?void 0:n.image)==null?void 0:c.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},_Ee=({setSubPage:t,currentChat:e,memberCounts:n,setMemberCounts:r,members:i,setMembers:s,onlineUsers:o})=>{var k;const{chatId:a}=Ip(),{users:l,userData:c}=y.useContext(be),d=Tt().palette,f=Re(Pe,"chats",a),[p,m]=y.useState(""),[g,E]=y.useState(null),v=Re(Pe,"chats",a),w=We(v,"members");y.useEffect(()=>{m(e.name)},[e]);const _=S=>{let R=!1;return i.forEach(N=>{N.uid===S&&(R=!0)}),R},x=async S=>{let R=!1;const N=Vr(w,sy("uid","==",S),Jo(1));return console.log("Checking if a member..."),R=!(await Nl(N)).empty,R};y.useEffect(()=>fo(w,M=>{M.empty||((async()=>await Wo(w,r))(),s(M.docs.map(j=>({...j.data(),id:j.id}))))}),[]);const I=async S=>{try{const R=Re(w,S);await x(S)||await Fd(R,{uid:S,joinedAt:Dr()})}catch(R){console.log(R.message)}},C=async S=>{try{const R=Re(w,S);await gl(R)}catch(R){console.log(R.message)}},T=async()=>{if(!g)return;const S=`chats/${e.id}/groupImage-${g.name}`,R=za(storage,S),N=await $n(g,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),M=await q0(R,N),D=await Y0(M.ref),j={name:g.name,path:S,URL:D,size:N.size};await Nr(f,{image:j})},b=async()=>{p.trim()&&await Nr(f,{name:p})};if(y.useEffect(()=>{T()},[g]),y.useEffect(()=>{scrollTo({top:0})},[]),e)return h.jsxs("div",{className:"",children:[h.jsx(SV,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:n,onlineUsers:o}),(c==null?void 0:c.isAdmin)&&h.jsxs(ce,{className:`p-2 m-1 mt-4 shadow-md  border  rounded-md ${d==="light"?"border-slate-200":"border-slate-700"}`,children:[h.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:S=>E(S.target.files[0])}),h.jsxs("div",{className:"relative size-24",children:[h.jsx("img",{src:(k=e==null?void 0:e.image)==null?void 0:k.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),h.jsx("label",{htmlFor:"imageInput",className:" p-1 size-7 rounded-full absolute -bottom-1 -right-1 cursor-pointer ",children:h.jsx(Ll,{sx:{width:20,height:20}})})]}),h.jsxs("div",{className:"mt-2 ",children:[h.jsx("p",{children:"Group Name"}),h.jsx(Kn,{size:"small",value:p,onChange:S=>m(S.target.value),placeholder:"Enter group name..."}),h.jsx(Ke,{onClick:b,children:h.jsx(vm,{})})]})]}),i&&h.jsx(vEe,{members:i}),(c==null?void 0:c.isAdmin)&&h.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[h.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),h.jsx(ce,{className:"border rounded-md shadow-lg border-slate-200",children:l.sort((S,R)=>cs(S,R,"createdAt","newer")).map((S,R)=>h.jsx(wEe,{user:S,i:R,members:i,addMember:I,removeMember:C,isAMember:_},S.name+" "+S.image+R))})]})]})},wEe=({user:t,i:e,members:n,isAMember:r,removeMember:i,addMember:s})=>{const[o,a]=y.useState("offline"),[l,c]=y.useState(null);return WI(t.uid,a,c),h.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t border-slate-200 ${(n==null?void 0:n.length)===e&&"border-b"} ${e===0&&"border-t-0"} `,children:[h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Li,{image:t.image,name:t.name}),h.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:h.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{children:t.name}),h.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":l})]})]}),h.jsx("div",{children:r(t.uid)?!t.isAdmin&&h.jsx(vt,{title:`Remove ${t.name}`,arrow:!0,placement:"left",children:h.jsx(Ke,{size:"small",onClick:()=>i(t.uid),children:h.jsx(cu,{})})}):h.jsx(vt,{title:`Add ${t.name}`,arrow:!0,placement:"left",children:h.jsx(Ke,{size:"small",onClick:()=>s(t.uid),children:h.jsx(D_,{})})})})]})},xEe=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],EEe=({chatId:t,message:e,setReactedUsers:n})=>{y.useState(!1);const[r,i]=y.useState([]),s=We(Re(We(Re(Pe,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=y.useContext(be),a=Tt(),{mode:l}=a.palette,c=()=>fo(s,m=>{if(m.empty)i([]);else{const g=m.docs.map(E=>E.data());i(g)}});y.useEffect(()=>{const p=c();return()=>{p&&p()}},[]);const u=async()=>{const p=Re(s,o);await gl(p)},d=p=>{let m=!1;return r.forEach(g=>{g.reactionType===p&&(m=!0)}),m},f=xEe.filter(p=>d(p.name));if(r.length!==0)return h.jsx("div",{children:h.jsx(vt,{arrow:!0,title:r.length===1?"1 reaction":`${r.length} reactions`,children:h.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:u}),className:`mt-2 border ${l==="light"?"border-slate-200 ":"border-slate-700"}  p-1 rounded-lg flex justify-center items-center text-sm`,children:[f.map((p,m)=>h.jsx("img",{className:"w-4 ml-[-3px]",src:Xn(p.image)},`reaction-${p.name}-${m}`)),h.jsx("span",{className:"ml-1",children:r.length})]})})})};function hC(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const CEe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bEe=/[\0-\x1F\x7F-\x9F]/,IEe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,TEe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function SEe(t){const e={};t=t||{},e.src_Any=CEe.source,e.src_Cc=bEe.source,e.src_Z=TEe.source,e.src_P=IEe.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function fC(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function U_(t){return Object.prototype.toString.call(t)}function kEe(t){return U_(t)==="[object String]"}function REe(t){return U_(t)==="[object Object]"}function AEe(t){return U_(t)==="[object RegExp]"}function S6(t){return U_(t)==="[object Function]"}function PEe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const kV={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function NEe(t){return Object.keys(t||{}).reduce(function(e,n){return e||kV.hasOwnProperty(n)},!1)}const DEe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},LEe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",MEe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function OEe(t){t.__index__=-1,t.__text_cache__=""}function $Ee(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function k6(){return function(t,e){e.normalize(t)}}function Y1(t){const e=t.re=SEe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(LEe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,REe(l)){AEe(l.validate)?c.validate=$Ee(l.validate):S6(l.validate)?c.validate=l.validate:s(a,l),S6(l.normalize)?c.normalize=l.normalize:l.normalize?s(a,l):c.normalize=k6();return}if(kEe(l)){i.push(a);return}s(a,l)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:k6()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(PEe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),OEe(t)}function jEe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function pC(t,e){const n=new jEe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Si(t,e){if(!(this instanceof Si))return new Si(t,e);e||NEe(t)&&(e=t,t={}),this.__opts__=fC({},kV,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=fC({},DEe,t),this.__compiled__={},this.__tlds__=MEe,this.__tlds_replaced__=!1,this.re={},Y1(this)}Si.prototype.add=function(e,n){return this.__schemas__[e]=n,Y1(this),this};Si.prototype.set=function(e){return this.__opts__=fC(this.__opts__,e),this};Si.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};Si.prototype.pretest=function(e){return this.re.pretest.test(e)};Si.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Si.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(pC(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(pC(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Si.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,pC(this,0)):null};Si.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),Y1(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Y1(this),this)};Si.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Si.prototype.onCompile=function(){};const FEe=({message:t,messages:e,deleteMessage:n,setMessage:r,setImageObject:i,setEditMessageObject:s,setViewingImage:o,setReplyMessage:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:f,setMessageOption:p,setReactedUsers:m,index:g})=>{var j;const{userData:E,userId:v}=y.useContext(be),w=Tt(),{mode:_}=w.palette,x=v===t.senderId,I=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,C=y.useRef(!1),[T,b]=y.useState(!1),k=P=>{b(P)},S={...t,index:u},R=x?{text:"Edit",icon:h.jsx(Ll,{}),onClick:()=>{s(S),r(t.content),i(t==null?void 0:t.image),a(t==null?void 0:t.reply)}}:null,N=x||E!=null&&E.isAdmin?{text:"Delete",icon:h.jsx(cu,{}),onClick:()=>{n(t,u)}}:null,M=()=>{let P=!1;return((t==null?void 0:t.seenBy)||[]).forEach(L=>{v===L.uid&&(P=!0)}),P},D=()=>g>=e.length-5&&g<=e.length-1;return y.useEffect(()=>{t&&(async()=>{const A=Re(c,t.id);if(!C.current&&(console.log(!M()),!M()&&!x&&D()&&!d))try{await Nr(A,{seenBy:pE({uid:v,timestamp:new Date().getTime()})}),C.current=!0}catch(L){console.error("Error marking message as seen: ",L)}})()},[]),h.jsxs(ce,{onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),className:`${_==="dark"?"hover:bg-slate-700 border-slate-700/50":"hover:bg-slate-100 border-slate-200"}  rounded-md border border-dashed  border-r-0 border-l-0  flex mb-2 gap-x-2 pt-2 pb-2   ${x?"flex-row-reverse":""} `,children:[h.jsx(VEe,{senderId:t.senderId}),h.jsx("div",{className:"grid gap-y-1 whitespace-pre-wrap ",children:h.jsxs("div",{className:`flex  items-start gap-x-1 ${x?"flex-row-reverse justify-start":""}`,children:[h.jsx("div",{className:"relative",children:h.jsxs("div",{className:`max-w-[300px] ${x?"justify-start":"fdbg-white  "} grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border-slate-200 p-3 `,children:[h.jsx(UEe,{senderId:t.senderId,isYourMessage:x}),(t==null?void 0:t.reply)&&h.jsx(zEe,{message:t,setViewingImage:o}),h.jsx(RV,{content:t.content,isYourMessage:x}),(t==null?void 0:t.image)&&h.jsx("img",{onClick:()=>{o(t.image)},className:`cursor-pointer border mt-1 mb-1 rounded-md ${_==="light"?"border-slate-200":"border-slate-700"} overflow-hidden w-[200px] min-h-[100px]`,alt:t.image.name,src:t.image.URL}),h.jsx(EEe,{chatId:l,message:t,setReactedUsers:m}),h.jsx("div",{className:`flex  ${x?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:h.jsxs("p",{className:`${_==="light"?"border-slate-200":"border-slate-700"} border shadow-md rounded-md mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${x?"text-right":""}`,children:[t!=null&&t.editedTime?h.jsxs("span",{children:["edited ",hC(ns(t.editedTime))]}):h.jsx("span",{children:hC(ns(t.timestamp))}),I?h.jsx(vt,{title:t.seenBy.length==1?"Seen by 1 user":"Seen by "+t.seenBy.length+" users",arrow:!0,children:h.jsx(Le,{size:"small",startIcon:h.jsx(jT,{}),onClick:()=>{f(t.seenBy)},className:"flex gap-x-1 items-center",children:(j=t==null?void 0:t.seenBy)==null?void 0:j.length})}):""]})})]})}),T&&h.jsx(vt,{title:"More options",arrow:!0,children:h.jsx(Ke,{onClick:()=>p({...t,options:[R,N,{text:"Reply",icon:h.jsx(c_e,{}),onClick:()=>a(t)}]}),children:h.jsx(mF,{})})})]})})]})},RV=({content:t,isYourMessage:e=!1})=>{const n=new Si;n.tlds("onion",!0),n.set({fuzzyLink:!0});const r=n.match(t),i=(s,o=30)=>s.length>o?s.slice(0,o)+"...":s;return r&&r.forEach(s=>{const o=s.url.startsWith("http")?s.url:`https://${s.url}`;t=t.replace(s.url,`<a href="${o}" style="text-decoration: underline; color: blue;" target="_blank" rel="noopener norefereer">${i(o)}<a>`)}),h.jsx("div",{className:"w-full max-w-full break-words  ",dangerouslySetInnerHTML:{__html:t}})},VEe=({senderId:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState(!0);dr(t,e,r,s);const[o,a]=y.useState("offline"),[l,c]=y.useState(null);return WI(t,a,c),i?h.jsx(me,{variant:"circular",height:40,width:40}):h.jsxs("div",{className:"size-10  relative",children:[h.jsx(Li,{name:n&&n.name,image:n&&n.image}),h.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:h.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]})},UEe=({senderId:t,isYourMessage:e})=>{const{users:n}=y.useContext(be),[r,i]=y.useState(null),[s,o]=y.useState(!0);return dr(t,n,i,o),s?h.jsx("div",{className:`-mt-3 ${e?"text-right":""}`,children:h.jsx(me,{height:40,width:120})}):h.jsx("p",{className:`font-bold mb-2 ${e?"text-right":""} `,children:r!=null&&r.name?r.name:"Unknown User"})},zEe=({message:t,setViewingImage:e})=>{const{users:n}=y.useContext(be),{senderId:r,content:i,image:s}=t.reply,[o,a]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(null);return dr(r,n,d,a),h.jsxs("div",{className:"mb-1 border-l-4 p-1 rounded-md border-l-green-500 ",children:[o?h.jsx(me,{width:120,height:40}):h.jsx("p",{className:"font-bold ",children:u==null?void 0:u.name}),i&&h.jsxs("p",{className:"w-full max-w-full break-words",children:[h.jsx(RV,{content:l?i:Ml(i,25)}),i.length>=25&&h.jsx("span",{onClick:()=>{c(!l)},className:"font-bold text-blue-400 cursor-pointer",children:l?" see less":" see more"})]}),s&&h.jsx("img",{onClick:()=>{e(s)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:s.name,src:s.URL})]})},BEe=({setIsRulesOpen:t,isRulesOpen:e,rules:n=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>h.jsx(Di,{open:e,onClose:()=>t(!1),children:n?h.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[h.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,i)=>h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:i+1}),h.jsx("p",{className:"flex-1",children:r})]},`${i}-${r}`))]}):h.jsx("div",{className:"p-2",children:"No rules"})}),WEe=({typingUsersRef:t,viewingOldMessages:e})=>{const{userId:n}=y.useContext(be),[r,i]=y.useState([]);if(y.useEffect(()=>{const o=fo(t,l=>{console.log("fetching typing users...");const c=l.docs.map(u=>({uid:u.id,...u.data()}));i(c)},l=>{console.log("Error fetching typing users: ",l.message)});return()=>{o&&o()}},[]),y.useEffect(()=>{!e&&r.length!==0&&Zf()},[r]),r.length>0)return h.jsx("div",{className:"",children:h.jsx("div",{className:"grid gap-y-1",children:r.sort((s,o)=>cs(s,o,"timestamp","older")).map(s=>{const o=n===s.uid;return h.jsxs("div",{className:`flex mb-2 gap-x-2 ${o?"flex-row-reverse":""} `,children:[h.jsx(HEe,{typingUser:s}),h.jsxs("div",{className:"grid gap-y-1 whitespace-pre-wrap",children:[h.jsx(GEe,{isYourMessage:o,typingUser:s}),h.jsx("div",{className:`flex items-start gap-x-1 ${o?"flex-row-reverse justify-start":""}`,children:h.jsxs("div",{children:[h.jsx(me,{height:40,width:150}),h.jsx(me,{sx:{mt:-1},height:30,width:100})]})})]})]},`typingUsers-${s.uid}`)})})})},HEe=({typingUser:t})=>{const{users:e}=y.useContext(be),[n,r]=y.useState(null),[i,s]=y.useState(!0);return dr(t.uid,e,r,s),h.jsxs("div",{className:"size-10 relative",children:[i?h.jsx(me,{width:40,height:40}):h.jsx(Li,{name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx("div",{className:"absolute bottom-0 right-0 size-3 rounded-full bg-green-500"})]})},GEe=({typingUser:t,isYourMessage:e})=>{const{users:n}=y.useContext(be),[r,i]=y.useState(null),[s,o]=y.useState(!0);return dr(t.uid,n,i,o),h.jsx(h.Fragment,{children:s?h.jsx(me,{height:40,width:120}):h.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})})},qEe=["January","February","March","April","May","June","July","August","September","October","November","December"],YEe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function AV(t){const e=new Date(t),n=new Date,r=e.getFullYear(),i=e.getMonth(),s=e.getDate(),o=YEe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${qEe[i]} ${s}, ${r}`}const KEe=({seenUsers:t,setSeenUsers:e})=>{y.useContext(be);const n=Tt(),{mode:r}=n.palette,i=()=>{const s=t.reduce((o,a)=>{const l=new Date(ns(a.timestamp)),c=l.getFullYear(),u=l.getMonth(),d=l.getDate(),f=`${c}-${u+1}-${d}`;return o[f]||(o[f]={date:f,users:[]}),o[f].users.push(a),o},{});return Object.values(s)};return h.jsx(Di,{fullWidth:!0,anchor:"bottom",open:!!t,onClose:()=>e(!1),children:h.jsxs(ce,{bgcolor:"background.default",className:` rounded-l-md rounded-r-md ${r==="light"?"bg-slate-200":"bg-slate-700"}`,children:[h.jsx("div",{className:"p-2 rounded-md pl-4 text-lg font-bold",children:"People who have seen"}),h.jsx("div",{className:"flex flex-col p-2",children:i().map(s=>{const o=new Date(s.date).getTime(),a=AV(o);return h.jsxs(ce,{children:[h.jsx(ce,{className:"mb-1",children:a}),s.users.sort((l,c)=>cs(l,c,"timestamp","older")).map((l,c)=>h.jsx(QEe,{seenPerson:l,mode:r},`seenUser-${l.uid}-${c}`))]},a+"seenUsers")})})]})})},QEe=({seenPerson:t,mode:e})=>{var a;const{users:n}=y.useContext(be),[r,i]=y.useState(null),[s,o]=y.useState(!0);return dr(t.uid,n,i,o),s?h.jsx("div",{className:"mb-1 w-[275px]",children:h.jsx(Em,{})}):h.jsxs("div",{className:`${e==="light"?"hover:bg-slate-200":"hover:bg-slate-700"} flex p-2 justify-between items-center w-full `,children:[h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(Li,{image:r==null?void 0:r.image,name:r==null?void 0:r.name,size:"size-9"}),h.jsx("p",{children:((a=r==null?void 0:r.name)==null?void 0:a.length)>20?Ml(r==null?void 0:r.name,20):r==null?void 0:r.name})]}),h.jsx("p",{className:"ml-[4px]",children:hC(t.timestamp)})]})},XEe=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:i}=y.useContext(be),s=Tt(),{mode:o}=s.palette,a=l=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[l];return h.jsx(Di,{fullWidth:!0,open:!!t,onClose:()=>r(null),children:h.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[h.jsx("div",{className:"p-2 rounded-md pl-4 text-lg font-bold",children:"Reactions"}),h.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((l,c)=>{const u=l.uid===i;return h.jsx(JEe,{mode:o,okToRemove:u,reactedPerson:l,getReactIcon:a,removeReaction:e,close:()=>r(null)},`reactedBy-${l.uid}-${c}`)})})]})})},JEe=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:i,mode:s})=>{const{users:o}=y.useContext(be),[a,l]=y.useState(null),[c,u]=y.useState(!0);return dr(e.uid,o,l,u),c?h.jsx(Em,{}):h.jsxs("div",{onClick:()=>{n&&(i(),r())},className:`flex p-2 justify-between items-center ${s==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} ${n?"cursor-pointer":""}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Li,{image:a==null?void 0:a.image,name:a==null?void 0:a.name,size:"size-9"}),h.jsxs("p",{className:"ml-[4px]",children:[a==null?void 0:a.name," ",n?"(Click to remove)":""]})]}),h.jsx("img",{className:"w-6 ",src:Xn(t(e.reactionType))})]})},R6=15,ZEe=()=>{const{userId:t,users:e}=y.useContext(be),{chatId:n}=Ip(),[r,i]=y.useState(null),[s,o]=y.useState(!1),a=Re(Pe,"chats",n),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,p]=y.useState(null);return y.useEffect(()=>{const m=()=>fo(a,w=>{c(!0),w.exists()?i({...w.data(),id:w.id}):d(!0),c(!1)},w=>{const _="Error fetching the current chat: "+w.message;console.log(_),p(_),c(!1)});(async()=>{try{const v=We(a,"members"),w=Vr(v,sy("uid","==",t),Jo(1));console.log("Checking if a member...");const _=await Nl(w);o(!_.empty)}catch(v){console.log(v.message)}})();const E=m();return()=>{E&&E()}},[n,s]),l?h.jsx(ui,{isLoading:l,text:"Loading chat..."}):u?h.jsx(Gt,{text:"No chat available"}):s?f?h.jsx(Gt,{text:f}):h.jsx(eCe,{chatId:n,currentChat:r}):h.jsx(Gt,{text:"You are not a member of this chat room"})},eCe=({chatId:t,currentChat:e})=>{const{userData:n,users:r,newMessages:i,userId:s,setHeaderTitle:o,openSnackbar:a}=y.useContext(be),[l,c]=y.useState(""),[u,d]=y.useState("chat"),[f,p]=y.useState(null),m=Re(Pe,"chats",t),g=We(m,"messages"),[E,v]=y.useState(null),[w,_]=y.useState(!1),[x,I]=y.useState(!1),[C,T]=y.useState(null),[b,k]=y.useState(null),[S,R]=y.useState(null),[N,M]=y.useState(!1),D=We(m,"typingUsers"),j=Re(D,s),[P,A]=y.useState(!1),[L,$]=y.useState(null),[F,q]=y.useState([]);y.useState([]);const[W,B]=y.useState([]),[U,V]=y.useState(),[H,ie]=y.useState(null),[K,te]=y.useState(!1),[pe,se]=y.useState([]),[oe,ye]=y.useState(null),[we,xe]=y.useState(null),[dt,Ue]=y.useState(null),[je,ht]=y.useState(0),Ge=Tt(),{mode:Se}=Ge.palette;y.useEffect(()=>{const _e=(()=>{const ke=rp(lp,"/status"),Pt=RO(ke,SO("status"),kO("online"));return xy(Pt,hr=>{ht(hr.size)})})();return()=>{_e&&_e()}},[]),y.useEffect(()=>{(async()=>{const _e=Re(Pe,"chats",e.id),ke=We(_e,"members");await Wo(ke,ye)})()},[e]),y.useEffect(()=>{o((e==null?void 0:e.name)||"SEA - Chat ")},[]),y.useEffect(()=>{let Y;return l.trim()?A(!0):A(!1),Y=setTimeout(()=>{A(!1)},3e3),()=>{clearTimeout(Y)}},[l]);const xt=async()=>{console.log("I am typing...");try{await Fd(j,{timestamp:Dr()})}catch(Y){console.error("Error adding user to typing collection: ",Y)}},ze=async()=>{console.log("I am not typing...");try{await gl(j)}catch(Y){console.error("Error removing user from typing collection: ",Y)}};y.useEffect(()=>(P?xt():ze(),()=>{ze()}),[P]);const Ie=Y=>{Y.docs.length>0&&(V(Y.docs[0]),ie(Y.docs[Y.docs.length-1]));const _e=Y.docs.map(ke=>({id:ke.id,...ke.data()})).sort((ke,Pt)=>cs(ke,Pt,"timestamp"));q(_e)},yt=()=>{if(K)return null;const Y=We(Re(Pe,"chats",t),"messages");let _e=Vr(Y,jd("timestamp","desc"),Jo(R6));const ke=fo(_e,Pt=>{console.log("Fetching messages..."),Ie(Pt)});return()=>ke()};y.useEffect(()=>{const Y=yt();return()=>{Y&&Y()}},[t,K]);const Lt=async Y=>{const _e=Y==="old"?"desc":"asc";if(!H)return;const ke=Vr(g,jd("timestamp",_e),oy(H),Jo(R6));console.log("Fetching messages...");const Pt=await Nl(ke);Ie(Pt)};dr(b==null?void 0:b.senderId,r,R,()=>{},[b]);const hn=async Y=>{const _e=new Date().getTime(),ke=`chats/${t}/${_e}-${n==null?void 0:n.name}-${Y==null?void 0:Y.name}`,Pt=za(ac,ke);_(!0),I(!0);try{const fn=await $n(Y,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),hr=await q0(Pt,fn),ga=await Y0(hr.ref),us={name:Y.name,path:ke,URL:ga,size:fn.size};v(us),_(!1),I(!1)}catch(fn){a(fn.message),_(!1),I(!1),console.log(fn.message)}},Me=async Y=>{const _e=za(ac,Y);await gE(_e),v(null)},Ee=async()=>{const Y=Re(We(Pe,"newMessages"),t);await Fd(Y,{seenBy:pE(s)})};y.useEffect(()=>{(async()=>{const _e=Re(We(Pe,"newMessages"),t);Oy(i,t)||await Nr(_e,{seenBy:pE(s)})})()},[F]);const at=async()=>{try{const Y={senderId:s,content:l.trim(),timestamp:Dr(),image:E||null,reply:b||null,seenBy:[]};I(!0),await vl(g,Y),Ee(),c(""),v(null),Zf(),I(!1),k(null),R(null),A(!1)}catch(Y){I(!0),a(Y.message),console.log(Y.message)}},qt=async()=>{try{const Y=Re(g,f.id),_e={senderId:s,content:l.trim(),editedTime:Dr(),image:E||null,reply:b||null};I(!0),await Nr(Y,_e),Ee(),qt&&c(""),v(null),p(null),I(!1),k(null),R(null)}catch(Y){console.log(Y.message)}},Wt=async(Y,_e)=>{const ke=Re(g,Y.id);await gl(ke),K&&Lt("old")};return y.useEffect(()=>{B((()=>{if(F.length>0){const _e=F.reduce((ke,Pt)=>{const fn=new Date(ns(Pt.timestamp)),hr=fn.getFullYear(),ga=fn.getMonth(),us=fn.getDate(),va=`${hr}-${ga+1}-${us}`;return ke[va]||(ke[va]={date:va,messages:[]}),ke[va].messages.push(Pt),ke},{});return Object.values(_e)}else return})())},[F]),u==="info"?h.jsx(_Ee,{setSubPage:d,currentChat:e,memberCounts:oe,setMemberCounts:ye,members:pe,setMembers:se,onlineUsers:je}):h.jsxs(ce,{color:"text.primary",className:"",children:[h.jsx(tCe,{}),dt&&h.jsx(XEe,{reactedBy:dt.reactedBy,removeReaction:dt.removeReaction,reactedUsers:dt,setReactedUsers:Ue}),we&&h.jsx(KF,{handleClick:()=>{xe(null)},messageOption:we,setMessageOption:xe,options:we.options,message:we,chatId:t,isComment:!1}),C&&h.jsx(CV,{image:C,setViewingImage:T}),N&&h.jsx(BEe,{isRulesOpen:N,setIsRulesOpen:M,rules:e==null?void 0:e.rules}),L&&h.jsx(KEe,{seenUsers:L,setSeenUsers:$}),h.jsx(SV,{pageName:"info",setSubPage:d,currentChat:e,memberCounts:oe,onlineUsers:je}),h.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsx(Le,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{Lt("old"),Zf(),te(!0)},children:"Older messages"})}),h.jsx(ce,{children:W==null?void 0:W.map((Y,_e)=>{const ke=new Date(Y.date).getTime(),Pt=AV(ke);return h.jsxs(ce,{children:[h.jsx(ce,{color:"success",className:`z-10 w-[40%] sticky top-[70px]  backdrop-blur-md  p-2 rounded-md ${Se==="light"?"bg-white/50":"bg-slate-700/70"}`,children:Pt}),Y.messages.map((fn,hr)=>h.jsx(FEe,{editMessage:qt,setEditMessageObject:p,deleteMessage:Wt,message:fn,setMessage:c,setImageObject:v,setViewingImage:T,setReplyMessage:k,chatId:t,messagesRef:g,groupIndex:_e,messageIndex:hr,viewingOldMessages:K,setSeenUsers:$,messages:F,setMessageOption:xe,setReactedUsers:Ue,index:hr},`${hr}-${fn.id}`))]},Y.date)})}),K?h.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[h.jsx(Le,{size:"small",sx:{textTransform:"capitalize"},onClick:async()=>{await Lt("new"),Yi()},children:"Newer messages"}),h.jsx(Le,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{yt(),te(!1),Zf()},children:"Latest messages"})]}):"",h.jsx(WEe,{typingUsersRef:D,viewingOldMessages:K})]}),h.jsxs(ce,{bgcolor:"background.default",className:`fixed ${Se==="light"?"border-t-slate-100":"border-t-slate-700"} z-30 bottom-0 border-t  shadow-t-md right-0 left-0 p-2 min-h-[80px] flex flex-col items-center`,children:[h.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:h.jsx(Le,{size:"small",sx:{textDecoration:"underline"},onClick:()=>M(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),f&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsx("p",{children:"Editing a message"}),h.jsx(Ke,{onClick:()=>{p(null),c(""),v(null),k(null),R(null)},children:h.jsx(Xd,{})})]}),b&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("p",{className:"font-bold",children:["Reply to ",S==null?void 0:S.name]}),h.jsx("p",{children:Ml(b==null?void 0:b.content,25)})]}),h.jsx(Ke,{onClick:()=>{k(null),R(null)},children:h.jsx(Xd,{})})]}),w&&h.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:h.jsx("p",{children:"Uploading image..."})}),E&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[h.jsx("img",{src:E.URL,className:"h-10 rounded-sm"}),h.jsx("p",{children:E.name})]}),h.jsx("button",{onClick:()=>{Me(E.path),v(null)},className:"rounded-full shadow-sm p-1",children:h.jsx("img",{className:"w-6",src:Xn("falseIcon")})})]}),h.jsxs(ce,{className:`border ${Se==="light"?"border-t-slate-100":"border-slate-700"} shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between `,children:[h.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:Y=>{hn(Y.target.files[0])},accept:"image/*"}),h.jsx(vt,{arrow:!0,title:"Upload an image",placement:"top",children:h.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:h.jsx(hF,{sx:{width:28}})})}),h.jsx(Kn,{sx:{"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},inputProps:{sx:{padding:"5px"}},value:l,onChange:Y=>c(Y.target.value),multiline:!0,maxRows:6,fullWidth:!0,placeholder:"Type a message..."}),h.jsx(vt,{title:"Send",arrow:!0,placement:"top",children:h.jsx(Ke,{disabled:x,sx:{color:Se==="light"&&"black"},onClick:()=>{!x&&(l.trim()||E)&&(f?qt():at())},children:h.jsx(u_e,{})})})]})]})]})},tCe=()=>{im("chat-page"),sm("chat-page")},nCe=()=>h.jsxs("div",{className:"m-3 grid gap-y-2",children:[h.jsx(IV,{}),h.jsx(TV,{}),h.jsx(Em,{}),h.jsx(vF,{})]}),rCe=({userId:t})=>(y.useEffect(()=>{if(t){const e=rp(lp,`/status/${t}`),n={status:"online",lastChanged:aA()},r={status:"offline",lastChanged:aA()},i=rp(lp,".info/connected");xy(i,s=>{s.val()===!0&&wie(e,n),_ie(e).set(r)})}},[t]),null),be=y.createContext();function iCe(){var se,oe,ye;const t=jE("sea-localStorage"),e=jde("(prefers-color-scheme : dark)"),[n,r]=y.useState(jE("sea-website-theme")||"dark"),[i,s]=y.useState(((se=t==null?void 0:t.timer)==null?void 0:se.seconds)||0),[o,a]=y.useState(((oe=t==null?void 0:t.timer)==null?void 0:oe.minutes)||0),[l,c]=y.useState(((ye=t==null?void 0:t.timer)==null?void 0:ye.hours)||0),[u,d]=y.useState(null),[f,p]=y.useState([]),[m,g]=y.useState(null),[E,v]=y.useState(null),[w,_]=y.useState(null),[x,I]=y.useState(!1),[C,T]=y.useState(""),[b,k]=y.useState(!1),[S,R]=y.useState([]),[N,M]=y.useState([]),[D,j]=y.useState([]),[P,A]=y.useState(null),[L,$]=y.useState([]),[F,q]=y.useState(!1),[W,B]=y.useState(""),U=we=>{q(!0),B(we)};y.useEffect(()=>{x$("sea-website-theme",n)},[n]);const V=we=>({palette:{mode:we,...we==="dark"?{primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#121212",paper:"#1d1d1d"},text:{primary:"#ffffff"}}:{primary:{main:"#1976d2"},secondary:{main:"#ff4081"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#000000"}},components:{MuiAppBar:{styleOverrides:{...we==="light"&&{backgroundColor:"#ffffff",color:"#000000"}}}}}}),H=y.useMemo(()=>dT(V(n==="system"?e?"dark":"light":n)));au(We(Pe,"newMessages"),[],j,()=>{},()=>{});const ie=()=>{},K=()=>{s(0),a(0),c(0)},te=()=>{K()},pe=`${l}:${mA(o)}:${mA(i)}`;return y.useEffect(()=>{const we=setInterval(()=>{i<59?s(i+1):(s(0),a(o+1)),o===59&&(a(0),c(l+1))},1e3);return()=>{clearInterval(we)}},[i]),h.jsx(be.Provider,{value:{myChats:L,setMyChats:$,stopTest:te,seaLocalStorage:t,formattedTime:pe,startTimer:K,seconds:i,minutes:o,hours:l,inspecting:x,userData:u,setUserData:d,users:f,setUsers:p,headerTitle:C,setHeaderTitle:T,refreshUserData:ie,isOnline:b,setIsOnline:k,userId:m,setUserId:g,setInspecting:I,posts:S,setPosts:R,tests:N,setTests:M,history,chats:P,setChats:A,newMessages:D,notiCount:w,setNotiCount:_,historyCount:E,setHistoryCount:v,snackbarOpen:F,setSnackbarOpen:q,snackbarMessage:W,setSnackbarMessage:B,openSnackbar:U,setMode:r,mode:n},children:h.jsxs(Lfe,{theme:H,children:[h.jsx(m2e,{}),h.jsxs(ce,{bgcolor:"background.default",className:" App font-padauk flex flex-col items-center min-h-screen ",children:[h.jsx(uye,{bgcolor:"background.default",open:F,onClose:()=>q(!1),autoHideDuration:4e3,message:W}),h.jsxs(sW,{children:[h.jsx(rCe,{userId:m}),h.jsx(H3e,{}),C!=="Chat"&&h.jsx(__e,{}),h.jsx(E_e,{}),h.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:h.jsxs(JB,{children:[h.jsx(An,{exact:!0,path:"/test",element:h.jsx(nCe,{})}),h.jsx(An,{exact:!0,path:"/login",element:h.jsx(I_e,{})}),m&&h.jsxs(h.Fragment,{children:[h.jsx(An,{exact:!0,path:"/app",element:h.jsx(nEe,{})}),h.jsx(An,{exact:!0,path:"/app/tests",element:h.jsx(rEe,{})}),h.jsx(An,{exact:!0,path:"/app/tests/:testId",element:h.jsx(gEe,{})}),h.jsx(An,{exact:!0,path:"/app/history",element:h.jsx(HP,{})}),h.jsx(An,{exact:!0,path:"/app/history/:resultId",element:h.jsx(m_e,{})}),h.jsx(An,{exact:!0,path:"/app/help",element:h.jsx(G3e,{})}),h.jsx(An,{exact:!0,path:"/app/history/:resultId/reviews",element:h.jsx(w_e,{})}),h.jsx(An,{path:"/app/history",element:h.jsx(HP,{})}),h.jsx(An,{path:"/app/chatroom",element:h.jsx(z3e,{})}),h.jsx(An,{path:"/app/chatroom/:chatId",element:h.jsx(ZEe,{})}),h.jsx(An,{path:"/app/notifications",element:h.jsx(Axe,{})}),(u==null?void 0:u.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsx(An,{path:"/app/admin",element:h.jsx(C_e,{})}),h.jsx(An,{path:"/app/admin/tests",element:h.jsx(yxe,{})}),h.jsx(An,{path:"/app/admin/users",element:h.jsx(Exe,{})}),h.jsx(An,{path:"/app/admin/posts",element:h.jsx(Txe,{})})]}),h.jsx(An,{exact:!0,path:"/app/settings",element:h.jsx(cxe,{})})]}),h.jsx(An,{path:"*",element:h.jsx(gF,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&h.jsx(b_e,{})]})]})]})})}Cx.createRoot(document.getElementById("root")).render(h.jsx(h.Fragment,{children:h.jsx(iCe,{})}))});export default sCe();
