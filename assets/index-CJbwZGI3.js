function yM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function M4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ua(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var O4={exports:{}},s2={},D4={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),_M=Symbol.for("react.portal"),wM=Symbol.for("react.fragment"),xM=Symbol.for("react.strict_mode"),EM=Symbol.for("react.profiler"),IM=Symbol.for("react.provider"),bM=Symbol.for("react.context"),CM=Symbol.for("react.forward_ref"),TM=Symbol.for("react.suspense"),SM=Symbol.for("react.memo"),RM=Symbol.for("react.lazy"),LI=Symbol.iterator;function kM(t){return t===null||typeof t!="object"?null:(t=LI&&t[LI]||t["@@iterator"],typeof t=="function"?t:null)}var $4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j4=Object.assign,F4={};function Su(t,e,n){this.props=t,this.context=e,this.refs=F4,this.updater=n||$4}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V4(){}V4.prototype=Su.prototype;function Vw(t,e,n){this.props=t,this.context=e,this.refs=F4,this.updater=n||$4}var Uw=Vw.prototype=new V4;Uw.constructor=Vw;j4(Uw,Su.prototype);Uw.isPureReactComponent=!0;var MI=Array.isArray,U4=Object.prototype.hasOwnProperty,Bw={current:null},B4={key:!0,ref:!0,__self:!0,__source:!0};function z4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)U4.call(e,r)&&!B4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hf,type:t,key:s,ref:o,props:i,_owner:Bw.current}}function AM(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zw(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function PM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var OI=/\/+/g;function M1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PM(""+t.key):e.toString(36)}function Y0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hf:case _M:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+M1(o,0):r,MI(i)?(n="",t!=null&&(n=t.replace(OI,"$&/")+"/"),Y0(i,e,n,"",function(c){return c})):i!=null&&(zw(i)&&(i=AM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(OI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",MI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+M1(s,a);o+=Y0(s,e,n,l,i)}else if(l=kM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+M1(s,a++),o+=Y0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function o0(t,e,n){if(t==null)return t;var r=[],i=0;return Y0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function NM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},X0={transition:null},LM={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:X0,ReactCurrentOwner:Bw};Ke.Children={map:o0,forEach:function(t,e,n){o0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o0(t,function(){e++}),e},toArray:function(t){return o0(t,function(e){return e})||[]},only:function(t){if(!zw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=Su;Ke.Fragment=wM;Ke.Profiler=EM;Ke.PureComponent=Vw;Ke.StrictMode=xM;Ke.Suspense=TM;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LM;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)U4.call(e,l)&&!B4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hf,type:t.type,key:i,ref:s,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:bM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IM,_context:t},t.Consumer=t};Ke.createElement=z4;Ke.createFactory=function(t){var e=z4.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:CM,render:t}};Ke.isValidElement=zw;Ke.lazy=function(t){return{$$typeof:RM,_payload:{_status:-1,_result:t},_init:NM}};Ke.memo=function(t,e){return{$$typeof:SM,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=X0.transition;X0.transition={};try{t()}finally{X0.transition=e}};Ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ke.useCallback=function(t,e){return xr.current.useCallback(t,e)};Ke.useContext=function(t){return xr.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return xr.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return xr.current.useEffect(t,e)};Ke.useId=function(){return xr.current.useId()};Ke.useImperativeHandle=function(t,e,n){return xr.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return xr.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return xr.current.useReducer(t,e,n)};Ke.useRef=function(t){return xr.current.useRef(t)};Ke.useState=function(t){return xr.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return xr.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return xr.current.useTransition()};Ke.version="18.2.0";D4.exports=Ke;var v=D4.exports;const pr=M4(v),$p=yM({__proto__:null,default:pr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=v,OM=Symbol.for("react.element"),DM=Symbol.for("react.fragment"),$M=Object.prototype.hasOwnProperty,jM=MM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FM={key:!0,ref:!0,__self:!0,__source:!0};function W4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$M.call(e,r)&&!FM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OM,type:t,key:s,ref:o,props:i,_owner:jM.current}}s2.Fragment=DM;s2.jsx=W4;s2.jsxs=W4;O4.exports=s2;var f=O4.exports,sy={},H4={exports:{}},ei={},q4={exports:{}},G4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var F=O.length;O.push($);e:for(;0<F;){var q=F-1>>>1,W=O[q];if(0<i(W,$))O[q]=$,O[F]=W,F=q;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],F=O.pop();if(F!==$){O[0]=F;e:for(var q=0,W=O.length,z=W>>>1;q<z;){var B=2*(q+1)-1,V=O[B],G=B+1,ie=O[G];if(0>i(V,F))G<W&&0>i(ie,V)?(O[q]=ie,O[G]=F,q=G):(O[q]=V,O[B]=F,q=B);else if(G<W&&0>i(ie,F))O[q]=ie,O[G]=F,q=G;else break e}}return $}function i(O,$){var F=O.sortIndex-$.sortIndex;return F!==0?F:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function I(O){if(y=!1,_(O),!m)if(n(l)!==null)m=!0,P(S);else{var $=n(c);$!==null&&A(I,$.startTime-O)}}function S(O,$){m=!1,y&&(y=!1,g(b),b=-1),p=!0;var F=h;try{for(_($),d=n(l);d!==null&&(!(d.expirationTime>$)||O&&!k());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var W=q(d.expirationTime<=$);$=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_($)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var B=n(c);B!==null&&A(I,B.startTime-$),z=!1}return z}finally{d=null,h=F,p=!1}}var E=!1,C=null,b=-1,R=5,T=-1;function k(){return!(t.unstable_now()-T<R)}function N(){if(C!==null){var O=t.unstable_now();T=O;var $=!0;try{$=C(!0,O)}finally{$?M():(E=!1,C=null)}}else E=!1}var M;if(typeof w=="function")M=function(){w(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){x(N,0)};function P(O){C=O,E||(E=!0,M())}function A(O,$){b=x(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var F=h;h=$;try{return O()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=h;h=O;try{return $()}finally{h=F}},t.unstable_scheduleCallback=function(O,$,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,O={id:u++,callback:$,priorityLevel:O,startTime:F,expirationTime:W,sortIndex:-1},F>q?(O.sortIndex=F,e(c,O),n(l)===null&&O===n(c)&&(y?(g(b),b=-1):y=!0,A(I,F-q))):(O.sortIndex=W,e(l,O),m||p||(m=!0,P(S))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var $=h;return function(){var F=h;h=$;try{return O.apply(this,arguments)}finally{h=F}}}})(G4);q4.exports=G4;var VM=q4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K4=v,Xr=VM;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q4=new Set,fh={};function Pl(t,e){Xc(t,e),Xc(t+"Capture",e)}function Xc(t,e){for(fh[t]=e,t=0;t<e.length;t++)Q4.add(e[t])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=Object.prototype.hasOwnProperty,UM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DI={},$I={};function BM(t){return oy.call($I,t)?!0:oy.call(DI,t)?!1:UM.test(t)?$I[t]=!0:(DI[t]=!0,!1)}function zM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WM(t,e,n,r){if(e===null||typeof e>"u"||zM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Er(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qn[t]=new Er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qn[e]=new Er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qn[t]=new Er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qn[t]=new Er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qn[t]=new Er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qn[t]=new Er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qn[t]=new Er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qn[t]=new Er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qn[t]=new Er(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);qn[e]=new Er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Hw);qn[e]=new Er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Hw);qn[e]=new Er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qn[t]=new Er(t,1,!1,t.toLowerCase(),null,!1,!1)});qn.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qn[t]=new Er(t,1,!1,t.toLowerCase(),null,!0,!0)});function qw(t,e,n,r){var i=qn.hasOwnProperty(e)?qn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WM(e,n,i,r)&&(n=null),r||i===null?BM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ao=K4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a0=Symbol.for("react.element"),mc=Symbol.for("react.portal"),gc=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),ay=Symbol.for("react.profiler"),Y4=Symbol.for("react.provider"),X4=Symbol.for("react.context"),Kw=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),J4=Symbol.for("react.offscreen"),jI=Symbol.iterator;function Ju(t){return t===null||typeof t!="object"?null:(t=jI&&t[jI]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,O1;function Sd(t){if(O1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O1=e&&e[1]||""}return`
`+O1+t}var D1=!1;function $1(t,e){if(!t||D1)return"";D1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{D1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sd(t):""}function HM(t){switch(t.tag){case 5:return Sd(t.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return t=$1(t.type,!1),t;case 11:return t=$1(t.type.render,!1),t;case 1:return t=$1(t.type,!0),t;default:return""}}function uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gc:return"Fragment";case mc:return"Portal";case ay:return"Profiler";case Gw:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X4:return(t.displayName||"Context")+".Consumer";case Y4:return(t._context.displayName||"Context")+".Provider";case Kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qw:return e=t.displayName||null,e!==null?e:uy(t.type)||"Memo";case Eo:e=t._payload,t=t._init;try{return uy(t(e))}catch{}}return null}function qM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(e);case 8:return e===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GM(t){var e=Z4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function l0(t){t._valueTracker||(t._valueTracker=GM(t))}function eR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Z4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dy(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tR(t,e){e=e.checked,e!=null&&qw(t,"checked",e,!1)}function hy(t,e){tR(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fy(t,e.type,n):e.hasOwnProperty("defaultValue")&&fy(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fy(t,e,n){(e!=="number"||jp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rd=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Rd(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function nR(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function my(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var c0,iR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(c0=c0||document.createElement("div"),c0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=c0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ph(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KM=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(t){KM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ud[e]=Ud[t]})});function sR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ud.hasOwnProperty(t)&&Ud[t]?(""+e).trim():e+"px"}function oR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QM=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(t,e){if(e){if(QM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function vy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=null;function Yw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _y=null,Mc=null,Oc=null;function zI(t){if(t=mf(t)){if(typeof _y!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=u2(e),_y(t.stateNode,t.type,e))}}function aR(t){Mc?Oc?Oc.push(t):Oc=[t]:Mc=t}function lR(){if(Mc){var t=Mc,e=Oc;if(Oc=Mc=null,zI(t),e)for(t=0;t<e.length;t++)zI(e[t])}}function cR(t,e){return t(e)}function uR(){}var j1=!1;function dR(t,e,n){if(j1)return t(e,n);j1=!0;try{return cR(t,e,n)}finally{j1=!1,(Mc!==null||Oc!==null)&&(uR(),lR())}}function mh(t,e){var n=t.stateNode;if(n===null)return null;var r=u2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var wy=!1;if(Qs)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){wy=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{wy=!1}function YM(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,Fp=null,Vp=!1,xy=null,XM={onError:function(t){Bd=!0,Fp=t}};function JM(t,e,n,r,i,s,o,a,l){Bd=!1,Fp=null,YM.apply(XM,arguments)}function ZM(t,e,n,r,i,s,o,a,l){if(JM.apply(this,arguments),Bd){if(Bd){var c=Fp;Bd=!1,Fp=null}else throw Error(Q(198));Vp||(Vp=!0,xy=c)}}function Nl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WI(t){if(Nl(t)!==t)throw Error(Q(188))}function eO(t){var e=t.alternate;if(!e){if(e=Nl(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return WI(i),t;if(s===r)return WI(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function fR(t){return t=eO(t),t!==null?pR(t):null}function pR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pR(t);if(e!==null)return e;t=t.sibling}return null}var mR=Xr.unstable_scheduleCallback,HI=Xr.unstable_cancelCallback,tO=Xr.unstable_shouldYield,nO=Xr.unstable_requestPaint,nn=Xr.unstable_now,rO=Xr.unstable_getCurrentPriorityLevel,Xw=Xr.unstable_ImmediatePriority,gR=Xr.unstable_UserBlockingPriority,Up=Xr.unstable_NormalPriority,iO=Xr.unstable_LowPriority,vR=Xr.unstable_IdlePriority,o2=null,vs=null;function sO(t){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(o2,t,void 0,(t.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:lO,oO=Math.log,aO=Math.LN2;function lO(t){return t>>>=0,t===0?32:31-(oO(t)/aO|0)|0}var u0=64,d0=4194304;function kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=kd(a):(s&=o,s!==0&&(r=kd(s)))}else o=n&~i,o!==0?r=kd(o):s!==0&&(r=kd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vi(e),i=1<<n,r|=t[n],e&=~i;return r}function cO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ey(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yR(){var t=u0;return u0<<=1,!(u0&4194240)&&(u0=64),t}function F1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ff(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vi(e),t[e]=n}function dO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gt=0;function _R(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wR,Zw,xR,ER,IR,Iy=!1,h0=[],Fo=null,Vo=null,Uo=null,gh=new Map,vh=new Map,bo=[],hO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qI(t,e){switch(t){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":gh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function ed(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mf(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fO(t,e,n,r,i){switch(e){case"focusin":return Fo=ed(Fo,t,e,n,r,i),!0;case"dragenter":return Vo=ed(Vo,t,e,n,r,i),!0;case"mouseover":return Uo=ed(Uo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gh.set(s,ed(gh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vh.set(s,ed(vh.get(s)||null,t,e,n,r,i)),!0}return!1}function bR(t){var e=Ua(t.target);if(e!==null){var n=Nl(e);if(n!==null){if(e=n.tag,e===13){if(e=hR(n),e!==null){t.blockedOn=e,IR(t.priority,function(){xR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function J0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=by(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yy=r,n.target.dispatchEvent(r),yy=null}else return e=mf(n),e!==null&&Zw(e),t.blockedOn=n,!1;e.shift()}return!0}function GI(t,e,n){J0(t)&&n.delete(e)}function pO(){Iy=!1,Fo!==null&&J0(Fo)&&(Fo=null),Vo!==null&&J0(Vo)&&(Vo=null),Uo!==null&&J0(Uo)&&(Uo=null),gh.forEach(GI),vh.forEach(GI)}function td(t,e){t.blockedOn===e&&(t.blockedOn=null,Iy||(Iy=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,pO)))}function yh(t){function e(i){return td(i,t)}if(0<h0.length){td(h0[0],t);for(var n=1;n<h0.length;n++){var r=h0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fo!==null&&td(Fo,t),Vo!==null&&td(Vo,t),Uo!==null&&td(Uo,t),gh.forEach(e),vh.forEach(e),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)bR(n),n.blockedOn===null&&bo.shift()}var Dc=ao.ReactCurrentBatchConfig,zp=!0;function mO(t,e,n,r){var i=gt,s=Dc.transition;Dc.transition=null;try{gt=1,ex(t,e,n,r)}finally{gt=i,Dc.transition=s}}function gO(t,e,n,r){var i=gt,s=Dc.transition;Dc.transition=null;try{gt=4,ex(t,e,n,r)}finally{gt=i,Dc.transition=s}}function ex(t,e,n,r){if(zp){var i=by(t,e,n,r);if(i===null)Q1(t,e,r,Wp,n),qI(t,r);else if(fO(i,t,e,n,r))r.stopPropagation();else if(qI(t,r),e&4&&-1<hO.indexOf(t)){for(;i!==null;){var s=mf(i);if(s!==null&&wR(s),s=by(t,e,n,r),s===null&&Q1(t,e,r,Wp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Q1(t,e,r,null,n)}}var Wp=null;function by(t,e,n,r){if(Wp=null,t=Yw(r),t=Ua(t),t!==null)if(e=Nl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wp=t,null}function CR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rO()){case Xw:return 1;case gR:return 4;case Up:case iO:return 16;case vR:return 536870912;default:return 16}default:return 16}}var Lo=null,tx=null,Z0=null;function TR(){if(Z0)return Z0;var t,e=tx,n=e.length,r,i="value"in Lo?Lo.value:Lo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Z0=i.slice(t,1<r?1-r:void 0)}function ep(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function f0(){return!0}function KI(){return!1}function ti(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?f0:KI,this.isPropagationStopped=KI,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=f0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=f0)},persist:function(){},isPersistent:f0}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nx=ti(Ru),pf=Ht({},Ru,{view:0,detail:0}),vO=ti(pf),V1,U1,nd,a2=Ht({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nd&&(nd&&t.type==="mousemove"?(V1=t.screenX-nd.screenX,U1=t.screenY-nd.screenY):U1=V1=0,nd=t),V1)},movementY:function(t){return"movementY"in t?t.movementY:U1}}),QI=ti(a2),yO=Ht({},a2,{dataTransfer:0}),_O=ti(yO),wO=Ht({},pf,{relatedTarget:0}),B1=ti(wO),xO=Ht({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),EO=ti(xO),IO=Ht({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bO=ti(IO),CO=Ht({},Ru,{data:0}),YI=ti(CO),TO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RO[t])?!!e[t]:!1}function rx(){return kO}var AO=Ht({},pf,{key:function(t){if(t.key){var e=TO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ep(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rx,charCode:function(t){return t.type==="keypress"?ep(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ep(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PO=ti(AO),NO=Ht({},a2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XI=ti(NO),LO=Ht({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rx}),MO=ti(LO),OO=Ht({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),DO=ti(OO),$O=Ht({},a2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jO=ti($O),FO=[9,13,27,32],ix=Qs&&"CompositionEvent"in window,zd=null;Qs&&"documentMode"in document&&(zd=document.documentMode);var VO=Qs&&"TextEvent"in window&&!zd,SR=Qs&&(!ix||zd&&8<zd&&11>=zd),JI=" ",ZI=!1;function RR(t,e){switch(t){case"keyup":return FO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vc=!1;function UO(t,e){switch(t){case"compositionend":return kR(e);case"keypress":return e.which!==32?null:(ZI=!0,JI);case"textInput":return t=e.data,t===JI&&ZI?null:t;default:return null}}function BO(t,e){if(vc)return t==="compositionend"||!ix&&RR(t,e)?(t=TR(),Z0=tx=Lo=null,vc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SR&&e.locale!=="ko"?null:e.data;default:return null}}var zO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zO[t.type]:e==="textarea"}function AR(t,e,n,r){aR(r),e=Hp(e,"onChange"),0<e.length&&(n=new nx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wd=null,_h=null;function WO(t){UR(t,0)}function l2(t){var e=wc(t);if(eR(e))return t}function HO(t,e){if(t==="change")return e}var PR=!1;if(Qs){var z1;if(Qs){var W1="oninput"in document;if(!W1){var t5=document.createElement("div");t5.setAttribute("oninput","return;"),W1=typeof t5.oninput=="function"}z1=W1}else z1=!1;PR=z1&&(!document.documentMode||9<document.documentMode)}function n5(){Wd&&(Wd.detachEvent("onpropertychange",NR),_h=Wd=null)}function NR(t){if(t.propertyName==="value"&&l2(_h)){var e=[];AR(e,_h,t,Yw(t)),dR(WO,e)}}function qO(t,e,n){t==="focusin"?(n5(),Wd=e,_h=n,Wd.attachEvent("onpropertychange",NR)):t==="focusout"&&n5()}function GO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return l2(_h)}function KO(t,e){if(t==="click")return l2(e)}function QO(t,e){if(t==="input"||t==="change")return l2(e)}function YO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:YO;function wh(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oy.call(e,i)||!Gi(t[i],e[i]))return!1}return!0}function r5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i5(t,e){var n=r5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r5(n)}}function LR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MR(){for(var t=window,e=jp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jp(t.document)}return e}function sx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XO(t){var e=MR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LR(n.ownerDocument.documentElement,n)){if(r!==null&&sx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=i5(n,s);var o=i5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JO=Qs&&"documentMode"in document&&11>=document.documentMode,yc=null,Cy=null,Hd=null,Ty=!1;function s5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||yc==null||yc!==jp(r)||(r=yc,"selectionStart"in r&&sx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hd&&wh(Hd,r)||(Hd=r,r=Hp(Cy,"onSelect"),0<r.length&&(e=new nx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yc)))}function p0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _c={animationend:p0("Animation","AnimationEnd"),animationiteration:p0("Animation","AnimationIteration"),animationstart:p0("Animation","AnimationStart"),transitionend:p0("Transition","TransitionEnd")},H1={},OR={};Qs&&(OR=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function c2(t){if(H1[t])return H1[t];if(!_c[t])return t;var e=_c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OR)return H1[t]=e[n];return t}var DR=c2("animationend"),$R=c2("animationiteration"),jR=c2("animationstart"),FR=c2("transitionend"),VR=new Map,o5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(t,e){VR.set(t,e),Pl(e,[t])}for(var q1=0;q1<o5.length;q1++){var G1=o5[q1],ZO=G1.toLowerCase(),eD=G1[0].toUpperCase()+G1.slice(1);da(ZO,"on"+eD)}da(DR,"onAnimationEnd");da($R,"onAnimationIteration");da(jR,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(FR,"onTransitionEnd");Xc("onMouseEnter",["mouseout","mouseover"]);Xc("onMouseLeave",["mouseout","mouseover"]);Xc("onPointerEnter",["pointerout","pointerover"]);Xc("onPointerLeave",["pointerout","pointerover"]);Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function a5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZM(r,e,void 0,t),t.currentTarget=null}function UR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;a5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;a5(i,a,c),s=l}}}if(Vp)throw t=xy,Vp=!1,xy=null,t}function kt(t,e){var n=e[Py];n===void 0&&(n=e[Py]=new Set);var r=t+"__bubble";n.has(r)||(BR(e,t,2,!1),n.add(r))}function K1(t,e,n){var r=0;e&&(r|=4),BR(n,t,r,e)}var m0="_reactListening"+Math.random().toString(36).slice(2);function xh(t){if(!t[m0]){t[m0]=!0,Q4.forEach(function(n){n!=="selectionchange"&&(tD.has(n)||K1(n,!1,t),K1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[m0]||(e[m0]=!0,K1("selectionchange",!1,e))}}function BR(t,e,n,r){switch(CR(e)){case 1:var i=mO;break;case 4:i=gO;break;default:i=ex}n=i.bind(null,e,n,t),i=void 0,!wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Q1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dR(function(){var c=s,u=Yw(n),d=[];e:{var h=VR.get(t);if(h!==void 0){var p=nx,m=t;switch(t){case"keypress":if(ep(n)===0)break e;case"keydown":case"keyup":p=PO;break;case"focusin":m="focus",p=B1;break;case"focusout":m="blur",p=B1;break;case"beforeblur":case"afterblur":p=B1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=QI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MO;break;case DR:case $R:case jR:p=EO;break;case FR:p=DO;break;case"scroll":p=vO;break;case"wheel":p=jO;break;case"copy":case"cut":case"paste":p=bO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=XI}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,_;w!==null;){_=w;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,g!==null&&(I=mh(w,g),I!=null&&y.push(Eh(w,I,_)))),x)break;w=w.return}0<y.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==yy&&(m=n.relatedTarget||n.fromElement)&&(Ua(m)||m[Ys]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ua(m):null,m!==null&&(x=Nl(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=QI,I="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=XI,I="onPointerLeave",g="onPointerEnter",w="pointer"),x=p==null?h:wc(p),_=m==null?h:wc(m),h=new y(I,w+"leave",p,n,u),h.target=x,h.relatedTarget=_,I=null,Ua(u)===c&&(y=new y(g,w+"enter",m,n,u),y.target=_,y.relatedTarget=x,I=y),x=I,p&&m)t:{for(y=p,g=m,w=0,_=y;_;_=Yl(_))w++;for(_=0,I=g;I;I=Yl(I))_++;for(;0<w-_;)y=Yl(y),w--;for(;0<_-w;)g=Yl(g),_--;for(;w--;){if(y===g||g!==null&&y===g.alternate)break t;y=Yl(y),g=Yl(g)}y=null}else y=null;p!==null&&l5(d,h,p,y,!1),m!==null&&x!==null&&l5(d,x,m,y,!0)}}e:{if(h=c?wc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=HO;else if(e5(h))if(PR)S=QO;else{S=GO;var E=qO}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=KO);if(S&&(S=S(t,c))){AR(d,S,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&fy(h,"number",h.value)}switch(E=c?wc(c):window,t){case"focusin":(e5(E)||E.contentEditable==="true")&&(yc=E,Cy=c,Hd=null);break;case"focusout":Hd=Cy=yc=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,s5(d,n,u);break;case"selectionchange":if(JO)break;case"keydown":case"keyup":s5(d,n,u)}var C;if(ix)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else vc?RR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(SR&&n.locale!=="ko"&&(vc||b!=="onCompositionStart"?b==="onCompositionEnd"&&vc&&(C=TR()):(Lo=u,tx="value"in Lo?Lo.value:Lo.textContent,vc=!0)),E=Hp(c,b),0<E.length&&(b=new YI(b,t,null,n,u),d.push({event:b,listeners:E}),C?b.data=C:(C=kR(n),C!==null&&(b.data=C)))),(C=VO?UO(t,n):BO(t,n))&&(c=Hp(c,"onBeforeInput"),0<c.length&&(u=new YI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}UR(d,e)})}function Eh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mh(t,n),s!=null&&r.unshift(Eh(t,s,i)),s=mh(t,e),s!=null&&r.push(Eh(t,s,i))),t=t.return}return r}function Yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=mh(n,s),l!=null&&o.unshift(Eh(n,l,a))):i||(l=mh(n,s),l!=null&&o.push(Eh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nD=/\r\n?/g,rD=/\u0000|\uFFFD/g;function c5(t){return(typeof t=="string"?t:""+t).replace(nD,`
`).replace(rD,"")}function g0(t,e,n){if(e=c5(e),c5(t)!==e&&n)throw Error(Q(425))}function qp(){}var Sy=null,Ry=null;function ky(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ay=typeof setTimeout=="function"?setTimeout:void 0,iD=typeof clearTimeout=="function"?clearTimeout:void 0,u5=typeof Promise=="function"?Promise:void 0,sD=typeof queueMicrotask=="function"?queueMicrotask:typeof u5<"u"?function(t){return u5.resolve(null).then(t).catch(oD)}:Ay;function oD(t){setTimeout(function(){throw t})}function Y1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yh(e)}function Bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ku=Math.random().toString(36).slice(2),os="__reactFiber$"+ku,Ih="__reactProps$"+ku,Ys="__reactContainer$"+ku,Py="__reactEvents$"+ku,aD="__reactListeners$"+ku,lD="__reactHandles$"+ku;function Ua(t){var e=t[os];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[os]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d5(t);t!==null;){if(n=t[os])return n;t=d5(t)}return e}t=n,n=t.parentNode}return null}function mf(t){return t=t[os]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function u2(t){return t[Ih]||null}var Ny=[],xc=-1;function ha(t){return{current:t}}function Mt(t){0>xc||(t.current=Ny[xc],Ny[xc]=null,xc--)}function Rt(t,e){xc++,Ny[xc]=t.current,t.current=e}var ta={},ur=ha(ta),Nr=ha(!1),ll=ta;function Jc(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(t){return t=t.childContextTypes,t!=null}function Gp(){Mt(Nr),Mt(ur)}function h5(t,e,n){if(ur.current!==ta)throw Error(Q(168));Rt(ur,e),Rt(Nr,n)}function zR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,qM(t)||"Unknown",i));return Ht({},n,r)}function Kp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,ll=ur.current,Rt(ur,t),Rt(Nr,Nr.current),!0}function f5(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=zR(t,e,ll),r.__reactInternalMemoizedMergedChildContext=t,Mt(Nr),Mt(ur),Rt(ur,t)):Mt(Nr),Rt(Nr,n)}var Ls=null,d2=!1,X1=!1;function WR(t){Ls===null?Ls=[t]:Ls.push(t)}function cD(t){d2=!0,WR(t)}function fa(){if(!X1&&Ls!==null){X1=!0;var t=0,e=gt;try{var n=Ls;for(gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ls=null,d2=!1}catch(i){throw Ls!==null&&(Ls=Ls.slice(t+1)),mR(Xw,fa),i}finally{gt=e,X1=!1}}return null}var Ec=[],Ic=0,Qp=null,Yp=0,li=[],ci=0,cl=null,$s=1,js="";function ka(t,e){Ec[Ic++]=Yp,Ec[Ic++]=Qp,Qp=t,Yp=e}function HR(t,e,n){li[ci++]=$s,li[ci++]=js,li[ci++]=cl,cl=t;var r=$s;t=js;var i=32-Vi(r)-1;r&=~(1<<i),n+=1;var s=32-Vi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$s=1<<32-Vi(e)+i|n<<i|r,js=s+t}else $s=1<<s|n<<i|r,js=t}function ox(t){t.return!==null&&(ka(t,1),HR(t,1,0))}function ax(t){for(;t===Qp;)Qp=Ec[--Ic],Ec[Ic]=null,Yp=Ec[--Ic],Ec[Ic]=null;for(;t===cl;)cl=li[--ci],li[ci]=null,js=li[--ci],li[ci]=null,$s=li[--ci],li[ci]=null}var qr=null,zr=null,$t=!1,$i=null;function qR(t,e){var n=fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qr=t,zr=Bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cl!==null?{id:$s,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qr=t,zr=null,!0):!1;default:return!1}}function Ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function My(t){if($t){var e=zr;if(e){var n=e;if(!p5(t,e)){if(Ly(t))throw Error(Q(418));e=Bo(n.nextSibling);var r=qr;e&&p5(t,e)?qR(r,n):(t.flags=t.flags&-4097|2,$t=!1,qr=t)}}else{if(Ly(t))throw Error(Q(418));t.flags=t.flags&-4097|2,$t=!1,qr=t}}}function m5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qr=t}function v0(t){if(t!==qr)return!1;if(!$t)return m5(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ky(t.type,t.memoizedProps)),e&&(e=zr)){if(Ly(t))throw GR(),Error(Q(418));for(;e;)qR(t,e),e=Bo(e.nextSibling)}if(m5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zr=Bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=qr?Bo(t.stateNode.nextSibling):null;return!0}function GR(){for(var t=zr;t;)t=Bo(t.nextSibling)}function Zc(){zr=qr=null,$t=!1}function lx(t){$i===null?$i=[t]:$i.push(t)}var uD=ao.ReactCurrentBatchConfig;function Oi(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xp=ha(null),Jp=null,bc=null,cx=null;function ux(){cx=bc=Jp=null}function dx(t){var e=Xp.current;Mt(Xp),t._currentValue=e}function Oy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $c(t,e){Jp=t,cx=bc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kr=!0),t.firstContext=null)}function Ei(t){var e=t._currentValue;if(cx!==t)if(t={context:t,memoizedValue:e,next:null},bc===null){if(Jp===null)throw Error(Q(308));bc=t,Jp.dependencies={lanes:0,firstContext:t}}else bc=bc.next=t;return e}var Ba=null;function hx(t){Ba===null?Ba=[t]:Ba.push(t)}function KR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xs(t,r)}function Xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Io=!1;function fx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xs(t,n)}return i=r.interleaved,i===null?(e.next=e,hx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xs(t,n)}function tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jw(t,n)}}function g5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zp(t,e,n,r){var i=t.updateQueue;Io=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Ht({},d,h);break e;case 2:Io=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dl|=o,t.lanes=o,t.memoizedState=d}}function v5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var YR=new K4.Component().refs;function Dy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var h2={isMounted:function(t){return(t=t._reactInternals)?Nl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gr(),i=Ho(t),s=Hs(r,i);s.payload=e,n!=null&&(s.callback=n),e=zo(t,s,i),e!==null&&(Ui(e,t,i,r),tp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gr(),i=Ho(t),s=Hs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zo(t,s,i),e!==null&&(Ui(e,t,i,r),tp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gr(),r=Ho(t),i=Hs(n,r);i.tag=2,e!=null&&(i.callback=e),e=zo(t,i,r),e!==null&&(Ui(e,t,r,n),tp(e,t,r))}};function y5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(i,s):!0}function XR(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=Ei(s):(i=Lr(e)?ll:ur.current,r=e.contextTypes,s=(r=r!=null)?Jc(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=h2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&h2.enqueueReplaceState(e,e.state,null)}function $y(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=YR,fx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ei(s):(s=Lr(e)?ll:ur.current,i.context=Jc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Dy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&h2.enqueueReplaceState(i,i.state,null),Zp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===YR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function y0(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w5(t){var e=t._init;return e(t._payload)}function JR(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=qo(g,w),g.index=0,g.sibling=null,g}function s(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,_,I){return w===null||w.tag!==6?(w=iv(_,g.mode,I),w.return=g,w):(w=i(w,_),w.return=g,w)}function l(g,w,_,I){var S=_.type;return S===gc?u(g,w,_.props.children,I,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Eo&&w5(S)===w.type)?(I=i(w,_.props),I.ref=rd(g,w,_),I.return=g,I):(I=ap(_.type,_.key,_.props,null,g.mode,I),I.ref=rd(g,w,_),I.return=g,I)}function c(g,w,_,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=sv(_,g.mode,I),w.return=g,w):(w=i(w,_.children||[]),w.return=g,w)}function u(g,w,_,I,S){return w===null||w.tag!==7?(w=Za(_,g.mode,I,S),w.return=g,w):(w=i(w,_),w.return=g,w)}function d(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=iv(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case a0:return _=ap(w.type,w.key,w.props,null,g.mode,_),_.ref=rd(g,null,w),_.return=g,_;case mc:return w=sv(w,g.mode,_),w.return=g,w;case Eo:var I=w._init;return d(g,I(w._payload),_)}if(Rd(w)||Ju(w))return w=Za(w,g.mode,_,null),w.return=g,w;y0(g,w)}return null}function h(g,w,_,I){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(g,w,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case a0:return _.key===S?l(g,w,_,I):null;case mc:return _.key===S?c(g,w,_,I):null;case Eo:return S=_._init,h(g,w,S(_._payload),I)}if(Rd(_)||Ju(_))return S!==null?null:u(g,w,_,I,null);y0(g,_)}return null}function p(g,w,_,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return g=g.get(_)||null,a(w,g,""+I,S);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case a0:return g=g.get(I.key===null?_:I.key)||null,l(w,g,I,S);case mc:return g=g.get(I.key===null?_:I.key)||null,c(w,g,I,S);case Eo:var E=I._init;return p(g,w,_,E(I._payload),S)}if(Rd(I)||Ju(I))return g=g.get(_)||null,u(w,g,I,S,null);y0(w,I)}return null}function m(g,w,_,I){for(var S=null,E=null,C=w,b=w=0,R=null;C!==null&&b<_.length;b++){C.index>b?(R=C,C=null):R=C.sibling;var T=h(g,C,_[b],I);if(T===null){C===null&&(C=R);break}t&&C&&T.alternate===null&&e(g,C),w=s(T,w,b),E===null?S=T:E.sibling=T,E=T,C=R}if(b===_.length)return n(g,C),$t&&ka(g,b),S;if(C===null){for(;b<_.length;b++)C=d(g,_[b],I),C!==null&&(w=s(C,w,b),E===null?S=C:E.sibling=C,E=C);return $t&&ka(g,b),S}for(C=r(g,C);b<_.length;b++)R=p(C,g,b,_[b],I),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?b:R.key),w=s(R,w,b),E===null?S=R:E.sibling=R,E=R);return t&&C.forEach(function(k){return e(g,k)}),$t&&ka(g,b),S}function y(g,w,_,I){var S=Ju(_);if(typeof S!="function")throw Error(Q(150));if(_=S.call(_),_==null)throw Error(Q(151));for(var E=S=null,C=w,b=w=0,R=null,T=_.next();C!==null&&!T.done;b++,T=_.next()){C.index>b?(R=C,C=null):R=C.sibling;var k=h(g,C,T.value,I);if(k===null){C===null&&(C=R);break}t&&C&&k.alternate===null&&e(g,C),w=s(k,w,b),E===null?S=k:E.sibling=k,E=k,C=R}if(T.done)return n(g,C),$t&&ka(g,b),S;if(C===null){for(;!T.done;b++,T=_.next())T=d(g,T.value,I),T!==null&&(w=s(T,w,b),E===null?S=T:E.sibling=T,E=T);return $t&&ka(g,b),S}for(C=r(g,C);!T.done;b++,T=_.next())T=p(C,g,b,T.value,I),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?b:T.key),w=s(T,w,b),E===null?S=T:E.sibling=T,E=T);return t&&C.forEach(function(N){return e(g,N)}),$t&&ka(g,b),S}function x(g,w,_,I){if(typeof _=="object"&&_!==null&&_.type===gc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case a0:e:{for(var S=_.key,E=w;E!==null;){if(E.key===S){if(S=_.type,S===gc){if(E.tag===7){n(g,E.sibling),w=i(E,_.props.children),w.return=g,g=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Eo&&w5(S)===E.type){n(g,E.sibling),w=i(E,_.props),w.ref=rd(g,E,_),w.return=g,g=w;break e}n(g,E);break}else e(g,E);E=E.sibling}_.type===gc?(w=Za(_.props.children,g.mode,I,_.key),w.return=g,g=w):(I=ap(_.type,_.key,_.props,null,g.mode,I),I.ref=rd(g,w,_),I.return=g,g=I)}return o(g);case mc:e:{for(E=_.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=i(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=sv(_,g.mode,I),w.return=g,g=w}return o(g);case Eo:return E=_._init,x(g,w,E(_._payload),I)}if(Rd(_))return m(g,w,_,I);if(Ju(_))return y(g,w,_,I);y0(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,_),w.return=g,g=w):(n(g,w),w=iv(_,g.mode,I),w.return=g,g=w),o(g)):n(g,w)}return x}var eu=JR(!0),ZR=JR(!1),gf={},ys=ha(gf),bh=ha(gf),Ch=ha(gf);function za(t){if(t===gf)throw Error(Q(174));return t}function px(t,e){switch(Rt(Ch,e),Rt(bh,t),Rt(ys,gf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:my(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=my(e,t)}Mt(ys),Rt(ys,e)}function tu(){Mt(ys),Mt(bh),Mt(Ch)}function ek(t){za(Ch.current);var e=za(ys.current),n=my(e,t.type);e!==n&&(Rt(bh,t),Rt(ys,n))}function mx(t){bh.current===t&&(Mt(ys),Mt(bh))}var Ut=ha(0);function em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J1=[];function gx(){for(var t=0;t<J1.length;t++)J1[t]._workInProgressVersionPrimary=null;J1.length=0}var np=ao.ReactCurrentDispatcher,Z1=ao.ReactCurrentBatchConfig,ul=0,zt=null,vn=null,In=null,tm=!1,qd=!1,Th=0,dD=0;function Qn(){throw Error(Q(321))}function vx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gi(t[n],e[n]))return!1;return!0}function yx(t,e,n,r,i,s){if(ul=s,zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,np.current=t===null||t.memoizedState===null?mD:gD,t=n(r,i),qd){s=0;do{if(qd=!1,Th=0,25<=s)throw Error(Q(301));s+=1,In=vn=null,e.updateQueue=null,np.current=vD,t=n(r,i)}while(qd)}if(np.current=nm,e=vn!==null&&vn.next!==null,ul=0,In=vn=zt=null,tm=!1,e)throw Error(Q(300));return t}function _x(){var t=Th!==0;return Th=0,t}function ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?zt.memoizedState=In=t:In=In.next=t,In}function Ii(){if(vn===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=In===null?zt.memoizedState:In.next;if(e!==null)In=e,vn=t;else{if(t===null)throw Error(Q(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},In===null?zt.memoizedState=In=t:In=In.next=t}return In}function Sh(t,e){return typeof e=="function"?e(t):e}function ev(t){var e=Ii(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=vn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ul&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,zt.lanes|=u,dl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Gi(r,e.memoizedState)||(kr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,zt.lanes|=s,dl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tv(t){var e=Ii(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gi(s,e.memoizedState)||(kr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tk(){}function nk(t,e){var n=zt,r=Ii(),i=e(),s=!Gi(r.memoizedState,i);if(s&&(r.memoizedState=i,kr=!0),r=r.queue,wx(sk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,Rh(9,ik.bind(null,n,r,i,e),void 0,null),Sn===null)throw Error(Q(349));ul&30||rk(n,e,i)}return i}function rk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ik(t,e,n,r){e.value=n,e.getSnapshot=r,ok(e)&&ak(t)}function sk(t,e,n){return n(function(){ok(e)&&ak(t)})}function ok(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gi(t,n)}catch{return!0}}function ak(t){var e=Xs(t,1);e!==null&&Ui(e,t,1,-1)}function x5(t){var e=ts();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:t},e.queue=t,t=t.dispatch=pD.bind(null,zt,t),[e.memoizedState,t]}function Rh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lk(){return Ii().memoizedState}function rp(t,e,n,r){var i=ts();zt.flags|=t,i.memoizedState=Rh(1|e,n,void 0,r===void 0?null:r)}function f2(t,e,n,r){var i=Ii();r=r===void 0?null:r;var s=void 0;if(vn!==null){var o=vn.memoizedState;if(s=o.destroy,r!==null&&vx(r,o.deps)){i.memoizedState=Rh(e,n,s,r);return}}zt.flags|=t,i.memoizedState=Rh(1|e,n,s,r)}function E5(t,e){return rp(8390656,8,t,e)}function wx(t,e){return f2(2048,8,t,e)}function ck(t,e){return f2(4,2,t,e)}function uk(t,e){return f2(4,4,t,e)}function dk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hk(t,e,n){return n=n!=null?n.concat([t]):null,f2(4,4,dk.bind(null,e,t),n)}function xx(){}function fk(t,e){var n=Ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pk(t,e){var n=Ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mk(t,e,n){return ul&21?(Gi(n,e)||(n=yR(),zt.lanes|=n,dl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kr=!0),t.memoizedState=n)}function hD(t,e){var n=gt;gt=n!==0&&4>n?n:4,t(!0);var r=Z1.transition;Z1.transition={};try{t(!1),e()}finally{gt=n,Z1.transition=r}}function gk(){return Ii().memoizedState}function fD(t,e,n){var r=Ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vk(t))yk(e,n);else if(n=KR(t,e,n,r),n!==null){var i=gr();Ui(n,t,r,i),_k(n,e,r)}}function pD(t,e,n){var r=Ho(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vk(t))yk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gi(a,o)){var l=e.interleaved;l===null?(i.next=i,hx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KR(t,e,i,r),n!==null&&(i=gr(),Ui(n,t,r,i),_k(n,e,r))}}function vk(t){var e=t.alternate;return t===zt||e!==null&&e===zt}function yk(t,e){qd=tm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _k(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jw(t,n)}}var nm={readContext:Ei,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},mD={readContext:Ei,useCallback:function(t,e){return ts().memoizedState=[t,e===void 0?null:e],t},useContext:Ei,useEffect:E5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rp(4194308,4,dk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rp(4194308,4,t,e)},useInsertionEffect:function(t,e){return rp(4,2,t,e)},useMemo:function(t,e){var n=ts();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ts();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fD.bind(null,zt,t),[r.memoizedState,t]},useRef:function(t){var e=ts();return t={current:t},e.memoizedState=t},useState:x5,useDebugValue:xx,useDeferredValue:function(t){return ts().memoizedState=t},useTransition:function(){var t=x5(!1),e=t[0];return t=hD.bind(null,t[1]),ts().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zt,i=ts();if($t){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Sn===null)throw Error(Q(349));ul&30||rk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,E5(sk.bind(null,r,s,t),[t]),r.flags|=2048,Rh(9,ik.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ts(),e=Sn.identifierPrefix;if($t){var n=js,r=$s;n=(r&~(1<<32-Vi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Th++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gD={readContext:Ei,useCallback:fk,useContext:Ei,useEffect:wx,useImperativeHandle:hk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:pk,useReducer:ev,useRef:lk,useState:function(){return ev(Sh)},useDebugValue:xx,useDeferredValue:function(t){var e=Ii();return mk(e,vn.memoizedState,t)},useTransition:function(){var t=ev(Sh)[0],e=Ii().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1},vD={readContext:Ei,useCallback:fk,useContext:Ei,useEffect:wx,useImperativeHandle:hk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:pk,useReducer:tv,useRef:lk,useState:function(){return tv(Sh)},useDebugValue:xx,useDeferredValue:function(t){var e=Ii();return vn===null?e.memoizedState=t:mk(e,vn.memoizedState,t)},useTransition:function(){var t=tv(Sh)[0],e=Ii().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1};function nu(t,e){try{var n="",r=e;do n+=HM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function nv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yD=typeof WeakMap=="function"?WeakMap:Map;function wk(t,e,n){n=Hs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){im||(im=!0,Ky=r),jy(t,e)},n}function xk(t,e,n){n=Hs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ND.bind(null,t,e,n),e.then(t,t))}function b5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hs(-1,1),e.tag=2,zo(n,e,1))),n.lanes|=1),t)}var _D=ao.ReactCurrentOwner,kr=!1;function hr(t,e,n,r){e.child=t===null?ZR(e,null,n,r):eu(e,t.child,n,r)}function T5(t,e,n,r,i){n=n.render;var s=e.ref;return $c(e,i),r=yx(t,e,n,r,s,i),n=_x(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):($t&&n&&ox(e),e.flags|=1,hr(t,e,r,i),e.child)}function S5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ek(t,e,s,r,i)):(t=ap(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(o,r)&&t.ref===e.ref)return Js(t,e,i)}return e.flags|=1,t=qo(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ek(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wh(s,r)&&t.ref===e.ref)if(kr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kr=!0);else return e.lanes=t.lanes,Js(t,e,i)}return Fy(t,e,n,r,i)}function Ik(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Tc,Ur),Ur|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(Tc,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(Tc,Ur),Ur|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(Tc,Ur),Ur|=r;return hr(t,e,i,n),e.child}function bk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fy(t,e,n,r,i){var s=Lr(n)?ll:ur.current;return s=Jc(e,s),$c(e,i),n=yx(t,e,n,r,s,i),r=_x(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):($t&&r&&ox(e),e.flags|=1,hr(t,e,n,i),e.child)}function R5(t,e,n,r,i){if(Lr(n)){var s=!0;Kp(e)}else s=!1;if($c(e,i),e.stateNode===null)ip(t,e),XR(e,n,r),$y(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ei(c):(c=Lr(n)?ll:ur.current,c=Jc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_5(e,o,r,c),Io=!1;var h=e.memoizedState;o.state=h,Zp(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Nr.current||Io?(typeof u=="function"&&(Dy(e,n,u,r),l=e.memoizedState),(a=Io||y5(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Oi(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ei(l):(l=Lr(n)?ll:ur.current,l=Jc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_5(e,o,r,l),Io=!1,h=e.memoizedState,o.state=h,Zp(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Nr.current||Io?(typeof p=="function"&&(Dy(e,n,p,r),m=e.memoizedState),(c=Io||y5(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vy(t,e,n,r,s,i)}function Vy(t,e,n,r,i,s){bk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&f5(e,n,!1),Js(t,e,s);r=e.stateNode,_D.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=eu(e,t.child,null,s),e.child=eu(e,null,a,s)):hr(t,e,a,s),e.memoizedState=r.state,i&&f5(e,n,!0),e.child}function Ck(t){var e=t.stateNode;e.pendingContext?h5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h5(t,e.context,!1),px(t,e.containerInfo)}function k5(t,e,n,r,i){return Zc(),lx(i),e.flags|=256,hr(t,e,n,r),e.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function By(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tk(t,e,n){var r=e.pendingProps,i=Ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Ut,i&1),t===null)return My(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=g2(o,r,0,null),t=Za(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=By(n),e.memoizedState=Uy,t):Ex(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qo(a,s):(s=Za(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?By(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Uy,r}return s=t.child,t=s.sibling,r=qo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ex(t,e){return e=g2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _0(t,e,n,r){return r!==null&&lx(r),eu(e,t.child,null,n),t=Ex(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=nv(Error(Q(422))),_0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=g2({mode:"visible",children:r.children},i,0,null),s=Za(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&eu(e,t.child,null,o),e.child.memoizedState=By(o),e.memoizedState=Uy,s);if(!(e.mode&1))return _0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=nv(s,r,void 0),_0(t,e,o,r)}if(a=(o&t.childLanes)!==0,kr||a){if(r=Sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xs(t,i),Ui(r,t,i,-1))}return Rx(),r=nv(Error(Q(421))),_0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zr=Bo(i.nextSibling),qr=e,$t=!0,$i=null,t!==null&&(li[ci++]=$s,li[ci++]=js,li[ci++]=cl,$s=t.id,js=t.overflow,cl=e),e=Ex(e,r.children),e.flags|=4096,e)}function A5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oy(t.return,e,n)}function rv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Sk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hr(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A5(t,n,e);else if(t.tag===19)A5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&em(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&em(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rv(e,!0,n,null,s);break;case"together":rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ip(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xD(t,e,n){switch(e.tag){case 3:Ck(e),Zc();break;case 5:ek(e);break;case 1:Lr(e.type)&&Kp(e);break;case 4:px(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(Xp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?Tk(t,e,n):(Rt(Ut,Ut.current&1),t=Js(t,e,n),t!==null?t.sibling:null);Rt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,Ik(t,e,n)}return Js(t,e,n)}var Rk,zy,kk,Ak;Rk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zy=function(){};kk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,za(ys.current);var s=null;switch(n){case"input":i=dy(t,i),r=dy(t,r),s=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),s=[];break;case"textarea":i=py(t,i),r=py(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qp)}gy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Ak=function(t,e,n,r){n!==r&&(e.flags|=4)};function id(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ED(t,e,n){var r=e.pendingProps;switch(ax(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return Lr(e.type)&&Gp(),Yn(e),null;case 3:return r=e.stateNode,tu(),Mt(Nr),Mt(ur),gx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(v0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$i!==null&&(Xy($i),$i=null))),zy(t,e),Yn(e),null;case 5:mx(e);var i=za(Ch.current);if(n=e.type,t!==null&&e.stateNode!=null)kk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Yn(e),null}if(t=za(ys.current),v0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[os]=e,r[Ih]=s,t=(e.mode&1)!==0,n){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(i=0;i<Ad.length;i++)kt(Ad[i],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":FI(r,s),kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kt("invalid",r);break;case"textarea":UI(r,s),kt("invalid",r)}gy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&g0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&g0(r.textContent,a,t),i=["children",""+a]):fh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kt("scroll",r)}switch(n){case"input":l0(r),VI(r,s,!0);break;case"textarea":l0(r),BI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[os]=e,t[Ih]=r,Rk(t,e,!1,!1),e.stateNode=t;e:{switch(o=vy(n,r),n){case"dialog":kt("cancel",t),kt("close",t),i=r;break;case"iframe":case"object":case"embed":kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ad.length;i++)kt(Ad[i],t);i=r;break;case"source":kt("error",t),i=r;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=r;break;case"details":kt("toggle",t),i=r;break;case"input":FI(t,r),i=dy(t,r),kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),kt("invalid",t);break;case"textarea":UI(t,r),i=py(t,r),kt("invalid",t);break;default:i=r}gy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ph(t,l):typeof l=="number"&&ph(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&kt("scroll",t):l!=null&&qw(t,s,l,o))}switch(n){case"input":l0(t),VI(t,r,!1);break;case"textarea":l0(t),BI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)Ak(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=za(Ch.current),za(ys.current),v0(e)){if(r=e.stateNode,n=e.memoizedProps,r[os]=e,(s=r.nodeValue!==n)&&(t=qr,t!==null))switch(t.tag){case 3:g0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&g0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[os]=e,e.stateNode=r}return Yn(e),null;case 13:if(Mt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&zr!==null&&e.mode&1&&!(e.flags&128))GR(),Zc(),e.flags|=98560,s=!1;else if(s=v0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[os]=e}else Zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),s=!1}else $i!==null&&(Xy($i),$i=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?yn===0&&(yn=3):Rx())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return tu(),zy(t,e),t===null&&xh(e.stateNode.containerInfo),Yn(e),null;case 10:return dx(e.type._context),Yn(e),null;case 17:return Lr(e.type)&&Gp(),Yn(e),null;case 19:if(Mt(Ut),s=e.memoizedState,s===null)return Yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)id(s,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=em(t),o!==null){for(e.flags|=128,id(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&nn()>ru&&(e.flags|=128,r=!0,id(s,!1),e.lanes=4194304)}else{if(!r)if(t=em(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),id(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Yn(e),null}else 2*nn()-s.renderingStartTime>ru&&n!==1073741824&&(e.flags|=128,r=!0,id(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nn(),e.sibling=null,n=Ut.current,Rt(Ut,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return Sx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function ID(t,e){switch(ax(e),e.tag){case 1:return Lr(e.type)&&Gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tu(),Mt(Nr),Mt(ur),gx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mx(e),null;case 13:if(Mt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Zc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(Ut),null;case 4:return tu(),null;case 10:return dx(e.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var w0=!1,Zn=!1,bD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Cc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function Wy(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var P5=!1;function CD(t,e){if(Sy=zp,t=MR(),sx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ry={focusedElem:t,selectionRange:n},zp=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Oi(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){Qt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return m=P5,P5=!1,m}function Gd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wy(e,n,s)}i=i.next}while(i!==r)}}function p2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pk(t){var e=t.alternate;e!==null&&(t.alternate=null,Pk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[os],delete e[Ih],delete e[Py],delete e[aD],delete e[lD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nk(t){return t.tag===5||t.tag===3||t.tag===4}function N5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qp));else if(r!==4&&(t=t.child,t!==null))for(qy(t,e,n),t=t.sibling;t!==null;)qy(t,e,n),t=t.sibling}function Gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gy(t,e,n),t=t.sibling;t!==null;)Gy(t,e,n),t=t.sibling}var Dn=null,Di=!1;function po(t,e,n){for(n=n.child;n!==null;)Lk(t,e,n),n=n.sibling}function Lk(t,e,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(o2,n)}catch{}switch(n.tag){case 5:Zn||Cc(n,e);case 6:var r=Dn,i=Di;Dn=null,po(t,e,n),Dn=r,Di=i,Dn!==null&&(Di?(t=Dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dn.removeChild(n.stateNode));break;case 18:Dn!==null&&(Di?(t=Dn,n=n.stateNode,t.nodeType===8?Y1(t.parentNode,n):t.nodeType===1&&Y1(t,n),yh(t)):Y1(Dn,n.stateNode));break;case 4:r=Dn,i=Di,Dn=n.stateNode.containerInfo,Di=!0,po(t,e,n),Dn=r,Di=i;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wy(n,e,o),i=i.next}while(i!==r)}po(t,e,n);break;case 1:if(!Zn&&(Cc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qt(n,e,a)}po(t,e,n);break;case 21:po(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,po(t,e,n),Zn=r):po(t,e,n);break;default:po(t,e,n)}}function L5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bD),e.forEach(function(r){var i=MD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dn=a.stateNode,Di=!1;break e;case 3:Dn=a.stateNode.containerInfo,Di=!0;break e;case 4:Dn=a.stateNode.containerInfo,Di=!0;break e}a=a.return}if(Dn===null)throw Error(Q(160));Lk(s,o,i),Dn=null,Di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Qt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mk(e,t),e=e.sibling}function Mk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),es(t),r&4){try{Gd(3,t,t.return),p2(3,t)}catch(y){Qt(t,t.return,y)}try{Gd(5,t,t.return)}catch(y){Qt(t,t.return,y)}}break;case 1:Ni(e,t),es(t),r&512&&n!==null&&Cc(n,n.return);break;case 5:if(Ni(e,t),es(t),r&512&&n!==null&&Cc(n,n.return),t.flags&32){var i=t.stateNode;try{ph(i,"")}catch(y){Qt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tR(i,s),vy(a,o);var c=vy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?oR(i,d):u==="dangerouslySetInnerHTML"?iR(i,d):u==="children"?ph(i,d):qw(i,u,d,c)}switch(a){case"input":hy(i,s);break;case"textarea":nR(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Lc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Lc(i,!!s.multiple,s.defaultValue,!0):Lc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ih]=s}catch(y){Qt(t,t.return,y)}}break;case 6:if(Ni(e,t),es(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Qt(t,t.return,y)}}break;case 3:if(Ni(e,t),es(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yh(e.containerInfo)}catch(y){Qt(t,t.return,y)}break;case 4:Ni(e,t),es(t);break;case 13:Ni(e,t),es(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cx=nn())),r&4&&L5(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(c=Zn)||u,Ni(e,t),Zn=c):Ni(e,t),es(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ue=t,u=t.child;u!==null;){for(d=ue=u;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gd(4,h,h.return);break;case 1:Cc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Qt(r,n,y)}}break;case 5:Cc(h,h.return);break;case 22:if(h.memoizedState!==null){O5(d);continue}}p!==null?(p.return=h,ue=p):O5(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sR("display",o))}catch(y){Qt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Qt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ni(e,t),es(t),r&4&&L5(t);break;case 21:break;default:Ni(e,t),es(t)}}function es(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nk(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ph(i,""),r.flags&=-33);var s=N5(t);Gy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N5(t);qy(t,a,o);break;default:throw Error(Q(161))}}catch(l){Qt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TD(t,e,n){ue=t,Ok(t)}function Ok(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||w0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zn;a=w0;var c=Zn;if(w0=o,(Zn=l)&&!c)for(ue=i;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?D5(i):l!==null?(l.return=o,ue=l):D5(i);for(;s!==null;)ue=s,Ok(s),s=s.sibling;ue=i,w0=a,Zn=c}M5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):M5(t)}}function M5(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||p2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Oi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&v5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&yh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Zn||e.flags&512&&Hy(e)}catch(h){Qt(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function O5(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function D5(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{p2(4,e)}catch(l){Qt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qt(e,i,l)}}var s=e.return;try{Hy(e)}catch(l){Qt(e,s,l)}break;case 5:var o=e.return;try{Hy(e)}catch(l){Qt(e,o,l)}}}catch(l){Qt(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var SD=Math.ceil,rm=ao.ReactCurrentDispatcher,Ix=ao.ReactCurrentOwner,_i=ao.ReactCurrentBatchConfig,it=0,Sn=null,fn=null,Bn=0,Ur=0,Tc=ha(0),yn=0,kh=null,dl=0,m2=0,bx=0,Kd=null,Sr=null,Cx=0,ru=1/0,Ps=null,im=!1,Ky=null,Wo=null,x0=!1,Mo=null,sm=0,Qd=0,Qy=null,sp=-1,op=0;function gr(){return it&6?nn():sp!==-1?sp:sp=nn()}function Ho(t){return t.mode&1?it&2&&Bn!==0?Bn&-Bn:uD.transition!==null?(op===0&&(op=yR()),op):(t=gt,t!==0||(t=window.event,t=t===void 0?16:CR(t.type)),t):1}function Ui(t,e,n,r){if(50<Qd)throw Qd=0,Qy=null,Error(Q(185));ff(t,n,r),(!(it&2)||t!==Sn)&&(t===Sn&&(!(it&2)&&(m2|=n),yn===4&&Co(t,Bn)),Mr(t,r),n===1&&it===0&&!(e.mode&1)&&(ru=nn()+500,d2&&fa()))}function Mr(t,e){var n=t.callbackNode;uO(t,e);var r=Bp(t,t===Sn?Bn:0);if(r===0)n!==null&&HI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HI(n),e===1)t.tag===0?cD($5.bind(null,t)):WR($5.bind(null,t)),sD(function(){!(it&6)&&fa()}),n=null;else{switch(_R(r)){case 1:n=Xw;break;case 4:n=gR;break;case 16:n=Up;break;case 536870912:n=vR;break;default:n=Up}n=zk(n,Dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dk(t,e){if(sp=-1,op=0,it&6)throw Error(Q(327));var n=t.callbackNode;if(jc()&&t.callbackNode!==n)return null;var r=Bp(t,t===Sn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=om(t,r);else{e=r;var i=it;it|=2;var s=jk();(Sn!==t||Bn!==e)&&(Ps=null,ru=nn()+500,Ja(t,e));do try{AD();break}catch(a){$k(t,a)}while(!0);ux(),rm.current=s,it=i,fn!==null?e=0:(Sn=null,Bn=0,e=yn)}if(e!==0){if(e===2&&(i=Ey(t),i!==0&&(r=i,e=Yy(t,i))),e===1)throw n=kh,Ja(t,0),Co(t,r),Mr(t,nn()),n;if(e===6)Co(t,r);else{if(i=t.current.alternate,!(r&30)&&!RD(i)&&(e=om(t,r),e===2&&(s=Ey(t),s!==0&&(r=s,e=Yy(t,s))),e===1))throw n=kh,Ja(t,0),Co(t,r),Mr(t,nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Aa(t,Sr,Ps);break;case 3:if(Co(t,r),(r&130023424)===r&&(e=Cx+500-nn(),10<e)){if(Bp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ay(Aa.bind(null,t,Sr,Ps),e);break}Aa(t,Sr,Ps);break;case 4:if(Co(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SD(r/1960))-r,10<r){t.timeoutHandle=Ay(Aa.bind(null,t,Sr,Ps),r);break}Aa(t,Sr,Ps);break;case 5:Aa(t,Sr,Ps);break;default:throw Error(Q(329))}}}return Mr(t,nn()),t.callbackNode===n?Dk.bind(null,t):null}function Yy(t,e){var n=Kd;return t.current.memoizedState.isDehydrated&&(Ja(t,e).flags|=256),t=om(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&Xy(e)),t}function Xy(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function RD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(t,e){for(e&=~bx,e&=~m2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vi(e),r=1<<n;t[n]=-1,e&=~r}}function $5(t){if(it&6)throw Error(Q(327));jc();var e=Bp(t,0);if(!(e&1))return Mr(t,nn()),null;var n=om(t,e);if(t.tag!==0&&n===2){var r=Ey(t);r!==0&&(e=r,n=Yy(t,r))}if(n===1)throw n=kh,Ja(t,0),Co(t,e),Mr(t,nn()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Aa(t,Sr,Ps),Mr(t,nn()),null}function Tx(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(ru=nn()+500,d2&&fa())}}function hl(t){Mo!==null&&Mo.tag===0&&!(it&6)&&jc();var e=it;it|=1;var n=_i.transition,r=gt;try{if(_i.transition=null,gt=1,t)return t()}finally{gt=r,_i.transition=n,it=e,!(it&6)&&fa()}}function Sx(){Ur=Tc.current,Mt(Tc)}function Ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iD(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(ax(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gp();break;case 3:tu(),Mt(Nr),Mt(ur),gx();break;case 5:mx(r);break;case 4:tu();break;case 13:Mt(Ut);break;case 19:Mt(Ut);break;case 10:dx(r.type._context);break;case 22:case 23:Sx()}n=n.return}if(Sn=t,fn=t=qo(t.current,null),Bn=Ur=e,yn=0,kh=null,bx=m2=dl=0,Sr=Kd=null,Ba!==null){for(e=0;e<Ba.length;e++)if(n=Ba[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ba=null}return t}function $k(t,e){do{var n=fn;try{if(ux(),np.current=nm,tm){for(var r=zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tm=!1}if(ul=0,In=vn=zt=null,qd=!1,Th=0,Ix.current=null,n===null||n.return===null){yn=1,kh=e,fn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=b5(o);if(p!==null){p.flags&=-257,C5(p,o,a,s,e),p.mode&1&&I5(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){I5(s,c,e),Rx();break e}l=Error(Q(426))}}else if($t&&a.mode&1){var x=b5(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),C5(x,o,a,s,e),lx(nu(l,a));break e}}s=l=nu(l,a),yn!==4&&(yn=2),Kd===null?Kd=[s]:Kd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=wk(s,l,e);g5(s,g);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wo===null||!Wo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=xk(s,a,e);g5(s,I);break e}}s=s.return}while(s!==null)}Vk(n)}catch(S){e=S,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(!0)}function jk(){var t=rm.current;return rm.current=nm,t===null?nm:t}function Rx(){(yn===0||yn===3||yn===2)&&(yn=4),Sn===null||!(dl&268435455)&&!(m2&268435455)||Co(Sn,Bn)}function om(t,e){var n=it;it|=2;var r=jk();(Sn!==t||Bn!==e)&&(Ps=null,Ja(t,e));do try{kD();break}catch(i){$k(t,i)}while(!0);if(ux(),it=n,rm.current=r,fn!==null)throw Error(Q(261));return Sn=null,Bn=0,yn}function kD(){for(;fn!==null;)Fk(fn)}function AD(){for(;fn!==null&&!tO();)Fk(fn)}function Fk(t){var e=Bk(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?Vk(t):fn=e,Ix.current=null}function Vk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ID(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,fn=null;return}}else if(n=ED(n,e,Ur),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);yn===0&&(yn=5)}function Aa(t,e,n){var r=gt,i=_i.transition;try{_i.transition=null,gt=1,PD(t,e,n,r)}finally{_i.transition=i,gt=r}return null}function PD(t,e,n,r){do jc();while(Mo!==null);if(it&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dO(t,s),t===Sn&&(fn=Sn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||x0||(x0=!0,zk(Up,function(){return jc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_i.transition,_i.transition=null;var o=gt;gt=1;var a=it;it|=4,Ix.current=null,CD(t,n),Mk(n,t),XO(Ry),zp=!!Sy,Ry=Sy=null,t.current=n,TD(n),nO(),it=a,gt=o,_i.transition=s}else t.current=n;if(x0&&(x0=!1,Mo=t,sm=i),s=t.pendingLanes,s===0&&(Wo=null),sO(n.stateNode),Mr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(im)throw im=!1,t=Ky,Ky=null,t;return sm&1&&t.tag!==0&&jc(),s=t.pendingLanes,s&1?t===Qy?Qd++:(Qd=0,Qy=t):Qd=0,fa(),null}function jc(){if(Mo!==null){var t=_R(sm),e=_i.transition,n=gt;try{if(_i.transition=null,gt=16>t?16:t,Mo===null)var r=!1;else{if(t=Mo,Mo=null,sm=0,it&6)throw Error(Q(331));var i=it;for(it|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:Gd(8,u,s)}var d=u.child;if(d!==null)d.return=u,ue=d;else for(;ue!==null;){u=ue;var h=u.sibling,p=u.return;if(Pk(u),u===c){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ue=g;break e}ue=s.return}}var w=t.current;for(ue=w;ue!==null;){o=ue;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ue=_;else e:for(o=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:p2(9,a)}}catch(S){Qt(a,a.return,S)}if(a===o){ue=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ue=I;break e}ue=a.return}}if(it=i,fa(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(o2,t)}catch{}r=!0}return r}finally{gt=n,_i.transition=e}}return!1}function j5(t,e,n){e=nu(n,e),e=wk(t,e,1),t=zo(t,e,1),e=gr(),t!==null&&(ff(t,1,e),Mr(t,e))}function Qt(t,e,n){if(t.tag===3)j5(t,t,n);else for(;e!==null;){if(e.tag===3){j5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wo===null||!Wo.has(r))){t=nu(n,t),t=xk(e,t,1),e=zo(e,t,1),t=gr(),e!==null&&(ff(e,1,t),Mr(e,t));break}}e=e.return}}function ND(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gr(),t.pingedLanes|=t.suspendedLanes&n,Sn===t&&(Bn&n)===n&&(yn===4||yn===3&&(Bn&130023424)===Bn&&500>nn()-Cx?Ja(t,0):bx|=n),Mr(t,e)}function Uk(t,e){e===0&&(t.mode&1?(e=d0,d0<<=1,!(d0&130023424)&&(d0=4194304)):e=1);var n=gr();t=Xs(t,e),t!==null&&(ff(t,e,n),Mr(t,n))}function LD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Uk(t,n)}function MD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),Uk(t,n)}var Bk;Bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)kr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kr=!1,xD(t,e,n);kr=!!(t.flags&131072)}else kr=!1,$t&&e.flags&1048576&&HR(e,Yp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ip(t,e),t=e.pendingProps;var i=Jc(e,ur.current);$c(e,n),i=yx(null,e,r,t,i,n);var s=_x();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(r)?(s=!0,Kp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fx(e),i.updater=h2,e.stateNode=i,i._reactInternals=e,$y(e,r,t,n),e=Vy(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&ox(e),hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ip(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DD(r),t=Oi(r,t),i){case 0:e=Fy(null,e,r,t,n);break e;case 1:e=R5(null,e,r,t,n);break e;case 11:e=T5(null,e,r,t,n);break e;case 14:e=S5(null,e,r,Oi(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oi(r,i),Fy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oi(r,i),R5(t,e,r,i,n);case 3:e:{if(Ck(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,QR(t,e),Zp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nu(Error(Q(423)),e),e=k5(t,e,r,n,i);break e}else if(r!==i){i=nu(Error(Q(424)),e),e=k5(t,e,r,n,i);break e}else for(zr=Bo(e.stateNode.containerInfo.firstChild),qr=e,$t=!0,$i=null,n=ZR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zc(),r===i){e=Js(t,e,n);break e}hr(t,e,r,n)}e=e.child}return e;case 5:return ek(e),t===null&&My(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ky(r,i)?o=null:s!==null&&ky(r,s)&&(e.flags|=32),bk(t,e),hr(t,e,o,n),e.child;case 6:return t===null&&My(e),null;case 13:return Tk(t,e,n);case 4:return px(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eu(e,null,r,n):hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oi(r,i),T5(t,e,r,i,n);case 7:return hr(t,e,e.pendingProps,n),e.child;case 8:return hr(t,e,e.pendingProps.children,n),e.child;case 12:return hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(Xp,r._currentValue),r._currentValue=o,s!==null)if(Gi(s.value,o)){if(s.children===i.children&&!Nr.current){e=Js(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Oy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Oy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$c(e,n),i=Ei(i),r=r(i),e.flags|=1,hr(t,e,r,n),e.child;case 14:return r=e.type,i=Oi(r,e.pendingProps),i=Oi(r.type,i),S5(t,e,r,i,n);case 15:return Ek(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oi(r,i),ip(t,e),e.tag=1,Lr(r)?(t=!0,Kp(e)):t=!1,$c(e,n),XR(e,r,i),$y(e,r,i,n),Vy(null,e,r,!0,t,n);case 19:return Sk(t,e,n);case 22:return Ik(t,e,n)}throw Error(Q(156,e.tag))};function zk(t,e){return mR(t,e)}function OD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,e,n,r){return new OD(t,e,n,r)}function kx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DD(t){if(typeof t=="function")return kx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kw)return 11;if(t===Qw)return 14}return 2}function qo(t,e){var n=t.alternate;return n===null?(n=fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ap(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gc:return Za(n.children,i,s,e);case Gw:o=8,i|=8;break;case ay:return t=fi(12,n,e,i|2),t.elementType=ay,t.lanes=s,t;case ly:return t=fi(13,n,e,i),t.elementType=ly,t.lanes=s,t;case cy:return t=fi(19,n,e,i),t.elementType=cy,t.lanes=s,t;case J4:return g2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y4:o=10;break e;case X4:o=9;break e;case Kw:o=11;break e;case Qw:o=14;break e;case Eo:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=fi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Za(t,e,n,r){return t=fi(7,t,r,e),t.lanes=n,t}function g2(t,e,n,r){return t=fi(22,t,r,e),t.elementType=J4,t.lanes=n,t.stateNode={isHidden:!1},t}function iv(t,e,n){return t=fi(6,t,null,e),t.lanes=n,t}function sv(t,e,n){return e=fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $D(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F1(0),this.expirationTimes=F1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ax(t,e,n,r,i,s,o,a,l){return t=new $D(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fx(s),t}function jD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wk(t){if(!t)return ta;t=t._reactInternals;e:{if(Nl(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Lr(n))return zR(t,n,e)}return e}function Hk(t,e,n,r,i,s,o,a,l){return t=Ax(n,r,!0,t,i,s,o,a,l),t.context=Wk(null),n=t.current,r=gr(),i=Ho(n),s=Hs(r,i),s.callback=e??null,zo(n,s,i),t.current.lanes=i,ff(t,i,r),Mr(t,r),t}function v2(t,e,n,r){var i=e.current,s=gr(),o=Ho(i);return n=Wk(n),e.context===null?e.context=n:e.pendingContext=n,e=Hs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zo(i,e,o),t!==null&&(Ui(t,i,o,s),tp(t,i,o)),o}function am(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Px(t,e){F5(t,e),(t=t.alternate)&&F5(t,e)}function FD(){return null}var qk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nx(t){this._internalRoot=t}y2.prototype.render=Nx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));v2(t,e,null,null)};y2.prototype.unmount=Nx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){v2(null,t,null,null)}),e[Ys]=null}};function y2(t){this._internalRoot=t}y2.prototype.unstable_scheduleHydration=function(t){if(t){var e=ER();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bo.length&&e!==0&&e<bo[n].priority;n++);bo.splice(n,0,t),n===0&&bR(t)}};function Lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V5(){}function VD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=am(o);s.call(c)}}var o=Hk(e,r,t,0,null,!1,!1,"",V5);return t._reactRootContainer=o,t[Ys]=o.current,xh(t.nodeType===8?t.parentNode:t),hl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=am(l);a.call(c)}}var l=Ax(t,0,!1,null,null,!1,!1,"",V5);return t._reactRootContainer=l,t[Ys]=l.current,xh(t.nodeType===8?t.parentNode:t),hl(function(){v2(e,l,n,r)}),l}function w2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=am(o);a.call(l)}}v2(e,o,t,i)}else o=VD(n,e,t,i,r);return am(o)}wR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kd(e.pendingLanes);n!==0&&(Jw(e,n|1),Mr(e,nn()),!(it&6)&&(ru=nn()+500,fa()))}break;case 13:hl(function(){var r=Xs(t,1);if(r!==null){var i=gr();Ui(r,t,1,i)}}),Px(t,1)}};Zw=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var n=gr();Ui(e,t,134217728,n)}Px(t,134217728)}};xR=function(t){if(t.tag===13){var e=Ho(t),n=Xs(t,e);if(n!==null){var r=gr();Ui(n,t,e,r)}Px(t,e)}};ER=function(){return gt};IR=function(t,e){var n=gt;try{return gt=t,e()}finally{gt=n}};_y=function(t,e,n){switch(e){case"input":if(hy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=u2(r);if(!i)throw Error(Q(90));eR(r),hy(r,i)}}}break;case"textarea":nR(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};cR=Tx;uR=hl;var UD={usingClientEntryPoint:!1,Events:[mf,wc,u2,aR,lR,Tx]},sd={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BD={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fR(t),t===null?null:t.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||FD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{o2=E0.inject(BD),vs=E0}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UD;ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lx(e))throw Error(Q(200));return jD(t,e,null,n)};ei.createRoot=function(t,e){if(!Lx(t))throw Error(Q(299));var n=!1,r="",i=qk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ax(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,xh(t.nodeType===8?t.parentNode:t),new Nx(e)};ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=fR(e),t=t===null?null:t.stateNode,t};ei.flushSync=function(t){return hl(t)};ei.hydrate=function(t,e,n){if(!_2(e))throw Error(Q(200));return w2(null,t,e,!0,n)};ei.hydrateRoot=function(t,e,n){if(!Lx(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hk(e,null,t,1,n??null,i,!1,s,o),t[Ys]=e.current,xh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new y2(e)};ei.render=function(t,e,n){if(!_2(e))throw Error(Q(200));return w2(null,t,e,!1,n)};ei.unmountComponentAtNode=function(t){if(!_2(t))throw Error(Q(40));return t._reactRootContainer?(hl(function(){w2(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};ei.unstable_batchedUpdates=Tx;ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_2(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return w2(t,e,n,!1,r)};ei.version="18.2.0-next-9e3b772b8-20220608";function Gk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gk)}catch(t){console.error(t)}}Gk(),H4.exports=ei;var Ah=H4.exports;const I0=M4(Ah);var U5=Ah;sy.createRoot=U5.createRoot,sy.hydrateRoot=U5.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}var Oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oo||(Oo={}));const B5="popstate";function zD(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ll(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Jy("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:lm(s))}function r(i,s){x2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return HD(e,n,r,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WD(){return Math.random().toString(36).substr(2,8)}function z5(t,e){return{usr:t.state,key:t.key,idx:e}}function Jy(t,e,n,r){return n===void 0&&(n=null),Ph({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ll(e):e,{state:n,key:e&&e.key||r||WD()})}function lm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Oo.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ph({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Oo.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:g})}function h(x,g){a=Oo.Push;let w=Jy(y.location,x,g);n&&n(w,x),c=u()+1;let _=z5(w,c),I=y.createHref(w);try{o.pushState(_,"",I)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(I)}s&&l&&l({action:a,location:y.location,delta:1})}function p(x,g){a=Oo.Replace;let w=Jy(y.location,x,g);n&&n(w,x),c=u();let _=z5(w,c),I=y.createHref(w);o.replaceState(_,"",I),s&&l&&l({action:a,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:lm(x);return mn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(B5,d),l=x,()=>{i.removeEventListener(B5,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(x){return o.go(x)}};return y}var W5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W5||(W5={}));function qD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ll(e):e,i=Mx(r.pathname||"/",n);if(i==null)return null;let s=Kk(t);GD(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=n$(s[a],s$(i));return o}function Kk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Go([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kk(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:e$(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Qk(s.path))i(s,o,l)}),e}function Qk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Qk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:t$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KD=/^:[\w-]+$/,QD=3,YD=2,XD=1,JD=10,ZD=-2,H5=t=>t==="*";function e$(t,e){let n=t.split("/"),r=n.length;return n.some(H5)&&(r+=ZD),e&&(r+=YD),n.filter(i=>!H5(i)).reduce((i,s)=>i+(KD.test(s)?QD:s===""?XD:JD),r)}function t$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function n$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=r$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Go([i,u.pathname]),pathnameBase:u$(Go([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Go([i,u.pathnameBase]))}return s}function r$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=o$(m||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function i$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),x2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s$(t){try{return decodeURI(t)}catch(e){return x2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o$(t,e){try{return decodeURIComponent(t)}catch(n){return x2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Mx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function a$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:l$(n,e):e,search:d$(r),hash:h$(i)}}function l$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yk(t,e){let n=c$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ll(t):(i=Ph({},t),mn(!i.pathname||!i.pathname.includes("?"),ov("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),ov("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),ov("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=a$(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Go=t=>t.join("/").replace(/\/\/+/g,"/"),u$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jk=["post","put","patch","delete"];new Set(Jk);const p$=["get",...Jk];new Set(p$);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}const Ox=v.createContext(null),m$=v.createContext(null),Ml=v.createContext(null),E2=v.createContext(null),pa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Zk=v.createContext(null);function g$(t,e){let{relative:n}=e===void 0?{}:e;vf()||mn(!1);let{basename:r,navigator:i}=v.useContext(Ml),{hash:s,pathname:o,search:a}=tA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Go([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vf(){return v.useContext(E2)!=null}function Au(){return vf()||mn(!1),v.useContext(E2).location}function eA(t){v.useContext(Ml).static||v.useLayoutEffect(t)}function Pn(){let{isDataRoute:t}=v.useContext(pa);return t?k$():v$()}function v$(){vf()||mn(!1);let t=v.useContext(Ox),{basename:e,future:n,navigator:r}=v.useContext(Ml),{matches:i}=v.useContext(pa),{pathname:s}=Au(),o=JSON.stringify(Yk(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return eA(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Xk(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Go([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function yf(){let{matches:t}=v.useContext(pa),e=t[t.length-1];return e?e.params:{}}function tA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ml),{matches:i}=v.useContext(pa),{pathname:s}=Au(),o=JSON.stringify(Yk(i,r.v7_relativeSplatPath));return v.useMemo(()=>Xk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function y$(t,e){return _$(t,e)}function _$(t,e,n,r){vf()||mn(!1);let{navigator:i}=v.useContext(Ml),{matches:s}=v.useContext(pa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Au(),u;if(e){var d;let x=typeof e=="string"?Ll(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||mn(!1),u=x}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=qD(t,{pathname:p}),y=b$(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Go([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Go([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&y?v.createElement(E2.Provider,{value:{location:Nh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oo.Pop}},y):y}function w$(){let t=R$(),e=f$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const x$=v.createElement(w$,null);class E$ extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(pa.Provider,{value:this.props.routeContext},v.createElement(Zk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I$(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(Ox);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(pa.Provider,{value:e},r)}function b$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||mn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||x$,l&&(c<0&&h===0?(A$("route-fallback",!1),m=!0,x=null):c===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),w=()=>{let _;return p?_=y:m?_=x:d.route.Component?_=v.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,v.createElement(I$,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(E$,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var nA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nA||{}),cm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cm||{});function C$(t){let e=v.useContext(Ox);return e||mn(!1),e}function T$(t){let e=v.useContext(m$);return e||mn(!1),e}function S$(t){let e=v.useContext(pa);return e||mn(!1),e}function rA(t){let e=S$(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function R$(){var t;let e=v.useContext(Zk),n=T$(cm.UseRouteError),r=rA(cm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function k$(){let{router:t}=C$(nA.UseNavigateStable),e=rA(cm.UseNavigateStable),n=v.useRef(!1);return eA(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nh({fromRouteId:e},s)))},[t,e])}const q5={};function A$(t,e,n){!e&&!q5[t]&&(q5[t]=!0)}function cn(t){mn(!1)}function P$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oo.Pop,navigator:s,static:o=!1,future:a}=t;vf()&&mn(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Nh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ll(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=v.useMemo(()=>{let x=Mx(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return y==null?null:v.createElement(Ml.Provider,{value:c},v.createElement(E2.Provider,{children:n,value:y}))}function N$(t){let{children:e,location:n}=t;return y$(Zy(e),n)}new Promise(()=>{});function Zy(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Zy(r.props.children,s));return}r.type!==cn&&mn(!1),!r.props.index||!r.props.children||mn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function L$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function M$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O$(t,e){return t.button===0&&(!e||e==="_self")&&!M$(t)}const D$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$$="6";try{window.__reactRouterVersion=$$}catch{}const j$="startTransition",G5=$p[j$];function F$(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=zD({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&G5?G5(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(P$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const V$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B$=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=L$(e,D$),{basename:p}=v.useContext(Ml),m,y=!1;if(typeof c=="string"&&U$.test(c)&&(m=c,V$))try{let _=new URL(window.location.href),I=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=Mx(I.pathname,p);I.origin===_.origin&&S!=null?c=S+I.search+I.hash:y=!0}catch{}let x=g$(c,{relative:i}),g=z$(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||g(_)}return v.createElement("a",e_({},h,{href:m||x,onClick:y||s?r:w,ref:n,target:l}))});var K5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K5||(K5={}));var Q5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q5||(Q5={}));function z$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Pn(),c=Au(),u=tA(t,{relative:o});return v.useCallback(d=>{if(O$(d,n)){d.preventDefault();let h=r!==void 0?r:lm(c)===lm(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const W$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",H$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",q$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",G$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",K$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Q$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Y$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",X$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",J$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Z$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",ej="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",tj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",nj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",rj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",ij="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",sj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",oj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",aj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",lj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",cj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",uj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",dj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",hj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",fj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",pj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",mj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",gj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",vj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",yj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",_j="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",wj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",xj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",Ej="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Ij="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",bj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",Cj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",Tj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Sj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Rj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",kj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Aj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Pj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Nj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",Lj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",Mj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",Oj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",Dj="/assets/dark-i8sdGySW.svg",$j="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",jj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",Fj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",Vj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",Uj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",Bj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",zj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",Wj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",Hj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",qj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",Gj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",Kj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",Qj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",Yj="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Xj="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Jj="/assets/facebook-reaction-sad-fp-d8NwB.svg",Zj="/assets/facebook-reaction-wow-4aGHxQqX.svg",eF="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",tF="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",nF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",rF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",iF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",sF={sent:nF,eye:iF,seen:rF,link:qj,reply:Qj,sendLetter:Gj,sendingLetter:Kj,deleteIcon:Wj,editPencil:Hj,moreOption:zj,download:$j,offline:Uj,online:Bj,chat:Vj,notification:Fj,file:jj,light:Oj,dark:Dj,upload:Mj,trueIcon:W$,falseIcon:H$,error:q$,down:G$,back:K$,thumbUp:Q$,redo:Y$,next:X$,finish:J$,history:Z$,trash:ej,add:tj,edit:nj,save:rj,up:ij,clipboard:sj,admin:oj,menu:aj,home:lj,result:cj,help:uj,about:dj,update:hj,faq:fj,plus:pj,minus:mj,share:gj,review:vj,fullScreen:yj,search:_j,searchLeft:wj,close:xj,copy:Ej,google:Ij,refresh:bj,exit:Cj,exam:Tj,like:Sj,liked:Rj,comment:kj,send:Aj,logout:Pj,user:Nj,image:Lj,facebookAngry:eF,facebookHaha:tF,facebookLike:Yj,facebookLove:Xj,facebookSad:Jj,facebookWow:Zj};function Ne(t){return sF[t]||null}const Bi=({data:t})=>{const{clickFn:e,text:n,image:r}=t,i=Ne(r),{theme:s}=v.useContext(Z),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${s==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:i}),n&&f.jsx("span",{children:n})]})},oF={black:"#000",white:"#fff"},Lh=oF,aF={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xl=aF,lF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Jl=lF,cF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zl=cF,uF={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ec=uF,dF={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tc=dF,hF={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},od=hF,fF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},pF=fF;function Zs(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const mF=Object.freeze(Object.defineProperty({__proto__:null,default:Zs},Symbol.toStringTag,{value:"Module"})),I2="$$material";function D(){return D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D.apply(null,arguments)}function de(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var gF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,vF=iA(function(t){return gF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function yF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _F(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_F(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=yF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Jn="-ms-",um="-moz-",ct="-webkit-",sA="comm",Dx="rule",$x="decl",xF="@import",oA="@keyframes",EF="@layer",IF=Math.abs,b2=String.fromCharCode,bF=Object.assign;function CF(t,e){return jn(t,0)^45?(((e<<2^jn(t,0))<<2^jn(t,1))<<2^jn(t,2))<<2^jn(t,3):0}function aA(t){return t.trim()}function TF(t,e){return(t=e.exec(t))?t[0]:t}function ut(t,e,n){return t.replace(e,n)}function t_(t,e){return t.indexOf(e)}function jn(t,e){return t.charCodeAt(e)|0}function Mh(t,e,n){return t.slice(e,n)}function ns(t){return t.length}function jx(t){return t.length}function b0(t,e){return e.push(t),t}function SF(t,e){return t.map(e).join("")}var C2=1,iu=1,lA=0,Dr=0,dn=0,Pu="";function T2(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:C2,column:iu,length:o,return:""}}function ad(t,e){return bF(T2("",null,null,"",null,null,0),t,{length:-t.length},e)}function RF(){return dn}function kF(){return dn=Dr>0?jn(Pu,--Dr):0,iu--,dn===10&&(iu=1,C2--),dn}function Gr(){return dn=Dr<lA?jn(Pu,Dr++):0,iu++,dn===10&&(iu=1,C2++),dn}function _s(){return jn(Pu,Dr)}function lp(){return Dr}function _f(t,e){return Mh(Pu,t,e)}function Oh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cA(t){return C2=iu=1,lA=ns(Pu=t),Dr=0,[]}function uA(t){return Pu="",t}function cp(t){return aA(_f(Dr-1,n_(t===91?t+2:t===40?t+1:t)))}function AF(t){for(;(dn=_s())&&dn<33;)Gr();return Oh(t)>2||Oh(dn)>3?"":" "}function PF(t,e){for(;--e&&Gr()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return _f(t,lp()+(e<6&&_s()==32&&Gr()==32))}function n_(t){for(;Gr();)switch(dn){case t:return Dr;case 34:case 39:t!==34&&t!==39&&n_(dn);break;case 40:t===41&&n_(t);break;case 92:Gr();break}return Dr}function NF(t,e){for(;Gr()&&t+dn!==57;)if(t+dn===84&&_s()===47)break;return"/*"+_f(e,Dr-1)+"*"+b2(t===47?t:Gr())}function LF(t){for(;!Oh(_s());)Gr();return _f(t,Dr)}function MF(t){return uA(up("",null,null,null,[""],t=cA(t),0,[0],t))}function up(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,y=1,x=1,g=1,w=0,_="",I=i,S=s,E=r,C=_;x;)switch(m=w,w=Gr()){case 40:if(m!=108&&jn(C,d-1)==58){t_(C+=ut(cp(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=cp(w);break;case 9:case 10:case 13:case 32:C+=AF(m);break;case 92:C+=PF(lp()-1,7);continue;case 47:switch(_s()){case 42:case 47:b0(OF(NF(Gr(),lp()),e,n),l);break;default:C+="/"}break;case 123*y:a[c++]=ns(C)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(C=ut(C,/\f/g,"")),p>0&&ns(C)-d&&b0(p>32?X5(C+";",r,n,d-1):X5(ut(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(b0(E=Y5(C,e,n,c,u,i,a,_,I=[],S=[],d),s),w===123)if(u===0)up(C,e,E,E,I,s,d,a,S);else switch(h===99&&jn(C,3)===110?100:h){case 100:case 108:case 109:case 115:up(t,E,E,r&&b0(Y5(t,E,E,0,0,i,a,_,i,I=[],d),S),i,S,d,a,r?I:S);break;default:up(C,E,E,E,[""],S,0,a,S)}}c=u=p=0,y=g=1,_=C="",d=o;break;case 58:d=1+ns(C),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&kF()==125)continue}switch(C+=b2(w),w*y){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(ns(C)-1)*g,g=1;break;case 64:_s()===45&&(C+=cp(Gr())),h=_s(),u=d=ns(_=C+=LF(lp())),w++;break;case 45:m===45&&ns(C)==2&&(y=0)}}return s}function Y5(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=jx(h),m=0,y=0,x=0;m<r;++m)for(var g=0,w=Mh(t,d+1,d=IF(y=o[m])),_=t;g<p;++g)(_=aA(y>0?h[g]+" "+w:ut(w,/&\f/g,h[g])))&&(l[x++]=_);return T2(t,e,n,i===0?Dx:a,l,c,u)}function OF(t,e,n){return T2(t,e,n,sA,b2(RF()),Mh(t,2,-2),0)}function X5(t,e,n,r){return T2(t,e,n,$x,Mh(t,0,r),Mh(t,r+1,-1),r)}function Fc(t,e){for(var n="",r=jx(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function DF(t,e,n,r){switch(t.type){case EF:if(t.children.length)break;case xF:case $x:return t.return=t.return||t.value;case sA:return"";case oA:return t.return=t.value+"{"+Fc(t.children,r)+"}";case Dx:t.value=t.props.join(",")}return ns(n=Fc(t.children,r))?t.return=t.value+"{"+n+"}":""}function $F(t){var e=jx(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function jF(t){return function(e){e.root||(e=e.return)&&t(e)}}var FF=function(e,n,r){for(var i=0,s=0;i=s,s=_s(),i===38&&s===12&&(n[r]=1),!Oh(s);)Gr();return _f(e,Dr)},VF=function(e,n){var r=-1,i=44;do switch(Oh(i)){case 0:i===38&&_s()===12&&(n[r]=1),e[r]+=FF(Dr-1,n,r);break;case 2:e[r]+=cp(i);break;case 4:if(i===44){e[++r]=_s()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=b2(i)}while(i=Gr());return e},UF=function(e,n){return uA(VF(cA(e),n))},J5=new WeakMap,BF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!J5.get(r))&&!i){J5.set(e,!0);for(var s=[],o=UF(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},zF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function dA(t,e){switch(CF(t,e)){case 5103:return ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+t+um+t+Jn+t+t;case 6828:case 4268:return ct+t+Jn+t+t;case 6165:return ct+t+Jn+"flex-"+t+t;case 5187:return ct+t+ut(t,/(\w+).+(:[^]+)/,ct+"box-$1$2"+Jn+"flex-$1$2")+t;case 5443:return ct+t+Jn+"flex-item-"+ut(t,/flex-|-self/,"")+t;case 4675:return ct+t+Jn+"flex-line-pack"+ut(t,/align-content|flex-|-self/,"")+t;case 5548:return ct+t+Jn+ut(t,"shrink","negative")+t;case 5292:return ct+t+Jn+ut(t,"basis","preferred-size")+t;case 6060:return ct+"box-"+ut(t,"-grow","")+ct+t+Jn+ut(t,"grow","positive")+t;case 4554:return ct+ut(t,/([^-])(transform)/g,"$1"+ct+"$2")+t;case 6187:return ut(ut(ut(t,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),t,"")+t;case 5495:case 3959:return ut(t,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(t,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+Jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+t+t;case 4095:case 3583:case 4068:case 2532:return ut(t,/(.+)-inline(.+)/,ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ns(t)-1-e>6)switch(jn(t,e+1)){case 109:if(jn(t,e+4)!==45)break;case 102:return ut(t,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+um+(jn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~t_(t,"stretch")?dA(ut(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(jn(t,e+1)!==115)break;case 6444:switch(jn(t,ns(t)-3-(~t_(t,"!important")&&10))){case 107:return ut(t,":",":"+ct)+t;case 101:return ut(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(jn(t,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+Jn+"$2box$3")+t}break;case 5936:switch(jn(t,e+11)){case 114:return ct+t+Jn+ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ct+t+Jn+ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ct+t+Jn+ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ct+t+Jn+t+t}return t}var WF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case $x:e.return=dA(e.value,e.length);break;case oA:return Fc([ad(e,{value:ut(e.value,"@","@"+ct)})],i);case Dx:if(e.length)return SF(e.props,function(s){switch(TF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fc([ad(e,{props:[ut(s,/:(read-\w+)/,":"+um+"$1")]})],i);case"::placeholder":return Fc([ad(e,{props:[ut(s,/:(plac\w+)/,":"+ct+"input-$1")]}),ad(e,{props:[ut(s,/:(plac\w+)/,":"+um+"$1")]}),ad(e,{props:[ut(s,/:(plac\w+)/,Jn+"input-$1")]})],i)}return""})}},HF=[WF],hA=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||HF,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),g=1;g<x.length;g++)s[x[g]]=!0;a.push(y)});var l,c=[BF,zF];{var u,d=[DF,jF(function(y){u.insert(y)})],h=$F(c.concat(i,d)),p=function(x){return Fc(MF(x),h)};l=function(x,g,w,_){u=w,p(x?x+"{"+g.styles+"}":g.styles),_&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new wF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},fA={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn=typeof Symbol=="function"&&Symbol.for,Fx=Nn?Symbol.for("react.element"):60103,Vx=Nn?Symbol.for("react.portal"):60106,S2=Nn?Symbol.for("react.fragment"):60107,R2=Nn?Symbol.for("react.strict_mode"):60108,k2=Nn?Symbol.for("react.profiler"):60114,A2=Nn?Symbol.for("react.provider"):60109,P2=Nn?Symbol.for("react.context"):60110,Ux=Nn?Symbol.for("react.async_mode"):60111,N2=Nn?Symbol.for("react.concurrent_mode"):60111,L2=Nn?Symbol.for("react.forward_ref"):60112,M2=Nn?Symbol.for("react.suspense"):60113,qF=Nn?Symbol.for("react.suspense_list"):60120,O2=Nn?Symbol.for("react.memo"):60115,D2=Nn?Symbol.for("react.lazy"):60116,GF=Nn?Symbol.for("react.block"):60121,KF=Nn?Symbol.for("react.fundamental"):60117,QF=Nn?Symbol.for("react.responder"):60118,YF=Nn?Symbol.for("react.scope"):60119;function ni(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fx:switch(t=t.type,t){case Ux:case N2:case S2:case k2:case R2:case M2:return t;default:switch(t=t&&t.$$typeof,t){case P2:case L2:case D2:case O2:case A2:return t;default:return e}}case Vx:return e}}}function pA(t){return ni(t)===N2}yt.AsyncMode=Ux;yt.ConcurrentMode=N2;yt.ContextConsumer=P2;yt.ContextProvider=A2;yt.Element=Fx;yt.ForwardRef=L2;yt.Fragment=S2;yt.Lazy=D2;yt.Memo=O2;yt.Portal=Vx;yt.Profiler=k2;yt.StrictMode=R2;yt.Suspense=M2;yt.isAsyncMode=function(t){return pA(t)||ni(t)===Ux};yt.isConcurrentMode=pA;yt.isContextConsumer=function(t){return ni(t)===P2};yt.isContextProvider=function(t){return ni(t)===A2};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fx};yt.isForwardRef=function(t){return ni(t)===L2};yt.isFragment=function(t){return ni(t)===S2};yt.isLazy=function(t){return ni(t)===D2};yt.isMemo=function(t){return ni(t)===O2};yt.isPortal=function(t){return ni(t)===Vx};yt.isProfiler=function(t){return ni(t)===k2};yt.isStrictMode=function(t){return ni(t)===R2};yt.isSuspense=function(t){return ni(t)===M2};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===S2||t===N2||t===k2||t===R2||t===M2||t===qF||typeof t=="object"&&t!==null&&(t.$$typeof===D2||t.$$typeof===O2||t.$$typeof===A2||t.$$typeof===P2||t.$$typeof===L2||t.$$typeof===KF||t.$$typeof===QF||t.$$typeof===YF||t.$$typeof===GF)};yt.typeOf=ni;fA.exports=yt;var XF=fA.exports,mA=XF,JF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gA={};gA[mA.ForwardRef]=JF;gA[mA.Memo]=ZF;var eV=!0;function tV(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var vA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||eV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yA=function(e,n,r){vA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function nV(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _A={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rV=/[A-Z]|^ms/g,iV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wA=function(e){return e.charCodeAt(1)===45},Z5=function(e){return e!=null&&typeof e!="boolean"},av=iA(function(t){return wA(t)?t:t.replace(rV,"-$&").toLowerCase()}),eb=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(iV,function(r,i,s){return rs={name:i,styles:s,next:rs},i})}return _A[e]!==1&&!wA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Dh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return rs={name:n.name,styles:n.styles,next:rs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)rs={name:r.name,styles:r.styles,next:rs},r=r.next;var i=n.styles+";";return i}return sV(t,e,n)}case"function":{if(t!==void 0){var s=rs,o=n(t);return rs=s,Dh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function sV(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Dh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Z5(o)&&(r+=av(s)+":"+eb(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Z5(o[a])&&(r+=av(s)+":"+eb(s,o[a])+";");else{var l=Dh(t,e,o);switch(s){case"animation":case"animationName":{r+=av(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var tb=/label:\s*([^\s;\n{]+)\s*(;|$)/g,rs,Bx=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";rs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Dh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Dh(r,n,e[a]),i&&(s+=o[a]);tb.lastIndex=0;for(var l="",c;(c=tb.exec(s))!==null;)l+="-"+c[1];var u=nV(s)+l;return{name:u,styles:s,next:rs}},oV=function(e){return e()},xA=$p.useInsertionEffect?$p.useInsertionEffect:!1,aV=xA||oV,nb=xA||v.useLayoutEffect,EA=v.createContext(typeof HTMLElement<"u"?hA({key:"css"}):null),lV=EA.Provider,IA=function(e){return v.forwardRef(function(n,r){var i=v.useContext(EA);return e(n,i,r)})},$2=v.createContext({}),lv={exports:{}},rb;function bA(){return rb||(rb=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(lv)),lv.exports}bA();var cV=IA(function(t,e){var n=t.styles,r=Bx([n],void 0,v.useContext($2)),i=v.useRef();return nb(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),nb(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&yA(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function eo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Bx(e)}var Xi=function(){var e=eo.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},uV=vF,dV=function(e){return e!=="theme"},ib=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?uV:dV},sb=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},hV=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vA(n,r,i),aV(function(){return yA(n,r,i)}),null},fV=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=sb(e,n,r),l=a||ib(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=IA(function(y,x,g){var w=c&&y.as||i,_="",I=[],S=y;if(y.theme==null){S={};for(var E in y)S[E]=y[E];S.theme=v.useContext($2)}typeof y.className=="string"?_=tV(x.registered,I,y.className):y.className!=null&&(_=y.className+" ");var C=Bx(d.concat(I),x.registered,S);_+=x.key+"-"+C.name,o!==void 0&&(_+=" "+o);var b=c&&a===void 0?ib(w):l,R={};for(var T in y)c&&T==="as"||b(T)&&(R[T]=y[T]);return R.className=_,R.ref=g,v.createElement(v.Fragment,null,v.createElement(hV,{cache:x,serialized:C,isStringTag:typeof w=="string"}),v.createElement(w,R))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(y,x){return t(y,D({},n,x,{shouldForwardProp:sb(m,x,!0)})).apply(void 0,d)},m}},pV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],r_=fV.bind();pV.forEach(function(t){r_[t]=r_(t)});let i_;typeof document=="object"&&(i_=hA({key:"css",prepend:!0}));function mV(t){const{injectFirst:e,children:n}=t;return e&&i_?f.jsx(lV,{value:i_,children:n}):n}function gV(t){return t==null||Object.keys(t).length===0}function CA(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(gV(i)?n:i):e;return f.jsx(cV,{styles:r})}function zx(t,e){return r_(t,e)}const TA=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},vV=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:CA,StyledEngineProvider:mV,ThemeContext:$2,css:eo,default:zx,internal_processStyles:TA,keyframes:Xi},Symbol.toStringTag,{value:"Module"}));function Os(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function SA(t){if(!Os(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=SA(t[n])}),e}function vr(t,e,n={clone:!0}){const r=n.clone?D({},t):t;return Os(t)&&Os(e)&&Object.keys(e).forEach(i=>{Os(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Os(t[i])?r[i]=vr(t[i],e[i],n):n.clone?r[i]=Os(e[i])?SA(e[i]):e[i]:r[i]=e[i]}),r}const yV=Object.freeze(Object.defineProperty({__proto__:null,default:vr,isPlainObject:Os},Symbol.toStringTag,{value:"Module"})),_V=["values","unit","step"],wV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>D({},n,{[r.key]:r.val}),{})};function RA(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=de(t,_V),s=wV(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return D({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const xV={borderRadius:4},EV=xV;function Yd(t,e){return e?vr(t,e,{clone:!1}):t}const Wx={xs:0,sm:600,md:900,lg:1200,xl:1536},ob={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Wx[t]}px)`};function $r(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||ob;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||ob;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Wx).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function kA(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function AA(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function IV(t,...e){const n=kA(t),r=[n,...e].reduce((i,s)=>vr(i,s),{});return AA(Object.keys(n),r)}function bV(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function el({values:t,breakpoints:e,base:n}){const r=n||bV(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function se(t){if(typeof t!="string")throw new Error(Zs(7));return t.charAt(0).toUpperCase()+t.slice(1)}const CV=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));function j2(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function dm(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=j2(t,n)||r,e&&(i=e(i,r,t)),i}function sn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=j2(l,r)||{};return $r(o,a,d=>{let h=dm(c,i,d);return d===h&&typeof d=="string"&&(h=dm(c,i,`${e}${d==="default"?"":se(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function TV(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const SV={m:"margin",p:"padding"},RV={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ab={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kV=TV(t=>{if(t.length>2)if(ab[t])t=ab[t];else return[t];const[e,n]=t.split(""),r=SV[e],i=RV[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Hx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Hx,...qx];function wf(t,e,n,r){var i;const s=(i=j2(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Gx(t){return wf(t,"spacing",8)}function fl(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function AV(t,e){return n=>t.reduce((r,i)=>(r[i]=fl(e,n),r),{})}function PV(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=kV(n),s=AV(i,r),o=t[n];return $r(t,o,s)}function PA(t,e){const n=Gx(t.theme);return Object.keys(t).map(r=>PV(t,e,r,n)).reduce(Yd,{})}function Gt(t){return PA(t,Hx)}Gt.propTypes={};Gt.filterProps=Hx;function Kt(t){return PA(t,qx)}Kt.propTypes={};Kt.filterProps=qx;function NV(t=8){if(t.mui)return t;const e=Gx({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function F2(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Yd(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ui(t){return typeof t!="number"?t:`${t}px solid`}function Ri(t,e){return sn({prop:t,themeKey:"borders",transform:e})}const LV=Ri("border",ui),MV=Ri("borderTop",ui),OV=Ri("borderRight",ui),DV=Ri("borderBottom",ui),$V=Ri("borderLeft",ui),jV=Ri("borderColor"),FV=Ri("borderTopColor"),VV=Ri("borderRightColor"),UV=Ri("borderBottomColor"),BV=Ri("borderLeftColor"),zV=Ri("outline",ui),WV=Ri("outlineColor"),V2=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=wf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:fl(e,r)});return $r(t,t.borderRadius,n)}return null};V2.propTypes={};V2.filterProps=["borderRadius"];F2(LV,MV,OV,DV,$V,jV,FV,VV,UV,BV,V2,zV,WV);const U2=t=>{if(t.gap!==void 0&&t.gap!==null){const e=wf(t.theme,"spacing",8),n=r=>({gap:fl(e,r)});return $r(t,t.gap,n)}return null};U2.propTypes={};U2.filterProps=["gap"];const B2=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=wf(t.theme,"spacing",8),n=r=>({columnGap:fl(e,r)});return $r(t,t.columnGap,n)}return null};B2.propTypes={};B2.filterProps=["columnGap"];const z2=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=wf(t.theme,"spacing",8),n=r=>({rowGap:fl(e,r)});return $r(t,t.rowGap,n)}return null};z2.propTypes={};z2.filterProps=["rowGap"];const HV=sn({prop:"gridColumn"}),qV=sn({prop:"gridRow"}),GV=sn({prop:"gridAutoFlow"}),KV=sn({prop:"gridAutoColumns"}),QV=sn({prop:"gridAutoRows"}),YV=sn({prop:"gridTemplateColumns"}),XV=sn({prop:"gridTemplateRows"}),JV=sn({prop:"gridTemplateAreas"}),ZV=sn({prop:"gridArea"});F2(U2,B2,z2,HV,qV,GV,KV,QV,YV,XV,JV,ZV);function Vc(t,e){return e==="grey"?e:t}const eU=sn({prop:"color",themeKey:"palette",transform:Vc}),tU=sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vc}),nU=sn({prop:"backgroundColor",themeKey:"palette",transform:Vc});F2(eU,tU,nU);function Br(t){return t<=1&&t!==0?`${t*100}%`:t}const rU=sn({prop:"width",transform:Br}),Kx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Wx[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Br(n)}};return $r(t,t.maxWidth,e)}return null};Kx.filterProps=["maxWidth"];const iU=sn({prop:"minWidth",transform:Br}),sU=sn({prop:"height",transform:Br}),oU=sn({prop:"maxHeight",transform:Br}),aU=sn({prop:"minHeight",transform:Br});sn({prop:"size",cssProperty:"width",transform:Br});sn({prop:"size",cssProperty:"height",transform:Br});const lU=sn({prop:"boxSizing"});F2(rU,Kx,iU,sU,oU,aU,lU);const cU={border:{themeKey:"borders",transform:ui},borderTop:{themeKey:"borders",transform:ui},borderRight:{themeKey:"borders",transform:ui},borderBottom:{themeKey:"borders",transform:ui},borderLeft:{themeKey:"borders",transform:ui},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ui},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:V2},color:{themeKey:"palette",transform:Vc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vc},backgroundColor:{themeKey:"palette",transform:Vc},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:Gt},mt:{style:Gt},mr:{style:Gt},mb:{style:Gt},ml:{style:Gt},mx:{style:Gt},my:{style:Gt},margin:{style:Gt},marginTop:{style:Gt},marginRight:{style:Gt},marginBottom:{style:Gt},marginLeft:{style:Gt},marginX:{style:Gt},marginY:{style:Gt},marginInline:{style:Gt},marginInlineStart:{style:Gt},marginInlineEnd:{style:Gt},marginBlock:{style:Gt},marginBlockStart:{style:Gt},marginBlockEnd:{style:Gt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:U2},rowGap:{style:z2},columnGap:{style:B2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Br},maxWidth:{style:Kx},minWidth:{transform:Br},height:{transform:Br},maxHeight:{transform:Br},minHeight:{transform:Br},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},xf=cU;function uU(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function dU(t,e){return typeof t=="function"?t(e):t}function NA(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=j2(i,c)||{};return d?d(o):$r(o,r,m=>{let y=dm(h,u,m);return m===y&&typeof m=="string"&&(y=dm(h,u,`${n}${m==="default"?"":se(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:xf;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=kA(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=dU(c[p],s);if(m!=null)if(typeof m=="object")if(o[p])h=Yd(h,t(p,m,s,o));else{const y=$r({theme:s},m,x=>({[p]:x}));uU(y,m)?h[p]=e({sx:m,theme:s}):h=Yd(h,y)}else h=Yd(h,t(p,m,s,o))}),AA(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const LA=NA();LA.filterProps=["sx"];const Ef=LA;function MA(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const hU=["breakpoints","palette","spacing","shape"];function If(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=de(t,hU),a=RA(n),l=NV(i);let c=vr({breakpoints:a,direction:"ltr",components:{},palette:D({mode:"light"},r),spacing:l,shape:D({},EV,s)},o);return c.applyStyles=MA,c=e.reduce((u,d)=>vr(u,d),c),c.unstable_sxConfig=D({},xf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Ef({sx:d,theme:this})},c}const fU=Object.freeze(Object.defineProperty({__proto__:null,default:If,private_createBreakpoints:RA,unstable_applyStyles:MA},Symbol.toStringTag,{value:"Module"}));function pU(t){return Object.keys(t).length===0}function mU(t=null){const e=v.useContext($2);return!e||pU(e)?t:e}const gU=If();function W2(t=gU){return mU(t)}function vU({styles:t,themeId:e,defaultTheme:n={}}){const r=W2(n),i=typeof t=="function"?t(e&&r[e]||r):t;return f.jsx(CA,{styles:i})}const yU=["sx"],_U=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:xf;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function bf(t){const{sx:e}=t,n=de(t,yU),{systemProps:r,otherProps:i}=_U(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Os(a)?D({},r,a):r}:s=D({},r,e),D({},i,{sx:s})}const wU=Object.freeze(Object.defineProperty({__proto__:null,default:Ef,extendSxProp:bf,unstable_createStyleFunctionSx:NA,unstable_defaultSxConfig:xf},Symbol.toStringTag,{value:"Module"})),lb=t=>t,xU=()=>{let t=lb;return{configure(e){t=e},generate(e){return t(e)},reset(){t=lb}}},EU=xU(),OA=EU;function DA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DA(t))&&(r&&(r+=" "),r+=e);return r}const IU=["className","component"];function bU(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=zx("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ef);return v.forwardRef(function(l,c){const u=W2(n),d=bf(l),{className:h,component:p="div"}=d,m=de(d,IU);return f.jsx(s,D({as:p,ref:c,className:_e(h,i?i(r):r),theme:e&&u[e]||u},m))})}const CU={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Qe(t,e,n="Mui"){const r=CU[e];return r?`${n}-${r}`:`${OA.generate(t)}-${e}`}function He(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Qe(t,i,n)}),r}var $A={exports:{}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=Symbol.for("react.element"),Yx=Symbol.for("react.portal"),H2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),K2=Symbol.for("react.provider"),Q2=Symbol.for("react.context"),TU=Symbol.for("react.server_context"),Y2=Symbol.for("react.forward_ref"),X2=Symbol.for("react.suspense"),J2=Symbol.for("react.suspense_list"),Z2=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),SU=Symbol.for("react.offscreen"),jA;jA=Symbol.for("react.module.reference");function ki(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qx:switch(t=t.type,t){case H2:case G2:case q2:case X2:case J2:return t;default:switch(t=t&&t.$$typeof,t){case TU:case Q2:case Y2:case eg:case Z2:case K2:return t;default:return e}}case Yx:return e}}}_t.ContextConsumer=Q2;_t.ContextProvider=K2;_t.Element=Qx;_t.ForwardRef=Y2;_t.Fragment=H2;_t.Lazy=eg;_t.Memo=Z2;_t.Portal=Yx;_t.Profiler=G2;_t.StrictMode=q2;_t.Suspense=X2;_t.SuspenseList=J2;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(t){return ki(t)===Q2};_t.isContextProvider=function(t){return ki(t)===K2};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qx};_t.isForwardRef=function(t){return ki(t)===Y2};_t.isFragment=function(t){return ki(t)===H2};_t.isLazy=function(t){return ki(t)===eg};_t.isMemo=function(t){return ki(t)===Z2};_t.isPortal=function(t){return ki(t)===Yx};_t.isProfiler=function(t){return ki(t)===G2};_t.isStrictMode=function(t){return ki(t)===q2};_t.isSuspense=function(t){return ki(t)===X2};_t.isSuspenseList=function(t){return ki(t)===J2};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===H2||t===G2||t===q2||t===X2||t===J2||t===SU||typeof t=="object"&&t!==null&&(t.$$typeof===eg||t.$$typeof===Z2||t.$$typeof===K2||t.$$typeof===Q2||t.$$typeof===Y2||t.$$typeof===jA||t.getModuleId!==void 0)};_t.typeOf=ki;$A.exports=_t;var cb=$A.exports;const RU=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function FA(t){const e=`${t}`.match(RU);return e&&e[1]||""}function VA(t,e=""){return t.displayName||t.name||FA(t)||e}function ub(t,e,n){const r=VA(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function kU(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return VA(t,"Component");if(typeof t=="object")switch(t.$$typeof){case cb.ForwardRef:return ub(t,t.render,"ForwardRef");case cb.Memo:return ub(t,t.type,"memo");default:return}}}const AU=Object.freeze(Object.defineProperty({__proto__:null,default:kU,getFunctionName:FA},Symbol.toStringTag,{value:"Module"})),PU=["ownerState"],NU=["variants"],LU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function MU(t){return Object.keys(t).length===0}function OU(t){return typeof t=="string"&&t.charCodeAt(0)>96}function cv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const DU=If(),$U=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function C0({defaultTheme:t,theme:e,themeId:n}){return MU(e)?t:e[n]||e}function jU(t){return t?(e,n)=>n[t]:null}function dp(t,e){let{ownerState:n}=e,r=de(e,PU);const i=typeof t=="function"?t(D({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>dp(s,D({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=de(i,NU);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(D({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(D({ownerState:n},r,n)):l.style))}),a}return i}function FU(t={}){const{themeId:e,defaultTheme:n=DU,rootShouldForwardProp:r=cv,slotShouldForwardProp:i=cv}=t,s=o=>Ef(D({},o,{theme:C0(D({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{TA(o,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=jU($U(c))}=a,p=de(a,LU),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,g=cv;c==="Root"||c==="root"?g=r:c?g=i:OU(o)&&(g=void 0);const w=zx(o,D({shouldForwardProp:g,label:x},p)),_=S=>typeof S=="function"&&S.__emotion_real!==S||Os(S)?E=>dp(S,D({},E,{theme:C0({theme:E.theme,defaultTheme:n,themeId:e})})):S,I=(S,...E)=>{let C=_(S);const b=E?E.map(_):[];l&&h&&b.push(k=>{const N=C0(D({},k,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([j,P])=>{L[j]=dp(P,D({},k,{theme:N}))}),h(k,L)}),l&&!m&&b.push(k=>{var N;const M=C0(D({},k,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return dp({variants:L},D({},k,{theme:M}))}),y||b.push(s);const R=b.length-E.length;if(Array.isArray(S)&&R>0){const k=new Array(R).fill("");C=[...S,...k],C.raw=[...S.raw,...k]}const T=w(C,...b);return o.muiName&&(T.muiName=o.muiName),T};return w.withConfig&&(I.withConfig=w.withConfig),I}}const VU=FU(),UU=VU;function $h(t,e){const n=D({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=D({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=D({},s),Object.keys(i).forEach(o=>{n[r][o]=$h(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function BU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:$h(e.components[n].defaultProps,r)}function zU({props:t,name:e,defaultTheme:n,themeId:r}){let i=W2(n);return r&&(i=i[r]||i),BU({theme:i,name:e,props:t})}const WU=typeof window<"u"?v.useLayoutEffect:v.useEffect,Es=WU;function UA(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const HU=Object.freeze(Object.defineProperty({__proto__:null,default:UA},Symbol.toStringTag,{value:"Module"}));function qU(t,e=0,n=1){return UA(t,e,n)}function GU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function BA(t){if(t.type)return t;if(t.charAt(0)==="#")return BA(GU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Zs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Zs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function KU(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function QU(t,e){return t=BA(t),e=qU(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,KU(t)}function db(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Xx(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function uv(t,e){var n,r;return v.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function pn(t){return t&&t.ownerDocument||document}function Kr(t){return pn(t).defaultView||window}function s_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let hb=0;function YU(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(hb+=1,n(`mui-${hb}`))},[e]),r}const fb=$p.useId;function Jx(t){if(fb!==void 0){const e=fb();return t??e}return YU(t)}function pb({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=v.useRef(t!==void 0),[s,o]=v.useState(e),a=i?t:s,l=v.useCallback(c=>{i||o(c)},[]);return[a,l]}function pi(t){const e=v.useRef(t);return Es(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function kn(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{s_(n,e)})},t)}const mb={};function XU(t,e){const n=v.useRef(mb);return n.current===mb&&(n.current=t(e)),n}const JU=[];function ZU(t){v.useEffect(t,JU)}class tg{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new tg}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Zx(){const t=XU(tg.create).current;return ZU(t.disposeEffect),t}let ng=!0,o_=!1;const eB=new tg,tB={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function nB(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&tB[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function rB(t){t.metaKey||t.altKey||t.ctrlKey||(ng=!0)}function dv(){ng=!1}function iB(){this.visibilityState==="hidden"&&o_&&(ng=!0)}function sB(t){t.addEventListener("keydown",rB,!0),t.addEventListener("mousedown",dv,!0),t.addEventListener("pointerdown",dv,!0),t.addEventListener("touchstart",dv,!0),t.addEventListener("visibilitychange",iB,!0)}function oB(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return ng||nB(e)}function aB(){const t=v.useCallback(i=>{i!=null&&sB(i.ownerDocument)},[]),e=v.useRef(!1);function n(){return e.current?(o_=!0,eB.start(100,()=>{o_=!1}),e.current=!1,!0):!1}function r(i){return oB(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function zA(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ze(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function hm(t){return typeof t=="string"}function lB(t,e,n){return t===void 0||hm(t)?e:D({},e,{ownerState:D({},e.ownerState,n)})}function fm(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function gb(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cB(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=_e(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m=D({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=D({},n,i,r);return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const o=fm(D({},i,r)),a=gb(r),l=gb(i),c=e(o),u=_e(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=D({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=D({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function uB(t,e,n){return typeof t=="function"?t(e,n):t}const dB=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function pl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=de(t,dB),a=s?{}:uB(r,i),{props:l,internalRef:c}=cB(D({},o,{externalSlotProps:a})),u=kn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return lB(n,D({},l,{ref:u}),i)}const hB=v.createContext(),e3=()=>{const t=v.useContext(hB);return t??!1},fB=v.createContext(void 0);function pB(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?$h(i.defaultProps,r):!i.styleOverrides&&!i.variants?$h(i,r):r}function mB({props:t,name:e}){const n=v.useContext(fB);return pB({props:t,name:e,theme:{components:n}})}const gB=["component","direction","spacing","divider","children","className","useFlexGap"],vB=If(),yB=UU("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function _B(t){return zU({props:t,name:"MuiStack",defaultTheme:vB})}function wB(t,e){const n=v.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(v.cloneElement(e,{key:`separator-${s}`})),r),[])}const xB=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],EB=({ownerState:t,theme:e})=>{let n=D({display:"flex",flexDirection:"column"},$r({theme:e},el({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=Gx(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=el({values:t.direction,base:i}),o=el({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const h=c>0?s[u[c-1]]:"column";s[l]=h}}),n=vr(n,$r({theme:e},o,(l,c)=>t.useFlexGap?{gap:fl(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${xB(c?s[c]:t.direction)}`]:fl(r,l)}}))}return n=IV(e.breakpoints,n),n};function IB(t={}){const{createStyledComponent:e=yB,useThemeProps:n=_B,componentName:r="MuiStack"}=t,i=()=>Ze({root:["root"]},l=>Qe(r,l),{}),s=e(EB);return v.forwardRef(function(l,c){const u=n(l),d=bf(u),{component:h="div",direction:p="column",spacing:m=0,divider:y,children:x,className:g,useFlexGap:w=!1}=d,_=de(d,gB),I={direction:p,spacing:m,useFlexGap:w},S=i();return f.jsx(s,D({as:h,ownerState:I,ref:c,className:_e(S.root,g)},_,{children:y?wB(x,y):x}))})}function bB(t,e){return D({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var on={},WA={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(WA);var HA=WA.exports;const CB=ua(mF),TB=ua(HU);var qA=HA;Object.defineProperty(on,"__esModule",{value:!0});var mi=on.alpha=JA;on.blend=jB;on.colorChannel=void 0;var GA=on.darken=n3;on.decomposeColor=bi;var SB=on.emphasize=ZA,RB=on.getContrastRatio=LB;on.getLuminance=pm;on.hexToRgb=QA;on.hslToRgb=XA;var KA=on.lighten=r3;on.private_safeAlpha=MB;on.private_safeColorChannel=void 0;on.private_safeDarken=OB;on.private_safeEmphasize=$B;on.private_safeLighten=DB;on.recomposeColor=Nu;on.rgbToHex=NB;var vb=qA(CB),kB=qA(TB);function t3(t,e=0,n=1){return(0,kB.default)(t,e,n)}function QA(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function AB(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function bi(t){if(t.type)return t;if(t.charAt(0)==="#")return bi(QA(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,vb.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,vb.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const YA=t=>{const e=bi(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};on.colorChannel=YA;const PB=(t,e)=>{try{return YA(t)}catch{return t}};on.private_safeColorChannel=PB;function Nu(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function NB(t){if(t.indexOf("#")===0)return t;const{values:e}=bi(t);return`#${e.map((n,r)=>AB(r===3?Math.round(255*n):n)).join("")}`}function XA(t){t=bi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Nu({type:a,values:l})}function pm(t){t=bi(t);let e=t.type==="hsl"||t.type==="hsla"?bi(XA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function LB(t,e){const n=pm(t),r=pm(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function JA(t,e){return t=bi(t),e=t3(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Nu(t)}function MB(t,e,n){try{return JA(t,e)}catch{return t}}function n3(t,e){if(t=bi(t),e=t3(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Nu(t)}function OB(t,e,n){try{return n3(t,e)}catch{return t}}function r3(t,e){if(t=bi(t),e=t3(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Nu(t)}function DB(t,e,n){try{return r3(t,e)}catch{return t}}function ZA(t,e=.15){return pm(t)>.5?n3(t,e):r3(t,e)}function $B(t,e,n){try{return ZA(t,e)}catch{return t}}function jB(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=bi(t),o=bi(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Nu({type:"rgb",values:a})}const FB=["mode","contrastThreshold","tonalOffset"],yb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lh.white,default:Lh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},hv={text:{primary:Lh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _b(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=KA(t.main,i):e==="dark"&&(t.dark=GA(t.main,s)))}function VB(t="light"){return t==="dark"?{main:Zl[200],light:Zl[50],dark:Zl[400]}:{main:Zl[700],light:Zl[400],dark:Zl[800]}}function UB(t="light"){return t==="dark"?{main:Jl[200],light:Jl[50],dark:Jl[400]}:{main:Jl[500],light:Jl[300],dark:Jl[700]}}function BB(t="light"){return t==="dark"?{main:Xl[500],light:Xl[300],dark:Xl[700]}:{main:Xl[700],light:Xl[400],dark:Xl[800]}}function zB(t="light"){return t==="dark"?{main:ec[400],light:ec[300],dark:ec[700]}:{main:ec[700],light:ec[500],dark:ec[900]}}function WB(t="light"){return t==="dark"?{main:tc[400],light:tc[300],dark:tc[700]}:{main:tc[800],light:tc[500],dark:tc[900]}}function HB(t="light"){return t==="dark"?{main:od[400],light:od[300],dark:od[700]}:{main:"#ed6c02",light:od[500],dark:od[900]}}function qB(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=de(t,FB),s=t.primary||VB(e),o=t.secondary||UB(e),a=t.error||BB(e),l=t.info||zB(e),c=t.success||WB(e),u=t.warning||HB(e);function d(y){return RB(y,hv.text.primary)>=n?hv.text.primary:yb.text.primary}const h=({color:y,name:x,mainShade:g=500,lightShade:w=300,darkShade:_=700})=>{if(y=D({},y),!y.main&&y[g]&&(y.main=y[g]),!y.hasOwnProperty("main"))throw new Error(Zs(11,x?` (${x})`:"",g));if(typeof y.main!="string")throw new Error(Zs(12,x?` (${x})`:"",JSON.stringify(y.main)));return _b(y,"light",w,r),_b(y,"dark",_,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:hv,light:yb};return vr(D({common:D({},Lh),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:pF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const GB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function KB(t){return Math.round(t*1e5)/1e5}const wb={textTransform:"uppercase"},xb='"Roboto", "Helvetica", "Arial", sans-serif';function QB(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=xb,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=de(n,GB),p=i/14,m=d||(g=>`${g/c*p}rem`),y=(g,w,_,I,S)=>D({fontFamily:r,fontWeight:g,fontSize:m(w),lineHeight:_},r===xb?{letterSpacing:`${KB(I/w)}em`}:{},S,u),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,wb),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,wb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vr(D({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),h,{clone:!1})}const YB=.2,XB=.14,JB=.12;function Dt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${YB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${XB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${JB})`].join(",")}const ZB=["none",Dt(0,2,1,-1,0,1,1,0,0,1,3,0),Dt(0,3,1,-2,0,2,2,0,0,1,5,0),Dt(0,3,3,-2,0,3,4,0,0,1,8,0),Dt(0,2,4,-1,0,4,5,0,0,1,10,0),Dt(0,3,5,-1,0,5,8,0,0,1,14,0),Dt(0,3,5,-1,0,6,10,0,0,1,18,0),Dt(0,4,5,-2,0,7,10,1,0,2,16,1),Dt(0,5,5,-3,0,8,10,1,0,3,14,2),Dt(0,5,6,-3,0,9,12,1,0,3,16,2),Dt(0,6,6,-3,0,10,14,1,0,4,18,3),Dt(0,6,7,-4,0,11,15,1,0,4,20,3),Dt(0,7,8,-4,0,12,17,2,0,5,22,4),Dt(0,7,8,-4,0,13,19,2,0,5,24,4),Dt(0,7,9,-4,0,14,21,2,0,5,26,4),Dt(0,8,9,-5,0,15,22,2,0,6,28,5),Dt(0,8,10,-5,0,16,24,2,0,6,30,5),Dt(0,8,11,-5,0,17,26,2,0,6,32,5),Dt(0,9,11,-5,0,18,28,2,0,7,34,6),Dt(0,9,12,-6,0,19,29,2,0,7,36,6),Dt(0,10,13,-6,0,20,31,3,0,8,38,7),Dt(0,10,13,-6,0,21,33,3,0,8,40,7),Dt(0,10,14,-6,0,22,35,3,0,8,42,7),Dt(0,11,14,-7,0,23,36,3,0,9,44,8),Dt(0,11,15,-7,0,24,38,3,0,9,46,8)],ez=ZB,tz=["duration","easing","delay"],nz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Eb(t){return`${Math.round(t)}ms`}function iz(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function sz(t){const e=D({},nz,t.easing),n=D({},rz,t.duration);return D({getAutoHeightDuration:iz,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return de(s,tz),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:Eb(o)} ${a} ${typeof l=="string"?l:Eb(l)}`).join(",")}},t,{easing:e,duration:n})}const oz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},az=oz,lz=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function e6(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=de(t,lz);if(t.vars)throw new Error(Zs(18));const a=qB(r),l=If(t);let c=vr(l,{mixins:bB(l.breakpoints,n),palette:a,shadows:ez.slice(),typography:QB(a,s),transitions:sz(i),zIndex:D({},az)});return c=vr(c,o),c=e.reduce((u,d)=>vr(u,d),c),c.unstable_sxConfig=D({},xf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Ef({sx:d,theme:this})},c}function cz(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function uz(t){return parseFloat(t)}const dz=e6(),i3=dz;function ma(){const t=W2(i3);return t[I2]||t}var Cf={},fv={exports:{}},Ib;function hz(){return Ib||(Ib=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(fv)),fv.exports}const fz=ua(vV),pz=ua(yV),mz=ua(CV),gz=ua(AU),vz=ua(fU),yz=ua(wU);var Lu=HA;Object.defineProperty(Cf,"__esModule",{value:!0});var _z=Cf.default=Nz;Cf.shouldForwardProp=hp;Cf.systemDefaultTheme=void 0;var oi=Lu(bA()),a_=Lu(hz()),bb=Tz(fz),wz=pz;Lu(mz);Lu(gz);var xz=Lu(vz),Ez=Lu(yz);const Iz=["ownerState"],bz=["variants"],Cz=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function t6(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(t6=function(r){return r?n:e})(t)}function Tz(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=t6(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Sz(t){return Object.keys(t).length===0}function Rz(t){return typeof t=="string"&&t.charCodeAt(0)>96}function hp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const kz=Cf.systemDefaultTheme=(0,xz.default)(),Az=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function T0({defaultTheme:t,theme:e,themeId:n}){return Sz(e)?t:e[n]||e}function Pz(t){return t?(e,n)=>n[t]:null}function fp(t,e){let{ownerState:n}=e,r=(0,a_.default)(e,Iz);const i=typeof t=="function"?t((0,oi.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>fp(s,(0,oi.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,a_.default)(i,bz);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,oi.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,oi.default)({ownerState:n},r,n)):l.style))}),a}return i}function Nz(t={}){const{themeId:e,defaultTheme:n=kz,rootShouldForwardProp:r=hp,slotShouldForwardProp:i=hp}=t,s=o=>(0,Ez.default)((0,oi.default)({},o,{theme:T0((0,oi.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,bb.internal_processStyles)(o,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Pz(Az(c))}=a,p=(0,a_.default)(a,Cz),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,g=hp;c==="Root"||c==="root"?g=r:c?g=i:Rz(o)&&(g=void 0);const w=(0,bb.default)(o,(0,oi.default)({shouldForwardProp:g,label:x},p)),_=S=>typeof S=="function"&&S.__emotion_real!==S||(0,wz.isPlainObject)(S)?E=>fp(S,(0,oi.default)({},E,{theme:T0({theme:E.theme,defaultTheme:n,themeId:e})})):S,I=(S,...E)=>{let C=_(S);const b=E?E.map(_):[];l&&h&&b.push(k=>{const N=T0((0,oi.default)({},k,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([j,P])=>{L[j]=fp(P,(0,oi.default)({},k,{theme:N}))}),h(k,L)}),l&&!m&&b.push(k=>{var N;const M=T0((0,oi.default)({},k,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return fp({variants:L},(0,oi.default)({},k,{theme:M}))}),y||b.push(s);const R=b.length-E.length;if(Array.isArray(S)&&R>0){const k=new Array(R).fill("");C=[...S,...k],C.raw=[...S.raw,...k]}const T=w(C,...b);return o.muiName&&(T.muiName=o.muiName),T};return w.withConfig&&(I.withConfig=w.withConfig),I}}function n6(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Lz=t=>n6(t)&&t!=="classes",Fr=Lz,Mz=_z({themeId:I2,defaultTheme:i3,rootShouldForwardProp:Fr}),ae=Mz,Oz=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},Cb=Oz;function Ye(t){return mB(t)}function Dz(t){return Qe("MuiSvgIcon",t)}He("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const $z=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jz=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${se(e)}`,`fontSize${se(n)}`]};return Ze(i,Dz,r)},Fz=ae("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${se(n.color)}`],e[`fontSize${se(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),r6=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=de(r,$z),m=v.isValidElement(i)&&i.type==="svg",y=D({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),x={};u||(x.viewBox=h);const g=jz(y);return f.jsxs(Fz,D({as:a,className:_e(g.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},x,p,m&&i.props,{ownerState:y,children:[m?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});r6.muiName="SvgIcon";const Tb=r6;function Vz(t,e){function n(r,i){return f.jsx(Tb,D({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Tb.muiName,v.memo(v.forwardRef(n))}var It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3=Symbol.for("react.element"),o3=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),og=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Uz=Symbol.for("react.server_context"),lg=Symbol.for("react.forward_ref"),cg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),hg=Symbol.for("react.lazy"),Bz=Symbol.for("react.offscreen"),i6;i6=Symbol.for("react.module.reference");function Ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case s3:switch(t=t.type,t){case rg:case sg:case ig:case cg:case ug:return t;default:switch(t=t&&t.$$typeof,t){case Uz:case ag:case lg:case hg:case dg:case og:return t;default:return e}}case o3:return e}}}It.ContextConsumer=ag;It.ContextProvider=og;It.Element=s3;It.ForwardRef=lg;It.Fragment=rg;It.Lazy=hg;It.Memo=dg;It.Portal=o3;It.Profiler=sg;It.StrictMode=ig;It.Suspense=cg;It.SuspenseList=ug;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(t){return Ai(t)===ag};It.isContextProvider=function(t){return Ai(t)===og};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===s3};It.isForwardRef=function(t){return Ai(t)===lg};It.isFragment=function(t){return Ai(t)===rg};It.isLazy=function(t){return Ai(t)===hg};It.isMemo=function(t){return Ai(t)===dg};It.isPortal=function(t){return Ai(t)===o3};It.isProfiler=function(t){return Ai(t)===sg};It.isStrictMode=function(t){return Ai(t)===ig};It.isSuspense=function(t){return Ai(t)===cg};It.isSuspenseList=function(t){return Ai(t)===ug};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rg||t===sg||t===ig||t===cg||t===ug||t===Bz||typeof t=="object"&&t!==null&&(t.$$typeof===hg||t.$$typeof===dg||t.$$typeof===og||t.$$typeof===ag||t.$$typeof===lg||t.$$typeof===i6||t.getModuleId!==void 0)};It.typeOf=Ai;function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},l_(t,e)}function s6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l_(t,e)}const Sb={disabled:!1},mm=pr.createContext(null);var zz=function(e){return e.scrollTop},Pd="unmounted",Pa="exited",Na="entering",uc="entered",c_="exiting",lo=function(t){s6(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Pa,s.appearStatus=Na):l=uc:r.unmountOnExit||r.mountOnEnter?l=Pd:l=Pa,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Pd?{status:Pa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Na&&o!==uc&&(s=Na):(o===Na||o===uc)&&(s=c_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Na){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:I0.findDOMNode(this);o&&zz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pa&&this.setState({status:Pd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[I0.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||Sb.disabled){this.safeSetState({status:uc},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Na},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:uc},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:I0.findDOMNode(this);if(!s||Sb.disabled){this.safeSetState({status:Pa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:c_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Pa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:I0.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Pd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=de(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pr.createElement(mm.Provider,{value:null},typeof o=="function"?o(i,a):pr.cloneElement(pr.Children.only(o),a))},e}(pr.Component);lo.contextType=mm;lo.propTypes={};function nc(){}lo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nc,onEntering:nc,onEntered:nc,onExit:nc,onExiting:nc,onExited:nc};lo.UNMOUNTED=Pd;lo.EXITED=Pa;lo.ENTERING=Na;lo.ENTERED=uc;lo.EXITING=c_;const a3=lo;function Wz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(t,e){var n=function(s){return e&&v.isValidElement(s)?e(s):s},r=Object.create(null);return t&&v.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Hz(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Wa(t,e,n){return n[e]!=null?n[e]:t.props[e]}function qz(t,e){return l3(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Wa(n,"appear",t),enter:Wa(n,"enter",t),exit:Wa(n,"exit",t)})})}function Gz(t,e,n){var r=l3(t.children),i=Hz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(v.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Wa(o,"exit",t),enter:Wa(o,"enter",t)}):!l&&a&&!u?i[s]=v.cloneElement(o,{in:!1}):l&&a&&v.isValidElement(c)&&(i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Wa(o,"exit",t),enter:Wa(o,"enter",t)}))}}),i}var Kz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Qz={component:"div",childFactory:function(e){return e}},c3=function(t){s6(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Wz(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?qz(i,a):Gz(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=l3(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=D({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=de(i,["component","childFactory"]),l=this.state.contextValue,c=Kz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pr.createElement(mm.Provider,{value:l},c):pr.createElement(mm.Provider,{value:l},pr.createElement(s,a,c))},e}(pr.Component);c3.propTypes={};c3.defaultProps=Qz;const Yz=c3,u3=t=>t.scrollTop;function ml(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Xz(t){return Qe("MuiPaper",t)}He("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Jz=["className","component","elevation","square","variant"],Zz=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ze(s,Xz,i)},eW=ae("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return D({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&D({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${mi("#fff",Cb(e.elevation))}, ${mi("#fff",Cb(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),tW=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=de(r,Jz),u=D({},r,{component:s,elevation:o,square:a,variant:l}),d=Zz(u);return f.jsx(eW,D({as:s,ownerState:u,className:_e(d.root,i),ref:n},c))}),Mu=tW;function nW(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=v.useState(!1),h=_e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=_e(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:m})})}const rW=He("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ai=rW,iW=["center","classes","className"];let fg=t=>t,Rb,kb,Ab,Pb;const u_=550,sW=80,oW=Xi(Rb||(Rb=fg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),aW=Xi(kb||(kb=fg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),lW=Xi(Ab||(Ab=fg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),cW=ae("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uW=ae(nW,{name:"MuiTouchRipple",slot:"Ripple"})(Pb||(Pb=fg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ai.rippleVisible,oW,u_,({theme:t})=>t.transitions.easing.easeInOut,ai.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ai.child,ai.childLeaving,aW,u_,({theme:t})=>t.transitions.easing.easeInOut,ai.childPulsate,lW,({theme:t})=>t.transitions.easing.easeInOut),dW=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=de(r,iW),[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=v.useRef(!1),p=Zx(),m=v.useRef(null),y=v.useRef(null),x=v.useCallback(I=>{const{pulsate:S,rippleX:E,rippleY:C,rippleSize:b,cb:R}=I;c(T=>[...T,f.jsx(uW,{classes:{ripple:_e(s.ripple,ai.ripple),rippleVisible:_e(s.rippleVisible,ai.rippleVisible),ripplePulsate:_e(s.ripplePulsate,ai.ripplePulsate),child:_e(s.child,ai.child),childLeaving:_e(s.childLeaving,ai.childLeaving),childPulsate:_e(s.childPulsate,ai.childPulsate)},timeout:u_,pulsate:S,rippleX:E,rippleY:C,rippleSize:b},u.current)]),u.current+=1,d.current=R},[s]),g=v.useCallback((I={},S={},E=()=>{})=>{const{pulsate:C=!1,center:b=i||S.pulsate,fakeElement:R=!1}=S;if((I==null?void 0:I.type)==="mousedown"&&h.current){h.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(h.current=!0);const T=R?null:y.current,k=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,L;if(b||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)N=Math.round(k.width/2),M=Math.round(k.height/2);else{const{clientX:j,clientY:P}=I.touches&&I.touches.length>0?I.touches[0]:I;N=Math.round(j-k.left),M=Math.round(P-k.top)}if(b)L=Math.sqrt((2*k.width**2+k.height**2)/3),L%2===0&&(L+=1);else{const j=Math.max(Math.abs((T?T.clientWidth:0)-N),N)*2+2,P=Math.max(Math.abs((T?T.clientHeight:0)-M),M)*2+2;L=Math.sqrt(j**2+P**2)}I!=null&&I.touches?m.current===null&&(m.current=()=>{x({pulsate:C,rippleX:N,rippleY:M,rippleSize:L,cb:E})},p.start(sW,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:C,rippleX:N,rippleY:M,rippleSize:L,cb:E})},[i,x,p]),w=v.useCallback(()=>{g({},{pulsate:!0})},[g]),_=v.useCallback((I,S)=>{if(p.clear(),(I==null?void 0:I.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(I,S)});return}m.current=null,c(E=>E.length>0?E.slice(1):E),d.current=S},[p]);return v.useImperativeHandle(n,()=>({pulsate:w,start:g,stop:_}),[w,g,_]),f.jsx(cW,D({className:_e(ai.root,s.root,o),ref:y},a,{children:f.jsx(Yz,{component:null,exit:!0,children:l})}))}),hW=dW;function fW(t){return Qe("MuiButtonBase",t)}const pW=He("MuiButtonBase",["root","disabled","focusVisible"]),mW=pW,gW=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],vW=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ze({root:["root",e&&"disabled",n&&"focusVisible"]},fW,i);return n&&r&&(o.root+=` ${r}`),o},yW=ae("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_W=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:y,onContextMenu:x,onDragLeave:g,onFocus:w,onFocusVisible:_,onKeyDown:I,onKeyUp:S,onMouseDown:E,onMouseLeave:C,onMouseUp:b,onTouchEnd:R,onTouchMove:T,onTouchStart:k,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:L,type:j}=r,P=de(r,gW),A=v.useRef(null),O=v.useRef(null),$=kn(O,L),{isFocusVisibleRef:F,onFocus:q,onBlur:W,ref:z}=aB(),[B,V]=v.useState(!1);c&&B&&V(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),A.current.focus()}}),[]);const[G,ie]=v.useState(!1);v.useEffect(()=>{ie(!0)},[]);const le=G&&!u&&!c;v.useEffect(()=>{B&&h&&!u&&G&&O.current.pulsate()},[u,h,B,G]);function ee(me,Ct,tn=d){return pi(ln=>(Ct&&Ct(ln),!tn&&O.current&&O.current[me](ln),!0))}const he=ee("start",E),ce=ee("stop",x),oe=ee("stop",g),ve=ee("stop",b),Re=ee("stop",me=>{B&&me.preventDefault(),C&&C(me)}),xe=ee("start",k),wt=ee("stop",R),Ue=ee("stop",T),De=ee("stop",me=>{W(me),F.current===!1&&V(!1),m&&m(me)},!1),st=pi(me=>{A.current||(A.current=me.currentTarget),q(me),F.current===!0&&(V(!0),_&&_(me)),w&&w(me)}),lt=()=>{const me=A.current;return l&&l!=="button"&&!(me.tagName==="A"&&me.href)},Te=v.useRef(!1),bt=pi(me=>{h&&!Te.current&&B&&O.current&&me.key===" "&&(Te.current=!0,O.current.stop(me,()=>{O.current.start(me)})),me.target===me.currentTarget&&lt()&&me.key===" "&&me.preventDefault(),I&&I(me),me.target===me.currentTarget&&lt()&&me.key==="Enter"&&!c&&(me.preventDefault(),y&&y(me))}),$e=pi(me=>{h&&me.key===" "&&O.current&&B&&!me.defaultPrevented&&(Te.current=!1,O.current.stop(me,()=>{O.current.pulsate(me)})),S&&S(me),y&&me.target===me.currentTarget&&lt()&&me.key===" "&&!me.defaultPrevented&&y(me)});let Ee=l;Ee==="button"&&(P.href||P.to)&&(Ee=p);const St={};Ee==="button"?(St.type=j===void 0?"button":j,St.disabled=c):(!P.href&&!P.to&&(St.role="button"),c&&(St["aria-disabled"]=c));const an=kn(n,z,A),On=D({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:B}),ke=vW(On);return f.jsxs(yW,D({as:Ee,className:_e(ke.root,a),ownerState:On,onBlur:De,onClick:y,onContextMenu:ce,onFocus:st,onKeyDown:bt,onKeyUp:$e,onMouseDown:he,onMouseLeave:Re,onMouseUp:ve,onDragLeave:oe,onTouchEnd:wt,onTouchMove:Ue,onTouchStart:xe,ref:an,tabIndex:c?-1:N,type:j},St,P,{children:[o,le?f.jsx(hW,D({ref:$,center:s},M)):null]}))}),d3=_W;function wW(t){return Qe("MuiIconButton",t)}const xW=He("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),EW=xW,IW=["edge","children","className","color","disabled","disableFocusRipple","size"],bW=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${se(r)}`,i&&`edge${se(i)}`,`size${se(s)}`]};return Ze(o,wW,e)},CW=ae(d3,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${se(n.color)}`],n.edge&&e[`edge${se(n.edge)}`],e[`size${se(n.size)}`]]}})(({theme:t,ownerState:e})=>D({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:mi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return D({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&D({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":D({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:mi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${EW.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),TW=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=de(r,IW),h=D({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=bW(h);return f.jsx(CW,D({className:_e(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),Rn=TW;function SW(t){return Qe("MuiTypography",t)}He("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const RW=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],kW=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${se(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ze(a,SW,o)},AW=ae("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${se(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>D({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Nb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},PW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},NW=t=>PW[t]||t,LW=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTypography"}),i=NW(r.color),s=bf(D({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=Nb}=s,m=de(s,RW),y=D({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),x=l||(d?"p":p[h]||Nb[h])||"span",g=kW(y);return f.jsx(AW,D({as:x,ref:n,ownerState:y,className:_e(g.root,a)},m))}),jt=LW;function MW(t){return Qe("MuiAppBar",t)}He("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const OW=["className","color","enableColorOnDark","position"],DW=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${se(e)}`,`position${se(n)}`]};return Ze(i,MW,r)},S0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,$W=ae(Mu,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${se(n.position)}`],e[`color${se(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return D({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&D({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&D({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&D({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:S0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:S0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:S0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:S0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),jW=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=de(r,OW),c=D({},r,{color:s,position:a,enableColorOnDark:o}),u=DW(c);return f.jsx($W,D({square:!0,component:"header",ownerState:c,elevation:4,className:_e(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),o6=jW;function FW(t){return typeof t=="function"?t():t}const VW=v.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=v.useState(null),l=kn(v.isValidElement(r)?r.ref:null,n);if(Es(()=>{s||a(FW(i)||document.body)},[i,s]),Es(()=>{if(o&&!s)return s_(n,o),()=>{s_(n,null)}},[n,o,s]),s){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return f.jsx(v.Fragment,{children:r})}return f.jsx(v.Fragment,{children:o&&Ah.createPortal(r,o)})}),UW=VW,BW=["onChange","maxRows","minRows","style","value"];function R0(t){return parseInt(t,10)||0}const zW={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function WW(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const HW=v.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=de(e,BW),{current:c}=v.useRef(a!=null),u=v.useRef(null),d=kn(n,u),h=v.useRef(null),p=v.useRef(null),m=v.useCallback(()=>{const g=u.current,_=Kr(g).getComputedStyle(g);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const I=p.current;I.style.width=_.width,I.value=g.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const S=_.boxSizing,E=R0(_.paddingBottom)+R0(_.paddingTop),C=R0(_.borderBottomWidth)+R0(_.borderTopWidth),b=I.scrollHeight;I.value="x";const R=I.scrollHeight;let T=b;s&&(T=Math.max(Number(s)*R,T)),i&&(T=Math.min(Number(i)*R,T)),T=Math.max(T,R);const k=T+(S==="border-box"?E+C:0),N=Math.abs(T-b)<=1;return{outerHeightStyle:k,overflowing:N}},[i,s,e.placeholder]),y=v.useCallback(()=>{const g=m();if(WW(g))return;const w=g.outerHeightStyle,_=u.current;h.current!==w&&(h.current=w,_.style.height=`${w}px`),_.style.overflow=g.overflowing?"hidden":""},[m]);Es(()=>{const g=()=>{y()};let w;const _=Xx(g),I=u.current,S=Kr(I);S.addEventListener("resize",_);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(g),E.observe(I)),()=>{_.clear(),cancelAnimationFrame(w),S.removeEventListener("resize",_),E&&E.disconnect()}},[m,y]),Es(()=>{y()});const x=g=>{c||y(),r&&r(g)};return f.jsxs(v.Fragment,{children:[f.jsx("textarea",D({value:a,onChange:x,ref:d,rows:s,style:o},l)),f.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:D({},zW.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),qW=HW;function Ou({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const GW=v.createContext(void 0),h3=GW;function Du(){return v.useContext(h3)}function KW(t){return f.jsx(vU,D({},t,{defaultTheme:i3,themeId:I2}))}function Lb(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function gm(t,e=!1){return t&&(Lb(t.value)&&t.value!==""||e&&Lb(t.defaultValue)&&t.defaultValue!=="")}function QW(t){return t.startAdornment}function YW(t){return Qe("MuiInputBase",t)}const XW=He("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),su=XW,JW=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],pg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${se(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},mg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},ZW=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=t,y={root:["root",`color${se(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${se(h)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ze(y,YW,e)},gg=ae("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pg})(({theme:t,ownerState:e})=>D({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${su.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&D({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),vg=ae("input",{name:"MuiInputBase",slot:"Input",overridesResolver:mg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=D({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return D({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${su.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${su.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),eH=f.jsx(KW,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),tH=v.forwardRef(function(e,n){var r;const i=Ye({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:y=!1,id:x,inputComponent:g="input",inputProps:w={},inputRef:_,maxRows:I,minRows:S,multiline:E=!1,name:C,onBlur:b,onChange:R,onClick:T,onFocus:k,onKeyDown:N,onKeyUp:M,placeholder:L,readOnly:j,renderSuffix:P,rows:A,slotProps:O={},slots:$={},startAdornment:F,type:q="text",value:W}=i,z=de(i,JW),B=w.value!=null?w.value:W,{current:V}=v.useRef(B!=null),G=v.useRef(),ie=v.useCallback(ke=>{},[]),le=kn(G,_,w.ref,ie),[ee,he]=v.useState(!1),ce=Du(),oe=Ou({props:i,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ce?ce.focused:ee,v.useEffect(()=>{!ce&&h&&ee&&(he(!1),b&&b())},[ce,h,ee,b]);const ve=ce&&ce.onFilled,Re=ce&&ce.onEmpty,xe=v.useCallback(ke=>{gm(ke)?ve&&ve():Re&&Re()},[ve,Re]);Es(()=>{V&&xe({value:B})},[B,xe,V]);const wt=ke=>{if(oe.disabled){ke.stopPropagation();return}k&&k(ke),w.onFocus&&w.onFocus(ke),ce&&ce.onFocus?ce.onFocus(ke):he(!0)},Ue=ke=>{b&&b(ke),w.onBlur&&w.onBlur(ke),ce&&ce.onBlur?ce.onBlur(ke):he(!1)},De=(ke,...me)=>{if(!V){const Ct=ke.target||G.current;if(Ct==null)throw new Error(Zs(1));xe({value:Ct.value})}w.onChange&&w.onChange(ke,...me),R&&R(ke,...me)};v.useEffect(()=>{xe(G.current)},[]);const st=ke=>{G.current&&ke.currentTarget===ke.target&&G.current.focus(),T&&T(ke)};let lt=g,Te=w;E&&lt==="input"&&(A?Te=D({type:void 0,minRows:A,maxRows:A},Te):Te=D({type:void 0,maxRows:I,minRows:S},Te),lt=qW);const bt=ke=>{xe(ke.animationName==="mui-auto-fill-cancel"?G.current:{value:"x"})};v.useEffect(()=>{ce&&ce.setAdornedStart(!!F)},[ce,F]);const $e=D({},i,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:m,error:oe.error,focused:oe.focused,formControl:ce,fullWidth:y,hiddenLabel:oe.hiddenLabel,multiline:E,size:oe.size,startAdornment:F,type:q}),Ee=ZW($e),St=$.root||c.Root||gg,an=O.root||u.root||{},On=$.input||c.Input||vg;return Te=D({},Te,(r=O.input)!=null?r:u.input),f.jsxs(v.Fragment,{children:[!p&&eH,f.jsxs(St,D({},an,!hm(St)&&{ownerState:D({},$e,an.ownerState)},{ref:n,onClick:st},z,{className:_e(Ee.root,an.className,l,j&&"MuiInputBase-readOnly"),children:[F,f.jsx(h3.Provider,{value:null,children:f.jsx(On,D({ownerState:$e,"aria-invalid":oe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:oe.disabled,id:x,onAnimationStart:bt,name:C,placeholder:L,readOnly:j,required:oe.required,rows:A,value:B,onKeyDown:N,onKeyUp:M,type:q},Te,!hm(On)&&{as:lt,ownerState:D({},$e,Te.ownerState)},{ref:le,className:_e(Ee.input,Te.className,j&&"MuiInputBase-readOnly"),onBlur:Ue,onChange:De,onFocus:wt}))}),m,P?P(D({},oe,{startAdornment:F})):null]}))]})}),f3=tH;function nH(t){return Qe("MuiInput",t)}const rH=D({},su,He("MuiInput",["root","underline","input"])),ld=rH;function iH(t){return Qe("MuiOutlinedInput",t)}const sH=D({},su,He("MuiOutlinedInput",["root","notchedOutline","input"])),mo=sH;function oH(t){return Qe("MuiFilledInput",t)}const aH=D({},su,He("MuiFilledInput",["root","underline","input"])),Ta=aH,lH=Vz(f.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),cH=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],uH={entering:{opacity:1},entered:{opacity:1}},dH=v.forwardRef(function(e,n){const r=ma(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:x,timeout:g=i,TransitionComponent:w=a3}=e,_=de(e,cH),I=v.useRef(null),S=kn(I,a.ref,n),E=L=>j=>{if(L){const P=I.current;j===void 0?L(P):L(P,j)}},C=E(h),b=E((L,j)=>{u3(L);const P=ml({style:x,timeout:g,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",P),L.style.transition=r.transitions.create("opacity",P),u&&u(L,j)}),R=E(d),T=E(y),k=E(L=>{const j=ml({style:x,timeout:g,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",j),L.style.transition=r.transitions.create("opacity",j),p&&p(L)}),N=E(m),M=L=>{s&&s(I.current,L)};return f.jsx(w,D({appear:o,in:c,nodeRef:I,onEnter:b,onEntered:R,onEntering:C,onExit:k,onExited:N,onExiting:T,addEndListener:M,timeout:g},_,{children:(L,j)=>v.cloneElement(a,D({style:D({opacity:0,visibility:L==="exited"&&!c?"hidden":void 0},uH[L],x,a.props.style),ref:S},j))}))}),a6=dH;function hH(t){return Qe("MuiBackdrop",t)}He("MuiBackdrop",["root","invisible"]);const fH=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],pH=t=>{const{classes:e,invisible:n}=t;return Ze({root:["root",n&&"invisible"]},hH,e)},mH=ae("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>D({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),gH=v.forwardRef(function(e,n){var r,i,s;const o=Ye({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:y={},TransitionComponent:x=a6,transitionDuration:g}=o,w=de(o,fH),_=D({},o,{component:c,invisible:h}),I=pH(_),S=(r=m.root)!=null?r:d.root;return f.jsx(x,D({in:p,timeout:g},w,{children:f.jsx(mH,D({"aria-hidden":!0},S,{as:(i=(s=y.root)!=null?s:u.Root)!=null?i:c,className:_e(I.root,l,S==null?void 0:S.className),ownerState:D({},_,S==null?void 0:S.ownerState),classes:I,ref:n,children:a}))}))}),l6=gH,vH=He("MuiBox",["root"]),yH=vH,_H=e6(),wH=bU({themeId:I2,defaultTheme:_H,defaultClassName:yH.root,generateClassName:OA.generate}),Le=wH;function xH(t){return Qe("MuiButton",t)}const EH=He("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),k0=EH,IH=v.createContext({}),bH=IH,CH=v.createContext(void 0),TH=CH,SH=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],RH=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${se(e)}`,`size${se(i)}`,`${s}Size${se(i)}`,`color${se(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${se(i)}`],endIcon:["icon","endIcon",`iconSize${se(i)}`]},l=Ze(a,xH,o);return D({},o,l)},c6=t=>D({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),kH=ae(d3,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${se(n.color)}`],e[`size${se(n.size)}`],e[`${n.variant}Size${se(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return D({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":D({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:mi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:mi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:mi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":D({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${k0.focusVisible}`]:D({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${k0.disabled}`]:D({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${mi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${k0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${k0.disabled}`]:{boxShadow:"none"}}),AH=ae("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>D({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},c6(t))),PH=ae("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>D({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},c6(t))),NH=v.forwardRef(function(e,n){const r=v.useContext(bH),i=v.useContext(TH),s=$h(r,e),o=Ye({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:x=!1,size:g="medium",startIcon:w,type:_,variant:I="text"}=o,S=de(o,SH),E=D({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:x,size:g,type:_,variant:I}),C=RH(E),b=w&&f.jsx(AH,{className:C.startIcon,ownerState:E,children:w}),R=m&&f.jsx(PH,{className:C.endIcon,ownerState:E,children:m}),T=i||"";return f.jsxs(kH,D({ownerState:E,className:_e(r.className,C.root,u,T),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:_e(C.focusVisible,y),ref:n,type:_},S,{classes:C,children:[b,a,R]}))}),Ve=NH;function LH(t){return Qe("MuiCircularProgress",t)}He("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const MH=["className","color","disableShrink","size","style","thickness","value","variant"];let yg=t=>t,Mb,Ob,Db,$b;const go=44,OH=Xi(Mb||(Mb=yg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),DH=Xi(Ob||(Ob=yg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),$H=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${se(r)}`],svg:["svg"],circle:["circle",`circle${se(n)}`,i&&"circleDisableShrink"]};return Ze(s,LH,e)},jH=ae("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${se(n.color)}`]]}})(({ownerState:t,theme:e})=>D({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&eo(Db||(Db=yg`
      animation: ${0} 1.4s linear infinite;
    `),OH)),FH=ae("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),VH=ae("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${se(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>D({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&eo($b||($b=yg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),DH)),UH=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=de(r,MH),p=D({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),m=$H(p),y={},x={},g={};if(d==="determinate"){const w=2*Math.PI*((go-c)/2);y.strokeDasharray=w.toFixed(3),g["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return f.jsx(jH,D({className:_e(m.root,i),style:D({width:a,height:a},x,l),ownerState:p,ref:n,role:"progressbar"},g,h,{children:f.jsx(FH,{className:m.svg,ownerState:p,viewBox:`${go/2} ${go/2} ${go} ${go}`,children:f.jsx(VH,{className:m.circle,style:y,ownerState:p,cx:go,cy:go,r:(go-c)/2,fill:"none",strokeWidth:c})})}))}),BH=UH;function jb(t){return t.substring(2).toLowerCase()}function zH(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function WH(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=v.useRef(!1),a=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1);v.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=kn(e.ref,a),d=pi(m=>{const y=c.current;c.current=!1;const x=pn(a.current);if(!l.current||!a.current||"clientX"in m&&zH(m,x))return;if(o.current){o.current=!1;return}let g;m.composedPath?g=m.composedPath().indexOf(a.current)>-1:g=!x.documentElement.contains(m.target)||a.current.contains(m.target),!g&&(n||!y)&&i(m)}),h=m=>y=>{c.current=!0;const x=e.props[m];x&&x(y)},p={ref:u};return s!==!1&&(p[s]=h(s)),v.useEffect(()=>{if(s!==!1){const m=jb(s),y=pn(a.current),x=()=>{o.current=!0};return y.addEventListener(m,d),y.addEventListener("touchmove",x),()=>{y.removeEventListener(m,d),y.removeEventListener("touchmove",x)}}},[d,s]),r!==!1&&(p[r]=h(r)),v.useEffect(()=>{if(r!==!1){const m=jb(r),y=pn(a.current);return y.addEventListener(m,d),()=>{y.removeEventListener(m,d)}}},[d,r]),f.jsx(v.Fragment,{children:v.cloneElement(e,p)})}function HH(t){const e=pn(t);return e.body===t?Kr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Xd(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Fb(t){return parseInt(Kr(t).getComputedStyle(t).paddingRight,10)||0}function qH(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Vb(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!qH(o);a&&l&&Xd(o,i)})}function pv(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function GH(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(HH(r)){const o=zA(pn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Fb(r)+o}px`;const a=pn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Fb(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=pn(r).body;else{const o=r.parentElement,a=Kr(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function KH(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class QH{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Xd(e.modalRef,!1);const i=KH(n);Vb(n,e.mount,e.modalRef,i,!0);const s=pv(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=pv(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=GH(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=pv(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Xd(e.modalRef,n),Vb(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Xd(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const YH=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function XH(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function JH(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function ZH(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||JH(t))}function eq(t){const e=[],n=[];return Array.from(t.querySelectorAll(YH)).forEach((r,i)=>{const s=XH(r);s===-1||!ZH(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function tq(){return!0}function nq(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=eq,isEnabled:o=tq,open:a}=t,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),m=v.useRef(null),y=kn(e.ref,m),x=v.useRef(null);v.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!m.current)return;const _=pn(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!m.current)return;const _=pn(m.current),I=C=>{x.current=C,!(r||!o()||C.key!=="Tab")&&_.activeElement===m.current&&C.shiftKey&&(l.current=!0,u.current&&u.current.focus())},S=()=>{const C=m.current;if(C===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let b=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(b=s(m.current)),b.length>0){var R,T;const k=!!((R=x.current)!=null&&R.shiftKey&&((T=x.current)==null?void 0:T.key)==="Tab"),N=b[0],M=b[b.length-1];typeof N!="string"&&typeof M!="string"&&(k?M.focus():N.focus())}else C.focus()};_.addEventListener("focusin",S),_.addEventListener("keydown",I,!0);const E=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(E),_.removeEventListener("focusin",S),_.removeEventListener("keydown",I,!0)}},[n,r,i,o,a,s]);const g=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,h.current=_.target;const I=e.props.onFocus;I&&I(_)},w=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return f.jsxs(v.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:y,onFocus:g}),f.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function rq(t){return typeof t=="function"?t():t}function iq(t){return t?t.props.hasOwnProperty("in"):!1}const sq=new QH;function oq(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=sq,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,h=v.useRef({}),p=v.useRef(null),m=v.useRef(null),y=kn(m,d),[x,g]=v.useState(!u),w=iq(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const I=()=>pn(p.current),S=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),E=()=>{i.mount(S(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},C=pi(()=>{const P=rq(e)||I().body;i.add(S(),P),m.current&&E()}),b=v.useCallback(()=>i.isTopModal(S()),[i]),R=pi(P=>{p.current=P,P&&(u&&b()?E():m.current&&Xd(m.current,_))}),T=v.useCallback(()=>{i.remove(S(),_)},[_,i]);v.useEffect(()=>()=>{T()},[T]),v.useEffect(()=>{u?C():(!w||!s)&&T()},[u,T,w,s,C]);const k=P=>A=>{var O;(O=P.onKeyDown)==null||O.call(P,A),!(A.key!=="Escape"||A.which===229||!b())&&(n||(A.stopPropagation(),c&&c(A,"escapeKeyDown")))},N=P=>A=>{var O;(O=P.onClick)==null||O.call(P,A),A.target===A.currentTarget&&c&&c(A,"backdropClick")};return{getRootProps:(P={})=>{const A=fm(t);delete A.onTransitionEnter,delete A.onTransitionExited;const O=D({},A,P);return D({role:"presentation"},O,{onKeyDown:k(O),ref:y})},getBackdropProps:(P={})=>{const A=P;return D({"aria-hidden":!0},A,{onClick:N(A),open:u})},getTransitionProps:()=>{const P=()=>{g(!1),o&&o()},A=()=>{g(!0),a&&a(),s&&T()};return{onEnter:db(P,l==null?void 0:l.props.onEnter),onExited:db(A,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:R,isTopModal:b,exited:x,hasTransition:w}}function aq(t){return Qe("MuiModal",t)}He("MuiModal",["root","hidden","backdrop"]);const lq=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],cq=t=>{const{open:e,exited:n,classes:r}=t;return Ze({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},aq,r)},uq=ae("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>D({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),dq=ae(l6,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),hq=v.forwardRef(function(e,n){var r,i,s,o,a,l;const c=Ye({name:"MuiModal",props:e}),{BackdropComponent:u=dq,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:y,component:x,components:g={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:S=!1,disablePortal:E=!1,disableRestoreFocus:C=!1,disableScrollLock:b=!1,hideBackdrop:R=!1,keepMounted:T=!1,onBackdropClick:k,open:N,slotProps:M,slots:L}=c,j=de(c,lq),P=D({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:I,disableEscapeKeyDown:S,disablePortal:E,disableRestoreFocus:C,disableScrollLock:b,hideBackdrop:R,keepMounted:T}),{getRootProps:A,getBackdropProps:O,getTransitionProps:$,portalRef:F,isTopModal:q,exited:W,hasTransition:z}=oq(D({},P,{rootRef:n})),B=D({},P,{exited:W}),V=cq(B),G={};if(m.props.tabIndex===void 0&&(G.tabIndex="-1"),z){const{onEnter:ve,onExited:Re}=$();G.onEnter=ve,G.onExited=Re}const ie=(r=(i=L==null?void 0:L.root)!=null?i:g.Root)!=null?r:uq,le=(s=(o=L==null?void 0:L.backdrop)!=null?o:g.Backdrop)!=null?s:u,ee=(a=M==null?void 0:M.root)!=null?a:w.root,he=(l=M==null?void 0:M.backdrop)!=null?l:w.backdrop,ce=pl({elementType:ie,externalSlotProps:ee,externalForwardedProps:j,getSlotProps:A,additionalProps:{ref:n,as:x},ownerState:B,className:_e(h,ee==null?void 0:ee.className,V==null?void 0:V.root,!B.open&&B.exited&&(V==null?void 0:V.hidden))}),oe=pl({elementType:le,externalSlotProps:he,additionalProps:d,getSlotProps:ve=>O(D({},ve,{onClick:Re=>{k&&k(Re),ve!=null&&ve.onClick&&ve.onClick(Re)}})),className:_e(he==null?void 0:he.className,d==null?void 0:d.className,V==null?void 0:V.backdrop),ownerState:B});return!T&&!N&&(!z||W)?null:f.jsx(UW,{ref:F,container:y,disablePortal:E,children:f.jsxs(ie,D({},ce,{children:[!R&&u?f.jsx(le,D({},oe)):null,f.jsx(nq,{disableEnforceFocus:I,disableAutoFocus:_,disableRestoreFocus:C,isEnabled:q,open:N,children:v.cloneElement(m,G)})]}))})}),p3=hq;function fq(t){return Qe("MuiDialog",t)}const pq=He("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),mv=pq,mq=v.createContext({}),u6=mq,gq=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],vq=ae(l6,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),yq=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${se(n)}`],paper:["paper",`paperScroll${se(n)}`,`paperWidth${se(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ze(o,fq,e)},_q=ae(p3,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),wq=ae("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${se(n.scroll)}`]]}})(({ownerState:t})=>D({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),xq=ae(Mu,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${se(n.scroll)}`],e[`paperWidth${se(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>D({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${mv.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${mv.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${mv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Eq=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDialog"}),i=ma(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:y="sm",onBackdropClick:x,onClick:g,onClose:w,open:_,PaperComponent:I=Mu,PaperProps:S={},scroll:E="paper",TransitionComponent:C=a6,transitionDuration:b=s,TransitionProps:R}=r,T=de(r,gq),k=D({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:m,maxWidth:y,scroll:E}),N=yq(k),M=v.useRef(),L=O=>{M.current=O.target===O.currentTarget},j=O=>{g&&g(O),M.current&&(M.current=null,x&&x(O),w&&w(O,"backdropClick"))},P=Jx(a),A=v.useMemo(()=>({titleId:P}),[P]);return f.jsx(_q,D({className:_e(N.root,d),closeAfterTransition:!0,components:{Backdrop:vq},componentsProps:{backdrop:D({transitionDuration:b,as:l},c)},disableEscapeKeyDown:h,onClose:w,open:_,ref:n,onClick:j,ownerState:k},T,{children:f.jsx(C,D({appear:!0,in:_,timeout:b,role:"presentation"},R,{children:f.jsx(wq,{className:_e(N.container),onMouseDown:L,ownerState:k,children:f.jsx(xq,D({as:I,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},S,{className:_e(N.paper,S.className),ownerState:k,children:f.jsx(u6.Provider,{value:A,children:u})}))})}))}))}),Ji=Eq;function Iq(t){return Qe("MuiDialogTitle",t)}He("MuiDialogTitle",["root"]);const bq=["className","id"],Cq=t=>{const{classes:e}=t;return Ze({root:["root"]},Iq,e)},Tq=ae(jt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Sq=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=de(r,bq),a=r,l=Cq(a),{titleId:c=s}=v.useContext(u6);return f.jsx(Tq,D({component:"h2",className:_e(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c},o))}),Rq=Sq,kq=He("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Ub=kq,Aq=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Pq(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Kr(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Nq(t){return typeof t=="function"?t():t}function A0(t,e,n){const r=Nq(n),i=Pq(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const Lq=v.forwardRef(function(e,n){const r=ma(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:p,onEntered:m,onEntering:y,onExit:x,onExited:g,onExiting:w,style:_,timeout:I=s,TransitionComponent:S=a3}=e,E=de(e,Aq),C=v.useRef(null),b=kn(l.ref,C,n),R=O=>$=>{O&&($===void 0?O(C.current):O(C.current,$))},T=R((O,$)=>{A0(u,O,c),u3(O),p&&p(O,$)}),k=R((O,$)=>{const F=ml({timeout:I,style:_,easing:d},{mode:"enter"});O.style.webkitTransition=r.transitions.create("-webkit-transform",D({},F)),O.style.transition=r.transitions.create("transform",D({},F)),O.style.webkitTransform="none",O.style.transform="none",y&&y(O,$)}),N=R(m),M=R(w),L=R(O=>{const $=ml({timeout:I,style:_,easing:d},{mode:"exit"});O.style.webkitTransition=r.transitions.create("-webkit-transform",$),O.style.transition=r.transitions.create("transform",$),A0(u,O,c),x&&x(O)}),j=R(O=>{O.style.webkitTransition="",O.style.transition="",g&&g(O)}),P=O=>{o&&o(C.current,O)},A=v.useCallback(()=>{C.current&&A0(u,C.current,c)},[u,c]);return v.useEffect(()=>{if(h||u==="down"||u==="right")return;const O=Xx(()=>{C.current&&A0(u,C.current,c)}),$=Kr(C.current);return $.addEventListener("resize",O),()=>{O.clear(),$.removeEventListener("resize",O)}},[u,h,c]),v.useEffect(()=>{h||A()},[h,A]),f.jsx(S,D({nodeRef:C,onEnter:T,onEntered:N,onEntering:k,onExit:L,onExited:j,onExiting:M,addEndListener:P,appear:a,in:h,timeout:I},E,{children:(O,$)=>v.cloneElement(l,D({ref:b,style:D({visibility:O==="exited"&&!h?"hidden":void 0},_,l.props.style)},$))}))}),d6=Lq;function Mq(t){return Qe("MuiDrawer",t)}He("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Oq=["BackdropProps"],Dq=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],h6=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},$q=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${se(n)}`,r!=="temporary"&&`paperAnchorDocked${se(n)}`]};return Ze(i,Mq,e)},jq=ae(p3,{name:"MuiDrawer",slot:"Root",overridesResolver:h6})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),Bb=ae("div",{shouldForwardProp:Fr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:h6})({flex:"0 0 auto"}),Fq=ae(Mu,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${se(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${se(n.anchor)}`]]}})(({theme:t,ownerState:e})=>D({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),f6={left:"right",right:"left",top:"down",bottom:"up"};function Da(t){return["left","right"].indexOf(t)!==-1}function Nd({direction:t},e){return t==="rtl"&&Da(e)?f6[e]:e}const Vq=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDrawer"}),i=ma(),s=e3(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:y=!1,PaperProps:x={},SlideProps:g,TransitionComponent:w=d6,transitionDuration:_=o,variant:I="temporary"}=r,S=de(r.ModalProps,Oq),E=de(r,Dq),C=v.useRef(!1);v.useEffect(()=>{C.current=!0},[]);const b=Nd({direction:s?"rtl":"ltr"},a),T=D({},r,{anchor:a,elevation:d,open:y,variant:I},E),k=$q(T),N=f.jsx(Fq,D({elevation:I==="temporary"?d:0,square:!0},x,{className:_e(k.paper,x.className),ownerState:T,children:c}));if(I==="permanent")return f.jsx(Bb,D({className:_e(k.root,k.docked,u),ownerState:T,ref:n},E,{children:N}));const M=f.jsx(w,D({in:y,direction:f6[b],timeout:_,appear:C.current},g,{children:N}));return I==="persistent"?f.jsx(Bb,D({className:_e(k.root,k.docked,u),ownerState:T,ref:n},E,{children:M})):f.jsx(jq,D({BackdropProps:D({},l,p,{transitionDuration:_}),className:_e(k.root,k.modal,u),open:y,ownerState:T,onClose:m,hideBackdrop:h,ref:n},E,S,{children:M}))}),Uq=Vq,Bq=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],zq=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},oH,e);return D({},e,i)},Wq=ae(gg,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...pg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return D({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Ta.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Ta.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ta.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ta.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ta.disabled}, .${Ta.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ta.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&D({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Hq=ae(vg,{name:"MuiFilledInput",slot:"Input",overridesResolver:mg})(({theme:t,ownerState:e})=>D({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),p6=v.forwardRef(function(e,n){var r,i,s,o;const a=Ye({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:y="text"}=a,x=de(a,Bq),g=D({},a,{fullWidth:u,inputComponent:d,multiline:h,type:y}),w=zq(a),_={root:{ownerState:g},input:{ownerState:g}},I=p??c?vr(_,p??c):_,S=(r=(i=m.root)!=null?i:l.Root)!=null?r:Wq,E=(s=(o=m.input)!=null?o:l.Input)!=null?s:Hq;return f.jsx(f3,D({slots:{root:S,input:E},componentsProps:I,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:y},x,{classes:w}))});p6.muiName="Input";const m6=p6;function qq(t){return Qe("MuiFormControl",t)}He("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Gq=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Kq=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${se(n)}`,r&&"fullWidth"]};return Ze(i,qq,e)},Qq=ae("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>D({},e.root,e[`margin${se(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>D({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Yq=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:y="medium",variant:x="outlined"}=r,g=de(r,Gq),w=D({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:y,variant:x}),_=Kq(w),[I,S]=v.useState(()=>{let M=!1;return i&&v.Children.forEach(i,L=>{if(!uv(L,["Input","Select"]))return;const j=uv(L,["Select"])?L.props.input:L;j&&QW(j.props)&&(M=!0)}),M}),[E,C]=v.useState(()=>{let M=!1;return i&&v.Children.forEach(i,L=>{uv(L,["Input","Select"])&&(gm(L.props,!0)||gm(L.props.inputProps,!0))&&(M=!0)}),M}),[b,R]=v.useState(!1);l&&b&&R(!1);const T=u!==void 0&&!l?u:b;let k;const N=v.useMemo(()=>({adornedStart:I,setAdornedStart:S,color:o,disabled:l,error:c,filled:E,focused:T,fullWidth:d,hiddenLabel:h,size:y,onBlur:()=>{R(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{R(!0)},registerEffect:k,required:m,variant:x}),[I,o,l,c,E,T,d,h,k,m,y,x]);return f.jsx(h3.Provider,{value:N,children:f.jsx(Qq,D({as:a,ownerState:w,className:_e(_.root,s),ref:n},g,{children:i}))})}),Xq=Yq,Jq=IB({createStyledComponent:ae("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ye({props:t,name:"MuiStack"})}),Qr=Jq;function Zq(t){return Qe("MuiFormHelperText",t)}const eG=He("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),zb=eG;var Wb;const tG=["children","className","component","disabled","error","filled","focused","margin","required","variant"],nG=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${se(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ze(c,Zq,e)},rG=ae("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${se(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>D({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${zb.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zb.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),iG=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=de(r,tG),l=Du(),c=Ou({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=D({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=nG(u);return f.jsx(rG,D({as:o,ownerState:u,className:_e(d.root,s),ref:n},a,{children:i===" "?Wb||(Wb=f.jsx("span",{className:"notranslate",children:"​"})):i}))}),sG=iG;function oG(t){return Qe("MuiFormLabel",t)}const aG=He("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Jd=aG,lG=["children","className","color","component","disabled","error","filled","focused","required"],cG=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${se(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ze(l,oG,e)},uG=ae("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>D({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>D({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Jd.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Jd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Jd.error}`]:{color:(t.vars||t).palette.error.main}})),dG=ae("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Jd.error}`]:{color:(t.vars||t).palette.error.main}})),hG=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=de(r,lG),l=Du(),c=Ou({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=D({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=cG(u);return f.jsxs(uG,D({as:o,ownerState:u,className:_e(d.root,s),ref:n},a,{children:[i,c.required&&f.jsxs(dG,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),fG=hG,pG=v.createContext(),Hb=pG;function mG(t){return Qe("MuiGrid",t)}const gG=[0,1,2,3,4,5,6,7,8,9,10],vG=["column-reverse","column","row-reverse","row"],yG=["nowrap","wrap-reverse","wrap"],cd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],jh=He("MuiGrid",["root","container","item","zeroMinWidth",...gG.map(t=>`spacing-xs-${t}`),...vG.map(t=>`direction-xs-${t}`),...yG.map(t=>`wrap-xs-${t}`),...cd.map(t=>`grid-xs-${t}`),...cd.map(t=>`grid-sm-${t}`),...cd.map(t=>`grid-md-${t}`),...cd.map(t=>`grid-lg-${t}`),...cd.map(t=>`grid-xl-${t}`)]),_G=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Uc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function wG({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=el({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${Uc(u)})`;c={flexBasis:d,maxWidth:d}}}s=D({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function xG({theme:t,ownerState:e}){const n=el({values:e.direction,breakpoints:t.breakpoints.values});return $r({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${jh.item}`]={maxWidth:"none"}),i})}function g6({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function EG({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=el({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=g6({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Uc(u)}`,[`& > .${jh.item}`]:{paddingTop:Uc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${jh.item}`]:{paddingTop:0}}})}return i}function IG({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=el({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=g6({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Uc(u)})`,marginLeft:`-${Uc(u)}`,[`& > .${jh.item}`]:{paddingLeft:Uc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${jh.item}`]:{paddingLeft:0}}})}return i}function bG(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const CG=ae("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=bG(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>D({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),xG,EG,IG,wG);function TG(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const SG=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=TG(s,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Ze(d,mG,e)},RG=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiGrid"}),{breakpoints:i}=ma(),s=bf(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:m=0,wrap:y="wrap",zeroMinWidth:x=!1}=s,g=de(s,_G),w=p||m,_=l||m,I=v.useContext(Hb),S=u?a||12:I,E={},C=D({},g);i.keys.forEach(T=>{g[T]!=null&&(E[T]=g[T],delete C[T])});const b=D({},s,{columns:S,container:u,direction:d,item:h,rowSpacing:w,columnSpacing:_,wrap:y,zeroMinWidth:x,spacing:m},E,{breakpoints:i.keys}),R=SG(b);return f.jsx(Hb.Provider,{value:S,children:f.jsx(CG,D({ownerState:b,className:_e(R.root,o),as:c,ref:n},C))})}),Zd=RG,kG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d_(t){return`scale(${t}, ${t**2})`}const AG={entering:{opacity:1,transform:d_(1)},entered:{opacity:1,transform:"none"}},gv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),v6=v.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:y="auto",TransitionComponent:x=a3}=e,g=de(e,kG),w=Zx(),_=v.useRef(),I=ma(),S=v.useRef(null),E=kn(S,s.ref,n),C=j=>P=>{if(j){const A=S.current;P===void 0?j(A):j(A,P)}},b=C(u),R=C((j,P)=>{u3(j);const{duration:A,delay:O,easing:$}=ml({style:m,timeout:y,easing:o},{mode:"enter"});let F;y==="auto"?(F=I.transitions.getAutoHeightDuration(j.clientHeight),_.current=F):F=A,j.style.transition=[I.transitions.create("opacity",{duration:F,delay:O}),I.transitions.create("transform",{duration:gv?F:F*.666,delay:O,easing:$})].join(","),l&&l(j,P)}),T=C(c),k=C(p),N=C(j=>{const{duration:P,delay:A,easing:O}=ml({style:m,timeout:y,easing:o},{mode:"exit"});let $;y==="auto"?($=I.transitions.getAutoHeightDuration(j.clientHeight),_.current=$):$=P,j.style.transition=[I.transitions.create("opacity",{duration:$,delay:A}),I.transitions.create("transform",{duration:gv?$:$*.666,delay:gv?A:A||$*.333,easing:O})].join(","),j.style.opacity=0,j.style.transform=d_(.75),d&&d(j)}),M=C(h),L=j=>{y==="auto"&&w.start(_.current||0,j),r&&r(S.current,j)};return f.jsx(x,D({appear:i,in:a,nodeRef:S,onEnter:R,onEntered:T,onEntering:b,onExit:N,onExited:M,onExiting:k,addEndListener:L,timeout:y==="auto"?null:y},g,{children:(j,P)=>v.cloneElement(s,D({style:D({opacity:0,transform:d_(.75),visibility:j==="exited"&&!a?"hidden":void 0},AG[j],m,s.props.style),ref:E},P))}))});v6.muiSupportAuto=!0;const y6=v6,PG=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],NG=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},nH,e);return D({},e,i)},LG=ae(gg,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...pg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),D({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ld.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ld.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ld.disabled}, .${ld.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ld.disabled}:before`]:{borderBottomStyle:"dotted"}})}),MG=ae(vg,{name:"MuiInput",slot:"Input",overridesResolver:mg})({}),_6=v.forwardRef(function(e,n){var r,i,s,o;const a=Ye({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:y={},type:x="text"}=a,g=de(a,PG),w=NG(a),I={root:{ownerState:{disableUnderline:l}}},S=m??u?vr(m??u,I):I,E=(r=(i=y.root)!=null?i:c.Root)!=null?r:LG,C=(s=(o=y.input)!=null?o:c.Input)!=null?s:MG;return f.jsx(f3,D({slots:{root:E,input:C},slotProps:S,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:x},g,{classes:w}))});_6.muiName="Input";const w6=_6;function OG(t){return Qe("MuiInputLabel",t)}He("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const DG=["disableAnimation","margin","shrink","variant","className"],$G=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${se(r)}`,o],asterisk:[a&&"asterisk"]},c=Ze(l,OG,e);return D({},e,c)},jG=ae(fG,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Jd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>D({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&D({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&D({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&D({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),FG=v.forwardRef(function(e,n){const r=Ye({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=de(r,DG),l=Du();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Ou({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=D({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=$G(d);return f.jsx(jG,D({"data-shrink":c,ownerState:d,ref:n,className:_e(h.root,o)},a,{classes:h}))}),VG=FG;function UG(t){return Qe("MuiLinearProgress",t)}He("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const BG=["className","color","value","valueBuffer","variant"];let $u=t=>t,qb,Gb,Kb,Qb,Yb,Xb;const h_=4,zG=Xi(qb||(qb=$u`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),WG=Xi(Gb||(Gb=$u`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),HG=Xi(Kb||(Kb=$u`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),qG=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${se(r)}`,n],dashed:["dashed",`dashedColor${se(r)}`],bar1:["bar",`barColor${se(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${se(r)}`,n==="buffer"&&`color${se(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Ze(i,UG,e)},m3=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?KA(t.palette[e].main,.62):GA(t.palette[e].main,.5),GG=ae("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${se(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>D({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:m3(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),KG=ae("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${se(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=m3(e,t.color);return D({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},eo(Qb||(Qb=$u`
    animation: ${0} 3s infinite linear;
  `),HG)),QG=ae("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>D({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${h_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${h_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&eo(Yb||(Yb=$u`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),zG)),YG=ae("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>D({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:m3(e,t.color),transition:`transform .${h_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&eo(Xb||(Xb=$u`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),WG)),XG=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=de(r,BG),u=D({},r,{color:s,variant:l}),d=qG(u),h=e3(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=o-100;h&&(y=-y),m.bar1.transform=`translateX(${y}%)`}if(l==="buffer"&&a!==void 0){let y=(a||0)-100;h&&(y=-y),m.bar2.transform=`translateX(${y}%)`}return f.jsxs(GG,D({className:_e(d.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?f.jsx(KG,{className:d.dashed,ownerState:u}):null,f.jsx(QG,{className:d.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:f.jsx(YG,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),Cs=XG,JG=v.createContext({}),f_=JG;function ZG(t){return Qe("MuiList",t)}He("MuiList",["root","padding","dense","subheader"]);const eK=["children","className","component","dense","disablePadding","subheader"],tK=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ze({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},ZG,e)},nK=ae("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>D({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),rK=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=de(r,eK),d=v.useMemo(()=>({dense:a}),[a]),h=D({},r,{component:o,dense:a,disablePadding:l}),p=tK(h);return f.jsx(f_.Provider,{value:d,children:f.jsxs(nK,D({as:o,className:_e(p.root,s),ref:n,ownerState:h},u,{children:[c,i]}))})}),iK=rK,sK=He("MuiListItemIcon",["root","alignItemsFlexStart"]),Jb=sK,oK=He("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Zb=oK,aK=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function vv(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function eC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function x6(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function ud(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!x6(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const lK=v.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=de(e,aK),p=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Es(()=>{i&&p.current.focus()},[i]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:I})=>{const S=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&S){const E=`${zA(pn(_))}px`;p.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=E,p.current.style.width=`calc(100% + ${E})`}return p.current}}),[]);const y=_=>{const I=p.current,S=_.key,E=pn(I).activeElement;if(S==="ArrowDown")_.preventDefault(),ud(I,E,c,l,vv);else if(S==="ArrowUp")_.preventDefault(),ud(I,E,c,l,eC);else if(S==="Home")_.preventDefault(),ud(I,null,c,l,vv);else if(S==="End")_.preventDefault(),ud(I,null,c,l,eC);else if(S.length===1){const C=m.current,b=S.toLowerCase(),R=performance.now();C.keys.length>0&&(R-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&b!==C.keys[0]&&(C.repeating=!1)),C.lastTime=R,C.keys.push(b);const T=E&&!C.repeating&&x6(E,C);C.previousKeyMatched&&(T||ud(I,E,!1,l,vv,C))?_.preventDefault():C.previousKeyMatched=!1}u&&u(_)},x=kn(p,n);let g=-1;v.Children.forEach(o,(_,I)=>{if(!v.isValidElement(_)){g===I&&(g+=1,g>=o.length&&(g=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||g===-1)&&(g=I),g===I&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(g+=1,g>=o.length&&(g=-1))});const w=v.Children.map(o,(_,I)=>{if(I===g){const S={};return s&&(S.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(S.tabIndex=0),v.cloneElement(_,S)}return _});return f.jsx(iK,D({role:"menu",ref:x,className:a,onKeyDown:y,tabIndex:i?0:-1},h,{children:w}))}),cK=lK;function uK(t){return Qe("MuiPopover",t)}He("MuiPopover",["root","paper"]);const dK=["onEntering"],hK=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],fK=["slotProps"];function tC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function nC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function rC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function yv(t){return typeof t=="function"?t():t}const pK=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"]},uK,e)},mK=ae(p3,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),E6=ae(Mu,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),gK=v.forwardRef(function(e,n){var r,i,s;const o=Ye({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:y=8,marginThreshold:x=16,open:g,PaperProps:w={},slots:_,slotProps:I,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:E=y6,transitionDuration:C="auto",TransitionProps:{onEntering:b}={},disableScrollLock:R=!1}=o,T=de(o.TransitionProps,dK),k=de(o,hK),N=(r=I==null?void 0:I.paper)!=null?r:w,M=v.useRef(),L=kn(M,N.ref),j=D({},o,{anchorOrigin:c,anchorReference:d,elevation:y,marginThreshold:x,externalPaperSlotProps:N,transformOrigin:S,TransitionComponent:E,transitionDuration:C,TransitionProps:T}),P=pK(j),A=v.useCallback(()=>{if(d==="anchorPosition")return u;const ve=yv(l),xe=(ve&&ve.nodeType===1?ve:pn(M.current).body).getBoundingClientRect();return{top:xe.top+tC(xe,c.vertical),left:xe.left+nC(xe,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),O=v.useCallback(ve=>({vertical:tC(ve,S.vertical),horizontal:nC(ve,S.horizontal)}),[S.horizontal,S.vertical]),$=v.useCallback(ve=>{const Re={width:ve.offsetWidth,height:ve.offsetHeight},xe=O(Re);if(d==="none")return{top:null,left:null,transformOrigin:rC(xe)};const wt=A();let Ue=wt.top-xe.vertical,De=wt.left-xe.horizontal;const st=Ue+Re.height,lt=De+Re.width,Te=Kr(yv(l)),bt=Te.innerHeight-x,$e=Te.innerWidth-x;if(x!==null&&Ue<x){const Ee=Ue-x;Ue-=Ee,xe.vertical+=Ee}else if(x!==null&&st>bt){const Ee=st-bt;Ue-=Ee,xe.vertical+=Ee}if(x!==null&&De<x){const Ee=De-x;De-=Ee,xe.horizontal+=Ee}else if(lt>$e){const Ee=lt-$e;De-=Ee,xe.horizontal+=Ee}return{top:`${Math.round(Ue)}px`,left:`${Math.round(De)}px`,transformOrigin:rC(xe)}},[l,d,A,O,x]),[F,q]=v.useState(g),W=v.useCallback(()=>{const ve=M.current;if(!ve)return;const Re=$(ve);Re.top!==null&&(ve.style.top=Re.top),Re.left!==null&&(ve.style.left=Re.left),ve.style.transformOrigin=Re.transformOrigin,q(!0)},[$]);v.useEffect(()=>(R&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,R,W]);const z=(ve,Re)=>{b&&b(ve,Re),W()},B=()=>{q(!1)};v.useEffect(()=>{g&&W()}),v.useImperativeHandle(a,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),v.useEffect(()=>{if(!g)return;const ve=Xx(()=>{W()}),Re=Kr(l);return Re.addEventListener("resize",ve),()=>{ve.clear(),Re.removeEventListener("resize",ve)}},[l,g,W]);let V=C;C==="auto"&&!E.muiSupportAuto&&(V=void 0);const G=m||(l?pn(yv(l)).body:void 0),ie=(i=_==null?void 0:_.root)!=null?i:mK,le=(s=_==null?void 0:_.paper)!=null?s:E6,ee=pl({elementType:le,externalSlotProps:D({},N,{style:F?N.style:D({},N.style,{opacity:0})}),additionalProps:{elevation:y,ref:L},ownerState:j,className:_e(P.paper,N==null?void 0:N.className)}),he=pl({elementType:ie,externalSlotProps:(I==null?void 0:I.root)||{},externalForwardedProps:k,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:G,open:g},ownerState:j,className:_e(P.root,p)}),{slotProps:ce}=he,oe=de(he,fK);return f.jsx(ie,D({},oe,!hm(ie)&&{slotProps:ce,disableScrollLock:R},{children:f.jsx(E,D({appear:!0,in:g,onEntering:z,onExited:B,timeout:V},T,{children:f.jsx(le,D({},ee,{children:h}))}))}))}),vK=gK;function yK(t){return Qe("MuiMenu",t)}He("MuiMenu",["root","paper","list"]);const _K=["onEntering"],wK=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],xK={vertical:"top",horizontal:"right"},EK={vertical:"top",horizontal:"left"},IK=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"],list:["list"]},yK,e)},bK=ae(vK,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),CK=ae(E6,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),TK=ae(cK,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),SK=v.forwardRef(function(e,n){var r,i;const s=Ye({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:x}={},variant:g="selectedMenu",slots:w={},slotProps:_={}}=s,I=de(s.TransitionProps,_K),S=de(s,wK),E=e3(),C=D({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:x,PaperProps:p,transitionDuration:y,TransitionProps:I,variant:g}),b=IK(C),R=o&&!c&&h,T=v.useRef(null),k=(O,$)=>{T.current&&T.current.adjustStyleForScrollbar(O,{direction:E?"rtl":"ltr"}),x&&x(O,$)},N=O=>{O.key==="Tab"&&(O.preventDefault(),d&&d(O,"tabKeyDown"))};let M=-1;v.Children.map(a,(O,$)=>{v.isValidElement(O)&&(O.props.disabled||(g==="selectedMenu"&&O.props.selected||M===-1)&&(M=$))});const L=(r=w.paper)!=null?r:CK,j=(i=_.paper)!=null?i:p,P=pl({elementType:w.root,externalSlotProps:_.root,ownerState:C,className:[b.root,l]}),A=pl({elementType:L,externalSlotProps:j,ownerState:C,className:b.paper});return f.jsx(bK,D({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?xK:EK,slots:{paper:L,root:w.root},slotProps:{root:P,paper:A},open:h,ref:n,transitionDuration:y,TransitionProps:D({onEntering:k},I),ownerState:C},S,{classes:m,children:f.jsx(TK,D({onKeyDown:N,actions:T,autoFocus:o&&(M===-1||c),autoFocusItem:R,variant:g},u,{className:_e(b.list,u.className),children:a}))}))}),RK=SK;function kK(t){return Qe("MuiMenuItem",t)}const AK=He("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),dd=AK,PK=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],NK=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},LK=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Ze({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},kK,o);return D({},o,l)},MK=ae(d3,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:NK})(({theme:t,ownerState:e})=>D({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${dd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:mi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${dd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:mi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${dd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:mi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:mi(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${dd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${dd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Ub.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Ub.inset}`]:{marginLeft:52},[`& .${Zb.root}`]:{marginTop:0,marginBottom:0},[`& .${Zb.inset}`]:{paddingLeft:36},[`& .${Jb.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&D({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Jb.root} svg`]:{fontSize:"1.25rem"}}))),OK=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=de(r,PK),m=v.useContext(f_),y=v.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),x=v.useRef(null);Es(()=>{i&&x.current&&x.current.focus()},[i]);const g=D({},r,{dense:y.dense,divider:a,disableGutters:l}),w=LK(r),_=kn(x,n);let I;return r.disabled||(I=d!==void 0?d:-1),f.jsx(f_.Provider,{value:y,children:f.jsx(MK,D({ref:_,role:u,tabIndex:I,component:s,focusVisibleClassName:_e(w.focusVisible,c),className:_e(w.root,h)},p,{ownerState:g,classes:w}))})}),DK=OK;function $K(t){return Qe("MuiNativeSelect",t)}const jK=He("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),g3=jK,FK=["className","disabled","error","IconComponent","inputRef","variant"],VK=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",r&&"disabled"]};return Ze(a,$K,e)},I6=({ownerState:t,theme:e})=>D({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":D({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${g3.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),UK=ae("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Fr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${g3.multiple}`]:e.multiple}]}})(I6),b6=({ownerState:t,theme:e})=>D({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${g3.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),BK=ae("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(b6),zK=v.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=de(e,FK),u=D({},e,{disabled:i,variant:l,error:s}),d=VK(u);return f.jsxs(v.Fragment,{children:[f.jsx(UK,D({ownerState:u,className:_e(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:f.jsx(BK,{as:o,ownerState:u,className:d.icon})]})}),WK=zK;function HK(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=v.useState(!1);return Es(()=>{n||s(!0)},[n]),v.useEffect(()=>{n&&s(!0)},[n]),f.jsx(v.Fragment,{children:i?e:r})}var iC;const qK=["children","classes","className","label","notched"],GK=ae("fieldset",{shouldForwardProp:Fr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),KK=ae("legend",{shouldForwardProp:Fr})(({ownerState:t,theme:e})=>D({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&D({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function QK(t){const{className:e,label:n,notched:r}=t,i=de(t,qK),s=n!=null&&n!=="",o=D({},t,{notched:r,withLabel:s});return f.jsx(GK,D({"aria-hidden":!0,className:e,ownerState:o},i,{children:f.jsx(KK,{ownerState:o,children:s?f.jsx("span",{children:n}):iC||(iC=f.jsx("span",{className:"notranslate",children:"​"}))})}))}const YK=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],XK=t=>{const{classes:e}=t,r=Ze({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},iH,e);return D({},e,r)},JK=ae(gg,{shouldForwardProp:t=>Fr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return D({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${mo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${mo.focused} .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${mo.error} .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${mo.disabled} .${mo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&D({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),ZK=ae(QK,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),eQ=ae(vg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:mg})(({theme:t,ownerState:e})=>D({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),C6=v.forwardRef(function(e,n){var r,i,s,o,a;const l=Ye({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:y={},type:x="text"}=l,g=de(l,YK),w=XK(l),_=Du(),I=Ou({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=D({},l,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:_,fullWidth:u,hiddenLabel:I.hiddenLabel,multiline:p,size:I.size,type:x}),E=(r=(i=y.root)!=null?i:c.Root)!=null?r:JK,C=(s=(o=y.input)!=null?o:c.Input)!=null?s:eQ;return f.jsx(f3,D({slots:{root:E,input:C},renderSuffix:b=>f.jsx(ZK,{ownerState:S,className:w.notchedOutline,label:h!=null&&h!==""&&I.required?a||(a=f.jsxs(v.Fragment,{children:[h," ","*"]})):h,notched:typeof m<"u"?m:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:x},g,{classes:D({},w,{notchedOutline:null})}))});C6.muiName="Input";const T6=C6;function tQ(t){return Qe("MuiSelect",t)}const nQ=He("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hd=nQ;var sC;const rQ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],iQ=ae("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${hd.select}`]:e.select},{[`&.${hd.select}`]:e[n.variant]},{[`&.${hd.error}`]:e.error},{[`&.${hd.multiple}`]:e.multiple}]}})(I6,{[`&.${hd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),sQ=ae("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(b6),oQ=ae("input",{shouldForwardProp:t=>n6(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function oC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function aQ(t){return t==null||typeof t=="string"&&!t.trim()}const lQ=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ze(a,tQ,e)},cQ=v.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:x,labelId:g,MenuProps:w={},multiple:_,name:I,onBlur:S,onChange:E,onClose:C,onFocus:b,onOpen:R,open:T,readOnly:k,renderValue:N,SelectDisplayProps:M={},tabIndex:L,value:j,variant:P="standard"}=e,A=de(e,rQ),[O,$]=pb({controlled:j,default:d,name:"Select"}),[F,q]=pb({controlled:T,default:u,name:"Select"}),W=v.useRef(null),z=v.useRef(null),[B,V]=v.useState(null),{current:G}=v.useRef(T!=null),[ie,le]=v.useState(),ee=kn(n,x),he=v.useCallback(fe=>{z.current=fe,fe&&V(fe)},[]),ce=B==null?void 0:B.parentNode;v.useImperativeHandle(ee,()=>({focus:()=>{z.current.focus()},node:W.current,value:O}),[O]),v.useEffect(()=>{u&&F&&B&&!G&&(le(a?null:ce.clientWidth),z.current.focus())},[B,a]),v.useEffect(()=>{o&&z.current.focus()},[o]),v.useEffect(()=>{if(!g)return;const fe=pn(z.current).getElementById(g);if(fe){const Be=()=>{getSelection().isCollapsed&&z.current.focus()};return fe.addEventListener("click",Be),()=>{fe.removeEventListener("click",Be)}}},[g]);const oe=(fe,Be)=>{fe?R&&R(Be):C&&C(Be),G||(le(a?null:ce.clientWidth),q(fe))},ve=fe=>{fe.button===0&&(fe.preventDefault(),z.current.focus(),oe(!0,fe))},Re=fe=>{oe(!1,fe)},xe=v.Children.toArray(l),wt=fe=>{const Be=xe.find(Tt=>Tt.props.value===fe.target.value);Be!==void 0&&($(Be.props.value),E&&E(fe,Be))},Ue=fe=>Be=>{let Tt;if(Be.currentTarget.hasAttribute("tabindex")){if(_){Tt=Array.isArray(O)?O.slice():[];const br=O.indexOf(fe.props.value);br===-1?Tt.push(fe.props.value):Tt.splice(br,1)}else Tt=fe.props.value;if(fe.props.onClick&&fe.props.onClick(Be),O!==Tt&&($(Tt),E)){const br=Be.nativeEvent||Be,Gl=new br.constructor(br.type,br);Object.defineProperty(Gl,"target",{writable:!0,value:{value:Tt,name:I}}),E(Gl,fe)}_||oe(!1,Be)}},De=fe=>{k||[" ","ArrowUp","ArrowDown","Enter"].indexOf(fe.key)!==-1&&(fe.preventDefault(),oe(!0,fe))},st=B!==null&&F,lt=fe=>{!st&&S&&(Object.defineProperty(fe,"target",{writable:!0,value:{value:O,name:I}}),S(fe))};delete A["aria-invalid"];let Te,bt;const $e=[];let Ee=!1;(gm({value:O})||p)&&(N?Te=N(O):Ee=!0);const St=xe.map(fe=>{if(!v.isValidElement(fe))return null;let Be;if(_){if(!Array.isArray(O))throw new Error(Zs(2));Be=O.some(Tt=>oC(Tt,fe.props.value)),Be&&Ee&&$e.push(fe.props.children)}else Be=oC(O,fe.props.value),Be&&Ee&&(bt=fe.props.children);return v.cloneElement(fe,{"aria-selected":Be?"true":"false",onClick:Ue(fe),onKeyUp:Tt=>{Tt.key===" "&&Tt.preventDefault(),fe.props.onKeyUp&&fe.props.onKeyUp(Tt)},role:"option",selected:Be,value:void 0,"data-value":fe.props.value})});Ee&&(_?$e.length===0?Te=null:Te=$e.reduce((fe,Be,Tt)=>(fe.push(Be),Tt<$e.length-1&&fe.push(", "),fe),[]):Te=bt);let an=ie;!a&&G&&B&&(an=ce.clientWidth);let On;typeof L<"u"?On=L:On=h?null:0;const ke=M.id||(I?`mui-component-select-${I}`:void 0),me=D({},e,{variant:P,value:O,open:st,error:m}),Ct=lQ(me),tn=D({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),ln=Jx();return f.jsxs(v.Fragment,{children:[f.jsx(iQ,D({ref:he,tabIndex:On,role:"combobox","aria-controls":ln,"aria-disabled":h?"true":void 0,"aria-expanded":st?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[g,ke].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:De,onMouseDown:h||k?null:ve,onBlur:lt,onFocus:b},M,{ownerState:me,className:_e(M.className,Ct.select,c),id:ke,children:aQ(Te)?sC||(sC=f.jsx("span",{className:"notranslate",children:"​"})):Te})),f.jsx(oQ,D({"aria-invalid":m,value:Array.isArray(O)?O.join(","):O,name:I,ref:W,"aria-hidden":!0,onChange:wt,tabIndex:-1,disabled:h,className:Ct.nativeInput,autoFocus:o,ownerState:me},A)),f.jsx(sQ,{as:y,className:Ct.icon,ownerState:me}),f.jsx(RK,D({id:`menu-${I||""}`,anchorEl:ce,open:st,onClose:Re,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:D({"aria-labelledby":g,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:ln},w.MenuListProps),slotProps:D({},w.slotProps,{paper:D({},tn,{style:D({minWidth:an},tn!=null?tn.style:null)})}),children:St}))]})}),uQ=cQ,dQ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],hQ=["root"],fQ=t=>{const{classes:e}=t;return e},v3={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Fr(t)&&t!=="variant",slot:"Root"},pQ=ae(w6,v3)(""),mQ=ae(T6,v3)(""),gQ=ae(m6,v3)(""),S6=v.forwardRef(function(e,n){const r=Ye({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=lH,id:d,input:h,inputProps:p,label:m,labelId:y,MenuProps:x,multiple:g=!1,native:w=!1,onClose:_,onOpen:I,open:S,renderValue:E,SelectDisplayProps:C,variant:b="outlined"}=r,R=de(r,dQ),T=w?WK:uQ,k=Du(),N=Ou({props:r,muiFormControl:k,states:["variant","error"]}),M=N.variant||b,L=D({},r,{variant:M,classes:o}),j=fQ(L),P=de(j,hQ),A=h||{standard:f.jsx(pQ,{ownerState:L}),outlined:f.jsx(mQ,{label:m,ownerState:L}),filled:f.jsx(gQ,{ownerState:L})}[M],O=kn(n,A.ref);return f.jsx(v.Fragment,{children:v.cloneElement(A,D({inputComponent:T,inputProps:D({children:s,error:N.error,IconComponent:u,variant:M,type:void 0,multiple:g},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:x,onClose:_,onOpen:I,open:S,renderValue:E,SelectDisplayProps:D({id:d},C)},p,{classes:p?vr(P,p.classes):P},h?h.props.inputProps:{})},(g&&w||c)&&M==="outlined"?{notched:!0}:{},{ref:O,className:_e(A.props.className,a,j.root)},!h&&{variant:M},R))})});S6.muiName="Select";const R6=S6;function vQ(t){return Qe("MuiSkeleton",t)}He("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const yQ=["animation","className","component","height","style","variant","width"];let vm=t=>t,aC,lC,cC,uC;const _Q=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return Ze({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},vQ,e)},wQ=Xi(aC||(aC=vm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),xQ=Xi(lC||(lC=vm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),EQ=ae("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=cz(t.shape.borderRadius)||"px",r=uz(t.shape.borderRadius);return D({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:QU(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&eo(cC||(cC=vm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),wQ),({ownerState:t,theme:e})=>t.animation==="wave"&&eo(uC||(uC=vm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),xQ,(e.vars||e).palette.action.hover)),IQ=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=de(r,yQ),h=D({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=_Q(h);return f.jsx(EQ,D({as:o,ref:n,className:_e(p.root,s),ownerState:h},d,{style:D({width:u,height:a},l)}))}),Vt=IQ;function bQ(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=Zx();v.useEffect(()=>{if(!i)return;function g(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[i,r]);const a=pi((g,w)=>{r==null||r(g,w)}),l=pi(g=>{!r||g==null||o.start(g,()=>{a(null,"timeout")})});v.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const c=g=>{r==null||r(g,"clickaway")},u=o.clear,d=v.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),h=g=>w=>{const _=g.onBlur;_==null||_(w),d()},p=g=>w=>{const _=g.onFocus;_==null||_(w),u()},m=g=>w=>{const _=g.onMouseEnter;_==null||_(w),u()},y=g=>w=>{const _=g.onMouseLeave;_==null||_(w),d()};return v.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(g={})=>{const w=D({},fm(t),fm(g));return D({role:"presentation"},g,w,{onBlur:h(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:y(w)})},onClickAway:c}}function CQ(t){return Qe("MuiSnackbarContent",t)}He("MuiSnackbarContent",["root","message","action"]);const TQ=["action","className","message","role"],SQ=t=>{const{classes:e}=t;return Ze({root:["root"],action:["action"],message:["message"]},CQ,e)},RQ=ae(Mu,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=SB(t.palette.background.default,e);return D({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),kQ=ae("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),AQ=ae("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),PQ=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=de(r,TQ),c=r,u=SQ(c);return f.jsxs(RQ,D({role:a,square:!0,elevation:6,className:_e(u.root,s),ownerState:c,ref:n},l,{children:[f.jsx(kQ,{className:u.message,ownerState:c,children:o}),i?f.jsx(AQ,{className:u.action,ownerState:c,children:i}):null]}))}),NQ=PQ;function LQ(t){return Qe("MuiSnackbar",t)}He("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const MQ=["onEnter","onExited"],OQ=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],DQ=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${se(n.vertical)}${se(n.horizontal)}`]};return Ze(r,LQ,e)},dC=ae("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${se(n.anchorOrigin.vertical)}${se(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return D({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:D({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),$Q=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiSnackbar"}),i=ma(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:m=!1,message:y,open:x,TransitionComponent:g=y6,transitionDuration:w=s,TransitionProps:{onEnter:_,onExited:I}={}}=r,S=de(r.TransitionProps,MQ),E=de(r,OQ),C=D({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:g,transitionDuration:w}),b=DQ(C),{getRootProps:R,onClickAway:T}=bQ(D({},C)),[k,N]=v.useState(!0),M=pl({elementType:dC,getSlotProps:R,externalForwardedProps:E,ownerState:C,additionalProps:{ref:n},className:[b.root,d]}),L=P=>{N(!0),I&&I(P)},j=(P,A)=>{N(!1),_&&_(P,A)};return!x&&k?null:f.jsx(WH,D({onClickAway:T},h,{children:f.jsx(dC,D({},M,{children:f.jsx(g,D({appear:!0,in:x,timeout:w,direction:a==="top"?"down":"up",onEnter:j,onExited:L},S,{children:u||f.jsx(NQ,D({message:y,action:o},p))}))}))}))}),p_=$Q,jQ=["anchor","classes","className","width","style"],FQ=ae("div",{shouldForwardProp:Fr})(({theme:t,ownerState:e})=>D({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),VQ=v.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:o,style:a}=e,l=de(e,jQ),c=e;return f.jsx(FQ,D({className:_e("PrivateSwipeArea-root",i.root,i[`anchor${se(r)}`],s),ref:n,style:D({[Da(r)?"width":"height"]:o},a),ownerState:c},l))}),UQ=VQ,BQ=["BackdropProps"],zQ=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],P0=3,_v=20;let ks=null;function wv(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function xv(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function fd(t,e){return t?e.clientWidth:e.clientHeight}function hC(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function WQ(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=Kr(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function HQ({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(s[i.scrollPosition[a]]),c=l>0,u=l+s[i.clientLength[a]]<s[i.scrollLength[a]];return!!(o&&u||!o&&c)})}const qQ=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),GQ=v.forwardRef(function(e,n){const r=Ye({name:"MuiSwipeableDrawer",props:e}),i=ma(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=qQ,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:h=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:y,onOpen:x,open:g=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:I=20,transitionDuration:S=s,variant:E="temporary"}=r,C=de(r.ModalProps,BQ),b=de(r,zQ),[R,T]=v.useState(!1),k=v.useRef({isSwiping:null}),N=v.useRef(),M=v.useRef(),L=v.useRef(),j=kn(w.ref,L),P=v.useRef(!1),A=v.useRef();Es(()=>{A.current=null},[g]);const O=v.useCallback((z,B={})=>{const{mode:V=null,changeTransition:G=!0}=B,ie=Nd(i,o),le=["right","bottom"].indexOf(ie)!==-1?1:-1,ee=Da(o),he=ee?`translate(${le*z}px, 0)`:`translate(0, ${le*z}px)`,ce=L.current.style;ce.webkitTransform=he,ce.transform=he;let oe="";if(V&&(oe=i.transitions.create("all",ml({easing:void 0,style:void 0,timeout:S},{mode:V}))),G&&(ce.webkitTransition=oe,ce.transition=oe),!a&&!u){const ve=M.current.style;ve.opacity=1-z/fd(ee,L.current),G&&(ve.webkitTransition=oe,ve.transition=oe)}},[o,a,u,i,S]),$=pi(z=>{if(!P.current)return;if(ks=null,P.current=!1,Ah.flushSync(()=>{T(!1)}),!k.current.isSwiping){k.current.isSwiping=null;return}k.current.isSwiping=null;const B=Nd(i,o),V=Da(o);let G;V?G=wv(B,z.changedTouches,pn(z.currentTarget)):G=xv(B,z.changedTouches,Kr(z.currentTarget));const ie=V?k.current.startX:k.current.startY,le=fd(V,L.current),ee=hC(G,ie,g,le),he=ee/le;if(Math.abs(k.current.velocity)>p&&(A.current=Math.abs((le-ee)/k.current.velocity)*1e3),g){k.current.velocity>p||he>d?y():O(0,{mode:"exit"});return}k.current.velocity<-p||1-he>d?x():O(fd(V,L.current),{mode:"enter"})}),F=(z=!1)=>{if(!R){(z||!(l&&h))&&Ah.flushSync(()=>{T(!0)});const B=Da(o);!g&&L.current&&O(fd(B,L.current)+(l?15:-_v),{changeTransition:!1}),k.current.velocity=0,k.current.lastTime=null,k.current.lastTranslate=null,k.current.paperHit=!1,P.current=!0}},q=pi(z=>{if(!L.current||!P.current||ks!==null&&ks!==k.current)return;F(!0);const B=Nd(i,o),V=Da(o),G=wv(B,z.touches,pn(z.currentTarget)),ie=xv(B,z.touches,Kr(z.currentTarget));if(g&&L.current.contains(z.target)&&ks===null){const oe=WQ(z.target,L.current);if(HQ({domTreeShapes:oe,start:V?k.current.startX:k.current.startY,current:V?G:ie,anchor:o})){ks=!0;return}ks=k.current}if(k.current.isSwiping==null){const oe=Math.abs(G-k.current.startX),ve=Math.abs(ie-k.current.startY),Re=V?oe>ve&&oe>P0:ve>oe&&ve>P0;if(Re&&z.cancelable&&z.preventDefault(),Re===!0||(V?ve>P0:oe>P0)){if(k.current.isSwiping=Re,!Re){$(z);return}k.current.startX=G,k.current.startY=ie,!l&&!g&&(V?k.current.startX-=_v:k.current.startY-=_v)}}if(!k.current.isSwiping)return;const le=fd(V,L.current);let ee=V?k.current.startX:k.current.startY;g&&!k.current.paperHit&&(ee=Math.min(ee,le));const he=hC(V?G:ie,ee,g,le);if(g)if(k.current.paperHit)he===0&&(k.current.startX=G,k.current.startY=ie);else if(V?G<le:ie<le)k.current.paperHit=!0,k.current.startX=G,k.current.startY=ie;else return;k.current.lastTranslate===null&&(k.current.lastTranslate=he,k.current.lastTime=performance.now()+1);const ce=(he-k.current.lastTranslate)/(performance.now()-k.current.lastTime)*1e3;k.current.velocity=k.current.velocity*.4+ce*.6,k.current.lastTranslate=he,k.current.lastTime=performance.now(),z.cancelable&&z.preventDefault(),O(he)}),W=pi(z=>{if(z.defaultPrevented||z.defaultMuiPrevented||g&&(u||!M.current.contains(z.target))&&!L.current.contains(z.target))return;const B=Nd(i,o),V=Da(o),G=wv(B,z.touches,pn(z.currentTarget)),ie=xv(B,z.touches,Kr(z.currentTarget));if(!g){var le;if(c||!(z.target===N.current||(le=L.current)!=null&&le.contains(z.target)&&(typeof h=="function"?h(z,N.current,L.current):h)))return;if(V){if(G>I)return}else if(ie>I)return}z.defaultMuiPrevented=!0,ks=null,k.current.startX=G,k.current.startY=ie,F()});return v.useEffect(()=>{if(E==="temporary"){const z=pn(L.current);return z.addEventListener("touchstart",W),z.addEventListener("touchmove",q,{passive:!g}),z.addEventListener("touchend",$),()=>{z.removeEventListener("touchstart",W),z.removeEventListener("touchmove",q,{passive:!g}),z.removeEventListener("touchend",$)}}},[E,g,W,q,$]),v.useEffect(()=>()=>{ks===k.current&&(ks=null)},[]),v.useEffect(()=>{g||T(!1)},[g]),f.jsxs(v.Fragment,{children:[f.jsx(Uq,D({open:E==="temporary"&&R?!0:g,variant:E,ModalProps:D({BackdropProps:D({},m,{ref:M})},E==="temporary"&&{keepMounted:!0},C),hideBackdrop:u,PaperProps:D({},w,{style:D({pointerEvents:E==="temporary"&&!g&&!h?"none":""},w.style),ref:j}),anchor:o,transitionDuration:A.current||S,onClose:y,ref:n},b)),!c&&E==="temporary"&&f.jsx(HK,{children:f.jsx(UQ,D({anchor:o,ref:N,width:I},_))})]})}),KQ=GQ;function QQ(t){return Qe("MuiToolbar",t)}He("MuiToolbar",["root","gutters","regular","dense"]);const YQ=["className","component","disableGutters","variant"],XQ=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ze({root:["root",!n&&"gutters",r]},QQ,e)},JQ=ae("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>D({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),ZQ=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=de(r,YQ),c=D({},r,{component:s,disableGutters:o,variant:a}),u=XQ(c);return f.jsx(JQ,D({as:s,className:_e(u.root,i),ref:n,ownerState:c},l))}),k6=ZQ;function eY(t){return Qe("MuiTextField",t)}He("MuiTextField",["root"]);const tY=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],nY={standard:w6,filled:m6,outlined:T6},rY=t=>{const{classes:e}=t;return Ze({root:["root"]},eY,e)},iY=ae(Xq,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),sY=v.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:x,inputProps:g,InputProps:w,inputRef:_,label:I,maxRows:S,minRows:E,multiline:C=!1,name:b,onBlur:R,onChange:T,onFocus:k,placeholder:N,required:M=!1,rows:L,select:j=!1,SelectProps:P,type:A,value:O,variant:$="outlined"}=r,F=de(r,tY),q=D({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:C,required:M,select:j,variant:$}),W=rY(q),z={};$==="outlined"&&(x&&typeof x.shrink<"u"&&(z.notched=x.shrink),z.label=I),j&&((!P||!P.native)&&(z.id=void 0),z["aria-describedby"]=void 0);const B=Jx(y),V=m&&B?`${B}-helper-text`:void 0,G=I&&B?`${B}-label`:void 0,ie=nY[$],le=f.jsx(ie,D({"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:C,name:b,rows:L,maxRows:S,minRows:E,type:A,value:O,id:B,inputRef:_,onBlur:R,onChange:T,onFocus:k,placeholder:N,inputProps:g},z,w));return f.jsxs(iY,D({className:_e(W.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:M,color:l,variant:$,ownerState:q},F,{children:[I!=null&&I!==""&&f.jsx(VG,D({htmlFor:B,id:G},x,{children:I})),j?f.jsx(R6,D({"aria-describedby":V,id:B,labelId:G,value:O,input:le},P,{children:o})):le,m&&f.jsx(sG,D({id:V},h,{children:m}))]}))}),di=sY,A6=({title:t,text:e})=>{const{isLogin:n,theme:r,headerTitle:i,setHeaderTitle:s}=v.useContext(Z),o=Pn();return v.useEffect(()=>(s("STAR EDUCATION ACADEMY"),()=>{document.title=i}),[]),f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx(jt,{variant:"subtitle2",children:e}),f.jsx("div",{children:f.jsx(Ve,{onClick:()=>o(n?"/app":"/login"),startIcon:f.jsx("img",{className:"size-7",src:Ne("redo")}),children:"Return Home"})})]})},_n=({data:t})=>{const{clickFn:e,image:n}=t,r=Ne(n),{theme:i}=v.useContext(Z),s=()=>{e&&e()};return f.jsx("button",{onClick:s,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${i==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function N0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var oY={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function m_(t,e){function n(i,s,o){if(!(typeof document>"u")){o=N0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",N0({},s,{expires:-1}))},withAttributes:function(i){return m_(this.converter,N0({},this.attributes,i))},withConverter:function(i){return m_(N0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var gi=m_(oY,{path:"/"}),fC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw ju(e)},ju=function(t){return new Error("Firebase Database ("+P6.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},y3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new lY;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L6=function(t){const e=N6(t);return y3.encodeByteArray(e,!0)},ym=function(t){return L6(t).replace(/\./g,"")},Fh=function(t){try{return y3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t){return M6(void 0,t)}function M6(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!uY(n)||(t[n]=M6(t[n],e[n]));return t}function uY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=()=>dY().__FIREBASE_DEFAULTS__,fY=()=>{if(typeof process>"u"||typeof fC>"u")return;const t=fC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fh(t[1]);return e&&JSON.parse(e)},_g=()=>{try{return hY()||fY()||pY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O6=t=>{var e,n;return(n=(e=_g())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_3=t=>{const e=O6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D6=()=>{var t;return(t=_g())===null||t===void 0?void 0:t.config},$6=t=>{var e;return(e=_g())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ym(JSON.stringify(n)),ym(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function mY(){var t;const e=(t=_g())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F6(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V6(){return P6.NODE_ADMIN===!0}function U6(){return!mY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B6(){try{return typeof indexedDB=="object"}catch{return!1}}function gY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vY,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ga.prototype.create)}}class ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yY(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ri(i,a,r)}}function yY(t,e){return t.replace(_Y,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _Y=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){return JSON.parse(t)}function Vn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Vh(Fh(s[0])||""),n=Vh(Fh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},wY=function(t){const e=z6(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xY=function(t){const e=z6(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ou(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function g_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _m(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Uh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pC(s)&&pC(o)){if(!Uh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ls(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function cs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function W6(t,e){const n=new IY(t,e);return n.subscribe.bind(n)}class IY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ev),i.error===void 0&&(i.error=Ev),i.complete===void 0&&(i.complete=Ev);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ev(){}function CY(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kY(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RY(t){return t===La?void 0:t}function kY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const PY={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},NY=ze.INFO,LY={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},MY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=NY,this._logHandler=MY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const OY=(t,e)=>e.some(n=>t instanceof n);let mC,gC;function DY(){return mC||(mC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $Y(){return gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H6=new WeakMap,v_=new WeakMap,q6=new WeakMap,Iv=new WeakMap,I3=new WeakMap;function jY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&H6.set(n,t)}).catch(()=>{}),I3.set(e,t),e}function FY(t){if(v_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});v_.set(t,e)}let y_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VY(t){y_=t(y_)}function UY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bv(this),e,...n);return q6.set(r,e.sort?e.sort():[e]),Ko(r)}:$Y().includes(t)?function(...e){return t.apply(bv(this),e),Ko(H6.get(this))}:function(...e){return Ko(t.apply(bv(this),e))}}function BY(t){return typeof t=="function"?UY(t):(t instanceof IDBTransaction&&FY(t),OY(t,DY())?new Proxy(t,y_):t)}function Ko(t){if(t instanceof IDBRequest)return jY(t);if(Iv.has(t))return Iv.get(t);const e=BY(t);return e!==t&&(Iv.set(t,e),I3.set(e,t)),e}const bv=t=>I3.get(t);function zY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ko(o.result),l.oldVersion,l.newVersion,Ko(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const WY=["get","getKey","getAll","getAllKeys","count"],HY=["put","add","delete","clear"],Cv=new Map;function vC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cv.get(e))return Cv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Cv.set(e,s),s}VY(t=>({...t,get:(e,n,r)=>vC(e,n)||t.get(e,n,r),has:(e,n)=>!!vC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const __="@firebase/app",yC="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Tf("@firebase/app"),KY="@firebase/app-compat",QY="@firebase/analytics-compat",YY="@firebase/analytics",XY="@firebase/app-check-compat",JY="@firebase/app-check",ZY="@firebase/auth",eX="@firebase/auth-compat",tX="@firebase/database",nX="@firebase/database-compat",rX="@firebase/functions",iX="@firebase/functions-compat",sX="@firebase/installations",oX="@firebase/installations-compat",aX="@firebase/messaging",lX="@firebase/messaging-compat",cX="@firebase/performance",uX="@firebase/performance-compat",dX="@firebase/remote-config",hX="@firebase/remote-config-compat",fX="@firebase/storage",pX="@firebase/storage-compat",mX="@firebase/firestore",gX="@firebase/firestore-compat",vX="firebase",yX="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="[DEFAULT]",_X={[__]:"fire-core",[KY]:"fire-core-compat",[YY]:"fire-analytics",[QY]:"fire-analytics-compat",[JY]:"fire-app-check",[XY]:"fire-app-check-compat",[ZY]:"fire-auth",[eX]:"fire-auth-compat",[tX]:"fire-rtdb",[nX]:"fire-rtdb-compat",[rX]:"fire-fn",[iX]:"fire-fn-compat",[sX]:"fire-iid",[oX]:"fire-iid-compat",[aX]:"fire-fcm",[lX]:"fire-fcm-compat",[cX]:"fire-perf",[uX]:"fire-perf-compat",[dX]:"fire-rc",[hX]:"fire-rc-compat",[fX]:"fire-gcs",[pX]:"fire-gcs-compat",[mX]:"fire-fst",[gX]:"fire-fst-compat","fire-js":"fire-js",[vX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Map,x_=new Map;function wX(t,e){try{t.container.addComponent(e)}catch(n){gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Is(t){const e=t.name;if(x_.has(e))return gl.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,t);for(const n of wm.values())wX(n,t);return!0}function Sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qo=new ga("app","Firebase",xX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=yX;function G6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:w_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=D6()),!n)throw Qo.create("no-options");const s=wm.get(i);if(s){if(Uh(n,s.options)&&Uh(r,s.config))return s;throw Qo.create("duplicate-app",{appName:i})}const o=new AY(i);for(const l of x_.values())o.addComponent(l);const a=new EX(n,r,o);return wm.set(i,a),a}function Eg(t=w_){const e=wm.get(t);if(!e&&t===w_&&D6())return G6();if(!e)throw Qo.create("no-app",{appName:t});return e}function Or(t,e,n){var r;let i=(r=_X[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gl.warn(a.join(" "));return}Is(new Ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="firebase-heartbeat-database",bX=1,Bh="firebase-heartbeat-store";let Tv=null;function K6(){return Tv||(Tv=zY(IX,bX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),Tv}async function CX(t){try{const n=(await K6()).transaction(Bh),r=await n.objectStore(Bh).get(Q6(t));return await n.done,r}catch(e){if(e instanceof ri)gl.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gl.warn(n.message)}}}async function _C(t,e){try{const r=(await K6()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,Q6(t)),await r.done}catch(n){if(n instanceof ri)gl.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gl.warn(r.message)}}}function Q6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX=1024,SX=30*24*60*60*1e3;class RX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=SX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wC(),{heartbeatsToSend:r,unsentEntries:i}=kX(this._heartbeatsCache.heartbeats),s=ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function wC(){return new Date().toISOString().substring(0,10)}function kX(t,e=TX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B6()?gY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xC(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t){Is(new Ki("platform-logger",e=>new qY(e),"PRIVATE")),Is(new Ki("heartbeat",e=>new RX(e),"PRIVATE")),Or(__,yC,t),Or(__,yC,"esm2017"),Or("fire-js","")}PX("");var NX="firebase",LX="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(NX,LX,"app");var E_=function(t,e){return E_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},E_(t,e)};function Ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qe=function(){return qe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qe.apply(this,arguments)};function Fu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function X(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Y6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MX=Y6,X6=new ga("auth","Firebase",Y6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Tf("@firebase/auth");function OX(t,...e){xm.logLevel<=ze.WARN&&xm.warn(`Auth (${Zi}): ${t}`,...e)}function pp(t,...e){xm.logLevel<=ze.ERROR&&xm.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw b3(t,...e)}function ws(t,...e){return b3(t,...e)}function J6(t,e,n){const r=Object.assign(Object.assign({},MX()),{[e]:n});return new ga("auth","Firebase",r).create(e,{appName:t.name})}function DX(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ci(t,"argument-error"),J6(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X6.create(t,...e)}function Ae(t,e,...n){if(!t)throw b3(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pp(e),new Error(e)}function to(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $X(){return EC()==="http:"||EC()==="https:"}function EC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($X()||j6()||"connection"in navigator)?navigator.onLine:!0}function FX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,to(n>e,"Short delay should be less than long delay!"),this.isMobile=wg()||E3()}get(){return jX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t,e){to(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z6=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=new Rf(3e4,6e4);function va(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,n,r,i={}){return eP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Z6.fetch()(tP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function eP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VX),e);try{const i=new zX(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw L0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw L0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw L0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw L0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw J6(t,u,c);Ci(t,u)}}catch(i){if(i instanceof ri)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function kf(t,e,n,r,i={}){const s=await ho(t,e,n,r,i);return"mfaPendingCredential"in s&&Ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?C3(t.config,i):`${t.config.apiScheme}://${i}`}function BX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let zX=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),UX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function L0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ws(t,e,r);return i.customData._tokenResponse=n,i}function IC(t){return t!==void 0&&t.enterprise!==void 0}let WX=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BX(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function HX(t,e){return ho(t,"GET","/v2/recaptchaConfig",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qX(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function GX(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KX(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=T3(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eh(Sv(i.auth_time)),issuedAtTime:eh(Sv(i.iat)),expirationTime:eh(Sv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sv(t){return Number(t)*1e3}function T3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fh(n);return i?JSON.parse(i):(pp("Failed to decode base64 JWT payload"),null)}catch(i){return pp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QX(t){const e=T3(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&YX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XX=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nP=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t){var e;const n=t.auth,r=await t.getIdToken(),i=await au(t,GX(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eJ(s.providerUserInfo):[],a=ZX(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function JX(t){const e=at(t);await Em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eJ(t){return t.map(e=>{var{providerId:n}=e,r=Fu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tJ(t,e){const n=await eP(t,{},async()=>{const r=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Z6.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nJ(t,e){return ho(t,"POST","/v2/accounts:revokeToken",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bC=class b_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QX(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tJ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new b_;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new b_,this.toJSON())}_performRefresh(){return Fs("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let C_=class mp{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KX(this,e)}reload(){return JX(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Em(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await au(this,qX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:I,isAnonymous:S,providerData:E,stsTokenManager:C}=n;Ae(_&&C,e,"internal-error");const b=bC.fromJSON(this.name,C);Ae(typeof _=="string",e,"internal-error"),vo(d,e.name),vo(h,e.name),Ae(typeof I=="boolean",e,"internal-error"),Ae(typeof S=="boolean",e,"internal-error"),vo(p,e.name),vo(m,e.name),vo(y,e.name),vo(x,e.name),vo(g,e.name),vo(w,e.name);const R=new mp({uid:_,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:b,createdAt:g,lastLoginAt:w});return E&&Array.isArray(E)&&(R.providerData=E.map(T=>Object.assign({},T))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new bC;i.updateFromServerResponse(n);const s=new mp({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Em(s),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Map;function Vs(t){to(t instanceof Function,"Expected a class definition");let e=CC.get(t);return e?(to(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rP=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};rP.type="NONE";const TC=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(t,e,n){return`firebase:${t}:${e}:${n}`}let SC=class vp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gp(this.userKey,i.apiKey,s),this.fullPersistenceKey=gp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?C_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vp(Vs(TC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Vs(TC);const o=gp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=C_._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new vp(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new vp(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lP(e))return"Blackberry";if(cP(e))return"Webos";if(S3(e))return"Safari";if((e.includes("chrome/")||sP(e))&&!e.includes("edge/"))return"Chrome";if(aP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iP(t=ot()){return/firefox\//i.test(t)}function S3(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sP(t=ot()){return/crios\//i.test(t)}function oP(t=ot()){return/iemobile/i.test(t)}function aP(t=ot()){return/android/i.test(t)}function lP(t=ot()){return/blackberry/i.test(t)}function cP(t=ot()){return/webos/i.test(t)}function Ig(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rJ(t=ot()){var e;return Ig(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iJ(){return F6()&&document.documentMode===10}function uP(t=ot()){return Ig(t)||aP(t)||cP(t)||lP(t)||/windows phone/i.test(t)||oP(t)}function sJ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e=[]){let n;switch(t){case"Browser":n=RC(ot());break;case"Worker":n=`${RC(ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oJ=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e={}){return ho(t,"GET","/v2/passwordPolicy",va(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=6;let cJ=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uJ=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kC(this),this.idTokenSubscription=new kC(this),this.beforeStateQueue=new oJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await SC.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Em(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?at(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aJ(this),n=new cJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await SC.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OX(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ya(t){return at(t)}let kC=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=W6(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dJ(t){bg=t}function hP(t){return bg.loadJS(t)}function hJ(){return bg.recaptchaEnterpriseScript}function fJ(){return bg.gapiScript}function pJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mJ="recaptcha-enterprise",gJ="NO_RECAPTCHA";let vJ=class{constructor(e){this.type=mJ,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new WX(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;IC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(gJ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&IC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hJ();l.length!==0&&(l+=a),hP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function AC(t,e,n,r=!1){const i=new vJ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function T_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await AC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await AC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(t,e){const n=Sf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Uh(s,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function _J(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wJ(t,e,n){const r=ya(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=fP(e),{host:o,port:a}=xJ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||EJ()}function fP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xJ(t){const e=fP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:PC(o)}}}function PC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R3=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}};async function IJ(t,e){return ho(t,"POST","/v1/accounts:update",e)}async function bJ(t,e){return ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CJ(t,e){return kf(t,"POST","/v1/accounts:signInWithPassword",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TJ(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",va(t,e))}async function SJ(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NC=class S_ extends R3{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new S_(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new S_(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,n,"signInWithPassword",CJ);case"emailLink":return TJ(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,r,"signUpPassword",bJ);case"emailLink":return SJ(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e){return kf(t,"POST","/v1/accounts:signInWithIdp",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ="http://localhost";let Cg=class R_ extends R3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new R_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Fu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new R_(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bc(e,n)}buildRequest(){const e={requestUri:RJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uo(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AJ(t){const e=ls(cs(t)).link,n=e?ls(cs(e)).deep_link_id:null,r=ls(cs(t)).deep_link_id;return(r?ls(cs(r)).link:null)||r||n||e||t}let PJ=class pP{constructor(e){var n,r,i,s,o,a;const l=ls(cs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=kJ((i=l.mode)!==null&&i!==void 0?i:null);Ae(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=AJ(e);try{return new pP(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg=class mP{constructor(){this.providerId=mP.PROVIDER_ID}static credential(e,n){return NC._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=PJ.parseLink(n);return Ae(r,"argument-error"),NC._fromEmailAndCode(e,r.code,r.tenantId)}};Tg.PROVIDER_ID="password";Tg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k3=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=class extends k3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Af{constructor(){super("facebook.com")}static credential(e){return Cg._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cg._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Af{constructor(){super("github.com")}static credential(e){return Cg._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Af{constructor(){super("twitter.com")}static credential(e,n){return Cg._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NJ(t,e){return kf(t,"POST","/v1/accounts:signUp",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg=class k_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await C_._fromIdTokenResponse(e,r,i),o=LC(r);return new k_({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LC(r);return new k_({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function LC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LJ=class A_ extends ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,A_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new A_(e,n,r,i)}};function gP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?LJ._fromErrorAndOperation(t,s,e,r):s})}async function MJ(t,e,n=!1){const r=await au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sg._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await au(t,gP(r,i,e,t),n);Ae(s.idToken,r,"internal-error");const o=T3(s.idToken);Ae(o,r,"internal-error");const{sub:a}=o;return Ae(t.uid===a,r,"user-mismatch"),Sg._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e,n=!1){const r="signIn",i=await gP(t,r,e),s=await Sg._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OJ(t,e){return yP(ya(t),e)}async function DJ(t,e){return vP(at(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $J(t,e,n){const r=ya(t),o=await T_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_P(t),l}),a=await Sg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function jJ(t,e,n){return OJ(at(t),Tg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_P(t),r})}function MC(t,e){return FJ(at(t),null,e)}async function FJ(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await au(t,IJ(r,s));await t._updateTokensIfNecessary(o,!0)}function VJ(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function UJ(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function wP(t){return at(t).signOut()}const Im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xP=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Im,"1"),this.storage.removeItem(Im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(){const t=ot();return S3(t)||Ig(t)}const zJ=1e3,WJ=10;class EP extends xP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=BJ()&&sJ(),this.fallbackToPolling=uP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WJ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EP.type="LOCAL";const HJ=EP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP extends xP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IP.type="SESSION";const bP=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await qJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GJ=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=A3("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function KJ(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function QJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YJ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XJ(){return CP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebaseLocalStorageDb",JJ=1,bm="firebaseLocalStorage",SP="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kg(t,e){return t.transaction([bm],e?"readwrite":"readonly").objectStore(bm)}function ZJ(){const t=indexedDB.deleteDatabase(TP);return new Pf(t).toPromise()}function P_(){const t=indexedDB.open(TP,JJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bm,{keyPath:SP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bm)?e(r):(r.close(),await ZJ(),e(await P_()))})})}async function OC(t,e,n){const r=kg(t,!0).put({[SP]:e,value:n});return new Pf(r).toPromise()}async function eZ(t,e){const n=kg(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function DC(t,e){const n=kg(t,!0).delete(e);return new Pf(n).toPromise()}const tZ=800,nZ=3;class RP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rg._getInstance(XJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QJ(),!this.activeServiceWorker)return;this.sender=new GJ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await OC(e,Im,"1"),await DC(e,Im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kg(i,!1).getAll();return new Pf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RP.type="LOCAL";const rZ=RP;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e){return e?Vs(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P3=class extends R3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function iZ(t){return yP(t.auth,new P3(t),t.bypassAuthState)}function sZ(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),vP(n,new P3(t),t.bypassAuthState)}async function oZ(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),MJ(n,new P3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AP=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iZ;case"linkViaPopup":case"linkViaRedirect":return oZ;case"reauthViaPopup":case"reauthViaRedirect":return sZ;default:Ci(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ=new Rf(2e3,1e4);async function lZ(t,e,n){const r=ya(t);DX(t,e,k3);const i=kP(r,n);return new Ha(r,"signInViaPopup",e,i).executeNotNull()}class Ha extends AP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){to(this.filter.length===1,"Popup operations only handle one event");const e=A3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aZ.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ="pendingRedirect",yp=new Map;class uZ extends AP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yp.get(this.auth._key());if(!e){try{const r=await dZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yp.set(this.auth._key(),e)}return this.bypassAuthState||yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dZ(t,e){const n=pZ(e),r=fZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hZ(t,e){yp.set(t._key(),e)}function fZ(t){return Vs(t._redirectPersistence)}function pZ(t){return gp(cZ,t.config.apiKey,t.name)}async function mZ(t,e,n=!1){const r=ya(t),i=kP(r,e),o=await new uZ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=10*60*1e3;let vZ=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gZ&&this.cachedEventUids.clear(),this.cachedEventUids.has($C(e))}saveEventToCache(e){this.cachedEventUids.add($C(e)),this.lastProcessedEventTime=Date.now()}};function $C(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Z(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xZ=/^https?/;async function EZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _Z(t);for(const n of e)try{if(IZ(n))return}catch{}Ci(t,"unauthorized-domain")}function IZ(t){const e=I_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!xZ.test(n))return!1;if(wZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=new Rf(3e4,6e4);function jC(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CZ(t){return new Promise((e,n)=>{var r,i,s;function o(){jC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jC(),n(ws(t,"network-request-failed"))},timeout:bZ.get()})}if(!((i=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xs().gapi)===null||s===void 0)&&s.load)o();else{const a=pJ("iframefcb");return xs()[a]=()=>{gapi.load?o():n(ws(t,"network-request-failed"))},hP(`${fJ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _p=null,e})}let _p=null;function TZ(t){return _p=_p||CZ(t),_p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=new Rf(5e3,15e3),RZ="__/auth/iframe",kZ="emulator/auth/iframe",AZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NZ(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C3(e,kZ):`https://${t.config.authDomain}/${RZ}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},i=PZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uo(r).slice(1)}`}async function LZ(t){const e=await TZ(t),n=xs().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:NZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ws(t,"network-request-failed"),a=xs().setTimeout(()=>{s(o)},SZ.get());function l(){xs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OZ=500,DZ=600,$Z="_blank",jZ="http://localhost";class FC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FZ(t,e,n,r=OZ,i=DZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ot().toLowerCase();n&&(a=sP(c)?$Z:n),iP(c)&&(e=e||jZ,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(rJ(c)&&a!=="_self")return VZ(e||"",a),new FC(null);const d=window.open(e||"",a,u);Ae(d,t,"popup-blocked");try{d.focus()}catch{}return new FC(d)}function VZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ="__/auth/handler",BZ="emulator/auth/handler",zZ=encodeURIComponent("fac");async function VC(t,e,n,r,i,s){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:i};if(e instanceof k3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Af){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${zZ}=${encodeURIComponent(l)}`:"";return`${WZ(t)}?${uo(a).slice(1)}${c}`}function WZ({config:t}){return t.emulator?C3(t,BZ):`https://${t.authDomain}/${UZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="webStorageSupport";class HZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bP,this._completeRedirectFn=mZ,this._overrideRedirectResult=hZ}async _openPopup(e,n,r,i){var s;to((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await VC(e,n,r,I_(),i);return FZ(e,o,A3())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VC(e,n,r,I_(),i);return KJ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(to(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LZ(e),r=new vZ(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rv,{type:Rv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rv];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uP()||S3()||Ig()}}const qZ=HZ;var UC="@firebase/auth",BC="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GZ=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QZ(t){Is(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dP(t)},c=new uJ(r,i,s,l);return _J(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Is(new Ki("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new GZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(UC,BC,KZ(t)),Or(UC,BC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=5*60,XZ=$6("authIdTokenMaxAge")||YZ;let zC=null;const JZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XZ)return;const i=n==null?void 0:n.token;zC!==i&&(zC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZZ(t=Eg()){const e=Sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yJ(t,{popupRedirectResolver:qZ,persistence:[rZ,HJ,bP]}),r=$6("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=JZ(r);UJ(n,s,()=>s(n.currentUser)),VJ(n,o=>s(o))}const i=O6("auth");return i&&wJ(n,`http://${i}`),n}function eee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ws("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QZ("Browser");var tee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,N3=N3||{},Me=tee||self;function Ag(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function nee(t){return Object.prototype.hasOwnProperty.call(t,kv)&&t[kv]||(t[kv]=++ree)}var kv="closure_uid_"+(1e9*Math.random()>>>0),ree=0;function iee(t,e,n){return t.call.apply(t.bind,arguments)}function see(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function or(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?or=iee:or=see,or.apply(null,arguments)}function M0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ln(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _a(){this.s=this.s,this.o=this.o}var oee=0;_a.prototype.s=!1;_a.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),oee!=0)&&nee(this)};_a.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function L3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function WC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ag(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ar(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};var aee=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Me.addEventListener("test",n,e),Me.removeEventListener("test",n,e)}catch{}return t}();function zh(t){return/^[\s\xa0]*$/.test(t)}function Pg(){var t=Me.navigator;return t&&(t=t.userAgent)?t:""}function as(t){return Pg().indexOf(t)!=-1}function M3(t){return M3[" "](t),t}M3[" "]=function(){};function lee(t,e){var n=ete;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var cee=as("Opera"),lu=as("Trident")||as("MSIE"),LP=as("Edge"),N_=LP||lu,MP=as("Gecko")&&!(Pg().toLowerCase().indexOf("webkit")!=-1&&!as("Edge"))&&!(as("Trident")||as("MSIE"))&&!as("Edge"),uee=Pg().toLowerCase().indexOf("webkit")!=-1&&!as("Edge");function OP(){var t=Me.document;return t?t.documentMode:void 0}var L_;e:{var Av="",Pv=function(){var t=Pg();if(MP)return/rv:([^\);]+)(\)|;)/.exec(t);if(LP)return/Edge\/([\d\.]+)/.exec(t);if(lu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(uee)return/WebKit\/(\S+)/.exec(t);if(cee)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pv&&(Av=Pv?Pv[1]:""),lu){var Nv=OP();if(Nv!=null&&Nv>parseFloat(Av)){L_=String(Nv);break e}}L_=Av}var M_;if(Me.document&&lu){var HC=OP();M_=HC||parseInt(L_,10)||void 0}else M_=void 0;var dee=M_;function Wh(t,e){if(ar.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MP){e:{try{M3(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:hee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wh.$.h.call(this)}}Ln(Wh,ar);var hee={2:"touch",3:"pen",4:"mouse"};Wh.prototype.h=function(){Wh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Lf="closure_listenable_"+(1e6*Math.random()|0),fee=0;function pee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++fee,this.fa=this.ia=!1}function Ng(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function O3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function mee(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function DP(t){const e={};for(const n in t)e[n]=t[n];return e}const qC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $P(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<qC.length;s++)n=qC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lg(t){this.src=t,this.g={},this.h=0}Lg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=D_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new pee(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function O_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ng(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function D_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var D3="closure_lm_"+(1e6*Math.random()|0),Lv={};function jP(t,e,n,r,i){if(r&&r.once)return VP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jP(t,e[s],n,r,i);return null}return n=F3(n),t&&t[Lf]?t.O(e,n,Nf(r)?!!r.capture:!!r,i):FP(t,e,n,!1,r,i)}function FP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nf(i)?!!i.capture:!!i,a=j3(t);if(a||(t[D3]=a=new Lg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=gee(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)aee||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gee(){function t(n){return e.call(t.src,t.listener,n)}const e=vee;return t}function VP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VP(t,e[s],n,r,i);return null}return n=F3(n),t&&t[Lf]?t.P(e,n,Nf(r)?!!r.capture:!!r,i):FP(t,e,n,!0,r,i)}function UP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UP(t,e[s],n,r,i);else r=Nf(r)?!!r.capture:!!r,n=F3(n),t&&t[Lf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=D_(s,n,r,i),-1<n&&(Ng(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=j3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=D_(e,n,r,i)),(n=-1<t?e[t]:null)&&$3(n))}function $3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Lf])O_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=j3(e))?(O_(n,t),n.h==0&&(n.src=null,e[D3]=null)):Ng(t)}}}function BP(t){return t in Lv?Lv[t]:Lv[t]="on"+t}function vee(t,e){if(t.fa)t=!0;else{e=new Wh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$3(t),t=n.call(r,e)}return t}function j3(t){return t=t[D3],t instanceof Lg?t:null}var Mv="__closure_events_fn_"+(1e9*Math.random()>>>0);function F3(t){return typeof t=="function"?t:(t[Mv]||(t[Mv]=function(e){return t.handleEvent(e)}),t[Mv])}function An(){_a.call(this),this.i=new Lg(this),this.S=this,this.J=null}Ln(An,_a);An.prototype[Lf]=!0;An.prototype.removeEventListener=function(t,e,n,r){UP(this,t,e,n,r)};function Wn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ar(e,t);else if(e instanceof ar)e.target=e.target||t;else{var i=e;e=new ar(r,t),$P(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=O0(o,r,!0,e)&&i}if(o=e.g=t,i=O0(o,r,!0,e)&&i,i=O0(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=O0(o,r,!1,e)&&i}An.prototype.N=function(){if(An.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ng(n[r]);delete t.g[e],t.h--}}this.J=null};An.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};An.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function O0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&O_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var V3=Me.JSON.stringify;class yee{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function _ee(){var t=U3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class wee{constructor(){this.h=this.g=null}add(e,n){const r=zP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zP=new yee(()=>new xee,t=>t.reset());class xee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Eee(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Iee(t){Me.setTimeout(()=>{throw t},0)}let Hh,qh=!1,U3=new wee,WP=()=>{const t=Me.Promise.resolve(void 0);Hh=()=>{t.then(bee)}};var bee=()=>{for(var t;t=_ee();){try{t.h.call(t.g)}catch(n){Iee(n)}var e=zP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qh=!1};function Mg(t,e){An.call(this),this.h=t||1,this.g=e||Me,this.j=or(this.qb,this),this.l=Date.now()}Ln(Mg,An);re=Mg.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&(B3(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function B3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){Mg.$.N.call(this),B3(this),delete this.g};function z3(t,e,n){if(typeof t=="function")n&&(t=or(t,n));else if(t&&typeof t.handleEvent=="function")t=or(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Me.setTimeout(t,e||0)}function HP(t){t.g=z3(()=>{t.g=null,t.i&&(t.i=!1,HP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Cee extends _a{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HP(this)}N(){super.N(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gh(t){_a.call(this),this.h=t,this.g={}}Ln(Gh,_a);var GC=[];function qP(t,e,n,r){Array.isArray(n)||(n&&(GC[0]=n.toString()),n=GC);for(var i=0;i<n.length;i++){var s=jP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function GP(t){O3(t.g,function(e,n){this.g.hasOwnProperty(n)&&$3(e)},t),t.g={}}Gh.prototype.N=function(){Gh.$.N.call(this),GP(this)};Gh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Og(){this.g=!0}Og.prototype.Ea=function(){this.g=!1};function Tee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function See(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Sc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+kee(t,n)+(r?" "+r:"")})}function Ree(t,e){t.info(function(){return"TIMEOUT: "+e})}Og.prototype.info=function(){};function kee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return V3(n)}catch{return e}}var Ol={},KC=null;function Dg(){return KC=KC||new An}Ol.Ta="serverreachability";function KP(t){ar.call(this,Ol.Ta,t)}Ln(KP,ar);function Kh(t){const e=Dg();Wn(e,new KP(e))}Ol.STAT_EVENT="statevent";function QP(t,e){ar.call(this,Ol.STAT_EVENT,t),this.stat=e}Ln(QP,ar);function mr(t){const e=Dg();Wn(e,new QP(e,t))}Ol.Ua="timingevent";function YP(t,e){ar.call(this,Ol.Ua,t),this.size=e}Ln(YP,ar);function Mf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){t()},e)}var $g={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function W3(){}W3.prototype.h=null;function QC(t){return t.h||(t.h=t.i())}function JP(){}var Of={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function H3(){ar.call(this,"d")}Ln(H3,ar);function q3(){ar.call(this,"c")}Ln(q3,ar);var $_;function jg(){}Ln(jg,W3);jg.prototype.g=function(){return new XMLHttpRequest};jg.prototype.i=function(){return{}};$_=new jg;function Df(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gh(this),this.P=Aee,t=N_?125:void 0,this.V=new Mg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZP}function ZP(){this.i=null,this.g="",this.h=!1}var Aee=45e3,e9={},j_={};re=Df.prototype;re.setTimeout=function(t){this.P=t};function F_(t,e,n){t.L=1,t.A=Vg(no(e)),t.u=n,t.S=!0,t9(t,null)}function t9(t,e){t.G=Date.now(),$f(t),t.B=no(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),c9(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ZP,t.g=A9(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Cee(or(t.Pa,t,t.g),t.O)),qP(t.U,t.g,"readystatechange",t.nb),e=t.I?DP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Kh(),Tee(t.j,t.v,t.B,t.m,t.W,t.u)}re.nb=function(t){t=t.target;const e=this.M;e&&us(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const u=us(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||N_||this.g&&(this.h.h||this.g.ja()||ZC(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Kh(3):Kh(2)),Fg(this);var n=this.g.da();this.ca=n;t:if(n9(this)){var r=ZC(this.g);t="";var i=r.length,s=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qa(this),th(this);var o="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,See(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zh(a)){var c=a;break t}}c=null}if(n=c)Sc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,V_(this,n);else{this.i=!1,this.s=3,mr(12),qa(this),th(this);break e}}this.S?(r9(this,u,o),N_&&this.i&&u==3&&(qP(this.U,this.V,"tick",this.mb),this.V.start())):(Sc(this.j,this.m,o,null),V_(this,o)),u==4&&qa(this),this.i&&!this.J&&(u==4?T9(this.l,this):(this.i=!1,$f(this)))}else Xee(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,mr(12)):(this.s=0,mr(13)),qa(this),th(this)}}}catch{}finally{}};function n9(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function r9(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Pee(t,n),i==j_){e==4&&(t.s=4,mr(14),r=!1),Sc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==e9){t.s=4,mr(15),Sc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Sc(t.j,t.m,i,null),V_(t,i);n9(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,mr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),J3(e),e.M=!0,mr(11))):(Sc(t.j,t.m,n,"[Invalid Chunked Response]"),qa(t),th(t))}re.mb=function(){if(this.g){var t=us(this.g),e=this.g.ja();this.o<e.length&&(Fg(this),r9(this,t,e),this.i&&t!=4&&$f(this))}};function Pee(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?j_:(n=Number(e.substring(n,r)),isNaN(n)?e9:(r+=1,r+n>e.length?j_:(e=e.slice(r,r+n),t.o=r+n,e)))}re.cancel=function(){this.J=!0,qa(this)};function $f(t){t.Y=Date.now()+t.P,i9(t,t.P)}function i9(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Mf(or(t.lb,t),e)}function Fg(t){t.C&&(Me.clearTimeout(t.C),t.C=null)}re.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(Ree(this.j,this.B),this.L!=2&&(Kh(),mr(17)),qa(this),this.s=2,th(this)):i9(this,this.Y-t)};function th(t){t.l.H==0||t.J||T9(t.l,t)}function qa(t){Fg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,B3(t.V),GP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function V_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||U_(n.i,t))){if(!t.K&&U_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sm(n),Wg(n);else break e;X3(n),mr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Mf(or(n.ib,n),6e3));if(1>=h9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ga(n,11)}else if((t.K||n.g==t)&&Sm(n),!zh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(G3(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Lt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=k9(r,r.J?r.pa:null,r.Y),o.K){f9(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Fg(a),$f(a)),r.g=o}else b9(r);0<n.j.length&&Hg(n)}else c[0]!="stop"&&c[0]!="close"||Ga(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ga(n,7):Y3(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Kh(4)}catch{}}function Nee(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ag(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Lee(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ag(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function s9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ag(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Lee(t),r=Nee(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var o9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function tl(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof tl){this.h=t.h,Cm(this,t.j),this.s=t.s,this.g=t.g,Tm(this,t.m),this.l=t.l;var e=t.i,n=new Qh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YC(this,n),this.o=t.o}else t&&(e=String(t).match(o9))?(this.h=!1,Cm(this,e[1]||"",!0),this.s=Ld(e[2]||""),this.g=Ld(e[3]||"",!0),Tm(this,e[4]),this.l=Ld(e[5]||"",!0),YC(this,e[6]||"",!0),this.o=Ld(e[7]||"")):(this.h=!1,this.i=new Qh(null,this.h))}tl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Md(e,XC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Md(e,XC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Md(n,n.charAt(0)=="/"?$ee:Dee,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Md(n,Fee)),t.join("")};function no(t){return new tl(t)}function Cm(t,e,n){t.j=n?Ld(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Tm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YC(t,e,n){e instanceof Qh?(t.i=e,Vee(t.i,t.h)):(n||(e=Md(e,jee)),t.i=new Qh(e,t.h))}function Lt(t,e,n){t.i.set(e,n)}function Vg(t){return Lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ld(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Md(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Oee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oee(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XC=/[#\/\?@]/g,Dee=/[#\?:]/g,$ee=/[#\?]/g,jee=/[#\?@]/g,Fee=/#/g;function Qh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wa(t){t.g||(t.g=new Map,t.h=0,t.i&&Mee(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=Qh.prototype;re.add=function(t,e){wa(this),this.i=null,t=Vu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function a9(t,e){wa(t),e=Vu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function l9(t,e){return wa(t),e=Vu(t,e),t.g.has(e)}re.forEach=function(t,e){wa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};re.ta=function(){wa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};re.Z=function(t){wa(this);let e=[];if(typeof t=="string")l9(this,t)&&(e=e.concat(this.g.get(Vu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return wa(this),this.i=null,t=Vu(this,t),l9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function c9(t,e,n){a9(t,e),0<n.length&&(t.i=null,t.g.set(Vu(t,e),L3(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vee(t,e){e&&!t.j&&(wa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(a9(this,r),c9(this,i,n))},t)),t.j=e}var Uee=class{constructor(t,e){this.g=t,this.map=e}};function u9(t){this.l=t||Bee,Me.PerformanceNavigationTiming?(t=Me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Me.g&&Me.g.Ka&&Me.g.Ka()&&Me.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bee=10;function d9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function h9(t){return t.h?1:t.g?t.g.size:0}function U_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function G3(t,e){t.g?t.g.add(e):t.h=e}function f9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}u9.prototype.cancel=function(){if(this.i=p9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function p9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return L3(t.i)}var zee=class{stringify(t){return Me.JSON.stringify(t,void 0)}parse(t){return Me.JSON.parse(t,void 0)}};function Wee(){this.g=new zee}function Hee(t,e,n){const r=n||"";try{s9(t,function(i,s){let o=i;Nf(i)&&(o=V3(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qee(t,e){const n=new Og;if(Me.Image){const r=new Image;r.onload=M0(D0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=M0(D0,n,r,"TestLoadImage: error",!1,e),r.onabort=M0(D0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=M0(D0,n,r,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function D0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ug(t){this.l=t.ec||null,this.j=t.ob||!1}Ln(Ug,W3);Ug.prototype.g=function(){return new Bg(this.l,this.j)};Ug.prototype.i=function(t){return function(){return t}}({});function Bg(t,e){An.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=K3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ln(Bg,An);var K3=0;re=Bg.prototype;re.open=function(t,e){if(this.readyState!=K3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yh(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jf(this)),this.readyState=K3};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yh(this)),this.g&&(this.readyState=3,Yh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function m9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jf(this):Yh(this),this.readyState==3&&m9(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,jf(this))};re.Ya=function(t){this.g&&(this.response=t,jf(this))};re.ka=function(){this.g&&jf(this)};function jf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yh(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Gee=Me.JSON.parse;function Jt(t){An.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g9,this.L=this.M=!1}Ln(Jt,An);var g9="",Kee=/^https?$/i,Qee=["POST","PUT"];re=Jt.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$_.g(),this.C=this.u?QC(this.u):QC($_),this.g.onreadystatechange=or(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){JC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Me.FormData&&t instanceof Me.FormData,!(0<=NP(Qee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_9(this),0<this.B&&((this.L=Yee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.ua,this)):this.A=z3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){JC(this,s)}};function Yee(t){return lu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof N3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))};function JC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,v9(t),zg(t)}function v9(t){t.F||(t.F=!0,Wn(t,"complete"),Wn(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wn(this,"complete"),Wn(this,"abort"),zg(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zg(this,!0)),Jt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?y9(this):this.kb())};re.kb=function(){y9(this)};function y9(t){if(t.h&&typeof N3<"u"&&(!t.C[1]||us(t)!=4||t.da()!=2)){if(t.v&&us(t)==4)z3(t.La,0,t);else if(Wn(t,"readystatechange"),us(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(o9)[1]||null;!i&&Me.self&&Me.self.location&&(i=Me.self.location.protocol.slice(0,-1)),r=!Kee.test(i?i.toLowerCase():"")}n=r}if(n)Wn(t,"complete"),Wn(t,"success");else{t.m=6;try{var s=2<us(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",v9(t)}}finally{zg(t)}}}}function zg(t,e){if(t.g){_9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wn(t,"ready");try{n.onreadystatechange=r}catch{}}}function _9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Me.clearTimeout(t.A),t.A=null)}re.isActive=function(){return!!this.g};function us(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Gee(e)}};function ZC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case g9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Xee(t){const e={};t=(t.g&&2<=us(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zh(t[r]))continue;var n=Eee(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}mee(e,function(r){return r.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function w9(t){let e="";return O3(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Q3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=w9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Lt(t,e,n))}function pd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function x9(t){this.Ga=0,this.j=[],this.l=new Og,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pd("baseRetryDelayMs",5e3,t),this.hb=pd("retryDelaySeedMs",1e4,t),this.eb=pd("forwardChannelMaxRetries",2,t),this.xa=pd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new u9(t&&t.concurrentRequestLimit),this.Ja=new Wee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=x9.prototype;re.ra=8;re.H=1;function Y3(t){if(E9(t),t.H==3){var e=t.W++,n=no(t.I);if(Lt(n,"SID",t.K),Lt(n,"RID",e),Lt(n,"TYPE","terminate"),Ff(t,n),e=new Df(t,t.l,e),e.L=2,e.A=Vg(no(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon)try{n=Me.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Me.Image&&(new Image().src=e.A,n=!0),n||(e.g=A9(e.l,null),e.g.ha(e.A)),e.G=Date.now(),$f(e)}R9(t)}function Wg(t){t.g&&(J3(t),t.g.cancel(),t.g=null)}function E9(t){Wg(t),t.u&&(Me.clearTimeout(t.u),t.u=null),Sm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Me.clearTimeout(t.m),t.m=null)}function Hg(t){if(!d9(t.i)&&!t.m){t.m=!0;var e=t.Na;Hh||WP(),qh||(Hh(),qh=!0),U3.add(e,t),t.C=0}}function Jee(t,e){return h9(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Mf(or(t.Na,t,e),S9(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Df(this,this.l,t);let s=this.s;if(this.U&&(s?(s=DP(s),$P(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=I9(this,i,e),n=no(this.I),Lt(n,"RID",t),Lt(n,"CVER",22),this.F&&Lt(n,"X-HTTP-Session-Id",this.F),Ff(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(w9(s)))+"&"+e:this.o&&Q3(n,this.o,s)),G3(this.i,i),this.bb&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",e),Lt(n,"SID","null"),i.aa=!0,F_(i,n,null)):F_(i,n,e),this.H=2}}else this.H==3&&(t?eT(this,t):this.j.length==0||d9(this.i)||eT(this))};function eT(t,e){var n;e?n=e.m:n=t.W++;const r=no(t.I);Lt(r,"SID",t.K),Lt(r,"RID",n),Lt(r,"AID",t.V),Ff(t,r),t.o&&t.s&&Q3(r,t.o,t.s),n=new Df(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=I9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),G3(t.i,n),F_(n,r,e)}function Ff(t,e){t.na&&O3(t.na,function(n,r){Lt(e,r,n)}),t.h&&s9({},function(n,r){Lt(e,r,n)})}function I9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?or(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Hee(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function b9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hh||WP(),qh||(Hh(),qh=!0),U3.add(e,t),t.A=0}}function X3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Mf(or(t.Ma,t),S9(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,C9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Mf(or(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mr(10),Wg(this),C9(this))};function J3(t){t.B!=null&&(Me.clearTimeout(t.B),t.B=null)}function C9(t){t.g=new Df(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=no(t.wa);Lt(e,"RID","rpc"),Lt(e,"SID",t.K),Lt(e,"AID",t.V),Lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Lt(e,"TO",t.qa),Lt(e,"TYPE","xmlhttp"),Ff(t,e),t.o&&t.s&&Q3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vg(no(e)),n.u=null,n.S=!0,t9(n,t)}re.ib=function(){this.v!=null&&(this.v=null,Wg(this),X3(this),mr(19))};function Sm(t){t.v!=null&&(Me.clearTimeout(t.v),t.v=null)}function T9(t,e){var n=null;if(t.g==e){Sm(t),J3(t),t.g=null;var r=2}else if(U_(t.i,e))n=e.F,f9(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Dg(),Wn(r,new YP(r,n)),Hg(t)}else b9(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Jee(t,e)||r==2&&X3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ga(t,5);break;case 4:Ga(t,10);break;case 3:Ga(t,6);break;default:Ga(t,2)}}}function S9(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ga(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=or(t.pb,t);n||(n=new tl("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||Cm(n,"https"),Vg(n)),qee(n.toString(),r)}else mr(2);t.H=0,t.h&&t.h.za(e),R9(t),E9(t)}re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mr(2)):(this.l.info("Failed to ping google.com"),mr(1))};function R9(t){if(t.H=0,t.ma=[],t.h){const e=p9(t.i);(e.length!=0||t.j.length!=0)&&(WC(t.ma,e),WC(t.ma,t.j),t.i.i.length=0,L3(t.j),t.j.length=0),t.h.ya()}}function k9(t,e,n){var r=n instanceof tl?no(n):new tl(n);if(r.g!="")e&&(r.g=e+"."+r.g),Tm(r,r.m);else{var i=Me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new tl(null);r&&Cm(s,r),e&&(s.g=e),i&&Tm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Lt(r,n,e),Lt(r,"VER",t.ra),Ff(t,r),r}function A9(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Jt(new Ug({ob:n})):new Jt(t.va),e.Oa(t.J),e}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function P9(){}re=P9.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function Rm(){if(lu&&!(10<=Number(dee)))throw Error("Environmental error: no available transport.")}Rm.prototype.g=function(t,e){return new Jr(t,e)};function Jr(t,e){An.call(this),this.g=new x9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Uu(this)}Ln(Jr,An);Jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=k9(t,null,t.Y),Hg(t)};Jr.prototype.close=function(){Y3(this.g)};Jr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=V3(t),t=n);e.j.push(new Uee(e.fb++,t)),e.H==3&&Hg(e)};Jr.prototype.N=function(){this.g.h=null,delete this.j,Y3(this.g),delete this.g,Jr.$.N.call(this)};function N9(t){H3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ln(N9,H3);function L9(){q3.call(this),this.status=1}Ln(L9,q3);function Uu(t){this.g=t}Ln(Uu,P9);Uu.prototype.Ba=function(){Wn(this.g,"a")};Uu.prototype.Aa=function(t){Wn(this.g,new N9(t))};Uu.prototype.za=function(t){Wn(this.g,new L9)};Uu.prototype.ya=function(){Wn(this.g,"b")};function Zee(){this.blockSize=-1}function Qi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ln(Qi,Zee);Qi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ov(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Qi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ov(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ov(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ov(this,r),i=0;break}}this.h=i,this.i+=e};Qi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function vt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var ete={};function Z3(t){return-128<=t&&128>t?lee(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function ds(t){if(isNaN(t)||!isFinite(t))return zc;if(0>t)return Fn(ds(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=B_;return new vt(e,0)}function M9(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fn(M9(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ds(Math.pow(e,8)),r=zc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ds(Math.pow(e,s)),r=r.R(s).add(ds(o))):(r=r.R(n),r=r.add(ds(o)))}return r}var B_=4294967296,zc=Z3(0),z_=Z3(1),tT=Z3(16777216);re=vt.prototype;re.ea=function(){if(hi(this))return-Fn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:B_+r)*e,e*=B_}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Us(this))return"0";if(hi(this))return"-"+Fn(this).toString(t);for(var e=ds(Math.pow(t,6)),n=this,r="";;){var i=Am(n,e).g;n=km(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Us(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Us(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hi(t){return t.h==-1}re.X=function(t){return t=km(this,t),hi(t)?-1:Us(t)?0:1};function Fn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new vt(n,~t.h).add(z_)}re.abs=function(){return hi(this)?Fn(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function km(t,e){return t.add(Fn(e))}re.R=function(t){if(Us(this)||Us(t))return zc;if(hi(this))return hi(t)?Fn(this).R(Fn(t)):Fn(Fn(this).R(t));if(hi(t))return Fn(this.R(Fn(t)));if(0>this.X(tT)&&0>t.X(tT))return ds(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,$0(n,2*r+2*i),n[2*r+2*i+1]+=s*l,$0(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,$0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,$0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new vt(n,0)};function $0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function md(t,e){this.g=t,this.h=e}function Am(t,e){if(Us(e))throw Error("division by zero");if(Us(t))return new md(zc,zc);if(hi(t))return e=Am(Fn(t),e),new md(Fn(e.g),Fn(e.h));if(hi(e))return e=Am(t,Fn(e)),new md(Fn(e.g),e.h);if(30<t.g.length){if(hi(t)||hi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=z_,r=e;0>=r.X(t);)n=nT(n),r=nT(r);var i=rc(n,1),s=rc(r,1);for(r=rc(r,2),n=rc(n,2);!Us(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=rc(r,1),n=rc(n,1)}return e=km(t,i.R(e)),new md(i,e)}for(i=zc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ds(n),o=s.R(e);hi(o)||0<o.X(t);)n-=r,s=ds(n),o=s.R(e);Us(s)&&(s=z_),i=i.add(s),t=km(t,o)}return new md(i,t)}re.gb=function(t){return Am(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new vt(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new vt(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new vt(n,this.h^t.h)};function nT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new vt(n,t.h)}function rc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new vt(i,t.h)}Rm.prototype.createWebChannel=Rm.prototype.g;Jr.prototype.send=Jr.prototype.u;Jr.prototype.open=Jr.prototype.m;Jr.prototype.close=Jr.prototype.close;$g.NO_ERROR=0;$g.TIMEOUT=8;$g.HTTP_ERROR=6;XP.COMPLETE="complete";JP.EventType=Of;Of.OPEN="a";Of.CLOSE="b";Of.ERROR="c";Of.MESSAGE="d";An.prototype.listen=An.prototype.O;Jt.prototype.listenOnce=Jt.prototype.P;Jt.prototype.getLastError=Jt.prototype.Sa;Jt.prototype.getLastErrorCode=Jt.prototype.Ia;Jt.prototype.getStatus=Jt.prototype.da;Jt.prototype.getResponseJson=Jt.prototype.Wa;Jt.prototype.getResponseText=Jt.prototype.ja;Jt.prototype.send=Jt.prototype.ha;Jt.prototype.setWithCredentials=Jt.prototype.Oa;Qi.prototype.digest=Qi.prototype.l;Qi.prototype.reset=Qi.prototype.reset;Qi.prototype.update=Qi.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=ds;vt.fromString=M9;var tte=function(){return new Rm},nte=function(){return Dg()},Dv=$g,rte=XP,ite=Ol,rT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},j0=JP,ste=Jt,ote=Qi,Wc=vt;const iT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Tf("@firebase/firestore");function dc(){return vl.logLevel}function K(t,...e){if(vl.logLevel<=ze.DEBUG){const n=e.map(eE);vl.debug(`Firestore (${Bu}): ${t}`,...n)}}function fr(t,...e){if(vl.logLevel<=ze.ERROR){const n=e.map(eE);vl.error(`Firestore (${Bu}): ${t}`,...n)}}function na(t,...e){if(vl.logLevel<=ze.WARN){const n=e.map(eE);vl.warn(`Firestore (${Bu}): ${t}`,...n)}}function eE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function we(t,e){t||pe()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ate{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class lte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cte{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new O9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new $n(e)}}class ute{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ute(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new hte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function cu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function $9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Wt(0,0))}static max(){return new be(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Xh{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const mte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Xh{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return mte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(dt.fromString(e))}static fromName(e){return new te(dt.fromString(e).popFirst(5))}static empty(){return new te(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function W_(t){return t.fields.find(e=>e.kind===2)}function Ma(t){return t.fields.filter(e=>e.kind!==2)}Pm.UNKNOWN_ID=-1;class wp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jh(0,Zr.min())}}function gte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Zr(i,te.empty(),e)}function j9(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(be.min(),te.empty(),-1)}static max(){return new Zr(be.max(),te.empty(),-1)}}function tE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==F9)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new nh(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=nE(r.target.error);this.V.reject(new nh(e,i))}}static open(e,n,r,i){try{return new qg(n,e.transaction(i,r))}catch(s){throw new nh(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new yte(n)}}class hs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,hs.S(ot())===12.2&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),$a(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!B6())return!1;if(hs.C())return!0;const e=ot(),n=hs.S(e),r=0<n&&n<10,i=hs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new nh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new J(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new nh(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=qg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),U.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class vte{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return $a(this.k.delete())}}class nh extends J{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xa(t){return t.name==="IndexedDbTransactionError"}class yte{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$a(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),$a(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new U((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const o=nE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new U((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new vte(a),c=n(a.primaryKey,a.value,l);if(c instanceof U){const u=c.catch(d=>(l.done(),U.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $a(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=nE(r.target.error);n(i)}})}let sT=!1;function nE(t){const e=hs.S(ot());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sT||(sT=!0,setTimeout(()=>{throw r},0)),r}}return t}class _te{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){xa(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Dl(n)}await this.ee(6e4)})}}class wte{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return U.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=j9(s);tE(o,r)>0&&(r=o)}),new Zr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}vi._e=-1;function Gg(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function xte(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oT(e)),e=Ete(t.get(n),e);return oT(e)}function Ete(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function oT(t){return t+""}function fs(t){const e=t.length;if(we(e>=2),e===2)return we(t.charAt(0)===""&&t.charAt(1)===""),dt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&pe(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:pe()}s=o+2}return new dt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e){return[t,yr(e)]}function U9(t,e,n){return[t,yr(e),n]}const Ite={},bte=["prefixPath","collectionGroup","readTime","documentId"],Cte=["prefixPath","collectionGroup","documentId"],Tte=["collectionGroup","readTime","prefixPath","documentId"],Ste=["canonicalId","targetId"],Rte=["targetId","path"],kte=["path","targetId"],Ate=["collectionId","parent"],Pte=["indexId","uid"],Nte=["uid","sequenceNumber"],Lte=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Mte=["indexId","uid","orderedDocumentKey"],Ote=["userId","collectionPath","documentId"],Dte=["userId","collectionPath","largestBatchId"],$te=["userId","collectionGroup","largestBatchId"],B9=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jte=[...B9,"documentOverlays"],z9=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],W9=z9,Fte=[...W9,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends V9{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Mn(t,e){const n=Pe(t);return hs.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class q_{constructor(e,n){this.comparator=e,this.root=n||Yo.EMPTY}insert(e,n){return new q_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yo.BLACK,null,null))}remove(e){return new q_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new F0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new F0(this.root,e,this.comparator,!1)}getReverseIterator(){return new F0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new F0(this.root,e,this.comparator,!0)}},F0=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yo=class As{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??As.RED,this.left=i??As.EMPTY,this.right=s??As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new As(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return As.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}};Yo.EMPTY=null,Yo.RED=!0,Yo.BLACK=!1;Yo.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(e){return new cT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class cT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ic(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new Et(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q9("Invalid base64 string: "+s):s}}(e);return new Gn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const Vte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(we(!!t),typeof t=="string"){let e=0;const n=Vte.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rE(t){const e=t.mapValue.fields.__previous_value__;return Kg(e)?rE(e):e}function ef(t){const e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ep={nullValue:"NULL_VALUE"};function _l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:G9(t)?9007199254740991:10:pe()}function bs(t,e){if(t===e)return!0;const n=_l(t);if(n!==_l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ef(t).isEqual(ef(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ra(i.timestampValue),a=ra(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ia(i.bytesValue).isEqual(ia(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Zh(o)===Zh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lT(o)!==lT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bs(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function tf(t,e){return(t.values||[]).find(n=>bs(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=_l(t),r=_l(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uT(t.timestampValue,e.timestampValue);case 4:return uT(ef(t),ef(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ia(s),l=ia(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Oe(Yt(s.latitude),Yt(o.latitude));return a!==0?a:Oe(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=sa(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Do.mapValue&&o===Do.mapValue)return 0;if(s===Do.mapValue)return 1;if(o===Do.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Oe(l[d],u[d]);if(h!==0)return h;const p=sa(a[l[d]],c[u[d]]);if(p!==0)return p}return Oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw pe()}}function uT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=ra(t),r=ra(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function uu(t){return G_(t)}function G_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ra(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=G_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${G_(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function wl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K_(t){return!!t&&"integerValue"in t}function nf(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ip(t){return!!t&&"mapValue"in t}function rh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Bte(t){return"nullValue"in t?Ep:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?wl(yl.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:pe()}function zte(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?wl(yl.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Do:pe()}function fT(t,e){const n=sa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pT(t,e){const n=sa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$l(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nr(rh(this.value))}}function K9(t){const e=[];return $l(t.fields,(n,r)=>{const i=new Bt([n]);if(Ip(r)){const s=K9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.position=e,this.inclusive=n}}function mT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{}class Ge extends Q9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hte(e,n,r):n==="array-contains"?new Kte(e,r):n==="in"?new tN(e,r):n==="not-in"?new Qte(e,r):n==="array-contains-any"?new Yte(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qte(e,r):new Gte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&_l(this.value)===_l(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends Q9{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new mt(e,n)}matches(e){return du(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function du(t){return t.op==="and"}function Q_(t){return t.op==="or"}function iE(t){return Y9(t)&&du(t)}function Y9(t){for(const e of t.filters)if(e instanceof mt)return!1;return!0}function Y_(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(iE(t))return t.filters.map(e=>Y_(e)).join(",");{const e=t.filters.map(n=>Y_(n)).join(",");return`${t.op}(${e})`}}function X9(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&bs(r.value,i.value)}(t,e):t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&X9(o,i.filters[a]),!0):!1}(t,e):void pe()}function J9(t,e){const n=t.filters.concat(e);return mt.create(n,t.op)}function Z9(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof mt?function(n){return n.op.toString()+" {"+n.getFilters().map(Z9).join(" ,")+"}"}(t):"Filter"}class Hte extends Ge{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class qte extends Ge{constructor(e,n){super(e,"in",n),this.keys=eN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gte extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=eN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class Kte extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nf(n)&&tf(n.arrayValue,this.value)}}class tN extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tf(this.value.arrayValue,n)}}class Qte extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tf(this.value.arrayValue,n)}}class Yte extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function X_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xte(t,e,n,r,i,s,o)}function xl(t){const e=Pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.ce=n}return e.ce}function Vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gT(t.startAt,e.startAt)&&gT(t.endAt,e.endAt)}function Nm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Lm(t,e){return t.filters.filter(n=>n instanceof Ge&&n.field.isEqual(e))}function vT(t,e,n){let r=Ep,i=!0;for(const s of Lm(t,e)){let o=Ep,a=!0;switch(s.op){case"<":case"<=":o=Bte(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ep}fT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];fT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function yT(t,e,n){let r=Do,i=!0;for(const s of Lm(t,e)){let o=Do,a=!0;switch(s.op){case">=":case">":o=zte(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Do}pT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];pT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Jte(t,e,n,r,i,s,o,a){return new jl(t,e,n,r,i,s,o,a)}function Uf(t){return new jl(t)}function _T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sE(t){return t.collectionGroup!==null}function Hc(t){const e=Pe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(Bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new rf(s,r))}),n.has(Bt.keyField().canonicalString())||e.le.push(new rf(Bt.keyField(),r))}return e.le}function xi(t){const e=Pe(t);return e.he||(e.he=nN(e,Hc(t))),e.he}function nN(t,e){if(t.limitType==="F")return X_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rf(i.field,s)});const n=t.endAt?new oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oa(t.startAt.position,t.startAt.inclusive):null;return X_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function J_(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mm(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qg(t,e){return Vf(xi(t),xi(e))&&t.limitType===e.limitType}function rN(t){return`${xl(xi(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Z9(i)).join(", ")}]`),Gg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uu(i)).join(",")),`Target(${r})`}(xi(t))}; limitType=${t.limitType})`}function Bf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=mT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Hc(r),i)||r.endAt&&!function(o,a,l){const c=mT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Hc(r),i))}(t,e)}function Zte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iN(t){return(e,n)=>{let r=!1;for(const i of Hc(t)){const s=ene(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ene(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?sa(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return H9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tne=new rn(te.comparator);function Wr(){return tne}const sN=new rn(te.comparator);function Od(...t){let e=sN;for(const n of t)e=e.insert(n.key,n);return e}function oN(t){let e=sN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return ih()}function aN(){return ih()}function ih(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const nne=new rn(te.comparator),rne=new Et(te.comparator);function We(...t){let e=rne;for(const n of t)e=e.add(n);return e}const ine=new Et(Oe);function sne(){return ine}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function cN(t){return{integerValue:""+t}}function one(t,e){return xte(e)?cN(e):lN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function ane(t,e,n){return t instanceof hu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kg(s)&&(s=rE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof El?dN(t,e):t instanceof fu?hN(t,e):function(i,s){const o=uN(i,s),a=wT(o)+wT(i.Ie);return K_(o)&&K_(i.Ie)?cN(a):lN(i.serializer,a)}(t,e)}function lne(t,e,n){return t instanceof El?dN(t,e):t instanceof fu?hN(t,e):n}function uN(t,e){return t instanceof sf?function(r){return K_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class hu extends Yg{}class El extends Yg{constructor(e){super(),this.elements=e}}function dN(t,e){const n=fN(e);for(const r of t.elements)n.some(i=>bs(i,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends Yg{constructor(e){super(),this.elements=e}}function hN(t,e){let n=fN(e);for(const r of t.elements)n=n.filter(i=>!bs(i,r));return{arrayValue:{values:n}}}class sf extends Yg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function wT(t){return Yt(t.integerValue||t.doubleValue)}function fN(t){return nf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.field=e,this.transform=n}}function cne(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof El&&i instanceof El||r instanceof fu&&i instanceof fu?cu(r.elements,i.elements,bs):r instanceof sf&&i instanceof sf?bs(r.Ie,i.Ie):r instanceof hu&&i instanceof hu}(t.transform,e.transform)}class une{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function pN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,rr.none()):new zu(t.key,t.data,rr.none());{const n=t.data,r=nr.empty();let i=new Et(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new Ar(i.toArray()),rr.none())}}function dne(t,e,n){t instanceof zu?function(i,s,o){const a=i.value.clone(),l=ET(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!bp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ET(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(mN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sh(t,e,n,r){return t instanceof zu?function(s,o,a,l){if(!bp(s.precondition,o))return a;const c=s.value.clone(),u=IT(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,a,l){if(!bp(s.precondition,o))return a;const c=IT(s.fieldTransforms,l,o),u=o.data;return u.setAll(mN(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return bp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uN(r.transform,i||null);s!=null&&(n===null&&(n=nr.empty()),n.set(r.field,s))}return n||null}function xT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cu(r,i,(s,o)=>cne(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zu extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends Xg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ET(t,e,n){const r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lne(o,a,n[i]))}return r}function IT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ane(s,o,e))}return r}class Jg extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gN extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=pN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(n,r)=>xT(n,r))&&cu(this.baseMutations,e.baseMutations,(n,r)=>xT(n,r))}}class lE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return nne}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,et;function mne(t){switch(t){default:return pe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function vN(t){if(t===void 0)return fr("GRPC error has no .code"),H.UNKNOWN;switch(t){case un.OK:return H.OK;case un.CANCELLED:return H.CANCELLED;case un.UNKNOWN:return H.UNKNOWN;case un.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case un.INTERNAL:return H.INTERNAL;case un.UNAVAILABLE:return H.UNAVAILABLE;case un.UNAUTHENTICATED:return H.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case un.NOT_FOUND:return H.NOT_FOUND;case un.ALREADY_EXISTS:return H.ALREADY_EXISTS;case un.PERMISSION_DENIED:return H.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case un.ABORTED:return H.ABORTED;case un.OUT_OF_RANGE:return H.OUT_OF_RANGE;case un.UNIMPLEMENTED:return H.UNIMPLEMENTED;case un.DATA_LOSS:return H.DATA_LOSS;default:return pe()}}(et=un||(un={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne=new Wc([4294967295,4294967295],0);function bT(t){const e=gne().encode(t),n=new ote;return n.update(e),new Uint8Array(n.digest())}function CT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wc([n,r],0),new Wc([i,s],0)]}class uE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dd(`Invalid padding: ${n}`);if(r<0)throw new Dd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wc.fromNumber(r)));return i.compare(vne)===1&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=bT(e),[r,i]=CT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=bT(e),[r,i]=CT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zg(be.min(),i,new rn(Oe),Wr(),We())}}class zf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zf(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class yN{constructor(e,n){this.targetId=e,this.fe=n}}class _N{constructor(e,n,r=Gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TT{constructor(){this.ge=0,this.pe=RT(),this.ye=Gn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=We(),n=We(),r=We();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new zf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=RT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class yne{constructor(e){this.Be=e,this.ke=new Map,this.qe=Wr(),this.Qe=ST(),this.Ke=new rn(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Nm(s))if(r===0){const o=new te(s.path);this.We(n,o,Xt.newNoDocument(o,be.min()))}else we(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ia(r).toUint8Array()}catch(l){if(l instanceof q9)return na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uE(o,i,s)}catch(l){return na(l instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Nm(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Xt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=We();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Zg(e,n,this.Ke,this.qe,r);return this.qe=Wr(),this.Qe=ST(),this.Ke=new rn(Oe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new TT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Et(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new TT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function ST(){return new rn(te.comparator)}function RT(){return new rn(te.comparator)}const _ne={asc:"ASCENDING",desc:"DESCENDING"},wne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xne={and:"AND",or:"OR"};class Ene{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z_(t,e){return t.useProto3Json||Gg(e)?e:{value:e}}function pu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ine(t,e){return pu(t,e.toTimestamp())}function _r(t){return we(!!t),be.fromTimestamp(function(n){const r=ra(n);return new Wt(r.seconds,r.nanos)}(t))}function dE(t,e){return ew(t,e).canonicalString()}function ew(t,e){const n=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xN(t){const e=dt.fromString(t);return we(kN(e)),e}function Om(t,e){return dE(t.databaseId,e.path)}function nl(t,e){const n=xN(e);if(n.get(1)!==t.databaseId.projectId)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(bN(n))}function EN(t,e){return dE(t.databaseId,e)}function IN(t){const e=xN(t);return e.length===4?dt.emptyPath():bN(e)}function tw(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bN(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kT(t,e,n){return{name:Om(t,e),fields:n.value.mapValue.fields}}function bne(t,e,n){const r=nl(t,e.name),i=_r(e.updateTime),s=e.createTime?_r(e.createTime):be.min(),o=new nr({mapValue:{fields:e.fields}}),a=Xt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(we(u===void 0||typeof u=="string"),Gn.fromBase64String(u||"")):(we(u===void 0||u instanceof Uint8Array),Gn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:vN(c.code);return new J(u,c.message||"")}(o);n=new _N(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nl(t,r.document.name),s=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):be.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nl(t,r.document),s=r.readTime?_r(r.readTime):be.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nl(t,r.document),s=r.removedTargetIds||[];n=new Cp([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pne(i,s),a=r.targetId;n=new yN(a,o)}}return n}function Dm(t,e){let n;if(e instanceof zu)n={update:kT(t,e.key,e.value)};else if(e instanceof Jg)n={delete:Om(t,e.key)};else if(e instanceof fo)n={update:kT(t,e.key,e.data),updateMask:Pne(e.fieldMask)};else{if(!(e instanceof gN))return pe();n={verify:Om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof hu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof El)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ine(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function nw(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?rr.updateTime(_r(s.updateTime)):s.exists!==void 0?rr.exists(s.exists):rr.none()}(e.currentDocument):rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)we(a.setToServerValue==="REQUEST_TIME"),l=new hu;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new El(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new fu(u)}else"increment"in a?l=new sf(o,a.increment):pe();const c=Bt.fromServerFormat(a.fieldPath);return new oE(c,l)}(t,i)):[];if(e.update){e.update.name;const i=nl(t,e.update.name),s=new nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Ar(c.map(u=>Bt.fromServerFormat(u)))}(e.updateMask);return new fo(i,s,o,n,r)}return new zu(i,s,n,r)}if(e.delete){const i=nl(t,e.delete);return new Jg(i,n)}if(e.verify){const i=nl(t,e.verify);return new gN(i,n)}return pe()}function Tne(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_r(i.updateTime):_r(s);return o.isEqual(be.min())&&(o=_r(s)),new une(o,i.transformResults||[])}(n,e))):[]}function CN(t,e){return{documents:[EN(t,e.path)]}}function hE(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EN(t,i);const s=function(c){if(c.length!==0)return RN(mt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ko(h.field),direction:Rne(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Z_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function TN(t){let e=IN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=SN(d);return h instanceof mt&&iE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new rf(fc(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Gg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new oa(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new oa(p,h)}(n.endAt)),Jte(e,i,o,s,a,"F",l,c)}function Sne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fc(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fc(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(fc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mt.create(n.compositeFilter.filters.map(r=>SN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function Rne(t){return _ne[t]}function kne(t){return wne[t]}function Ane(t){return xne[t]}function ko(t){return{fieldPath:t.canonicalString()}}function fc(t){return Bt.fromServerFormat(t.fieldPath)}function RN(t){return t instanceof Ge?function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:kne(n.op),value:n.value}}}(t):t instanceof mt?function(n){const r=n.getFilters().map(i=>RN(i));return r.length===1?r[0]:{compositeFilter:{op:Ane(n.op),filters:r}}}(t):pe()}function Pne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r,i,s=be.min(),o=be.min(),a=Gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.ct=e}}function Nne(t,e){let n;if(e.document)n=bne(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=bl(e.noDocument.readTime);n=Xt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const r=te.fromSegments(e.unknownDocument.path),i=bl(e.unknownDocument.version);n=Xt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Wt(i[0],i[1]);return be.fromTimestamp(s)}(e.readTime)),n}function AT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$m(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Om(s,o.key),fields:o.data.value.mapValue.fields,updateTime:pu(s,o.version.toTimestamp()),createTime:pu(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Il(e.version)};else{if(!e.isUnknownDocument())return pe();r.unknownDocument={path:n.path.toArray(),version:Il(e.version)}}return r}function $m(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Il(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(t){const e=new Wt(t.seconds,t.nanoseconds);return be.fromTimestamp(e)}function ja(t,e){const n=(e.baseMutations||[]).map(s=>nw(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>nw(t.ct,s)),i=Wt.fromMillis(e.localWriteTimeMs);return new aE(e.batchId,i,n,r)}function $d(t){const e=bl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bl(t.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return we(s.documents.length===1),xi(Uf(IN(s.documents[0])))}(t.query):function(s){return xi(TN(s))}(t.query),new Bs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Gn.fromBase64String(t.resumeToken))}function PN(t,e){const n=Il(e.snapshotVersion),r=Il(e.lastLimboFreeSnapshotVersion);let i;i=Nm(e.target)?CN(t.ct,e.target):hE(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xl(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NN(t){const e=TN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}function $v(t,e){return new cE(e.largestBatchId,nw(t.ct,e.overlayMutation))}function PT(t,e){const n=e.path.lastSegment();return[t,yr(e.path.popLast()),n]}function NT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Il(r.readTime),documentKey:yr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{getBundleMetadata(e,n){return LT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:bl(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return LT(e).put(function(i){return{bundleId:i.id,createTime:Il(_r(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return MT(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:NN(s.bundledQuery),readTime:bl(s.readTime)}}(r)})}saveNamedQuery(e,n){return MT(e).put(function(i){return{name:i.name,readTime:Il(_r(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function LT(t){return Mn(t,"bundles")}function MT(t){return Mn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new e1(e,r)}getOverlay(e,n){return gd(e).get(PT(this.userId,n)).next(r=>r?$v(this.serializer,r):null)}getOverlays(e,n){const r=ps();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new cE(n,o);i.push(this.ht(e,a))}),U.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(yr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(gd(e).H("collectionPathOverlayIndex",a))}),U.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ps(),s=yr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return gd(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=$v(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ps();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gd(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=$v(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return gd(e).put(function(i,s,o){const[a,l,c]=PT(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Dm(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function gd(t){return Mn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Zh(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ia(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?G9(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):pe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),te.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Fa.bt=new Fa;function Mne(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function OT(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Mne(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class One{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=OT(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=OT(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Dne{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class $ne{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class vd{constructor(){this.Gt=new One,this.zt=new Dne(this.Gt),this.jt=new $ne(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Va(this.indexId,this.documentKey,this.arrayValue,r)}}function yo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=DT(t.arrayValue,e.arrayValue),n!==0?n:(n=DT(t.directionalValue,e.directionalValue),n!==0?n:te.comparator(t.documentKey,e.documentKey)))}function DT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.Yt=new Et((n,r)=>Bt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(we(e.collectionGroup===this.collectionId),this.en)return!1;const n=W_(e);if(n!==void 0&&!this.nn(n))return!1;const r=Ma(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Et(Bt.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new wp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new wp(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new wp(r.field,r.dir==="asc"?0:1)));return new Pm(Pm.UNKNOWN_ID,this.collectionId,n,Jh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){var e,n;if(we(t instanceof Ge||t instanceof mt),t instanceof Ge){if(t instanceof tN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ge.create(t.field,"==",s)))||[];return mt.create(i,"or")}return t}const r=t.filters.map(i=>LN(i));return mt.create(r,t.op)}function jne(t){if(t.getFilters().length===0)return[];const e=sw(LN(t));return we(MN(e)),rw(e)||iw(e)?[e]:e.getFilters()}function rw(t){return t instanceof Ge}function iw(t){return t instanceof mt&&iE(t)}function MN(t){return rw(t)||iw(t)||function(n){if(n instanceof mt&&Q_(n)){for(const r of n.getFilters())if(!rw(r)&&!iw(r))return!1;return!0}return!1}(t)}function sw(t){if(we(t instanceof Ge||t instanceof mt),t instanceof Ge)return t;if(t.filters.length===1)return sw(t.filters[0]);const e=t.filters.map(r=>sw(r));let n=mt.create(e,t.op);return n=jm(n),MN(n)?n:(we(n instanceof mt),we(du(n)),we(n.filters.length>1),n.filters.reduce((r,i)=>fE(r,i)))}function fE(t,e){let n;return we(t instanceof Ge||t instanceof mt),we(e instanceof Ge||e instanceof mt),n=t instanceof Ge?e instanceof Ge?function(i,s){return mt.create([i,s],"and")}(t,e):jT(t,e):e instanceof Ge?jT(e,t):function(i,s){if(we(i.filters.length>0&&s.filters.length>0),du(i)&&du(s))return J9(i,s.getFilters());const o=Q_(i)?i:s,a=Q_(i)?s:i,l=o.filters.map(c=>fE(c,a));return mt.create(l,"or")}(t,e),jm(n)}function jT(t,e){if(du(e))return J9(e,t.getFilters());{const n=e.filters.map(r=>fE(t,r));return mt.create(n,"or")}}function jm(t){if(we(t instanceof Ge||t instanceof mt),t instanceof Ge)return t;const e=t.getFilters();if(e.length===1)return jm(e[0]);if(Y9(t))return t;const n=e.map(i=>jm(i)),r=[];return n.forEach(i=>{i instanceof Ge?r.push(i):i instanceof mt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:mt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(){this._n=new pE}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Zr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class pE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Uint8Array(0);class Vne{constructor(e,n){this.databaseId=n,this.an=new pE,this.un=new Ea(r=>xl(r),(r,i)=>Vf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:yr(i)};return FT(e).put(s)}return U.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[$9(n),""],!1,!0);return FT(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(fs(o.parent))}return r})}addFieldIndex(e,n){const r=yd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=oc(e);return s.next(a=>{o.put(NT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=yd(e),i=oc(e),s=sc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=yd(e),r=sc(e),i=oc(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return U.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new $T(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=sc(e);let i=!0;const s=new Map;return U.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=We();const a=[];return U.forEach(s,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(l)} to execute ${xl(n)}`);const u=function(_,I){const S=W_(I);if(S===void 0)return null;for(const E of Lm(_,S.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(c,l),d=function(_,I){const S=new Map;for(const E of Ma(I))for(const C of Lm(_,E.fieldPath))switch(C.op){case"==":case"in":S.set(E.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return S.set(E.fieldPath.canonicalString(),C.value),Array.from(S.values())}return null}(c,l),h=function(_,I){const S=[];let E=!0;for(const C of Ma(I)){const b=C.kind===0?vT(_,C.fieldPath,_.startAt):yT(_,C.fieldPath,_.startAt);S.push(b.value),E&&(E=b.inclusive)}return new oa(S,E)}(c,l),p=function(_,I){const S=[];let E=!0;for(const C of Ma(I)){const b=C.kind===0?yT(_,C.fieldPath,_.endAt):vT(_,C.fieldPath,_.endAt);S.push(b.value),E&&(E=b.inclusive)}return new oa(S,E)}(c,l),m=this.hn(l,c,h),y=this.hn(l,c,p),x=this.Pn(l,c,d),g=this.In(l.indexId,u,m,h.inclusive,y,p.inclusive,x);return U.forEach(g,w=>r.j(w,n.limit).next(_=>{_.forEach(I=>{const S=te.fromSegments(I.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}return U.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=jne(mt.create(e.filters,"and")).map(r=>X_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/c]):V0,p=this.En(e,h,r[d%c],i),m=this.dn(e,h,s[d%c],o),y=a.map(x=>this.En(e,h,x,!0));u.push(...this.createRange(p,m,y))}return u}En(e,n,r,i){const s=new Va(e,te.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Va(e,te.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new $T(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return U.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Et(Bt.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new vd;for(const i of Ma(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Fa.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new vd;return Fa.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new vd;return Fa.bt.Pt(wl(this.databaseId,n),r.Ht(function(s){const o=Ma(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new vd);let s=0;for(const o of Ma(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&nf(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Fa.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new vd;l.seed(a.Wt()),Fa.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=yd(e),i=oc(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return U.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Jh(d.sequenceNumber,new Zr(bl(d.readTime),new te(fs(d.documentKey)),d.largestBatchId)):Jh.empty(),p=u.fields.map(([m,y])=>new wp(Bt.fromServerFormat(m),y));return new Pm(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Oe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=yd(e),s=oc(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>U.forEach(a,l=>s.put(NT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return U.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?U.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),U.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?U.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return sc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return sc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=sc(e);let s=new Et(yo);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Va(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Et(yo);const i=this.An(n,e);if(i==null)return r;const s=W_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(nf(o))for(const a of o.arrayValue.values||[])r=r.add(new Va(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Va(n.indexId,e.key,V0,i));return r}wn(e,n,r,i,s){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,h){const p=l.getIterator(),m=c.getIterator();let y=ic(p),x=ic(m);for(;y||x;){let g=!1,w=!1;if(y&&x){const _=u(y,x);_<0?w=!0:_>0&&(g=!0)}else y!=null?w=!0:g=!0;g?(d(x),x=ic(m)):w?(h(y),y=ic(p)):(y=ic(p),x=ic(m))}}(i,s,yo,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),U.waitFor(o)}gn(e){let n=1;return oc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>yo(o,a)).filter((o,a,l)=>!a||yo(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=yo(o,e),l=yo(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,V0,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,V0,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return yo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(VT)}getMinOffset(e,n){return U.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||pe())).next(VT)}}function FT(t){return Mn(t,"collectionParents")}function sc(t){return Mn(t,"indexEntries")}function yd(t){return Mn(t,"indexConfiguration")}function oc(t){return Mn(t,"indexState")}function VT(t){we(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Tr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{we(a===1)}));const c=[];for(const u of n.mutations){const d=U9(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return U.waitFor(s).next(()=>c)}function Fm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(41943040,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);class t1{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){we(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new t1(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=pc(e),o=_o(e);return o.add({}).next(a=>{we(typeof a=="number");const l=new aE(a,n,r,i),c=function(p,m,y){const x=y.baseMutations.map(w=>Dm(p.ct,w)),g=y.mutations.map(w=>Dm(p.ct,w));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:x,mutations:g}}(this.serializer,this.userId,l),u=[];let d=new Et((h,p)=>Oe(h.canonicalString(),p.canonicalString()));for(const h of i){const p=U9(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,Ite))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),U.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return _o(e).get(n).next(r=>r?(we(r.userId===this.userId),ja(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?U.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return _o(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r),s=ja(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _o(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).W("userMutationsIndex",n).next(r=>r.map(i=>ja(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=xp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return pc(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,h=fs(u);if(c===this.userId&&n.path.isEqual(h))return _o(e).get(d).next(p=>{if(!p)throw pe();we(p.userId===this.userId),s.push(ja(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Oe);const i=[];return n.forEach(s=>{const o=xp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=pc(e).Y({range:a},(c,u,d)=>{const[h,p,m]=c,y=fs(p);h===this.userId&&s.path.isEqual(y)?r=r.add(m):d.done()});i.push(l)}),U.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=xp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Et(Oe);return pc(e).Y({range:o},(l,c,u)=>{const[d,h,p]=l,m=fs(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(_o(e).get(s).next(o=>{if(o===null)throw pe();we(o.userId===this.userId),r.push(ja(this.serializer,o))}))}),U.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return ON(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),U.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return U.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return pc(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=fs(s[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0)})})}containsKey(e,n){return DN(e,this.userId,n)}xn(e){return $N(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DN(t,e,n){const r=xp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return pc(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function _o(t){return Mn(t,"mutations")}function pc(t){return Mn(t,"documentMutations")}function $N(t){return Mn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Cl(0)}static Ln(){return new Cl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Cl(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>be.fromTimestamp(new Wt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ac(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(we(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return ac(e).Y((o,a)=>{const l=$d(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>U.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ac(e).Y((r,i)=>{const s=$d(i);n(s)})}Bn(e){return BT(e).get("targetGlobalKey").next(n=>(we(n!==null),n))}kn(e,n){return BT(e).put("targetGlobalKey",n)}qn(e,n){return ac(e).put(PN(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=xl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ac(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=$d(a);Vf(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ao(e);return n.forEach(o=>{const a=yr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),U.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ao(e);return U.forEach(n,s=>{const o=yr(s.path);return U.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ao(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ao(e);let s=We();return i.Y({range:r,J:!0},(o,a,l)=>{const c=fs(o[1]),u=new te(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=yr(n.path),i=IDBKeyRange.bound([r],[$9(r)],!1,!0);let s=0;return Ao(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return ac(e).get(n).next(r=>r?$d(r):null)}}function ac(t){return Mn(t,"targets")}function BT(t){return Mn(t,"targetGlobal")}function Ao(t){return Mn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class Bne{constructor(e){this.Kn=e,this.buffer=new Et(zT),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xa(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.zn(3e5)})}}class Wne{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(vi._e);const r=new Bne(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(UT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),dc()<=ze.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Hne(t,e){return new Wne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e,n){this.db=e,this.garbageCollector=Hne(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return U0(e,r)}removeReference(e,n,r){return U0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return U0(e,n)}er(e,n){return function(i,s){let o=!1;return $N(i).Z(a=>DN(i,a,s).next(l=>(l&&(o=!0),U.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,be.min()),Ao(e).delete(function(d){return[0,yr(d.path)]}(o))))});i.push(l)}}).next(()=>U.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return U0(e,n)}Xn(e,n){const r=Ao(e);let i,s=vi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==vi._e&&n(new te(fs(i)),s),s=c,i=l):s=vi._e}).next(()=>{s!==vi._e&&n(new te(fs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function U0(t,e){return Ao(t).put(function(r,i){return{targetId:0,path:yr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Sa(e).put(r)}removeEntry(e,n,r){return Sa(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],$m(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Xt.newInvalidDocument(n);return Sa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_d(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Xt.newInvalidDocument(n)};return Sa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(_d(n))},(i,s)=>{r={document:this.nr(n,s),size:Fm(s)}}).next(()=>r)}getEntries(e,n){let r=Wr();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Wr(),i=new rn(te.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Fm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return U.resolve();let i=new Et(qT);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(_d(i.first()),_d(i.last())),o=i.getIterator();let a=o.getNext();return Sa(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=te.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&qT(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(_d(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),$m(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sa(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Wr();for(const d of c){const h=this.nr(te.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Bf(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Wr();const o=HT(n,r),a=HT(n,Zr.max());return Sa(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(te.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new Kne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return WT(e).get("remoteDocumentGlobalKey").next(n=>(we(!!n),n))}tr(e,n){return WT(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=Nne(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return Xt.newInvalidDocument(e)}}function FN(t){return new Gne(t)}class Kne extends jN{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ea(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Et((s,o)=>Oe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=AT(this.ar.serializer,o);i=i.add(s.path.popLast());const c=Fm(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=AT(this.ar.serializer,o.convertToNoDocument(be.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),U.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function WT(t){return Mn(t,"remoteDocumentGlobal")}function Sa(t){return Mn(t,"remoteDocumentsV14")}function _d(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HT(t,e){const n=e.documentKey.path.toArray();return[t,$m(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Oe(n[s],r[s]),i)return i;return i=Oe(n.length,r.length),i||(i=Oe(n[n.length-2],r[r.length-2]),i||Oe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sh(r.mutation,i,Ar.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Od();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wr();const o=ih(),a=function(){return ih()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof fo)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),sh(u.mutation,c,u.mutation.getFieldMask(),Wt.now())):o.set(c.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Qne(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ih();let i=new rn((o,a)=>o-a),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ar.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||We()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=aN();u.forEach(h=>{if(!s.has(h)){const p=pN(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ps());let a=-1,l=s;return o.next(c=>U.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,We())).next(u=>({batchId:a,changes:oN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Od();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(d,h){return new jl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Xt.newInvalidDocument(u)))});let a=Od();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&sh(u.mutation,c,Ar.empty(),Wt.now()),Bf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:NN(i.bundledQuery),readTime:_r(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(){this.overlays=new rn(te.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ps(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cE(n,r));let s=this.hr.get(n);s===void 0&&(s=We(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Pr=new Et(En.Ir),this.Tr=new Et(En.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new En(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new En(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new dt([])),r=new En(n,e),i=new En(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new dt([])),r=new En(n,e),i=new En(n,e+1);let s=We();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new En(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Et(En.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new En(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(Oe);return n.forEach(i=>{const s=new En(i,0),o=new En(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new En(new te(s),0);let a=new Et(Oe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new En(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new En(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e){this.vr=e,this.docs=function(){return new rn(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wr();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||tE(j9(u),r)<=0||(i.has(u.key)||Bf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ere(this)}getSize(e){return U.resolve(this.size)}}class ere extends jN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.persistence=e,this.Mr=new Ea(n=>xl(n),Vf),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mE,this.targetCount=0,this.Lr=Cl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.Br={},this.overlays={},this.kr=new vi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new tre(this),this.indexManager=new Fne,this.remoteDocumentCache=function(i){return new Zne(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new AN(n),this.$r=new Yne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Jne(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new nre(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class nre extends V9{constructor(e){super(),this.currentSequenceNumber=e}}class n1{constructor(e){this.persistence=e,this.zr=new mE,this.jr=null}static Hr(e){return new n1(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e){this.serializer=e}N(e,n,r,i){const s=new qg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aT,{unique:!0}),l.createObjectStore("documentMutations")}(e),GT(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=U.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),GT(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aT,{unique:!0});const d=c.store("mutations"),h=u.map(p=>d.put(p));return U.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Ote});c.createIndex("collectionPathOverlayIndex",Dte,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",$te,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:bte});c.createIndex("documentKeyIndex",Cte),c.createIndex("collectionGroupIndex",Tte)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Pte}).createIndex("sequenceNumberIndex",Nte,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Lte}).createIndex("documentKeyIndex",Mte,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Fm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>U.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>U.forEach(a,l=>{we(l.userId===s.userId);const c=ja(this.serializer,l);return ON(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new dt(o),c=function(d){return[0,yr(d)]}(l);s.push(n.get(c).next(u=>u?U.resolve():(d=>n.put({targetId:0,path:yr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>U.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Ate});const r=n.store("collectionParents"),i=new pE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:yr(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new dt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=fs(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=$d(i),o=PN(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new te(dt.fromString(d.document.name).popFirst(5)):d.noDocument?te.fromSegments(d.noDocument.path):d.unknownDocument?te.fromSegments(d.unknownDocument.path):pe()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>U.waitFor(i))}si(e,n){const r=n.store("mutations"),i=FN(this.serializer),s=new UN(n1.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:We();ja(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),U.forEach(a,(l,c)=>{const u=new $n(c),d=e1.lt(this.serializer,u),h=s.getIndexManager(u),p=t1.lt(u,this.serializer,h,s.referenceDelegate);return new VN(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new H_(n,vi._e),l).next()})})}}function GT(t){t.createObjectStore("targetDocuments",{keyPath:Rte}).createIndex("documentTargetsIndex",kte,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ste,{unique:!0}),t.createObjectStore("targetGlobal")}const jv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gE{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!gE.D())throw new J(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qne(this,i),this.Ti=n+"main",this.serializer=new AN(l),this.Ei=new hs(this.Ti,this.ui,new rre(this.serializer)),this.Qr=new Une(this.referenceDelegate,this.serializer),this.remoteDocumentCache=FN(this.serializer),this.$r=new Lne,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,jv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new vi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>B0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(xa(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return wd(e).get("owner").next(n=>U.resolve(this.Si(n)))}bi(e){return B0(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Mn(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return U.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?U.resolve(!0):wd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,jv);return!1}}return!(!this.networkEnabled||!this.inForeground)||B0(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new H_(e,vi._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>B0(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return t1.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vne(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return e1.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Fte:l===14?W9:l===13?z9:l===12?jte:l===11?B9:void pe()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new H_(a,this.kr?this.kr.next():vi._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new J(H.FAILED_PRECONDITION,F9);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return wd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(H.FAILED_PRECONDITION,jv)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wd(e).put("owner",n)}static D(){return hs.D()}yi(e){const n=wd(e);return n.get("owner").next(r=>this.Si(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):U.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(fr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;U6()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wd(t){return Mn(t,"owner")}function B0(t){return Mn(t,"clientMetadata")}function ire(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return U6()?8:hs.v(ot())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new sre;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(dc()<=ze.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(dc()<=ze.DEBUG&&K("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(dc()<=ze.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):U.resolve())}ji(e,n){if(_T(n))return U.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=We(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Mm(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return _T(n)||i.isEqual(be.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(dc()<=ze.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.es(e,o,n,gte(i,-1)).next(a=>a))})}Zi(e,n){let r=new Et(iN(e));return n.forEach((i,s)=>{Bf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return dc()<=ze.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",hc(n)),this.zi.getDocumentsMatchingQuery(e,n,Zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new rn(Oe),this.rs=new Ea(s=>xl(s),Vf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function zN(t,e,n,r){return new ore(t,e,n,r)}async function WN(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=We();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function are(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=U.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const x=c.docVersions.get(m);we(x!==null),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=We();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HN(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function lre(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Gn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,x,g){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=Wr(),c=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(cre(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(be.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function cre(t,e,n){let r=We(),i=We();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function ure(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dre(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Bs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ow(t,e,n){const r=Pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xa(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function KT(t,e,n){const r=Pe(t);let i=be.min(),s=We();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Pe(l),h=d.rs.get(u);return h!==void 0?U.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,xi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:We())).next(a=>(hre(r,Zte(e),a),{documents:a,hs:s})))}function hre(t,e,n){let r=t.ss.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class QT{constructor(){this.activeTargetIds=sne()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(){this.no=new QT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new QT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0=null;function Fv(){return z0===null?z0=function(){return 268435456+Math.round(2147483648*Math.random())}():z0++,"0x"+z0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class gre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Fv(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw na("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=pre[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Fv();return new Promise((o,a)=>{const l=new ste;l.setWithCredentials(!0),l.listenOnce(rte.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dv.NO_ERROR:const u=l.getResponseJson();K(Xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Dv.TIMEOUT:K(Xn,`RPC '${e}' ${s} timed out`),a(new J(H.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:const d=l.getStatus();if(K(Xn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(g)>=0?g:H.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(H.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{K(Xn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Xn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Fv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tte(),a=nte(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");K(Xn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new mre({lo:x=>{p?K(Xn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(K(Xn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(Xn,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},ho:()=>d.close()}),y=(x,g,w)=>{x.listen(g,_=>{try{w(_)}catch(I){setTimeout(()=>{throw I},0)}})};return y(d,j0.EventType.OPEN,()=>{p||K(Xn,`RPC '${e}' stream ${i} transport opened.`)}),y(d,j0.EventType.CLOSE,()=>{p||(p=!0,K(Xn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(d,j0.EventType.ERROR,x=>{p||(p=!0,na(Xn,`RPC '${e}' stream ${i} transport errored:`,x),m.Vo(new J(H.UNAVAILABLE,"The operation could not be completed")))}),y(d,j0.EventType.MESSAGE,x=>{var g;if(!p){const w=x.data[0];we(!!w);const _=w,I=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(I){K(Xn,`RPC '${e}' stream ${i} received error:`,I);const S=I.status;let E=function(R){const T=un[R];if(T!==void 0)return vN(T)}(S),C=I.message;E===void 0&&(E=H.INTERNAL,C="Unknown error status: "+S+" with message "+I.message),p=!0,m.Vo(new J(E,C)),d.close()}else K(Xn,`RPC '${e}' stream ${i} received:`,w),m.mo(w)}}),y(a,ite.STAT_EVENT,x=>{x.stat===rT.PROXY?K(Xn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===rT.NOPROXY&&K(Xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(){return typeof window<"u"?window:null}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){return new Ene(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new GN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new J(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yre extends KN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Cne(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?_r(o.readTime):be.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=tw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Nm(l)?{documents:CN(s,l)}:{query:hE(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wN(s,o.resumeToken);const c=Z_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=pu(s,o.snapshotVersion.toTimestamp());const c=Z_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Sne(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=tw(this.serializer),n.removeTarget=e,this.t_(n)}}class _re extends KN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Tne(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.T_(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=tw(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Dm(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,ew(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(H.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,ew(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(H.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function xre(t,e,n){var r;const i=Pe(t),{request:s,V_:o,parent:a}=function(d,h,p){const{ut:m,parent:y}=hE(d,h),x={},g=[];let w=0;return p.forEach(_=>{const I="aggregate_"+w++;x[I]=_.alias,_.aggregateType==="count"?g.push({alias:I,count:{}}):_.aggregateType==="avg"?g.push({alias:I,avg:{field:ko(_.fieldPath)}}):_.aggregateType==="sum"&&g.push({alias:I,sum:{field:ko(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:g,structuredQuery:m.structuredQuery},parent:m.parent},V_:x,parent:y}}(i.serializer,function(d){const h=Pe(d);return h.Pe||(h.Pe=nN(h,d.explicitOrderBy)),h.Pe}(e),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter(u=>!!u.result);we(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,d)=>(u[o[d]]=c[d],u),{})}class Ere{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fr(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Fl(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.v_.add(4),await Wf(c),c.x_.set("Unknown"),c.v_.delete(4),await i1(c)}(this))})}),this.x_=new Ere(r,i)}}async function i1(t){if(Fl(t))for(const e of t.F_)await e(!0)}async function Wf(t){for(const e of t.F_)await e(!1)}function QN(t,e){const n=Pe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),xE(n)?wE(n):Wu(n).Jo()&&_E(n,e))}function yE(t,e){const n=Pe(t),r=Wu(n);n.C_.delete(e),r.Jo()&&YN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Fl(n)&&n.x_.set("Unknown"))}function _E(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wu(t).c_(e)}function YN(t,e){t.O_.Oe(e),Wu(t).l_(e)}function wE(t){t.O_=new yne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Wu(t).start(),t.x_.p_()}function xE(t){return Fl(t)&&!Wu(t).Ho()&&t.C_.size>0}function Fl(t){return Pe(t).v_.size===0}function XN(t){t.O_=void 0}async function bre(t){t.C_.forEach((e,n)=>{_E(t,e)})}async function Cre(t,e){XN(t),xE(t)?(t.x_.S_(e),wE(t)):t.x_.set("Unknown")}async function Tre(t,e,n){if(t.x_.set("Online"),e instanceof _N&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vm(t,r)}else if(e instanceof Cp?t.O_.$e(e):e instanceof yN?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(be.min()))try{const r=await HN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(Gn.EMPTY_BYTE_STRING,u.snapshotVersion)),YN(s,l);const d=new Bs(u.target,l,c,u.sequenceNumber);_E(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Vm(t,r)}}async function Vm(t,e,n){if(!xa(e))throw e;t.v_.add(1),await Wf(t),t.x_.set("Offline"),n||(n=()=>HN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await i1(t)})}function JN(t,e){return e().catch(n=>Vm(t,n,e))}async function Hf(t){const e=Pe(t),n=aa(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Sre(e);)try{const i=await ure(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Rre(e,i)}catch(i){await Vm(e,i)}ZN(e)&&e8(e)}function Sre(t){return Fl(t)&&t.D_.length<10}function Rre(t,e){t.D_.push(e);const n=aa(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function ZN(t){return Fl(t)&&!aa(t).Ho()&&t.D_.length>0}function e8(t){aa(t).start()}async function kre(t){aa(t).d_()}async function Are(t){const e=aa(t);for(const n of t.D_)e.I_(n.mutations)}async function Pre(t,e,n){const r=t.D_.shift(),i=lE.from(r,e,n);await JN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hf(t)}async function Nre(t,e){e&&aa(t).P_&&await async function(r,i){if(function(o){return mne(o)&&o!==H.ABORTED}(i.code)){const s=r.D_.shift();aa(r).Zo(),await JN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hf(r)}}(t,e),ZN(t)&&e8(t)}async function XT(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Fl(n);n.v_.add(3),await Wf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await i1(n)}async function Lre(t,e){const n=Pe(t);e?(n.v_.delete(2),await i1(n)):e||(n.v_.add(2),await Wf(n),n.x_.set("Unknown"))}function Wu(t){return t.N_||(t.N_=function(n,r,i){const s=Pe(n);return s.R_(),new yre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:bre.bind(null,t),To:Cre.bind(null,t),u_:Tre.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),xE(t)?wE(t):t.x_.set("Unknown")):(await t.N_.stop(),XN(t))})),t.N_}function aa(t){return t.L_||(t.L_=function(n,r,i){const s=Pe(n);return s.R_(),new _re(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:kre.bind(null,t),To:Nre.bind(null,t),E_:Are.bind(null,t),T_:Pre.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Hf(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new EE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IE(t,e){if(fr("AsyncQueue",`${e}: ${t}`),xa(t))return new J(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Od(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new qc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.B_=new rn(te.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):pe():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mu(e,n,qc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Ore{constructor(){this.queries=new Ea(e=>rN(e),Qg),this.onlineState="Unknown",this.W_=new Set}}async function bE(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new Mre,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=IE(o,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&TE(n)}async function CE(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dre(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&TE(n)}function $re(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function TE(t){t.W_.forEach(e=>{e.next()})}var aw,ZT;(ZT=aw||(aw={})).j_="default",ZT.Cache="cache";class SE{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==aw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.key=e}}class n8{constructor(e){this.key=e}}class jre{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=We(),this.mutatedKeys=We(),this.ha=iN(e),this.Pa=new qc(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new JT,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Bf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),x=!0):this.da(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return y(p)-y(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new mu(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new JT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=We(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new n8(r))}),this.la.forEach(r=>{e.has(r)||n.push(new t8(r))}),n}fa(e){this.ua=e.hs,this.la=We();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return mu.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class Fre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vre{constructor(e){this.key=e,this.pa=!1}}class Ure{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Ea(a=>rN(a),Qg),this.Sa=new Map,this.ba=new Set,this.Da=new rn(te.comparator),this.Ca=new Map,this.va=new mE,this.Fa={},this.Ma=new Map,this.xa=Cl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Bre(t,e,n=!0){const r=l8(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await r8(r,e,n,!0),i}async function zre(t,e){const n=l8(t);await r8(n,e,!0,!1)}async function r8(t,e,n,r){const i=await dre(t.localStore,xi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Wre(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&QN(t.remoteStore,i),a}async function Wre(t,e,n,r,i){t.Na=(d,h,p)=>async function(y,x,g,w){let _=x.view.Ta(g);_.Xi&&(_=await KT(y.localStore,x.query,!1).then(({documents:C})=>x.view.Ta(C,_)));const I=w&&w.targetChanges.get(x.targetId),S=w&&w.targetMismatches.get(x.targetId)!=null,E=x.view.applyChanges(_,y.isPrimaryClient,I,S);return tS(y,x.targetId,E.Va),E.snapshot}(t,d,h,p);const s=await KT(t.localStore,e,!0),o=new jre(e,s.hs),a=o.Ta(s.documents),l=zf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);tS(t,n,c.Va);const u=new Fre(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function Hre(t,e,n){const r=Pe(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Qg(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ow(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yE(r.remoteStore,i.targetId),lw(r,i.targetId)}).catch(Dl)):(lw(r,i.targetId),await ow(r.localStore,i.targetId,!0))}async function qre(t,e){const n=Pe(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yE(n.remoteStore,r.targetId))}async function Gre(t,e,n){const r=c8(t);try{const i=await function(o,a){const l=Pe(o),c=Wt.now(),u=a.reduce((p,m)=>p.add(m.key),We());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Wr(),y=We();return l.os.getEntries(p,u).next(x=>{m=x,m.forEach((g,w)=>{w.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{d=x;const g=[];for(const w of a){const _=hne(w,d.get(w.key).overlayedDocument);_!=null&&g.push(new fo(w.key,_,K9(_.value.mapValue),rr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(x=>{h=x;const g=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:h.batchId,changes:oN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new rn(Oe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await qf(r,i.changes),await Hf(r.remoteStore)}catch(i){const s=IE(i,"Failed to persist write");n.reject(s)}}async function i8(t,e){const n=Pe(t);try{const r=await lre(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?we(o.pa):i.removedDocuments.size>0&&(we(o.pa),o.pa=!1))}),await qf(n,r,e)}catch(r){await Dl(r)}}function eS(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&TE(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kre(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new rn(te.comparator);o=o.insert(s,Xt.newNoDocument(s,be.min()));const a=We().add(s),l=new Zg(be.min(),new Map,new rn(Oe),o,a);await i8(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),RE(r)}else await ow(r.localStore,e,!1).then(()=>lw(r,e,n)).catch(Dl)}async function Qre(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await are(n.localStore,e);o8(n,r,null),s8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qf(n,i)}catch(i){await Dl(i)}}async function Yre(t,e,n){const r=Pe(t);try{const i=await function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(we(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);o8(r,e,n),s8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qf(r,i)}catch(i){await Dl(i)}}function s8(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function o8(t,e,n){const r=Pe(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function lw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||a8(t,r)})}function a8(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(yE(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),RE(t))}function tS(t,e,n){for(const r of n)r instanceof t8?(t.va.addReference(r.key,e),Xre(t,r)):r instanceof n8?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||a8(t,r.key)):pe()}function Xre(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),RE(t))}function RE(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new te(dt.fromString(e)),r=t.xa.next();t.Ca.set(r,new Vre(n)),t.Da=t.Da.insert(n,r),QN(t.remoteStore,new Bs(xi(Uf(n.path)),r,"TargetPurposeLimboResolution",vi._e))}}async function qf(t,e,n){const r=Pe(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=vE.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=Pe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,h=>U.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>U.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!xa(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,y)}}}(r.localStore,s))}async function Jre(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await WN(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new J(H.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qf(n,r.us)}}function Zre(t,e){const n=Pe(t),r=n.Ca.get(e);if(r&&r.pa)return We().add(r.key);{let i=We();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function l8(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kre.bind(null,e),e.ya.u_=Dre.bind(null,e.eventManager),e.ya.La=$re.bind(null,e.eventManager),e}function c8(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yre.bind(null,e),e}class cw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=r1(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zN(this.persistence,new BN,e.initialUser,this.serializer)}createPersistence(e){return new UN(n1.Hr,this.serializer)}createSharedClientState(e){return new qN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eie extends cw{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await c8(this.ka.syncEngine),await Hf(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return zN(this.persistence,new BN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new zne(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new wte(n,this.persistence);return new _te(e.asyncQueue,r)}createPersistence(e){const n=ire(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new gE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,vre(),Tp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qN}}class u8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jre.bind(null,this.syncEngine),await Lre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ore}()}createDatastore(e){const n=r1(e.databaseInfo.databaseId),r=function(s){return new gre(s)}(e.databaseInfo);return function(s,o,a,l){return new wre(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Ire(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eS(this.syncEngine,n,0),function(){return YT.D()?new YT:new fre}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new Ure(i,s,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Pe(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Wf(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=D9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sp(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nie(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XT(e.remoteStore,i)),t._onlineComponents=e}function d8(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!d8(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await Sp(t,new cw)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Sp(t,new cw);return t._offlineComponents}async function AE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await uw(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await uw(t,new u8))),t._onlineComponents}function rie(t){return AE(t).then(e=>e.syncEngine)}function iie(t){return AE(t).then(e=>e.datastore)}async function Um(t){const e=await AE(t),n=e.eventManager;return n.onListen=Bre.bind(null,e.syncEngine),n.onUnlisten=Hre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qre.bind(null,e.syncEngine),n}function sie(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new kE({next:h=>{o.enqueueAndForget(()=>CE(s,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new J(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new SE(Uf(a.path),u,{includeMetadataChanges:!0,ta:!0});return bE(s,d)}(await Um(t),t.asyncQueue,e,n,r)),r.promise}function oie(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new kE({next:h=>{o.enqueueAndForget(()=>CE(s,d)),h.fromCache&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new SE(a,u,{includeMetadataChanges:!0,ta:!0});return bE(s,d)}(await Um(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e,n){if(!n)throw new J(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aie(t,e,n,r){if(e===!0&&r===!0)throw new J(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rS(t){if(!te.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iS(t){if(te.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=s1(t);throw new J(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lie(t,e){if(e<=0)throw new J(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h8((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ate;switch(r.type){case"firstParty":return new dte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nS.get(n);r&&(K("ComponentProvider","Removing Datastore"),nS.delete(n),r.terminate())}(this),Promise.resolve()}}function cie(t,e,n,r={}){var i;const s=(t=lr(t,o1))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$n.MOCK_USER;else{a=x3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $n(c)}t._authCredentials=new lte(new O9(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class Xo extends Ts{constructor(e,n,r){super(e,n,Uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new te(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function Se(t,e,...n){if(t=at(t),f8("collection","path",e),t instanceof o1){const r=dt.fromString(e,...n);return iS(r),new Xo(t,null,r)}{if(!(t instanceof cr||t instanceof Xo))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return iS(r),new Xo(t.firestore,null,r)}}function ge(t,e,...n){if(t=at(t),arguments.length===1&&(e=D9.newId()),f8("doc","path",e),t instanceof o1){const r=dt.fromString(e,...n);return rS(r),new cr(t,null,new te(r))}{if(!(t instanceof cr||t instanceof Xo))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return rS(r),new cr(t.firestore,t instanceof Xo?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new GN(this,"async_queue_retry"),this.cu=()=>{const n=Tp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new wi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!xa(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=EE.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&pe()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function oS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Yi extends o1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new uie}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p8(this),this._firestoreClient.terminate()}}function die(t,e){const n=typeof t=="object"?t:Eg(),r=typeof t=="string"?t:e||"(default)",i=Sf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_3("firestore");s&&cie(i,...s)}return i}function Hu(t){return t._firestoreClient||p8(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function p8(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new Ute(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,h8(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new tie(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function hie(t,e){pie(t=lr(t,Yi));const n=Hu(t);if(n._uninitializedComponentsProvider)throw new J(H.FAILED_PRECONDITION,"SDK cache is already specified.");na("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new u8;return fie(n,i,new eie(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function fie(t,e,n){const r=new wi;return t.asyncQueue.enqueue(async()=>{try{await Sp(t,n),await uw(t,e),r.resolve()}catch(i){const s=i;if(!d8(s))throw s;na("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function pie(t){if(t._initialized||t._terminated)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class gie{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu(Gn.fromBase64String(e))}catch(n){throw new J(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gu(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie=/^__.*__$/;class yie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}class m8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class l1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new l1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Bm(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(g8(this.Vu)&&vie.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class _ie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||r1(e)}Cu(e,n,r,i=!1){return new l1({Vu:e,methodName:n,Du:r,path:Bt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(t){const e=t._freezeSettings(),n=r1(t._databaseId);return new _ie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v8(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);ME("Data must be an object, but it was:",o,r);const a=_8(r,o);let l,c;if(s.merge)l=new Ar(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=dw(e,d,n);if(!o.contains(h))throw new J(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);x8(u,h)||u.push(h)}l=new Ar(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new yie(new nr(a),l,c)}class c1 extends Gf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c1}}function wie(t,e,n){return new l1({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NE extends Gf{_toFieldTransform(e){return new oE(e.path,new hu)}isEqual(e){return e instanceof NE}}class LE extends Gf{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=wie(this,e,!0),r=this.vu.map(s=>qu(s,n)),i=new El(r);return new oE(e.path,i)}isEqual(e){return e instanceof LE&&Uh(this.vu,e.vu)}}function xie(t,e,n,r){const i=t.Cu(1,e,n);ME("Data must be an object, but it was:",i,r);const s=[],o=nr.empty();$l(r,(l,c)=>{const u=OE(e,l,n);c=at(c);const d=i.yu(u);if(c instanceof c1)s.push(u);else{const h=qu(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Ar(s);return new m8(o,a,i.fieldTransforms)}function Eie(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[dw(e,r,n)],l=[i];if(s.length%2!=0)throw new J(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(dw(e,s[h])),l.push(s[h+1]);const c=[],u=nr.empty();for(let h=a.length-1;h>=0;--h)if(!x8(c,a[h])){const p=a[h];let m=l[h];m=at(m);const y=o.yu(p);if(m instanceof c1)c.push(p);else{const x=qu(m,y);x!=null&&(c.push(p),u.set(p,x))}}const d=new Ar(c);return new m8(u,d,o.fieldTransforms)}function y8(t,e,n,r=!1){return qu(n,t.Cu(r?4:3,e))}function qu(t,e){if(w8(t=at(t)))return ME("Unsupported field value:",e,t),_8(t,e);if(t instanceof Gf)return function(r,i){if(!g8(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=qu(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return one(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wt.fromDate(r);return{timestampValue:pu(i.serializer,s)}}if(r instanceof Wt){const s=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pu(i.serializer,s)}}if(r instanceof PE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gu)return{bytesValue:wN(i.serializer,r._byteString)};if(r instanceof cr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${s1(r)}`)}(t,e)}function _8(t,e){const n={};return H9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,(r,i)=>{const s=qu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof PE||t instanceof gu||t instanceof cr||t instanceof Gf)}function ME(t,e,n){if(!w8(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=s1(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function dw(t,e,n){if((e=at(e))instanceof a1)return e._internalPath;if(typeof e=="string")return OE(t,e);throw Bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Iie=new RegExp("[~\\*/\\[\\]]");function OE(t,e,n){if(e.search(Iie)>=0)throw Bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new a1(...e.split("."))._internalPath}catch{throw Bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(H.INVALID_ARGUMENT,a+t+l)}function x8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bie extends DE{data(){return super.data()}}function u1(t,e){return typeof e=="string"?OE(t,e):e instanceof a1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $E{}class d1 extends $E{}function wr(t,e,...n){let r=[];e instanceof $E&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof jE).length,a=s.filter(l=>l instanceof h1).length;if(o>1||o>0&&a>0)throw new J(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class h1 extends d1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new h1(e,n,r)}_apply(e){const n=this._parse(e);return I8(e._query,n),new Ts(e.firestore,e.converter,J_(e._query,n))}_parse(e){const n=Kf(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){lS(d,u);const p=[];for(const m of d)p.push(aS(l,s,m));h={arrayValue:{values:p}}}else h=aS(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||lS(d,u),h=y8(a,o,d,u==="in"||u==="not-in");return Ge.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function f1(t,e,n){const r=e,i=u1("where",t);return h1._create(i,r,n)}class jE extends $E{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)I8(o,l),o=J_(o,l)}(e._query,n),new Ts(e.firestore,e.converter,J_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class FE extends d1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new FE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rf(s,o)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new jl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function vu(t,e="asc"){const n=e,r=u1("orderBy",t);return FE._create(r,n)}class VE extends d1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new VE(e,n,r)}_apply(e){return new Ts(e.firestore,e.converter,Mm(e._query,this._limit,this._limitType))}}function ro(t){return lie("limit",t),VE._create("limit",t,"F")}class UE extends d1{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new UE(e,n,r)}_apply(e){const n=Cie(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,function(i,s){return new jl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function p1(...t){return UE._create("startAfter",t,!1)}function Cie(t,e,n,r){if(n[0]=at(n[0]),n[0]instanceof DE)return function(s,o,a,l,c){if(!l)throw new J(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Hc(s))if(d.field.isKeyField())u.push(wl(o,l.key));else{const h=l.data.field(d.field);if(Kg(h))throw new J(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new J(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new oa(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Kf(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new J(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const y=u[m];if(h[m].field.isKeyField()){if(typeof y!="string")throw new J(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!sE(o)&&y.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const x=o.path.child(dt.fromString(y));if(!te.isDocumentKey(x))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const g=new te(x);p.push(wl(a,g))}else{const x=y8(l,c,y);p.push(x)}}return new oa(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function aS(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new J(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sE(e)&&n.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!te.isDocumentKey(r))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wl(t,new te(r))}if(n instanceof cr)return wl(t,n._key);throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s1(n)}.`)}function lS(t,e){if(!Array.isArray(t)||t.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I8(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tie{convertValue(e,n="none"){switch(_l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $l(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new PE(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const n=ra(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);we(kN(r));const i=new yl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Sie(){return new mie("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C8 extends DE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rp extends C8{data(e={}){return super.data(e)}}class T8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Rp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Rp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Rie(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){t=lr(t,cr);const e=lr(t.firestore,Yi);return sie(Hu(e),t._key).then(n=>S8(e,t,n))}class m1 extends Tie{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}function Ia(t){t=lr(t,Ts);const e=lr(t.firestore,Yi),n=Hu(e),r=new m1(e);return E8(t._query),oie(n,t._query).then(i=>new T8(e,r,t,i))}function rl(t,e,n){t=lr(t,cr);const r=lr(t.firestore,Yi),i=b8(t.converter,e,n);return g1(r,[v8(Kf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function Un(t,e,n,...r){t=lr(t,cr);const i=lr(t.firestore,Yi),s=Kf(i);let o;return o=typeof(e=at(e))=="string"||e instanceof a1?Eie(s,"updateDoc",t._key,e,n,r):xie(s,"updateDoc",t._key,e),g1(i,[o.toMutation(t._key,rr.exists(!0))])}function Jo(t){return g1(lr(t.firestore,Yi),[new Jg(t._key,rr.none())])}function la(t,e){const n=lr(t.firestore,Yi),r=ge(t),i=b8(t.converter,e);return g1(n,[v8(Kf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function zi(t,...e){var n,r,i;t=at(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||oS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oS(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof cr)c=lr(t.firestore,Yi),u=Uf(t._key.path),l={next:d=>{e[o]&&e[o](S8(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=lr(t,Ts);c=lr(d.firestore,Yi),u=d._query;const h=new m1(c);l={next:p=>{e[o]&&e[o](new T8(c,h,d,p))},error:e[o+1],complete:e[o+2]},E8(t._query)}return function(h,p,m,y){const x=new kE(y),g=new SE(p,x,m);return h.asyncQueue.enqueueAndForget(async()=>bE(await Um(h),g)),()=>{x.Qa(),h.asyncQueue.enqueueAndForget(async()=>CE(await Um(h),g))}}(Hu(c),u,a,l)}function g1(t,e){return function(r,i){const s=new wi;return r.asyncQueue.enqueueAndForget(async()=>Gre(await rie(r),i,s)),s.promise}(Hu(t),e)}function S8(t,e,n){const r=n.docs.get(e._key),i=new m1(t);return new C8(t,i,e._key,r,new jd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){return kie(t,{count:Sie()})}function kie(t,e){const n=lr(t.firestore,Yi),r=Hu(n),i=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(s,o)=>new fne(o,s.aggregateType,s._internalFieldPath));return function(o,a,l){const c=new wi;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await iie(o);c.resolve(xre(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,i).then(s=>function(a,l,c){const u=new m1(a);return new gie(l,u,c)}(n,t,s))}function ir(){return new NE("serverTimestamp")}function hw(...t){return new LE("arrayUnion",t)}(function(e,n=!0){(function(i){Bu=i})(Zi),Is(new Ki("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Yi(new cte(r.getProvider("auth-internal")),new fte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Or(iT,"4.5.0",e),Or(iT,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="firebasestorage.googleapis.com",A8="storageBucket",Aie=2*60*1e3,Pie=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends ri{constructor(e,n,r=0){super(Vv(e),`Firebase Storage: ${n} (${Vv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,en.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function Vv(t){return"storage/"+t}function BE(){const t="An unknown error occurred, please check the error payload for server response.";return new en(Zt.UNKNOWN,t)}function Nie(t){return new en(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Lie(t){return new en(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mie(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(Zt.UNAUTHENTICATED,t)}function Oie(){return new en(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Die(t){return new en(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $ie(){return new en(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jie(){return new en(Zt.CANCELED,"User canceled the upload/download.")}function Fie(t){return new en(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function Vie(t){return new en(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Uie(){return new en(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A8+"' property when initializing the app?")}function Bie(){return new en(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zie(){return new en(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Wie(t){return new en(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fw(t){return new en(Zt.INVALID_ARGUMENT,t)}function P8(){return new en(Zt.APP_DELETED,"The Firebase app was deleted.")}function Hie(t){return new en(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oh(t,e){return new en(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xd(t){throw new en(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hr.makeFromUrl(e,n)}catch{return new Hr(e,"")}if(r.path==="")return r;throw Vie(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===k8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<_.length;I++){const S=_[I],E=S.regex.exec(e);if(E){const C=E[S.indices.bucket];let b=E[S.indices.path];b||(b=""),r=new Hr(C,b),S.postModify(r);break}}if(r==null)throw Fie(e);return r}}class qie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gie(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){s&&clearTimeout(s)}function p(x,...g){if(c){h();return}if(x){h(),u.call(null,x,...g);return}if(l()||o){h(),u.call(null,x,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function y(x){m||(m=!0,h(),!c&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function Kie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qie(t){return t!==void 0}function Yie(t){return typeof t=="object"&&!Array.isArray(t)}function zE(t){return typeof t=="string"||t instanceof String}function cS(t){return WE()&&t instanceof Blob}function WE(){return typeof Blob<"u"}function uS(t,e,n,r){if(r<e)throw fw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function N8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var il;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(il||(il={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xie(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new W0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===il.NO_ERROR,l=s.getStatus();if(!a||Xie(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===il.ABORT;r(!1,new W0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new W0(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Qie(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=BE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?P8():jie();o(l)}else{const l=$ie();o(l)}};this.canceled_?n(!1,new W0(!1,null,!0)):this.backoffId_=Gie(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Kie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class W0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Zie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ese(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tse(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nse(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rse(t,e,n,r,i,s,o=!0){const a=N8(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return tse(c,e),Zie(c,n),ese(c,s),nse(c,r),new Jie(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ise(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sse(...t){const e=ise();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(WE())return new Blob(t);throw new en(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ose(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(t){if(typeof atob>"u")throw Wie("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uv{constructor(e,n){this.data=e,this.contentType=n||null}}function lse(t,e){switch(t){case ms.RAW:return new Uv(L8(e));case ms.BASE64:case ms.BASE64URL:return new Uv(M8(t,e));case ms.DATA_URL:return new Uv(use(e),dse(e))}throw BE()}function L8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cse(t){let e;try{e=decodeURIComponent(t)}catch{throw oh(ms.DATA_URL,"Malformed data URL.")}return L8(e)}function M8(t,e){switch(t){case ms.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw oh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ms.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw oh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ase(e)}catch(i){throw i.message.includes("polyfill")?i:oh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class O8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw oh(ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hse(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function use(t){const e=new O8(t);return e.base64?M8(ms.BASE64,e.rest):cse(e.rest)}function dse(t){return new O8(t).contentType}function hse(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){let r=0,i="";cS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cS(this.data_)){const r=this.data_,i=ose(r,e,n);return i===null?null:new Po(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Po(r,!0)}}static getBlob(...e){if(WE()){const n=e.map(r=>r instanceof Po?r.data_:r);return new Po(sse.apply(null,n))}else{const n=e.map(o=>zE(o)?lse(ms.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Po(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){let e;try{e=JSON.parse(t)}catch{return null}return Yie(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pse(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(t,e){return e}class dr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mse}}let H0=null;function gse(t){return!zE(t)||t.length<2?t:$8(t)}function j8(){if(H0)return H0;const t=[];t.push(new dr("bucket")),t.push(new dr("generation")),t.push(new dr("metageneration")),t.push(new dr("name","fullPath",!0));function e(s,o){return gse(o)}const n=new dr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new dr("size");return i.xform=r,t.push(i),t.push(new dr("timeCreated")),t.push(new dr("updated")),t.push(new dr("md5Hash",null,!0)),t.push(new dr("cacheControl",null,!0)),t.push(new dr("contentDisposition",null,!0)),t.push(new dr("contentEncoding",null,!0)),t.push(new dr("contentLanguage",null,!0)),t.push(new dr("contentType",null,!0)),t.push(new dr("metadata","customMetadata",!0)),H0=t,H0}function vse(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Hr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function yse(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return vse(r,t),r}function F8(t,e,n){const r=D8(e);return r===null?null:yse(t,r,n)}function _se(t,e,n,r){const i=D8(e);if(i===null||!zE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=v1(h,n,r),m=N8({alt:"media",token:c});return p+m})[0]}function wse(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class HE{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){if(!t)throw BE()}function xse(t,e){function n(r,i){const s=F8(t,i,e);return V8(s!==null),s}return n}function Ese(t,e){function n(r,i){const s=F8(t,i,e);return V8(s!==null),_se(s,i,t.host,t._protocol)}return n}function U8(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Oie():i=Mie():n.getStatus()===402?i=Lie(t.bucket):n.getStatus()===403?i=Die(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function B8(t){const e=U8(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Nie(t.path)),s.serverResponse=i.serverResponse,s}return n}function Ise(t,e,n){const r=e.fullServerUrl(),i=v1(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new HE(i,s,Ese(t,n),o);return a.errorHandler=B8(e),a}function bse(t,e){const n=e.fullServerUrl(),r=v1(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new HE(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=B8(e),a}function Cse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Tse(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Cse(null,e)),r}function Sse(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let I=0;I<2;I++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Tse(e,r,i),u=wse(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Po.getBlob(d,r,h);if(p===null)throw Bie();const m={name:c.fullPath},y=v1(s,t.host,t._protocol),x="POST",g=t.maxUploadRetryTime,w=new HE(y,x,xse(t,n),g);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=U8(e),w}class Rse{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=il.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=il.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=il.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kse extends Rse{initXhr(){this.xhr_.responseType="text"}}function qE(){return new kse}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this._service=e,n instanceof Hr?this._location=n:this._location=Hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Tl(e,n)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $8(this._location.path)}get storage(){return this._service}get parent(){const e=fse(this._location.path);if(e===null)return null;const n=new Hr(this._location.bucket,e);return new Tl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Hie(e)}}function Ase(t,e,n){t._throwIfRoot("uploadBytes");const r=Sse(t.storage,t._location,j8(),new Po(e,!0),n);return t.storage.makeRequestWithTokens(r,qE).then(i=>({metadata:i,ref:t}))}function Pse(t){t._throwIfRoot("getDownloadURL");const e=Ise(t.storage,t._location,j8());return t.storage.makeRequestWithTokens(e,qE).then(n=>{if(n===null)throw zie();return n})}function Nse(t){t._throwIfRoot("deleteObject");const e=bse(t.storage,t._location);return t.storage.makeRequestWithTokens(e,qE)}function Lse(t,e){const n=pse(t._location.path,e),r=new Hr(t._location.bucket,n);return new Tl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mse(t){return/^[A-Za-z]+:\/\//.test(t)}function Ose(t,e){return new Tl(t,e)}function z8(t,e){if(t instanceof GE){const n=t;if(n._bucket==null)throw Uie();const r=new Tl(n,n._bucket);return e!=null?z8(r,e):r}else return e!==void 0?Lse(t,e):t}function Dse(t,e){if(e&&Mse(e)){if(t instanceof GE)return Ose(t,e);throw fw("To use ref(service, url), the first argument must be a Storage instance.")}else return z8(t,e)}function dS(t,e){const n=e==null?void 0:e[A8];return n==null?null:Hr.makeFromBucketSpec(n,t)}function $se(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:x3(i,t.app.options.projectId))}class GE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=k8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Aie,this._maxUploadRetryTime=Pie,this._requests=new Set,i!=null?this._bucket=Hr.makeFromBucketSpec(i,this._host):this._bucket=dS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=dS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new qie(P8());{const o=rse(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const hS="@firebase/storage",fS="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="storage";function of(t,e,n){return t=at(t),Ase(t,e,n)}function af(t){return t=at(t),Pse(t)}function pw(t){return t=at(t),Nse(t)}function $o(t,e){return t=at(t),Dse(t,e)}function jse(t=Eg(),e){t=at(t);const r=Sf(t,W8).getImmediate({identifier:e}),i=_3("storage");return i&&Fse(r,...i),r}function Fse(t,e,n,r={}){$se(t,e,n,r)}function Vse(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new GE(n,r,i,e,Zi)}function Use(){Is(new Ki(W8,Vse,"PUBLIC").setMultipleInstances(!0)),Or(hS,fS,""),Or(hS,fS,"esm2017")}Use();var pS={};const mS="@firebase/database",gS="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H8="";function Bse(t){H8=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return co(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zse(e)}}catch{}return new Wse},Ka=q8("localStorage"),mw=q8("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Tf("@firebase/database"),Hse=function(){let t=1;return function(){return t++}}(),G8=function(t){const e=TY(t),n=new EY;n.update(e);const r=n.digest();return y3.encodeByteArray(r)},Qf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Qf.apply(null,r):typeof r=="object"?e+=Vn(r):e+=r,e+=" "}return e};let sl=null,vS=!0;const qse=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Gc.logLevel=ze.VERBOSE,sl=Gc.log.bind(Gc),e&&mw.set("logging_enabled",!0)):typeof t=="function"?sl=t:(sl=null,mw.remove("logging_enabled"))},er=function(...t){if(vS===!0&&(vS=!1,sl===null&&mw.get("logging_enabled")===!0&&qse(!0)),sl){const e=Qf.apply(null,t);sl(e)}},Yf=function(t){return function(...e){er(t,...e)}},gw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qf(...t);Gc.error(e)},io=function(...t){const e=`FIREBASE FATAL ERROR: ${Qf(...t)}`;throw Gc.error(e),new Error(e)},Yr=function(...t){const e="FIREBASE WARNING: "+Qf(...t);Gc.warn(e)},Gse=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K8=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Kse=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},yu="[MIN_NAME]",Sl="[MAX_NAME]",Ku=function(t,e){if(t===e)return 0;if(t===yu||e===Sl)return-1;if(e===yu||t===Sl)return 1;{const n=yS(t),r=yS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Qse=function(t,e){return t===e?0:t<e?-1:1},Ed=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Vn(e))},KE=function(t){if(typeof t!="object"||t===null)return Vn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Vn(e[r]),n+=":",n+=KE(t[e[r]]);return n+="}",n},Q8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ti(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Y8=function(t){ne(!K8(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Yse=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Xse=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Jse=new RegExp("^-?(0*)\\d{1,10}$"),Zse=-2147483648,eoe=2147483647,yS=function(t){if(Jse.test(t)){const e=Number(t);if(e>=Zse&&e<=eoe)return e}return null},Xf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yr("Exception was thrown by user callback.",n),e},Math.floor(0))}},toe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ah=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yr(e)}}class Kc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Kc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="5",X8="v",J8="s",Z8="r",e7="f",t7=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,n7="ls",r7="p",vw="ac",i7="websocket",s7="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ka.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ka.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ioe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function a7(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===i7)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===s7)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ioe(t)&&(n.ns=t.namespace);const i=[];return Ti(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(){this.counters_={}}incrementCounter(e,n=1){co(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return cY(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv={},zv={};function YE(t){const e=t.toString();return Bv[e]||(Bv[e]=new soe),Bv[e]}function ooe(t,e){const n=t.toString();return zv[n]||(zv[n]=e()),zv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="start",loe="close",coe="pLPCommand",uoe="pRTLPCB",l7="id",c7="pw",u7="ser",doe="cb",hoe="seg",foe="ts",poe="d",moe="dframe",d7=1870,h7=30,goe=d7-h7,voe=25e3,yoe=3e4;class Rc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yf(e),this.stats_=YE(n),this.urlFn=l=>(this.appCheckToken&&(l[vw]=this.appCheckToken),a7(n,s7,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aoe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yoe)),Kse(()=>{if(this.isClosed_)return;this.scriptTagHolder=new XE((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_S)this.id=a,this.password=l;else if(o===loe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_S]="t",r[u7]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[doe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[X8]=QE,this.transportSessionId&&(r[J8]=this.transportSessionId),this.lastSessionId&&(r[n7]=this.lastSessionId),this.applicationId&&(r[r7]=this.applicationId),this.appCheckToken&&(r[vw]=this.appCheckToken),typeof location<"u"&&location.hostname&&t7.test(location.hostname)&&(r[Z8]=e7);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rc.forceAllow_=!0}static forceDisallow(){Rc.forceDisallow_=!0}static isAvailable(){return Rc.forceAllow_?!0:!Rc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Yse()&&!Xse()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Vn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=L6(n),i=Q8(r,goe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[moe]="t",r[l7]=e,r[c7]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Vn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class XE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Hse(),window[coe+this.uniqueCallbackIdentifier]=e,window[uoe+this.uniqueCallbackIdentifier]=n,this.myIFrame=XE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){er("frame writing exception"),a.stack&&er(a.stack),er(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[l7]=this.myID,e[c7]=this.myPW,e[u7]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+h7+r.length<=d7;){const o=this.pendingSegs.shift();r=r+"&"+hoe+i+"="+o.seg+"&"+foe+i+"="+o.ts+"&"+poe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(voe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe=16384,woe=45e3;let zm=null;typeof MozWebSocket<"u"?zm=MozWebSocket:typeof WebSocket<"u"&&(zm=WebSocket);class ji{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yf(this.connId),this.stats_=YE(n),this.connURL=ji.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[X8]=QE,typeof location<"u"&&location.hostname&&t7.test(location.hostname)&&(o[Z8]=e7),n&&(o[J8]=n),r&&(o[n7]=r),i&&(o[vw]=i),s&&(o[r7]=s),a7(e,i7,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ka.set("previous_websocket_failure",!0);try{let r;V6(),this.mySock=new zm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ji.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zm!==null&&!ji.forceDisallow_}static previouslyFailed(){return Ka.isInMemoryStorage||Ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ka.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Vn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Q8(n,_oe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(woe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ji.responsesRequiredToBeHealthy=2;ji.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Rc,ji]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ji&&ji.isAvailable();let r=n&&!ji.previouslyFailed();if(e.webSocketOnly&&(n||Yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ji];else{const i=this.transports_=[];for(const s of lf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);lf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xoe=6e4,Eoe=5e3,Ioe=10*1024,boe=100*1024,Wv="t",wS="d",Coe="s",xS="r",Toe="e",ES="o",IS="a",bS="n",CS="p",Soe="h";class Roe{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yf("c:"+this.id+":"),this.transportManager_=new lf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ah(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>boe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ioe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wv in e){const n=e[Wv];n===IS?this.upgradeIfSecondaryHealthy_():n===xS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ES&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ed("t",e),r=Ed("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:IS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ed("t",e),r=Ed("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ed(Wv,e);if(wS in e){const r=e[wS];if(n===Soe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===bS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Coe?this.onConnectionShutdown_(r):n===xS?this.onReset_(r):n===Toe?gw("Server Error: "+r):n===ES?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QE!==r&&Yr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ah(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xoe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ah(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Eoe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends p7{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wm}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=32,SS=768;class Ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function xt(){return new Ot("")}function tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ca(t){return t.pieces_.length-t.pieceNum_}function Nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ot(t.pieces_,e)}function m7(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function koe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function g7(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function v7(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ot(e,0)}function Tn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ot)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ot(n,0)}function Je(t){return t.pieceNum_>=t.pieces_.length}function yi(t,e){const n=tt(t),r=tt(e);if(n===null)return e;if(n===r)return yi(Nt(t),Nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function y7(t,e){if(ca(t)!==ca(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Fi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ca(t)>ca(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Aoe{constructor(e,n){this.errorPrefix_=n,this.parts_=g7(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xg(this.parts_[r]);_7(this)}}function Poe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xg(e),_7(t)}function Noe(t){const e=t.parts_.pop();t.byteLength_-=xg(e),t.parts_.length>0&&(t.byteLength_-=1)}function _7(t){if(t.byteLength_>SS)throw new Error(t.errorPrefix_+"has a key path longer than "+SS+" bytes ("+t.byteLength_+").");if(t.parts_.length>TS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TS+") or object contains a cycle "+Oa(t))}function Oa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends p7{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new JE}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=1e3,Loe=60*5*1e3,RS=30*1e3,Moe=1.3,Ooe=3e4,Doe="server_kill",kS=3;class qs extends f7{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=qs.nextPersistentConnectionId_++,this.log_=Yf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Id,this.maxReconnectDelay_=Loe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!V6())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Vn(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new w3,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;qs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&co(e,"w")){const r=ou(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Yr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xY(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=wY(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):gw("Unrecognized action received from server: "+Vn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Id,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Id,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ooe&&(this.reconnectDelay_=Id),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Moe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+qs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Roe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Yr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Doe)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Yr(d),l())}}}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],g_(this.interruptReasons_)&&(this.reconnectDelay_=Id,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>KE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ot(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){er("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kS&&(this.reconnectDelay_=RS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){er("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+H8.replace(/\./g,"-")]=1,wg()?e["framework.cordova"]=1:E3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wm.getInstance().currentlyOnline();return g_(this.interruptReasons_)&&e}}qs.nextPersistentConnectionId_=0;qs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new nt(yu,e),i=new nt(yu,n);return this.compare(r,i)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q0;class w7 extends y1{static get __EMPTY_NODE(){return q0}static set __EMPTY_NODE(e){q0=e}compare(e,n){return Ku(e.name,n.name)}isDefinedOn(e){throw ju("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Sl,q0)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,q0)}toString(){return".key"}}const Qc=new w7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??Pr.EMPTY_NODE,this.right=s??Pr.EMPTY_NODE}copy(e,n,r,i,s){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Pr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}bn.RED=!0;bn.BLACK=!1;class $oe{copy(e,n,r,i,s){return this}insert(e,n,r){return new bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pr{constructor(e,n=Pr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bn.BLACK,null,null))}remove(e){return new Pr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new G0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new G0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new G0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new G0(this.root_,null,this.comparator_,!0,e)}}Pr.EMPTY_NODE=new $oe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(t,e){return Ku(t.name,e.name)}function ZE(t,e){return Ku(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yw;function Foe(t){yw=t}const x7=function(t){return typeof t=="number"?"number:"+Y8(t):"string:"+t},E7=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&co(e,".sv"),"Priority must be a string or number.")}else ne(t===yw||t.isEmpty(),"priority of unexpected type.");ne(t===yw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AS;class xn{constructor(e,n=xn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),E7(this.priorityNode_)}static set __childrenNodeConstructor(e){AS=e}static get __childrenNodeConstructor(){return AS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Je(e)?this:tt(e)===".priority"?this.priorityNode_:xn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=tt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||ca(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,xn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+x7(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Y8(this.value_):e+=this.value_,this.lazyHash_=G8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xn.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=xn.VALUE_TYPE_ORDER.indexOf(n),s=xn.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I7,b7;function Voe(t){I7=t}function Uoe(t){b7=t}class Boe extends y1{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ku(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Sl,new xn("[PRIORITY-POST]",b7))}makePost(e,n){const r=I7(e);return new nt(n,new xn("[PRIORITY-POST]",r))}toString(){return".priority"}}const sr=new Boe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zoe=Math.log(2);class Woe{constructor(e){const n=s=>parseInt(Math.log(s)/zoe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hm=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new bn(h,d.node,bn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),y=i(p+1,c);return d=t[p],h=n?n(d):d,new bn(h,d.node,bn.BLACK,m,y)}},s=function(l){let c=null,u=null,d=t.length;const h=function(m,y){const x=d-m,g=d;d-=m;const w=i(x+1,g),_=t[x],I=n?n(_):_;p(new bn(I,_.node,y,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));y?h(x,bn.BLACK):(h(x,bn.BLACK),h(x,bn.RED))}return u},o=new Woe(t.length),a=s(o);return new Pr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv;const lc={};class zs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(lc&&sr,"ChildrenNode.ts has not been loaded"),Hv=Hv||new zs({".priority":lc},{".priority":sr}),Hv}get(e){const n=ou(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pr?n:null}hasIndex(e){return co(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Qc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(nt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Hm(r,e.getCompare()):a=lc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new zs(u,c)}addToIndexes(e,n){const r=_m(this.indexes_,(i,s)=>{const o=ou(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===lc)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(nt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Hm(a,o.getCompare())}else return lc;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new nt(e.name,a))),l.insert(e,e.node)}});return new zs(r,this.indexSet_)}removeFromIndexes(e,n){const r=_m(this.indexes_,i=>{if(i===lc)return i;{const s=n.get(e.name);return s?i.remove(new nt(e.name,s)):i}});return new zs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;class ft{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&E7(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bd||(bd=new ft(new Pr(ZE),null,zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bd}updatePriority(e){return this.children_.isEmpty()?this:new ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bd:n}}getChild(e){const n=tt(e);return n===null?this:this.getImmediateChild(n).getChild(Nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new nt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?bd:this.priorityNode_;return new ft(i,o,s)}}updateChild(e,n){const r=tt(e);if(r===null)return n;{ne(tt(e)!==".priority"||ca(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Nt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(sr,(o,a)=>{n[o]=a.val(e),r++,s&&ft.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+x7(this.getPriority().val())+":"),this.forEachChild(sr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":G8(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new nt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,nt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jf?-1:0}withIndex(e){if(e===Qc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ft(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(sr),i=n.getIterator(sr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Qc?null:this.indexMap_.get(e.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Hoe extends ft{constructor(){super(new Pr(ZE),ft.EMPTY_NODE,zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ft.EMPTY_NODE}isEmpty(){return!1}}const Jf=new Hoe;Object.defineProperties(nt,{MIN:{value:new nt(yu,ft.EMPTY_NODE)},MAX:{value:new nt(Sl,Jf)}});w7.__EMPTY_NODE=ft.EMPTY_NODE;xn.__childrenNodeConstructor=ft;Foe(Jf);Uoe(Jf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe=!0;function tr(t,e=null){if(t===null)return ft.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xn(n,tr(e))}if(!(t instanceof Array)&&qoe){const n=[];let r=!1;if(Ti(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=tr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new nt(o,l)))}}),n.length===0)return ft.EMPTY_NODE;const s=Hm(n,joe,o=>o.name,ZE);if(r){const o=Hm(n,sr.getCompare());return new ft(s,tr(e),new zs({".priority":o},{".priority":sr}))}else return new ft(s,tr(e),zs.Default)}else{let n=ft.EMPTY_NODE;return Ti(t,(r,i)=>{if(co(t,r)&&r.substring(0,1)!=="."){const s=tr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tr(e))}}Voe(tr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe extends y1{constructor(e){super(),this.indexPath_=e,ne(!Je(e)&&tt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ku(e.name,n.name):s}makePost(e,n){const r=tr(e),i=ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new nt(n,i)}maxPost(){const e=ft.EMPTY_NODE.updateChild(this.indexPath_,Jf);return new nt(Sl,e)}toString(){return g7(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe extends y1{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ku(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,n){const r=tr(e);return new nt(n,r)}toString(){return".value"}}const Qoe=new Koe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(t){return{type:"value",snapshotNode:t}}function Xoe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Joe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function PS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Zoe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yu}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sr}copy(){const e=new eI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function NS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sr?n="$priority":t.index_===Qoe?n="$value":t.index_===Qc?n="$key":(ne(t.index_ instanceof Goe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Vn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Vn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Vn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Vn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Vn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends f7{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qm.getListenId_(e,r),a={};this.listens_[o]=a;const l=NS(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ou(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=qm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=NS(e._queryParams),r=e._path.toString(),i=new w3;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Vh(a.responseText)}catch{Yr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Yr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){return{value:null,children:new Map}}function C7(t,e,n){if(Je(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=tt(e);t.children.has(r)||t.children.set(r,Gm());const i=t.children.get(r);e=Nt(e),C7(i,e,n)}}function _w(t,e,n){t.value!==null?n(e,t.value):tae(t,(r,i)=>{const s=new Ot(e.toString()+"/"+r);_w(i,s,n)})}function tae(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ti(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=10*1e3,rae=30*1e3,iae=5*60*1e3;class sae{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new nae(e);const r=MS+(rae-MS)*Math.random();ah(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ti(e,(i,s)=>{s>0&&co(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ah(this.reportStats_.bind(this),Math.floor(Math.random()*2*iae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gs||(gs={}));function T7(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function S7(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function R7(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gs.ACK_USER_WRITE,this.source=T7()}operationForChild(e){if(Je(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ot(e));return new Km(xt(),n,this.revert)}}else return ne(tt(this.path)===e,"operationForChild called for unrelated child."),new Km(Nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gs.OVERWRITE}operationForChild(e){return Je(this.path)?new Rl(this.source,xt(),this.snap.getImmediateChild(e)):new Rl(this.source,Nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gs.MERGE}operationForChild(e){if(Je(this.path)){const n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new Rl(this.source,xt(),n.value):new cf(this.source,xt(),n)}else return ne(tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new cf(this.source,Nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Je(e))return this.isFullyInitialized()&&!this.filtered_;const n=tt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function oae(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Zoe(o.childName,o.snapshotNode))}),Cd(t,i,"child_removed",e,r,n),Cd(t,i,"child_added",e,r,n),Cd(t,i,"child_moved",s,r,n),Cd(t,i,"child_changed",e,r,n),Cd(t,i,"value",e,r,n),i}function Cd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>lae(t,a,l)),o.forEach(a=>{const l=aae(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function aae(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lae(t,e,n){if(e.childName==null||n.childName==null)throw ju("Should only compare child_ events.");const r=new nt(e.childName,e.snapshotNode),i=new nt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,e){return{eventCache:t,serverCache:e}}function lh(t,e,n,r){return k7(new tI(e,n,r),t.serverCache)}function A7(t,e,n,r){return k7(t.eventCache,new tI(e,n,r))}function ww(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function kl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qv;const cae=()=>(qv||(qv=new Pr(Qse)),qv);class Pt{constructor(e,n=cae()){this.value=e,this.children=n}static fromObject(e){let n=new Pt(null);return Ti(e,(r,i)=>{n=n.set(new Ot(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:xt(),value:this.value};if(Je(e))return null;{const r=tt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Nt(e),n);return s!=null?{path:Tn(new Ot(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Je(e))return this;{const n=tt(e),r=this.children.get(n);return r!==null?r.subtree(Nt(e)):new Pt(null)}}set(e,n){if(Je(e))return new Pt(n,this.children);{const r=tt(e),s=(this.children.get(r)||new Pt(null)).set(Nt(e),n),o=this.children.insert(r,s);return new Pt(this.value,o)}}remove(e){if(Je(e))return this.children.isEmpty()?new Pt(null):new Pt(null,this.children);{const n=tt(e),r=this.children.get(n);if(r){const i=r.remove(Nt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Pt(null):new Pt(this.value,s)}else return this}}get(e){if(Je(e))return this.value;{const n=tt(e),r=this.children.get(n);return r?r.get(Nt(e)):null}}setTree(e,n){if(Je(e))return n;{const r=tt(e),s=(this.children.get(r)||new Pt(null)).setTree(Nt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Pt(this.value,o)}}fold(e){return this.fold_(xt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Tn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,xt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Je(e))return null;{const s=tt(e),o=this.children.get(s);return o?o.findOnPath_(Nt(e),Tn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,xt(),n)}foreachOnPath_(e,n,r){if(Je(e))return this;{this.value&&r(n,this.value);const i=tt(e),s=this.children.get(i);return s?s.foreachOnPath_(Nt(e),Tn(n,i),r):new Pt(null)}}foreach(e){this.foreach_(xt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Tn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.writeTree_=e}static empty(){return new Wi(new Pt(null))}}function ch(t,e,n){if(Je(e))return new Wi(new Pt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=yi(i,e);return s=s.updateChild(o,n),new Wi(t.writeTree_.set(i,s))}else{const i=new Pt(n),s=t.writeTree_.setTree(e,i);return new Wi(s)}}}function OS(t,e,n){let r=t;return Ti(n,(i,s)=>{r=ch(r,Tn(e,i),s)}),r}function DS(t,e){if(Je(e))return Wi.empty();{const n=t.writeTree_.setTree(e,new Pt(null));return new Wi(n)}}function xw(t,e){return Vl(t,e)!=null}function Vl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yi(n.path,e)):null}function $S(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sr,(r,i)=>{e.push(new nt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new nt(r,i.value))}),e}function Zo(t,e){if(Je(e))return t;{const n=Vl(t,e);return n!=null?new Wi(new Pt(n)):new Wi(t.writeTree_.subtree(e))}}function Ew(t){return t.writeTree_.isEmpty()}function _u(t,e){return P7(xt(),t.writeTree_,e)}function P7(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=P7(Tn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Tn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t,e){return $7(e,t)}function uae(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ch(t.visibleWrites,e,n)),t.lastWriteId=r}function dae(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function hae(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&fae(a,r.path)?i=!1:Fi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return pae(t),!0;if(r.snap)t.visibleWrites=DS(t.visibleWrites,r.path);else{const a=r.children;Ti(a,l=>{t.visibleWrites=DS(t.visibleWrites,Tn(r.path,l))})}return!0}else return!1}function fae(t,e){if(t.snap)return Fi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Fi(Tn(t.path,n),e))return!0;return!1}function pae(t){t.visibleWrites=L7(t.allWrites,mae,xt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mae(t){return t.visible}function L7(t,e,n){let r=Wi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Fi(n,o)?(a=yi(n,o),r=ch(r,a,s.snap)):Fi(o,n)&&(a=yi(o,n),r=ch(r,xt(),s.snap.getChild(a)));else if(s.children){if(Fi(n,o))a=yi(n,o),r=OS(r,a,s.children);else if(Fi(o,n))if(a=yi(o,n),Je(a))r=OS(r,xt(),s.children);else{const l=ou(s.children,tt(a));if(l){const c=l.getChild(Nt(a));r=ch(r,xt(),c)}}}else throw ju("WriteRecord should have .snap or .children")}}return r}function M7(t,e,n,r,i){if(!r&&!i){const s=Vl(t.visibleWrites,e);if(s!=null)return s;{const o=Zo(t.visibleWrites,e);if(Ew(o))return n;if(n==null&&!xw(o,xt()))return null;{const a=n||ft.EMPTY_NODE;return _u(o,a)}}}else{const s=Zo(t.visibleWrites,e);if(!i&&Ew(s))return n;if(!i&&n==null&&!xw(s,xt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Fi(c.path,e)||Fi(e,c.path))},a=L7(t.allWrites,o,e),l=n||ft.EMPTY_NODE;return _u(a,l)}}}function gae(t,e,n){let r=ft.EMPTY_NODE;const i=Vl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(sr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Zo(t.visibleWrites,e);return n.forEachChild(sr,(o,a)=>{const l=_u(Zo(s,new Ot(o)),a);r=r.updateImmediateChild(o,l)}),$S(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Zo(t.visibleWrites,e);return $S(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function vae(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Tn(e,n);if(xw(t.visibleWrites,s))return null;{const o=Zo(t.visibleWrites,s);return Ew(o)?i.getChild(n):_u(o,i.getChild(n))}}function yae(t,e,n,r){const i=Tn(e,n),s=Vl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Zo(t.visibleWrites,i);return _u(o,r.getNode().getImmediateChild(n))}else return null}function _ae(t,e){return Vl(t.visibleWrites,e)}function wae(t,e,n,r,i,s,o){let a;const l=Zo(t.visibleWrites,e),c=Vl(l,xt());if(c!=null)a=c;else if(n!=null)a=_u(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function xae(){return{visibleWrites:Wi.empty(),allWrites:[],lastWriteId:-1}}function Iw(t,e,n,r){return M7(t.writeTree,t.treePath,e,n,r)}function O7(t,e){return gae(t.writeTree,t.treePath,e)}function jS(t,e,n,r){return vae(t.writeTree,t.treePath,e,n,r)}function Qm(t,e){return _ae(t.writeTree,Tn(t.treePath,e))}function Eae(t,e,n,r,i,s){return wae(t.writeTree,t.treePath,e,n,r,i,s)}function nI(t,e,n){return yae(t.writeTree,t.treePath,e,n)}function D7(t,e){return $7(Tn(t.treePath,e),t.writeTree)}function $7(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,PS(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Joe(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Xoe(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,PS(r,e.snapshotNode,i.oldSnap));else throw ju("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const j7=new bae;class rI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new tI(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kl(this.viewCache_),s=Eae(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Cae(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Tae(t,e,n,r,i){const s=new Iae;let o,a;if(n.type===gs.OVERWRITE){const c=n;c.source.fromUser?o=bw(t,e,c.path,c.snap,r,i,s):(ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Je(c.path),o=Ym(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===gs.MERGE){const c=n;c.source.fromUser?o=Rae(t,e,c.path,c.children,r,i,s):(ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Cw(t,e,c.path,c.children,r,i,a,s))}else if(n.type===gs.ACK_USER_WRITE){const c=n;c.revert?o=Pae(t,e,c.path,r,i,s):o=kae(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===gs.LISTEN_COMPLETE)o=Aae(t,e,n.path,r,s);else throw ju("Unknown operation type: "+n.type);const l=s.getChanges();return Sae(e,o,l),{viewCache:o,changes:l}}function Sae(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ww(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Yoe(ww(e)))}}function F7(t,e,n,r,i,s){const o=e.eventCache;if(Qm(r,n)!=null)return e;{let a,l;if(Je(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=kl(e),u=c instanceof ft?c:ft.EMPTY_NODE,d=O7(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Iw(r,kl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=tt(n);if(c===".priority"){ne(ca(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=jS(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Nt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=jS(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=nI(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return lh(e,a,o.isFullyInitialized()||Je(n),t.filter.filtersNodes())}}function Ym(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Je(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=tt(n);if(!l.isCompleteForPath(n)&&ca(n)>1)return e;const m=Nt(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,j7,null)}const d=A7(e,c,l.isFullyInitialized()||Je(n),u.filtersNodes()),h=new rI(i,d,s);return F7(t,d,n,i,h,a)}function bw(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new rI(i,e,s);if(Je(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lh(e,c,!0,t.filter.filtersNodes());else{const d=tt(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=lh(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Nt(n),p=a.getNode().getImmediateChild(d);let m;if(Je(h))m=r;else{const y=u.getCompleteChild(d);y!=null?m7(h)===".priority"&&y.getChild(v7(h)).isEmpty()?m=y:m=y.updateChild(h,r):m=ft.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=lh(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function FS(t,e){return t.eventCache.isCompleteForChild(e)}function Rae(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Tn(n,l);FS(e,tt(u))&&(a=bw(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Tn(n,l);FS(e,tt(u))||(a=bw(t,a,u,c,i,s,o))}),a}function VS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Cw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Je(n)?c=r:c=new Pt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=VS(t,p,h);l=Ym(t,l,new Ot(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=VS(t,m,h);l=Ym(t,l,new Ot(d),y,i,s,o,a)}}),l}function kae(t,e,n,r,i,s,o){if(Qm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Je(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ym(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Je(n)){let c=new Pt(null);return l.getNode().forEachChild(Qc,(u,d)=>{c=c.set(new Ot(u),d)}),Cw(t,e,n,c,i,s,a,o)}else return e}else{let c=new Pt(null);return r.foreach((u,d)=>{const h=Tn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Cw(t,e,n,c,i,s,a,o)}}function Aae(t,e,n,r,i){const s=e.serverCache,o=A7(e,s.getNode(),s.isFullyInitialized()||Je(n),s.isFiltered());return F7(t,o,n,r,j7,i)}function Pae(t,e,n,r,i,s){let o;if(Qm(r,n)!=null)return e;{const a=new rI(r,e,i),l=e.eventCache.getNode();let c;if(Je(n)||tt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Iw(r,kl(e));else{const d=e.serverCache.getNode();ne(d instanceof ft,"serverChildren would be complete if leaf node"),u=O7(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=tt(n);let d=nI(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Nt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ft.EMPTY_NODE,Nt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Iw(r,kl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Qm(r,xt())!=null,lh(e,c,o,t.filter.filtersNodes())}}function Nae(t,e){const n=kl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Je(e)&&!n.getImmediateChild(tt(e)).isEmpty())?n.getChild(e):null}function US(t,e,n,r){e.type===gs.MERGE&&e.source.queryId!==null&&(ne(kl(t.viewCache_),"We should always have a full cache before handling merges"),ne(ww(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Tae(t.processor_,i,e,n,r);return Cae(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Lae(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Lae(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return oae(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BS;function Mae(t){ne(!BS,"__referenceConstructor has already been defined"),BS=t}function iI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),US(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(US(o,e,n,r));return s}}function sI(t,e){let n=null;for(const r of t.views.values())n=n||Nae(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zS;function Oae(t){ne(!zS,"__referenceConstructor has already been defined"),zS=t}class WS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pt(null),this.pendingWriteTree_=xae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Dae(t,e,n,r,i){return uae(t.pendingWriteTree_,e,n,r,i),i?w1(t,new Rl(T7(),e,n)):[]}function kc(t,e,n=!1){const r=dae(t.pendingWriteTree_,e);if(hae(t.pendingWriteTree_,e)){let s=new Pt(null);return r.snap!=null?s=s.set(xt(),!0):Ti(r.children,o=>{s=s.set(new Ot(o),!0)}),w1(t,new Km(r.path,s,n))}else return[]}function _1(t,e,n){return w1(t,new Rl(S7(),e,n))}function $ae(t,e,n){const r=Pt.fromObject(n);return w1(t,new cf(S7(),e,r))}function jae(t,e,n,r){const i=z7(t,r);if(i!=null){const s=W7(i),o=s.path,a=s.queryId,l=yi(o,e),c=new Rl(R7(a),l,n);return H7(t,o,c)}else return[]}function Fae(t,e,n,r){const i=z7(t,r);if(i){const s=W7(i),o=s.path,a=s.queryId,l=yi(o,e),c=Pt.fromObject(n),u=new cf(R7(a),l,c);return H7(t,o,u)}else return[]}function V7(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=yi(o,e),c=sI(a,l);if(c)return c});return M7(i,e,s,n,!0)}function w1(t,e){return U7(e,t.syncPointTree_,null,N7(t.pendingWriteTree_,xt()))}function U7(t,e,n,r){if(Je(t.path))return B7(t,e,n,r);{const i=e.get(xt());n==null&&i!=null&&(n=sI(i,xt()));let s=[];const o=tt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=D7(r,o);s=s.concat(U7(a,l,c,u))}return i&&(s=s.concat(iI(i,t,r,n))),s}}function B7(t,e,n,r){const i=e.get(xt());n==null&&i!=null&&(n=sI(i,xt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=D7(r,o),u=t.operationForChild(o);u&&(s=s.concat(B7(u,a,l,c)))}),i&&(s=s.concat(iI(i,t,r,n))),s}function z7(t,e){return t.tagToQueryMap.get(e)}function W7(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function H7(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=N7(t.pendingWriteTree_,e);return iI(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oI(n)}node(){return this.node_}}class aI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Tn(this.path_,e);return new aI(this.syncTree_,n)}node(){return V7(this.syncTree_,this.path_)}}const Vae=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},HS=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Uae(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Bae(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Uae=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},Bae=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},zae=function(t,e,n,r){return lI(e,new aI(n,t),r)},Wae=function(t,e,n){return lI(t,new oI(e),n)};function lI(t,e,n){const r=t.getPriority().val(),i=HS(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=HS(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new xn(a,tr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new xn(i))),o.forEachChild(sr,(a,l)=>{const c=lI(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uI(t,e){let n=e instanceof Ot?e:new Ot(e),r=t,i=tt(n);for(;i!==null;){const s=ou(r.node.children,i)||{children:{},childCount:0};r=new cI(i,r,s),n=Nt(n),i=tt(n)}return r}function Qu(t){return t.node.value}function q7(t,e){t.node.value=e,Tw(t)}function G7(t){return t.node.childCount>0}function Hae(t){return Qu(t)===void 0&&!G7(t)}function x1(t,e){Ti(t.node.children,(n,r)=>{e(new cI(n,t,r))})}function K7(t,e,n,r){n&&!r&&e(t),x1(t,i=>{K7(i,e,!0,r)}),n&&r&&e(t)}function qae(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zf(t){return new Ot(t.parent===null?t.name:Zf(t.parent)+"/"+t.name)}function Tw(t){t.parent!==null&&Gae(t.parent,t.name,t)}function Gae(t,e,n){const r=Hae(n),i=co(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae=/[\[\].#$\/\u0000-\u001F\u007F]/,Qae=/[\[\].#$\u0000-\u001F\u007F]/,Gv=10*1024*1024,Q7=function(t){return typeof t=="string"&&t.length!==0&&!Kae.test(t)},Yae=function(t){return typeof t=="string"&&t.length!==0&&!Qae.test(t)},Xae=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Yae(t)},Y7=function(t,e,n){const r=n instanceof Ot?new Aoe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Oa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Oa(r)+" with contents = "+e.toString());if(K8(e))throw new Error(t+"contains "+e.toString()+" "+Oa(r));if(typeof e=="string"&&e.length>Gv/3&&xg(e)>Gv)throw new Error(t+"contains a string greater than "+Gv+" utf8 bytes "+Oa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ti(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Q7(o)))throw new Error(t+" contains an invalid key ("+o+") "+Oa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Poe(r,o),Y7(t,a,r),Noe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Oa(r)+" in addition to actual children.")}},Jae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Q7(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Xae(n))throw new Error(CY(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ele(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!y7(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ul(t,e,n){ele(t,n),tle(t,r=>Fi(r,e)||Fi(e,r))}function tle(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(nle(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function nle(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();sl&&er("event: "+n.toString()),Xf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle="repo_interrupt",ile=25;class sle{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gm(),this.transactionQueueTree_=new cI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ole(t,e,n){if(t.stats_=YE(t.repoInfo_),t.forceRestClient_||toe())t.server_=new qm(t.repoInfo_,(r,i,s,o)=>{qS(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qs(t.repoInfo_,e,(r,i,s,o)=>{qS(t,r,i,s,o)},r=>{GS(t,r)},r=>{lle(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ooe(t.repoInfo_,()=>new sae(t.stats_,t.server_)),t.infoData_=new eae,t.infoSyncTree_=new WS({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=_1(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),dI(t,"connected",!1),t.serverSyncTree_=new WS({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Ul(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ale(t){const n=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function X7(t){return Vae({timestamp:ale(t)})}function qS(t,e,n,r,i){t.dataUpdateCount++;const s=new Ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=_m(n,c=>tr(c));o=Fae(t.serverSyncTree_,s,l,i)}else{const l=tr(n);o=jae(t.serverSyncTree_,s,l,i)}else if(r){const l=_m(n,c=>tr(c));o=$ae(t.serverSyncTree_,s,l)}else{const l=tr(n);o=_1(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=fI(t,s)),Ul(t.eventQueue_,a,o)}function GS(t,e){dI(t,"connected",e),e===!1&&ule(t)}function lle(t,e){Ti(e,(n,r)=>{dI(t,n,r)})}function dI(t,e,n){const r=new Ot("/.info/"+e),i=tr(n);t.infoData_.updateSnapshot(r,i);const s=_1(t.infoSyncTree_,r,i);Ul(t.eventQueue_,r,s)}function cle(t){return t.nextWriteId_++}function ule(t){J7(t,"onDisconnectEvents");const e=X7(t),n=Gm();_w(t.onDisconnect_,xt(),(i,s)=>{const o=zae(i,s,t.serverSyncTree_,e);C7(n,i,o)});let r=[];_w(n,xt(),(i,s)=>{r=r.concat(_1(t.serverSyncTree_,i,s));const o=ple(t,i);fI(t,o)}),t.onDisconnect_=Gm(),Ul(t.eventQueue_,xt(),r)}function dle(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rle)}function J7(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),er(n,...e)}function Z7(t,e,n){return V7(t.serverSyncTree_,e,n)||ft.EMPTY_NODE}function hI(t,e=t.transactionQueueTree_){if(e||E1(t,e),Qu(e)){const n=tL(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&hle(t,Zf(e),n)}else G7(e)&&x1(e,n=>{hI(t,n)})}function hle(t,e,n){const r=n.map(c=>c.currentWriteId),i=Z7(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ne(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=yi(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{J7(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(kc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();E1(t,uI(t.transactionQueueTree_,e)),hI(t,t.transactionQueueTree_),Ul(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Xf(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Yr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}fI(t,e)}},o)}function fI(t,e){const n=eL(t,e),r=Zf(n),i=tL(t,n);return fle(t,i,r),r}function fle(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=yi(n,l.path);let u=!1,d;if(ne(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(kc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ile)u=!0,d="maxretry",i=i.concat(kc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Z7(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Y7("transaction failed: Data returned ",p,l.path);let m=tr(p);typeof p=="object"&&p!=null&&co(p,".priority")||(m=m.updatePriority(h.getPriority()));const x=l.currentWriteId,g=X7(t),w=Wae(m,h,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=cle(t),o.splice(o.indexOf(x),1),i=i.concat(Dae(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(kc(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(kc(t.serverSyncTree_,l.currentWriteId,!0))}Ul(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}E1(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Xf(r[a]);hI(t,t.transactionQueueTree_)}function eL(t,e){let n,r=t.transactionQueueTree_;for(n=tt(e);n!==null&&Qu(r)===void 0;)r=uI(r,n),e=Nt(e),n=tt(e);return r}function tL(t,e){const n=[];return nL(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nL(t,e,n){const r=Qu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);x1(e,i=>{nL(t,i,n)})}function E1(t,e){const n=Qu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,q7(e,n.length>0?n:void 0)}x1(e,r=>{E1(t,r)})}function ple(t,e){const n=Zf(eL(t,e)),r=uI(t.transactionQueueTree_,e);return qae(r,i=>{Kv(t,i)}),Kv(t,r),K7(r,i=>{Kv(t,i)}),n}function Kv(t,e){const n=Qu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(kc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?q7(e,void 0):n.length=s+1,Ul(t.eventQueue_,Zf(e),i);for(let o=0;o<r.length;o++)Xf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gle(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yr(`Invalid query segment '${n}' in query '${t}'`)}return e}const KS=function(t,e){const n=vle(t),r=n.namespace;n.domain==="firebase.com"&&io(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Gse();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new o7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ot(n.pathString)}},vle=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=mle(t.substring(u,d)));const h=gle(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Je(this._path)?null:m7(this._path)}get ref(){return new Yu(this._repo,this._path)}get _queryIdentifier(){const e=LS(this._queryParams),n=KE(e);return n==="{}"?"default":n}get _queryObject(){return LS(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof pI))return!1;const n=this._repo===e._repo,r=y7(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+koe(this._path)}}class Yu extends pI{constructor(e,n){super(e,n,new eI,!1)}get parent(){const e=v7(this._path);return e===null?null:new Yu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Mae(Yu);Oae(Yu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="FIREBASE_DATABASE_EMULATOR_HOST",Sw={};let _le=!1;function wle(t,e,n,r){t.repoInfo_=new o7(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function xle(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=KS(s,i),a=o.repoInfo,l,c;typeof process<"u"&&pS&&(c=pS[yle]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=KS(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Kc(Kc.OWNER):new roe(t.name,t.options,e);Jae("Invalid Firebase Database URL",o),Je(o.path)||io("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Ile(a,t,u,new noe(t.name,n));return new ble(d,t)}function Ele(t,e){const n=Sw[e];(!n||n[t.key]!==t)&&io(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dle(t),delete n[t.key]}function Ile(t,e,n,r){let i=Sw[e.name];i||(i={},Sw[e.name]=i);let s=i[t.toURLString()];return s&&io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sle(t,_le,n,r),i[t.toURLString()]=s,s}class ble{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ole(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yu(this._repo,xt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ele(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&io("Cannot call "+e+" on a deleted database.")}}function Cle(t=Eg(),e){const n=Sf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=_3("database");r&&Tle(n,...r)}return n}function Tle(t,e,n,r={}){t=at(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&io("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Kc(Kc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:x3(r.mockUserToken,t.app.options.projectId);s=new Kc(o)}wle(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){Bse(Zi),Is(new Ki("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return xle(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Or(mS,gS,t),Or(mS,gS,"esm2017")}qs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sle();const Rle={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},I1=G6(Rle),Ms=ZZ(I1),kle=new Ds,ye=die(I1),Qa=jse(I1);Cle(I1);hie(ye).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const e0=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},Bl=async(t,e,n,r,i,s=!1,o)=>{const a=gi.get("userId");v.useEffect(()=>{if(!a)return;r(!0);const l=wr(t,...e),c=zi(l,u=>{if(u.empty)i(!0),n([]);else{const d=u.docs.map(h=>({...h.data(),[s?"uid":"id"]:h.id}));n(d),i(!1)}e0(r)},u=>{console.log("Error fetching documents: ",u.message),r(!1),o("Error fetching documents: "+u.message)});return()=>c()},[])},Ale=(t,e,n)=>{const r=gi.get("userId");v.useEffect(()=>{if(!r)return;const i=ge(ye,t,r),s=zi(i,o=>{if(o.exists()){const a={uid:o.id,...o.data()};e(a)}return()=>s()})},[n,e,t,r])},Rw=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(i){if(r++,r>=e)throw console.log("Failed to save user data",i.message),i;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(s=>setTimeout(s,n*r))}};function rL(t,e){localStorage.setItem(t,JSON.stringify(e))}function iL(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function Ple(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let QS;function Nle(t){t(!0),clearTimeout(QS),QS=setTimeout(()=>{t(!1)},[4e3])}function Hi(){scrollTo({top:0,behavior:"smooth"})}function uh(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function Al(t){document.body.style.overflow=t}function b1(t,e){v.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function Lle(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return`${Qv(n,"hours")} ${Qv(r,"minutes")} ${Qv(i,"seconds")}`}catch{return null}}function Qv(t,e){return t?`${t} ${e}`:""}function YS(t){return t>=10?t:`0${t}`}const C1=(t,e)=>{const n=gi.get("userId");let r;return t.forEach(i=>{i.id===e&&(r=i)}),r?r.seenBy.includes(n):!1},Mle=(t,e)=>{let n=0;return t.forEach(r=>{C1(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function t0(t){v.useEffect(()=>{const e=()=>{const n=window.scrollY;rL(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function n0(t){v.useEffect(()=>{const e=iL(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function Gs(t,e){try{console.log("Fetching counts...");const n=await R8(t);e(n.data().count)}catch(n){console.log(n.message)}}async function Ole(t,e){const n=ge(Se(ye,"users"),e),r=XS(t,e);try{if(r)return r;{console.log("fetching user...");const i=await Gu(n);if(i.exists()){const s={uid:i.id,...i.data()};return XS(t,i.id)?console.log("User already exists in the array:"):t.push(s),s}else return console.log("No user found in Firestore"),null}}catch(i){return console.error("Error fetching user:",i.message),null}}function XS(t,e){return t.find(n=>n.uid===e)}function Kn(t,e,n,r=()=>{},i=[]){v.useEffect(()=>{(async()=>{console.log("fetching user..."),r(!0);const o=await Ole(e,t);n(o),e0(r,2e3)})()},i)}const Ir=({isLoading:t,text:e})=>{v.useState(0);const{theme:n,headerTitle:r}=v.useContext(Z);if(v.useEffect(()=>(document.title="Loading...",()=>{document.title="SEA • "+r}),[]),t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${n==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsxs("div",{className:"h-3 w-[200px] grid justify-center",children:[f.jsx("div",{className:"mb-3",children:e}),f.jsx(Cs,{})]})]})})},Dle=()=>{const{theme:t,userData:e,userId:n}=v.useContext(Z),[r,i]=v.useState(!0),[s,o]=v.useState(null),a=`${s==null?void 0:s.testName} - Results`,l=Math.round((s==null?void 0:s.score)/(s==null?void 0:s.totalScore)*100),c=Pn(),{resultId:u}=yf();v.useEffect(()=>{(async()=>{try{const p=Se(ge(ye,"users",n),"history"),m=ge(p,u),y=await Gu(m);o(y.data()),i(!1)}catch(p){console.log(p.message)}})()},[]),v.useEffect(()=>(Hi(),Hi()),[]);const d=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${s.score} out of ${s.totalScore} in '${s.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return f.jsx("div",{className:"p-5 ",children:s&&!r?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(_n,{data:{image:"back",clickFn:()=>c("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:a})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[s.score," / ",s.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:s.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${l}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-l}%`}})]}),f.jsxs("div",{className:`grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsx(Ra,{text:"Score Percentage",value:`${l}%`,color:"text-lime-500"}),f.jsx(Ra,{text:"Total Questions",value:s.totalScore,color:"text-lime-500"}),f.jsx(Ra,{text:"Correct",value:s.score,color:"text-green-500"}),f.jsx(Ra,{text:"Wrong",value:s.totalScore-s.score,color:"text-red-500"}),f.jsx(Ra,{text:"Date",value:s.date,color:"text-lime-500"}),f.jsx(Ra,{text:"Time",value:s.time,color:"text-lime-500"}),f.jsx(Ra,{text:"Time taken",value:Lle(s.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(_n,{data:{clickFn:()=>c(`/app/history/${u}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(_n,{data:{clickFn:d,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(_n,{data:{clickFn:()=>c("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]})})},Ra=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:["● ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function ba(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const ii=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:i})=>{const s=t&&t.trim(),o=e&&e.trim(),a=s&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(s||a)return f.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${i}`,src:t});if(o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},so=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:i,value:s}=t;return v.useContext(Z),f.jsxs(Ji,{open:!!s,onClose:()=>i(!1),children:[f.jsx(Rq,{children:r}),f.jsxs(Qr,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[f.jsx(Ve,{onClick:e,children:"Yes"}),f.jsx(Ve,{onClick:n,children:"No"})]})]})},Hn=({name:t,className:e,size:n="size-7"})=>f.jsx("img",{className:`${n} ${e}`,src:Ne(t)}),$le=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=v.useState(!1),[i,s]=v.useState(!1),o=v.useRef(null),a=Pn(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=v.useContext(Z),m=async()=>{try{await wP(Ms),e(!1),l(!1),gi.remove("userId"),a("/login")}catch(y){console.log(y.message)}};return b1(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:f.jsx(so,{data:{value:i,yesButton:m,noButton:()=>{s(!1)},text:"Are you sure to log out ?",setValue:s}})}),f.jsx(Ve,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start",border:"1px solid transparent"},onClick:()=>r(!n),className:`transition-all p-1 flex items-center rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative size-10",children:f.jsx(ii,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx(jt,{className:"font-bold",children:u!=null&&u.name?u.name:"Unknown User"}),h&&f.jsx(_n,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsx("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:f.jsxs("div",{children:[f.jsx(Ve,{onClick:()=>{a("/app/settings"),e(!1),r(!1)},startIcon:f.jsx(Hn,{name:"admin"}),children:"Settings"}),f.jsx(Ve,{onClick:()=>{s(!0)},startIcon:f.jsx(Hn,{name:"logout"}),children:"Log out"})]})})]})},jle=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:i,historyCount:s,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=v.useContext(Z),u=Au(),d=u.pathname.includes("/app/history"),h=n.includes(u.pathname),p=u.pathname==="/app/"||u.pathname==="/app",m=u.pathname.includes("/app/tests"),y=u.pathname.includes("/app/help"),x=u.pathname.includes("/app/notifications"),g=u.pathname.includes("/app/chatroom");v.useEffect(()=>{try{Gs(Se(ge(ye,"users",c),"history"),o),Gs(Se(ye,"notifications"),l)}catch(E){console.log(E.message)}},[]);const w=()=>{let E=0;return i.forEach(C=>{C1(i,C.id)||(E+=1)}),!!(E>0&&(r!=null&&r.name))},_=[{text:"Home",image:"home",path:"/app",active:p},{text:"Tests",image:"exam",path:"/app/tests",active:m},{text:"History",image:"history",path:"/app/history",items:s,active:d},{text:"Notifications",image:"notification",path:"/app/notifications",items:a,active:x},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:g},{text:"Admin",image:"admin",path:"/app/admin",active:h},{text:"Help",image:"help",path:"/app/help",active:y}],I=["Admin"],S=_.filter(E=>r.isAdmin?!0:!I.includes(E.text));return f.jsxs(KQ,{variant:"temporary",transitionDuration:{enter:500,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[f.jsx("div",{className:"flex p-2 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(Rn,{onClick:()=>e(!1),children:f.jsx("img",{className:"w-8",src:Ne("close")})}),f.jsx(jt,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsxs(Qr,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[f.jsx(d6,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:f.jsx("div",{className:"mr-2 ml-2",children:S.map(E=>f.jsx(Fle,{setIsMenuOpen:e,data:{active:E.active,image:E.image,path:E.path,text:E.text,items:E==null?void 0:E.items,color:E.color,isThereNewMessages:w}},E.text))})}),f.jsx($le,{data:{setIsMenuOpen:e}})]})]})},Fle=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:i,items:s,path:o,color:a,isThereNewMessages:l}=e,c=Pn(),{theme:u,currentTest:d}=v.useContext(Z);return f.jsxs(Ve,{sx:{justifyContent:"start",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      ${u==="light"?` ${n?"bg-blue-500/70":"hover:bg-slate-200"}`:` ${n?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[f.jsx("img",{className:`size-9 p-1 transition-all
        `,src:Ne(r)}),f.jsx("div",{children:i}),s&&s>=0?f.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}):"",d&&i==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",ba(d.name,45),")"]}),i==="Chat Room"&&(l()?f.jsx("div",{className:"absolute left-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},Vle=()=>{const{headerTitle:t,newMessages:e,userData:n,isLogin:r}=v.useContext(Z),[i,s]=v.useState(!1);return f.jsx(o6,{position:"sticky",sx:{zIndex:"20"},children:f.jsx(k6,{sx:{padding:"5px",backgroundColor:"white"},children:f.jsxs(Zd,{container:!0,justifyContent:"space-between",children:[f.jsxs(Zd,{item:!0,display:"flex",alignItems:"center",children:[r&&f.jsxs(f.Fragment,{children:[f.jsxs(Rn,{sx:{position:"relative"},onClick:()=>s(!0),children:[f.jsx("img",{className:"w-8",src:Ne("menu")}),Mle(e,n)?f.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]}),i&&f.jsx(jle,{setIsMenuOpen:s,isMenuOpen:i})]}),f.jsx(jt,{sx:{fontWeight:"bold",color:"black"},children:t})]}),f.jsx(Zd,{item:!0,children:f.jsx("div",{className:"flex gap-x-2 items-center",children:f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},Ac=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),Ule=()=>{var x;const{theme:t,userData:e,headerTitle:n}=v.useContext(Z),r=0,i=10,[s,o]=v.useState(i),[a,l]=v.useState(!1),[c,u]=v.useState({}),d=(x=c==null?void 0:c.results)==null?void 0:x.slice(r,s),h=`${c==null?void 0:c.testName} - Review your answers`,{resultId:p}=yf(),m=async()=>{const g=Se(ge(ye,"users",e.uid),"history"),w=ge(g,p),_=await Gu(w);if(_.exists){const I={id:_.id,..._.data()};u(I)}};v.useEffect(()=>{m()},[p]),v.useEffect(()=>(Hi(),Hi()),[]);const y=()=>{o(s+i)};return v.useEffect(()=>{var g;s>=((g=c==null?void 0:c.results)==null?void 0:g.length)&&l(!0)},[s]),v.useEffect(()=>{setHeaderTitle(h)}),f.jsxs("div",{className:"p-5",children:[f.jsx(Ir,{}),c?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:h}),d==null?void 0:d.map(g=>{const{id:w,question:_,isTrue:I,answer:S,userAnswer:E}=g;return I?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:w}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:_})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:Ne("trueIcon")}),f.jsx("div",{children:S})]})]})}),f.jsx(Ac,{})]},`result-${w}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:w}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:_})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:Ne("falseIcon")}),f.jsx("div",{children:E})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:Ne("trueIcon")}),f.jsx("div",{children:S})]})]})]}),f.jsx(Ac,{})]},`result-${w}`)}),a?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(Bi,{data:{image:"down",text:"See More",clickFn:y}})}),f.jsx("div",{children:f.jsx(B$,{to:`/app/history/${p}`,children:f.jsx(Bi,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(A6,{text:"Unavailable"})]})},wn=({text:t})=>f.jsx(Le,{m:2,children:f.jsx("div",{children:t})}),sL=()=>f.jsxs("div",{className:"grid gap-y-2 shadow-md rounded-md p-2 ",children:[f.jsx(Vt,{variant:"text",width:150}),f.jsx(Vt,{variant:"rectangular",height:55,width:"100%"})]}),JS=()=>{const{deleteFromHistory:t,theme:e,setHeaderTitle:n,userId:r,historyCount:i}=v.useContext(Z),s=Pn(),[o,a]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState(!1),[h,p]=v.useState(!1),[m,y]=v.useState(!1),[x,g]=v.useState([]),w=Se(ge(ye,"users",r),"history"),[_,I]=v.useState(!0),[S,E]=v.useState(!1),[C,b]=v.useState(null),[R,T]=v.useState(null),k=5,N=async()=>{I(!0);let A=wr(w,ro(k));R&&(A=wr(A,p1(R)));try{const O=await Ia(A);if(O.empty)E(!0);else{const $=O.docs.map(F=>({id:F.id,...F.data()}));a([...o,...$]),T(O.docs[O.docs.length-1]),e0(I)}}catch(O){const $="Error fetching history: "+O.message;console.log($),I(!1),b($)}};v.useEffect(()=>{N()},[]);const M=A=>{m||s(`/app/history/${A.id}`)},L=()=>{t(l),c(null),d(!1)},j=()=>{d(!1),c(null)},P=()=>{const A=o.filter(O=>!x.includes(O.id));a(A),g([]),p(!1),y(!1)};return t0("history-page"),n0("history-page"),v.useEffect(()=>{n("History")},[]),_?f.jsx(Ir,{isLoading:_,text:"Loading history..."}):S?f.jsx(wn,{text:"No posts available"}):C?f.jsx(wn,{text:C}):f.jsxs("div",{className:"p-5",children:[f.jsx(so,{data:{value:h,setValue:p,text:`Are you sure to delete ${x.length} ${x.length<=1?"item":"items"} ?`,yesButton:P,noButton:()=>p(!1),setValue:p}}),f.jsx(so,{data:{value:u,text:"Are you sure to delete ?",yesButton:L,noButton:j,setValue:d}}),f.jsxs("div",{className:"grid border border-slate-200 rounded-md shadow-md ",children:[o.map((A,O)=>f.jsx(Ble,{h:A,index:O,goToResults:M},`history-item-${A.id}`)),i>k&&o.length<i?f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx(Ve,{size:"small",onClick:N,children:"load more"})}):""]})]})},Ble=({h:t,index:e,goToResults:n})=>{const{theme:r}=v.useContext(Z),[i,s]=v.useState(!0);return e0(s,2e3),i?f.jsx(sL,{}):f.jsxs(Le,{onClick:()=>n(t,e),className:`min-h-20 p-2 border-t  cursor-pointer ${e===0&&"border-t-0"} gap-x-3 ${r==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium  ${r==="light"?" ":"bg-slate-500/70"}`,children:t.testName}),f.jsx("div",{className:"p-2 flex items-center gap-x-2",children:f.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",t.score," / ",t.results.length," "]}),f.jsxs("div",{className:" ",children:["Date: ",t.date," (",` ${t.time}`,")"]})]})})})]})},zle=()=>{const[t,e]=v.useState(0),n=()=>{const r=window.innerHeight,i=document.documentElement.scrollHeight,s=window.scrollY,o=i-r,a=s/o*100;e(a)};return v.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},Wle=()=>{const{users:t,theme:e,setHeaderTitle:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(null),[a,l]=v.useState(null),c=[{name:"Posts",image:"home",path:"/app/admin/posts",counts:r},{name:"Tests",image:"exam",path:"/app/admin/tests",counts:s},{name:"Users",image:"user",path:"/app/admin/users",counts:a}],[u,d]=v.useState(c);v.useEffect(()=>{(async()=>{await Gs(Se(ye,"posts"),i),await Gs(Se(ye,"tests"),o),await Gs(Se(ye,"users"),l)})()},[]);const h=Pn();return v.useEffect(()=>{n("Admin")},[]),v.useEffect(()=>{d(c)},[r,s,a]),f.jsxs("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md  ",children:[f.jsx(Ir,{}),u.map((p,m)=>f.jsxs(Le,{onClick:()=>{h(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer hover:bg-slate-100`,children:[f.jsx("img",{className:"w-7 ",src:Ne(p.image)}),f.jsx("div",{children:p.name}),p.counts&&f.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))]})},Hle=()=>{const e=new Date().getFullYear();return v.useContext(Z),f.jsxs(Qr,{className:" w-full shadow-t-md flex flex-col items-center p-1 bg-white border-t  mt-auto border-t-slate-200 ",rowGap:.5,children:[f.jsxs(jt,{children:["SEA copyright 2015 - ",e]}),f.jsx(jt,{children:"All rights reserved."}),f.jsx(jt,{children:"Author: Than Aung Naing"})]})},qle=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),Gle=()=>{const{setHeaderTitle:t,theme:e,setIsLogIn:n}=v.useContext(Z),[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState(null),[p,m]=v.useState("login"),y=Pn();v.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const x=()=>{y("/app")};Al("auto");const g=async(C,b,R,T="",k)=>{try{const N=ge(ye,"users",k),M=await Gu(N),L={name:C,email:b,password:R,image:T,isAdmin:!1,createdAt:ir()};console.log("User exists: ",M.exists()),M.exists()||await Rw(()=>rl(ge(ye,"users",k),L))}catch(N){console.log(N.message)}},w=async()=>{try{const b=(await lZ(Ms,kle)).user;await g(Ms.currentUser.displayName,Ms.currentUser.email,"",Ms.currentUser.photoURL,b.uid),gi.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){h(C.message),u(!0)}},_=async()=>{try{const b=(await jJ(Ms,s,a)).user;gi.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){h(C.message),u(!0)}},I=async()=>{try{const C=await $J(Ms,s,a),{user:b}=C;await g(r,s,a,"",b.uid),gi.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){h(C.message),u(!0)}},S=()=>{const C=gi.get("userId")||null;let b=!1;return C&&(b=!0),{loggedIn:b,userId:C}},E=()=>{switch(p){case"login":return f.jsxs("div",{children:[f.jsx(p_,{open:c,onClose:()=>u(!1),message:d,autoHideDuration:3e3}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx(jt,{variant:"h6",color:"primary",children:"Log In"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(di,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:C=>o(C.target.value)}),f.jsx(di,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:C=>l(C.target.value)}),f.jsx(Ve,{onClick:_,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),f.jsx(ZS,{}),f.jsx("div",{children:f.jsx(Ve,{onClick:w,startIcon:f.jsx("img",{className:"size-7",src:Ne("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),f.jsx(ZS,{}),f.jsx("div",{children:f.jsx(Ve,{onClick:()=>m("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})]});case"signup":return f.jsx("div",{children:f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx(p_,{open:c,onClose:()=>u(!1),message:d,autoHideDuration:2e3}),f.jsx(jt,{variant:"h6",color:"primary",children:"Create a new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(di,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:r,onChange:C=>i(C.target.value)}),f.jsx(di,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:C=>o(C.target.value)}),f.jsx(di,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:C=>l(C.target.value)}),f.jsx(Ve,{onClick:()=>{I()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),f.jsx("div",{children:f.jsx(Ve,{startIcon:f.jsx("img",{className:"size-7",src:Ne("back")}),onClick:()=>m("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(Ir,{}),S().loggedIn?f.jsx(Kle,{userId:S().userId}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${e==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),E()]})]})},ZS=()=>{const{theme:t}=v.useContext(Z);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})},Kle=({userId:t})=>{ge(Se(ye,"users"),t),v.useState(null);const e=Pn(),{userData:n}=v.useContext(Z);return f.jsxs(Qr,{m:2,children:[f.jsxs(jt,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),f.jsx(Le,{mt:1,children:f.jsx(Ve,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function Qle(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function oL(t,e){return new Promise(function(n,r){let i;return Yle(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Yle=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,u),h=c+d+2+12*s.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(s.getUint16(p,u)==274){if(s.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Xm={},Xle={get exports(){return Xm},set exports(t){Xm=t}};(function(t){var e,n,r={};Xle.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var x=a(u,l+=4),g=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var I=a(u,l+=8);l+=4,l+=g+w+_,r._readLocal(u,I,c,p,x,s)}return c},r._readLocal=function(i,s,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var h=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=u(i,s+=8),m=u(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,p);if(s+=p,s+=m,c)o[y]={size:l,csize:a};else{var x=new Uint8Array(i.buffer,s);if(h==0)o[y]=new Uint8Array(x.buffer.slice(s,s+a));else{if(h!=8)throw"unknown compression method: "+h;var g=new Uint8Array(l);r.inflateRaw(x,g),o[y]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var d=!r._noNeed(u)&&!s,h=i[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),y=0,x=[];for(var u in c){var g=c[u];x.push(y),y=r._writeHeader(m,y,u,g,0)}var w=0,_=y;for(var u in c)g=c[u],x.push(y),y=r._writeHeader(m,y,u,g,1,x[w++]);var I=y-_;return a(m,y,101010256),y+=4,l(m,y+=4,w),l(m,y+=2,w),a(m,y+=2,I),a(m,y+=4,_),y+=4,y+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,h.length),u(i,s+=4,a.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(h,s),s+=h.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,u=s+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,m=0,y=i.length;if(a==0){for(;h<y;)d(s,p,h+(k=Math.min(65535,y-h))==y?1:0),p=r.F._copyExact(i,h,k,s,p+8),h+=k;return p>>>3}var x=c.lits,g=c.strt,w=c.prev,_=0,I=0,S=0,E=0,C=0,b=0;for(y>2&&(g[b=r.F._hash(i,0)]=0),h=0;h<y;h++){if(C=b,h+1<y-2){b=r.F._hash(i,h+1);var R=h+1&32767;w[R]=g[b],g[b]=R}if(m<=h){(_>14e3||I>26697)&&y-h>100&&(m<h&&(x[_]=h-m,_+=2,m=h),p=r.F._writeBlock(h==y-1||m==y?1:0,x,_,E,i,S,h-S,s,p),_=I=E=0,S=h);var T=0;h<y-2&&(T=r.F._bestMatch(i,h,w,C,Math.min(l[2],y-h),l[3]));var k=T>>>16,N=65535&T;if(T!=0){N=65535&T;var M=u(k=T>>>16,c.of0);c.lhst[257+M]++;var L=u(N,c.df0);c.dhst[L]++,E+=c.exb[M]+c.dxb[L],x[_]=k<<23|h-m,x[_+1]=N<<16|M<<8|L,_+=2,m=h+k}else c.lhst[i[h]]++;I++}}for(S==h&&i.length!=0||(m<h&&(x[_]=h-m,_+=2,m=h),p=r.F._writeBlock(1,x,_,E,i,S,h-S,s,p),_=0,I=0,_=I=E=0,S=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var u=32767&s,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(i,s-h))return 0;for(var p=0,m=0,y=Math.min(32767,s);h<=y&&--c!=0&&d!=u;){if(p==0||i[s+p]==i[s+p-h]){var x=r.F._howLong(i,s,h);if(x>p){if(m=h,(p=x)>=l)break;h+2<x&&(x=h+2);for(var g=0,w=0;w<x-2;w++){var _=s-h+w+32768&32767,I=_-o[_]+32768&32767;I>g&&(g=I,d=_)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,u,d,h){var p,m,y,x,g,w,_,I,S,E=r.F.U,C=r.F._putsF,b=r.F._putsE;E.lhst[256]++,m=(p=r.F.getTrees())[0],y=p[1],x=p[2],g=p[3],w=p[4],_=p[5],I=p[6],S=p[7];var R=32+(h+3&7?8-(h+3&7):0)+(u<<3),T=a+r.F.contSize(E.fltree,E.lhst)+r.F.contSize(E.fdtree,E.dhst),k=a+r.F.contSize(E.ltree,E.lhst)+r.F.contSize(E.dtree,E.dhst);k+=14+3*_+r.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var N=0;N<286;N++)E.lhst[N]=0;for(N=0;N<30;N++)E.dhst[N]=0;for(N=0;N<19;N++)E.ihst[N]=0;var M=R<T&&R<k?0:T<k?1:2;if(C(d,h,i),C(d,h+1,M),h+=3,M==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var L,j;if(M==1&&(L=E.fltree,j=E.fdtree),M==2){r.F.makeCodes(E.ltree,m),r.F.revCodes(E.ltree,m),r.F.makeCodes(E.dtree,y),r.F.revCodes(E.dtree,y),r.F.makeCodes(E.itree,x),r.F.revCodes(E.itree,x),L=E.ltree,j=E.dtree,b(d,h,g-257),b(d,h+=5,w-1),b(d,h+=5,_-4),h+=4;for(var P=0;P<_;P++)b(d,h+3*P,E.itree[1+(E.ordr[P]<<1)]);h+=3*_,h=r.F._codeTiny(I,E.itree,d,h),h=r.F._codeTiny(S,E.itree,d,h)}for(var A=c,O=0;O<o;O+=2){for(var $=s[O],F=$>>>23,q=A+(8388607&$);A<q;)h=r.F._writeLit(l[A++],L,d,h);if(F!=0){var W=s[O+1],z=W>>16,B=W>>8&255,V=255&W;b(d,h=r.F._writeLit(257+B,L,d,h),F-E.of0[B]),h+=E.exb[B],C(d,h=r.F._writeLit(V,j,d,h),z-E.df0[V]),h+=E.dxb[V],A+=F}}h=r.F._writeLit(256,L,d,h)}return h},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],u=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var h=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,h,l,u,p,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];a=r.F._writeLit(c,s,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&i[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&i[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);s.push(16,p-3),a+=2*p-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,s[1+(p<<1)]=1,s[1+(h<<1)]=1,1}a.sort(function(I,S){return I.f-S.f});var m=a[0],y=a[1],x=0,g=1,w=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],y=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],a[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var _=r.F.setDepth(a[g-1],0);for(_>o&&(r.F.restrictDepth(h,o,_),_=o),u=0;u<d;u++)s[1+(h[u].lit<<1)]=h[u].d;return _},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,c+=l-(1<<o-u)}for(c>>>=o-s;c>0;)(u=i[a].d)<s?(i[a].d++,c-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var x,g,w=0,_=0,I=0,S=0,E=0,C=0,b=0,R=0,T=0;w==0;)if(w=l(i,T,1),_=l(i,T+1,2),T+=3,_!=0){if(y&&(s=r.F._check(s,R+(1<<17))),_==1&&(x=m.flmap,g=m.fdmap,C=511,b=31),_==2){I=c(i,T,5)+257,S=c(i,T+5,5)+1,E=c(i,T+10,4)+4,T+=14;for(var k=0;k<38;k+=2)m.itree[k]=0,m.itree[k+1]=0;var N=1;for(k=0;k<E;k++){var M=c(i,T+3*k,3);m.itree[1+(m.ordr[k]<<1)]=M,M>N&&(N=M)}T+=3*E,d(m.itree,N),h(m.itree,N,m.imap),x=m.lmap,g=m.dmap,T=u(m.imap,(1<<N)-1,I+S,i,T,m.ttree);var L=a._copyOut(m.ttree,0,I,m.ltree);C=(1<<L)-1;var j=a._copyOut(m.ttree,I,S,m.dtree);b=(1<<j)-1,d(m.ltree,L),h(m.ltree,L,x),d(m.dtree,j),h(m.dtree,j,g)}for(;;){var P=x[p(i,T)&C];T+=15&P;var A=P>>>4;if(!(A>>>8))s[R++]=A;else{if(A==256)break;var O=R+A-254;if(A>264){var $=m.ldef[A-257];O=R+($>>>3)+c(i,T,7&$),T+=7&$}var F=g[p(i,T)&b];T+=15&F;var q=F>>>4,W=m.ddef[q],z=(W>>>4)+l(i,T,15&W);for(T+=15&W,y&&(s=r.F._check(s,R+(1<<17)));R<O;)s[R]=s[R++-z],s[R]=s[R++-z],s[R]=s[R++-z],s[R]=s[R++-z];R=O}}}else{7&T&&(T+=8-(7&T));var B=4+(T>>>3),V=i[B-4]|i[B-3]<<8;y&&(s=r.F._check(s,R+V)),s.set(new o(i.buffer,i.byteOffset+B,V),R),T=B+V<<3,R+=V}return s.length==R?s:s.slice(0,R)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=i[d(a,l)&s];l+=15&p;var m=p>>>4;if(m<=15)c[h]=m,h++;else{var y=0,x=0;m==16?(x=3+u(a,l,2),l+=2,y=c[h-1]):m==17?(x=3+u(a,l,3),l+=3):m==18&&(x=11+u(a,l,7),l+=7);for(var g=h+x;h<g;)c[h]=y,h++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=i[c+s];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,u=r.F.U,d=i.length,h=u.bl_count,p=0;p<=s;p++)h[p]=0;for(p=1;p<d;p+=2)h[i[p]]++;var m=u.next_code;for(o=0,h[0]=0,a=1;a<=s;a++)o=o+h[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=m[c],m[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],h=u<<4|d,p=s-d,m=i[c]<<p,y=m+(1<<p);m!=y;)o[l[m]>>>15-s]=h,m++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Jle=Qle({__proto__:null,default:Xm},[Xm]);const Li=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let m=0;m<h;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const m=d*h,y=s(p),x=Math.ceil(d*y/8),g=new Uint8Array(4*m),w=new Uint32Array(g.buffer),{ctype:_}=p,{depth:I}=p,S=t.readUshort;if(_==6){const $=m<<2;if(I==8)for(var E=0;E<$;E+=4)g[E]=u[E],g[E+1]=u[E+1],g[E+2]=u[E+2],g[E+3]=u[E+3];if(I==16)for(E=0;E<$;E++)g[E]=u[E<<1]}else if(_==2){const $=p.tabs.tRNS;if($==null){if(I==8)for(E=0;E<m;E++){var C=3*E;w[E]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C]}if(I==16)for(E=0;E<m;E++)C=6*E,w[E]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C]}else{var b=$[0];const F=$[1],q=$[2];if(I==8)for(E=0;E<m;E++){var R=E<<2;C=3*E,w[E]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C],u[C]==b&&u[C+1]==F&&u[C+2]==q&&(g[R+3]=0)}if(I==16)for(E=0;E<m;E++)R=E<<2,C=6*E,w[E]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C],S(u,C)==b&&S(u,C+2)==F&&S(u,C+4)==q&&(g[R+3]=0)}}else if(_==3){const $=p.tabs.PLTE,F=p.tabs.tRNS,q=F?F.length:0;if(I==1)for(var T=0;T<h;T++){var k=T*x,N=T*d;for(E=0;E<d;E++){R=N+E<<2;var M=3*(L=u[k+(E>>3)]>>7-((7&E)<<0)&1);g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255}}if(I==2)for(T=0;T<h;T++)for(k=T*x,N=T*d,E=0;E<d;E++)R=N+E<<2,M=3*(L=u[k+(E>>2)]>>6-((3&E)<<1)&3),g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255;if(I==4)for(T=0;T<h;T++)for(k=T*x,N=T*d,E=0;E<d;E++)R=N+E<<2,M=3*(L=u[k+(E>>1)]>>4-((1&E)<<2)&15),g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255;if(I==8)for(E=0;E<m;E++){var L;R=E<<2,M=3*(L=u[E]),g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255}}else if(_==4){if(I==8)for(E=0;E<m;E++){R=E<<2;var j=u[P=E<<1];g[R]=j,g[R+1]=j,g[R+2]=j,g[R+3]=u[P+1]}if(I==16)for(E=0;E<m;E++){var P;R=E<<2,j=u[P=E<<2],g[R]=j,g[R+1]=j,g[R+2]=j,g[R+3]=u[P+2]}}else if(_==0)for(b=p.tabs.tRNS?p.tabs.tRNS:-1,T=0;T<h;T++){const $=T*x,F=T*d;if(I==1)for(var A=0;A<d;A++){var O=(j=255*(u[$+(A>>>3)]>>>7-(7&A)&1))==255*b?0:255;w[F+A]=O<<24|j<<16|j<<8|j}else if(I==2)for(A=0;A<d;A++)O=(j=85*(u[$+(A>>>2)]>>>6-((3&A)<<1)&3))==85*b?0:255,w[F+A]=O<<24|j<<16|j<<8|j;else if(I==4)for(A=0;A<d;A++)O=(j=17*(u[$+(A>>>1)]>>>4-((1&A)<<2)&15))==17*b?0:255,w[F+A]=O<<24|j<<16|j<<8|j;else if(I==8)for(A=0;A<d;A++)O=(j=u[$+A])==b?0:255,w[F+A]=O<<24|j<<16|j<<8|j;else if(I==16)for(A=0;A<d;A++)j=u[$+(A<<1)],O=S(u,$+(A<<1))==b?0:255,w[F+A]=O<<24|j<<16|j<<8|j}return g}function n(u,d,h,p){const m=s(u),y=Math.ceil(h*m/8),x=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?i(d,x):r(d,x),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(w,_){const I=_.width,S=_.height,E=s(_),C=E>>3,b=Math.ceil(I*E/8),R=new Uint8Array(S*b);let T=0;const k=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const A=M[j],O=L[j];let $=0,F=0,q=k[j];for(;q<S;)q+=A,F++;let W=N[j];for(;W<I;)W+=O,$++;const z=Math.ceil($*E/8);o(w,_,T,$,F);let B=0,V=k[j];for(;V<S;){let G=N[j],ie=T+B*z<<3;for(;G<I;){var P;if(E==1&&(P=(P=w[ie>>3])>>7-(7&ie)&1,R[V*b+(G>>3)]|=P<<7-((7&G)<<0)),E==2&&(P=(P=w[ie>>3])>>6-(7&ie)&3,R[V*b+(G>>2)]|=P<<6-((3&G)<<1)),E==4&&(P=(P=w[ie>>3])>>4-(7&ie)&15,R[V*b+(G>>1)]|=P<<4-((1&G)<<2)),E>=8){const le=V*b+G*C;for(let ee=0;ee<C;ee++)R[le+ee]=w[(ie>>3)+ee]}ie+=E,G+=O}B++,V+=A}$*F!=0&&(T+=F*(1+z)),j+=1}return R}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let m,y,x=0,g=0,w=0,_=0,I=0,S=0,E=0,C=0,b=0;if(d[0]==3&&d[1]==0)return h||new p(0);const R=u.H,T=R.b,k=R.e,N=R.R,M=R.n,L=R.A,j=R.Z,P=R.m,A=h==null;for(A&&(h=new p(d.length>>>2<<5));x==0;)if(x=T(d,b,1),g=T(d,b+1,2),b+=3,g!=0){if(A&&(h=u.H.W(h,C+(1<<17))),g==1&&(m=P.J,y=P.h,S=511,E=31),g==2){w=k(d,b,5)+257,_=k(d,b+5,5)+1,I=k(d,b+10,4)+4,b+=14;let $=1;for(var O=0;O<38;O+=2)P.Q[O]=0,P.Q[O+1]=0;for(O=0;O<I;O++){const W=k(d,b+3*O,3);P.Q[1+(P.X[O]<<1)]=W,W>$&&($=W)}b+=3*I,M(P.Q,$),L(P.Q,$,P.u),m=P.w,y=P.d,b=N(P.u,(1<<$)-1,w+_,d,b,P.v);const F=R.V(P.v,0,w,P.C);S=(1<<F)-1;const q=R.V(P.v,w,_,P.D);E=(1<<q)-1,M(P.C,F),L(P.C,F,m),M(P.D,q),L(P.D,q,y)}for(;;){const $=m[j(d,b)&S];b+=15&$;const F=$>>>4;if(!(F>>>8))h[C++]=F;else{if(F==256)break;{let q=C+F-254;if(F>264){const G=P.q[F-257];q=C+(G>>>3)+k(d,b,7&G),b+=7&G}const W=y[j(d,b)&E];b+=15&W;const z=W>>>4,B=P.c[z],V=(B>>>4)+T(d,b,15&B);for(b+=15&B;C<q;)h[C]=h[C++-V],h[C]=h[C++-V],h[C]=h[C++-V],h[C]=h[C++-V];C=q}}}}else{7&b&&(b+=8-(7&b));const $=4+(b>>>3),F=d[$-4]|d[$-3]<<8;A&&(h=u.H.W(h,C+F)),h.set(new p(d.buffer,d.byteOffset+$,F),C),b=$+F<<3,C+=F}return h.length==C?h:h.slice(0,C)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,h,p,m,y,x){const g=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const I=d[w(m,y)&h];y+=15&I;const S=I>>>4;if(S<=15)x[_]=S,_++;else{let E=0,C=0;S==16?(C=3+g(m,y,2),y+=2,E=x[_-1]):S==17?(C=3+g(m,y,3),y+=3):S==18&&(C=11+g(m,y,7),y+=7);const b=_+C;for(;_<b;)x[_]=E,_++}}return y},u.H.V=function(d,h,p,m){let y=0,x=0;const g=m.length>>>1;for(;x<p;){const w=d[x+h];m[x<<1]=0,m[1+(x<<1)]=w,w>y&&(y=w),x++}for(;x<g;)m[x<<1]=0,m[1+(x<<1)]=0,x++;return y},u.H.n=function(d,h){const p=u.H.m,m=d.length;let y,x,g,w;const _=p.j;for(var I=0;I<=h;I++)_[I]=0;for(I=1;I<m;I+=2)_[d[I]]++;const S=p.K;for(y=0,_[0]=0,x=1;x<=h;x++)y=y+_[x-1]<<1,S[x]=y;for(g=0;g<m;g+=2)w=d[g+1],w!=0&&(d[g]=S[w],S[w]++)},u.H.A=function(d,h,p){const m=d.length,y=u.H.m.r;for(let x=0;x<m;x+=2)if(d[x+1]!=0){const g=x>>1,w=d[x+1],_=g<<4|w,I=h-w;let S=d[x]<<I;const E=S+(1<<I);for(;S!=E;)p[y[S]>>>15-h]=_,S++}},u.H.l=function(d,h){const p=u.H.m.r,m=15-h;for(let y=0;y<d.length;y+=2){const x=d[y]<<h-d[y+1];d[y]=p[x]>>>m}},u.H.M=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,x){for(;y--!=0;)m.push(0,x)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,m){let y=s(d);const x=Math.ceil(p*y/8);let g,w;y=Math.ceil(y/8);let _=u[h],I=0;if(_>1&&(u[h]=[0,0,1][_-2]),_==3)for(I=y;I<x;I++)u[I+1]=u[I+1]+(u[I+1-y]>>>1)&255;for(let S=0;S<m;S++)if(g=h+S*x,w=g+S+1,_=u[w-1],I=0,_==0)for(;I<x;I++)u[g+I]=u[w+I];else if(_==1){for(;I<y;I++)u[g+I]=u[w+I];for(;I<x;I++)u[g+I]=u[w+I]+u[g+I-y]}else if(_==2)for(;I<x;I++)u[g+I]=u[w+I]+u[g+I-x];else if(_==3){for(;I<y;I++)u[g+I]=u[w+I]+(u[g+I-x]>>>1);for(;I<x;I++)u[g+I]=u[w+I]+(u[g+I-x]+u[g+I-y]>>>1)}else{for(;I<y;I++)u[g+I]=u[w+I]+a(0,u[g+I-x],0);for(;I<x;I++)u[g+I]=u[w+I]+a(u[g+I-y],u[g+I-x],u[g+I-y-x])}return u}function a(u,d,h){const p=u+d-h,m=p-u,y=p-d,x=p-h;return m*m<=y*y&&m*m<=x*x?u:y*y<=x*x?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,m,y,x,g,w){const _=Math.min(d,m),I=Math.min(h,y);let S=0,E=0;for(let j=0;j<I;j++)for(let P=0;P<_;P++)if(x>=0&&g>=0?(S=j*d+P<<2,E=(g+j)*m+x+P<<2):(S=(-g+j)*d-x+P<<2,E=j*m+P<<2),w==0)p[E]=u[S],p[E+1]=u[S+1],p[E+2]=u[S+2],p[E+3]=u[S+3];else if(w==1){var C=u[S+3]*.00392156862745098,b=u[S]*C,R=u[S+1]*C,T=u[S+2]*C,k=p[E+3]*(1/255),N=p[E]*k,M=p[E+1]*k,L=p[E+2]*k;const A=1-C,O=C+k*A,$=O==0?0:1/O;p[E+3]=255*O,p[E+0]=(b+N*A)*$,p[E+1]=(R+M*A)*$,p[E+2]=(T+L*A)*$}else if(w==2)C=u[S+3],b=u[S],R=u[S+1],T=u[S+2],k=p[E+3],N=p[E],M=p[E+1],L=p[E+2],C==k&&b==N&&R==M&&T==L?(p[E]=0,p[E+1]=0,p[E+2]=0,p[E+3]=0):(p[E]=b,p[E+1]=R,p[E+2]=T,p[E+3]=C);else if(w==3){if(C=u[S+3],b=u[S],R=u[S+1],T=u[S+2],k=p[E+3],N=p[E],M=p[E+1],L=p[E+2],C==k&&b==N&&R==M&&T==L)continue;if(C<220&&k>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const m=t,y=m.readUshort,x=m.readUint,g={tabs:{},frames:[]},w=new Uint8Array(h.length);let _,I=0,S=0;const E=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(h[C]!=E[C])throw"The input is not a PNG file!";for(;p<h.length;){const j=m.readUint(h,p);p+=4;const P=m.readASCII(h,p,4);if(p+=4,P=="IHDR")l(h,p,g);else if(P=="iCCP"){for(var b=p;h[b]!=0;)b++;m.readASCII(h,p,b-p),h[b+1];const A=h.slice(b+2,p+j);let O=null;try{O=r(A)}catch{O=i(A)}g.tabs[P]=O}else if(P=="CgBI")g.tabs[P]=h.slice(p,p+4);else if(P=="IDAT"){for(C=0;C<j;C++)w[I+C]=h[p+C];I+=j}else if(P=="acTL")g.tabs[P]={num_frames:x(h,p),num_plays:x(h,p+4)},_=new Uint8Array(h.length);else if(P=="fcTL"){S!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,S),L.rect.width,L.rect.height),S=0);const A={x:x(h,p+12),y:x(h,p+16),width:x(h,p+4),height:x(h,p+8)};let O=y(h,p+22);O=y(h,p+20)/(O==0?100:O);const $={rect:A,delay:Math.round(1e3*O),dispose:h[p+24],blend:h[p+25]};g.frames.push($)}else if(P=="fdAT"){for(C=0;C<j-4;C++)_[S+C]=h[p+C+4];S+=j-4}else if(P=="pHYs")g.tabs[P]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(P=="cHRM")for(g.tabs[P]=[],C=0;C<8;C++)g.tabs[P].push(m.readUint(h,p+4*C));else if(P=="tEXt"||P=="zTXt"){g.tabs[P]==null&&(g.tabs[P]={});var R=m.nextZero(h,p),T=m.readASCII(h,p,R-p),k=p+j-R-1;if(P=="tEXt")M=m.readASCII(h,R+1,k);else{var N=r(h.slice(R+2,R+2+k));M=m.readUTF8(N,0,N.length)}g.tabs[P][T]=M}else if(P=="iTXt"){g.tabs[P]==null&&(g.tabs[P]={}),R=0,b=p,R=m.nextZero(h,b),T=m.readASCII(h,b,R-b);const A=h[b=R+1];var M;h[b+1],b+=2,R=m.nextZero(h,b),m.readASCII(h,b,R-b),b=R+1,R=m.nextZero(h,b),m.readUTF8(h,b,R-b),k=j-((b=R+1)-p),A==0?M=m.readUTF8(h,b,k):(N=r(h.slice(b,b+k)),M=m.readUTF8(N,0,N.length)),g.tabs[P][T]=M}else if(P=="PLTE")g.tabs[P]=m.readBytes(h,p,j);else if(P=="hIST"){const A=g.tabs.PLTE.length/3;for(g.tabs[P]=[],C=0;C<A;C++)g.tabs[P].push(y(h,p+2*C))}else if(P=="tRNS")g.ctype==3?g.tabs[P]=m.readBytes(h,p,j):g.ctype==0?g.tabs[P]=y(h,p):g.ctype==2&&(g.tabs[P]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(P=="gAMA")g.tabs[P]=m.readUint(h,p)/1e5;else if(P=="sRGB")g.tabs[P]=h[p];else if(P=="bKGD")g.ctype==0||g.ctype==4?g.tabs[P]=[y(h,p)]:g.ctype==2||g.ctype==6?g.tabs[P]=[y(h,p),y(h,p+2),y(h,p+4)]:g.ctype==3&&(g.tabs[P]=h[p]);else if(P=="IEND")break;p+=j,m.readUint(h,p),p+=4}var L;return S!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,S),L.rect.width,L.rect.height)),g.data=n(g,w,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=h*p*4,x=new Uint8Array(y),g=new Uint8Array(y),w=new Uint8Array(y);for(let I=0;I<d.frames.length;I++){const S=d.frames[I],E=S.rect.x,C=S.rect.y,b=S.rect.width,R=S.rect.height,T=e(S.data,b,R,d);if(I!=0)for(var _=0;_<y;_++)w[_]=x[_];if(S.blend==0?c(T,b,R,x,h,p,E,C,0):S.blend==1&&c(T,b,R,x,h,p,E,C,1),m.push(x.buffer.slice(0)),S.dispose!=0){if(S.dispose==1)c(g,b,R,x,h,p,E,C,0);else if(S.dispose==2)for(_=0;_<y;_++)x[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Li,{_bin:e}=Li,n=Li._paeth;var r={table:function(){const b=new Uint32Array(256);for(let R=0;R<256;R++){let T=R;for(let k=0;k<8;k++)1&T?T=3988292384^T>>>1:T>>>=1;b[R]=T}return b}(),update(b,R,T,k){for(let N=0;N<k;N++)b=r.table[255&(b^R[T+N])]^b>>>8;return b},crc:(b,R,T)=>4294967295^r.update(4294967295,b,R,T)};function i(b,R,T,k){R[T]+=b[0]*k>>4,R[T+1]+=b[1]*k>>4,R[T+2]+=b[2]*k>>4,R[T+3]+=b[3]*k>>4}function s(b){return Math.max(0,Math.min(255,b))}function o(b,R){const T=b[0]-R[0],k=b[1]-R[1],N=b[2]-R[2],M=b[3]-R[3];return T*T+k*k+N*N+M*M}function a(b,R,T,k,N,M,L){L==null&&(L=1);const j=k.length,P=[];for(var A=0;A<j;A++){const V=k[A];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(A=0;A<j;A++){let V=4294967295;for(var O=0,$=0;$<j;$++){var F=o(P[A],P[$]);$!=A&&F<V&&(V=F,O=$)}}const q=new Uint32Array(N.buffer),W=new Int16Array(R*T*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<z.length;A++)z[A]=255*((z[A]+.5)/16-.5);for(let V=0;V<T;V++)for(let G=0;G<R;G++){var B;A=4*(V*R+G),L!=2?B=[s(b[A]+W[A]),s(b[A+1]+W[A+1]),s(b[A+2]+W[A+2]),s(b[A+3]+W[A+3])]:(F=z[4*(3&V)+(3&G)],B=[s(b[A]+F),s(b[A+1]+F),s(b[A+2]+F),s(b[A+3]+F)]),O=0;let ie=16777215;for($=0;$<j;$++){const he=o(B,P[$]);he<ie&&(ie=he,O=$)}const le=P[O],ee=[B[0]-le[0],B[1]-le[1],B[2]-le[2],B[3]-le[3]];L==1&&(G!=R-1&&i(ee,W,A+4,7),V!=T-1&&(G!=0&&i(ee,W,A+4*R-4,3),i(ee,W,A+4*R,5),G!=R-1&&i(ee,W,A+4*R+4,1))),M[A>>2]=O,q[A>>2]=k[O]}}function l(b,R,T,k,N){N==null&&(N={});const{crc:M}=r,L=e.writeUint,j=e.writeUshort,P=e.writeASCII;let A=8;const O=b.frames.length>1;let $,F=!1,q=33+(O?20:0);if(N.sRGB!=null&&(q+=13),N.pHYs!=null&&(q+=21),N.iCCP!=null&&($=pako.deflate(N.iCCP),q+=21+$.length+4),b.ctype==3){for(var W=b.plte.length,z=0;z<W;z++)b.plte[z]>>>24!=255&&(F=!0);q+=8+3*W+4+(F?8+1*W+4:0)}for(var B=0;B<b.frames.length;B++)O&&(q+=38),q+=(le=b.frames[B]).cimg.length+12,B!=0&&(q+=4);q+=12;const V=new Uint8Array(q),G=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)V[z]=G[z];if(L(V,A,13),A+=4,P(V,A,"IHDR"),A+=4,L(V,A,R),A+=4,L(V,A,T),A+=4,V[A]=b.depth,A++,V[A]=b.ctype,A++,V[A]=0,A++,V[A]=0,A++,V[A]=0,A++,L(V,A,M(V,A-17,17)),A+=4,N.sRGB!=null&&(L(V,A,1),A+=4,P(V,A,"sRGB"),A+=4,V[A]=N.sRGB,A++,L(V,A,M(V,A-5,5)),A+=4),N.iCCP!=null){const ee=13+$.length;L(V,A,ee),A+=4,P(V,A,"iCCP"),A+=4,P(V,A,"ICC profile"),A+=11,A+=2,V.set($,A),A+=$.length,L(V,A,M(V,A-(ee+4),ee+4)),A+=4}if(N.pHYs!=null&&(L(V,A,9),A+=4,P(V,A,"pHYs"),A+=4,L(V,A,N.pHYs[0]),A+=4,L(V,A,N.pHYs[1]),A+=4,V[A]=N.pHYs[2],A++,L(V,A,M(V,A-13,13)),A+=4),O&&(L(V,A,8),A+=4,P(V,A,"acTL"),A+=4,L(V,A,b.frames.length),A+=4,L(V,A,N.loop!=null?N.loop:0),A+=4,L(V,A,M(V,A-12,12)),A+=4),b.ctype==3){for(L(V,A,3*(W=b.plte.length)),A+=4,P(V,A,"PLTE"),A+=4,z=0;z<W;z++){const ee=3*z,he=b.plte[z],ce=255&he,oe=he>>>8&255,ve=he>>>16&255;V[A+ee+0]=ce,V[A+ee+1]=oe,V[A+ee+2]=ve}if(A+=3*W,L(V,A,M(V,A-3*W-4,3*W+4)),A+=4,F){for(L(V,A,W),A+=4,P(V,A,"tRNS"),A+=4,z=0;z<W;z++)V[A+z]=b.plte[z]>>>24&255;A+=W,L(V,A,M(V,A-W-4,W+4)),A+=4}}let ie=0;for(B=0;B<b.frames.length;B++){var le=b.frames[B];O&&(L(V,A,26),A+=4,P(V,A,"fcTL"),A+=4,L(V,A,ie++),A+=4,L(V,A,le.rect.width),A+=4,L(V,A,le.rect.height),A+=4,L(V,A,le.rect.x),A+=4,L(V,A,le.rect.y),A+=4,j(V,A,k[B]),A+=2,j(V,A,1e3),A+=2,V[A]=le.dispose,A++,V[A]=le.blend,A++,L(V,A,M(V,A-30,30)),A+=4);const ee=le.cimg;L(V,A,(W=ee.length)+(B==0?0:4)),A+=4;const he=A;P(V,A,B==0?"IDAT":"fdAT"),A+=4,B!=0&&(L(V,A,ie++),A+=4),V.set(ee,A),A+=W,L(V,A,M(V,he,A-he)),A+=4}return L(V,A,0),A+=4,P(V,A,"IEND"),A+=4,L(V,A,M(V,A-4,4)),A+=4,V.buffer}function c(b,R,T){for(let k=0;k<b.frames.length;k++){const N=b.frames[k];N.rect.width;const M=N.rect.height,L=new Uint8Array(M*N.bpl+M);N.cimg=p(N.img,M,N.bpp,N.bpl,L,R,T)}}function u(b,R,T,k,N){const M=N[0],L=N[1],j=N[2],P=N[3],A=N[4],O=N[5];let $=6,F=8,q=255;for(var W=0;W<b.length;W++){const wt=new Uint8Array(b[W]);for(var z=wt.length,B=0;B<z;B+=4)q&=wt[B+3]}const V=q!=255,G=function(Ue,De,st,lt,Te,bt){const $e=[];for(var Ee=0;Ee<Ue.length;Ee++){const Ct=new Uint8Array(Ue[Ee]),tn=new Uint32Array(Ct.buffer);var St;let ln=0,fe=0,Be=De,Tt=st,br=lt?1:0;if(Ee!=0){const Gl=bt||lt||Ee==1||$e[Ee-2].dispose!=0?1:2;let Kl=0,Ie=1e9;for(let Xe=0;Xe<Gl;Xe++){var an=new Uint8Array(Ue[Ee-1-Xe]);const pt=new Uint32Array(Ue[Ee-1-Xe]);let rt=De,qt=st,Cr=-1,Rs=-1;for(let si=0;si<st;si++)for(let Ca=0;Ca<De;Ca++)tn[ke=si*De+Ca]!=pt[ke]&&(Ca<rt&&(rt=Ca),Ca>Cr&&(Cr=Ca),si<qt&&(qt=si),si>Rs&&(Rs=si));Cr==-1&&(rt=qt=Cr=Rs=0),Te&&((1&rt)==1&&rt--,(1&qt)==1&&qt--);const Ql=(Cr-rt+1)*(Rs-qt+1);Ql<Ie&&(Ie=Ql,Kl=Xe,ln=rt,fe=qt,Be=Cr-rt+1,Tt=Rs-qt+1)}an=new Uint8Array(Ue[Ee-1-Kl]),Kl==1&&($e[Ee-1].dispose=2),St=new Uint8Array(Be*Tt*4),t(an,De,st,St,Be,Tt,-ln,-fe,0),br=t(Ct,De,st,St,Be,Tt,-ln,-fe,3)?1:0,br==1?h(Ct,De,st,St,{x:ln,y:fe,width:Be,height:Tt}):t(Ct,De,st,St,Be,Tt,-ln,-fe,0)}else St=Ct.slice(0);$e.push({rect:{x:ln,y:fe,width:Be,height:Tt},img:St,blend:br,dispose:0})}if(lt)for(Ee=0;Ee<$e.length;Ee++){if((me=$e[Ee]).blend==1)continue;const Ct=me.rect,tn=$e[Ee-1].rect,ln=Math.min(Ct.x,tn.x),fe=Math.min(Ct.y,tn.y),Be={x:ln,y:fe,width:Math.max(Ct.x+Ct.width,tn.x+tn.width)-ln,height:Math.max(Ct.y+Ct.height,tn.y+tn.height)-fe};$e[Ee-1].dispose=1,Ee-1!=0&&d(Ue,De,st,$e,Ee-1,Be,Te),d(Ue,De,st,$e,Ee,Be,Te)}let On=0;if(Ue.length!=1)for(var ke=0;ke<$e.length;ke++){var me;On+=(me=$e[ke]).rect.width*me.rect.height}return $e}(b,R,T,M,L,j),ie={},le=[],ee=[];if(k!=0){const wt=[];for(B=0;B<G.length;B++)wt.push(G[B].img.buffer);const Ue=function(Te){let bt=0;for(var $e=0;$e<Te.length;$e++)bt+=Te[$e].byteLength;const Ee=new Uint8Array(bt);let St=0;for($e=0;$e<Te.length;$e++){const an=new Uint8Array(Te[$e]),On=an.length;for(let ke=0;ke<On;ke+=4){let me=an[ke],Ct=an[ke+1],tn=an[ke+2];const ln=an[ke+3];ln==0&&(me=Ct=tn=0),Ee[St+ke]=me,Ee[St+ke+1]=Ct,Ee[St+ke+2]=tn,Ee[St+ke+3]=ln}St+=On}return Ee.buffer}(wt),De=y(Ue,k);for(B=0;B<De.plte.length;B++)le.push(De.plte[B].est.rgba);let st=0;for(B=0;B<G.length;B++){const lt=(ce=G[B]).img.length;var he=new Uint8Array(De.inds.buffer,st>>2,lt>>2);ee.push(he);const Te=new Uint8Array(De.abuf,st,lt);O&&a(ce.img,ce.rect.width,ce.rect.height,le,Te,he),ce.img.set(Te),st+=lt}}else for(W=0;W<G.length;W++){var ce=G[W];const wt=new Uint32Array(ce.img.buffer);var oe=ce.rect.width;for(z=wt.length,he=new Uint8Array(z),ee.push(he),B=0;B<z;B++){const Ue=wt[B];if(B!=0&&Ue==wt[B-1])he[B]=he[B-1];else if(B>oe&&Ue==wt[B-oe])he[B]=he[B-oe];else{let De=ie[Ue];if(De==null&&(ie[Ue]=De=le.length,le.push(Ue),le.length>=300))break;he[B]=De}}}const ve=le.length;for(ve<=256&&A==0&&(F=ve<=2?1:ve<=4?2:ve<=16?4:8,F=Math.max(F,P)),W=0;W<G.length;W++){(ce=G[W]).rect.x,ce.rect.y,oe=ce.rect.width;const wt=ce.rect.height;let Ue=ce.img;new Uint32Array(Ue.buffer);let De=4*oe,st=4;if(ve<=256&&A==0){De=Math.ceil(F*oe/8);var Re=new Uint8Array(De*wt);const lt=ee[W];for(let Te=0;Te<wt;Te++){B=Te*De;const bt=Te*oe;if(F==8)for(var xe=0;xe<oe;xe++)Re[B+xe]=lt[bt+xe];else if(F==4)for(xe=0;xe<oe;xe++)Re[B+(xe>>1)]|=lt[bt+xe]<<4-4*(1&xe);else if(F==2)for(xe=0;xe<oe;xe++)Re[B+(xe>>2)]|=lt[bt+xe]<<6-2*(3&xe);else if(F==1)for(xe=0;xe<oe;xe++)Re[B+(xe>>3)]|=lt[bt+xe]<<7-1*(7&xe)}Ue=Re,$=3,st=1}else if(V==0&&G.length==1){Re=new Uint8Array(oe*wt*3);const lt=oe*wt;for(B=0;B<lt;B++){const Te=3*B,bt=4*B;Re[Te]=Ue[bt],Re[Te+1]=Ue[bt+1],Re[Te+2]=Ue[bt+2]}Ue=Re,$=2,st=3,De=3*oe}ce.img=Ue,ce.bpl=De,ce.bpp=st}return{ctype:$,depth:F,plte:le,frames:G}}function d(b,R,T,k,N,M,L){const j=Uint8Array,P=Uint32Array,A=new j(b[N-1]),O=new P(b[N-1]),$=N+1<b.length?new j(b[N+1]):null,F=new j(b[N]),q=new P(F.buffer);let W=R,z=T,B=-1,V=-1;for(let ie=0;ie<M.height;ie++)for(let le=0;le<M.width;le++){const ee=M.x+le,he=M.y+ie,ce=he*R+ee,oe=q[ce];oe==0||k[N-1].dispose==0&&O[ce]==oe&&($==null||$[4*ce+3]!=0)||(ee<W&&(W=ee),ee>B&&(B=ee),he<z&&(z=he),he>V&&(V=he))}B==-1&&(W=z=B=V=0),L&&((1&W)==1&&W--,(1&z)==1&&z--),M={x:W,y:z,width:B-W+1,height:V-z+1};const G=k[N];G.rect=M,G.blend=1,G.img=new Uint8Array(M.width*M.height*4),k[N-1].dispose==0?(t(A,R,T,G.img,M.width,M.height,-M.x,-M.y,0),h(F,R,T,G.img,M)):t(F,R,T,G.img,M.width,M.height,-M.x,-M.y,0)}function h(b,R,T,k,N){t(b,R,T,k,N.width,N.height,-N.x,-N.y,2)}function p(b,R,T,k,N,M,L){const j=[];let P,A=[0,1,2,3,4];M!=-1?A=[M]:(R*k>5e5||T==1)&&(A=[0]),L&&(P={level:0});const O=Jle;for(var $=0;$<A.length;$++){for(let W=0;W<R;W++)m(N,b,W,k,T,A[$]);j.push(O.deflate(N,P))}let F,q=1e9;for($=0;$<j.length;$++)j[$].length<q&&(F=$,q=j[$].length);return j[F]}function m(b,R,T,k,N,M){const L=T*k;let j=L+T;if(b[j]=M,j++,M==0)if(k<500)for(var P=0;P<k;P++)b[j+P]=R[L+P];else b.set(new Uint8Array(R.buffer,L,k),j);else if(M==1){for(P=0;P<N;P++)b[j+P]=R[L+P];for(P=N;P<k;P++)b[j+P]=R[L+P]-R[L+P-N]+256&255}else if(T==0){for(P=0;P<N;P++)b[j+P]=R[L+P];if(M==2)for(P=N;P<k;P++)b[j+P]=R[L+P];if(M==3)for(P=N;P<k;P++)b[j+P]=R[L+P]-(R[L+P-N]>>1)+256&255;if(M==4)for(P=N;P<k;P++)b[j+P]=R[L+P]-n(R[L+P-N],0,0)+256&255}else{if(M==2)for(P=0;P<k;P++)b[j+P]=R[L+P]+256-R[L+P-k]&255;if(M==3){for(P=0;P<N;P++)b[j+P]=R[L+P]+256-(R[L+P-k]>>1)&255;for(P=N;P<k;P++)b[j+P]=R[L+P]+256-(R[L+P-k]+R[L+P-N]>>1)&255}if(M==4){for(P=0;P<N;P++)b[j+P]=R[L+P]+256-n(0,R[L+P-k],0)&255;for(P=N;P<k;P++)b[j+P]=R[L+P]+256-n(R[L+P-N],R[L+P-k],R[L+P-N-k])&255}}}function y(b,R){const T=new Uint8Array(b),k=T.slice(0),N=new Uint32Array(k.buffer),M=x(k,R),L=M[0],j=M[1],P=T.length,A=new Uint8Array(P>>2);let O;if(T.length<2e7)for(var $=0;$<P;$+=4)O=g(L,F=T[$]*(1/255),q=T[$+1]*(1/255),W=T[$+2]*(1/255),z=T[$+3]*(1/255)),A[$>>2]=O.ind,N[$>>2]=O.est.rgba;else for($=0;$<P;$+=4){var F=T[$]*.00392156862745098,q=T[$+1]*(1/255),W=T[$+2]*(1/255),z=T[$+3]*(1/255);for(O=L;O.left;)O=w(O.est,F,q,W,z)<=0?O.left:O.right;A[$>>2]=O.ind,N[$>>2]=O.est.rgba}return{abuf:k.buffer,inds:A,plte:j}}function x(b,R,T){T==null&&(T=1e-4);const k=new Uint32Array(b.buffer),N={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=S(b,N.i0,N.i1),N.est=E(N.bst);const M=[N];for(;M.length<R;){let j=0,P=0;for(var L=0;L<M.length;L++)M[L].est.L>j&&(j=M[L].est.L,P=L);if(j<T)break;const A=M[P],O=_(b,k,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=O||A.i1<=O){A.est.L=0;continue}const $={i0:A.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};$.bst=S(b,$.i0,$.i1),$.est=E($.bst);const F={i0:O,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:A.bst.N-$.bst.N},L=0;L<16;L++)F.bst.R[L]=A.bst.R[L]-$.bst.R[L];for(L=0;L<4;L++)F.bst.m[L]=A.bst.m[L]-$.bst.m[L];F.est=E(F.bst),A.left=$,A.right=F,M[P]=$,M.push(F)}for(M.sort((j,P)=>P.bst.N-j.bst.N),L=0;L<M.length;L++)M[L].ind=L;return[N,M]}function g(b,R,T,k,N){if(b.left==null)return b.tdst=function($,F,q,W,z){const B=F-$[0],V=q-$[1],G=W-$[2],ie=z-$[3];return B*B+V*V+G*G+ie*ie}(b.est.q,R,T,k,N),b;const M=w(b.est,R,T,k,N);let L=b.left,j=b.right;M>0&&(L=b.right,j=b.left);const P=g(L,R,T,k,N);if(P.tdst<=M*M)return P;const A=g(j,R,T,k,N);return A.tdst<P.tdst?A:P}function w(b,R,T,k,N){const{e:M}=b;return M[0]*R+M[1]*T+M[2]*k+M[3]*N-b.eMq}function _(b,R,T,k,N,M){for(k-=4;T<k;){for(;I(b,T,N)<=M;)T+=4;for(;I(b,k,N)>M;)k-=4;if(T>=k)break;const L=R[T>>2];R[T>>2]=R[k>>2],R[k>>2]=L,T+=4,k-=4}for(;I(b,T,N)>M;)T-=4;return T+4}function I(b,R,T){return b[R]*T[0]+b[R+1]*T[1]+b[R+2]*T[2]+b[R+3]*T[3]}function S(b,R,T){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],M=T-R>>2;for(let L=R;L<T;L+=4){const j=b[L]*.00392156862745098,P=b[L+1]*(1/255),A=b[L+2]*(1/255),O=b[L+3]*(1/255);N[0]+=j,N[1]+=P,N[2]+=A,N[3]+=O,k[0]+=j*j,k[1]+=j*P,k[2]+=j*A,k[3]+=j*O,k[5]+=P*P,k[6]+=P*A,k[7]+=P*O,k[10]+=A*A,k[11]+=A*O,k[15]+=O*O}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:N,N:M}}function E(b){const{R}=b,{m:T}=b,{N:k}=b,N=T[0],M=T[1],L=T[2],j=T[3],P=k==0?0:1/k,A=[R[0]-N*N*P,R[1]-N*M*P,R[2]-N*L*P,R[3]-N*j*P,R[4]-M*N*P,R[5]-M*M*P,R[6]-M*L*P,R[7]-M*j*P,R[8]-L*N*P,R[9]-L*M*P,R[10]-L*L*P,R[11]-L*j*P,R[12]-j*N*P,R[13]-j*M*P,R[14]-j*L*P,R[15]-j*j*P],O=A,$=C;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,W=0;if(k!=0)for(let B=0;B<16&&(F=$.multVec(O,F),W=Math.sqrt($.dot(F,F)),F=$.sml(1/W,F),!(B!=0&&Math.abs(W-q)<1e-9));B++)q=W;const z=[N*P,M*P,L*P,j*P];return{Cov:A,q:z,e:F,L:q,eMq255:$.dot($.sml(255,z),F),eMq:$.dot(F,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var C={multVec:(b,R)=>[b[0]*R[0]+b[1]*R[1]+b[2]*R[2]+b[3]*R[3],b[4]*R[0]+b[5]*R[1]+b[6]*R[2]+b[7]*R[3],b[8]*R[0]+b[9]*R[1]+b[10]*R[2]+b[11]*R[3],b[12]*R[0]+b[13]*R[1]+b[14]*R[2]+b[15]*R[3]],dot:(b,R)=>b[0]*R[0]+b[1]*R[1]+b[2]*R[2]+b[3]*R[3],sml:(b,R)=>[b*R[0],b*R[1],b*R[2],b*R[3]]};Li.encode=function(R,T,k,N,M,L,j){N==null&&(N=0),j==null&&(j=!1);const P=u(R,T,k,N,[!1,!1,!1,0,j,!1]);return c(P,-1),l(P,T,k,M,L)},Li.encodeLL=function(R,T,k,N,M,L,j,P){const A={ctype:0+(N==1?0:2)+(M==0?0:4),depth:L,frames:[]},O=(N+M)*L,$=O*T;for(let F=0;F<R.length;F++)A.frames.push({rect:{x:0,y:0,width:T,height:k},img:new Uint8Array(R[F]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil($/8)});return c(A,0,!0),l(A,T,k,j,P)},Li.encode.compress=u,Li.encode.dither=a,Li.quantize=y,Li.quantize.getKDtree=x,Li.quantize.getNearest=g})();const aL={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,m,y,x,g=h,w=0,_=0,I=0;function S(b){d.setUint16(_,b,!0),_+=2}function E(b){d.setUint32(_,b,!0),_+=4}function C(b){_+=b}S(19778),E(c),C(4),E(122),E(108),E(n),E(-r>>>0),S(1),S(32),E(3),E(l),E(2835),E(2835),C(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function b(){for(;w<r&&g>0;){for(x=122+w*a,p=0;p<i;)g--,m=o[I++],y=m>>>24,d.setUint32(x+p,m<<8|y),p+=4;w++}I<o.length?(g=h,setTimeout(b,aL._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Rr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Zle={[Rr.CHROME]:16384,[Rr.FIREFOX]:11180,[Rr.DESKTOP_SAFARI]:16384,[Rr.IE]:8192,[Rr.IOS]:4096,[Rr.ETC]:8192};const mI=typeof window<"u",lL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Jm=mI&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ece=(mI||lL)&&(Jm&&Jm.getOriginalSymbol(window,"File")||typeof File<"u"&&File),cL=(mI||lL)&&(Jm&&Jm.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function gI(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function uL(t){return new Promise((e,n)=>{const r=new cL;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function dL(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Ya(){if(Ya.cachedResult!==void 0)return Ya.cachedResult;let t=Rr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Rr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Rr.IOS:/Safari/i.test(e)?t=Rr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Rr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Rr.IE),Ya.cachedResult=t,Ya.cachedResult}function hL(t,e){const n=Ya(),r=Zle[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function T1(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function fL(t,e){const{width:n,height:r}=hL(t.width,t.height),[i,s]=T1(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function kp(){return kp.cachedResult!==void 0||(kp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),kp.cachedResult}function Zm(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=fL(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return uL(t).then(function(d){try{return u=d,dL(u).then(function(h){try{return i=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(kp()||[Rr.DESKTOP_SAFARI,Rr.MOBILE_SAFARI].includes(Ya()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function e2(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=Li.encode([h.buffer],t.width,t.height,4096*i),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>aL.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,i),gI(p,n,r).then((function(m){try{return a=m,h.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function is(t){t.width=0,t.height=0}function Pc(){return new Promise(function(t,e){let n,r,i,s;return Pc.cachedResult!==void 0?t(Pc.cachedResult):gI("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Zm(n).then(function(a){try{return r=a[1],e2(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,is(r),Zm(i).then(function(c){try{return s=c[0],Pc.cachedResult=s.width===1&&s.height===2,t(Pc.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function pL(t){return new Promise((e,n)=>{const r=new cL;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const u=s.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(s.getUint16(a+12*d,c)==274)return e(s.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function mL(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=T1(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),is(t)),o}function gL(t,e){const{width:n}=t,{height:r}=t,[i,s]=T1(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),is(t),i}function e4(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,u,d,h,p,m,y,x,g,w,_,I,S,E,C,b;function R(k=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=k,e.onProgress(Math.min(s,100))}function T(k){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(k,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,R(),Zm(t,e).then((function(k){try{return[,l]=k,R(),c=mL(l,e),R(),new Promise(function(N,M){var L;if(!(L=e.exifOrientation))return pL(t).then((function(P){try{return L=P,j.call(this)}catch(A){return M(A)}}).bind(this),M);function j(){return N(L)}return j.call(this)}).then((function(N){try{return u=N,R(),Pc().then((function(M){try{return d=M?c:gL(c,u),R(),h=e.initialQuality||1,p=e.fileType||t.type,e2(d,p,t.name,t.lastModified,h).then((function(L){try{{let O=function(){if(o--&&(_>a||_>g)){let F,q;return F=b?.95*C.width:C.width,q=b?.95*C.height:C.height,[S,E]=T1(F,q),E.drawImage(C,0,0,F,q),h*=p==="image/png"?.85:.95,e2(S,p,t.name,t.lastModified,h).then(function(W){try{return I=W,is(C),C=S,_=I.size,T(Math.min(99,Math.floor((w-_)/(w-a)*100))),O}catch(z){return i(z)}},i)}return[1]},$=function(){return is(C),is(S),is(c),is(d),is(l),T(100),r(I)};var P=O,A=$;if(m=L,R(),y=m.size>a,x=m.size>t.size,!y&&!x)return T(100),r(m);var j;return g=t.size,w=m.size,_=w,C=d,b=!e.alwaysKeepResolution&&y,(j=(function(F){for(;F;){if(F.then)return void F.then(j,i);try{if(F.pop){if(F.length)return F.pop()?$.call(this):F;F=O}else F=F.call(this)}catch(q){return i(q)}}}).bind(this))(O)}}catch(O){return i(O)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)})}const tce=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Yv;function nce(t,e){return new Promise((n,r)=>{Yv||(Yv=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(tce));const i=new Worker(Yv);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function gn(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof ece))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return e4(t,i).then((function(p){try{return s=p,h.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return e4(t,i).then(function(m){try{return s=m,u()}catch(y){return r(y)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",nce(t,i).then(function(p){try{return s=p,u()}catch{return d()}},d)}catch{d()}function h(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=oL(t,s))}catch{}return n(s)}})}gn.getDataUrlFromFile=uL,gn.getFilefromDataUrl=gI,gn.loadImage=dL,gn.drawImageInCanvas=fL,gn.drawFileInCanvas=Zm,gn.canvasToFile=e2,gn.getExifOrientation=pL,gn.handleMaxWidthOrHeight=mL,gn.followExifOrientation=gL,gn.cleanupCanvasMemory=is,gn.isAutoOrientationInBrowser=Pc,gn.approximateBelowMaximumCanvasSizeOfBrowser=hL,gn.copyExifWithoutOrientation=oL,gn.getBrowserName=Ya,gn.version="2.0.2";const rce=({options:t,setValue:e,label:n,gender:r})=>{const[i,s]=v.useState(r),o=a=>{s(a.target.value)};return v.useEffect(()=>{e(i)},[i]),v.useEffect(()=>{s(r)},[r]),f.jsx(R6,{size:"small",variant:"standard",id:n,labelId:n,value:i,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>f.jsx(DK,{value:a.value,children:a.label},a.value))})};var t4="__sak";function vL(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var ice=vL,kw=new ga("auth","Firebase",vL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yc=new Tf("@firebase/auth");function sce(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Yc.logLevel<=ze.WARN&&Yc.warn.apply(Yc,zn(["Auth (".concat(Zi,"): ").concat(t)],e,!1))}function Ap(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Yc.logLevel<=ze.ERROR&&Yc.error.apply(Yc,zn(["Auth (".concat(Zi,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw yI.apply(void 0,zn([t],e,!1))}function vI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return yI.apply(void 0,zn([t],e,!1))}function oce(t,e,n){var r,i=qe(qe({},ice()),(r={},r[e]=n,r)),s=new ga("auth","Firebase",i);return s.create(e,{appName:t.name})}function yI(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=zn([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,zn([i],s,!1))}return kw.create.apply(kw,zn([t],n,!1))}function Fe(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw yI.apply(void 0,zn([e],n,!1))}function Ws(t){var e="INTERNAL ASSERTION FAILED: "+t;throw Ap(e),new Error(e)}function wu(t,e){t||Ws(e)}function ace(){return n4()==="http:"||n4()==="https:"}function n4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ace()||j6()||"connection"in navigator)?navigator.onLine:!0}function cce(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uce=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,wu(n>e,"Short delay should be less than long delay!"),this.isMobile=wg()||E3()}return t.prototype.get=function(){return lce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dce(t,e){wu(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yL=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,hce=(Ce={},Ce.CREDENTIAL_MISMATCH="custom-token-mismatch",Ce.MISSING_CUSTOM_TOKEN="internal-error",Ce.INVALID_IDENTIFIER="invalid-email",Ce.MISSING_CONTINUE_URI="internal-error",Ce.INVALID_PASSWORD="wrong-password",Ce.MISSING_PASSWORD="missing-password",Ce.INVALID_LOGIN_CREDENTIALS="invalid-credential",Ce.EMAIL_EXISTS="email-already-in-use",Ce.PASSWORD_LOGIN_DISABLED="operation-not-allowed",Ce.INVALID_IDP_RESPONSE="invalid-credential",Ce.INVALID_PENDING_TOKEN="invalid-credential",Ce.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",Ce.MISSING_REQ_TYPE="internal-error",Ce.EMAIL_NOT_FOUND="user-not-found",Ce.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",Ce.EXPIRED_OOB_CODE="expired-action-code",Ce.INVALID_OOB_CODE="invalid-action-code",Ce.MISSING_OOB_CODE="internal-error",Ce.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",Ce.INVALID_ID_TOKEN="invalid-user-token",Ce.TOKEN_EXPIRED="user-token-expired",Ce.USER_NOT_FOUND="user-token-expired",Ce.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",Ce.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",Ce.INVALID_CODE="invalid-verification-code",Ce.INVALID_SESSION_INFO="invalid-verification-id",Ce.INVALID_TEMPORARY_PROOF="invalid-credential",Ce.MISSING_SESSION_INFO="missing-verification-id",Ce.SESSION_EXPIRED="code-expired",Ce.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",Ce.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",Ce.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",Ce.ADMIN_ONLY_OPERATION="admin-restricted-operation",Ce.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",Ce.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",Ce.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",Ce.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",Ce.SECOND_FACTOR_EXISTS="second-factor-already-in-use",Ce.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",Ce.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",Ce.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",Ce.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",Ce.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",Ce.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",Ce.MISSING_CLIENT_TYPE="missing-client-type",Ce.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",Ce.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",Ce.INVALID_REQ_TYPE="invalid-req-type",Ce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fce=new uce(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?qe(qe({},e),{tenantId:t.tenantId}):e}function zl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s=this;return X(this,function(o){return[2,_L(t,i,function(){return Y(s,void 0,void 0,function(){var a,l,c,u;return X(this,function(d){switch(d.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=uo(qe({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,yL.fetch()(wL(t,t.config.apiHost,n,c),qe({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function _L(t,e,n){return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,h;return X(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=qe(qe({},hce),e),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new mce(t),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Fd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fd(t,"user-disabled",o);if(d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw oce(t,d,u);return oo(t,d),[3,5];case 4:if(h=p.sent(),h instanceof ri)throw h;return oo(t,"network-request-failed",{message:String(h)}),[3,5];case 5:return[2]}})})}function Wl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s;return X(this,function(o){switch(o.label){case 0:return[4,zl(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&oo(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function wL(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?dce(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function pce(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var mce=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(vI(n.auth,"network-request-failed"))},fce.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Fd(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vI(t,e,r);return i.customData._tokenResponse=n,i}function r4(t){return t!==void 0&&t.enterprise!==void 0}var gce=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return pce(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function vce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,zl(t,"GET","/v2/recaptchaConfig",Ss(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,zl(t,"POST","/v1/accounts:delete",e)]})})}function _ce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,zl(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wce(t,e){return e===void 0&&(e=!1),Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:return n=at(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=_I(r),Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:dh(Xv(i.auth_time)),issuedAtTime:dh(Xv(i.iat)),expirationTime:dh(Xv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function Xv(t){return Number(t)*1e3}function _I(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return Ap("JWT malformed, contained fewer than 3 sections"),null;try{var s=Fh(r);return s?JSON.parse(s):(Ap("Failed to decode base64 JWT payload"),null)}catch(o){return Ap("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function xce(t){var e=_I(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof ri&&Ece(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function Ece(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ice=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){var e;return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u,d;return X(this,function(h){switch(h.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=h.sent(),[4,uf(t,_ce(n,{idToken:r}))];case 2:return i=h.sent(),Fe(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Tce(s.providerUserInfo):[],a=Cce(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xL(s.createdAt,s.lastLoginAt),isAnonymous:u},Object.assign(t,d),[2]}})})}function bce(t){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return e=at(t),[4,t2(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function Cce(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return zn(zn([],n,!0),e,!0)}function Tce(t){return t.map(function(e){var n=e.providerId,r=Fu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(t,e){return Y(this,void 0,void 0,function(){var n,r=this;return X(this,function(i){switch(i.label){case 0:return[4,_L(t,{},function(){return Y(r,void 0,void 0,function(){var s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:return s=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=wL(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,yL.fetch()(c,{method:"POST",headers:u,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function Rce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,zl(t,"POST","/v2/accounts:revokeToken",Ss(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i4=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xce(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return Fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return Y(this,void 0,void 0,function(){var r,i,s,o;return X(this,function(a){switch(a.label){case 0:return[4,Sce(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Ws("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Aw=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=Fu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ice(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?zn([],s.providerData,!0):[],this.metadata=new xL(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,uf(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),Fe(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return wce(this,e)},t.prototype.reload=function(){return bce(this)},t.prototype._assign=function(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return qe({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(qe(qe({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,t2(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,uf(this,yce(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return qe(qe({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return qe({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,l,c,u,d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,I=n.emailVerified,S=n.isAnonymous,E=n.providerData,C=n.stsTokenManager;Fe(_&&C,e,"internal-error");var b=i4.fromJSON(this.name,C);Fe(typeof _=="string",e,"internal-error"),wo(d,e.name),wo(h,e.name),Fe(typeof I=="boolean",e,"internal-error"),Fe(typeof S=="boolean",e,"internal-error"),wo(p,e.name),wo(m,e.name),wo(y,e.name),wo(x,e.name),wo(g,e.name),wo(w,e.name);var R=new t({uid:_,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:b,createdAt:g,lastLoginAt:w});return E&&Array.isArray(E)&&(R.providerData=E.map(function(T){return qe({},T)})),x&&(R._redirectEventId=x),R},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:return i=new i4,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,t2(s)];case 1:return o.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s4=new Map;function jo(t){wu(t instanceof Function,"Expected a class definition");var e=s4.get(t);return e?(wu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kce=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return Y(this,void 0,void 0,function(){return X(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),o4=kce;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var a4=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=Pp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Pp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?Aw._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),Y(this,void 0,void 0,function(){var i,s,o,a,l,c,u,d,h,p,m=this;return X(this,function(y){switch(y.label){case 0:return n.length?[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:return[4,x._isAvailable()];case 1:return g.sent()?[2,x]:[2,void 0]}})})}))]:[2,new t(jo(o4),e,r)];case 1:i=y.sent().filter(function(x){return x}),s=i[0]||jo(o4),o=Pp(r,e.config.apiKey,e.name),a=null,l=0,c=n,y.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],y.label=3;case 3:return y.trys.push([3,5,,6]),[4,u._get(o)];case 4:return d=y.sent(),d?(h=Aw._fromJSON(e,d),u!==s&&(a=h),s=u,[3,7]):[3,6];case 5:return y.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=i.filter(function(x){return x._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new t(s,e,r)]:(s=p[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:y.sent(),y.label=9;case 9:return[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:if(x===s)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,x._remove(o)];case 2:return g.sent(),[3,4];case 3:return g.sent(),[3,4];case 4:return[2]}})})}))];case 10:return y.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ace(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CL(e))return"Blackberry";if(TL(e))return"Webos";if(EL(e))return"Safari";if((e.includes("chrome/")||Pce(e))&&!e.includes("edge/"))return"Chrome";if(bL(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function Ace(t){return t===void 0&&(t=ot()),/firefox\//i.test(t)}function EL(t){t===void 0&&(t=ot());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pce(t){return t===void 0&&(t=ot()),/crios\//i.test(t)}function IL(t){return t===void 0&&(t=ot()),/iemobile/i.test(t)}function bL(t){return t===void 0&&(t=ot()),/android/i.test(t)}function CL(t){return t===void 0&&(t=ot()),/blackberry/i.test(t)}function TL(t){return t===void 0&&(t=ot()),/webos/i.test(t)}function SL(t){return t===void 0&&(t=ot()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nce(){return F6()&&document.documentMode===10}function Lce(t){return t===void 0&&(t=ot()),SL(t)||bL(t)||TL(t)||CL(t)||/windows phone/i.test(t)||IL(t)}function Mce(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=l4(ot());break;case"Worker":n="".concat(l4(ot()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Zi,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oce=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,i=this.queue,u.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:u.sent(),s.onAbort&&n.push(s.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(t,e){return e===void 0&&(e={}),Y(this,void 0,void 0,function(){return X(this,function(n){return[2,zl(t,"GET","/v2/passwordPolicy",Ss(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ce=6,jce=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$ce,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fce=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c4(this),this.idTokenSubscription=new c4(this),this.beforeStateQueue=new Oce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=jo(n)),this._initializationPromise=this.queue(function(){return Y(r,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,a4.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),i=r,s=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0),u.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return Fe(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t2(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=cce()},t.prototype._delete=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=e?at(e):null,n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r=this;return X(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return Y(r,void 0,void 0,function(){return X(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(jo(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){switch(r.label){case 0:return[4,Dce(this)];case 1:return e=r.sent(),n=new jce(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new ga("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return Y(this,void 0,void 0,function(){var n,r;return X(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,Rce(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&jo(e)||this._popupRedirectResolver,Fe(n,this,"argument-error"),r=this,[4,a4.create(this,[jo(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return Y(this,void 0,void 0,function(){var i=this;return X(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return Y(i,void 0,void 0,function(){return X(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return Y(this,void 0,void 0,function(){var n=this;return X(this,function(r){return e===this.currentUser?[2,this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(function(){a||o(s.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,i);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RL(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return Y(this,void 0,void 0,function(){var n,r,i,s;return X(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&sce("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function kL(t){return at(t)}var c4=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=W6(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL={loadJS:function(){return Y(this,void 0,void 0,function(){return X(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vce(t){return AL.loadJS(t)}function Uce(){return AL.recaptchaEnterpriseScript}var Bce="recaptcha-enterprise",zce="NO_RECAPTCHA",Wce=function(){function t(e){this.type=Bce,this.auth=kL(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),Y(this,void 0,void 0,function(){function r(o){return Y(this,void 0,void 0,function(){var a=this;return X(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return Y(a,void 0,void 0,function(){return X(this,function(d){return vce(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(h){if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new gce(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(h){u(h)}),[2]})})})]})})}function i(o,a,l){var c=window.grecaptcha;r4(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(zce)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return X(this,function(o){return[2,new Promise(function(a,l){r(s.auth).then(function(c){if(!n&&r4(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=Uce();u.length!==0&&(u+=c),Vce(u).then(function(){i(c,a,l)}).catch(function(d){l(d)})}}).catch(function(c){l(c)})})]})})},t}();function u4(t,e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:i=new Wce(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=qe({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function d4(t,e,n,r){var i;return Y(this,void 0,void 0,function(){var s,o=this;return X(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,u4(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(l){return Y(o,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,u4(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function Hce(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r0=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Ws("not implemented")},t.prototype._getIdTokenResponse=function(e){return Ws("not implemented")},t.prototype._linkToIdToken=function(e,n){return Ws("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Ws("not implemented")},t}();function qce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,zl(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))]})})}function Qce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h4=function(t){Ft(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,d4(n,r,"signInWithPassword",Gce)];case"emailLink":return[2,Kce(n,{email:this._email,oobCode:this._password})];default:oo(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,d4(n,i,"signUpPassword",qce)];case"emailLink":return[2,Qce(n,{idToken:r,email:this._email,oobCode:this._password})];default:oo(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yce="http://localhost",xu=function(t){Ft(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):oo("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=Fu(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ks(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ks(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ks(n,r)},e.prototype.buildRequest=function(){var n={requestUri:Yce,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=uo(r)}return n},e}(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jv;function Xce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Wl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ss(t,e))]})})}function Jce(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,Wl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ss(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Fd(t,"account-exists-with-different-credential",n);return[2,n]}})})}var Zce=(Jv={},Jv.USER_NOT_FOUND="user-not-found",Jv);function eue(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=qe(qe({},e),{operation:"REAUTH"}),[2,Wl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ss(t,n),Zce)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return Xce(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return Jce(n,qe({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return eue(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nue(t){var e=ls(cs(t)).link,n=e?ls(cs(e)).deep_link_id:null,r=ls(cs(t)).deep_link_id,i=r?ls(cs(r)).link:null;return i||r||n||e||t}var rue=function(){function t(e){var n,r,i,s,o,a,l=ls(cs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=tue((i=l.mode)!==null&&i!==void 0?i:null);Fe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=nue(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iue=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return h4._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=rue.parseLink(n);return Fe(r,"argument-error"),h4._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PL=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i0=function(t){Ft(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return zn([],this.scopes,!0)},e}(PL);(function(t){Ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return Fe("providerId"in r&&"signInMethod"in r,"argument-error"),xu._fromParams(r)},e.prototype.credential=function(n){return this._credential(qe(qe({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return Fe(n.idToken||n.accessToken,"argument-error"),xu._fromParams(qe(qe({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,l=i.pendingToken,c=i.nonce,u=i.providerId;if(!o&&!a&&!s&&!l||!u)return null;try{return new e(u)._credential({idToken:s,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(i0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(i0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(i0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(i0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sue="http://localhost",f4=function(t){Ft(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ks(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ks(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ks(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:sue,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(r0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oue="saml.";(function(t){Ft(e,t);function e(n){return Fe(n.startsWith(oue),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=f4.fromJSON(n);return Fe(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return f4._create(o,s)}catch{return null}},e})(PL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return xu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(i0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wI=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),Y(this,void 0,void 0,function(){var s,o,a;return X(this,function(l){switch(l.label){case 0:return[4,Aw._fromIdTokenResponse(e,r,i)];case 1:return s=l.sent(),o=p4(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=p4(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function p4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aue=function(t){Ft(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(ri);function NL(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?aue._fromErrorAndOperation(t,s,e,r):s})}function lue(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:return i=uf,s=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,wI._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cue(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:r=t.auth,i="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,uf(t,NL(r,i,e,t),n)];case 2:return s=c.sent(),Fe(s.idToken,r,"internal-error"),o=_I(s.idToken),Fe(o,r,"internal-error"),a=o.sub,Fe(t.uid===a,r,"user-mismatch"),[2,wI._forOperation(t,i,s)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&oo(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s;return X(this,function(o){switch(o.label){case 0:return r="signIn",[4,NL(t,r,e)];case 1:return i=o.sent(),[4,wI._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LL=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?due._fromServerResponse(e,n):"totpInfo"in n?hue._fromServerResponse(e,n):oo(e,"internal-error")},t}(),due=function(t){Ft(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(LL),hue=function(t){Ft(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(LL),xI=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),ML=function(t){Ft(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(xI);(function(t){Ft(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(xI);(function(t){Ft(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(ML);(function(t){Ft(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(xI);(function(t){Ft(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(ML);var m4="@firebase/auth",g4="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fue=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mue(t){Is(new Ki("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,l=a.apiKey,c=a.authDomain;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RL(t)},d=new Fce(i,s,o,u);return Hce(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),Is(new Ki("auth-internal",function(e){var n=kL(e.getProvider("auth").getImmediate());return function(r){return new fue(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(m4,g4,pue(t)),Or(m4,g4,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(t4,"1"),this.storage.removeItem(t4),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(){var t=ot();return EL(t)||SL(t)}var vue=1e3,yue=10;(function(t){Ft(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=gue()&&Mce(),n.fallbackToPolling=Lce(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,d){i.notifyListeners(c,d)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(s);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var a=function(){var c=i.storage.getItem(s);!r&&i.localCache[s]===c||i.notifyListeners(s,c)},l=this.storage.getItem(s);Nce()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,yue):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},vue)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return Y(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(OL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(OL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EI=function(t){Ft(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Ks(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Ks(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Ks(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(r0);function _ue(t){return uue(t.auth,new EI(t),t.bypassAuthState)}function wue(t){var e=t.auth,n=t.user;return Fe(n,e,"internal-error"),cue(n,new EI(t),t.bypassAuthState)}function xue(t){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){return e=t.auth,n=t.user,Fe(n,e,"internal-error"),[2,lue(n,new EI(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eue=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return Y(e,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},d.label=1;case 1:return d.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[d.sent()]),[3,4];case 3:return u=d.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _ue;case"linkViaPopup":case"linkViaRedirect":return xue;case"reauthViaPopup":case"reauthViaRedirect":return wue;default:oo(this.auth,"internal-error")}},t.prototype.resolve=function(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iue="pendingRedirect",Zv=new Map;(function(t){Ft(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:if(n=Zv.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,bue(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:Zv.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||Zv.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(Eue);function bue(t,e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return n=Tue(e),r=Cue(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function Cue(t){return jo(t._redirectPersistence)}function Tue(t){return Pp(Iue,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sue=10*60*1e3,Rue=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kue(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!DL(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vI(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=Sue&&this.cachedEventUids.clear(),this.cachedEventUids.has(v4(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(v4(e)),this.lastProcessedEventTime=Date.now()},t}();function v4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function DL(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function kue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DL(t);default:return!1}}(function(t){Ft(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(Rue);mue("Cordova");const Aue=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{const{userData:r,userId:i}=v.useContext(Z),[s,o]=v.useState(""),[a,l]=v.useState(""),c=async()=>{const h=Ms.currentUser;try{if(h)await MC(h,a),await Rw(()=>Un(ge(ye,"users",i),{password:a})),n("Your password is changed successfully!"),e(!1);else{n("Try again later...");return}}catch(p){p.code==="auth/requires-recent-login"?u(h):n(p.message)}},u=async h=>{try{const p=iue.credential(h.email,a);await DJ(h,p),await MC(h,a),await Rw(()=>Un(ge(ye,"users",i),{password:a})),n("Password updated successfully after re-authentication."),e(!1)}catch(p){n(`Re-authentication failed: ${p.message}`)}},d=()=>{try{r?r.password===s?c():(n("Your old password is wrong!"),console.log("wrong")):n("Network error")}catch(h){n(h.message)}};return f.jsx(Ji,{open:t,onClose:()=>e(!1),children:f.jsxs(Le,{m:2,children:[f.jsx(jt,{variant:"h6",mb:2,children:"Change your account password"}),f.jsxs(Qr,{gap:2,children:[f.jsx(di,{type:"password",size:"small",label:"Enter old password",value:s,onChange:h=>o(h.target.value)}),f.jsx(di,{type:"password",size:"small",label:"Enter new password",value:a,onChange:h=>l(h.target.value)})]}),f.jsx(Ve,{size:"small",onClick:d,variant:"outlined",sx:{mt:1},children:"Change"})]})})},Pue=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=v.useContext(Z),[r,i]=v.useState(!1),s=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return f.jsx(Ji,{open:t,onClose:()=>e(!1),children:f.jsxs(Le,{m:3,children:[f.jsx(jt,{variant:"h6",mb:2,children:"Your account password"}),f.jsxs(Qr,{gap:2,children:[f.jsx(jt,{children:r?s():"*************"}),f.jsx(Ve,{onClick:()=>i(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},Nue=()=>{var $;const{userData:t,theme:e,setHeaderTitle:n,setIsLogIn:r,setSnackbarOpen:i,setSnackbarMessage:s}=v.useContext(Z),[o,a]=v.useState(t.name||""),[l,c]=v.useState((t==null?void 0:t.gender)||""),[u,d]=v.useState(null),[h,p]=v.useState(!1),[m,y]=v.useState(!1),x=v.useRef(null),g=ge(ye,"users",gi.get("userId")),w=(t==null?void 0:t.nameChangeCount)||0,_=($=t==null?void 0:t.lastNameChangeDate)==null?void 0:$.toDate(),I=new Date,S=I.getMonth()===(_==null?void 0:_.getMonth())&&I.getFullYear()===(_==null?void 0:_.getFullYear()),[E,C]=v.useState(!1),[b,R]=v.useState(!1),T=Pn(),k=F=>{i(!0),s(F)};b1(x,p);const N=()=>(t==null?void 0:t.gender)!==l;v.useEffect(()=>{n("Settings")},[]),v.useEffect(()=>{(async()=>{!S&&(t!=null&&t.name)&&await Un(g,{nameChangeCount:0,lastNameChangeDate:I})})()},[t]);const M=async(F,q)=>{if(o.trim())try{await Un(g,F),k(q)}catch(W){k(W.message)}},L=()=>{const F=new Date;if(S)if(w<3){const q={name:o.trim(),nameChangeCount:w+1,lastNameChangeDate:F};M(q,"Updated name successfully!")}else k("You can only change your name 3 times per month!");else{const q={name:o.trim(),nameChangeCount:1,lastNameChangeDate:F};M(q,"Updated name successfully!")}};v.useEffect(()=>{a(t.name),c(t==null?void 0:t.gender)},[t]);const j=async()=>{const F=await gn(u,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),q=$o(Qa,`profile/${t.uid}/${t.name}-${u.name}`);try{const W=ge(ye,"users",t.uid);k("Uploading image...");const z=await of(q,F),V={image:await af(z.ref)};await Un(W,V),d(null),k("Updated profile picture successfully!")}catch(W){k(W.message)}},P=async()=>{await Un(g,{gender:l}),i(!0),k("Updated gender successfully!")},A=()=>{i(!0),u&&j(),o.trim()!==t.name&&L(),N()&&P()},O=async()=>{try{await wP(Ms),r(!1),gi.remove("userId"),T("/login")}catch(F){console.log(F.message)}};return f.jsxs("div",{className:"Settings m-2",children:[E&&f.jsx(Aue,{openChangePassword:E,setOpenChangePassword:C,openMessage:k}),b&&f.jsx(Pue,{openViewPassword:b,setOpenViewPassword:R}),f.jsx(so,{data:{value:m,yesButton:O,noButton:()=>{y(!1)},text:"Are you sure to log out ?",setValue:y}}),f.jsx(Ir,{}),f.jsxs(Le,{className:"",children:[f.jsx(jt,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),f.jsxs(Le,{className:"border border-slate-300 rounded-md shadow-lg",children:[f.jsxs(Le,{className:"p-2 flex flex-col items-center",children:[f.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[f.jsx(ii,{className:"hover:opacity-70 cursor-pointer",name:t.name||o||"User",image:u?URL.createObjectURL(u):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:F=>d(F.target.files[0])})]}),f.jsxs("div",{ref:x,className:"flex mt-2 gap-x-2 items-center",children:[!h&&f.jsx(jt,{className:"font-bold",children:o||t.name||"Username"}),h&&f.jsx(di,{size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:o,onChange:F=>a(F.target.value),className:`pl-1 pr-1 w-auto font-bold ${e==="light"?"outline-none bg-slate-200/60":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx(Rn,{size:"small",onClick:()=>{p(!h)},className:" p-1  cursor-pointer ",children:f.jsx("img",{className:"w-5",src:Ne("edit")})})]}),f.jsx(jt,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:t.email||"example@gmail.com"}),f.jsxs(jt,{sx:{fontSize:"0.8rem"},className:"text-slate-500",children:["User ID: ",t.uid||"user12345"," ",f.jsx(Rn,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),k("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:f.jsx(Hn,{size:"size-5",name:"clipboard"})})]}),f.jsx(Ve,{onClick:()=>y(!0),sx:{mt:2},variant:"outlined",children:"Log Out"})]}),f.jsx(Le,{className:"p-2 flex justify-center border-t border-slate-200",children:f.jsxs(Qr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[f.jsx(jt,{variant:"subtitle1",children:"Gender"}),f.jsx(rce,{label:"Gender",gender:l,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:c})]})}),f.jsx(Le,{className:"p-2 flex justify-center border-t border-b border-slate-200",children:f.jsxs(Qr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[f.jsx(jt,{variant:"subtitle1",children:"Password"}),f.jsxs(Qr,{direction:"row",children:[f.jsx(Ve,{size:"small",sx:{textDecoration:"underline"},className:" text-blue",onClick:()=>R(!0),variant:"text",children:"View"}),f.jsx(Ve,{size:"small",sx:{textDecoration:"underline"},className:" text-blue",onClick:()=>C(!0),variant:"text",children:"Change"})]})]})}),f.jsx("div",{className:`grid gap-y-2 p-2  ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:f.jsx("div",{children:(t==null?void 0:t.name)&&f.jsxs("p",{className:"text-red-600 font-bold text-sm mb-1",children:["You have changed your name ",`${w} / 3`," ",w>1?"times":"time"," this month!"]})})})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:N()||u||(o==null?void 0:o.trim())!==t.name?f.jsx(Ve,{variant:"outlined",onClick:A,startIcon:f.jsx("img",{className:"size-7",src:Ne("save")}),children:"Update"}):""})]})},y4=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:i}=t,{theme:s}=v.useContext(Z);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${s==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:i})]})},Lue=({data:t})=>{const{close:e}=t,{theme:n,userId:r}=v.useContext(Z),[i,s]=v.useState(""),[o,a]=v.useState(""),l=i.trim(),c=Se(ye,"tests"),u=async p=>{try{await la(c,p)}catch(m){console.log(m.message)}},d=()=>{const p={uid:r,isUploaded:!1,name:i,description:o,quizzes:[],gradingRules:[],time:ir()};u(p),e()},h=()=>{l&&d()};return v.useEffect(()=>(Al("hidden"),()=>{Al("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(y4,{data:{text:"Name",onChangeFn:p=>s(p.target.value),value:i,placeholder:"Type test name here"}}),f.jsx(y4,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(Bi,{data:{clickFn:h,text:"Save",image:"save"}}),f.jsx(Bi,{data:{clickFn:e,text:"Cancel"}})]})]})})},Mue=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:i}=v.useContext(Z),[s,o]=v.useState(!1),a=v.useRef(null);b1(a,o);const l=()=>{o(!s)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${i==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:Ne(s?"up":"down")})]}),s&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${i==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${i==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},No=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:i}=t,{theme:s}=v.useContext(Z);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${s==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:i})]})},Oue=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:i,clearEditData:s}=t,{theme:o}=v.useContext(Z),[a,l]=v.useState(i?i.question:""),[c,u]=v.useState(i?i.choices[0]:""),[d,h]=v.useState(i?i.choices[1]:""),[p,m]=v.useState(i?i.choices[2]:""),[y,x]=v.useState(i?i.choices[3]:""),[g,w]=v.useState(i?i.answer:"");let _=[];const I=c.trim()&&d.trim()&&p.trim()&&y.trim(),S=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&g.trim();I&&(_=[c,d,p,y]);const E=(N,M)=>{N.toLowerCase()==="question"?l(M.target.value):w(M.target.value)},C=()=>{let N,M;S&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:g},M=[...n,N],r(M),uh(),e())},b=()=>{const N=i.id,M={id:N,question:a,choices:_,answer:g},L=n.map(j=>N===j.id?M:j);r(L),e(),s()},R=(N,M)=>{N.toLowerCase()==="choice 1"?u(M.target.value):N.toLowerCase()==="choice 2"?h(M.target.value):N.toLowerCase()==="choice 3"?m(M.target.value):x(M.target.value)},T=()=>{i?b():C()},k=()=>{e(),s()};return v.useEffect(()=>(Al("hidden"),()=>{Al("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:i?i.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(No,{data:{handleFn:E,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(No,{data:{handleFn:R,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(No,{data:{handleFn:R,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(No,{data:{handleFn:R,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(No,{data:{handleFn:R,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(Mue,{data:{options:_,value:g,setValue:w}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Bi,{data:{clickFn:T,text:"Save",image:"save"}}),f.jsx(Bi,{data:{clickFn:k,text:"Cancel"}})]})]})})},Due=({data:t})=>{const{theme:e}=v.useContext(Z),{testName:n,numbers:r,changePage:i}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(_n,{data:{clickFn:()=>i("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:[" • "," ",r," ",r>1?"questions":"question"]})]})]})})},$ue=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:i,changePage:s}=t,{theme:o}=v.useContext(Z);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(_n,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(_n,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(_n,{data:{clickFn:i,image:"add"}})})]})},jue=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:i}=t,{theme:s}=v.useContext(Z),{gradingRules:o}=e,[a,l]=v.useState(null),c=m=>{const y=o.filter(g=>g.id!==m),x={...e,gradingRules:y};n(x)},u=m=>{l(m)},d=m=>{i(m),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${s==="light"?"":"text-white"}`,children:"Grading Rules"}),f.jsx(so,{data:{value:a,setValue:l,yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((m,y)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${s==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(ey,{data:{text:"From",value:m.from}}),f.jsx(ey,{data:{text:"To",value:m.to}}),f.jsx(ey,{data:{text:"Level",value:m.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(_n,{data:{clickFn:()=>d(m),image:"edit"}}),f.jsx(_n,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${y}-${m.from}-${m.to}-${m.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(_n,{data:{clickFn:()=>r(!0),image:"add"}})})]})},ey=({data:t})=>{const{text:e,value:n}=t,{theme:r}=v.useContext(Z);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?ba(n,15):n})]})},Fue=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:i,setIsRulesAdding:s}=t,{theme:o}=v.useContext(Z),{gradingRules:a}=e,[l,c]=v.useState(r?r.from:null),[u,d]=v.useState(r?r.to:null),[h,p]=v.useState(r?r.level:""),m=l&&u&&h.trim(),y=()=>{const I={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},S={...e,gradingRules:[...a,I]};n(S)},x=()=>{const I=r.id,S={id:I,from:Number(l),to:Number(u),level:h},E=a.map(b=>I===b.id?S:b),C={...e,gradingRules:E};n(C)},g=()=>{s(!1),i(null)},w=()=>{m&&(r?x():y(),g())},_=(I,S)=>{const E=S.target.value;I.toLowerCase()==="from"?c(E):I.toLowerCase()==="to"?d(E):p(E)};return v.useEffect(()=>(Al("hidden"),()=>{Al("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(No,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(No,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(No,{data:{handleFn:_,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Bi,{data:{clickFn:w,text:"Save",image:"save"}}),f.jsx(Bi,{data:{clickFn:g,text:"Cancel"}})]})]})})},_4=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:i}=v.useContext(Z),{description:s,name:o}=e,[a,l]=v.useState(r==="Description"?s:o),[c,u]=v.useState(!1),d=y=>{l(y.target.value)},h=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{h(),u(!1)},m=()=>{u(!1),l(r==="Description"?s:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${i==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${i==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(_n,{data:{clickFn:p,image:"save"}}),f.jsx(_n,{data:{clickFn:m,image:"falseIcon"}})]}):f.jsx(_n,{data:{clickFn:()=>u(!0),image:"edit"}})]})},Vue=({data:t})=>{const{setHeaderTitle:e}=v.useContext(Z),{setPage:n,currentTest:r,setCurrentTest:i}=t,[s,o]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState(r.quizzes),[d,h]=v.useState(null),[p,m]=v.useState(null);v.useEffect(()=>{e(r.name)});const y=async(N,M)=>{try{const L=ge(ye,"tests",N);await Un(L,M)}catch(L){console.log(L.message)}};v.useEffect(()=>{x()},[r,c]);const x=()=>{y(r.id,{...r,quizzes:c})},g=()=>{o(!0)},w=()=>{o(!1),m(null)},_=N=>{m(N)},I=()=>{C(p),m(null)},S=()=>{m(null)},E=N=>{n(N)},C=N=>{const M=c.filter(L=>L.id!==N);u(M)},b=(N,M)=>{const L={...N,number:M+1};h(L),g()},R=()=>{h(null)},T={testName:r.name,numbers:c.length,changePage:E},k={quizzes:c,editQuestion:b,askToDelete:_,add:g};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(Due,{data:T}),f.jsx(Ac,{}),f.jsx(_4,{data:{title:"Test Name",currentTest:r,setCurrentTest:i}}),f.jsx(_4,{data:{title:"Description",currentTest:r,setCurrentTest:i}}),f.jsx(Ac,{}),f.jsx(jue,{data:{currentTest:r,setEditData:h,setCurrentTest:i,setIsRulesAdding:l}}),f.jsx(Ac,{}),f.jsx($ue,{data:k}),s&&f.jsx(Oue,{data:{cancel:w,setQuizzes:u,quizzes:c,editData:d,clearEditData:R}}),a&&f.jsx(Fue,{data:{currentTest:r,setCurrentTest:i,editData:d,setEditData:h,setIsRulesAdding:l}}),f.jsx(so,{data:{value:p,setValue:m,yesButton:I,noButton:S,text:"Are you sure to delete ?"}}),f.jsx(Ac,{})]})},II=({text:t,length:e})=>{const n=Pn(),{theme:r}=v.useContext(Z);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(Rn,{onClick:()=>n("/app/admin"),children:f.jsx("img",{className:"size-7",src:Ne("back")})}),f.jsxs("p",{children:[t," (",e,")"]})]})},$L=({options:t,handleClick:e,message:n,chatId:r,isComment:i,messageOption:s,setMessageOption:o,isOpened:a})=>{const{userId:l}=v.useContext(Z),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async h=>{const p=ge(Se(ge(Se(ge(ye,"chats",r),"messages"),n.id),"reactedBy"),l);await rl(p,{uid:l,reactionType:h})},d=()=>i?a:!!s;return f.jsx(Ji,{open:d,onClose:e,children:f.jsxs("div",{className:"m-5 md:w-[450px] lg:w-[500px] ",children:[i?f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):f.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(h=>f.jsx(Rn,{onClick:()=>{e(),u(h.name)},children:f.jsx("img",{className:"w-6",src:Ne(h.image)})},h.name))}),f.jsx("div",{className:"grid gap-y-1",children:t.map(h=>{if(h)return f.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{h.onClick(),e()},children:[f.jsx("img",{className:"w-6",src:Ne(h.icon)}),f.jsx("p",{children:h.text})]},h.text)})})]})})},bI=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:i})=>{const[s,o]=v.useState(!1),a=v.useRef(null);return b1(a,o),f.jsxs(f.Fragment,{children:[f.jsx(Rn,{onClick:()=>o(!0),children:f.jsx("img",{className:"w-6",src:Ne("moreOption")})}),s&&f.jsx($L,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:i,isOpened:s})]})},Uue=()=>{const[t,e]=v.useState("test"),{theme:n,tests:r,setTests:i,setHeaderTitle:s}=v.useContext(Z),[o,a]=v.useState({}),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[h,p]=v.useState(null),m=Se(ye,"tests"),[y,x]=v.useState(!0),[g,w]=v.useState(!1),[_,I]=v.useState(null);Bl(m,[],i,x,w,!1,I),v.useEffect(()=>{s("Admin - Tests")},[t]),v.useEffect(()=>(Hi(),Hi()),[]);const S=L=>{a(L),e("editTest")},E=L=>{p(L),d(!0)},C=async L=>{const j=ge(ye,"tests",L.id);await Un(j,{isUploaded:!L.isUploaded})},b=()=>{N(h),p(null),d(!1)},R=()=>{d(!1)},T=()=>{c(!0)},k=()=>{c(!1)},N=async L=>{try{const j=ge(ye,"tests",L);await Jo(j)}catch(j){console.log(j.message)}};return y?f.jsx(Ir,{text:"Loading posts..."}):g?f.jsx(wn,{text:"There are no for now"}):_?f.jsx(wn,{text:_}):(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(II,{text:"Tests",length:r.length})}),l&&f.jsx(Lue,{data:{close:k}}),f.jsx(so,{data:{value:u,setValue:d,yesButton:b,noButton:R,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid border border-slate-200 shadow-md rounded-md overflow-hidden",children:r.map((L,j)=>f.jsxs("div",{onClick:()=>{S(L)},className:`cursor-pointer hover:bg-slate-100 ${j===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px] ${n==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:L.isUploaded,onChange:()=>C(L),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:L.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[L.quizzes.length,L.quizzes.length>1?" questions":" question",L.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(bI,{isComment:!0,options:[{text:"Delete",icon:"deleteIcon",onClick:()=>E(L.id)}]})})]},` tests-${L.id}`))}),f.jsx("div",{children:f.jsx(Ve,{variant:"outlined",startIcon:f.jsx(Hn,{name:"add"}),onClick:T,children:"New test"})})]});case"editTest":return f.jsx(Vue,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}})()},Bue=["January","February","March","April","May","June","July","August","September","October","November","December"];function Hl(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=`${Bue[h]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(s>0)return`${s} ${s===1?"hour":"hours"} ago`;if(i>0)return`${i} ${i===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}function Pi(t,e,n="timestamp",r="older"){var o,a;const i=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),s=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?i-s:s-i}const zue=["January","February","March","April","May","June","July","August","September","October","November","December"],Wue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function n2(t){const e=new Date().getTime(),n=new Date,r=e-t,i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),h=d.getFullYear(),p=d.getMonth(),m=d.getDate(),y=Wue[d.getDay()],g=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,w=zue[p],_=`${w} ${m}, ${h}`,I=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${I} • ${_}`;if(c>0)return`${I} • ${w} ${m}`;if(l>0)return`${y}, ${I} • ${w} ${m}`;if(a>0)return`${g?"Yesterday":y}, ${I}`;if(o>0)return`${g?"Yesterday, ":""}${I}`;if(s>0)return I;if(i>0)return I}function jr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Hue=({password:t})=>{const[e,n]=v.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},que=()=>{const{setUserData:t,users:e,theme:n,setHeaderTitle:r,userId:i,setUsers:s}=v.useContext(Z),o=Se(ye,"users"),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,h]=v.useState(null);v.useEffect(()=>(Hi(),Hi()),[]),v.useEffect(()=>{r("Admin - Users")},[]);const p=Pn(),m=x=>{t(x),p("/app")},y=async x=>{const g=ge(ye,"users",x.uid);await Un(g,{isAdmin:!x.isAdmin})};return Bl(o,[],s,l,u,!0,h),a?f.jsx(Ir,{isLoading:a,text:"Loading users..."}):c?f.jsx(wn,{text:"No users available"}):d?f.jsx(wn,{text:d}):f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(II,{text:"Users",length:e==null?void 0:e.length}),f.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:e.sort((x,g)=>Pi(x,g,"createdAt","older")).map((x,g)=>f.jsxs("div",{className:` hover:border-slate-200 ${g===0&&"border-t-0"} border-t p-2   ${n==="light"?`hover:bg-slate-50 ${i===x.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${i===x.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(ii,{image:x.image,name:x.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[x.name," ",f.jsxs("span",{className:`${x!=null&&x.isAdmin?"text-blue-500":"text-white"}`,children:["(",x!=null&&x.isAdmin?"admin":"user",")"," ",i===x.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:x.email}),f.jsxs("div",{className:"text-md",children:["Created: ",n2(jr(x.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",x.uid]}),f.jsx(Hue,{password:x.password})]})]}),i!==x.uid&&f.jsx(Rn,{onClick:()=>m(x),children:f.jsx(Hn,{name:"review"})})]}),i!==x.uid&&f.jsx(Ve,{onClick:()=>y(x),size:"small",startIcon:f.jsx(Hn,{name:"admin"}),children:x.isAdmin?"Remove from admin":"Set as admin"})]},x.uid))})]})},Gue=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:i}=t,[s,o]=v.useState(""),[a,l]=v.useState(""),c=s.trim()&&a.trim(),u=()=>{if(c){const d={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:a.trim()},h=[...e,d];n(h),r(!1)}};return f.jsx(Ji,{open:i,onClose:()=>r(!1),children:f.jsxs(Le,{m:4,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(di,{size:"small",value:s,onChange:d=>o(d.target.value),placeholder:"Enter title..."}),f.jsx(di,{size:"small",value:a,onChange:d=>l(d.target.value),placeholder:"Enter link..."})]}),f.jsx("div",{className:"mt-2",children:f.jsx(Ve,{variant:"outlined",startIcon:f.jsx("img",{src:Ne("add"),className:"size-7"}),onClick:u,children:"Add Link"})})]})})},Kue=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:i,setHeaderTitle:s,userId:o}=v.useContext(Z),a=Se(ye,"posts"),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[h,p]=v.useState(null),[m,y]=v.useState("posts"),[x,g]=v.useState(null),[w,_]=v.useState(!1);v.useEffect(()=>{s("Admin - Posts")},[]),Bl(a,[],i,c,d,!1,p);const I=async()=>{const E=ge(ye,"posts",w);await Jo(E)};if(l)return f.jsx(Ir,{text:"Loading posts..."});if(u)return f.jsx(wn,{text:"No posts available"});if(h)return f.jsx(wn,{text:h});const S=()=>{switch(m){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(so,{data:{yesButton:I,noButton:()=>_(!1),text:"Are you sure to delete this post?",setValue:_,value:w}}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(II,{text:"Posts",length:r.length}),f.jsx(Ve,{onClick:()=>y("createPost"),children:"Create a post"})]}),f.jsx("div",{className:"grid border shadow-md rounded-md border-slate-200 mb-2",children:r.sort((E,C)=>Pi(E,C,"time","newer")).map((E,C)=>{var b,R,T;return t.forEach(k=>{k.uid,E.uid}),f.jsxs(Le,{className:`${C===0&&"border-t-0"} overflow-hidden hover:bg-slate-100 cursor-pointer p-2 border-t   min-h-20 flex items-center  ${e==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Que,{post:E}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:ba(E.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[E.images.length!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(Hn,{name:"image"}),f.jsxs("span",{children:[E.images.length," ",E.images.length<=1?"image":"images"]})]}),E.files.length!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(Hn,{name:"file"}),f.jsxs("span",{children:[E.files.length," ",E.files.length<=1?"file":"files"]})]}),E.links&&((b=E==null?void 0:E.links)==null?void 0:b.length)!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(Hn,{name:"link"}),f.jsxs("span",{children:[(R=E==null?void 0:E.links)==null?void 0:R.length," ",((T=E==null?void 0:E.links)==null?void 0:T.length)<=1?"link":"links"]})]}),E.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(bI,{isComment:!0,options:[{text:"Edit",icon:"editPencil",onClick:()=>{g(E),y("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>_(E.id)}]})})]},`post-${E.id}`)})})]});case"createPost":return f.jsx(Yue,{setPage:y,postData:x,setPostData:g})}};return f.jsx("div",{className:"m-5",children:S()})},Que=({post:t})=>{const{users:e,theme:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t.uid,e,i,o),s?f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]}):f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:r==null?void 0:r.name}),f.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:Hl(jr(t.time))})]})]})},Yue=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=v.useContext(Z),[i,s]=v.useState(e?e.images:[]),[o,a]=v.useState(null),[l,c]=v.useState(e?e.description:""),[u,d]=v.useState(e?e==null?void 0:e.files:[]),[h,p]=v.useState(e?(e==null?void 0:e.links)||[]:[]),[m,y]=v.useState(!1),x=l.trim()||i.length!==0||u.length!==0||h.length!==0,g=async(T=!1)=>{try{const k=Se(ye,"posts");await la(k,{uid:userId,time:ir(),editedTime:ir(),description:l,images:i,files:u,links:h,draft:T}),t("posts")}catch(k){console.log(k.message)}},w=async()=>{try{const T=ge(ye,"posts",e.id);await Un(T,{editedTime:ir(),description:l,images:i,files:u,links:h,draft:!1}),t("posts")}catch(T){console.log(T.message)}},_=async()=>{try{if(e){const T=ge(ye,"posts",e.id);await Un(T,{editedTime:ir(),description:l,images:i,files:u,links:h,draft:!0})}else g(!0);t("posts")}catch(T){console.log(T.message)}},I=async T=>{try{const k=await gn(T,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${userId}/${T.name}`,M=$o(Qa,N);a("Uploading image...");const L=await of(M,k),j=await af(L.ref),P=[...i,{name:T.name,path:N,imageURL:j}];s(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(k){a(k.message),setTimeout(()=>{a(null)},3e3)}},S=async T=>{try{const k=`posts/${userId}/${T.name}`,N=$o(Qa,k);a("Uploading file...");const M=await of(N,T),L=await af(M.ref),j=[...u,{name:T.name,path:k,fileURL:L,size:T.size}];d(j),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(k){a(k.message),setTimeout(()=>{a(null)},3e3)}},E=async(T,k)=>{const N=i.filter(L=>k!==L.imageURL);s(N);const M=$o(Qa,T);await pw(M)},C=async(T,k)=>{const N=u.filter(L=>k!==L.fileURL);d(N);const M=$o(Qa,T);await pw(M)},b=T=>{const k=h.filter(N=>T!==N.id);p(k)},R=T=>{document.getElementById(T).click()};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(qle,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(Rn,{onClick:()=>{t("posts"),n(null)},children:f.jsx("img",{className:"size-7",src:Ne("back")})}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(Ve,{onClick:()=>{x&&_()},children:"Draft"}),f.jsx(Ve,{onClick:()=>{x?(e?w():g(),n(null)):a("Create a post first!")},startIcon:f.jsx("img",{className:"size-7",src:Ne(e?"save":"upload")}),children:e?"Save":"Publish"})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:T=>c(T.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-300  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:T=>I(T.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:T=>S(T.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsx(Ve,{onClick:()=>R("imagesInput"),variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Ne("image")}),children:"Image"}),f.jsx(Ve,{onClick:()=>R("filesInput"),variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Ne("file")}),children:"File"}),f.jsx(Ve,{onClick:()=>{y(!0)},variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Ne("link")}),children:"Link"}),f.jsx(Gue,{data:{links:h,setLinks:p,setIsLinkAdding:y,isLinkAdding:m}})]})]}),i.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:i.map(T=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:T.name,className:"size-full",src:T.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(_n,{data:{clickFn:()=>E(T.path,T.imageURL),image:"falseIcon"}})})]},T.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(T=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:Ne("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:T.name}),(T==null?void 0:T.size)&&f.jsxs("p",{children:[(T.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(_n,{data:{clickFn:()=>C(T.path,T.fileURL),image:"falseIcon"}})})]},T.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(T=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:Ne("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:T.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(_n,{data:{image:"falseIcon",clickFn:()=>b(T.id)}})})]},T.link))})]})},Xue=()=>f.jsxs("div",{className:"flex gap-x-2 shadow-md rounded-md p-2 items-center",children:[f.jsx("div",{children:f.jsx(Vt,{variant:"circular",width:40,height:40})}),f.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[f.jsx(Vt,{variant:"text",width:200}),f.jsx(Vt,{variant:"rectangular",height:55,width:"90%"})]})]}),Jue=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=v.useContext(Z),r=5,[i,s]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[h,p]=v.useState(null),m=async()=>{c(!0);const y=Se(ye,"notifications");let x=wr(y,vu("timestamp","desc"),ro(r));o&&(x=wr(x,p1(o)));try{const g=await Ia(x);if(Gs(y,n),g.empty)d(!0);else{const w=g.docs.map(_=>({id:_.id,..._.data()}));s([...i,...w]),a(g.docs[g.docs.length-1]),e0(c)}}catch(g){const w="Error fetching notifications: "+g.message;console.log(w),c(!1),p(w)}};return v.useEffect(()=>{m()},[]),v.useEffect(()=>{t("Notifications")},[]),l?f.jsx(Ir,{isLoading:l,text:"Loading notifications..."}):u?f.jsx(wn,{text:"No notifications available"}):h?f.jsx(wn,{text:h}):f.jsxs(Le,{className:"m-2",children:[f.jsxs(Le,{className:"border overflow-hidden shadow-md border-slate-200 rounded-md",children:[i.map((y,x)=>f.jsx(Zue,{length:i.length,notification:y,index:x},y.id)),l&&f.jsx(Le,{className:"flex justify-center",children:f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(BH,{})]})})]}),e>r&&e>i.length?f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx(Ve,{size:"small",onClick:m,children:"load more"})}):""]})},Zue=({notification:t,index:e,length:n})=>{let r;const{type:i,description:s,timestamp:o,testName:a,comment:l}=t,c=`${i[0]} ${i[1]}`,{theme:u,users:d}=v.useContext(Z),[h,p]=v.useState(null),[m,y]=v.useState(!0);switch(Kn(t.uid,d,p,y),c){case"like post":r="liked a post";break;case"like test":r="liked a test";break;case"comment post":r="commented on a post";break;case"comment test":r="commented on a test";break;case"added post":r="added a post";break;case"added test":r="added a test";break;case"took test":r="took a test";break}return m?f.jsx(Xue,{}):f.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"}  ${u==="light"?"border-slate-200 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:h==null?void 0:h.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:h?h==null?void 0:h.name:"Unknown User"})," ",r]}),s&&f.jsx("p",{children:ba(s,30)}),a&&f.jsx("p",{children:a}),l&&f.jsx("p",{children:l}),f.jsx("p",{children:Hl(jr(o))})]})]})},ede=({isCreating:t,setIsCreating:e})=>{const[n,r]=v.useState(""),{userId:i}=v.useContext(Z),s=async()=>{if(!n.trim())return;const o=Se(ye,"chats"),a=await la(o,{name:n,image:null,lastMessage:{}}),l=Se(ge(o,a.id),"members");await la(l,{uid:i,joinedAt:ir()})};return f.jsx(Ji,{open:t,onClose:()=>e(!1),children:f.jsxs(Le,{className:"m-5 ",children:[f.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),f.jsxs(Qr,{direction:"row",gap:1,children:[f.jsx(di,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),f.jsx(Ve,{onClick:()=>{n.trim()&&(s(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var At="-ms-",hh="-moz-",ht="-webkit-",jL="comm",S1="rule",CI="decl",tde="@import",FL="@keyframes",nde="@layer",VL=Math.abs,TI=String.fromCharCode,Pw=Object.assign;function rde(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function UL(t){return t.trim()}function Ns(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function Np(t,e,n){return t.indexOf(e,n)}function Cn(t,e){return t.charCodeAt(e)|0}function Eu(t,e,n){return t.slice(e,n)}function ss(t){return t.length}function BL(t){return t.length}function Vd(t,e){return e.push(t),t}function ide(t,e){return t.map(e).join("")}function w4(t,e){return t.filter(function(n){return!Ns(n,e)})}var R1=1,Iu=1,zL=0,Si=0,hn=0,Xu="";function k1(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:R1,column:Iu,length:o,return:"",siblings:a}}function xo(t,e){return Pw(k1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function cc(t){for(;t.root;)t=xo(t.root,{children:[t]});Vd(t,t.siblings)}function sde(){return hn}function ode(){return hn=Si>0?Cn(Xu,--Si):0,Iu--,hn===10&&(Iu=1,R1--),hn}function qi(){return hn=Si<zL?Cn(Xu,Si++):0,Iu++,hn===10&&(Iu=1,R1++),hn}function ol(){return Cn(Xu,Si)}function Lp(){return Si}function A1(t,e){return Eu(Xu,t,e)}function Nw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ade(t){return R1=Iu=1,zL=ss(Xu=t),Si=0,[]}function lde(t){return Xu="",t}function ty(t){return UL(A1(Si-1,Lw(t===91?t+2:t===40?t+1:t)))}function cde(t){for(;(hn=ol())&&hn<33;)qi();return Nw(t)>2||Nw(hn)>3?"":" "}function ude(t,e){for(;--e&&qi()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return A1(t,Lp()+(e<6&&ol()==32&&qi()==32))}function Lw(t){for(;qi();)switch(hn){case t:return Si;case 34:case 39:t!==34&&t!==39&&Lw(hn);break;case 40:t===41&&Lw(t);break;case 92:qi();break}return Si}function dde(t,e){for(;qi()&&t+hn!==57;)if(t+hn===84&&ol()===47)break;return"/*"+A1(e,Si-1)+"*"+TI(t===47?t:qi())}function hde(t){for(;!Nw(ol());)qi();return A1(t,Si)}function fde(t){return lde(Mp("",null,null,null,[""],t=ade(t),0,[0],t))}function Mp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,y=1,x=1,g=1,w=0,_="",I=i,S=s,E=r,C=_;x;)switch(m=w,w=qi()){case 40:if(m!=108&&Cn(C,d-1)==58){Np(C+=je(ty(w),"&","&\f"),"&\f",VL(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:C+=ty(w);break;case 9:case 10:case 13:case 32:C+=cde(m);break;case 92:C+=ude(Lp()-1,7);continue;case 47:switch(ol()){case 42:case 47:Vd(pde(dde(qi(),Lp()),e,n,l),l);break;default:C+="/"}break;case 123*y:a[c++]=ss(C)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(C=je(C,/\f/g,"")),p>0&&ss(C)-d&&Vd(p>32?E4(C+";",r,n,d-1,l):E4(je(C," ","")+";",r,n,d-2,l),l);break;case 59:C+=";";default:if(Vd(E=x4(C,e,n,c,u,i,a,_,I=[],S=[],d,s),s),w===123)if(u===0)Mp(C,e,E,E,I,s,d,a,S);else switch(h===99&&Cn(C,3)===110?100:h){case 100:case 108:case 109:case 115:Mp(t,E,E,r&&Vd(x4(t,E,E,0,0,i,a,_,i,I=[],d,S),S),i,S,d,a,r?I:S);break;default:Mp(C,E,E,E,[""],S,0,a,S)}}c=u=p=0,y=g=1,_=C="",d=o;break;case 58:d=1+ss(C),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&ode()==125)continue}switch(C+=TI(w),w*y){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(ss(C)-1)*g,g=1;break;case 64:ol()===45&&(C+=ty(qi())),h=ol(),u=d=ss(_=C+=hde(Lp())),w++;break;case 45:m===45&&ss(C)==2&&(y=0)}}return s}function x4(t,e,n,r,i,s,o,a,l,c,u,d){for(var h=i-1,p=i===0?s:[""],m=BL(p),y=0,x=0,g=0;y<r;++y)for(var w=0,_=Eu(t,h+1,h=VL(x=o[y])),I=t;w<m;++w)(I=UL(x>0?p[w]+" "+_:je(_,/&\f/g,p[w])))&&(l[g++]=I);return k1(t,e,n,i===0?S1:a,l,c,u,d)}function pde(t,e,n,r){return k1(t,e,n,jL,TI(sde()),Eu(t,2,-2),0,r)}function E4(t,e,n,r,i){return k1(t,e,n,CI,Eu(t,0,r),Eu(t,r+1,-1),r,i)}function WL(t,e,n){switch(rde(t,e)){case 5103:return ht+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+t+t;case 4789:return hh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+t+hh+t+At+t+t;case 5936:switch(Cn(t,e+11)){case 114:return ht+t+At+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ht+t+At+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ht+t+At+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ht+t+At+t+t;case 6165:return ht+t+At+"flex-"+t+t;case 5187:return ht+t+je(t,/(\w+).+(:[^]+)/,ht+"box-$1$2"+At+"flex-$1$2")+t;case 5443:return ht+t+At+"flex-item-"+je(t,/flex-|-self/g,"")+(Ns(t,/flex-|baseline/)?"":At+"grid-row-"+je(t,/flex-|-self/g,""))+t;case 4675:return ht+t+At+"flex-line-pack"+je(t,/align-content|flex-|-self/g,"")+t;case 5548:return ht+t+At+je(t,"shrink","negative")+t;case 5292:return ht+t+At+je(t,"basis","preferred-size")+t;case 6060:return ht+"box-"+je(t,"-grow","")+ht+t+At+je(t,"grow","positive")+t;case 4554:return ht+je(t,/([^-])(transform)/g,"$1"+ht+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+t+t;case 4200:if(!Ns(t,/flex-|baseline/))return At+"grid-column-align"+Eu(t,e)+t;break;case 2592:case 3360:return At+je(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ns(r.props,/grid-\w+-end/)})?~Np(t+(n=n[e].value),"span",0)?t:At+je(t,"-start","")+t+At+"grid-row-span:"+(~Np(n,"span",0)?Ns(n,/\d+/):+Ns(n,/\d+/)-+Ns(t,/\d+/))+";":At+je(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ns(r.props,/grid-\w+-start/)})?t:At+je(je(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,ht+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ss(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+hh+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Np(t,"stretch",0)?WL(je(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return je(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return At+i+":"+s+c+(o?At+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Cn(t,e+6)===121)return je(t,":",":"+ht)+t;break;case 6444:switch(Cn(t,Cn(t,14)===45?18:11)){case 120:return je(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ht+(Cn(t,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+At+"$2box$3")+t;case 100:return je(t,":",":"+At)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(t,"scroll-","scroll-snap-")+t}return t}function r2(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function mde(t,e,n,r){switch(t.type){case nde:if(t.children.length)break;case tde:case CI:return t.return=t.return||t.value;case jL:return"";case FL:return t.return=t.value+"{"+r2(t.children,r)+"}";case S1:if(!ss(t.value=t.props.join(",")))return""}return ss(n=r2(t.children,r))?t.return=t.value+"{"+n+"}":""}function gde(t){var e=BL(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function vde(t){return function(e){e.root||(e=e.return)&&t(e)}}function yde(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case CI:t.return=WL(t.value,t.length,n);return;case FL:return r2([xo(t,{value:je(t.value,"@","@"+ht)})],r);case S1:if(t.length)return ide(n=t.props,function(i){switch(Ns(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":cc(xo(t,{props:[je(i,/:(read-\w+)/,":"+hh+"$1")]})),cc(xo(t,{props:[i]})),Pw(t,{props:w4(n,r)});break;case"::placeholder":cc(xo(t,{props:[je(i,/:(plac\w+)/,":"+ht+"input-$1")]})),cc(xo(t,{props:[je(i,/:(plac\w+)/,":"+hh+"$1")]})),cc(xo(t,{props:[je(i,/:(plac\w+)/,At+"input-$1")]})),cc(xo(t,{props:[i]})),Pw(t,{props:w4(n,r)});break}return""})}}var Vr={},bu=typeof process<"u"&&Vr!==void 0&&(Vr.REACT_APP_SC_ATTR||Vr.SC_ATTR)||"data-styled",HL="active",qL="data-styled-version",P1="6.1.11",SI=`/*!sc*/
`,RI=typeof window<"u"&&"HTMLElement"in window,_de=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==""?Vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.SC_DISABLE_SPEEDY!==void 0&&Vr.SC_DISABLE_SPEEDY!==""&&Vr.SC_DISABLE_SPEEDY!=="false"&&Vr.SC_DISABLE_SPEEDY),N1=Object.freeze([]),Cu=Object.freeze({});function wde(t,e,n){return n===void 0&&(n=Cu),t.theme!==n.theme&&t.theme||e||n.theme}var GL=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),xde=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ede=/(^-|-$)/g;function I4(t){return t.replace(xde,"-").replace(Ede,"")}var Ide=/(a)(d)/gi,K0=52,b4=function(t){return String.fromCharCode(t+(t>25?39:97))};function Mw(t){var e,n="";for(e=Math.abs(t);e>K0;e=e/K0|0)n=b4(e%K0)+n;return(b4(e%K0)+n).replace(Ide,"$1-$2")}var ny,KL=5381,Nc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},QL=function(t){return Nc(KL,t)};function YL(t){return Mw(QL(t)>>>0)}function bde(t){return t.displayName||t.name||"Component"}function ry(t){return typeof t=="string"&&!0}var XL=typeof Symbol=="function"&&Symbol.for,JL=XL?Symbol.for("react.memo"):60115,Cde=XL?Symbol.for("react.forward_ref"):60112,Tde={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Sde={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rde=((ny={})[Cde]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ny[JL]=ZL,ny);function C4(t){return("type"in(e=t)&&e.type.$$typeof)===JL?ZL:"$$typeof"in t?Rde[t.$$typeof]:Tde;var e}var kde=Object.defineProperty,Ade=Object.getOwnPropertyNames,T4=Object.getOwnPropertySymbols,Pde=Object.getOwnPropertyDescriptor,Nde=Object.getPrototypeOf,S4=Object.prototype;function eM(t,e,n){if(typeof e!="string"){if(S4){var r=Nde(e);r&&r!==S4&&eM(t,r,n)}var i=Ade(e);T4&&(i=i.concat(T4(e)));for(var s=C4(t),o=C4(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Sde||n&&n[l]||o&&l in o||s&&l in s)){var c=Pde(e,l);try{kde(t,l,c)}catch{}}}}return t}function Tu(t){return typeof t=="function"}function kI(t){return typeof t=="object"&&"styledComponentId"in t}function Xa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Ow(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function df(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Dw(t,e,n){if(n===void 0&&(n=!1),!n&&!df(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Dw(t[r],e[r]);else if(df(e))for(var r in e)t[r]=Dw(t[r],e[r]);return t}function AI(t,e){Object.defineProperty(t,"toString",{value:e})}function s0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Lde=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw s0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(SI);return n},t}(),Op=new Map,i2=new Map,Dp=1,Q0=function(t){if(Op.has(t))return Op.get(t);for(;i2.has(Dp);)Dp++;var e=Dp++;return Op.set(t,e),i2.set(e,t),e},Mde=function(t,e){Dp=e+1,Op.set(t,e),i2.set(e,t)},Ode="style[".concat(bu,"][").concat(qL,'="').concat(P1,'"]'),Dde=new RegExp("^".concat(bu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$de=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},jde=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(SI),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Dde);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Mde(u,c),$de(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function Fde(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var tM=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(bu,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(bu,HL),r.setAttribute(qL,P1);var o=Fde();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Vde=function(){function t(e){this.element=tM(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw s0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Ude=function(){function t(e){this.element=tM(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Bde=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),R4=RI,zde={isServer:!RI,useCSSOMInjection:!_de},nM=function(){function t(e,n,r){e===void 0&&(e=Cu),n===void 0&&(n={});var i=this;this.options=qe(qe({},zde),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&RI&&R4&&(R4=!1,function(s){for(var o=document.querySelectorAll(Ode),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(bu)!==HL&&(jde(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),AI(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(g){return i2.get(g)}(d);if(h===void 0)return"continue";var p=s.names.get(h),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var y="".concat(bu,".g").concat(d,'[id="').concat(h,'"]'),x="";p!==void 0&&p.forEach(function(g){g.length>0&&(x+="".concat(g,","))}),l+="".concat(m).concat(y,'{content:"').concat(x,'"}').concat(SI)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Q0(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(qe(qe({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Bde(i):r?new Vde(i):new Ude(i)}(this.options),new Lde(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Q0(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Q0(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Q0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Wde=/&/g,Hde=/^\s*\/\/.*$/gm;function rM(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=rM(n.children,e)),n})}function qde(t){var e,n,r,i=t===void 0?Cu:t,s=i.options,o=s===void 0?Cu:s,a=i.plugins,l=a===void 0?N1:a,c=function(h,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===S1&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(Wde,n).replace(r,c))}),o.prefix&&u.push(yde),u.push(mde);var d=function(h,p,m,y){p===void 0&&(p=""),m===void 0&&(m=""),y===void 0&&(y="&"),e=y,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var x=h.replace(Hde,""),g=fde(m||p?"".concat(m," ").concat(p," { ").concat(x," }"):x);o.namespace&&(g=rM(g,o.namespace));var w=[];return r2(g,gde(u.concat(vde(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(h,p){return p.name||s0(15),Nc(h,p.name)},KL).toString():"",d}var Gde=new nM,$w=qde(),iM=pr.createContext({shouldForwardProp:void 0,styleSheet:Gde,stylis:$w});iM.Consumer;pr.createContext(void 0);function k4(){return v.useContext(iM)}var sM=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=$w);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,AI(this,function(){throw s0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=$w),this.name+e.hash},t}(),Kde=function(t){return t>="A"&&t<="Z"};function A4(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Kde(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var oM=function(t){return t==null||t===!1||t===""},aM=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!oM(s)&&(Array.isArray(s)&&s.isCss||Tu(s)?r.push("".concat(A4(i),":"),s,";"):df(s)?r.push.apply(r,zn(zn(["".concat(i," {")],aM(s),!1),["}"],!1)):r.push("".concat(A4(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in _A||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function al(t,e,n,r){if(oM(t))return[];if(kI(t))return[".".concat(t.styledComponentId)];if(Tu(t)){if(!Tu(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return al(i,e,n,r)}var s;return t instanceof sM?n?(t.inject(n,r),[t.getName(r)]):[t]:df(t)?aM(t):Array.isArray(t)?Array.prototype.concat.apply(N1,t.map(function(o){return al(o,e,n,r)})):[t.toString()]}function Qde(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Tu(n)&&!kI(n))return!1}return!0}var Yde=QL(P1),Xde=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Qde(e),this.componentId=n,this.baseHash=Nc(Yde,n),this.baseStyle=r,nM.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Xa(i,this.staticRulesId);else{var s=Ow(al(this.rules,e,n,r)),o=Mw(Nc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Xa(i,o),this.staticRulesId=o}else{for(var l=Nc(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=Ow(al(d,e,n,r));l=Nc(l,h+u),c+=h}}if(c){var p=Mw(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Xa(i,p)}}return i},t}(),lM=pr.createContext(void 0);lM.Consumer;var iy={};function Jde(t,e,n){var r=kI(t),i=t,s=!ry(t),o=e.attrs,a=o===void 0?N1:o,l=e.componentId,c=l===void 0?function(I,S){var E=typeof I!="string"?"sc":I4(I);iy[E]=(iy[E]||0)+1;var C="".concat(E,"-").concat(YL(P1+E+iy[E]));return S?"".concat(S,"-").concat(C):C}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(I){return ry(I)?"styled.".concat(I):"Styled(".concat(bde(I),")")}(t):u,h=e.displayName&&e.componentId?"".concat(I4(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;m=function(I,S){return y(I,S)&&x(I,S)}}else m=y}var g=new Xde(n,h,r?i.componentStyle:void 0);function w(I,S){return function(E,C,b){var R=E.attrs,T=E.componentStyle,k=E.defaultProps,N=E.foldedComponentIds,M=E.styledComponentId,L=E.target,j=pr.useContext(lM),P=k4(),A=E.shouldForwardProp||P.shouldForwardProp,O=wde(C,j,k)||Cu,$=function(V,G,ie){for(var le,ee=qe(qe({},G),{className:void 0,theme:ie}),he=0;he<V.length;he+=1){var ce=Tu(le=V[he])?le(ee):le;for(var oe in ce)ee[oe]=oe==="className"?Xa(ee[oe],ce[oe]):oe==="style"?qe(qe({},ee[oe]),ce[oe]):ce[oe]}return G.className&&(ee.className=Xa(ee.className,G.className)),ee}(R,C,O),F=$.as||L,q={};for(var W in $)$[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&$.theme===O||(W==="forwardedAs"?q.as=$.forwardedAs:A&&!A(W,F)||(q[W]=$[W]));var z=function(V,G){var ie=k4(),le=V.generateAndInjectStyles(G,ie.styleSheet,ie.stylis);return le}(T,$),B=Xa(N,M);return z&&(B+=" "+z),$.className&&(B+=" "+$.className),q[ry(F)&&!GL.has(F)?"class":"className"]=B,q.ref=b,v.createElement(F,q)}(_,I,S)}w.displayName=d;var _=pr.forwardRef(w);return _.attrs=p,_.componentStyle=g,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?Xa(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=h,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(I){this._foldedDefaultProps=r?function(S){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var b=0,R=E;b<R.length;b++)Dw(S,R[b],!0);return S}({},i.defaultProps,I):I}}),AI(_,function(){return".".concat(_.styledComponentId)}),s&&eM(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function P4(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var N4=function(t){return Object.assign(t,{isCss:!0})};function cM(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tu(t)||df(t))return N4(al(P4(N1,zn([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?al(r):N4(al(P4(r,e)))}function jw(t,e,n){if(n===void 0&&(n=Cu),!e)throw s0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,cM.apply(void 0,zn([i],s,!1)))};return r.attrs=function(i){return jw(t,e,qe(qe({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return jw(t,e,qe(qe({},n),i))},r}var uM=function(t){return jw(Jde,t)},ql=uM;GL.forEach(function(t){ql[t]=uM(t)});function PI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ow(cM.apply(void 0,zn([t],e,!1))),i=YL(r);return new sM(i,r)}ql.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const Mi=242.776657104492,Zde=1.6,ehe=PI`
12.5% {
  stroke-dasharray: ${Mi*.14}px, ${Mi}px;
  stroke-dashoffset: -${Mi*.11}px;
}
43.75% {
  stroke-dasharray: ${Mi*.35}px, ${Mi}px;
  stroke-dashoffset: -${Mi*.35}px;
}
100% {
  stroke-dasharray: ${Mi*.01}px, ${Mi}px;
  stroke-dashoffset: -${Mi*.99}px;
}
`;ql.path`
  stroke-dasharray: ${Mi*.01}px, ${Mi};
  stroke-dashoffset: 0;
  animation: ${ehe} ${Zde}s linear infinite;
`;const the=PI`
to {
   transform: rotate(360deg);
 }
`;ql.svg`
  animation: ${the} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;ql.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const nhe=PI`
to {
   stroke-dashoffset: 136;
 }
`;ql.polygon`
  stroke-dasharray: 17;
  animation: ${nhe} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;ql.svg`
  transform-origin: 50% 65%;
`;const dM=()=>{const t="Typing...",[e,n]=v.useState("");let r=0;const[i,s]=v.useState(0);return v.useEffect(()=>(r=setInterval(()=>{i!==t.length?(n(e+t[i]),s(i+1)):(s(0),n(""))},250),()=>{clearInterval(r)}),[e,i]),f.jsx("p",{children:e.length===0?"T":e})},rhe=({chat:t,index:e,chats:n})=>{var y;const[r,i]=v.useState(null),{users:s,newMessages:o}=v.useContext(Z),[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(!0),p=Pn(),m=async()=>{const x=Se(ge(Se(ye,"chats"),t.id),"messages");console.log("fetching message counts..."),await Gs(x,i)};return v.useEffect(()=>{const g=(()=>{const w=Se(ye,"chats"),_=Se(ge(w,t.id),"messages"),I=wr(_,vu("timestamp","desc"),ro(1));return zi(I,E=>{if(console.log("fetching last messages..."),!E.empty){const C=E.docs.map(b=>({id:b.id,...b.data()}));try{l(C[0]),m()}catch(b){console.log(b.message)}}})})();return()=>{g&&g()}},[t.id]),Kn(a==null?void 0:a.senderId,s,u,h,[a]),f.jsxs(Le,{className:`flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative hover:bg-slate-100 border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>p(`/app/chatroom/${t.id}`),children:[f.jsx(Le,{className:"flex items-start h-full mt-3",children:f.jsx("img",{alt:t.name,src:((y=t.image)==null?void 0:y.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),f.jsxs(Le,{className:"grid items-start h-full",children:[f.jsxs(jt,{variant:"h6",children:[t.name,r?f.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[r," messages"]}):""]}),f.jsxs(Le,{container:!0,sx:{display:"grid"},children:[f.jsx(Le,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:a&&c?f.jsxs(f.Fragment,{children:[f.jsx(ii,{size:"size-5",fontSize:"text-sm",name:c.name,image:c.image}),f.jsx(jt,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:c.name})]}):""}),a&&f.jsxs(Le,{sx:{marginTop:"2px",display:"grid"},children:[f.jsx(jt,{size:"small",variant:"caption",color:"textSecondary",children:ba(a.content,30)}),a.image&&f.jsx("img",{alt:a.image.name,className:"w-12",src:a.image.URL}),f.jsxs(jt,{size:"small",variant:"caption",color:"textSecondary",children:[(a==null?void 0:a.editedTime)&&"edited ",n2(jr(a!=null&&a.editedTime?a.editedTime:a.timestamp))]})]}),f.jsx(ihe,{chat:t})]})]}),!C1(o,t.id)&&f.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},ihe=({chat:t})=>{v.useContext(Z);const e=ge(ye,"chats",t.id),n=Se(e,"typingUsers"),[r,i]=v.useState([]);if(v.useEffect(()=>{const o=zi(n,l=>{if(!l.empty){const c=l.docs.map(u=>u.data());i(c)}});return()=>{o&&o()}},[t.id]),r.length>0)return f.jsx("div",{children:r.sort((s,o)=>Pi(s,o,"timestamp","older")).map(s=>f.jsx(she,{typingUser:s},`typing-users-${s.uid}`))})},she=({typingUser:t})=>{const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState();return Kn(t.uid,e,r,s),i?f.jsx(Cs,{}):f.jsxs("div",{className:"flex items-center gap-x-1 bg-slate-200 shadow-md rounded-md p-1",children:[f.jsx(ii,{size:"size-5",fontSize:"text-sm",name:n&&(n==null?void 0:n.name),image:n&&(n==null?void 0:n.image)}),f.jsx(dM,{})]},n&&n.uid)},ohe=()=>{const{setHeaderTitle:t,chats:e,setChats:n,myChats:r,setMyChats:i}=v.useContext(Z),s=Se(ye,"chats"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);return Bl(s,[],n,a,c,!1,d),v.useEffect(()=>{t("Chat Room")},[]),o?f.jsx(Ir,{isLoading:o,text:"Loading chat rooms..."}):l?f.jsx(wn,{text:"No chat rooms available"}):u?f.jsx(wn,{text:u}):f.jsx(ahe,{myChats:r,setMyChats:i})},ahe=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:i}=v.useContext(Z),[s,o]=v.useState(!1),a=async(l,c)=>{const u=Se(ye,"chats"),d=Se(ge(u,l),"members"),h=wr(d,f1("uid","==",c),ro(1));return console.log("Checking if a member..."),!(await Ia(h)).empty};return v.useEffect(()=>{(async()=>{const c=await Promise.all(n.map(async u=>await a(u.id,i)?u:null));e(c.filter(u=>u!==null))})()},[n]),f.jsxs(f.Fragment,{children:[f.jsx(ede,{isCreating:s,setIsCreating:o}),f.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[t.map((l,c)=>f.jsx(rhe,{chat:l,index:c,chats:n},l.id)),(r==null?void 0:r.isAdmin)&&f.jsx(Le,{className:"m-2",children:f.jsx(Ve,{size:"small",onClick:()=>o(!0),endIcon:f.jsx("img",{className:"w-7",src:Ne("add")}),children:"Create group"})})]})]})},lhe=()=>{const{headerTitle:t,setIsLogIn:e,setUserId:n}=v.useContext(Z),r=Pn(),i=Au(),s=i.pathname!=="/"?i.pathname:"/app";v.useEffect(()=>{document.title="SEA • "+t||"STAR EDUCATION ACADEMY"},[t]),v.useEffect(()=>{const o=gi.get("userId")||null;o?(e(!0),n(o),r(s)):r("/login")},[])},che=()=>{const{setHeaderTitle:t}=v.useContext(Z),e={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${Hl(1712655376346)}.`}];return t0("help-page"),n0("help-page"),v.useEffect(()=>{t("Help")},[]),f.jsxs(Le,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[f.jsx(Ir,{}),f.jsx(Td,{image:e.image,text:e.text,answer:e.answer}),f.jsx(Td,{text:"FAQ",image:"faq",answer:n.map(i=>f.jsx(Td,{text:i.text,answer:i.answer},i.text))}),f.jsx(Td,{image:"update",text:"Updates",answer:r.map(i=>f.jsx(Td,{text:i.text,answer:i.answer},i.text))})]})},Td=({image:t,text:e,answer:n})=>{const[r,i]=v.useState(!1);return f.jsxs("div",{className:" p-2  mb-2 ",children:[f.jsxs("div",{onClick:()=>i(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(uhe,{image:t}),f.jsx("div",{children:e})]}),f.jsx(Rn,{children:f.jsx("img",{className:"w-6",src:Ne(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},uhe=({image:t})=>f.jsx("img",{className:"w-7",src:Ne(t)}),hM=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const i=(t==null?void 0:t.size)/1048576,s=(t==null?void 0:t.size)/1024;return i>1?`${i.toFixed(2)} MB`:isNaN(i)?null:`${s.toFixed(2)} kB`};return f.jsxs(Ji,{open:!!t,onClose:()=>e(!1),children:[f.jsx(Qr,{direction:"row",justifyContent:"end",children:f.jsx(Rn,{onClick:()=>{e(!1)},children:f.jsx(Hn,{name:"close"})})}),t?f.jsxs("div",{className:"bg-white m-3 overflow-auto min-h-[200px] min-w-[200px] relative",children:[r()&&f.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),f.jsx("img",{alt:t.name,className:"h-full ",src:n?t.imageURL:t.URL})]}):f.jsx("div",{className:"bg-white border border-slate-300 rounded-md",children:"Image not available."})]})},dhe=({post:t,setViewingImage:e})=>{const[r,i]=v.useState(4),[s,o]=v.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),i(t.images.length)};return a.map((u,d)=>f.jsxs(Zd,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[f.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&s&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},hhe=({files:t})=>f.jsxs("div",{className:"grid mt-2",children:[f.jsx("p",{className:"p-2 font-bold",children:"Files"}),t.map((e,n)=>f.jsx("a",{href:e.fileURL,download:e.name,target:"_blank",children:f.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[f.jsx(Hn,{name:"download"}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:e.name}),(e==null?void 0:e.size)&&f.jsxs("p",{children:[(e.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${n}-${e.fileURL}`))]}),fhe=({links:t})=>f.jsxs("div",{className:"grid gap-y-2 mt-2",children:[f.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((e,n)=>f.jsx("a",{href:e.link,target:"_blank",children:f.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[f.jsx(Hn,{name:"link"}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:e.title})})]})},`${n}-${e.link}`))]});async function NI(t,e,n,r=null){const i=gi.get("userId");try{const s=Se(ye,"notifications"),o={uid:i,type:t,[e]:n,isReadBy:[],timestamp:ir(),comment:r};await la(s,o)}catch(s){console.log(s.message)}}const L1=()=>f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(Vt,{variant:"circular",height:40,width:40}),f.jsx(Vt,{variant:"text",height:40,width:"200px"})]}),fM=({post:t,collectionName:e})=>{const{id:n}=t,[r,i]=v.useState(null),[s,o]=v.useState(null),{users:a,theme:l,userId:c}=v.useContext(Z),[u,d]=v.useState(!1),[h,p]=v.useState(!1),m=e==="posts",y=Se(ge(ye,e,n),"comments"),x=Se(ge(ye,e,n),"likes"),[g,w]=v.useState(!1),_=async(S,E)=>{const C=Se(ge(ye,e,n),S);console.log("Fetching counts...");const b=await R8(C);E(b.data().count)};v.useEffect(()=>{(async()=>{await _("likes",i),await _("comments",o)})()},[]),v.useEffect(()=>{(async()=>{const E=wr(x,f1("uid","==",c)),C=await Ia(E);w(!C.empty)})()},[]);const I=async()=>{try{const S=async()=>{await _("likes",i)},E=ge(x,c),C={uid:c,timestamp:ir()};g?(w(!1),await Jo(E),S()):(w(!0),await rl(E,C),S(),NI(["like",m?"post":"test"],m?"description":"testName",m?t.description:t.name))}catch(S){console.log(S.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[f.jsx("button",{onClick:()=>{d(!u),p(!1)},className:`transition-all ${l==="light"?`${u?"bg-slate-200":"hover:bg-slate-200"}`:`${u?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:f.jsxs("span",{children:[r||0," ",r>1?"Likes":"Like"]})}),f.jsxs("button",{onClick:()=>{p(!h),d(!1)},className:`transition-all ${l==="light"?`${h?"bg-slate-200":"hover:bg-slate-200"}`:`${h?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[s||0," ",s>1?"Comments":"Comment"]})]}),f.jsxs("div",{className:`p-2 shadow-lg border-t border-b pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(Ve,{sx:{textTransform:"capitalize"},color:l!=="light"?"warning":"primary",onClick:I,startIcon:f.jsx("img",{className:"w-6",src:Ne(g?"liked":"like")}),children:g?"Liked":"Like"}),f.jsx(Ve,{sx:{textTransform:"capitalize"},color:l!=="light"?"warning":"primary",onClick:()=>{p(!h),d(!1)},startIcon:f.jsx("img",{className:"w-6",src:Ne("comment")}),children:"Comment"})]}),u&&f.jsx(phe,{isLikesOpen:u,setIsLikesOpen:d,likesRef:x,likeCounts:r}),h&&f.jsx(ghe,{isPost:m,post:t,commentsRef:y,collectionName:e,commentCounts:s,setCommentCounts:o,getCounts:_})]})},phe=({likesRef:t,likeCounts:e,isLikesOpen:n,setIsLikesOpen:r})=>{const[s,o]=v.useState([]),[a,l]=v.useState(null),[c,u]=v.useState(!0),d=async()=>{let h=wr(t,vu("timestamp","desc"),ro(5));a&&(h=wr(h,p1(a)));const p=await Ia(h),m=p.docs.map(y=>({id:y.id,...y.data()}));o([...s,...m]),u(!1),l(p.docs[p.docs.length-1])};return v.useEffect(()=>{d()},[]),f.jsx(Ji,{anchor:"bottom",open:n,onClose:()=>r(!1),children:f.jsxs(Le,{className:"min-w-[300px] min-h-[100px] m-2",children:[f.jsx(Qr,{direction:"row",justifyContent:"end",children:f.jsx(Ve,{size:"small",className:"",onClick:()=>r(!1),children:"Close"})}),c?f.jsx(Le,{className:"text-center",children:"Loading..."}):f.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[s.sort((h,p)=>Pi(h,p,"timestamp","newer")).map((h,p)=>f.jsx(mhe,{like:h},`user-${h.uid}-${p}`)),f.jsx(Qr,{direction:"row",justifyContent:"center",children:e>5&&s.length<e&&s.length>0?f.jsx(Ve,{size:"small",onClick:d,children:"Load More"}):""})]})]})})},mhe=({like:t})=>{const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState();return Kn(t.uid,e,r,s),i?f.jsx(L1,{}):f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(ii,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),f.jsx("div",{children:n?n.name:"Unknown User"})]})},ghe=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:i})=>{const[s,o]=v.useState(""),[a,l]=v.useState([]),{theme:c,userId:u}=v.useContext(Z),[d,h]=v.useState(null),p=()=>{const x=wr(n,vu("timestamp","desc"));return zi(x,w=>{w.empty||(i("comments",r),l(w.docs.map(_=>({id:_.id,..._.data()})).sort((_,I)=>Pi(_,I,"timestamp"))))})};v.useEffect(()=>{const x=p();return()=>{x&&x()}},[]);const m=async()=>{if(s.trim()){const x={uid:u,text:s.trim(),timestamp:ir()};await la(n,x),o(""),NI(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,s.trim())}},y=async()=>{const x=ge(n,d);if(s.trim()){const g={text:s.trim(),editedTime:ir()};await Un(x,g),o(""),h(null)}};return f.jsxs("div",{className:"mt-2 p-2",children:[f.jsx("div",{className:"grid gap-y-2",children:a.map(x=>{const g=x.uid===u,w=g&&{text:"Edit",icon:"editPencil",onClick:()=>{h(x.id),o(x.text)}};return f.jsx(vhe,{comment:x,editOption:w,yourComment:g},`${x.uid}-${x.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:x=>o(x.target.value),value:s,className:`h-10 flex-1 rounded-lg pl-2 border-slate-200 shadow-md border ${c==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[d&&f.jsx(Rn,{onClick:()=>{h(null),o("")},children:f.jsx(Hn,{name:"falseIcon"})}),f.jsx(Rn,{onClick:()=>{s.trim()&&(d?y():m())},children:f.jsx(Hn,{name:"send"})})]})]})]})},vhe=({comment:t,editOption:e,yourComment:n})=>{const{users:r,theme:i,userData:s}=v.useContext(Z),[o,a]=v.useState(null),[l,c]=v.useState();return Kn(t.uid,r,a,c),l?f.jsx(Cs,{}):f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(ii,{image:o&&o.image,name:o&&o.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2 border shadow-md border-slate-200 rounded-lg ${i==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:o?o.name:"Unknown User"}),f.jsx("div",{children:t.text})]}),f.jsx("div",{className:`text-sm mt-1 ${i==="light"?"text-gray-600":"text-white"}`,children:t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",n2(jr(t.editedTime))]}):f.jsx("span",{children:n2(jr(t.timestamp))})})]})]}),n||s!=null&&s.isAdmin?f.jsx(bI,{options:[e,{text:"Delete",icon:"deleteIcon",onClick:()=>deleteComment(t.id)}],isComment:!0}):""]})},pM=()=>f.jsxs("div",{className:"border border-slate rounded-md shadow-md",children:[f.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[f.jsx(Vt,{variant:"circular",width:35,height:35}),f.jsx(Vt,{width:"40%",height:50,variant:"text"})]}),f.jsxs("div",{className:"pl-2 pr-2",children:[f.jsx(Vt,{width:"100%"}),f.jsx(Vt,{width:"60%"})]}),f.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[f.jsx(Vt,{height:100,width:"20%"}),f.jsx(Vt,{height:100,width:"20%"}),f.jsx(Vt,{height:100,width:"20%"})]}),f.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[f.jsx(Vt,{width:70,animation:"wave",variant:"rounded",height:30}),f.jsx(Vt,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),yhe=({post:t,setViewingImage:e})=>{var l,c;const{theme:n,users:r}=v.useContext(Z),[i,s]=v.useState(null),[o,a]=v.useState(!0);return Kn(t.uid,r,s,a),o?f.jsx(pM,{}):f.jsxs(Le,{className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full",backgroundColor:"white",color:n!=="light"?"white":"black"},children:[f.jsxs(Le,{className:"top-section flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i?i.image:"images/sea-logo.jpg"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:i?i.name:"Unknown User"}),f.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:Hl(jr(t.time))})]})]}),(t==null?void 0:t.description)&&f.jsx("p",{className:"mb-2 p-2 break-words whitespace-pre-wrap",children:t.description}),t.images.length!==0?f.jsx(Zd,{container:!0,spacing:1,className:" p-0 m-0",children:f.jsx(dhe,{post:t,setViewingImage:e})}):"",t.files&&((l=t==null?void 0:t.files)==null?void 0:l.length)!==0&&f.jsx(hhe,{files:t.files}),(t==null?void 0:t.links)&&((c=t==null?void 0:t.links)==null?void 0:c.length)!==0&&f.jsx(fhe,{links:t.links}),f.jsx(fM,{post:t,collectionName:"posts"})]})},_he=()=>{const{posts:t,setPosts:e,setHeaderTitle:n}=v.useContext(Z),r=Se(ye,"posts"),[i,s]=v.useState(!0),[o,a]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);return v.useEffect(()=>{n("STAR EDUCATION ACADEMY")},[]),Bl(r,[],e,s,a,!1,c),t0("posts-page"),n0("posts-page"),i?f.jsx(Ir,{isLoading:i,text:"Loading posts..."}):o?f.jsx(wn,{text:"No posts available"}):l?f.jsx(wn,{text:l}):f.jsxs("div",{className:"grid gap-y-6 m-2",children:[u&&f.jsx(hM,{image:u,setViewingImage:d,postImage:!0}),t.sort((h,p)=>Pi(h,p,"time","newer")).map(h=>f.jsx(yhe,{setViewingImage:d,post:h},h.id))]})},mM=()=>f.jsxs("div",{className:"border border-slate rounded-md shadow-md",children:[f.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[f.jsx(Vt,{variant:"circular",width:35,height:35}),f.jsx(Vt,{width:"40%",height:50,variant:"text"})]}),f.jsxs("div",{className:"pl-2 pr-2",children:[f.jsx(Vt,{width:"100%"}),f.jsx(Vt,{width:"60%"})]}),f.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:f.jsx(Vt,{height:100,width:"30%"})}),f.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[f.jsx(Vt,{width:70,animation:"wave",variant:"rounded",height:30}),f.jsx(Vt,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),whe=()=>{const{tests:t,setTests:e,setHeaderTitle:n,theme:r,startTimer:i}=v.useContext(Z);Pn();const s=Se(ye,"tests"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);return Bl(s,[],e,a,c,!1,d),v.useEffect(()=>{n("Tests")},[]),t0("tests-page"),n0("tests-page"),o?f.jsx(Ir,{isLoading:o,text:"Loading tests..."}):l?f.jsx(wn,{text:"No tests available"}):u?f.jsx(wn,{text:u}):f.jsx("div",{className:"grid gap-y-6 mb-2 m-2",children:t.sort((h,p)=>Pi(h,p,"timestamp","newer")).map(h=>f.jsx(xhe,{t:h},h.id))})},xhe=({t})=>{const{theme:e,users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t.uid,n,i,o),s?f.jsx(mM,{}):f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-lg rounded-md bg-gradient-to-tr ${e==="light"?"border-slate-300 ":"border-slate-300 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold",children:r==null?void 0:r.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500 ":"text-white"}`,children:Hl(jr(t.time))})]}),f.jsxs("span",{className:`rounded-md border border-slate-200 text-sm text-gray-400 flex items-center p-1 ${e==="light"?"bg-slate-100 ":"bg-slate-500/70  "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&f.jsx("div",{className:"m-2 flex justify-center p-2",children:f.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),f.jsxs("div",{className:`p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md ${e==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:t.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),f.jsx(Ve,{onClick:()=>{takeTest(),navigate(`/app/tests/${t.id}`)},children:"Take the test"})]}),f.jsx(fM,{post:t,collectionName:"tests"})]})},Ehe=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:i,answerLength:s,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=v.useContext(Z),u=Pn(),[d,h]=v.useState(!1),p=()=>{a(),h(!1),u("/app/tests")},m=()=>{h(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(_n,{data:{clickFn:()=>h(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),f.jsx(so,{data:{value:d,yesButton:p,noButton:m,text:"Are you sure to stop the test ?",setValue:h}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${i}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[s," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},Ihe=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t,{theme:i}=v.useContext(Z);return f.jsx("div",{children:e==null?void 0:e.map((s,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${i==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:s.id}),f.jsx("div",{className:"flex-1 font-padauk",children:s.question})]}),f.jsx("div",{className:"grid gap-y-2",children:s.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{s.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(s.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${i==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(s.id,a)},className:"h-5 w-5",name:`question-${s.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${s.id}-${l}-${a}`)})})]}),f.jsx(bhe,{})]},`question-${s.id}-${o}-${s.question}`))})},bhe=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),Che=()=>(v.useContext(Z),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:Ne("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));function The(t,e,n){const r=e.name,i=She(t,e.quizzes),s=Rhe(i),o=t.length,a=e.gradingRules.length!==0?khe(s,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=Ahe(),c=Phe();return{testName:r,results:i,score:s,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function She(t,e){return e.map(r=>{const{id:i,question:s,answer:o}=r;let a;t.forEach(c=>{i===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:i,question:s,userAnswer:l,answer:o,isTrue:!0}:{id:i,question:s,userAnswer:l,answer:o,isTrue:!1}})}function Rhe(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function khe(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function Ahe(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function Phe(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const i=n<10?`0${n}`:n;return`${e}:${i} ${r}`}const Nhe=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:i,currentTest:s,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=v.useContext(Z),u=Pn(),d=async()=>{try{const p=Se(ge(ye,"users",c),"history"),m=The(o,s,a),y=await la(p,m),x=(await Gu(y)).id;u(`/app/history/${x}`)}catch(p){console.log(p.message)}},h=()=>{d(),l(),NI(["took","test"],"testName",s.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[i!==0&&f.jsx(Bi,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(Bi,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(Bi,{data:{clickFn:e,text:"Next",image:"next"}})]})},Lhe=()=>{var R,T;v.useContext(Z);const{testId:t}=yf(),[e,n]=v.useState([]),[r,i]=v.useState(null);v.useEffect(()=>{(async()=>{const N=ge(ye,"tests",t),M=await Gu(N);i(M.data()),console.log(M.data())})()});const s=e==null?void 0:e.length,o=(R=r==null?void 0:r.quizzes)==null?void 0:R.length,[a,l]=v.useState(0),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[p,m]=v.useState(!1),y=10;let x=(T=r==null?void 0:r.quizzes)==null?void 0:T.slice(a,a+y);const g=r==null?void 0:r.name,w=Math.ceil(o/y),_=Math.ceil((a+y)/y),I=Math.round(s/o*100);v.useEffect(()=>(Hi(),Hi()),[]),v.useEffect(()=>{s===o&&a+y>=o?u(!0):u(!1)},[a,e]),v.useEffect(()=>{s>=a+y?h(!0):h(!1)},[e,a]);const b={pageTitle:g,currentPage:_,totalPage:w,percentage:I,answerLength:s,questionsLength:o,answeredQuestions:e,currentQuestions:x,isEnded:c,chooseAnswer:(k,N)=>{const M=Ple(k,e);n(M?e.map(L=>k===L.id?{id:k,userAnswer:N}:L):[...e,{id:k,userAnswer:N}])},nextPage:()=>{d?(l(a+y),s<=a+y&&Hi()):Nle(m)},prevPage:()=>{l(Math.max(a-y,0))},startIndex:a,currentTest:r};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(Ir,{}),f.jsx(Ehe,{data:b}),f.jsx(Ihe,{data:b}),p&&f.jsx(Che,{}),f.jsx(Nhe,{data:b})]})},Mhe=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=v.useContext(Z);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),f.jsx(Le,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((i,s)=>Pi(i,s,"joinedAt","newer")).map((i,s)=>{const o=e(i.uid);return f.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===s&&"border-b"} ${s===0&&"border-t-0"} ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:f.jsx(Ohe,{member:i,onlineUser:o})},i.uid+i.joinedAt)})})]})},Ohe=({member:t,onlineUser:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t.uid,n,i,o),s?f.jsx(L1,{}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(ii,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:r==null?void 0:r.name}),f.jsx("p",{className:`text-sm ${e.isOnline?"text-blue-500":"text-red-500"}`,children:e.isOnline?"Online":Hl(jr(e.lastSeen))})]})]})},gM=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:i})=>{var o;const s=Pn();return f.jsx(o6,{sx:{background:"white"},children:f.jsxs(k6,{className:"h-[70px] bg-white z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Rn,{onClick:()=>{r?e(t):s("/app/chatroom")},children:f.jsx(Hn,{name:"back"})})}),f.jsxs("div",{onClick:()=>e(t),children:[f.jsx("p",{className:"text-lg text-black font-bold",children:n.name}),i&&f.jsxs("p",{className:"text-sm text-black",children:[i," ",i<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>e(t),children:f.jsx("img",{src:((o=n==null?void 0:n.image)==null?void 0:o.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},Dhe=({setSubPage:t,currentChat:e,onlineUsers:n,memberCounts:r,setMemberCounts:i,members:s,setMembers:o})=>{var R;const{chatId:a}=yf(),{theme:l,users:c,userData:u}=v.useContext(Z),d=ge(ye,"chats",a),[h,p]=v.useState(""),[m,y]=v.useState(null),x=ge(ye,"chats",a),g=Se(x,"members");v.useEffect(()=>{p(e.name)},[e]);const w=T=>{let k=!1;return s.forEach(N=>{N.uid===T&&(k=!0)}),k},_=async T=>{let k=!1;const N=wr(g,f1("uid","==",T),ro(1));return console.log("Checking if a member..."),k=!(await Ia(N)).empty,k};v.useEffect(()=>zi(g,M=>{M.empty||((async()=>await Gs(g,i))(),o(M.docs.map(j=>({...j.data(),id:j.id}))))}),[]);const I=async T=>{const k=ge(g,T);try{await _(T)||await rl(k,{uid:T,joinedAt:ir()})}catch(N){console.log(N.message)}},S=async T=>{try{const k=ge(g,T);await Jo(k)}catch(k){console.log(k.message)}},E=T=>{let k=!1,N=null;return n.forEach(M=>{M.uid===T&&(k=!0,N=M)}),{isOnline:k,...N}},C=async()=>{if(!m)return;const T=`chats/${e.id}/groupImage-${m.name}`,k=$o(storage,T),N=await gn(m,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),M=await of(k,N),L=await af(M.ref),j={name:m.name,path:T,URL:L,size:N.size};await Un(d,{image:j})},b=async()=>{h.trim()&&await Un(d,{name:h})};if(v.useEffect(()=>{C()},[m]),v.useEffect(()=>{scrollTo({top:0})},[]),e)return f.jsxs("div",{className:"",children:[f.jsx(gM,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:r}),(u==null?void 0:u.isAdmin)&&f.jsxs("div",{className:"p-2 m-1 mt-4 shadow-lg  border border-slate-300 rounded-md",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:T=>y(T.target.files[0])}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:(R=e==null?void 0:e.image)==null?void 0:R.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${l==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:Ne("edit")})})]}),f.jsxs("div",{className:`mt-2 ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx(di,{size:"small",value:h,onChange:T=>p(T.target.value)}),f.jsx(Rn,{onClick:b,children:f.jsx("img",{className:"w-7",src:Ne("save")})})]})]}),s&&f.jsx(Mhe,{members:s,onlineUsers:n,isUserOnline:E}),(u==null?void 0:u.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),f.jsx(Le,{className:"border rounded-md shadow-lg border-slate-200",children:c.sort((T,k)=>Pi(T,k,"createdAt","newer")).map((T,k)=>{const N=E(T.uid);return f.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t ${(s==null?void 0:s.length)===k&&"border-b"} ${k===0&&"border-t-0"} ${l==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(ii,{image:T.image,name:T.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${N.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:T.name}),f.jsx("p",{className:`text-sm ${N.isOnline?"text-blue-500":"text-red-500"}`,children:N.isOnline?"Online":Hl(jr(N.lastSeen))})]})]}),f.jsx("div",{children:w(T.uid)?!T.isAdmin&&f.jsx(Rn,{size:"small",onClick:()=>S(T.uid),children:f.jsx(Hn,{name:"trash"})}):f.jsx(Rn,{size:"small",onClick:()=>I(T.uid),children:f.jsx(Hn,{name:"add"})})})]},T.name+" "+T.image+k)})})]})]})},$he=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],jhe=({chatId:t,message:e,setReactedUsers:n})=>{v.useState(!1);const[r,i]=v.useState([]),s=Se(ge(Se(ge(ye,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=v.useContext(Z),a=()=>zi(s,h=>{if(!h.empty){const p=h.docs.map(m=>m.data());i(p)}});v.useEffect(()=>{const d=a();return()=>{d&&d()}},[]);const l=async()=>{const d=ge(s,o);await Jo(d)},c=d=>{let h=!1;return r.forEach(p=>{p.reactionType===d&&(h=!0)}),h},u=$he.filter(d=>c(d.name));if(r.length!==0)return f.jsx("div",{children:f.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:l}),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[u.map((d,h)=>f.jsx("img",{className:"w-4 ml-[-3px]",src:Ne(d.image)},`reaction-${d.name}-${h}`)),f.jsx("span",{className:"ml-1",children:r.length})]})})};function Fw(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const Fhe=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageObject:i,setViewingImage:s,setReplyMessage:o,isUserOnline:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:h,messages:p,setMessageOption:m,setReactedUsers:y})=>{var j;const{theme:x,userData:g,userId:w}=v.useContext(Z),_=w===t.senderId,I=a(t.senderId),S=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,E=v.useRef(!1),[C,b]=v.useState(!1),R=P=>{b(P)},T={...t,index:u},k=_?{text:"Edit",icon:"editPencil",onClick:()=>{i(T),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}}:null,N=_||g!=null&&g.isAdmin?{text:"Delete",icon:"deleteIcon",onClick:()=>{e(t,u)}}:null,M=()=>{let P=!1;return((t==null?void 0:t.seenBy)||[]).forEach(O=>{w===O.uid&&(P=!0)}),P},L=()=>{let P=!1;return u>=p.length-5&&u<=p.length-1&&(P=!0),P};return v.useEffect(()=>{(async()=>{const A=ge(c,t.id);E.current||!M()&&!_&&L()&&!d&&(await Un(A,{seenBy:hw({uid:w,timestamp:new Date().getTime()})}),E.current=!0)})()},[]),f.jsxs("div",{onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:`hover:bg-slate-100 rounded-md shadow-md shadow-r-none shadow-l-none flex mb-2 gap-x-2 pt-2 pb-2 border border-slate-200 border-dashed border-r-0 border-l-0 ${_?"flex-row-reverse":""} `,children:[f.jsx(Vhe,{senderId:t.senderId,onlineUser:I}),f.jsx("div",{className:`grid gap-y-1 whitespace-pre-wrap ${x==="light"?"":"text-white"}`,children:f.jsxs("div",{className:`flex  items-start gap-x-1 ${_?"flex-row-reverse justify-start":""}`,children:[f.jsx("div",{className:"relative",children:f.jsxs("div",{className:`max-w-[300px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] kkborder border-slate-200 p-3  ${x==="light"?`${_?" dfbg-blue-300 ":"fdbg-white  "}`:`${_?" fdbg-blue-300":"fdbg-white  text-black "}`}`,children:[f.jsx(Uhe,{senderId:t.senderId}),(t==null?void 0:t.reply)&&f.jsx(Bhe,{message:t,setViewingImage:s}),f.jsx("p",{className:"w-full max-w-full break-words ",children:t.content}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{s(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),f.jsx(jhe,{chatId:l,message:t,setReactedUsers:y}),f.jsx("div",{className:`flex  ${_?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:f.jsxs("p",{className:`border border-slate-200 shadow-md rounded-md mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${_?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Fw(jr(t.editedTime))]}):f.jsx("span",{children:Fw(jr(t.timestamp))}),S?f.jsxs("button",{onClick:()=>{h(t.seenBy)},className:"flex gap-x-1 items-center",children:[f.jsx("img",{className:"w-4",src:Ne("eye")}),(j=t==null?void 0:t.seenBy)==null?void 0:j.length]}):""]})})]})}),C&&f.jsx(Rn,{onClick:()=>m({...t,options:[k,N,{text:"Reply",icon:"reply",onClick:()=>o(t)}]}),children:f.jsx("img",{className:"w-6",src:Ne("moreOption")})})]})})]})},Vhe=({senderId:t,onlineUser:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t,n,i,o),s?f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]}):f.jsxs("div",{className:"size-10  relative",children:[f.jsx(ii,{name:r&&r.name,image:r&&r.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},Uhe=({senderId:t,isYourMessage:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t,n,i,o),s?f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]}):f.jsx("p",{className:`font-bold mb-2 ${e?"text-right":"text-left"} `,children:r!=null&&r.name?r.name:"Unknown User"})},Bhe=({message:t,setViewingImage:e})=>{const{users:n,theme:r}=v.useContext(Z),{senderId:i,content:s,image:o}=t.reply,[a,l]=v.useState(!1),[c,u]=v.useState(null);return Kn(i,n,u,()=>{}),f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${r==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:c==null?void 0:c.name}),s&&f.jsxs("p",{className:"w-full max-w-full break-words",children:[a?s:ba(s,25),s.length>=25&&f.jsx("span",{onClick:()=>{l(!a)},className:"font-bold text-blue-400 cursor-pointer",children:a?" see less":" see more"})]}),o&&f.jsx("img",{onClick:()=>{e(o)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:o.name,src:o.URL})]})},zhe=({setIsRulesOpen:t,isRulesOpen:e,rules:n=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>f.jsx(Ji,{open:e,onClose:()=>t(!1),children:n?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,i)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:i+1}),f.jsx("p",{className:"flex-1",children:r})]},`${i}-${r}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),Whe=({typingUsers:t,viewingOldMessages:e,isUserOnline:n})=>{const{users:r,theme:i,userId:s}=v.useContext(Z);if(v.useEffect(()=>{!e&&t.length!==0&&uh()},[t]),t.length!==0)return f.jsx("div",{className:"",children:f.jsx("div",{className:"grid gap-y-1",children:t.sort((o,a)=>Pi(o,a,"timestamp","older")).map(o=>{const a=n(o.uid),l=s===o.uid;return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${l?"flex-row-reverse":""} `,children:[f.jsx(Hhe,{typingUser:o,onlineUser:a}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${i==="light"?"":"text-white"}`,children:[f.jsx(qhe,{isYourMessage:l,typingUser:o}),f.jsx("div",{className:`flex items-start gap-x-1 ${l?"flex-row-reverse justify-start":""}`,children:f.jsx("div",{children:f.jsx("p",{className:`max-w-[250px] w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${i==="light"?`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:f.jsx(dM,{})})})})]})]},`typingUsers-${o.uid}`)})})})},Hhe=({typingUser:t,onlineUser:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t.uid,n,i,o),s?f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]}):f.jsxs("div",{className:"size-10 relative",children:[f.jsx(ii,{name:r==null?void 0:r.name,image:r==null?void 0:r.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},qhe=({typingUser:t,isYourMessage:e})=>{const{users:n}=v.useContext(Z),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Kn(t.uid,n,i,o),s?f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]}):f.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})},Ghe=["January","February","March","April","May","June","July","August","September","October","November","December"],Khe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function vM(t){const e=new Date(t),n=new Date,r=e.getFullYear(),i=e.getMonth(),s=e.getDate(),o=Khe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${Ghe[i]} ${s}, ${r}`}const Qhe=({seenUsers:t,setSeenUsers:e})=>{v.useContext(Z);const n=()=>{const r=t.reduce((i,s)=>{const o=new Date(jr(s.timestamp)),a=o.getFullYear(),l=o.getMonth(),c=o.getDate(),u=`${a}-${l+1}-${c}`;return i[u]||(i[u]={date:u,users:[]}),i[u].users.push(s),i},{});return Object.values(r)};return f.jsx(Ji,{anchor:"bottom",open:!!t,onClose:()=>e(!1),children:f.jsxs("div",{className:" sm:w-[400px] md:w-[450px] lg:w-[500px]  bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),f.jsx("div",{className:"flex flex-col p-2",children:n().map(r=>{const i=new Date(r.date).getTime(),s=vM(i);return f.jsxs(Le,{children:[f.jsx(Le,{className:"mb-1",children:s}),r.users.sort((o,a)=>Pi(o,a,"timestamp","older")).map((o,a)=>f.jsx(Yhe,{seenPerson:o},`seenUser-${o.uid}-${a}`))]},s+"seenUsers")})})]})})},Yhe=({seenPerson:t})=>{var o;const{users:e}=v.useContext(Z),[n,r]=v.useState(null),[i,s]=v.useState(!0);return Kn(t.uid,e,r,s),i?f.jsx("div",{className:"mb-1 w-[275px]",children:f.jsx(L1,{})}):f.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(ii,{image:n==null?void 0:n.image,name:n==null?void 0:n.name,size:"size-9"}),f.jsx("p",{children:((o=n==null?void 0:n.name)==null?void 0:o.length)>20?ba(n==null?void 0:n.name,20):n==null?void 0:n.name})]}),f.jsx("p",{className:"ml-[4px]",children:Fw(t.timestamp)})]})},Xhe=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:i}=v.useContext(Z),s=o=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[o];return f.jsx(Ji,{open:!!t,onClose:()=>r(null),children:f.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md pl-4 text-lg font-bold",children:"Reactions"}),f.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((o,a)=>{const l=o.uid===i;return f.jsx(Jhe,{okToRemove:l,reactedPerson:o,getReactIcon:s,removeReaction:e,close:()=>r(null)},`reactedBy-${o.uid}-${a}`)})})]})})},Jhe=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:i})=>{const{users:s}=v.useContext(Z),[o,a]=v.useState(null),[l,c]=v.useState(!0);return Kn(e.uid,s,a,c),l?f.jsxs(Le,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Cs,{})]}):f.jsxs("div",{onClick:()=>{n&&(i(),r())},className:`flex md:w-[450px] lg:w-[500px] justify-between items-center w-full hover:bg-slate-100 ${n?"cursor-pointer":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(ii,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),f.jsxs("p",{className:"ml-[4px]",children:[o==null?void 0:o.name," ",n?"(Click to remove)":""]})]}),f.jsx("img",{className:"w-6 ",src:Ne(t(e.reactionType))})]})},L4=15,Zhe=()=>{const{userId:t}=v.useContext(Z),{chatId:e}=yf(),[n,r]=v.useState(null),[i,s]=v.useState(!0),o=ge(ye,"chats",e),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,h]=v.useState(null);return v.useEffect(()=>{const p=()=>(l(!0),zi(o,g=>{g.exists()?r({...g.data(),id:g.id}):u(!0),l(!1)},g=>{const w="Error fetching the current chat: "+g.message;l(!1),console.log(w),h(w)}));(async()=>{try{const x=Se(o,"members"),g=wr(x,f1("uid","==",t),ro(1));console.log("Checking if a member...");const w=await Ia(g);s(!w.empty)}catch(x){console.log(x.message)}})();const y=p();return()=>{y&&y()}},[e]),a?f.jsx(Ir,{isLoading:a,text:"Loading chat..."}):c?f.jsx(wn,{text:"No chat available"}):i?d?f.jsx(wn,{text:d}):f.jsx(efe,{chatId:e,currentChat:n}):f.jsx(wn,{text:"You are not a member of the chat room"})},efe=({chatId:t,currentChat:e})=>{const[n,r]=v.useState([]),{theme:i,userData:s,users:o,newMessages:a,userId:l,setHeaderTitle:c}=v.useContext(Z),[u,d]=v.useState(""),[h,p]=v.useState("chat"),[m,y]=v.useState(null),x=ge(ye,"chats",t),g=Se(x,"messages"),[w,_]=v.useState(null),[I,S]=v.useState(!1),[E,C]=v.useState(!1),[b,R]=v.useState(null),[T,k]=v.useState(null),[N,M]=v.useState(null),[L,j]=v.useState(!1),P=Se(x,"typingUsers"),A=ge(P,l),[O,$]=v.useState(!1);let F=0;const q=Se(x,"onlineUsers"),W=ge(q,l),[z,B]=v.useState([]),[V,G]=v.useState(null),[ie,le]=v.useState([]),[ee,he]=v.useState([]),[ce,oe]=v.useState(),[ve,Re]=v.useState(null),[xe,wt]=v.useState(!1),[Ue,De]=v.useState([]),[st,lt]=v.useState(null),[Te,bt]=v.useState(null),[$e,Ee]=v.useState(null);v.useEffect(()=>{(async()=>{const Xe=ge(ye,"chats",e.id),pt=Se(Xe,"members");await Gs(pt,lt)})()},[e]),v.useEffect(()=>{c((e==null?void 0:e.name)||"SEA - Chat ")},[]),v.useEffect(()=>{const Xe=zi(P,rt=>{if(!rt.empty){const qt=rt.docs.map(Cr=>Cr.data());r(qt)}},rt=>{console.log("Error fetching typing users: ",rt.message)});return()=>{Xe&&Xe()}},[]),v.useEffect(()=>(u.trim()&&$(!0),F=setTimeout(()=>{$(!1)},3e3),()=>{$(!1),clearTimeout(F)}),[u]);const St=async()=>{await rl(A,{uid:l,timestamp:ir()})},an=async()=>{const Ie=ge(P,l);await Jo(Ie)};v.useEffect(()=>(O?St():an(),()=>{an()}),[O]);const On=()=>{let Ie;if(xe)return;const Xe=Se(ge(ye,"chats",t),"messages");let pt=wr(Xe,vu("timestamp","desc"),ro(L4));return Ie=zi(pt,rt=>{console.log("Fetching messages..."),ke(rt)}),()=>Ie()};v.useEffect(()=>{const Ie=On();return()=>{Ie&&Ie()}},[xe,t]);const ke=Ie=>{Ie.docs.length>0&&(oe(Ie.docs[0]),Re(Ie.docs[Ie.docs.length-1]));const Xe=Ie.docs.map(pt=>({id:pt.id,...pt.data()}));le(Xe.sort((pt,rt)=>Pi(pt,rt,"timestamp")))},me=async Ie=>{const Xe=Ie==="old"?"desc":"asc";if(!ve)return;const pt=wr(g,vu("timestamp",Xe),p1(ve),ro(L4));console.log("Fetching messages...");const rt=await Ia(pt);ke(rt)};v.useEffect(()=>{const Xe=zi(q,rt=>{if(!rt.empty){const qt=rt.docs.map(Cr=>({...Cr.data()}));B(qt)}});return()=>{Xe&&Xe()}},[]);const Ct=async()=>{await rl(W,{uid:l,lastSeen:ir()})},tn=async()=>{const Ie=ge(q,l);await Jo(Ie)};v.useEffect(()=>(Ct(),window.addEventListener("beforeunload",tn),()=>{window.addEventListener("beforeunload",tn),tn()}),[]),Kn(T==null?void 0:T.senderId,o,M,()=>{},[T]);const ln=async Ie=>{const Xe=new Date().getTime(),pt=`chats/${t}/${Xe}-${s.name}-${Ie.name}`,rt=$o(Qa,pt);S(!0),C(!0);const qt=await gn(Ie,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),Cr=await of(rt,qt),Rs=await af(Cr.ref),Ql={name:Ie.name,path:pt,URL:Rs,size:qt.size};_(Ql),S(!1),C(!1)},fe=async Ie=>{const Xe=$o(Qa,Ie);await pw(Xe),_(null)},Be=async()=>{const Ie=ge(Se(ye,"newMessages"),t);await rl(Ie,{seenBy:hw(l)})};v.useEffect(()=>{(async()=>{const Xe=ge(Se(ye,"newMessages"),t);C1(a,t)||await Un(Xe,{seenBy:hw(l)})})()},[ie]);const Tt=async()=>{try{const Ie={senderId:l,content:u.trim(),timestamp:ir(),image:w||null,reply:T||null,seenBy:[]};C(!0),await la(g,Ie),Be(),d(""),_(null),uh(),C(!1),k(null),M(null),$(!1)}catch(Ie){console.log(Ie.message)}},br=async()=>{try{const Ie=ge(g,m.id),Xe={senderId:l,content:u.trim(),editedTime:ir(),image:w||null,reply:T||null};C(!0),await Un(Ie,Xe),Be(),br&&d(""),_(null),y(null),C(!1),k(null),M(null)}catch(Ie){console.log(Ie.message)}},Gl=async(Ie,Xe)=>{const pt=ge(g,Ie.id);await Jo(pt),xe&&me("old")},Kl=Ie=>{let Xe=!1,pt=null;return z.forEach(rt=>{rt.uid===Ie&&(Xe=!0,pt=rt)}),{isOnline:Xe,...pt}};return v.useEffect(()=>{he((()=>{if(ie.length>0){const Xe=ie.reduce((pt,rt)=>{const qt=new Date(jr(rt.timestamp)),Cr=qt.getFullYear(),Rs=qt.getMonth(),Ql=qt.getDate(),si=`${Cr}-${Rs+1}-${Ql}`;return pt[si]||(pt[si]={date:si,messages:[]}),pt[si].messages.push(rt),pt},{});return Object.values(Xe)}else return})())},[ie]),h==="info"?f.jsx(Dhe,{setSubPage:p,currentChat:e,onlineUsers:z,memberCounts:st,setMemberCounts:lt,members:Ue,setMembers:De}):f.jsxs("div",{className:"",children:[f.jsx(tfe,{}),$e&&f.jsx(Xhe,{reactedBy:$e.reactedBy,removeReaction:$e.removeReaction,reactedUsers:$e,setReactedUsers:Ee}),Te&&f.jsx($L,{handleClick:()=>{bt(null)},messageOption:Te,setMessageOption:bt,options:Te.options,message:Te,chatId:t,isComment:!1}),b&&f.jsx(hM,{image:b,setViewingImage:R}),L&&f.jsx(zhe,{isRulesOpen:L,setIsRulesOpen:j,rules:e==null?void 0:e.rules}),V&&f.jsx(Qhe,{seenUsers:V,setSeenUsers:G}),f.jsx(gM,{pageName:"info",setSubPage:p,currentChat:e,memberCounts:st}),f.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx(Ve,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{me("old"),uh(),wt(!0)},children:"Older messages"})}),f.jsx(Le,{children:ee==null?void 0:ee.map(Ie=>{const Xe=new Date(Ie.date).getTime(),pt=vM(Xe);return f.jsxs(Le,{children:[f.jsx(Le,{className:"z-30 sticky top-[71px] bg-white/50 backdrop-blur-md  p-2 rounded-md",children:pt}),Ie.messages.map((rt,qt)=>f.jsx(Fhe,{editMessage:br,setEditMessageObject:y,deleteMessage:Gl,message:rt,setMessage:d,setImageObject:_,setViewingImage:R,setReplyMessage:k,isUserOnline:Kl,chatId:t,messagesRef:g,messageIndex:qt,viewingOldMessages:xe,setSeenUsers:G,messages:ie,setMessageOption:bt,setReactedUsers:Ee},`${qt}-${rt.id}`))]},Ie.date)})}),xe?f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx(Ve,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{me("new")},children:"Newer messages"}),f.jsx(Ve,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{On(),wt(!1),uh()},children:"Latest messages"})]}):"",f.jsx(Whe,{typingUsers:n,viewingOldMessages:xe,isUserOnline:Kl})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${i==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>j(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),m&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{y(null),d(""),_(null),k(null),M(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Ne("falseIcon")})})]}),T&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",N==null?void 0:N.name]}),f.jsx("p",{children:ba(T==null?void 0:T.content,25)})]}),f.jsx("button",{onClick:()=>{k(null),M(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Ne("falseIcon")})})]}),I&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),w&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:w.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:w.name})]}),f.jsx("button",{onClick:()=>{fe(w.path),_(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Ne("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${i==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:Ie=>{ln(Ie.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:Ne("image")})}),f.jsx("textarea",{onChange:Ie=>d(Ie.target.value),value:u,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${i==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!E&&(u.trim()||w)&&(m?br():Tt())},children:f.jsx("img",{className:"w-10",src:Ne(E?"sendingLetter":"sendLetter")})})]})]})]})},tfe=()=>{t0("chat-page"),n0("chat-page")},nfe=()=>f.jsxs("div",{className:"m-3 grid gap-y-2",children:[f.jsx(pM,{}),f.jsx(mM,{}),f.jsx(L1,{}),f.jsx(sL,{})]}),Z=v.createContext();function rfe(){var ee,he,ce;const t=iL("sea-localStorage"),[e,n]=v.useState("light"),[r,i]=v.useState(((ee=t==null?void 0:t.timer)==null?void 0:ee.seconds)||0),[s,o]=v.useState(((he=t==null?void 0:t.timer)==null?void 0:he.minutes)||0),[a,l]=v.useState(((ce=t==null?void 0:t.timer)==null?void 0:ce.hours)||0),[c,u]=v.useState(!1),[d,h]=v.useState({}),[p,m]=v.useState([]),[y,x]=v.useState(null),[g,w]=v.useState(null),[_,I]=v.useState(null),[S,E]=v.useState(!1),[C,b]=v.useState(""),[R,T]=v.useState(!1),[k,N]=v.useState([]),[M,L]=v.useState([]),[j,P]=v.useState([]),[A,O]=v.useState(null),[$,F]=v.useState([]),[q,W]=v.useState(!1),[z,B]=v.useState("");Ale("users",h),Bl(Se(ye,"newMessages"),[],P,()=>{},()=>{});const V=()=>{},G=()=>{i(0),o(0),l(0)},ie=()=>{G()};v.useEffect(()=>{rL("seaacademy-theme-data",e)},[e]);const le=`${a}:${YS(s)}:${YS(r)}`;return v.useEffect(()=>{const oe=setInterval(()=>{r<59?i(r+1):(i(0),o(s+1)),s===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(oe)}},[r]),f.jsx(Z.Provider,{value:{myChats:$,setMyChats:F,stopTest:ie,seaLocalStorage:t,formattedTime:le,startTimer:G,seconds:r,minutes:s,hours:a,inspecting:S,userData:d,isLogin:c,setUserData:h,users:p,setUsers:m,headerTitle:C,setHeaderTitle:b,theme:e,setTheme:n,refreshUserData:V,isOnline:R,setIsOnline:T,userId:y,setUserId:x,setInspecting:E,setIsLogIn:u,posts:k,setPosts:N,tests:M,setTests:L,history,chats:A,setChats:O,newMessages:j,notiCount:_,setNotiCount:I,historyCount:g,setHistoryCount:w,snackbarOpen:q,setSnackbarOpen:W,snackbarMessage:z,setSnackbarMessage:B},children:f.jsxs(Le,{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:[f.jsx(p_,{open:q,onClose:()=>W(!1),autoHideDuration:3e3,message:z}),f.jsxs(F$,{children:[f.jsx(lhe,{}),C!=="Chat"&&f.jsx(Vle,{}),f.jsx(zle,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:f.jsxs(N$,{children:[f.jsx(cn,{exact:!0,path:"/test",element:f.jsx(nfe,{})}),f.jsx(cn,{exact:!0,path:"/login",element:f.jsx(Gle,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(cn,{exact:!0,path:"/app",element:f.jsx(_he,{})}),f.jsx(cn,{exact:!0,path:"/app/tests",element:f.jsx(whe,{})}),f.jsx(cn,{exact:!0,path:"/app/tests/:testId",element:f.jsx(Lhe,{})}),f.jsx(cn,{exact:!0,path:"/app/history",element:f.jsx(JS,{})}),f.jsx(cn,{exact:!0,path:"/app/history/:resultId",element:f.jsx(Dle,{})}),f.jsx(cn,{exact:!0,path:"/app/help",element:f.jsx(che,{})}),f.jsx(cn,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(Ule,{})}),f.jsx(cn,{path:"/app/history",element:f.jsx(JS,{})}),f.jsx(cn,{path:"/app/chatroom",element:f.jsx(ohe,{})}),f.jsx(cn,{path:"/app/chatroom/:chatId",element:f.jsx(Zhe,{})}),f.jsx(cn,{path:"/app/notifications",element:f.jsx(Jue,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(cn,{path:"/app/admin",element:f.jsx(Wle,{})}),f.jsx(cn,{path:"/app/admin/tests",element:f.jsx(Uue,{})}),f.jsx(cn,{path:"/app/admin/users",element:f.jsx(que,{})}),f.jsx(cn,{path:"/app/admin/posts",element:f.jsx(Kue,{})})]}),f.jsx(cn,{exact:!0,path:"/app/settings",element:f.jsx(Nue,{})})]}),f.jsx(cn,{path:"*",element:f.jsx(A6,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&f.jsx(Hle,{})]})]})})}sy.createRoot(document.getElementById("root")).render(f.jsx(f.Fragment,{children:f.jsx(rfe,{})}));
