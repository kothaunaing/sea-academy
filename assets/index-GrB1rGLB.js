function i9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function o9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ai(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ox={exports:{}},P0={},Mx={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),a9=Symbol.for("react.portal"),l9=Symbol.for("react.fragment"),c9=Symbol.for("react.strict_mode"),u9=Symbol.for("react.profiler"),d9=Symbol.for("react.provider"),h9=Symbol.for("react.context"),f9=Symbol.for("react.forward_ref"),p9=Symbol.for("react.suspense"),m9=Symbol.for("react.memo"),g9=Symbol.for("react.lazy"),__=Symbol.iterator;function y9(t){return t===null||typeof t!="object"?null:(t=__&&t[__]||t["@@iterator"],typeof t=="function"?t:null)}var Dx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jx=Object.assign,$x={};function ll(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Dx}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fx(){}Fx.prototype=ll.prototype;function Hg(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Dx}var qg=Hg.prototype=new Fx;qg.constructor=Hg;jx(qg,ll.prototype);qg.isPureReactComponent=!0;var w_=Array.isArray,Vx=Object.prototype.hasOwnProperty,Gg={current:null},Ux={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vx.call(e,r)&&!Ux.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Cu,type:t,key:i,ref:o,props:s,_owner:Gg.current}}function v9(t,e){return{$$typeof:Cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cu}function _9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x_=/\/+/g;function L2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_9(""+t.key):e.toString(36)}function Bd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cu:case a9:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+L2(o,0):r,w_(s)?(n="",t!=null&&(n=t.replace(x_,"$&/")+"/"),Bd(s,e,n,"",function(c){return c})):s!=null&&(Kg(s)&&(s=v9(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(x_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",w_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+L2(i,a);o+=Bd(i,e,n,l,s)}else if(l=y9(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+L2(i,a++),o+=Bd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ld(t,e,n){if(t==null)return t;var r=[],s=0;return Bd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function w9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},Wd={transition:null},x9={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:Gg};me.Children={map:ld,forEach:function(t,e,n){ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ld(t,function(){e++}),e},toArray:function(t){return ld(t,function(e){return e})||[]},only:function(t){if(!Kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ll;me.Fragment=l9;me.Profiler=u9;me.PureComponent=Hg;me.StrictMode=c9;me.Suspense=p9;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x9;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vx.call(e,l)&&!Ux.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cu,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:h9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d9,_context:t},t.Consumer=t};me.createElement=zx;me.createFactory=function(t){var e=zx.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:f9,render:t}};me.isValidElement=Kg;me.lazy=function(t){return{$$typeof:g9,_payload:{_status:-1,_result:t},_init:w9}};me.memo=function(t,e){return{$$typeof:m9,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return En.current.useCallback(t,e)};me.useContext=function(t){return En.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return En.current.useDeferredValue(t)};me.useEffect=function(t,e){return En.current.useEffect(t,e)};me.useId=function(){return En.current.useId()};me.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return En.current.useMemo(t,e)};me.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};me.useRef=function(t){return En.current.useRef(t)};me.useState=function(t){return En.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return En.current.useTransition()};me.version="18.2.0";Mx.exports=me;var I=Mx.exports;const Yi=o9(I),Bp=i9({__proto__:null,default:Yi},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9=I,C9=Symbol.for("react.element"),T9=Symbol.for("react.fragment"),I9=Object.prototype.hasOwnProperty,S9=E9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b9={key:!0,ref:!0,__self:!0,__source:!0};function Bx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)I9.call(e,r)&&!b9.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:C9,type:t,key:i,ref:o,props:s,_owner:S9.current}}P0.Fragment=T9;P0.jsx=Bx;P0.jsxs=Bx;Ox.exports=P0;var f=Ox.exports,Wp={},Wx={exports:{}},Zn={},Hx={exports:{}},qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var $=D.length;D.push(M);e:for(;0<$;){var H=$-1>>>1,U=D[H];if(0<s(U,M))D[H]=M,D[$]=U,$=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var H=0,U=D.length,J=U>>>1;H<J;){var z=2*(H+1)-1,F=D[z],te=z+1,he=D[te];if(0>s(F,$))te<U&&0>s(he,F)?(D[H]=he,D[te]=$,H=te):(D[H]=F,D[z]=$,H=z);else if(te<U&&0>s(he,$))D[H]=he,D[te]=$,H=te;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=D)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function T(D){if(y=!1,x(D),!m)if(n(l)!==null)m=!0,k(R);else{var M=n(c);M!==null&&A(T,M.startTime-D)}}function R(D,M){m=!1,y&&(y=!1,g(C),C=-1),p=!0;var $=h;try{for(x(M),d=n(l);d!==null&&(!(d.expirationTime>M)||D&&!P());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var U=H(d.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),x(M)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var z=n(c);z!==null&&A(T,z.startTime-M),J=!1}return J}finally{d=null,h=$,p=!1}}var w=!1,S=null,C=-1,E=5,b=-1;function P(){return!(t.unstable_now()-b<E)}function N(){if(S!==null){var D=t.unstable_now();b=D;var M=!0;try{M=S(!0,D)}finally{M?O():(w=!1,S=null)}}else w=!1}var O;if(typeof v=="function")O=function(){v(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=N,O=function(){j.postMessage(null)}}else O=function(){_(N,0)};function k(D){S=D,w||(w=!0,O())}function A(D,M){C=_(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k(R))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return M()}finally{h=$}},t.unstable_scheduleCallback=function(D,M,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=$+U,D={id:u++,callback:M,priorityLevel:D,startTime:$,expirationTime:U,sortIndex:-1},$>H?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(g(C),C=-1):y=!0,A(T,$-H))):(D.sortIndex=U,e(l,D),m||p||(m=!0,k(R))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var M=h;return function(){var $=h;h=M;try{return D.apply(this,arguments)}finally{h=$}}}})(qx);Hx.exports=qx;var A9=Hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=I,Qn=A9;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kx=new Set,Rc={};function Oo(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(Rc[t]=e,t=0;t<e.length;t++)Kx.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=Object.prototype.hasOwnProperty,R9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E_={},C_={};function k9(t){return Hp.call(C_,t)?!0:Hp.call(E_,t)?!1:R9.test(t)?C_[t]=!0:(E_[t]=!0,!1)}function N9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P9(t,e,n,r){if(e===null||typeof e>"u"||N9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Yg);Xt[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Yg);Xt[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Yg);Xt[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P9(e,n,s,r)&&(n=null),r||s===null?k9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fs=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cd=Symbol.for("react.element"),sa=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Kp=Symbol.for("react.suspense_list"),e1=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),Xx=Symbol.for("react.offscreen"),T_=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,O2;function Xl(t){if(O2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O2=e&&e[1]||""}return`
`+O2+t}var M2=!1;function D2(t,e){if(!t||M2)return"";M2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{M2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function L9(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=D2(t.type,!1),t;case 11:return t=D2(t.type.render,!1),t;case 1:return t=D2(t.type,!0),t;default:return""}}function Qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ia:return"Fragment";case sa:return"Portal";case qp:return"Profiler";case Jg:return"StrictMode";case Gp:return"Suspense";case Kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yx:return(t.displayName||"Context")+".Consumer";case Qx:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e1:return e=t.displayName||null,e!==null?e:Qp(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return Qp(t(e))}catch{}}return null}function O9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M9(t){var e=Jx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ud(t){t._valueTracker||(t._valueTracker=M9(t))}function Zx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yp(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eE(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function Xp(t,e){eE(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jp(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jp(t,e,n){(e!=="number"||mh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Jl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function tE(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,rE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D9=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(t){D9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lc[e]=lc[t]})});function sE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lc.hasOwnProperty(t)&&lc[t]?(""+e).trim():e+"px"}function iE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var j9=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tm(t,e){if(e){if(j9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=null;function t1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sm=null,Ea=null,Ca=null;function R_(t){if(t=Su(t)){if(typeof sm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=j0(e),sm(t.stateNode,t.type,e))}}function oE(t){Ea?Ca?Ca.push(t):Ca=[t]:Ea=t}function aE(){if(Ea){var t=Ea,e=Ca;if(Ca=Ea=null,R_(t),e)for(t=0;t<e.length;t++)R_(e[t])}}function lE(t,e){return t(e)}function cE(){}var j2=!1;function uE(t,e,n){if(j2)return t(e,n);j2=!0;try{return lE(t,e,n)}finally{j2=!1,(Ea!==null||Ca!==null)&&(cE(),aE())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=j0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var im=!1;if(As)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){im=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{im=!1}function $9(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var cc=!1,gh=null,yh=!1,om=null,F9={onError:function(t){cc=!0,gh=t}};function V9(t,e,n,r,s,i,o,a,l){cc=!1,gh=null,$9.apply(F9,arguments)}function U9(t,e,n,r,s,i,o,a,l){if(V9.apply(this,arguments),cc){if(cc){var c=gh;cc=!1,gh=null}else throw Error(W(198));yh||(yh=!0,om=c)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k_(t){if(Mo(t)!==t)throw Error(W(188))}function z9(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return k_(s),t;if(i===r)return k_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function hE(t){return t=z9(t),t!==null?fE(t):null}function fE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fE(t);if(e!==null)return e;t=t.sibling}return null}var pE=Qn.unstable_scheduleCallback,N_=Qn.unstable_cancelCallback,B9=Qn.unstable_shouldYield,W9=Qn.unstable_requestPaint,dt=Qn.unstable_now,H9=Qn.unstable_getCurrentPriorityLevel,n1=Qn.unstable_ImmediatePriority,mE=Qn.unstable_UserBlockingPriority,vh=Qn.unstable_NormalPriority,q9=Qn.unstable_LowPriority,gE=Qn.unstable_IdlePriority,L0=null,Zr=null;function G9(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(L0,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:Y9,K9=Math.log,Q9=Math.LN2;function Y9(t){return t>>>=0,t===0?32:31-(K9(t)/Q9|0)|0}var hd=64,fd=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zl(a):(i&=o,i!==0&&(r=Zl(i)))}else o=n&~s,o!==0?r=Zl(o):i!==0&&(r=Zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),s=1<<n,r|=t[n],e&=~s;return r}function X9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=X9(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yE(){var t=hd;return hd<<=1,!(hd&4194240)&&(hd=64),t}function $2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function Z9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function r1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function vE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _E,s1,wE,xE,EE,lm=!1,pd=[],ai=null,li=null,ci=null,Pc=new Map,Lc=new Map,Ks=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P_(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Pl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Su(e),e!==null&&s1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function tA(t,e,n,r,s){switch(e){case"focusin":return ai=Pl(ai,t,e,n,r,s),!0;case"dragenter":return li=Pl(li,t,e,n,r,s),!0;case"mouseover":return ci=Pl(ci,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pc.set(i,Pl(Pc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lc.set(i,Pl(Lc.get(i)||null,t,e,n,r,s)),!0}return!1}function CE(t){var e=Xi(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=dE(n),e!==null){t.blockedOn=e,EE(t.priority,function(){wE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rm=r,n.target.dispatchEvent(r),rm=null}else return e=Su(n),e!==null&&s1(e),t.blockedOn=n,!1;e.shift()}return!0}function L_(t,e,n){Hd(t)&&n.delete(e)}function nA(){lm=!1,ai!==null&&Hd(ai)&&(ai=null),li!==null&&Hd(li)&&(li=null),ci!==null&&Hd(ci)&&(ci=null),Pc.forEach(L_),Lc.forEach(L_)}function Ll(t,e){t.blockedOn===e&&(t.blockedOn=null,lm||(lm=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,nA)))}function Oc(t){function e(s){return Ll(s,t)}if(0<pd.length){Ll(pd[0],t);for(var n=1;n<pd.length;n++){var r=pd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ai!==null&&Ll(ai,t),li!==null&&Ll(li,t),ci!==null&&Ll(ci,t),Pc.forEach(e),Lc.forEach(e),n=0;n<Ks.length;n++)r=Ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&Ks.shift()}var Ta=Fs.ReactCurrentBatchConfig,wh=!0;function rA(t,e,n,r){var s=ke,i=Ta.transition;Ta.transition=null;try{ke=1,i1(t,e,n,r)}finally{ke=s,Ta.transition=i}}function sA(t,e,n,r){var s=ke,i=Ta.transition;Ta.transition=null;try{ke=4,i1(t,e,n,r)}finally{ke=s,Ta.transition=i}}function i1(t,e,n,r){if(wh){var s=cm(t,e,n,r);if(s===null)K2(t,e,r,xh,n),P_(t,r);else if(tA(s,t,e,n,r))r.stopPropagation();else if(P_(t,r),e&4&&-1<eA.indexOf(t)){for(;s!==null;){var i=Su(s);if(i!==null&&_E(i),i=cm(t,e,n,r),i===null&&K2(t,e,r,xh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else K2(t,e,r,null,n)}}var xh=null;function cm(t,e,n,r){if(xh=null,t=t1(r),t=Xi(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xh=t,null}function TE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H9()){case n1:return 1;case mE:return 4;case vh:case q9:return 16;case gE:return 536870912;default:return 16}default:return 16}}var ni=null,o1=null,qd=null;function IE(){if(qd)return qd;var t,e=o1,n=e.length,r,s="value"in ni?ni.value:ni.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qd=s.slice(t,1<r?1-r:void 0)}function Gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function md(){return!0}function O_(){return!1}function er(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?md:O_,this.isPropagationStopped=O_,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a1=er(cl),Iu=rt({},cl,{view:0,detail:0}),iA=er(Iu),F2,V2,Ol,O0=rt({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ol&&(Ol&&t.type==="mousemove"?(F2=t.screenX-Ol.screenX,V2=t.screenY-Ol.screenY):V2=F2=0,Ol=t),F2)},movementY:function(t){return"movementY"in t?t.movementY:V2}}),M_=er(O0),oA=rt({},O0,{dataTransfer:0}),aA=er(oA),lA=rt({},Iu,{relatedTarget:0}),U2=er(lA),cA=rt({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),uA=er(cA),dA=rt({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hA=er(dA),fA=rt({},cl,{data:0}),D_=er(fA),pA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gA[t])?!!e[t]:!1}function l1(){return yA}var vA=rt({},Iu,{key:function(t){if(t.key){var e=pA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l1,charCode:function(t){return t.type==="keypress"?Gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_A=er(vA),wA=rt({},O0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j_=er(wA),xA=rt({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l1}),EA=er(xA),CA=rt({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),TA=er(CA),IA=rt({},O0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=er(IA),bA=[9,13,27,32],c1=As&&"CompositionEvent"in window,uc=null;As&&"documentMode"in document&&(uc=document.documentMode);var AA=As&&"TextEvent"in window&&!uc,SE=As&&(!c1||uc&&8<uc&&11>=uc),$_=" ",F_=!1;function bE(t,e){switch(t){case"keyup":return bA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function RA(t,e){switch(t){case"compositionend":return AE(e);case"keypress":return e.which!==32?null:(F_=!0,$_);case"textInput":return t=e.data,t===$_&&F_?null:t;default:return null}}function kA(t,e){if(oa)return t==="compositionend"||!c1&&bE(t,e)?(t=IE(),qd=o1=ni=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SE&&e.locale!=="ko"?null:e.data;default:return null}}var NA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NA[t.type]:e==="textarea"}function RE(t,e,n,r){oE(r),e=Eh(e,"onChange"),0<e.length&&(n=new a1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dc=null,Mc=null;function PA(t){VE(t,0)}function M0(t){var e=ca(t);if(Zx(e))return t}function LA(t,e){if(t==="change")return e}var kE=!1;if(As){var z2;if(As){var B2="oninput"in document;if(!B2){var U_=document.createElement("div");U_.setAttribute("oninput","return;"),B2=typeof U_.oninput=="function"}z2=B2}else z2=!1;kE=z2&&(!document.documentMode||9<document.documentMode)}function z_(){dc&&(dc.detachEvent("onpropertychange",NE),Mc=dc=null)}function NE(t){if(t.propertyName==="value"&&M0(Mc)){var e=[];RE(e,Mc,t,t1(t)),uE(PA,e)}}function OA(t,e,n){t==="focusin"?(z_(),dc=e,Mc=n,dc.attachEvent("onpropertychange",NE)):t==="focusout"&&z_()}function MA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return M0(Mc)}function DA(t,e){if(t==="click")return M0(e)}function jA(t,e){if(t==="input"||t==="change")return M0(e)}function $A(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pr=typeof Object.is=="function"?Object.is:$A;function Dc(t,e){if(Pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hp.call(e,s)||!Pr(t[s],e[s]))return!1}return!0}function B_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W_(t,e){var n=B_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B_(n)}}function PE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LE(){for(var t=window,e=mh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mh(t.document)}return e}function u1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FA(t){var e=LE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PE(n.ownerDocument.documentElement,n)){if(r!==null&&u1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=W_(n,i);var o=W_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VA=As&&"documentMode"in document&&11>=document.documentMode,aa=null,um=null,hc=null,dm=!1;function H_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dm||aa==null||aa!==mh(r)||(r=aa,"selectionStart"in r&&u1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&Dc(hc,r)||(hc=r,r=Eh(um,"onSelect"),0<r.length&&(e=new a1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},W2={},OE={};As&&(OE=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function D0(t){if(W2[t])return W2[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OE)return W2[t]=e[n];return t}var ME=D0("animationend"),DE=D0("animationiteration"),jE=D0("animationstart"),$E=D0("transitionend"),FE=new Map,q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){FE.set(t,e),Oo(e,[t])}for(var H2=0;H2<q_.length;H2++){var q2=q_[H2],UA=q2.toLowerCase(),zA=q2[0].toUpperCase()+q2.slice(1);Ri(UA,"on"+zA)}Ri(ME,"onAnimationEnd");Ri(DE,"onAnimationIteration");Ri(jE,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri($E,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function G_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U9(r,e,void 0,t),t.currentTarget=null}function VE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;G_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;G_(s,a,c),i=l}}}if(yh)throw t=om,yh=!1,om=null,t}function qe(t,e){var n=e[gm];n===void 0&&(n=e[gm]=new Set);var r=t+"__bubble";n.has(r)||(UE(e,t,2,!1),n.add(r))}function G2(t,e,n){var r=0;e&&(r|=4),UE(n,t,r,e)}var yd="_reactListening"+Math.random().toString(36).slice(2);function jc(t){if(!t[yd]){t[yd]=!0,Kx.forEach(function(n){n!=="selectionchange"&&(BA.has(n)||G2(n,!1,t),G2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yd]||(e[yd]=!0,G2("selectionchange",!1,e))}}function UE(t,e,n,r){switch(TE(e)){case 1:var s=rA;break;case 4:s=sA;break;default:s=i1}n=s.bind(null,e,n,t),s=void 0,!im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function K2(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}uE(function(){var c=i,u=t1(n),d=[];e:{var h=FE.get(t);if(h!==void 0){var p=a1,m=t;switch(t){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":p=_A;break;case"focusin":m="focus",p=U2;break;case"focusout":m="blur",p=U2;break;case"beforeblur":case"afterblur":p=U2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=M_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=aA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EA;break;case ME:case DE:case jE:p=uA;break;case $E:p=TA;break;case"scroll":p=iA;break;case"wheel":p=SA;break;case"copy":case"cut":case"paste":p=hA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=j_}var y=(e&4)!==0,_=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,x;v!==null;){x=v;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,g!==null&&(T=Nc(v,g),T!=null&&y.push($c(v,T,x)))),_)break;v=v.return}0<y.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==rm&&(m=n.relatedTarget||n.fromElement)&&(Xi(m)||m[Rs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Xi(m):null,m!==null&&(_=Mo(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=M_,T="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=j_,T="onPointerLeave",g="onPointerEnter",v="pointer"),_=p==null?h:ca(p),x=m==null?h:ca(m),h=new y(T,v+"leave",p,n,u),h.target=_,h.relatedTarget=x,T=null,Xi(u)===c&&(y=new y(g,v+"enter",m,n,u),y.target=x,y.relatedTarget=_,T=y),_=T,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Go(x))v++;for(x=0,T=g;T;T=Go(T))x++;for(;0<v-x;)y=Go(y),v--;for(;0<x-v;)g=Go(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Go(y),g=Go(g)}y=null}else y=null;p!==null&&K_(d,h,p,y,!1),m!==null&&_!==null&&K_(d,_,m,y,!0)}}e:{if(h=c?ca(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var R=LA;else if(V_(h))if(kE)R=jA;else{R=MA;var w=OA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=DA);if(R&&(R=R(t,c))){RE(d,R,n,u);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Jp(h,"number",h.value)}switch(w=c?ca(c):window,t){case"focusin":(V_(w)||w.contentEditable==="true")&&(aa=w,um=c,hc=null);break;case"focusout":hc=um=aa=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,H_(d,n,u);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":H_(d,n,u)}var S;if(c1)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else oa?bE(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(SE&&n.locale!=="ko"&&(oa||C!=="onCompositionStart"?C==="onCompositionEnd"&&oa&&(S=IE()):(ni=u,o1="value"in ni?ni.value:ni.textContent,oa=!0)),w=Eh(c,C),0<w.length&&(C=new D_(C,t,null,n,u),d.push({event:C,listeners:w}),S?C.data=S:(S=AE(n),S!==null&&(C.data=S)))),(S=AA?RA(t,n):kA(t,n))&&(c=Eh(c,"onBeforeInput"),0<c.length&&(u=new D_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}VE(d,e)})}function $c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nc(t,n),i!=null&&r.unshift($c(t,i,s)),i=Nc(t,e),i!=null&&r.push($c(t,i,s))),t=t.return}return r}function Go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Nc(n,i),l!=null&&o.unshift($c(n,l,a))):s||(l=Nc(n,i),l!=null&&o.push($c(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(WA,`
`).replace(HA,"")}function vd(t,e,n){if(e=Q_(e),Q_(t)!==e&&n)throw Error(W(425))}function Ch(){}var hm=null,fm=null;function pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mm=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(KA)}:mm;function KA(t){setTimeout(function(){throw t})}function Q2(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oc(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Gr="__reactFiber$"+ul,Fc="__reactProps$"+ul,Rs="__reactContainer$"+ul,gm="__reactEvents$"+ul,QA="__reactListeners$"+ul,YA="__reactHandles$"+ul;function Xi(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rs]||n[Gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X_(t);t!==null;){if(n=t[Gr])return n;t=X_(t)}return e}t=n,n=t.parentNode}return null}function Su(t){return t=t[Gr]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function j0(t){return t[Fc]||null}var ym=[],ua=-1;function ki(t){return{current:t}}function Ye(t){0>ua||(t.current=ym[ua],ym[ua]=null,ua--)}function We(t,e){ua++,ym[ua]=t.current,t.current=e}var Ei={},fn=ki(Ei),Nn=ki(!1),yo=Ei;function Ua(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pn(t){return t=t.childContextTypes,t!=null}function Th(){Ye(Nn),Ye(fn)}function J_(t,e,n){if(fn.current!==Ei)throw Error(W(168));We(fn,e),We(Nn,n)}function zE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,O9(t)||"Unknown",s));return rt({},n,r)}function Ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,yo=fn.current,We(fn,t),We(Nn,Nn.current),!0}function Z_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=zE(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,Ye(Nn),Ye(fn),We(fn,t)):Ye(Nn),We(Nn,n)}var vs=null,$0=!1,Y2=!1;function BE(t){vs===null?vs=[t]:vs.push(t)}function XA(t){$0=!0,BE(t)}function Ni(){if(!Y2&&vs!==null){Y2=!0;var t=0,e=ke;try{var n=vs;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vs=null,$0=!1}catch(s){throw vs!==null&&(vs=vs.slice(t+1)),pE(n1,Ni),s}finally{ke=e,Y2=!1}}return null}var da=[],ha=0,Sh=null,bh=0,ir=[],or=0,vo=null,ws=1,xs="";function Hi(t,e){da[ha++]=bh,da[ha++]=Sh,Sh=t,bh=e}function WE(t,e,n){ir[or++]=ws,ir[or++]=xs,ir[or++]=vo,vo=t;var r=ws;t=xs;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var i=32-Rr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ws=1<<32-Rr(e)+s|n<<s|r,xs=i+t}else ws=1<<i|n<<s|r,xs=t}function d1(t){t.return!==null&&(Hi(t,1),WE(t,1,0))}function h1(t){for(;t===Sh;)Sh=da[--ha],da[ha]=null,bh=da[--ha],da[ha]=null;for(;t===vo;)vo=ir[--or],ir[or]=null,xs=ir[--or],ir[or]=null,ws=ir[--or],ir[or]=null}var Wn=null,Vn=null,et=!1,Sr=null;function HE(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,Vn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vo!==null?{id:ws,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,Vn=null,!0):!1;default:return!1}}function vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _m(t){if(et){var e=Vn;if(e){var n=e;if(!ew(t,e)){if(vm(t))throw Error(W(418));e=ui(n.nextSibling);var r=Wn;e&&ew(t,e)?HE(r,n):(t.flags=t.flags&-4097|2,et=!1,Wn=t)}}else{if(vm(t))throw Error(W(418));t.flags=t.flags&-4097|2,et=!1,Wn=t}}}function tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function _d(t){if(t!==Wn)return!1;if(!et)return tw(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pm(t.type,t.memoizedProps)),e&&(e=Vn)){if(vm(t))throw qE(),Error(W(418));for(;e;)HE(t,e),e=ui(e.nextSibling)}if(tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Wn?ui(t.stateNode.nextSibling):null;return!0}function qE(){for(var t=Vn;t;)t=ui(t.nextSibling)}function za(){Vn=Wn=null,et=!1}function f1(t){Sr===null?Sr=[t]:Sr.push(t)}var JA=Fs.ReactCurrentBatchConfig;function Tr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ah=ki(null),Rh=null,fa=null,p1=null;function m1(){p1=fa=Rh=null}function g1(t){var e=Ah.current;Ye(Ah),t._currentValue=e}function wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ia(t,e){Rh=t,p1=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(p1!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(Rh===null)throw Error(W(308));fa=t,Rh.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var Ji=null;function y1(t){Ji===null?Ji=[t]:Ji.push(t)}function GE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,y1(e)):(n.next=s.next,s.next=n),e.interleaved=n,ks(t,r)}function ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gs=!1;function v1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ks(t,n)}return s=r.interleaved,s===null?(e.next=e,y1(r)):(e.next=s.next,s.next=e),r.interleaved=e,ks(t,n)}function Kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r1(t,n)}}function nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kh(t,e,n,r){var s=t.updateQueue;Gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=rt({},d,h);break e;case 2:Gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wo|=o,t.lanes=o,t.memoizedState=d}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var QE=new Gx.Component().refs;function xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var F0={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xn(),s=fi(t),i=Ss(r,s);i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(kr(e,t,s,r),Kd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xn(),s=fi(t),i=Ss(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(kr(e,t,s,r),Kd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xn(),r=fi(t),s=Ss(n,r);s.tag=2,e!=null&&(s.callback=e),e=di(t,s,r),e!==null&&(kr(e,t,r,n),Kd(e,t,r))}};function sw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,r)||!Dc(s,i):!0}function YE(t,e,n){var r=!1,s=Ei,i=e.contextType;return typeof i=="object"&&i!==null?i=pr(i):(s=Pn(e)?yo:fn.current,r=e.contextTypes,i=(r=r!=null)?Ua(t,s):Ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=F0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&F0.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=QE,v1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=pr(i):(i=Pn(e)?yo:fn.current,s.context=Ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&F0.enqueueReplaceState(s,s.state,null),kh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===QE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function wd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ow(t){var e=t._init;return e(t._payload)}function XE(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=pi(g,v),g.index=0,g.sibling=null,g}function i(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,T){return v===null||v.tag!==6?(v=rp(x,g.mode,T),v.return=g,v):(v=s(v,x),v.return=g,v)}function l(g,v,x,T){var R=x.type;return R===ia?u(g,v,x.props.children,T,x.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===qs&&ow(R)===v.type)?(T=s(v,x.props),T.ref=Ml(g,v,x),T.return=g,T):(T=eh(x.type,x.key,x.props,null,g.mode,T),T.ref=Ml(g,v,x),T.return=g,T)}function c(g,v,x,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=sp(x,g.mode,T),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function u(g,v,x,T,R){return v===null||v.tag!==7?(v=ho(x,g.mode,T,R),v.return=g,v):(v=s(v,x),v.return=g,v)}function d(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=rp(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cd:return x=eh(v.type,v.key,v.props,null,g.mode,x),x.ref=Ml(g,null,v),x.return=g,x;case sa:return v=sp(v,g.mode,x),v.return=g,v;case qs:var T=v._init;return d(g,T(v._payload),x)}if(Jl(v)||kl(v))return v=ho(v,g.mode,x,null),v.return=g,v;wd(g,v)}return null}function h(g,v,x,T){var R=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:a(g,v,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cd:return x.key===R?l(g,v,x,T):null;case sa:return x.key===R?c(g,v,x,T):null;case qs:return R=x._init,h(g,v,R(x._payload),T)}if(Jl(x)||kl(x))return R!==null?null:u(g,v,x,T,null);wd(g,x)}return null}function p(g,v,x,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(x)||null,a(v,g,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cd:return g=g.get(T.key===null?x:T.key)||null,l(v,g,T,R);case sa:return g=g.get(T.key===null?x:T.key)||null,c(v,g,T,R);case qs:var w=T._init;return p(g,v,x,w(T._payload),R)}if(Jl(T)||kl(T))return g=g.get(x)||null,u(v,g,T,R,null);wd(v,T)}return null}function m(g,v,x,T){for(var R=null,w=null,S=v,C=v=0,E=null;S!==null&&C<x.length;C++){S.index>C?(E=S,S=null):E=S.sibling;var b=h(g,S,x[C],T);if(b===null){S===null&&(S=E);break}t&&S&&b.alternate===null&&e(g,S),v=i(b,v,C),w===null?R=b:w.sibling=b,w=b,S=E}if(C===x.length)return n(g,S),et&&Hi(g,C),R;if(S===null){for(;C<x.length;C++)S=d(g,x[C],T),S!==null&&(v=i(S,v,C),w===null?R=S:w.sibling=S,w=S);return et&&Hi(g,C),R}for(S=r(g,S);C<x.length;C++)E=p(S,g,C,x[C],T),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?C:E.key),v=i(E,v,C),w===null?R=E:w.sibling=E,w=E);return t&&S.forEach(function(P){return e(g,P)}),et&&Hi(g,C),R}function y(g,v,x,T){var R=kl(x);if(typeof R!="function")throw Error(W(150));if(x=R.call(x),x==null)throw Error(W(151));for(var w=R=null,S=v,C=v=0,E=null,b=x.next();S!==null&&!b.done;C++,b=x.next()){S.index>C?(E=S,S=null):E=S.sibling;var P=h(g,S,b.value,T);if(P===null){S===null&&(S=E);break}t&&S&&P.alternate===null&&e(g,S),v=i(P,v,C),w===null?R=P:w.sibling=P,w=P,S=E}if(b.done)return n(g,S),et&&Hi(g,C),R;if(S===null){for(;!b.done;C++,b=x.next())b=d(g,b.value,T),b!==null&&(v=i(b,v,C),w===null?R=b:w.sibling=b,w=b);return et&&Hi(g,C),R}for(S=r(g,S);!b.done;C++,b=x.next())b=p(S,g,C,b.value,T),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?C:b.key),v=i(b,v,C),w===null?R=b:w.sibling=b,w=b);return t&&S.forEach(function(N){return e(g,N)}),et&&Hi(g,C),R}function _(g,v,x,T){if(typeof x=="object"&&x!==null&&x.type===ia&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cd:e:{for(var R=x.key,w=v;w!==null;){if(w.key===R){if(R=x.type,R===ia){if(w.tag===7){n(g,w.sibling),v=s(w,x.props.children),v.return=g,g=v;break e}}else if(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===qs&&ow(R)===w.type){n(g,w.sibling),v=s(w,x.props),v.ref=Ml(g,w,x),v.return=g,g=v;break e}n(g,w);break}else e(g,w);w=w.sibling}x.type===ia?(v=ho(x.props.children,g.mode,T,x.key),v.return=g,g=v):(T=eh(x.type,x.key,x.props,null,g.mode,T),T.ref=Ml(g,v,x),T.return=g,g=T)}return o(g);case sa:e:{for(w=x.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=sp(x,g.mode,T),v.return=g,g=v}return o(g);case qs:return w=x._init,_(g,v,w(x._payload),T)}if(Jl(x))return m(g,v,x,T);if(kl(x))return y(g,v,x,T);wd(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=rp(x,g.mode,T),v.return=g,g=v),o(g)):n(g,v)}return _}var Ba=XE(!0),JE=XE(!1),bu={},es=ki(bu),Vc=ki(bu),Uc=ki(bu);function Zi(t){if(t===bu)throw Error(W(174));return t}function _1(t,e){switch(We(Uc,e),We(Vc,t),We(es,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=em(e,t)}Ye(es),We(es,e)}function Wa(){Ye(es),Ye(Vc),Ye(Uc)}function ZE(t){Zi(Uc.current);var e=Zi(es.current),n=em(e,t.type);e!==n&&(We(Vc,t),We(es,n))}function w1(t){Vc.current===t&&(Ye(es),Ye(Vc))}var tt=ki(0);function Nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var X2=[];function x1(){for(var t=0;t<X2.length;t++)X2[t]._workInProgressVersionPrimary=null;X2.length=0}var Qd=Fs.ReactCurrentDispatcher,J2=Fs.ReactCurrentBatchConfig,_o=0,nt=null,St=null,Dt=null,Ph=!1,fc=!1,zc=0,ZA=0;function Zt(){throw Error(W(321))}function E1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pr(t[n],e[n]))return!1;return!0}function C1(t,e,n,r,s,i){if(_o=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qd.current=t===null||t.memoizedState===null?rR:sR,t=n(r,s),fc){i=0;do{if(fc=!1,zc=0,25<=i)throw Error(W(301));i+=1,Dt=St=null,e.updateQueue=null,Qd.current=iR,t=n(r,s)}while(fc)}if(Qd.current=Lh,e=St!==null&&St.next!==null,_o=0,Dt=St=nt=null,Ph=!1,e)throw Error(W(300));return t}function T1(){var t=zc!==0;return zc=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?nt.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function mr(){if(St===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Dt===null?nt.memoizedState:Dt.next;if(e!==null)Dt=e,St=t;else{if(t===null)throw Error(W(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Dt===null?nt.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Bc(t,e){return typeof e=="function"?e(t):e}function Z2(t){var e=mr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=St,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((_o&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,nt.lanes|=u,wo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Pr(r,e.memoizedState)||(Rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,wo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ep(t){var e=mr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Pr(i,e.memoizedState)||(Rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function e4(){}function t4(t,e){var n=nt,r=mr(),s=e(),i=!Pr(r.memoizedState,s);if(i&&(r.memoizedState=s,Rn=!0),r=r.queue,I1(s4.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Wc(9,r4.bind(null,n,r,s,e),void 0,null),Ft===null)throw Error(W(349));_o&30||n4(n,e,s)}return s}function n4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r4(t,e,n,r){e.value=n,e.getSnapshot=r,i4(e)&&o4(t)}function s4(t,e,n){return n(function(){i4(e)&&o4(t)})}function i4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pr(t,n)}catch{return!0}}function o4(t){var e=ks(t,1);e!==null&&kr(e,t,1,-1)}function aw(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=nR.bind(null,nt,t),[e.memoizedState,t]}function Wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a4(){return mr().memoizedState}function Yd(t,e,n,r){var s=Br();nt.flags|=t,s.memoizedState=Wc(1|e,n,void 0,r===void 0?null:r)}function V0(t,e,n,r){var s=mr();r=r===void 0?null:r;var i=void 0;if(St!==null){var o=St.memoizedState;if(i=o.destroy,r!==null&&E1(r,o.deps)){s.memoizedState=Wc(e,n,i,r);return}}nt.flags|=t,s.memoizedState=Wc(1|e,n,i,r)}function lw(t,e){return Yd(8390656,8,t,e)}function I1(t,e){return V0(2048,8,t,e)}function l4(t,e){return V0(4,2,t,e)}function c4(t,e){return V0(4,4,t,e)}function u4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d4(t,e,n){return n=n!=null?n.concat([t]):null,V0(4,4,u4.bind(null,e,t),n)}function S1(){}function h4(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f4(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p4(t,e,n){return _o&21?(Pr(n,e)||(n=yE(),nt.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=n)}function eR(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=J2.transition;J2.transition={};try{t(!1),e()}finally{ke=n,J2.transition=r}}function m4(){return mr().memoizedState}function tR(t,e,n){var r=fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g4(t))y4(e,n);else if(n=GE(t,e,n,r),n!==null){var s=xn();kr(n,t,r,s),v4(n,e,r)}}function nR(t,e,n){var r=fi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g4(t))y4(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pr(a,o)){var l=e.interleaved;l===null?(s.next=s,y1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=GE(t,e,s,r),n!==null&&(s=xn(),kr(n,t,r,s),v4(n,e,r))}}function g4(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function y4(t,e){fc=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r1(t,n)}}var Lh={readContext:pr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},rR={readContext:pr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4194308,4,u4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tR.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:S1,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=eR.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,s=Br();if(et){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ft===null)throw Error(W(349));_o&30||n4(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lw(s4.bind(null,r,i,t),[t]),r.flags|=2048,Wc(9,r4.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Br(),e=Ft.identifierPrefix;if(et){var n=xs,r=ws;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sR={readContext:pr,useCallback:h4,useContext:pr,useEffect:I1,useImperativeHandle:d4,useInsertionEffect:l4,useLayoutEffect:c4,useMemo:f4,useReducer:Z2,useRef:a4,useState:function(){return Z2(Bc)},useDebugValue:S1,useDeferredValue:function(t){var e=mr();return p4(e,St.memoizedState,t)},useTransition:function(){var t=Z2(Bc)[0],e=mr().memoizedState;return[t,e]},useMutableSource:e4,useSyncExternalStore:t4,useId:m4,unstable_isNewReconciler:!1},iR={readContext:pr,useCallback:h4,useContext:pr,useEffect:I1,useImperativeHandle:d4,useInsertionEffect:l4,useLayoutEffect:c4,useMemo:f4,useReducer:ep,useRef:a4,useState:function(){return ep(Bc)},useDebugValue:S1,useDeferredValue:function(t){var e=mr();return St===null?e.memoizedState=t:p4(e,St.memoizedState,t)},useTransition:function(){var t=ep(Bc)[0],e=mr().memoizedState;return[t,e]},useMutableSource:e4,useSyncExternalStore:t4,useId:m4,unstable_isNewReconciler:!1};function Ha(t,e){try{var n="",r=e;do n+=L9(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oR=typeof WeakMap=="function"?WeakMap:Map;function _4(t,e,n){n=Ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mh||(Mh=!0,Lm=r),Cm(t,e)},n}function w4(t,e,n){n=Ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Cm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cm(t,e),typeof r!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wR.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ss(-1,1),e.tag=2,di(n,e,1))),n.lanes|=1),t)}var aR=Fs.ReactCurrentOwner,Rn=!1;function _n(t,e,n,r){e.child=t===null?JE(e,null,n,r):Ba(e,t.child,n,r)}function hw(t,e,n,r,s){n=n.render;var i=e.ref;return Ia(e,s),r=C1(t,e,n,r,i,s),n=T1(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ns(t,e,s)):(et&&n&&d1(e),e.flags|=1,_n(t,e,r,s),e.child)}function fw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!O1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,x4(t,e,i,r,s)):(t=eh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(o,r)&&t.ref===e.ref)return Ns(t,e,s)}return e.flags|=1,t=pi(i,r),t.ref=e.ref,t.return=e,e.child=t}function x4(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dc(i,r)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,Ns(t,e,s)}return Tm(t,e,n,r,s)}function E4(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ma,$n),$n|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(ma,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(ma,$n),$n|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(ma,$n),$n|=r;return _n(t,e,s,n),e.child}function C4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tm(t,e,n,r,s){var i=Pn(n)?yo:fn.current;return i=Ua(e,i),Ia(e,s),n=C1(t,e,n,r,i,s),r=T1(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ns(t,e,s)):(et&&r&&d1(e),e.flags|=1,_n(t,e,n,s),e.child)}function pw(t,e,n,r,s){if(Pn(n)){var i=!0;Ih(e)}else i=!1;if(Ia(e,s),e.stateNode===null)Xd(t,e),YE(e,n,r),Em(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Pn(n)?yo:fn.current,c=Ua(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&iw(e,o,r,c),Gs=!1;var h=e.memoizedState;o.state=h,kh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Nn.current||Gs?(typeof u=="function"&&(xm(e,n,u,r),l=e.memoizedState),(a=Gs||sw(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Pn(n)?yo:fn.current,l=Ua(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&iw(e,o,r,l),Gs=!1,h=e.memoizedState,o.state=h,kh(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||Nn.current||Gs?(typeof p=="function"&&(xm(e,n,p,r),m=e.memoizedState),(c=Gs||sw(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Im(t,e,n,r,i,s)}function Im(t,e,n,r,s,i){C4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Z_(e,n,!1),Ns(t,e,i);r=e.stateNode,aR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ba(e,t.child,null,i),e.child=Ba(e,null,a,i)):_n(t,e,a,i),e.memoizedState=r.state,s&&Z_(e,n,!0),e.child}function T4(t){var e=t.stateNode;e.pendingContext?J_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J_(t,e.context,!1),_1(t,e.containerInfo)}function mw(t,e,n,r,s){return za(),f1(s),e.flags|=256,_n(t,e,n,r),e.child}var Sm={dehydrated:null,treeContext:null,retryLane:0};function bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function I4(t,e,n){var r=e.pendingProps,s=tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(tt,s&1),t===null)return _m(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=B0(o,r,0,null),t=ho(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bm(n),e.memoizedState=Sm,t):b1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return lR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=pi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=pi(a,i):(i=ho(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Sm,r}return i=t.child,t=i.sibling,r=pi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function b1(t,e){return e=B0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,n,r){return r!==null&&f1(r),Ba(e,t.child,null,n),t=b1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=tp(Error(W(422))),xd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=B0({mode:"visible",children:r.children},s,0,null),i=ho(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ba(e,t.child,null,o),e.child.memoizedState=bm(o),e.memoizedState=Sm,i);if(!(e.mode&1))return xd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=tp(i,r,void 0),xd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Rn||a){if(r=Ft,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ks(t,s),kr(r,t,s,-1))}return L1(),r=tp(Error(W(421))),xd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=xR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vn=ui(s.nextSibling),Wn=e,et=!0,Sr=null,t!==null&&(ir[or++]=ws,ir[or++]=xs,ir[or++]=vo,ws=t.id,xs=t.overflow,vo=e),e=b1(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wm(t.return,e,n)}function np(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function S4(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_n(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Nh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),np(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}np(e,!0,n,null,i);break;case"together":np(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cR(t,e,n){switch(e.tag){case 3:T4(e),za();break;case 5:ZE(e);break;case 1:Pn(e.type)&&Ih(e);break;case 4:_1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(Ah,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?I4(t,e,n):(We(tt,tt.current&1),t=Ns(t,e,n),t!==null?t.sibling:null);We(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return S4(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,E4(t,e,n)}return Ns(t,e,n)}var b4,Am,A4,R4;b4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};A4=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Zi(es.current);var i=null;switch(n){case"input":s=Yp(t,s),r=Yp(t,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=Zp(t,s),r=Zp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ch)}tm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};R4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uR(t,e,n){var r=e.pendingProps;switch(h1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Pn(e.type)&&Th(),en(e),null;case 3:return r=e.stateNode,Wa(),Ye(Nn),Ye(fn),x1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(Dm(Sr),Sr=null))),Am(t,e),en(e),null;case 5:w1(e);var s=Zi(Uc.current);if(n=e.type,t!==null&&e.stateNode!=null)A4(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return en(e),null}if(t=Zi(es.current),_d(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gr]=e,r[Fc]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<ec.length;s++)qe(ec[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":I_(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":b_(r,i),qe("invalid",r)}tm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vd(r.textContent,a,t),s=["children",""+a]):Rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":ud(r),S_(r,i,!0);break;case"textarea":ud(r),A_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ch)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gr]=e,t[Fc]=r,b4(t,e,!1,!1),e.stateNode=t;e:{switch(o=nm(n,r),n){case"dialog":qe("cancel",t),qe("close",t),s=r;break;case"iframe":case"object":case"embed":qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<ec.length;s++)qe(ec[s],t);s=r;break;case"source":qe("error",t),s=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=r;break;case"details":qe("toggle",t),s=r;break;case"input":I_(t,r),s=Yp(t,r),qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":b_(t,r),s=Zp(t,r),qe("invalid",t);break;default:s=r}tm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?iE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",t):l!=null&&Xg(t,i,l,o))}switch(n){case"input":ud(t),S_(t,r,!1);break;case"textarea":ud(t),A_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xa(t,!!r.multiple,i,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)R4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Zi(Uc.current),Zi(es.current),_d(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,(i=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:vd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gr]=e,e.stateNode=r}return en(e),null;case 13:if(Ye(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Vn!==null&&e.mode&1&&!(e.flags&128))qE(),za(),e.flags|=98560,i=!1;else if(i=_d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Gr]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),i=!1}else Sr!==null&&(Dm(Sr),Sr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?bt===0&&(bt=3):L1())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return Wa(),Am(t,e),t===null&&jc(e.stateNode.containerInfo),en(e),null;case 10:return g1(e.type._context),en(e),null;case 17:return Pn(e.type)&&Th(),en(e),null;case 19:if(Ye(tt),i=e.memoizedState,i===null)return en(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Dl(i,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nh(t),o!==null){for(e.flags|=128,Dl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(tt,tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&dt()>qa&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Nh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return en(e),null}else 2*dt()-i.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,n=tt.current,We(tt,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return P1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function dR(t,e){switch(h1(e),e.tag){case 1:return Pn(e.type)&&Th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wa(),Ye(Nn),Ye(fn),x1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w1(e),null;case 13:if(Ye(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(tt),null;case 4:return Wa(),null;case 10:return g1(e.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var Ed=!1,sn=!1,hR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Rm(t,e,n){try{n()}catch(r){at(t,e,r)}}var yw=!1;function fR(t,e){if(hm=wh,t=LE(),u1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fm={focusedElem:t,selectionRange:n},wh=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Tr(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(T){at(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=yw,yw=!1,m}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rm(e,n,i)}s=s.next}while(s!==r)}}function U0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function km(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function k4(t){var e=t.alternate;e!==null&&(t.alternate=null,k4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[Fc],delete e[gm],delete e[QA],delete e[YA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N4(t){return t.tag===5||t.tag===3||t.tag===4}function vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ch));else if(r!==4&&(t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}function Pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pm(t,e,n),t=t.sibling;t!==null;)Pm(t,e,n),t=t.sibling}var Bt=null,Ir=!1;function Ws(t,e,n){for(n=n.child;n!==null;)P4(t,e,n),n=n.sibling}function P4(t,e,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(L0,n)}catch{}switch(n.tag){case 5:sn||pa(n,e);case 6:var r=Bt,s=Ir;Bt=null,Ws(t,e,n),Bt=r,Ir=s,Bt!==null&&(Ir?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(Ir?(t=Bt,n=n.stateNode,t.nodeType===8?Q2(t.parentNode,n):t.nodeType===1&&Q2(t,n),Oc(t)):Q2(Bt,n.stateNode));break;case 4:r=Bt,s=Ir,Bt=n.stateNode.containerInfo,Ir=!0,Ws(t,e,n),Bt=r,Ir=s;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rm(n,e,o),s=s.next}while(s!==r)}Ws(t,e,n);break;case 1:if(!sn&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Ws(t,e,n);break;case 21:Ws(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Ws(t,e,n),sn=r):Ws(t,e,n);break;default:Ws(t,e,n)}}function _w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hR),e.forEach(function(r){var s=ER.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,Ir=!1;break e;case 3:Bt=a.stateNode.containerInfo,Ir=!0;break e;case 4:Bt=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(Bt===null)throw Error(W(160));P4(i,o,s),Bt=null,Ir=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){at(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L4(e,t),e=e.sibling}function L4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),zr(t),r&4){try{pc(3,t,t.return),U0(3,t)}catch(y){at(t,t.return,y)}try{pc(5,t,t.return)}catch(y){at(t,t.return,y)}}break;case 1:Er(e,t),zr(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Er(e,t),zr(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(y){at(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&eE(s,i),nm(a,o);var c=nm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?iE(s,d):u==="dangerouslySetInnerHTML"?rE(s,d):u==="children"?kc(s,d):Xg(s,u,d,c)}switch(a){case"input":Xp(s,i);break;case"textarea":tE(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xa(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?xa(s,!!i.multiple,i.defaultValue,!0):xa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fc]=i}catch(y){at(t,t.return,y)}}break;case 6:if(Er(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){at(t,t.return,y)}}break;case 3:if(Er(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(y){at(t,t.return,y)}break;case 4:Er(e,t),zr(t);break;case 13:Er(e,t),zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(k1=dt())),r&4&&_w(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(c=sn)||u,Er(e,t),sn=c):Er(e,t),zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(d=Z=u;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:pc(4,h,h.return);break;case 1:pa(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){at(r,n,y)}}break;case 5:pa(h,h.return);break;case 22:if(h.memoizedState!==null){xw(d);continue}}p!==null?(p.return=h,Z=p):xw(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sE("display",o))}catch(y){at(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){at(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Er(e,t),zr(t),r&4&&_w(t);break;case 21:break;default:Er(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N4(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=vw(t);Pm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vw(t);Nm(t,a,o);break;default:throw Error(W(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pR(t,e,n){Z=t,O4(t)}function O4(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ed;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Ed;var c=sn;if(Ed=o,(sn=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Ew(s):l!==null?(l.return=o,Z=l):Ew(s);for(;i!==null;)Z=i,O4(i),i=i.sibling;Z=s,Ed=a,sn=c}ww(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):ww(t)}}function ww(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||U0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Oc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}sn||e.flags&512&&km(e)}catch(h){at(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function xw(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Ew(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{U0(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){at(e,s,l)}}var i=e.return;try{km(e)}catch(l){at(e,i,l)}break;case 5:var o=e.return;try{km(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var mR=Math.ceil,Oh=Fs.ReactCurrentDispatcher,A1=Fs.ReactCurrentOwner,dr=Fs.ReactCurrentBatchConfig,xe=0,Ft=null,vt=null,Kt=0,$n=0,ma=ki(0),bt=0,Hc=null,wo=0,z0=0,R1=0,mc=null,Sn=null,k1=0,qa=1/0,ys=null,Mh=!1,Lm=null,hi=null,Cd=!1,ri=null,Dh=0,gc=0,Om=null,Jd=-1,Zd=0;function xn(){return xe&6?dt():Jd!==-1?Jd:Jd=dt()}function fi(t){return t.mode&1?xe&2&&Kt!==0?Kt&-Kt:JA.transition!==null?(Zd===0&&(Zd=yE()),Zd):(t=ke,t!==0||(t=window.event,t=t===void 0?16:TE(t.type)),t):1}function kr(t,e,n,r){if(50<gc)throw gc=0,Om=null,Error(W(185));Tu(t,n,r),(!(xe&2)||t!==Ft)&&(t===Ft&&(!(xe&2)&&(z0|=n),bt===4&&Qs(t,Kt)),Ln(t,r),n===1&&xe===0&&!(e.mode&1)&&(qa=dt()+500,$0&&Ni()))}function Ln(t,e){var n=t.callbackNode;J9(t,e);var r=_h(t,t===Ft?Kt:0);if(r===0)n!==null&&N_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&N_(n),e===1)t.tag===0?XA(Cw.bind(null,t)):BE(Cw.bind(null,t)),GA(function(){!(xe&6)&&Ni()}),n=null;else{switch(vE(r)){case 1:n=n1;break;case 4:n=mE;break;case 16:n=vh;break;case 536870912:n=gE;break;default:n=vh}n=z4(n,M4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M4(t,e){if(Jd=-1,Zd=0,xe&6)throw Error(W(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=_h(t,t===Ft?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jh(t,r);else{e=r;var s=xe;xe|=2;var i=j4();(Ft!==t||Kt!==e)&&(ys=null,qa=dt()+500,uo(t,e));do try{vR();break}catch(a){D4(t,a)}while(!0);m1(),Oh.current=i,xe=s,vt!==null?e=0:(Ft=null,Kt=0,e=bt)}if(e!==0){if(e===2&&(s=am(t),s!==0&&(r=s,e=Mm(t,s))),e===1)throw n=Hc,uo(t,0),Qs(t,r),Ln(t,dt()),n;if(e===6)Qs(t,r);else{if(s=t.current.alternate,!(r&30)&&!gR(s)&&(e=jh(t,r),e===2&&(i=am(t),i!==0&&(r=i,e=Mm(t,i))),e===1))throw n=Hc,uo(t,0),Qs(t,r),Ln(t,dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:qi(t,Sn,ys);break;case 3:if(Qs(t,r),(r&130023424)===r&&(e=k1+500-dt(),10<e)){if(_h(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=mm(qi.bind(null,t,Sn,ys),e);break}qi(t,Sn,ys);break;case 4:if(Qs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mR(r/1960))-r,10<r){t.timeoutHandle=mm(qi.bind(null,t,Sn,ys),r);break}qi(t,Sn,ys);break;case 5:qi(t,Sn,ys);break;default:throw Error(W(329))}}}return Ln(t,dt()),t.callbackNode===n?M4.bind(null,t):null}function Mm(t,e){var n=mc;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=jh(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&Dm(e)),t}function Dm(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function gR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qs(t,e){for(e&=~R1,e&=~z0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function Cw(t){if(xe&6)throw Error(W(327));Sa();var e=_h(t,0);if(!(e&1))return Ln(t,dt()),null;var n=jh(t,e);if(t.tag!==0&&n===2){var r=am(t);r!==0&&(e=r,n=Mm(t,r))}if(n===1)throw n=Hc,uo(t,0),Qs(t,e),Ln(t,dt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,Sn,ys),Ln(t,dt()),null}function N1(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(qa=dt()+500,$0&&Ni())}}function xo(t){ri!==null&&ri.tag===0&&!(xe&6)&&Sa();var e=xe;xe|=1;var n=dr.transition,r=ke;try{if(dr.transition=null,ke=1,t)return t()}finally{ke=r,dr.transition=n,xe=e,!(xe&6)&&Ni()}}function P1(){$n=ma.current,Ye(ma)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qA(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(h1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Th();break;case 3:Wa(),Ye(Nn),Ye(fn),x1();break;case 5:w1(r);break;case 4:Wa();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:g1(r.type._context);break;case 22:case 23:P1()}n=n.return}if(Ft=t,vt=t=pi(t.current,null),Kt=$n=e,bt=0,Hc=null,R1=z0=wo=0,Sn=mc=null,Ji!==null){for(e=0;e<Ji.length;e++)if(n=Ji[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ji=null}return t}function D4(t,e){do{var n=vt;try{if(m1(),Qd.current=Lh,Ph){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ph=!1}if(_o=0,Dt=St=nt=null,fc=!1,zc=0,A1.current=null,n===null||n.return===null){bt=1,Hc=e,vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=uw(o);if(p!==null){p.flags&=-257,dw(p,o,a,i,e),p.mode&1&&cw(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){cw(i,c,e),L1();break e}l=Error(W(426))}}else if(et&&a.mode&1){var _=uw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),dw(_,o,a,i,e),f1(Ha(l,a));break e}}i=l=Ha(l,a),bt!==4&&(bt=2),mc===null?mc=[i]:mc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=_4(i,l,e);nw(i,g);break e;case 1:a=l;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hi===null||!hi.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=w4(i,a,e);nw(i,T);break e}}i=i.return}while(i!==null)}F4(n)}catch(R){e=R,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function j4(){var t=Oh.current;return Oh.current=Lh,t===null?Lh:t}function L1(){(bt===0||bt===3||bt===2)&&(bt=4),Ft===null||!(wo&268435455)&&!(z0&268435455)||Qs(Ft,Kt)}function jh(t,e){var n=xe;xe|=2;var r=j4();(Ft!==t||Kt!==e)&&(ys=null,uo(t,e));do try{yR();break}catch(s){D4(t,s)}while(!0);if(m1(),xe=n,Oh.current=r,vt!==null)throw Error(W(261));return Ft=null,Kt=0,bt}function yR(){for(;vt!==null;)$4(vt)}function vR(){for(;vt!==null&&!B9();)$4(vt)}function $4(t){var e=U4(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?F4(t):vt=e,A1.current=null}function F4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dR(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,vt=null;return}}else if(n=uR(n,e,$n),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);bt===0&&(bt=5)}function qi(t,e,n){var r=ke,s=dr.transition;try{dr.transition=null,ke=1,_R(t,e,n,r)}finally{dr.transition=s,ke=r}return null}function _R(t,e,n,r){do Sa();while(ri!==null);if(xe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Z9(t,i),t===Ft&&(vt=Ft=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cd||(Cd=!0,z4(vh,function(){return Sa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var o=ke;ke=1;var a=xe;xe|=4,A1.current=null,fR(t,n),L4(n,t),FA(fm),wh=!!hm,fm=hm=null,t.current=n,pR(n),W9(),xe=a,ke=o,dr.transition=i}else t.current=n;if(Cd&&(Cd=!1,ri=t,Dh=s),i=t.pendingLanes,i===0&&(hi=null),G9(n.stateNode),Ln(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mh)throw Mh=!1,t=Lm,Lm=null,t;return Dh&1&&t.tag!==0&&Sa(),i=t.pendingLanes,i&1?t===Om?gc++:(gc=0,Om=t):gc=0,Ni(),null}function Sa(){if(ri!==null){var t=vE(Dh),e=dr.transition,n=ke;try{if(dr.transition=null,ke=16>t?16:t,ri===null)var r=!1;else{if(t=ri,ri=null,Dh=0,xe&6)throw Error(W(331));var s=xe;for(xe|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:pc(8,u,i)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var h=u.sibling,p=u.return;if(k4(u),u===c){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){o=Z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Z=x;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:U0(9,a)}}catch(R){at(a,a.return,R)}if(a===o){Z=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Z=T;break e}Z=a.return}}if(xe=s,Ni(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(L0,t)}catch{}r=!0}return r}finally{ke=n,dr.transition=e}}return!1}function Tw(t,e,n){e=Ha(n,e),e=_4(t,e,1),t=di(t,e,1),e=xn(),t!==null&&(Tu(t,1,e),Ln(t,e))}function at(t,e,n){if(t.tag===3)Tw(t,t,n);else for(;e!==null;){if(e.tag===3){Tw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))){t=Ha(n,t),t=w4(e,t,1),e=di(e,t,1),t=xn(),e!==null&&(Tu(e,1,t),Ln(e,t));break}}e=e.return}}function wR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Kt&n)===n&&(bt===4||bt===3&&(Kt&130023424)===Kt&&500>dt()-k1?uo(t,0):R1|=n),Ln(t,e)}function V4(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var n=xn();t=ks(t,e),t!==null&&(Tu(t,e,n),Ln(t,n))}function xR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V4(t,n)}function ER(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),V4(t,n)}var U4;U4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)Rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rn=!1,cR(t,e,n);Rn=!!(t.flags&131072)}else Rn=!1,et&&e.flags&1048576&&WE(e,bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var s=Ua(e,fn.current);Ia(e,n),s=C1(null,e,r,t,s,n);var i=T1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(i=!0,Ih(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,v1(e),s.updater=F0,e.stateNode=s,s._reactInternals=e,Em(e,r,t,n),e=Im(null,e,r,!0,i,n)):(e.tag=0,et&&i&&d1(e),_n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=TR(r),t=Tr(r,t),s){case 0:e=Tm(null,e,r,t,n);break e;case 1:e=pw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=fw(null,e,r,Tr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),Tm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),pw(t,e,r,s,n);case 3:e:{if(T4(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,KE(t,e),kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ha(Error(W(423)),e),e=mw(t,e,r,n,s);break e}else if(r!==s){s=Ha(Error(W(424)),e),e=mw(t,e,r,n,s);break e}else for(Vn=ui(e.stateNode.containerInfo.firstChild),Wn=e,et=!0,Sr=null,n=JE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===s){e=Ns(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return ZE(e),t===null&&_m(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,pm(r,s)?o=null:i!==null&&pm(r,i)&&(e.flags|=32),C4(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&_m(e),null;case 13:return I4(t,e,n);case 4:return _1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ba(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),hw(t,e,r,s,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(Ah,r._currentValue),r._currentValue=o,i!==null)if(Pr(i.value,o)){if(i.children===s.children&&!Nn.current){e=Ns(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ss(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ia(e,n),s=pr(s),r=r(s),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,s=Tr(r,e.pendingProps),s=Tr(r.type,s),fw(t,e,r,s,n);case 15:return x4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Tr(r,s),Xd(t,e),e.tag=1,Pn(r)?(t=!0,Ih(e)):t=!1,Ia(e,n),YE(e,r,s),Em(e,r,s,n),Im(null,e,r,!0,t,n);case 19:return S4(t,e,n);case 22:return E4(t,e,n)}throw Error(W(156,e.tag))};function z4(t,e){return pE(t,e)}function CR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new CR(t,e,n,r)}function O1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TR(t){if(typeof t=="function")return O1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===e1)return 14}return 2}function pi(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")O1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ia:return ho(n.children,s,i,e);case Jg:o=8,s|=8;break;case qp:return t=cr(12,n,e,s|2),t.elementType=qp,t.lanes=i,t;case Gp:return t=cr(13,n,e,s),t.elementType=Gp,t.lanes=i,t;case Kp:return t=cr(19,n,e,s),t.elementType=Kp,t.lanes=i,t;case Xx:return B0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qx:o=10;break e;case Yx:o=9;break e;case Zg:o=11;break e;case e1:o=14;break e;case qs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=cr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ho(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function B0(t,e,n,r){return t=cr(22,t,r,e),t.elementType=Xx,t.lanes=n,t.stateNode={isHidden:!1},t}function rp(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$2(0),this.expirationTimes=$2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function M1(t,e,n,r,s,i,o,a,l){return t=new IR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v1(i),t}function SR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B4(t){if(!t)return Ei;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Pn(n))return zE(t,n,e)}return e}function W4(t,e,n,r,s,i,o,a,l){return t=M1(n,r,!0,t,s,i,o,a,l),t.context=B4(null),n=t.current,r=xn(),s=fi(n),i=Ss(r,s),i.callback=e??null,di(n,i,s),t.current.lanes=s,Tu(t,s,r),Ln(t,r),t}function W0(t,e,n,r){var s=e.current,i=xn(),o=fi(s);return n=B4(n),e.context===null?e.context=n:e.pendingContext=n,e=Ss(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=di(s,e,o),t!==null&&(kr(t,s,o,i),Kd(t,s,o)),o}function $h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D1(t,e){Iw(t,e),(t=t.alternate)&&Iw(t,e)}function bR(){return null}var H4=typeof reportError=="function"?reportError:function(t){console.error(t)};function j1(t){this._internalRoot=t}H0.prototype.render=j1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));W0(t,e,null,null)};H0.prototype.unmount=j1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){W0(null,t,null,null)}),e[Rs]=null}};function H0(t){this._internalRoot=t}H0.prototype.unstable_scheduleHydration=function(t){if(t){var e=xE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ks.length&&e!==0&&e<Ks[n].priority;n++);Ks.splice(n,0,t),n===0&&CE(t)}};function $1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function AR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$h(o);i.call(c)}}var o=W4(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=o,t[Rs]=o.current,jc(t.nodeType===8?t.parentNode:t),xo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$h(l);a.call(c)}}var l=M1(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[Rs]=l.current,jc(t.nodeType===8?t.parentNode:t),xo(function(){W0(e,l,n,r)}),l}function G0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$h(o);a.call(l)}}W0(e,o,t,s)}else o=AR(n,e,t,s,r);return $h(o)}_E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(r1(e,n|1),Ln(e,dt()),!(xe&6)&&(qa=dt()+500,Ni()))}break;case 13:xo(function(){var r=ks(t,1);if(r!==null){var s=xn();kr(r,t,1,s)}}),D1(t,1)}};s1=function(t){if(t.tag===13){var e=ks(t,134217728);if(e!==null){var n=xn();kr(e,t,134217728,n)}D1(t,134217728)}};wE=function(t){if(t.tag===13){var e=fi(t),n=ks(t,e);if(n!==null){var r=xn();kr(n,t,e,r)}D1(t,e)}};xE=function(){return ke};EE=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};sm=function(t,e,n){switch(e){case"input":if(Xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=j0(r);if(!s)throw Error(W(90));Zx(r),Xp(r,s)}}}break;case"textarea":tE(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};lE=N1;cE=xo;var RR={usingClientEntryPoint:!1,Events:[Su,ca,j0,oE,aE,N1]},jl={findFiberByHostInstance:Xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kR={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hE(t),t===null?null:t.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||bR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{L0=Td.inject(kR),Zr=Td}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$1(e))throw Error(W(200));return SR(t,e,null,n)};Zn.createRoot=function(t,e){if(!$1(t))throw Error(W(299));var n=!1,r="",s=H4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=M1(t,1,!1,null,null,n,!1,r,s),t[Rs]=e.current,jc(t.nodeType===8?t.parentNode:t),new j1(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=hE(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return xo(t)};Zn.hydrate=function(t,e,n){if(!q0(e))throw Error(W(200));return G0(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!$1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=H4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=W4(e,null,t,1,n??null,s,!1,i,o),t[Rs]=e.current,jc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new H0(e)};Zn.render=function(t,e,n){if(!q0(e))throw Error(W(200));return G0(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!q0(t))throw Error(W(40));return t._reactRootContainer?(xo(function(){G0(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};Zn.unstable_batchedUpdates=N1;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!q0(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return G0(t,e,n,!1,r)};Zn.version="18.2.0-next-9e3b772b8-20220608";function q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q4)}catch(t){console.error(t)}}q4(),Wx.exports=Zn;var NR=Wx.exports,bw=NR;Wp.createRoot=bw.createRoot,Wp.hydrateRoot=bw.hydrateRoot;const PR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",LR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",OR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",MR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",DR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",jR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",$R="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",FR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",VR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",UR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",zR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",BR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",WR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",HR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",qR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",GR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",KR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",QR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",YR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",XR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",JR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",ZR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",e8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",t8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",n8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",r8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",s8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",i8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",o8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",a8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",l8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",c8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",u8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",d8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",h8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",f8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",p8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",m8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",g8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",y8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",v8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",_8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",w8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",x8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",E8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",C8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",T8="/assets/dark-i8sdGySW.svg",I8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",S8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",b8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",A8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",R8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",k8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",N8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",P8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",L8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",O8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",M8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",D8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",j8="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",$8={link:O8,reply:j8,sendLetter:M8,sendingLetter:D8,deleteIcon:P8,editPencil:L8,moreOption:N8,download:I8,offline:R8,online:k8,chat:A8,notification:b8,file:S8,light:C8,dark:T8,upload:E8,trueIcon:PR,falseIcon:LR,error:OR,down:MR,back:DR,thumbUp:jR,redo:$R,next:FR,finish:VR,history:UR,trash:zR,add:BR,edit:WR,save:HR,up:qR,clipboard:GR,admin:KR,menu:QR,home:YR,result:XR,help:JR,about:ZR,update:e8,faq:t8,plus:n8,minus:r8,share:s8,review:i8,fullScreen:o8,search:a8,searchLeft:l8,close:c8,copy:u8,google:d8,refresh:h8,exit:f8,exam:p8,like:m8,liked:g8,comment:y8,send:v8,logout:_8,user:w8,image:x8};function de(t){return $8[t]||null}const je=({data:t})=>{const{clickFn:e,image:n}=t,r=de(n),{theme:s}=I.useContext(ee),i=()=>{e&&e()};return f.jsx("button",{onClick:i,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${s==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};function F8(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let Aw;function V8(t){t(!0),clearTimeout(Aw),Aw=setTimeout(()=>{t(!1)},[4e3])}function Hn(){scrollTo({top:0,behavior:"smooth"})}function yc(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200,behavior:"smooth"})}function Yn(t){document.body.style.overflow=t}function Do(t,e){I.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function G4(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${ip(n,"hours")} ${ip(r,"minutes")} ${ip(s,"seconds")}`}catch{return null}}function ip(t,e){return t?`${t} ${e}`:""}function Rw(t){return t>=10?t:`0${t}`}const Me=({data:t})=>{const{clickFn:e,text:n,image:r}=t,s=de(r),{theme:i}=I.useContext(ee),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${i==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:s}),n&&f.jsx("span",{children:n})]})},Eo=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s}=t,{theme:i}=I.useContext(ee),o=I.useRef(null);return Do(o,s),I.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsx("div",{ref:o,className:`w-4/5 sm:w-3/5 md:w-2/5 min-h-40 grid gap-y-3 rounded-md items-center border  ${i==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:f.jsxs("div",{children:[f.jsx("div",{className:"text-center",children:r}),f.jsxs("div",{className:"flex justify-center mt-2 items-center gap-x-3 ",children:[f.jsx(Me,{data:{clickFn:e,image:"trueIcon",text:"Yes"}}),f.jsx(Me,{data:{clickFn:n,image:"falseIcon",text:"No"}})]})]})})})},U8=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=I.useContext(ee),[u,d]=I.useState(!1),h=()=>{a(),d(!1)},p=()=>{d(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(je,{data:{clickFn:()=>d(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),u&&f.jsx(Eo,{data:{yesButton:h,noButton:p,text:"Are you sure to stop the test ?",setValue:d}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${s}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},z8=({data:t})=>{const{currentQuestions:e,chooseAnswer:n}=t,{answeredQuestions:r,theme:s}=I.useContext(ee);return f.jsx("div",{children:e.map((i,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${s==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:i.id}),f.jsx("div",{className:"flex-1 font-padauk",children:i.question})]}),f.jsx("div",{className:"grid gap-y-2",children:i.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{i.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(i.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${s==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(i.id,a)},className:"h-5 w-5",name:`question-${i.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${i.id}-${l}-${a}`)})})]}),f.jsx(B8,{})]},`question-${i.id}-${o}-${i.question}`))})},B8=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),W8=()=>(I.useContext(ee),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:de("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}var si;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(si||(si={}));const kw="popstate";function H8(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=jo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),jm("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Fh(i))}function r(s,i){K0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return G8(e,n,r,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function K0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q8(){return Math.random().toString(36).substr(2,8)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function jm(t,e,n,r){return n===void 0&&(n=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||r||q8()})}function Fh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function G8(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=si.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(qc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=si.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:g})}function h(_,g){a=si.Push;let v=jm(y.location,_,g);n&&n(v,_),c=u()+1;let x=Nw(v,c),T=y.createHref(v);try{o.pushState(x,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(T)}i&&l&&l({action:a,location:y.location,delta:1})}function p(_,g){a=si.Replace;let v=jm(y.location,_,g);n&&n(v,_),c=u();let x=Nw(v,c),T=y.createHref(v);o.replaceState(x,"",T),i&&l&&l({action:a,location:y.location,delta:0})}function m(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:Fh(_);return wt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(kw,d),l=_,()=>{s.removeEventListener(kw,d),l=null}},createHref(_){return e(s,_)},createURL:m,encodeLocation(_){let g=m(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(_){return o.go(_)}};return y}var Pw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pw||(Pw={}));function K8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?jo(e):e,s=F1(r.pathname||"/",n);if(s==null)return null;let i=K4(t);Q8(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=sk(i[a],ak(s));return o}function K4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),K4(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:nk(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Q4(i.path))s(i,o,l)}),e}function Q4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Q4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Q8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Y8=/^:[\w-]+$/,X8=3,J8=2,Z8=1,ek=10,tk=-2,Lw=t=>t==="*";function nk(t,e){let n=t.split("/"),r=n.length;return n.some(Lw)&&(r+=tk),e&&(r+=J8),n.filter(s=>!Lw(s)).reduce((s,i)=>s+(Y8.test(i)?X8:i===""?Z8:ek),r)}function rk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sk(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=ik({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:mi([s,u.pathname]),pathnameBase:hk(mi([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=mi([s,u.pathnameBase]))}return i}function ik(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ok(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=lk(m||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function ok(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),K0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ak(t){try{return decodeURI(t)}catch(e){return K0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lk(t,e){try{return decodeURIComponent(t)}catch(n){return K0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function F1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ck(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:uk(n,e):e,search:fk(r),hash:pk(s)}}function uk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function op(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y4(t,e){let n=dk(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X4(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=jo(t):(s=qc({},t),wt(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=ck(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),hk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const J4=["post","put","patch","delete"];new Set(J4);const gk=["get",...J4];new Set(gk);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}const V1=I.createContext(null),yk=I.createContext(null),$o=I.createContext(null),Q0=I.createContext(null),Pi=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Z4=I.createContext(null);function vk(t,e){let{relative:n}=e===void 0?{}:e;Au()||wt(!1);let{basename:r,navigator:s}=I.useContext($o),{hash:i,pathname:o,search:a}=tC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:mi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Au(){return I.useContext(Q0)!=null}function dl(){return Au()||wt(!1),I.useContext(Q0).location}function eC(t){I.useContext($o).static||I.useLayoutEffect(t)}function tr(){let{isDataRoute:t}=I.useContext(Pi);return t?Nk():_k()}function _k(){Au()||wt(!1);let t=I.useContext(V1),{basename:e,future:n,navigator:r}=I.useContext($o),{matches:s}=I.useContext(Pi),{pathname:i}=dl(),o=JSON.stringify(Y4(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return eC(()=>{a.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=X4(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function U1(){let{matches:t}=I.useContext(Pi),e=t[t.length-1];return e?e.params:{}}function tC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext($o),{matches:s}=I.useContext(Pi),{pathname:i}=dl(),o=JSON.stringify(Y4(s,r.v7_relativeSplatPath));return I.useMemo(()=>X4(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function wk(t,e){return xk(t,e)}function xk(t,e,n,r){Au()||wt(!1);let{navigator:s}=I.useContext($o),{matches:i}=I.useContext(Pi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=dl(),u;if(e){var d;let _=typeof e=="string"?jo(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||wt(!1),u=_}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=K8(t,{pathname:p}),y=Sk(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:mi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:mi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&y?I.createElement(Q0.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:si.Pop}},y):y}function Ek(){let t=kk(),e=mk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,i)}const Ck=I.createElement(Ek,null);class Tk extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Pi.Provider,{value:this.props.routeContext},I.createElement(Z4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ik(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(V1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Pi.Provider,{value:e},r)}function Sk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||wt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Ck,l&&(c<0&&h===0?(Pk("route-fallback",!1),m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),v=()=>{let x;return p?x=y:m?x=_:d.route.Component?x=I.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,I.createElement(Ik,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(Tk,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var nC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nC||{}),Vh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vh||{});function bk(t){let e=I.useContext(V1);return e||wt(!1),e}function Ak(t){let e=I.useContext(yk);return e||wt(!1),e}function Rk(t){let e=I.useContext(Pi);return e||wt(!1),e}function rC(t){let e=Rk(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function kk(){var t;let e=I.useContext(Z4),n=Ak(Vh.UseRouteError),r=rC(Vh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Nk(){let{router:t}=bk(nC.UseNavigateStable),e=rC(Vh.UseNavigateStable),n=I.useRef(!1);return eC(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gc({fromRouteId:e},i)))},[t,e])}const Ow={};function Pk(t,e,n){!e&&!Ow[t]&&(Ow[t]=!0)}function vn(t){wt(!1)}function Lk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=si.Pop,navigator:i,static:o=!1,future:a}=t;Au()&&wt(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:i,static:o,future:Gc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=jo(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=I.useMemo(()=>{let _=F1(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:s}},[l,u,d,h,p,m,s]);return y==null?null:I.createElement($o.Provider,{value:c},I.createElement(Q0.Provider,{children:n,value:y}))}function Ok(t){let{children:e,location:n}=t;return wk($m(e),n)}new Promise(()=>{});function $m(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,$m(r.props.children,i));return}r.type!==vn&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$m(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}function Mk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Dk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jk(t,e){return t.button===0&&(!e||e==="_self")&&!Dk(t)}const $k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Fk="6";try{window.__reactRouterVersion=Fk}catch{}const Vk="startTransition",Mw=Bp[Vk];function Uk(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=H8({window:s,v5Compat:!0}));let o=i.current,[a,l]=I.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=I.useCallback(d=>{c&&Mw?Mw(()=>l(d)):l(d)},[l,c]);return I.useLayoutEffect(()=>o.listen(u),[o,u]),I.createElement(Lk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sC=I.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=Mk(e,$k),{basename:p}=I.useContext($o),m,y=!1;if(typeof c=="string"&&Bk.test(c)&&(m=c,zk))try{let x=new URL(window.location.href),T=c.startsWith("//")?new URL(x.protocol+c):new URL(c),R=F1(T.pathname,p);T.origin===x.origin&&R!=null?c=R+T.search+T.hash:y=!0}catch{}let _=vk(c,{relative:s}),g=Wk(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function v(x){r&&r(x),x.defaultPrevented||g(x)}return I.createElement("a",Fm({},h,{href:m||_,onClick:y||i?r:v,ref:n,target:l}))});var Dw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dw||(Dw={}));var jw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jw||(jw={}));function Wk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=tr(),c=dl(),u=tC(t,{relative:o});return I.useCallback(d=>{if(jk(d,n)){d.preventDefault();let h=r!==void 0?r:Fh(c)===Fh(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Hk(t,e,n){const r=e.name,s=qk(t,e.quizzes),i=Gk(s),o=t.length,a=e.gradingRules.length!==0?Kk(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=Qk(),c=Yk();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function qk(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function Gk(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function Kk(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function Qk(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function Yk(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}var $w={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw hl(e)},hl=function(t){return new Error("Firebase Database ("+iC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Xk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new Jk;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(t){const e=oC(t);return z1.encodeByteArray(e,!0)},Uh=function(t){return aC(t).replace(/\./g,"")},zh=function(t){try{return z1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){return lC(void 0,t)}function lC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!e7(n)||(t[n]=lC(t[n],e[n]));return t}function e7(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=()=>t7().__FIREBASE_DEFAULTS__,r7=()=>{if(typeof process>"u"||typeof $w>"u")return;const t=$w.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zh(t[1]);return e&&JSON.parse(e)},Y0=()=>{try{return n7()||r7()||s7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cC=t=>{var e,n;return(n=(e=Y0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},B1=t=>{const e=cC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uC=()=>{var t;return(t=Y0())===null||t===void 0?void 0:t.config},dC=t=>{var e;return(e=Y0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function i7(){var t;const e=(t=Y0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a7(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fC(){return iC.NODE_ADMIN===!0}function l7(){return!i7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pC(){try{return typeof indexedDB=="object"}catch{return!1}}function c7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u7,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?d7(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ds(s,a,r)}}function d7(t,e){return t.replace(h7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const h7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return JSON.parse(t)}function qt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Kc(zh(i[0])||""),n=Kc(zh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},f7=function(t){const e=mC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},p7=function(t){const e=mC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ga(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Qc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Fw(i)&&Fw(o)){if(!Qc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function g7(t,e){const n=new y7(t,e);return n.subscribe.bind(n)}class y7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ap),s.error===void 0&&(s.error=ap),s.complete===void 0&&(s.complete=ap);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ap(){}function _7(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},X0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class Ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new W1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C7(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E7(t){return t===Gi?void 0:t}function C7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const I7={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},S7=fe.INFO,b7={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},A7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=b7[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J0{constructor(e){this.name=e,this._logLevel=S7,this._logHandler=A7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const R7=(t,e)=>e.some(n=>t instanceof n);let Vw,Uw;function k7(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N7(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gC=new WeakMap,Um=new WeakMap,yC=new WeakMap,lp=new WeakMap,G1=new WeakMap;function P7(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gC.set(n,t)}).catch(()=>{}),G1.set(e,t),e}function L7(t){if(Um.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Um.set(t,e)}let zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O7(t){zm=t(zm)}function M7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return yC.set(r,e.sort?e.sort():[e]),gi(r)}:N7().includes(t)?function(...e){return t.apply(cp(this),e),gi(gC.get(this))}:function(...e){return gi(t.apply(cp(this),e))}}function D7(t){return typeof t=="function"?M7(t):(t instanceof IDBTransaction&&L7(t),R7(t,k7())?new Proxy(t,zm):t)}function gi(t){if(t instanceof IDBRequest)return P7(t);if(lp.has(t))return lp.get(t);const e=D7(t);return e!==t&&(lp.set(t,e),G1.set(e,t)),e}const cp=t=>G1.get(t);function j7(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gi(o.result),l.oldVersion,l.newVersion,gi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $7=["get","getKey","getAll","getAllKeys","count"],F7=["put","add","delete","clear"],up=new Map;function zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$7.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return up.set(e,i),i}O7(t=>({...t,get:(e,n,r)=>zw(e,n)||t.get(e,n,r),has:(e,n)=>!!zw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",Bw="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new J0("@firebase/app"),z7="@firebase/app-compat",B7="@firebase/analytics-compat",W7="@firebase/analytics",H7="@firebase/app-check-compat",q7="@firebase/app-check",G7="@firebase/auth",K7="@firebase/auth-compat",Q7="@firebase/database",Y7="@firebase/database-compat",X7="@firebase/functions",J7="@firebase/functions-compat",Z7="@firebase/installations",eN="@firebase/installations-compat",tN="@firebase/messaging",nN="@firebase/messaging-compat",rN="@firebase/performance",sN="@firebase/performance-compat",iN="@firebase/remote-config",oN="@firebase/remote-config-compat",aN="@firebase/storage",lN="@firebase/storage-compat",cN="@firebase/firestore",uN="@firebase/firestore-compat",dN="firebase",hN="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",fN={[Bm]:"fire-core",[z7]:"fire-core-compat",[W7]:"fire-analytics",[B7]:"fire-analytics-compat",[q7]:"fire-app-check",[H7]:"fire-app-check-compat",[G7]:"fire-auth",[K7]:"fire-auth-compat",[Q7]:"fire-rtdb",[Y7]:"fire-rtdb-compat",[X7]:"fire-fn",[J7]:"fire-fn-compat",[Z7]:"fire-iid",[eN]:"fire-iid-compat",[tN]:"fire-fcm",[nN]:"fire-fcm-compat",[rN]:"fire-perf",[sN]:"fire-perf-compat",[iN]:"fire-rc",[oN]:"fire-rc-compat",[aN]:"fire-gcs",[lN]:"fire-gcs-compat",[cN]:"fire-fst",[uN]:"fire-fst-compat","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,Hm=new Map;function pN(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ci(t){const e=t.name;if(Hm.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of Wh.values())pN(n,t);return!0}function ku(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yi=new Ru("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=hN;function vC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw yi.create("bad-app-name",{appName:String(s)});if(n||(n=uC()),!n)throw yi.create("no-options");const i=Wh.get(s);if(i){if(Qc(n,i.options)&&Qc(r,i.config))return i;throw yi.create("duplicate-app",{appName:s})}const o=new T7(s);for(const l of Hm.values())o.addComponent(l);const a=new gN(n,r,o);return Wh.set(s,a),a}function Z0(t=Wm){const e=Wh.get(t);if(!e&&t===Wm&&uC())return vC();if(!e)throw yi.create("no-app",{appName:t});return e}function hr(t,e,n){var r;let s=(r=fN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(a.join(" "));return}Ci(new Ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebase-heartbeat-database",vN=1,Yc="firebase-heartbeat-store";let dp=null;function _C(){return dp||(dp=j7(yN,vN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),dp}async function _N(t){try{const n=(await _C()).transaction(Yc),r=await n.objectStore(Yc).get(wC(t));return await n.done,r}catch(e){if(e instanceof ds)Co.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function Ww(t,e){try{const r=(await _C()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,wC(t)),await r.done}catch(n){if(n instanceof ds)Co.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(r.message)}}}function wC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=1024,xN=30*24*60*60*1e3;class EN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=xN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hw(),{heartbeatsToSend:r,unsentEntries:s}=CN(this._heartbeatsCache.heartbeats),i=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Hw(){return new Date().toISOString().substring(0,10)}function CN(t,e=wN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),qw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pC()?c7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _N(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qw(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){Ci(new Ps("platform-logger",e=>new V7(e),"PRIVATE")),Ci(new Ps("heartbeat",e=>new EN(e),"PRIVATE")),hr(Bm,Bw,t),hr(Bm,Bw,"esm2017"),hr("fire-js","")}IN("");var SN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,K1=K1||{},le=SN||self;function ef(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bN(t){return Object.prototype.hasOwnProperty.call(t,hp)&&t[hp]||(t[hp]=++AN)}var hp="closure_uid_"+(1e9*Math.random()>>>0),AN=0;function RN(t,e,n){return t.call.apply(t.bind,arguments)}function kN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=RN:un=kN,un.apply(null,arguments)}function Id(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Oi(){this.s=this.s,this.o=this.o}var NN=0;Oi.prototype.s=!1;Oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),NN!=0)&&bN(this)};Oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Q1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Gw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ef(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var PN=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function Xc(t){return/^[\s\xa0]*$/.test(t)}function tf(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function Kr(t){return tf().indexOf(t)!=-1}function Y1(t){return Y1[" "](t),t}Y1[" "]=function(){};function LN(t,e){var n=IP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ON=Kr("Opera"),Ka=Kr("Trident")||Kr("MSIE"),EC=Kr("Edge"),qm=EC||Ka,CC=Kr("Gecko")&&!(tf().toLowerCase().indexOf("webkit")!=-1&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),MN=tf().toLowerCase().indexOf("webkit")!=-1&&!Kr("Edge");function TC(){var t=le.document;return t?t.documentMode:void 0}var Gm;e:{var fp="",pp=function(){var t=tf();if(CC)return/rv:([^\);]+)(\)|;)/.exec(t);if(EC)return/Edge\/([\d\.]+)/.exec(t);if(Ka)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(MN)return/WebKit\/(\S+)/.exec(t);if(ON)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(pp&&(fp=pp?pp[1]:""),Ka){var mp=TC();if(mp!=null&&mp>parseFloat(fp)){Gm=String(mp);break e}}Gm=fp}var Km;if(le.document&&Ka){var Kw=TC();Km=Kw||parseInt(Gm,10)||void 0}else Km=void 0;var DN=Km;function Jc(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CC){e:{try{Y1(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jc.$.h.call(this)}}Ut(Jc,dn);var jN={2:"touch",3:"pen",4:"mouse"};Jc.prototype.h=function(){Jc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),$N=0;function FN(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++$N,this.fa=this.ia=!1}function nf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function X1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function IC(t){const e={};for(const n in t)e[n]=t[n];return e}const Qw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Qw.length;i++)n=Qw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rf(t){this.src=t,this.g={},this.h=0}rf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Ym(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FN(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Qm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=xC(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(nf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ym(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var J1="closure_lm_"+(1e6*Math.random()|0),gp={};function bC(t,e,n,r,s){if(r&&r.once)return RC(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)bC(t,e[i],n,r,s);return null}return n=ty(n),t&&t[Pu]?t.O(e,n,Nu(r)?!!r.capture:!!r,s):AC(t,e,n,!1,r,s)}function AC(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Nu(s)?!!s.capture:!!s,a=ey(t);if(a||(t[J1]=a=new rf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=UN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)PN||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(NC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UN(){function t(n){return e.call(t.src,t.listener,n)}const e=zN;return t}function RC(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)RC(t,e[i],n,r,s);return null}return n=ty(n),t&&t[Pu]?t.P(e,n,Nu(r)?!!r.capture:!!r,s):AC(t,e,n,!0,r,s)}function kC(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)kC(t,e[i],n,r,s);else r=Nu(r)?!!r.capture:!!r,n=ty(n),t&&t[Pu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Ym(i,n,r,s),-1<n&&(nf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=ey(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ym(e,n,r,s)),(n=-1<t?e[t]:null)&&Z1(n))}function Z1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pu])Qm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ey(e))?(Qm(n,t),n.h==0&&(n.src=null,e[J1]=null)):nf(t)}}}function NC(t){return t in gp?gp[t]:gp[t]="on"+t}function zN(t,e){if(t.fa)t=!0;else{e=new Jc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Z1(t),t=n.call(r,e)}return t}function ey(t){return t=t[J1],t instanceof rf?t:null}var yp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ty(t){return typeof t=="function"?t:(t[yp]||(t[yp]=function(e){return t.handleEvent(e)}),t[yp])}function Vt(){Oi.call(this),this.i=new rf(this),this.S=this,this.J=null}Ut(Vt,Oi);Vt.prototype[Pu]=!0;Vt.prototype.removeEventListener=function(t,e,n,r){kC(this,t,e,n,r)};function Qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new dn(e,t);else if(e instanceof dn)e.target=e.target||t;else{var s=e;e=new dn(r,t),SC(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Sd(o,r,!0,e)&&s}if(o=e.g=t,s=Sd(o,r,!0,e)&&s,s=Sd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Sd(o,r,!1,e)&&s}Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nf(n[r]);delete t.g[e],t.h--}}this.J=null};Vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Qm(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var ny=le.JSON.stringify;class BN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function WN(){var t=ry;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class HN{constructor(){this.h=this.g=null}add(e,n){const r=PC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PC=new BN(()=>new qN,t=>t.reset());class qN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function GN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function KN(t){le.setTimeout(()=>{throw t},0)}let Zc,eu=!1,ry=new HN,LC=()=>{const t=le.Promise.resolve(void 0);Zc=()=>{t.then(QN)}};var QN=()=>{for(var t;t=WN();){try{t.h.call(t.g)}catch(n){KN(n)}var e=PC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}eu=!1};function sf(t,e){Vt.call(this),this.h=t||1,this.g=e||le,this.j=un(this.qb,this),this.l=Date.now()}Ut(sf,Vt);X=sf.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(sy(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){sf.$.N.call(this),sy(this),delete this.g};function iy(t,e,n){if(typeof t=="function")n&&(t=un(t,n));else if(t&&typeof t.handleEvent=="function")t=un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function OC(t){t.g=iy(()=>{t.g=null,t.i&&(t.i=!1,OC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YN extends Oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OC(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(t){Oi.call(this),this.h=t,this.g={}}Ut(tu,Oi);var Yw=[];function MC(t,e,n,r){Array.isArray(n)||(n&&(Yw[0]=n.toString()),n=Yw);for(var s=0;s<n.length;s++){var i=bC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function DC(t){X1(t.g,function(e,n){this.g.hasOwnProperty(n)&&Z1(e)},t),t.g={}}tu.prototype.N=function(){tu.$.N.call(this),DC(this)};tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function of(){this.g=!0}of.prototype.Ea=function(){this.g=!1};function XN(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function JN(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eP(t,n)+(r?" "+r:"")})}function ZN(t,e){t.info(function(){return"TIMEOUT: "+e})}of.prototype.info=function(){};function eP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return ny(n)}catch{return e}}var Fo={},Xw=null;function af(){return Xw=Xw||new Vt}Fo.Ta="serverreachability";function jC(t){dn.call(this,Fo.Ta,t)}Ut(jC,dn);function nu(t){const e=af();Qt(e,new jC(e))}Fo.STAT_EVENT="statevent";function $C(t,e){dn.call(this,Fo.STAT_EVENT,t),this.stat=e}Ut($C,dn);function wn(t){const e=af();Qt(e,new $C(e,t))}Fo.Ua="timingevent";function FC(t,e){dn.call(this,Fo.Ua,t),this.size=e}Ut(FC,dn);function Lu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var lf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function oy(){}oy.prototype.h=null;function Jw(t){return t.h||(t.h=t.i())}function UC(){}var Ou={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ay(){dn.call(this,"d")}Ut(ay,dn);function ly(){dn.call(this,"c")}Ut(ly,dn);var Xm;function cf(){}Ut(cf,oy);cf.prototype.g=function(){return new XMLHttpRequest};cf.prototype.i=function(){return{}};Xm=new cf;function Mu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tu(this),this.P=tP,t=qm?125:void 0,this.V=new sf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zC}function zC(){this.i=null,this.g="",this.h=!1}var tP=45e3,BC={},Jm={};X=Mu.prototype;X.setTimeout=function(t){this.P=t};function Zm(t,e,n){t.L=1,t.A=df(Ls(e)),t.u=n,t.S=!0,WC(t,null)}function WC(t,e){t.G=Date.now(),Du(t),t.B=Ls(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),JC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new zC,t.g=_T(t.l,n?e:null,!t.u),0<t.O&&(t.M=new YN(un(t.Pa,t,t.g),t.O)),MC(t.U,t.g,"readystatechange",t.nb),e=t.I?IC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nu(),XN(t.j,t.v,t.B,t.m,t.W,t.u)}X.nb=function(t){t=t.target;const e=this.M;e&&Qr(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const u=Qr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||qm||this.g&&(this.h.h||this.g.ja()||n3(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?nu(3):nu(2)),uf(this);var n=this.g.da();this.ca=n;t:if(HC(this)){var r=n3(this.g);t="";var s=r.length,i=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),vc(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,JN(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xc(a)){var c=a;break t}}c=null}if(n=c)ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eg(this,n);else{this.i=!1,this.s=3,wn(12),eo(this),vc(this);break e}}this.S?(qC(this,u,o),qm&&this.i&&u==3&&(MC(this.U,this.V,"tick",this.mb),this.V.start())):(ga(this.j,this.m,o,null),eg(this,o)),u==4&&eo(this),this.i&&!this.J&&(u==4?mT(this.l,this):(this.i=!1,Du(this)))}else EP(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),eo(this),vc(this)}}}catch{}finally{}};function HC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function qC(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=nP(t,n),s==Jm){e==4&&(t.s=4,wn(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}else if(s==BC){t.s=4,wn(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ga(t.j,t.m,s,null),eg(t,s);HC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),py(e),e.M=!0,wn(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),eo(t),vc(t))}X.mb=function(){if(this.g){var t=Qr(this.g),e=this.g.ja();this.o<e.length&&(uf(this),qC(this,t,e),this.i&&t!=4&&Du(this))}};function nP(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Jm:(n=Number(e.substring(n,r)),isNaN(n)?BC:(r+=1,r+n>e.length?Jm:(e=e.slice(r,r+n),t.o=r+n,e)))}X.cancel=function(){this.J=!0,eo(this)};function Du(t){t.Y=Date.now()+t.P,GC(t,t.P)}function GC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Lu(un(t.lb,t),e)}function uf(t){t.C&&(le.clearTimeout(t.C),t.C=null)}X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(ZN(this.j,this.B),this.L!=2&&(nu(),wn(17)),eo(this),this.s=2,vc(this)):GC(this,this.Y-t)};function vc(t){t.l.H==0||t.J||mT(t.l,t)}function eo(t){uf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sy(t.V),DC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function eg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||tg(n.i,t))){if(!t.K&&tg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gh(n),mf(n);else break e;fy(n),wn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Lu(un(n.ib,n),6e3));if(1>=tT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else to(n,11)}else if((t.K||n.g==t)&&Gh(n),!Xc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(cy(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Qe(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=vT(r,r.J?r.pa:null,r.Y),o.K){nT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(uf(a),Du(a)),r.g=o}else fT(r);0<n.j.length&&gf(n)}else c[0]!="stop"&&c[0]!="close"||to(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?to(n,7):hy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}nu(4)}catch{}}function rP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ef(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function sP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ef(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function KC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ef(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=sP(t),r=rP(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var QC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fo){this.h=t.h,Hh(this,t.j),this.s=t.s,this.g=t.g,qh(this,t.m),this.l=t.l;var e=t.i,n=new ru;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Zw(this,n),this.o=t.o}else t&&(e=String(t).match(QC))?(this.h=!1,Hh(this,e[1]||"",!0),this.s=rc(e[2]||""),this.g=rc(e[3]||"",!0),qh(this,e[4]),this.l=rc(e[5]||"",!0),Zw(this,e[6]||"",!0),this.o=rc(e[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sc(e,e3,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sc(e,e3,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sc(n,n.charAt(0)=="/"?lP:aP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sc(n,uP)),t.join("")};function Ls(t){return new fo(t)}function Hh(t,e,n){t.j=n?rc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Zw(t,e,n){e instanceof ru?(t.i=e,dP(t.i,t.h)):(n||(e=sc(e,cP)),t.i=new ru(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function df(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,oP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var e3=/[#\/\?@]/g,aP=/[#\?:]/g,lP=/[#\?]/g,cP=/[#\?@]/g,uP=/#/g;function ru(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mi(t){t.g||(t.g=new Map,t.h=0,t.i&&iP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=ru.prototype;X.add=function(t,e){Mi(this),this.i=null,t=pl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YC(t,e){Mi(t),e=pl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function XC(t,e){return Mi(t),e=pl(t,e),t.g.has(e)}X.forEach=function(t,e){Mi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.ta=function(){Mi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};X.Z=function(t){Mi(this);let e=[];if(typeof t=="string")XC(this,t)&&(e=e.concat(this.g.get(pl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Mi(this),this.i=null,t=pl(this,t),XC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function JC(t,e,n){YC(t,e),0<n.length&&(t.i=null,t.g.set(pl(t,e),Q1(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function pl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dP(t,e){e&&!t.j&&(Mi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(YC(this,r),JC(this,s,n))},t)),t.j=e}var hP=class{constructor(t,e){this.g=t,this.map=e}};function ZC(t){this.l=t||fP,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fP=10;function eT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tT(t){return t.h?1:t.g?t.g.size:0}function tg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function cy(t,e){t.g?t.g.add(e):t.h=e}function nT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZC.prototype.cancel=function(){if(this.i=rT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function rT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Q1(t.i)}var pP=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function mP(){this.g=new pP}function gP(t,e,n){const r=n||"";try{KC(t,function(s,i){let o=s;Nu(s)&&(o=ny(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function yP(t,e){const n=new of;if(le.Image){const r=new Image;r.onload=Id(bd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Id(bd,n,r,"TestLoadImage: error",!1,e),r.onabort=Id(bd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Id(bd,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bd(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function hf(t){this.l=t.ec||null,this.j=t.ob||!1}Ut(hf,oy);hf.prototype.g=function(){return new ff(this.l,this.j)};hf.prototype.i=function(t){return function(){return t}}({});function ff(t,e){Vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(ff,Vt);var uy=0;X=ff.prototype;X.open=function(t,e){if(this.readyState!=uy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,su(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ju(this)),this.readyState=uy};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,su(this)),this.g&&(this.readyState=3,su(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ju(this):su(this),this.readyState==3&&sT(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,ju(this))};X.Ya=function(t){this.g&&(this.response=t,ju(this))};X.ka=function(){this.g&&ju(this)};function ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,su(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function su(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vP=le.JSON.parse;function lt(t){Vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iT,this.L=this.M=!1}Ut(lt,Vt);var iT="",_P=/^https?$/i,wP=["POST","PUT"];X=lt.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xm.g(),this.C=this.u?Jw(this.u):Jw(Xm),this.g.onreadystatechange=un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){t3(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=le.FormData&&t instanceof le.FormData,!(0<=xC(wP,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lT(this),0<this.B&&((this.L=xP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.ua,this)):this.A=iy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){t3(this,i)}};function xP(t){return Ka&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof K1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))};function t3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oT(t),pf(t)}function oT(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),pf(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pf(this,!0)),lt.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?aT(this):this.kb())};X.kb=function(){aT(this)};function aT(t){if(t.h&&typeof K1<"u"&&(!t.C[1]||Qr(t)!=4||t.da()!=2)){if(t.v&&Qr(t)==4)iy(t.La,0,t);else if(Qt(t,"readystatechange"),Qr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(QC)[1]||null;!s&&le.self&&le.self.location&&(s=le.self.location.protocol.slice(0,-1)),r=!_P.test(s?s.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var i=2<Qr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",oT(t)}}finally{pf(t)}}}}function pf(t,e){if(t.g){lT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function lT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function Qr(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vP(e)}};function n3(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function EP(t){const e={};t=(t.g&&2<=Qr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xc(t[r]))continue;var n=GN(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}VN(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function cT(t){let e="";return X1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=cT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function $l(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uT(t){this.Ga=0,this.j=[],this.l=new of,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$l("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$l("baseRetryDelayMs",5e3,t),this.hb=$l("retryDelaySeedMs",1e4,t),this.eb=$l("forwardChannelMaxRetries",2,t),this.xa=$l("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZC(t&&t.concurrentRequestLimit),this.Ja=new mP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=uT.prototype;X.ra=8;X.H=1;function hy(t){if(dT(t),t.H==3){var e=t.W++,n=Ls(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),$u(t,n),e=new Mu(t,t.l,e),e.L=2,e.A=df(Ls(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=_T(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Du(e)}yT(t)}function mf(t){t.g&&(py(t),t.g.cancel(),t.g=null)}function dT(t){mf(t),t.u&&(le.clearTimeout(t.u),t.u=null),Gh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function gf(t){if(!eT(t.i)&&!t.m){t.m=!0;var e=t.Na;Zc||LC(),eu||(Zc(),eu=!0),ry.add(e,t),t.C=0}}function CP(t,e){return tT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Lu(un(t.Na,t,e),gT(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Mu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=IC(i),SC(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hT(this,s,e),n=Ls(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),$u(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(cT(i)))+"&"+e:this.o&&dy(n,this.o,i)),cy(this.i,s),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),s.aa=!0,Zm(s,n,null)):Zm(s,n,e),this.H=2}}else this.H==3&&(t?r3(this,t):this.j.length==0||eT(this.i)||r3(this))};function r3(t,e){var n;e?n=e.m:n=t.W++;const r=Ls(t.I);Qe(r,"SID",t.K),Qe(r,"RID",n),Qe(r,"AID",t.V),$u(t,r),t.o&&t.s&&dy(r,t.o,t.s),n=new Mu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),cy(t.i,n),Zm(n,r,e)}function $u(t,e){t.na&&X1(t.na,function(n,r){Qe(e,r,n)}),t.h&&KC({},function(n,r){Qe(e,r,n)})}function hT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?un(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{gP(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zc||LC(),eu||(Zc(),eu=!0),ry.add(e,t),t.A=0}}function fy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Lu(un(t.Ma,t),gT(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,pT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Lu(un(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wn(10),mf(this),pT(this))};function py(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function pT(t){t.g=new Mu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ls(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),$u(t,e),t.o&&t.s&&dy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=df(Ls(e)),n.u=null,n.S=!0,WC(n,t)}X.ib=function(){this.v!=null&&(this.v=null,mf(this),fy(this),wn(19))};function Gh(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function mT(t,e){var n=null;if(t.g==e){Gh(t),py(t),t.g=null;var r=2}else if(tg(t.i,e))n=e.F,nT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=af(),Qt(r,new FC(r,n)),gf(t)}else fT(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&CP(t,e)||r==2&&fy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:to(t,5);break;case 4:to(t,10);break;case 3:to(t,6);break;default:to(t,2)}}}function gT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function to(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=un(t.pb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Hh(n,"https"),df(n)),yP(n.toString(),r)}else wn(2);t.H=0,t.h&&t.h.za(e),yT(t),dT(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wn(2)):(this.l.info("Failed to ping google.com"),wn(1))};function yT(t){if(t.H=0,t.ma=[],t.h){const e=rT(t.i);(e.length!=0||t.j.length!=0)&&(Gw(t.ma,e),Gw(t.ma,t.j),t.i.i.length=0,Q1(t.j),t.j.length=0),t.h.ya()}}function vT(t,e,n){var r=n instanceof fo?Ls(n):new fo(n);if(r.g!="")e&&(r.g=e+"."+r.g),qh(r,r.m);else{var s=le.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new fo(null);r&&Hh(i,r),e&&(i.g=e),s&&qh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ra),$u(t,r),r}function _T(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new hf({ob:n})):new lt(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function wT(){}X=wT.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function Kh(){if(Ka&&!(10<=Number(DN)))throw Error("Environmental error: no available transport.")}Kh.prototype.g=function(t,e){return new Xn(t,e)};function Xn(t,e){Vt.call(this),this.g=new uT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ml(this)}Ut(Xn,Vt);Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vT(t,null,t.Y),gf(t)};Xn.prototype.close=function(){hy(this.g)};Xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ny(t),t=n);e.j.push(new hP(e.fb++,t)),e.H==3&&gf(e)};Xn.prototype.N=function(){this.g.h=null,delete this.j,hy(this.g),delete this.g,Xn.$.N.call(this)};function xT(t){ay.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ut(xT,ay);function ET(){ly.call(this),this.status=1}Ut(ET,ly);function ml(t){this.g=t}Ut(ml,wT);ml.prototype.Ba=function(){Qt(this.g,"a")};ml.prototype.Aa=function(t){Qt(this.g,new xT(t))};ml.prototype.za=function(t){Qt(this.g,new ET)};ml.prototype.ya=function(){Qt(this.g,"b")};function TP(){this.blockSize=-1}function Lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ut(Lr,TP);Lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function vp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)vp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){vp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){vp(this,r),s=0;break}}this.h=s,this.i+=e};Lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ne(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var IP={};function my(t){return-128<=t&&128>t?LN(t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function Yr(t){if(isNaN(t)||!isFinite(t))return ba;if(0>t)return Ht(Yr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ng;return new Ne(e,0)}function CT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ht(CT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yr(Math.pow(e,8)),r=ba,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Yr(Math.pow(e,i)),r=r.R(i).add(Yr(o))):(r=r.R(n),r=r.add(Yr(o)))}return r}var ng=4294967296,ba=my(0),rg=my(1),s3=my(16777216);X=Ne.prototype;X.ea=function(){if(lr(this))return-Ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ng+r)*e,e*=ng}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Es(this))return"0";if(lr(this))return"-"+Ht(this).toString(t);for(var e=Yr(Math.pow(t,6)),n=this,r="";;){var s=Yh(n,e).g;n=Qh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Es(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Es(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function lr(t){return t.h==-1}X.X=function(t){return t=Qh(this,t),lr(t)?-1:Es(t)?0:1};function Ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(rg)}X.abs=function(){return lr(this)?Ht(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ne(n,n[n.length-1]&-2147483648?-1:0)};function Qh(t,e){return t.add(Ht(e))}X.R=function(t){if(Es(this)||Es(t))return ba;if(lr(this))return lr(t)?Ht(this).R(Ht(t)):Ht(Ht(this).R(t));if(lr(t))return Ht(this.R(Ht(t)));if(0>this.X(s3)&&0>t.X(s3))return Yr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Ad(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Ad(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ad(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ad(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)};function Ad(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fl(t,e){this.g=t,this.h=e}function Yh(t,e){if(Es(e))throw Error("division by zero");if(Es(t))return new Fl(ba,ba);if(lr(t))return e=Yh(Ht(t),e),new Fl(Ht(e.g),Ht(e.h));if(lr(e))return e=Yh(t,Ht(e)),new Fl(Ht(e.g),e.h);if(30<t.g.length){if(lr(t)||lr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rg,r=e;0>=r.X(t);)n=i3(n),r=i3(r);var s=Ko(n,1),i=Ko(r,1);for(r=Ko(r,2),n=Ko(n,2);!Es(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Ko(r,1),n=Ko(n,1)}return e=Qh(t,s.R(e)),new Fl(s,e)}for(s=ba;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Yr(n),o=i.R(e);lr(o)||0<o.X(t);)n-=r,i=Yr(n),o=i.R(e);Es(i)&&(i=rg),s=s.add(i),t=Qh(t,o)}return new Fl(s,t)}X.gb=function(t){return Yh(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)};function i3(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function Ko(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ne(s,t.h)}Kh.prototype.createWebChannel=Kh.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;lf.NO_ERROR=0;lf.TIMEOUT=8;lf.HTTP_ERROR=6;VC.COMPLETE="complete";UC.EventType=Ou;Ou.OPEN="a";Ou.CLOSE="b";Ou.ERROR="c";Ou.MESSAGE="d";Vt.prototype.listen=Vt.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;Lr.prototype.digest=Lr.prototype.l;Lr.prototype.reset=Lr.prototype.reset;Lr.prototype.update=Lr.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=Yr;Ne.fromString=CT;var SP=function(){return new Kh},bP=function(){return af()},_p=lf,AP=VC,RP=Fo,o3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Rd=UC,kP=lt,NP=Lr,Aa=Ne;const a3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new J0("@firebase/firestore");function Vl(){return To.logLevel}function K(t,...e){if(To.logLevel<=fe.DEBUG){const n=e.map(gy);To.debug(`Firestore (${gl}): ${t}`,...n)}}function ls(t,...e){if(To.logLevel<=fe.ERROR){const n=e.map(gy);To.error(`Firestore (${gl}): ${t}`,...n)}}function Qa(t,...e){if(To.logLevel<=fe.WARN){const n=e.map(gy);To.warn(`Firestore (${gl}): ${t}`,...n)}}function gy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function He(t,e){t||ae()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class LP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OP{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ts,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ts)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new TT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new rn(e)}}class MP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class DP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $P{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new jP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=FP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new At(0,0))}static max(){return new ce(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends iu{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends iu{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return VP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(ze.fromString(e))}static fromName(e){return new ne(ze.fromString(e).popFirst(5))}static empty(){return new ne(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new ze(e.slice()))}}function UP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Ti(s,ne.empty(),e)}function zP(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(ce.min(),ne.empty(),-1)}static max(){return new Ti(ce.max(),ne.empty(),-1)}}function BP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==WP)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ts,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _c(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=vy(r.target.error);this.V.reject(new _c(e,s))}}static open(e,n,r,s){try{return new yy(n,e.transaction(s,r))}catch(i){throw new _c(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new GP(n)}}class no{constructor(e,n,r){this.name=e,this.version=n,this.p=r,no.S(xt())===12.2&&ls("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Qi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!pC())return!1;if(no.C())return!0;const e=xt(),n=no.S(e),r=0<n&&n<10,s=no.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new _c(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new q(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new q(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new _c(e,o))},s.onupgradeneeded=i=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=yy.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),B.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qP{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Qi(this.k.delete())}}class _c extends q{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vu(t){return t.name==="IndexedDbTransactionError"}class GP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qi(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Qi(this.store.add(e))}get(e){return Qi(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Qi(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Qi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new B((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new B((r,s)=>{n.onerror=i=>{const o=vy(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new B((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new qP(a),c=n(a.primaryKey,a.value,l);if(c instanceof B){const u=c.catch(d=>(l.done(),B.reject(d)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Qi(t){return new B((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=vy(r.target.error);n(s)}})}let l3=!1;function vy(t){const e=no.S(xt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l3||(l3=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}_y._e=-1;function yf(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function KP(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ST(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Et=class sg{constructor(e,n){this.comparator=e,this.root=n||vi.EMPTY}insert(e,n){return new sg(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new sg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}},kd=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vi=class gs{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??gs.RED,this.left=s??gs.EMPTY,this.right=i??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new gs(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1;vi.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u3(this.data.getIterator())}getIteratorFrom(e){return new u3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class u3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Yt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bT("Invalid base64 string: "+i):i}}(e);return new pn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const QP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(He(!!t),typeof t=="string"){let e=0;const n=QP.exec(t);if(He(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wy(t){const e=t.mapValue.fields.__previous_value__;return vf(e)?wy(e):e}function ou(t){const e=Ii(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vf(t)?4:XP(t)?9007199254740991:10:ae()}function cs(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ii(s.timestampValue),a=Ii(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Io(s.bytesValue).isEqual(Io(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),a=mt(i.doubleValue);return o===a?Xh(o)===Xh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(c3(o)!==c3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!cs(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function lu(t,e){return(t.values||[]).find(n=>cs(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=mt(i.integerValue||i.doubleValue),l=mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return d3(t.timestampValue,e.timestampValue);case 4:return d3(ou(t),ou(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Io(i),l=Io(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ie(a[c],l[c]);if(u!==0)return u}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(mt(i.latitude),mt(o.latitude));return a!==0?a:Ie(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Xa(a[c],l[c]);if(u)return u}return Ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Nd.mapValue&&o===Nd.mapValue)return 0;if(i===Nd.mapValue)return 1;if(o===Nd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Ie(l[d],u[d]);if(h!==0)return h;const p=Xa(a[l[d]],c[u[d]]);if(p!==0)return p}return Ie(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ae()}}function d3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Ii(t),r=Ii(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function Ja(t){return ig(t)}function ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ig(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ig(n.fields[o])}`;return s+"}"}(t.mapValue):ae()}function Jh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function xy(t){return!!t&&"arrayValue"in t}function h3(t){return!!t&&"nullValue"in t}function f3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=wc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new An(wc(this.value))}}function AT(t){const e=[];return Vo(t.fields,(n,r)=>{const s=new Gt([n]);if(th(r)){const i=AT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new on(e,0,ce.min(),ce.min(),ce.min(),An.empty(),0)}static newFoundDocument(e,n,r,s){return new on(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new on(e,2,n,ce.min(),ce.min(),An.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,ce.min(),ce.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.position=e,this.inclusive=n}}function p3(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function m3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function JP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class _t extends RT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eL(e,n,r):n==="array-contains"?new rL(e,r):n==="in"?new sL(e,r):n==="not-in"?new iL(e,r):n==="array-contains-any"?new oL(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tL(e,r):new nL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xa(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Or(e,n)}matches(e){return kT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function kT(t){return t.op==="and"}function NT(t){return ZP(t)&&kT(t)}function ZP(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function ag(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Ja(t.value);if(NT(t))return t.filters.map(e=>ag(e)).join(",");{const e=t.filters.map(n=>ag(n)).join(",");return`${t.op}(${e})`}}function PT(t,e){return t instanceof _t?function(r,s){return s instanceof _t&&r.op===s.op&&r.field.isEqual(s.field)&&cs(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&PT(o,s.filters[a]),!0):!1}(t,e):void ae()}function LT(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(t):"Filter"}class eL extends _t{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class tL extends _t{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nL extends _t{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class rL extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xy(n)&&lu(n.arrayValue,this.value)}}class sL extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class iL extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class oL extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function g3(t,e=null,n=[],r=[],s=null,i=null,o=null){return new aL(t,e,n,r,s,i,o)}function Ey(t){const e=ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ja(r)).join(",")),e.ce=n}return e.ce}function Cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m3(t.startAt,e.startAt)&&m3(t.endAt,e.endAt)}function lg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lL(t,e,n,r,s,i,o,a){return new Uo(t,e,n,r,s,i,o,a)}function _f(t){return new Uo(t)}function y3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ty(t){return t.collectionGroup!==null}function Ra(t){const e=ue(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yt(Gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new cu(i,r))}),n.has(Gt.keyField().canonicalString())||e.le.push(new cu(Gt.keyField(),r))}return e.le}function ns(t){const e=ue(t);return e.he||(e.he=cL(e,Ra(t))),e.he}function cL(t,e){if(t.limitType==="F")return g3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cu(s.field,i)});const n=t.endAt?new Za(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Za(t.startAt.position,t.startAt.inclusive):null;return g3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zh(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wf(t,e){return Cy(ns(t),ns(e))&&t.limitType===e.limitType}function MT(t){return`${Ey(ns(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>LT(s)).join(", ")}]`),yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ja(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ja(s)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ra(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=p3(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ra(r),s)||r.endAt&&!function(o,a,l){const c=p3(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ra(r),s))}(t,e)}function uL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DT(t){return(e,n)=>{let r=!1;for(const s of Ra(t)){const i=dL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dL(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Xa(l,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Et(ne.comparator);function Os(){return hL}const jT=new Et(ne.comparator);function ic(...t){let e=jT;for(const n of t)e=e.insert(n.key,n);return e}function $T(t){let e=jT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return xc()}function FT(){return xc()}function xc(){return new yl(t=>t.toString(),(t,e)=>t.isEqual(e))}const fL=new Et(ne.comparator),pL=new Yt(ne.comparator);function pe(...t){let e=pL;for(const n of t)e=e.add(n);return e}const mL=new Yt(Ie);function gL(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function yL(t,e){return KP(e)?UT(e):VT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function vL(t,e,n){return t instanceof uu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&vf(i)&&(i=wy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof el?BT(t,e):t instanceof du?WT(t,e):function(s,i){const o=zT(s,i),a=v3(o)+v3(s.Ie);return og(o)&&og(s.Ie)?UT(a):VT(s.serializer,a)}(t,e)}function _L(t,e,n){return t instanceof el?BT(t,e):t instanceof du?WT(t,e):n}function zT(t,e){return t instanceof e0?function(r){return og(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uu extends Ef{}class el extends Ef{constructor(e){super(),this.elements=e}}function BT(t,e){const n=HT(e);for(const r of t.elements)n.some(s=>cs(s,r))||n.push(r);return{arrayValue:{values:n}}}class du extends Ef{constructor(e){super(),this.elements=e}}function WT(t,e){let n=HT(e);for(const r of t.elements)n=n.filter(s=>!cs(s,r));return{arrayValue:{values:n}}}class e0 extends Ef{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function v3(t){return mt(t.integerValue||t.doubleValue)}function HT(t){return xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.field=e,this.transform=n}}function wL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof el&&s instanceof el||r instanceof du&&s instanceof du?Ya(r.elements,s.elements,cs):r instanceof e0&&s instanceof e0?cs(r.Ie,s.Ie):r instanceof uu&&s instanceof uu}(t.transform,e.transform)}class xL{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cf{}function GT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iy(t.key,fr.none()):new Uu(t.key,t.data,fr.none());{const n=t.data,r=An.empty();let s=new Yt(Gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Di(t.key,r,new Un(s.toArray()),fr.none())}}function EL(t,e,n){t instanceof Uu?function(s,i,o){const a=s.value.clone(),l=w3(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(s,i,o){if(!nh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=w3(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(KT(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Uu?function(i,o,a,l){if(!nh(i.precondition,o))return a;const c=i.value.clone(),u=x3(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(i,o,a,l){if(!nh(i.precondition,o))return a;const c=x3(i.fieldTransforms,l,o),u=o.data;return u.setAll(KT(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return nh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function CL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zT(r.transform,s||null);i!=null&&(n===null&&(n=An.empty()),n.set(r.field,i))}return n||null}function _3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ya(r,s,(i,o)=>wL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uu extends Cf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Di extends Cf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w3(t,e,n){const r=new Map;He(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,_L(o,a,n[s]))}return r}function x3(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,vL(i,o,e))}return r}class Iy extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TL extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&EL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=GT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,r)=>_3(n,r))&&Ya(this.baseMutations,e.baseMutations,(n,r)=>_3(n,r))}}class Sy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length);let s=function(){return fL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Sy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,ve;function AL(t){switch(t){default:return ae();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function QT(t){if(t===void 0)return ls("GRPC error has no .code"),V.UNKNOWN;switch(t){case pt.OK:return V.OK;case pt.CANCELLED:return V.CANCELLED;case pt.UNKNOWN:return V.UNKNOWN;case pt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case pt.INTERNAL:return V.INTERNAL;case pt.UNAVAILABLE:return V.UNAVAILABLE;case pt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case pt.NOT_FOUND:return V.NOT_FOUND;case pt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case pt.ABORTED:return V.ABORTED;case pt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case pt.DATA_LOSS:return V.DATA_LOSS;default:return ae()}}(ve=pt||(pt={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Aa([4294967295,4294967295],0);function E3(t){const e=RL().encode(t),n=new NP;return n.update(e),new Uint8Array(n.digest())}function C3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Aa([n,r],0),new Aa([s,i],0)]}class by{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Aa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Aa.fromNumber(r)));return s.compare(kL)===1&&(s=new Aa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=E3(e),[r,s]=C3(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new by(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=E3(e),[r,s]=C3(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(ce.min(),s,new Et(Ie),Os(),pe())}}class zu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class YT{constructor(e,n){this.targetId=e,this.fe=n}}class XT{constructor(e,n,r=pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class T3{constructor(){this.ge=0,this.pe=S3(),this.ye=pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new zu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=S3()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,He(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class NL{constructor(e){this.Be=e,this.ke=new Map,this.qe=Os(),this.Qe=I3(),this.Ke=new Et(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(lg(i))if(r===0){const o=new ne(i.path);this.We(n,o,on.newNoDocument(o,ce.min()))}else He(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Io(r).toUint8Array()}catch(l){if(l instanceof bT)return Qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new by(o,s,i)}catch(l){return Qa(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&lg(a.target)){const l=new ne(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,on.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=pe();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Tf(e,n,this.Ke,this.qe,r);return this.qe=Os(),this.Qe=I3(),this.Ke=new Et(Ie),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new T3,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Yt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new T3),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function I3(){return new Et(ne.comparator)}function S3(){return new Et(ne.comparator)}const PL={asc:"ASCENDING",desc:"DESCENDING"},LL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OL={and:"AND",or:"OR"};class ML{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(t,e){return t.useProto3Json||yf(e)?e:{value:e}}function t0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DL(t,e){return t0(t,e.toTimestamp())}function rs(t){return He(!!t),ce.fromTimestamp(function(n){const r=Ii(n);return new At(r.seconds,r.nanos)}(t))}function Ay(t,e){return dg(t,e).canonicalString()}function dg(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZT(t){const e=ze.fromString(t);return He(sI(e)),e}function hg(t,e){return Ay(t.databaseId,e.path)}function wp(t,e){const n=ZT(e);if(n.get(1)!==t.databaseId.projectId)throw new q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(tI(n))}function eI(t,e){return Ay(t.databaseId,e)}function jL(t){const e=ZT(t);return e.length===4?ze.emptyPath():tI(e)}function fg(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tI(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b3(t,e,n){return{name:hg(t,e),fields:n.value.mapValue.fields}}function $L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(He(u===void 0||typeof u=="string"),pn.fromBase64String(u||"")):(He(u===void 0||u instanceof Uint8Array),pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?V.UNKNOWN:QT(c.code);return new q(u,c.message||"")}(o);n=new XT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wp(t,r.document.name),i=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):ce.min(),a=new An({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new rh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wp(t,r.document),i=r.readTime?rs(r.readTime):ce.min(),o=on.newNoDocument(s,i),a=r.removedTargetIds||[];n=new rh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wp(t,r.document),i=r.removedTargetIds||[];n=new rh([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new bL(s,i),a=r.targetId;n=new YT(a,o)}}return n}function FL(t,e){let n;if(e instanceof Uu)n={update:b3(t,e.key,e.value)};else if(e instanceof Iy)n={delete:hg(t,e.key)};else if(e instanceof Di)n={update:b3(t,e.key,e.data),updateMask:KL(e.fieldMask)};else{if(!(e instanceof TL))return ae();n={verify:hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof el)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof e0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:DL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function VL(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?rs(s.updateTime):rs(i);return o.isEqual(ce.min())&&(o=rs(i)),new xL(o,s.transformResults||[])}(n,e))):[]}function UL(t,e){return{documents:[eI(t,e.path)]}}function zL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eI(t,s);const i=function(c){if(c.length!==0)return rI(Or.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:na(h.field),direction:HL(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ug(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function BL(t){let e=jL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const h=nI(d);return h instanceof Or&&NT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new cu(ra(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,yf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Za(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Za(p,h)}(n.endAt)),lL(e,s,o,i,a,"F",l,c)}function WL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(n.unaryFilter.field);return _t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ra(n.unaryFilter.field);return _t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>nI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function HL(t){return PL[t]}function qL(t){return LL[t]}function GL(t){return OL[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return Gt.fromServerFormat(t.fieldPath)}function rI(t){return t instanceof _t?function(n){if(n.op==="=="){if(f3(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(h3(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f3(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(h3(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:qL(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>rI(s));return r.length===1?r[0]:{compositeFilter:{op:GL(n.op),filters:r}}}(t):ae()}function KL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.ct=e}}function YL(t){const e=BL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this._n=new JL}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ti.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class JL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Yt(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Yt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new tl(0)}static Ln(){return new tl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ec(r.mutation,s,Un.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ic();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Os();const o=xc(),a=function(){return xc()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Di)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ec(u.mutation,c,u.mutation.getFieldMask(),At.now())):o.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new eO(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xc();let s=new Et((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Un.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||pe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=FT();u.forEach(h=>{if(!i.has(h)){const p=GT(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ty(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(ro());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,pe())).next(u=>({batchId:a,changes:$T(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ic();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(d,h){return new Uo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,on.newInvalidDocument(u)))});let a=ic();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Ec(u.mutation,c,Un.empty(),At.now()),xf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rs(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:YL(s.bundledQuery),readTime:rs(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.overlays=new Et(ne.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=ro(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=ro(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ro(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SL(n,r));let i=this.hr.get(n);i===void 0&&(i=pe(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Pr=new Yt(Mt.Ir),this.Tr=new Yt(Mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new ze([])),r=new Mt(n,e),s=new Mt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new ze([])),r=new Mt(n,e),s=new Mt(n,e+1);let i=pe();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Ie(e.pr,n.pr)}static Er(e,n){return Ie(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Yt(Mt.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),s=new Mt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Ie);return n.forEach(s=>{const i=new Mt(s,0),o=new Mt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new Mt(new ne(i),0);let a=new Yt(Ie);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,s=>{const i=new Mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Mt(n,0),s=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.vr=e,this.docs=function(){return new Et(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():on.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Os();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||BP(zP(u),r)<=0||(s.has(u.key)||xf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oO(this)}getSize(e){return B.resolve(this.size)}}class oO extends ZL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.persistence=e,this.Mr=new yl(n=>Ey(n),Cy),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ry,this.targetCount=0,this.Lr=tl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.Br={},this.overlays={},this.kr=new _y(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new aO(this),this.indexManager=new XL,this.remoteDocumentCache=function(s){return new iO(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new QL(n),this.$r=new nO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new sO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new cO(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class cO extends HP{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.zr=new Ry,this.jr=null}static Hr(e){return new ky(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const s=ne.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ny(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return l7()?8:no.v(xt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new uO;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Vl()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(Vl()<=fe.DEBUG&&K("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Vl()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):B.resolve())}ji(e,n){if(y3(n))return B.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zh(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Zh(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return y3(n)||s.isEqual(ce.min())?B.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?B.resolve(null):(Vl()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(n)),this.es(e,o,n,UP(s,-1)).next(a=>a))})}Zi(e,n){let r=new Yt(DT(e));return n.forEach((s,i)=>{xf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Vl()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ta(n)),this.zi.getDocumentsMatchingQuery(e,n,Ti.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Et(Ie),this.rs=new yl(i=>Ey(i),Cy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function fO(t,e,n,r){return new hO(t,e,n,r)}async function iI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=pe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function pO(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=B.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const _=c.docVersions.get(m);He(_!==null),y.version.compareTo(_)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function oI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function mO(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(pn.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(y,_,g){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=Os(),c=pe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(gO(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(ce.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function gO(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Os();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function yO(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vO(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function pg(t,e,n){const r=ue(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vu(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function A3(t,e,n){const r=ue(t);let s=ce.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ue(l),h=d.rs.get(u);return h!==void 0?B.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,ns(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:pe())).next(a=>(_O(r,uL(e),a),{documents:a,hs:i})))}function _O(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class R3{constructor(){this.activeTargetIds=gL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.no=new R3,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new R3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function xp(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class TO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=xp(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Qa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=EO[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=xp();return new Promise((o,a)=>{const l=new kP;l.setWithCredentials(!0),l.listenOnce(AP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _p.NO_ERROR:const u=l.getResponseJson();K(tn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case _p.TIMEOUT:K(tn,`RPC '${e}' ${i} timed out`),a(new q(V.DEADLINE_EXCEEDED,"Request time out"));break;case _p.HTTP_ERROR:const d=l.getStatus();if(K(tn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(g)>=0?g:V.UNKNOWN}(p.status);a(new q(m,p.message))}else a(new q(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(V.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{K(tn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);K(tn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=xp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SP(),a=bP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");K(tn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new CO({lo:_=>{p?K(tn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(h||(K(tn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),K(tn,`RPC '${e}' stream ${s} sending:`,_),d.send(_))},ho:()=>d.close()}),y=(_,g,v)=>{_.listen(g,x=>{try{v(x)}catch(T){setTimeout(()=>{throw T},0)}})};return y(d,Rd.EventType.OPEN,()=>{p||K(tn,`RPC '${e}' stream ${s} transport opened.`)}),y(d,Rd.EventType.CLOSE,()=>{p||(p=!0,K(tn,`RPC '${e}' stream ${s} transport closed`),m.Vo())}),y(d,Rd.EventType.ERROR,_=>{p||(p=!0,Qa(tn,`RPC '${e}' stream ${s} transport errored:`,_),m.Vo(new q(V.UNAVAILABLE,"The operation could not be completed")))}),y(d,Rd.EventType.MESSAGE,_=>{var g;if(!p){const v=_.data[0];He(!!v);const x=v,T=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(T){K(tn,`RPC '${e}' stream ${s} received error:`,T);const R=T.status;let w=function(E){const b=pt[E];if(b!==void 0)return QT(b)}(R),S=T.message;w===void 0&&(w=V.INTERNAL,S="Unknown error status: "+R+" with message "+T.message),p=!0,m.Vo(new q(w,S)),d.close()}else K(tn,`RPC '${e}' stream ${s} received:`,v),m.mo(v)}}),y(a,RP.STAT_EVENT,_=>{_.stat===o3.PROXY?K(tn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===o3.NOPROXY&&K(tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new ML(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new q(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IO extends lI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=$L(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?rs(o.readTime):ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=fg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=lg(l)?{documents:UL(i,l)}:{query:zL(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JT(i,o.resumeToken);const c=ug(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=t0(i,o.snapshotVersion.toTimestamp());const c=ug(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=WL(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.t_(n)}}class SO extends lI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=VL(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.T_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=fg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FL(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new q(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,dg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(V.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,dg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(V.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class AO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ls(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{zo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.v_.add(4),await Bu(c),c.x_.set("Unknown"),c.v_.delete(4),await Sf(c)}(this))})}),this.x_=new AO(r,s)}}async function Sf(t){if(zo(t))for(const e of t.F_)await e(!0)}async function Bu(t){for(const e of t.F_)await e(!1)}function cI(t,e){const n=ue(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),My(n)?Oy(n):vl(n).Jo()&&Ly(n,e))}function Py(t,e){const n=ue(t),r=vl(n);n.C_.delete(e),r.Jo()&&uI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():zo(n)&&n.x_.set("Unknown"))}function Ly(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).c_(e)}function uI(t,e){t.O_.Oe(e),vl(t).l_(e)}function Oy(t){t.O_=new NL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.x_.p_()}function My(t){return zo(t)&&!vl(t).Ho()&&t.C_.size>0}function zo(t){return ue(t).v_.size===0}function dI(t){t.O_=void 0}async function kO(t){t.C_.forEach((e,n)=>{Ly(t,e)})}async function NO(t,e){dI(t),My(t)?(t.x_.S_(e),Oy(t)):t.x_.set("Unknown")}async function PO(t,e,n){if(t.x_.set("Online"),e instanceof XT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await n0(t,r)}else if(e instanceof rh?t.O_.$e(e):e instanceof YT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ce.min()))try{const r=await oI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(pn.EMPTY_BYTE_STRING,u.snapshotVersion)),uI(i,l);const d=new ii(u.target,l,c,u.sequenceNumber);Ly(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await n0(t,r)}}async function n0(t,e,n){if(!Vu(e))throw e;t.v_.add(1),await Bu(t),t.x_.set("Offline"),n||(n=()=>oI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Sf(t)})}function hI(t,e){return e().catch(n=>n0(t,n,e))}async function bf(t){const e=ue(t),n=Si(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;LO(e);)try{const s=await yO(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,OO(e,s)}catch(s){await n0(e,s)}fI(e)&&pI(e)}function LO(t){return zo(t)&&t.D_.length<10}function OO(t,e){t.D_.push(e);const n=Si(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function fI(t){return zo(t)&&!Si(t).Ho()&&t.D_.length>0}function pI(t){Si(t).start()}async function MO(t){Si(t).d_()}async function DO(t){const e=Si(t);for(const n of t.D_)e.I_(n.mutations)}async function jO(t,e,n){const r=t.D_.shift(),s=Sy.from(r,e,n);await hI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bf(t)}async function $O(t,e){e&&Si(t).P_&&await async function(r,s){if(function(o){return AL(o)&&o!==V.ABORTED}(s.code)){const i=r.D_.shift();Si(r).Zo(),await hI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bf(r)}}(t,e),fI(t)&&pI(t)}async function N3(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=zo(n);n.v_.add(3),await Bu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Sf(n)}async function FO(t,e){const n=ue(t);e?(n.v_.delete(2),await Sf(n)):e||(n.v_.add(2),await Bu(n),n.x_.set("Unknown"))}function vl(t){return t.N_||(t.N_=function(n,r,s){const i=ue(n);return i.R_(),new IO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:kO.bind(null,t),To:NO.bind(null,t),u_:PO.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),My(t)?Oy(t):t.x_.set("Unknown")):(await t.N_.stop(),dI(t))})),t.N_}function Si(t){return t.L_||(t.L_=function(n,r,s){const i=ue(n);return i.R_(),new SO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:MO.bind(null,t),To:$O.bind(null,t),E_:DO.bind(null,t),T_:jO.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await bf(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Dy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(t,e){if(ls("AsyncQueue",`${e}: ${t}`),Vu(t))return new q(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new ka(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.B_=new Et(ne.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ae():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class nl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nl(e,n,ka.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class UO{constructor(){this.queries=new yl(e=>MT(e),wf),this.onlineState="Unknown",this.W_=new Set}}async function $y(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new VO,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=jy(o,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&Vy(n)}async function Fy(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zO(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&Vy(n)}function BO(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Vy(t){t.W_.forEach(e=>{e.next()})}var mg,L3;(L3=mg||(mg={})).j_="default",L3.Cache="cache";class Uy{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.key=e}}class gI{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=pe(),this.mutatedKeys=pe(),this.ha=DT(e),this.Pa=new ka(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new P3,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),p=xf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),_=!0):this.da(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return y(p)-y(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new nl(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new P3,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=pe(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new gI(r))}),this.la.forEach(r=>{e.has(r)||n.push(new mI(r))}),n}fa(e){this.ua=e.hs,this.la=pe();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return nl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class HO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qO{constructor(e){this.key=e,this.pa=!1}}class GO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new yl(a=>MT(a),wf),this.Sa=new Map,this.ba=new Set,this.Da=new Et(ne.comparator),this.Ca=new Map,this.va=new Ry,this.Fa={},this.Ma=new Map,this.xa=tl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function KO(t,e,n=!0){const r=EI(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await yI(r,e,n,!0),s}async function QO(t,e){const n=EI(t);await yI(n,e,!0,!1)}async function yI(t,e,n,r){const s=await vO(t.localStore,ns(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await YO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&cI(t.remoteStore,s),a}async function YO(t,e,n,r,s){t.Na=(d,h,p)=>async function(y,_,g,v){let x=_.view.Ta(g);x.Xi&&(x=await A3(y.localStore,_.query,!1).then(({documents:S})=>_.view.Ta(S,x)));const T=v&&v.targetChanges.get(_.targetId),R=v&&v.targetMismatches.get(_.targetId)!=null,w=_.view.applyChanges(x,y.isPrimaryClient,T,R);return M3(y,_.targetId,w.Va),w.snapshot}(t,d,h,p);const i=await A3(t.localStore,e,!0),o=new WO(e,i.hs),a=o.Ta(i.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);M3(t,n,c.Va);const u=new HO(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function XO(t,e,n){const r=ue(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!wf(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Py(r.remoteStore,s.targetId),gg(r,s.targetId)}).catch(Fu)):(gg(r,s.targetId),await pg(r.localStore,s.targetId,!0))}async function JO(t,e){const n=ue(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Py(n.remoteStore,r.targetId))}async function ZO(t,e,n){const r=oM(t);try{const s=await function(o,a){const l=ue(o),c=At.now(),u=a.reduce((p,m)=>p.add(m.key),pe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Os(),y=pe();return l.os.getEntries(p,u).next(_=>{m=_,m.forEach((g,v)=>{v.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const g=[];for(const v of a){const x=CL(v,d.get(v.key).overlayedDocument);x!=null&&g.push(new Di(v.key,x,AT(x.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(_=>{h=_;const g=_.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,_.batchId,g)})}).then(()=>({batchId:h.batchId,changes:$T(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Et(Ie)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Wu(r,s.changes),await bf(r.remoteStore)}catch(s){const i=jy(s,"Failed to persist write");n.reject(i)}}async function vI(t,e){const n=ue(t);try{const r=await mO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?He(o.pa):s.removedDocuments.size>0&&(He(o.pa),o.pa=!1))}),await Wu(n,r,e)}catch(r){await Fu(r)}}function O3(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&Vy(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eM(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Et(ne.comparator);o=o.insert(i,on.newNoDocument(i,ce.min()));const a=pe().add(i),l=new Tf(ce.min(),new Map,new Et(Ie),o,a);await vI(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),zy(r)}else await pg(r.localStore,e,!1).then(()=>gg(r,e,n)).catch(Fu)}async function tM(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await pO(n.localStore,e);wI(n,r,null),_I(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,s)}catch(s){await Fu(s)}}async function nM(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(He(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);wI(r,e,n),_I(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,s)}catch(s){await Fu(s)}}function _I(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function wI(t,e,n){const r=ue(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||xI(t,r)})}function xI(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Py(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),zy(t))}function M3(t,e,n){for(const r of n)r instanceof mI?(t.va.addReference(r.key,e),rM(t,r)):r instanceof gI?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||xI(t,r.key)):ae()}function rM(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),zy(t))}function zy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ne(ze.fromString(e)),r=t.xa.next();t.Ca.set(r,new qO(n)),t.Da=t.Da.insert(n,r),cI(t.remoteStore,new ii(ns(_f(n.path)),r,"TargetPurposeLimboResolution",_y._e))}}async function Wu(t,e,n){const r=ue(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Ny.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(c,h=>B.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>B.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Vu(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,y)}}}(r.localStore,i))}async function sM(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await iI(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new q(V.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.us)}}function iM(t,e){const n=ue(t),r=n.Ca.get(e);if(r&&r.pa)return pe().add(r.key);{let s=pe();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function EI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eM.bind(null,e),e.ya.u_=zO.bind(null,e.eventManager),e.ya.La=BO.bind(null,e.eventManager),e}function oM(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nM.bind(null,e),e}class D3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fO(this.persistence,new dO,e.initialUser,this.serializer)}createPersistence(e){return new lO(ky.Hr,this.serializer)}createSharedClientState(e){return new wO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class aM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sM.bind(null,this.syncEngine),await FO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UO}()}createDatastore(e){const n=If(e.databaseInfo.databaseId),r=function(i){return new TO(i)}(e.databaseInfo);return function(i,o,a,l){return new bO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new RO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>O3(this.syncEngine,n,0),function(){return k3.D()?new k3:new xO}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new GO(s,i,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ue(r);K("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Bu(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=rn.UNAUTHENTICATED,this.clientId=IT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{K("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(K("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uM(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>N3(e.remoteStore,s)),t._onlineComponents=e}function cM(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function uM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cM(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new D3)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Cp(t,new D3);return t._offlineComponents}async function CI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await j3(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await j3(t,new aM))),t._onlineComponents}function dM(t){return CI(t).then(e=>e.syncEngine)}async function r0(t){const e=await CI(t),n=e.eventManager;return n.onListen=KO.bind(null,e.syncEngine),n.onUnlisten=XO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JO.bind(null,e.syncEngine),n}function hM(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new By({next:h=>{o.enqueueAndForget(()=>Fy(i,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Uy(_f(a.path),u,{includeMetadataChanges:!0,ta:!0});return $y(i,d)}(await r0(t),t.asyncQueue,e,n,r)),r.promise}function fM(t,e,n={}){const r=new ts;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new By({next:h=>{o.enqueueAndForget(()=>Fy(i,d)),h.fromCache&&l.source==="server"?c.reject(new q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Uy(a,u,{includeMetadataChanges:!0,ta:!0});return $y(i,d)}(await r0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,n){if(!n)throw new q(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pM(t,e,n,r){if(e===!0&&r===!0)throw new q(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F3(t){if(!ne.isDocumentKey(t))throw new q(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V3(t){if(ne.isDocumentKey(t))throw new q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mM(t,e){if(e<=0)throw new q(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U3(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PP;switch(r.type){case"firstParty":return new DP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$3.get(n);r&&(K("ComponentProvider","Removing Datastore"),$3.delete(n),r.terminate())}(this),Promise.resolve()}}function gM(t,e,n,r={}){var s;const i=(t=On(t,Rf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=rn.MOCK_USER;else{a=H1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new rn(c)}t._authCredentials=new LP(new TT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class _i extends hs{constructor(e,n,r){super(e,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ne(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function Jt(t,e,...n){if(t=$e(t),II("collection","path",e),t instanceof Rf){const r=ze.fromString(e,...n);return V3(r),new _i(t,null,r)}{if(!(t instanceof hn||t instanceof _i))throw new q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return V3(r),new _i(t.firestore,null,r)}}function Ee(t,e,...n){if(t=$e(t),arguments.length===1&&(e=IT.newId()),II("doc","path",e),t instanceof Rf){const r=ze.fromString(e,...n);return F3(r),new hn(t,null,new ne(r))}{if(!(t instanceof hn||t instanceof _i))throw new q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return F3(r),new hn(t.firestore,t instanceof _i?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new aI(this,"async_queue_retry"),this.cu=()=>{const n=Ep();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new ts;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Vu(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ls("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=Dy.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&ae()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function z3(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ms extends Rf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new yM}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SI(this),this._firestoreClient.terminate()}}function vM(t,e){const n=typeof t=="object"?t:Z0(),r=typeof t=="string"?t:e||"(default)",s=ku(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=B1("firestore");i&&gM(s,...i)}return s}function kf(t){return t._firestoreClient||SI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SI(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new YP(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,TI(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new lM(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(pn.fromBase64String(e))}catch(n){throw new q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rl(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=/^__.*__$/;class wM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class bI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Pf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return s0(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(AI(this.Vu)&&_M.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class xM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Cu(e,n,r,s=!1){return new Pf({Vu:e,methodName:n,Du:r,path:Gt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qu(t){const e=t._freezeSettings(),n=If(t._databaseId);return new xM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RI(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);Gy("Data must be an object, but it was:",o,r);const a=NI(r,o);let l,c;if(i.merge)l=new Un(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=yg(e,d,n);if(!o.contains(h))throw new q(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LI(u,h)||u.push(h)}l=new Un(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new wM(new An(a),l,c)}class Lf extends Hu{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function EM(t,e,n){return new Pf({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hy extends Hu{_toFieldTransform(e){return new qT(e.path,new uu)}isEqual(e){return e instanceof Hy}}class qy extends Hu{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=EM(this,e,!0),r=this.vu.map(i=>_l(i,n)),s=new el(r);return new qT(e.path,s)}isEqual(e){return e instanceof qy&&Qc(this.vu,e.vu)}}function CM(t,e,n,r){const s=t.Cu(1,e,n);Gy("Data must be an object, but it was:",s,r);const i=[],o=An.empty();Vo(r,(l,c)=>{const u=Ky(e,l,n);c=$e(c);const d=s.yu(u);if(c instanceof Lf)i.push(u);else{const h=_l(c,d);h!=null&&(i.push(u),o.set(u,h))}});const a=new Un(i);return new bI(o,a,s.fieldTransforms)}function TM(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[yg(e,r,n)],l=[s];if(i.length%2!=0)throw new q(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(yg(e,i[h])),l.push(i[h+1]);const c=[],u=An.empty();for(let h=a.length-1;h>=0;--h)if(!LI(c,a[h])){const p=a[h];let m=l[h];m=$e(m);const y=o.yu(p);if(m instanceof Lf)c.push(p);else{const _=_l(m,y);_!=null&&(c.push(p),u.set(p,_))}}const d=new Un(c);return new bI(u,d,o.fieldTransforms)}function kI(t,e,n,r=!1){return _l(n,t.Cu(r?4:3,e))}function _l(t,e){if(PI(t=$e(t)))return Gy("Unsupported field value:",e,t),NI(t,e);if(t instanceof Hu)return function(r,s){if(!AI(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=_l(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=At.fromDate(r);return{timestampValue:t0(s.serializer,i)}}if(r instanceof At){const i=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:t0(s.serializer,i)}}if(r instanceof Wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rl)return{bytesValue:JT(s.serializer,r._byteString)};if(r instanceof hn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ay(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Af(r)}`)}(t,e)}function NI(t,e){const n={};return ST(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,s)=>{const i=_l(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function PI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Wy||t instanceof rl||t instanceof hn||t instanceof Hu)}function Gy(t,e,n){if(!PI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Af(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function yg(t,e,n){if((e=$e(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return Ky(t,e);throw s0("Field path arguments must be of type string or ",t,!1,void 0,n)}const IM=new RegExp("[~\\*/\\[\\]]");function Ky(t,e,n){if(e.search(IM)>=0)throw s0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw s0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function s0(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(V.INVALID_ARGUMENT,a+t+l)}function LI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SM extends Qy{data(){return super.data()}}function Yy(t,e){return typeof e=="string"?Ky(t,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class Of extends Xy{}function Na(t,e,...n){let r=[];e instanceof Xy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Zy).length,a=i.filter(l=>l instanceof Jy).length;if(o>1||o>0&&a>0)throw new q(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jy extends Of{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jy(e,n,r)}_apply(e){const n=this._parse(e);return DI(e._query,n),new hs(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=qu(e.firestore);return function(i,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){W3(d,u);const p=[];for(const m of d)p.push(B3(l,i,m));h={arrayValue:{values:p}}}else h=B3(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||W3(d,u),h=kI(a,o,d,u==="in"||u==="not-in");return _t.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Zy extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DI(o,l),o=cg(o,l)}(e._query,n),new hs(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ev extends Of{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ev(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(i,o)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Uo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function i0(t,e="asc"){const n=e,r=Yy("orderBy",t);return ev._create(r,n)}class tv extends Of{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new tv(e,n,r)}_apply(e){return new hs(e.firestore,e.converter,Zh(e._query,this._limit,this._limitType))}}function o0(t){return mM("limit",t),tv._create("limit",t,"F")}class nv extends Of{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new nv(e,n,r)}_apply(e){const n=bM(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,function(s,i){return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function MI(...t){return nv._create("startAfter",t,!1)}function bM(t,e,n,r){if(n[0]=$e(n[0]),n[0]instanceof Qy)return function(i,o,a,l,c){if(!l)throw new q(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Ra(i))if(d.field.isKeyField())u.push(Jh(o,l.key));else{const h=l.data.field(d.field);if(vf(h))throw new q(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new q(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Za(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=qu(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new q(V.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const y=u[m];if(h[m].field.isKeyField()){if(typeof y!="string")throw new q(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!Ty(o)&&y.indexOf("/")!==-1)throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const _=o.path.child(ze.fromString(y));if(!ne.isDocumentKey(_))throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const g=new ne(_);p.push(Jh(a,g))}else{const _=kI(l,c,y);p.push(_)}}return new Za(p,d)}(t._query,t.firestore._databaseId,s,e,n,r)}}function B3(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new q(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ty(e)&&n.indexOf("/")!==-1)throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!ne.isDocumentKey(r))throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jh(t,new ne(r))}if(n instanceof hn)return Jh(t,n._key);throw new q(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function W3(t,e){if(!Array.isArray(t)||t.length===0)throw new q(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AM{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Wy(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);He(sI(r));const s=new au(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||ls(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $I extends Qy{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sh extends $I{data(e={}){return super.data(e)}}class FI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new sh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new sh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:RM(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){t=On(t,hn);const e=On(t.firestore,Ms);return hM(kf(e),t._key).then(n=>zI(e,t,n))}class rv extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function kM(t){t=On(t,hs);const e=On(t.firestore,Ms),n=kf(e),r=new rv(e);return OI(t._query),fM(n,t._query).then(s=>new FI(e,r,t,s))}function UI(t,e,n){t=On(t,hn);const r=On(t.firestore,Ms),s=jI(t.converter,e,n);return Mf(r,[RI(qu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,fr.none())])}function qn(t,e,n,...r){t=On(t,hn);const s=On(t.firestore,Ms),i=qu(s);let o;return o=typeof(e=$e(e))=="string"||e instanceof Nf?TM(i,"updateDoc",t._key,e,n,r):CM(i,"updateDoc",t._key,e),Mf(s,[o.toMutation(t._key,fr.exists(!0))])}function Gu(t){return Mf(On(t.firestore,Ms),[new Iy(t._key,fr.none())])}function wl(t,e){const n=On(t.firestore,Ms),r=Ee(t),s=jI(t.converter,e);return Mf(n,[RI(qu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function us(t,...e){var n,r,s;t=$e(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||z3(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(z3(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof hn)c=On(t.firestore,Ms),u=_f(t._key.path),l={next:d=>{e[o]&&e[o](zI(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=On(t,hs);c=On(d.firestore,Ms),u=d._query;const h=new rv(c);l={next:p=>{e[o]&&e[o](new FI(c,h,d,p))},error:e[o+1],complete:e[o+2]},OI(t._query)}return function(h,p,m,y){const _=new By(y),g=new Uy(p,_,m);return h.asyncQueue.enqueueAndForget(async()=>$y(await r0(h),g)),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(async()=>Fy(await r0(h),g))}}(kf(c),u,a,l)}function Mf(t,e){return function(r,s){const i=new ts;return r.asyncQueue.enqueueAndForget(async()=>ZO(await dM(r),s,i)),i.promise}(kf(t),e)}function zI(t,e,n){const r=n.docs.get(e._key),s=new rv(t);return new $I(t,s,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}function zn(){return new Hy("serverTimestamp")}function NM(...t){return new qy("arrayUnion",t)}(function(e,n=!0){(function(s){gl=s})(Li),Ci(new Ps("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ms(new OP(r.getProvider("auth-internal")),new $P(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),hr(a3,"4.5.0",e),hr(a3,"4.5.0","esm2017")})();var PM="firebase",LM="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(PM,LM,"app");function sv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OM=BI,WI=new Ru("auth","Firebase",BI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new J0("@firebase/auth");function MM(t,...e){a0.logLevel<=fe.WARN&&a0.warn(`Auth (${Li}): ${t}`,...e)}function ih(t,...e){a0.logLevel<=fe.ERROR&&a0.error(`Auth (${Li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw iv(t,...e)}function ss(t,...e){return iv(t,...e)}function HI(t,e,n){const r=Object.assign(Object.assign({},OM()),{[e]:n});return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function DM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gr(t,"argument-error"),HI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WI.create(t,...e)}function oe(t,e,...n){if(!t)throw iv(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Ds(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jM(){return H3()==="http:"||H3()==="https:"}function H3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jM()||o7()||"connection"in navigator)?navigator.onLine:!0}function FM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=q1()||hC()}get(){return $M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Ku(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,n,r,s={}){return GI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),qI.fetch()(KI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function GI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VM),e);try{const s=new BM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ld(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ld(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HI(t,u,c);gr(t,u)}}catch(s){if(s instanceof ds)throw s;gr(t,"network-request-failed",{message:String(s)})}}async function Qu(t,e,n,r,s={}){const i=await $i(t,e,n,r,s);return"mfaPendingCredential"in i&&gr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function KI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ov(t.config,s):`${t.config.apiScheme}://${s}`}function zM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),UM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ss(t,e,r);return s.customData._tokenResponse=n,s}function q3(t){return t!==void 0&&t.enterprise!==void 0}class WM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HM(t,e){return $i(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function GM(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KM(t,e=!1){const n=$e(t),r=await n.getIdToken(e),s=av(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Cc(Tp(s.auth_time)),issuedAtTime:Cc(Tp(s.iat)),expirationTime:Cc(Tp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tp(t){return Number(t)*1e3}function av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const s=zh(n);return s?JSON.parse(s):(ih("Failed to decode base64 JWT payload"),null)}catch(s){return ih("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function QM(t){const e=av(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&YM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hu(t,GM(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?eD(i.providerUserInfo):[],a=ZM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new QI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function JM(t){const e=$e(t);await l0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function eD(t){return t.map(e=>{var{providerId:n}=e,r=sv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){const n=await GI(t,{},async()=>{const r=fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=KI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nD(t,e){return $i(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await tD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new fu;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fu,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class po{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new QI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KM(this,e)}reload(){return JM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await l0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hu(this,qM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:T,isAnonymous:R,providerData:w,stsTokenManager:S}=n;oe(x&&S,e,"internal-error");const C=fu.fromJSON(this.name,S);oe(typeof x=="string",e,"internal-error"),Hs(d,e.name),Hs(h,e.name),oe(typeof T=="boolean",e,"internal-error"),oe(typeof R=="boolean",e,"internal-error"),Hs(p,e.name),Hs(m,e.name),Hs(y,e.name),Hs(_,e.name),Hs(g,e.name),Hs(v,e.name);const E=new po({uid:x,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:R,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:C,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map(b=>Object.assign({},b))),_&&(E._redirectEventId=_),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new fu;s.updateFromServerResponse(n);const i=new po({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await l0(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new Map;function Ts(t){Ds(t instanceof Function,"Expected a class definition");let e=G3.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YI.type="NONE";const K3=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=oh(this.userKey,s.apiKey,i),this.fullPersistenceKey=oh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?po._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pa(Ts(K3),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ts(K3);const o=oh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=po._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Pa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Pa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t6(e))return"Blackberry";if(n6(e))return"Webos";if(lv(e))return"Safari";if((e.includes("chrome/")||JI(e))&&!e.includes("edge/"))return"Chrome";if(e6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XI(t=xt()){return/firefox\//i.test(t)}function lv(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JI(t=xt()){return/crios\//i.test(t)}function ZI(t=xt()){return/iemobile/i.test(t)}function e6(t=xt()){return/android/i.test(t)}function t6(t=xt()){return/blackberry/i.test(t)}function n6(t=xt()){return/webos/i.test(t)}function Df(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rD(t=xt()){var e;return Df(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sD(){return a7()&&document.documentMode===10}function r6(t=xt()){return Df(t)||e6(t)||n6(t)||t6(t)||/windows phone/i.test(t)||ZI(t)}function iD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e=[]){let n;switch(t){case"Browser":n=Q3(xt());break;case"Worker":n=`${Q3(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e={}){return $i(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=6;class cD{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y3(this),this.idTokenSubscription=new Y3(this),this.beforeStateQueue=new oD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await l0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$e(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aD(this),n=new cD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return $e(t)}class Y3{constructor(e){this.auth=e,this.observer=null,this.addObserver=g7(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dD(t){jf=t}function i6(t){return jf.loadJS(t)}function hD(){return jf.recaptchaEnterpriseScript}function fD(){return jf.gapiScript}function pD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mD="recaptcha-enterprise",gD="NO_RECAPTCHA";class yD{constructor(e){this.type=mD,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{HM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new WM(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;q3(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(gD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&q3(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hD();l.length!==0&&(l+=a),i6(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function X3(t,e,n,r=!1){const s=new yD(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _g(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await X3(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await X3(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){const n=ku(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qc(i,e??{}))return s;gr(s,"already-initialized")}return n.initialize({options:e})}function _D(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wD(t,e,n){const r=Fi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=o6(e),{host:o,port:a}=xD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||ED()}function o6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xD(t){const e=o6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:J3(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:J3(o)}}}function J3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ED(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function CD(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return Qu(t,"POST","/v1/accounts:signInWithPassword",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}async function SD(t,e){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends cv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,n,"signInWithPassword",TD);case"emailLink":return ID(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,r,"signUpPassword",CD);case"emailLink":return SD(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return Qu(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class bo extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new bo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,La(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RD(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class uv{constructor(e){var n,r,s,i,o,a;const l=tc(nc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=AD((s=l.mode)!==null&&s!==void 0?s:null);oe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=RD(e);try{return new uv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uv.parseLink(n);return oe(r,"argument-error"),pu._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Yu{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Yu{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Yu{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){return Qu(t,"POST","/v1/accounts:signUp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await po._fromIdTokenResponse(e,r,s),o=Z3(r);return new Ao({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Z3(r);return new Ao({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Z3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends ds{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,c0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new c0(e,n,r,s)}}function a6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?c0._fromErrorAndOperation(t,i,e,r):i})}async function ND(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await hu(t,a6(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=av(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ao._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e,n=!1){const r="signIn",s=await a6(t,r,e),i=await Ao._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function LD(t,e){return l6(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OD(t,e,n){const r=Fi(t),o=await _g(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&c6(t),l}),a=await Ao._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function MD(t,e,n){return LD($e(t),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c6(t),r})}function DD(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function jD(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function $D(t,e,n,r){return $e(t).onAuthStateChanged(e,n,r)}function FD(t){return $e(t).signOut()}const u0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(u0,"1"),this.storage.removeItem(u0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){const t=xt();return lv(t)||Df(t)}const UD=1e3,zD=10;class d6 extends u6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=VD()&&iD(),this.fallbackToPolling=r6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);sD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d6.type="LOCAL";const BD=d6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6 extends u6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h6.type="SESSION";const f6=h6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await WD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=hv("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function qD(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function GD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QD(){return p6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="firebaseLocalStorageDb",YD=1,d0="firebaseLocalStorage",g6="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ff(t,e){return t.transaction([d0],e?"readwrite":"readonly").objectStore(d0)}function XD(){const t=indexedDB.deleteDatabase(m6);return new Xu(t).toPromise()}function wg(){const t=indexedDB.open(m6,YD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d0,{keyPath:g6})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(d0)?e(r):(r.close(),await XD(),e(await wg()))})})}async function e5(t,e,n){const r=Ff(t,!0).put({[g6]:e,value:n});return new Xu(r).toPromise()}async function JD(t,e){const n=Ff(t,!1).get(e),r=await new Xu(n).toPromise();return r===void 0?null:r.value}function t5(t,e){const n=Ff(t,!0).delete(e);return new Xu(n).toPromise()}const ZD=800,ej=3;class y6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ej)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(QD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GD(),!this.activeServiceWorker)return;this.sender=new HD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await e5(e,u0,"1"),await t5(e,u0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ff(s,!1).getAll();return new Xu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y6.type="LOCAL";const tj=y6;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e){return e?Ts(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nj(t){return l6(t.auth,new fv(t),t.bypassAuthState)}function rj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),PD(n,new fv(t),t.bypassAuthState)}async function sj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),ND(n,new fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nj;case"linkViaPopup":case"linkViaRedirect":return sj;case"reauthViaPopup":case"reauthViaRedirect":return rj;default:gr(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Ku(2e3,1e4);async function oj(t,e,n){const r=Fi(t);DM(t,e,dv);const s=v6(r,n);return new so(r,"signInViaPopup",e,s).executeNotNull()}class so extends _6{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ij.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="pendingRedirect",ah=new Map;class lj extends _6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await cj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cj(t,e){const n=hj(e),r=dj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function uj(t,e){ah.set(t._key(),e)}function dj(t){return Ts(t._redirectPersistence)}function hj(t){return oh(aj,t.config.apiKey,t.name)}async function fj(t,e,n=!1){const r=Fi(t),s=v6(r,e),o=await new lj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=10*60*1e3;class mj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!w6(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(n5(e))}saveEventToCache(e){this.cachedEventUids.add(n5(e)),this.lastProcessedEventTime=Date.now()}}function n5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;async function wj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yj(t);for(const n of e)try{if(xj(n))return}catch{}gr(t,"unauthorized-domain")}function xj(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_j.test(n))return!1;if(vj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Ku(3e4,6e4);function r5(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cj(t){return new Promise((e,n)=>{var r,s,i;function o(){r5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r5(),n(ss(t,"network-request-failed"))},timeout:Ej.get()})}if(!((s=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=is().gapi)===null||i===void 0)&&i.load)o();else{const a=pD("iframefcb");return is()[a]=()=>{gapi.load?o():n(ss(t,"network-request-failed"))},i6(`${fD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lh=null,e})}let lh=null;function Tj(t){return lh=lh||Cj(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Ku(5e3,15e3),Sj="__/auth/iframe",bj="emulator/auth/iframe",Aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kj(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ov(e,bj):`https://${t.config.authDomain}/${Sj}`,r={apiKey:e.apiKey,appName:t.name,v:Li},s=Rj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fl(r).slice(1)}`}async function Nj(t){const e=await Tj(t),n=is().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:kj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),a=is().setTimeout(()=>{i(o)},Ij.get());function l(){is().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lj=500,Oj=600,Mj="_blank",Dj="http://localhost";class s5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jj(t,e,n,r=Lj,s=Oj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Pj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=xt().toLowerCase();n&&(a=JI(c)?Mj:n),XI(c)&&(e=e||Dj,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(rD(c)&&a!=="_self")return $j(e||"",a),new s5(null);const d=window.open(e||"",a,u);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new s5(d)}function $j(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="__/auth/handler",Vj="emulator/auth/handler",Uj=encodeURIComponent("fac");async function i5(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Li,eventId:s};if(e instanceof dv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof Yu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Uj}=${encodeURIComponent(l)}`:"";return`${zj(t)}?${fl(a).slice(1)}${c}`}function zj({config:t}){return t.emulator?ov(t,Vj):`https://${t.authDomain}/${Fj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class Bj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f6,this._completeRedirectFn=fj,this._overrideRedirectResult=uj}async _openPopup(e,n,r,s){var i;Ds((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await i5(e,n,r,vg(),s);return jj(e,o,hv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await i5(e,n,r,vg(),s);return qD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ds(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nj(e),r=new mj(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ip,{type:Ip},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ip];o!==void 0&&n(!!o),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r6()||lv()||Df()}}const Wj=Bj;var o5="@firebase/auth",a5="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gj(t){Ci(new Ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s6(t)},c=new uD(r,s,i,l);return _D(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ci(new Ps("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new Hj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(o5,a5,qj(t)),hr(o5,a5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=5*60,Qj=dC("authIdTokenMaxAge")||Kj;let l5=null;const Yj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qj)return;const s=n==null?void 0:n.token;l5!==s&&(l5=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Xj(t=Z0()){const e=ku(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vD(t,{popupRedirectResolver:Wj,persistence:[tj,BD,f6]}),r=dC("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=Yj(r);jD(n,i,()=>i(n.currentUser)),DD(n,o=>i(o))}const s=cC("auth");return s&&wD(n,`http://${s}`),n}function Jj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ss("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Jj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="firebasestorage.googleapis.com",E6="storageBucket",Zj=2*60*1e3,e$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends ds{constructor(e,n,r=0){super(Sp(e),`Firebase Storage: ${n} (${Sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Sp(t){return"storage/"+t}function pv(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(ct.UNKNOWN,t)}function t$(t){return new ut(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function n$(t){return new ut(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function r$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(ct.UNAUTHENTICATED,t)}function s$(){return new ut(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function i$(t){return new ut(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function o$(){return new ut(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a$(){return new ut(ct.CANCELED,"User canceled the upload/download.")}function l$(t){return new ut(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function c$(t){return new ut(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function u$(){return new ut(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+E6+"' property when initializing the app?")}function d$(){return new ut(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function h$(){return new ut(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function f$(t){return new ut(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(t){return new ut(ct.INVALID_ARGUMENT,t)}function C6(){return new ut(ct.APP_DELETED,"The Firebase app was deleted.")}function p$(t){return new ut(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tc(t,e){return new ut(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ul(t){throw new ut(ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw c$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),m={bucket:1,path:3},y=n===x6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",g=new RegExp(`^https?://${y}/${s}/${_}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<x.length;T++){const R=x[T],w=R.regex.exec(e);if(w){const S=w[R.indices.bucket];let C=w[R.indices.path];C||(C=""),r=new Bn(S,C),R.postModify(r);break}}if(r==null)throw l$(e);return r}}class m${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){s=setTimeout(()=>{s=null,t(p,l())},_)}function h(){i&&clearTimeout(i)}function p(_,...g){if(c){h();return}if(_){h(),u.call(null,_,...g);return}if(l()||o){h(),u.call(null,_,...g);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}let m=!1;function y(_){m||(m=!0,h(),!c&&(s!==null?(_||(a=2),clearTimeout(s),d(0)):_||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function y$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return t!==void 0}function _$(t){return typeof t=="object"&&!Array.isArray(t)}function mv(t){return typeof t=="string"||t instanceof String}function c5(t){return gv()&&t instanceof Blob}function gv(){return typeof Blob<"u"}function u5(t,e,n,r){if(r<e)throw xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function T6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mo||(mo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,r,s,i,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Od(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===mo.NO_ERROR,l=i.getStatus();if(!a||w$(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===mo.ABORT;r(!1,new Od(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Od(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());v$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=pv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?C6():a$();o(l)}else{const l=o$();o(l)}};this.canceled_?n(!1,new Od(!1,null,!0)):this.backoffId_=g$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&y$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Od{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function E$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function T$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S$(t,e,n,r,s,i,o=!0){const a=T6(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return T$(c,e),E$(c,n),C$(c,i),I$(c,r),new x$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function A$(...t){const e=b$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gv())return new Blob(t);throw new ut(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function R$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){if(typeof atob>"u")throw f$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bp{constructor(e,n){this.data=e,this.contentType=n||null}}function N$(t,e){switch(t){case Xr.RAW:return new bp(I6(e));case Xr.BASE64:case Xr.BASE64URL:return new bp(S6(t,e));case Xr.DATA_URL:return new bp(L$(e),O$(e))}throw pv()}function I6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function P$(t){let e;try{e=decodeURIComponent(t)}catch{throw Tc(Xr.DATA_URL,"Malformed data URL.")}return I6(e)}function S6(t,e){switch(t){case Xr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Tc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Tc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=k$(e)}catch(s){throw s.message.includes("polyfill")?s:Tc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class b6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tc(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=M$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function L$(t){const e=new b6(t);return e.base64?S6(Xr.BASE64,e.rest):P$(e.rest)}function O$(t){return new b6(t).contentType}function M$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){let r=0,s="";c5(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(c5(this.data_)){const r=this.data_,s=R$(r,e,n);return s===null?null:new Zs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zs(r,!0)}}static getBlob(...e){if(gv()){const n=e.map(r=>r instanceof Zs?r.data_:r);return new Zs(A$.apply(null,n))}else{const n=e.map(o=>mv(o)?N$(Xr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Zs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){let e;try{e=JSON.parse(t)}catch{return null}return _$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function j$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function R6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e){return e}class yn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||$$}}let Md=null;function F$(t){return!mv(t)||t.length<2?t:R6(t)}function k6(){if(Md)return Md;const t=[];t.push(new yn("bucket")),t.push(new yn("generation")),t.push(new yn("metageneration")),t.push(new yn("name","fullPath",!0));function e(i,o){return F$(o)}const n=new yn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new yn("size");return s.xform=r,t.push(s),t.push(new yn("timeCreated")),t.push(new yn("updated")),t.push(new yn("md5Hash",null,!0)),t.push(new yn("cacheControl",null,!0)),t.push(new yn("contentDisposition",null,!0)),t.push(new yn("contentEncoding",null,!0)),t.push(new yn("contentLanguage",null,!0)),t.push(new yn("contentType",null,!0)),t.push(new yn("metadata","customMetadata",!0)),Md=t,Md}function V$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Bn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function U$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return V$(r,t),r}function N6(t,e,n){const r=A6(e);return r===null?null:U$(t,r,n)}function z$(t,e,n,r){const s=A6(e);if(s===null||!mv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=Vf(h,n,r),m=T6({alt:"media",token:c});return p+m})[0]}function B$(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class yv{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){if(!t)throw pv()}function W$(t,e){function n(r,s){const i=N6(t,s,e);return P6(i!==null),i}return n}function H$(t,e){function n(r,s){const i=N6(t,s,e);return P6(i!==null),z$(i,s,t.host,t._protocol)}return n}function L6(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=s$():s=r$():n.getStatus()===402?s=n$(t.bucket):n.getStatus()===403?s=i$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function O6(t){const e=L6(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=t$(t.path)),i.serverResponse=s.serverResponse,i}return n}function q$(t,e,n){const r=e.fullServerUrl(),s=Vf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new yv(s,i,H$(t,n),o);return a.errorHandler=O6(e),a}function G$(t,e){const n=e.fullServerUrl(),r=Vf(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new yv(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=O6(e),a}function K$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Q$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=K$(null,e)),r}function Y$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let T=0;T<2;T++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Q$(e,r,s),u=B$(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Zs.getBlob(d,r,h);if(p===null)throw d$();const m={name:c.fullPath},y=Vf(i,t.host,t._protocol),_="POST",g=t.maxUploadRetryTime,v=new yv(y,_,W$(t,n),g);return v.urlParams=m,v.headers=o,v.body=p.uploadData(),v.errorHandler=L6(e),v}class X${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ul("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class J$ extends X${initXhr(){this.xhr_.responseType="text"}}function vv(){return new J$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ro(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R6(this._location.path)}get storage(){return this._service}get parent(){const e=D$(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Ro(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw p$(e)}}function Z$(t,e,n){t._throwIfRoot("uploadBytes");const r=Y$(t.storage,t._location,k6(),new Zs(e,!0),n);return t.storage.makeRequestWithTokens(r,vv).then(s=>({metadata:s,ref:t}))}function eF(t){t._throwIfRoot("getDownloadURL");const e=q$(t.storage,t._location,k6());return t.storage.makeRequestWithTokens(e,vv).then(n=>{if(n===null)throw h$();return n})}function tF(t){t._throwIfRoot("deleteObject");const e=G$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,vv)}function nF(t,e){const n=j$(t._location.path,e),r=new Bn(t._location.bucket,n);return new Ro(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){return/^[A-Za-z]+:\/\//.test(t)}function sF(t,e){return new Ro(t,e)}function M6(t,e){if(t instanceof _v){const n=t;if(n._bucket==null)throw u$();const r=new Ro(n,n._bucket);return e!=null?M6(r,e):r}else return e!==void 0?nF(t,e):t}function iF(t,e){if(e&&rF(e)){if(t instanceof _v)return sF(t,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return M6(t,e)}function d5(t,e){const n=e==null?void 0:e[E6];return n==null?null:Bn.makeFromBucketSpec(n,t)}function oF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:H1(s,t.app.options.projectId))}class _v{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=x6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zj,this._maxUploadRetryTime=e$,this._requests=new Set,s!=null?this._bucket=Bn.makeFromBucketSpec(s,this._host):this._bucket=d5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=d5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ro(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new m$(C6());{const o=S$(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const h5="@firebase/storage",f5="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="storage";function h0(t,e,n){return t=$e(t),Z$(t,e,n)}function f0(t){return t=$e(t),eF(t)}function Eg(t){return t=$e(t),tF(t)}function io(t,e){return t=$e(t),iF(t,e)}function aF(t=Z0(),e){t=$e(t);const r=ku(t,D6).getImmediate({identifier:e}),s=B1("storage");return s&&lF(r,...s),r}function lF(t,e,n,r={}){oF(t,e,n,r)}function cF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _v(n,r,s,e,Li)}function uF(){Ci(new Ps(D6,cF,"PUBLIC").setMultipleInstances(!0)),hr(h5,f5,""),hr(h5,f5,"esm2017")}uF();var p5={};const m5="@firebase/database",g5="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j6="";function dF(t){j6=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Kc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Vs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hF(e)}}catch{}return new fF},oo=$6("localStorage"),Cg=$6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new J0("@firebase/database"),pF=function(){let t=1;return function(){return t++}}(),F6=function(t){const e=w7(t),n=new m7;n.update(e);const r=n.digest();return z1.encodeByteArray(r)},Ju=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ju.apply(null,r):typeof r=="object"?e+=qt(r):e+=r,e+=" "}return e};let go=null,y5=!0;const mF=function(t,e){Q(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Oa.logLevel=fe.VERBOSE,go=Oa.log.bind(Oa),e&&Cg.set("logging_enabled",!0)):typeof t=="function"?go=t:(go=null,Cg.remove("logging_enabled"))},an=function(...t){if(y5===!0&&(y5=!1,go===null&&Cg.get("logging_enabled")===!0&&mF(!0)),go){const e=Ju.apply(null,t);go(e)}},Zu=function(t){return function(...e){an(t,...e)}},Tg=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ju(...t);Oa.error(e)},js=function(...t){const e=`FIREBASE FATAL ERROR: ${Ju(...t)}`;throw Oa.error(e),new Error(e)},Gn=function(...t){const e="FIREBASE WARNING: "+Ju(...t);Oa.warn(e)},gF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},V6=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},sl="[MIN_NAME]",ko="[MAX_NAME]",El=function(t,e){if(t===e)return 0;if(t===sl||e===ko)return-1;if(e===sl||t===ko)return 1;{const n=v5(t),r=v5(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vF=function(t,e){return t===e?0:t<e?-1:1},zl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qt(e))},wv=function(t){if(typeof t!="object"||t===null)return qt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=qt(e[r]),n+=":",n+=wv(t[e[r]]);return n+="}",n},U6=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function yr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const z6=function(t){Q(!V6(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},_F=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},xF=new RegExp("^-?(0*)\\d{1,10}$"),EF=-2147483648,CF=2147483647,v5=function(t){if(xF.test(t)){const e=Number(t);if(e>=EF&&e<=CF)return e}return null},ed=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Gn("Exception was thrown by user callback.",n),e},Math.floor(0))}},TF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ic=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Gn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gn(e)}}class Ma{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ma.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="5",B6="v",W6="s",H6="r",q6="f",G6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K6="ls",Q6="p",Ig="ac",Y6="websocket",X6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&oo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Z6(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let r;if(e===Y6)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===X6)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bF(t)&&(n.ns=t.namespace);const s=[];return yr(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.counters_={}}incrementCounter(e,n=1){Vs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Zk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap={},Rp={};function Ev(t){const e=t.toString();return Ap[e]||(Ap[e]=new AF),Ap[e]}function RF(t,e){const n=t.toString();return Rp[n]||(Rp[n]=e()),Rp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ed(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="start",NF="close",PF="pLPCommand",LF="pRTLPCB",eS="id",tS="pw",nS="ser",OF="cb",MF="seg",DF="ts",jF="d",$F="dframe",rS=1870,sS=30,FF=rS-sS,VF=25e3,UF=3e4;class ya{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zu(e),this.stats_=Ev(n),this.urlFn=l=>(this.appCheckToken&&(l[Ig]=this.appCheckToken),Z6(n,X6,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UF)),yF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cv((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_5)this.id=a,this.password=l;else if(o===NF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_5]="t",r[nS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[B6]=xv,this.transportSessionId&&(r[W6]=this.transportSessionId),this.lastSessionId&&(r[K6]=this.lastSessionId),this.applicationId&&(r[Q6]=this.applicationId),this.appCheckToken&&(r[Ig]=this.appCheckToken),typeof location<"u"&&location.hostname&&G6.test(location.hostname)&&(r[H6]=q6);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ya.forceAllow_=!0}static forceDisallow(){ya.forceDisallow_=!0}static isAvailable(){return ya.forceAllow_?!0:!ya.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_F()&&!wF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aC(n),s=U6(r,FF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$F]="t",r[eS]=e,r[tS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cv{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pF(),window[PF+this.uniqueCallbackIdentifier]=e,window[LF+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cv.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){an("frame writing exception"),a.stack&&an(a.stack),an(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[eS]=this.myID,e[tS]=this.myPW,e[nS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sS+r.length<=rS;){const o=this.pendingSegs.shift();r=r+"&"+MF+s+"="+o.seg+"&"+DF+s+"="+o.ts+"&"+jF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(VF)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{an("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=16384,BF=45e3;let p0=null;typeof MozWebSocket<"u"?p0=MozWebSocket:typeof WebSocket<"u"&&(p0=WebSocket);class br{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zu(this.connId),this.stats_=Ev(n),this.connURL=br.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[B6]=xv,typeof location<"u"&&location.hostname&&G6.test(location.hostname)&&(o[H6]=q6),n&&(o[W6]=n),r&&(o[K6]=r),s&&(o[Ig]=s),i&&(o[Q6]=i),Z6(e,Y6,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oo.set("previous_websocket_failure",!0);try{let r;fC(),this.mySock=new p0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){br.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&p0!==null&&!br.forceDisallow_}static previouslyFailed(){return oo.isInMemoryStorage||oo.get("previous_websocket_failure")===!0}markConnectionHealthy(){oo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Kc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=U6(n,zF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}br.responsesRequiredToBeHealthy=2;br.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ya,br]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=br&&br.isAvailable();let r=n&&!br.previouslyFailed();if(e.webSocketOnly&&(n||Gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[br];else{const s=this.transports_=[];for(const i of mu.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);mu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=6e4,HF=5e3,qF=10*1024,GF=100*1024,kp="t",w5="d",KF="s",x5="r",QF="e",E5="o",C5="a",T5="n",I5="p",YF="h";class XF{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zu("c:"+this.id+":"),this.transportManager_=new mu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ic(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kp in e){const n=e[kp];n===C5?this.upgradeIfSecondaryHealthy_():n===x5?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===E5&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=zl("t",e),r=zl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:I5,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:C5,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:T5,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=zl("t",e),r=zl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=zl(kp,e);if(w5 in e){const r=e[w5];if(n===YF){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===T5){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KF?this.onConnectionShutdown_(r):n===x5?this.onReset_(r):n===QF?Tg("Server Error: "+r):n===E5?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xv!==r&&Gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ic(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ic(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:I5,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends oS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!q1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new m0}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=32,b5=768;class Xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Oe(){return new Xe("")}function _e(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function bi(t){return t.pieces_.length-t.pieceNum_}function Ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xe(t.pieces_,e)}function aS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function JF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function cS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xe(e,0)}function $t(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Xe(n,0)}function ge(t){return t.pieceNum_>=t.pieces_.length}function ur(t,e){const n=_e(t),r=_e(e);if(n===null)return e;if(n===r)return ur(Ke(t),Ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uS(t,e){if(bi(t)!==bi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ar(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(bi(t)>bi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ZF{constructor(e,n){this.errorPrefix_=n,this.parts_=lS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=X0(this.parts_[r]);dS(this)}}function eV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=X0(e),dS(t)}function tV(t){const e=t.parts_.pop();t.byteLength_-=X0(e),t.parts_.length>0&&(t.byteLength_-=1)}function dS(t){if(t.byteLength_>b5)throw new Error(t.errorPrefix_+"has a key path longer than "+b5+" bytes ("+t.byteLength_+").");if(t.parts_.length>S5)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S5+") or object contains a cycle "+Ki(t))}function Ki(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends oS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Tv}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=1e3,nV=60*5*1e3,A5=30*1e3,rV=1.3,sV=3e4,iV="server_kill",R5=3;class bs extends iS{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bs.nextPersistentConnectionId_++,this.log_=Zu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bl,this.maxReconnectDelay_=nV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!fC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&m0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(qt(i)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new W1,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;bs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Vs(e,"w")){const r=Ga(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||p7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=A5)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=f7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Tg("Unrecognized action received from server: "+qt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sV&&(this.reconnectDelay_=Bl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+bs.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Q(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new XF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Gn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(iV)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Gn(d),l())}}}interrupt(e){an("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){an("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vm(this.interruptReasons_)&&(this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>wv(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Xe(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){an("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=R5&&(this.reconnectDelay_=A5,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){an("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=R5&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+j6.replace(/\./g,"-")]=1,q1()?e["framework.cordova"]=1:hC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=m0.getInstance().currentlyOnline();return Vm(this.interruptReasons_)&&e}}bs.nextPersistentConnectionId_=0;bs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new we(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new we(sl,e),s=new we(sl,n);return this.compare(r,s)!==0}minPost(){return we.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;class hS extends Uf{static get __EMPTY_NODE(){return Dd}static set __EMPTY_NODE(e){Dd=e}compare(e,n){return El(e.name,n.name)}isDefinedOn(e){throw hl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return we.MIN}maxPost(){return new we(ko,Dd)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,Dd)}toString(){return".key"}}const Da=new hS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??kn.EMPTY_NODE,this.right=i??kn.EMPTY_NODE}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return kn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return kn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jt.RED=!0;jt.BLACK=!1;class oV{copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kn{constructor(e,n=kn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new kn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(e){return new kn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jd(this.root_,null,this.comparator_,!0,e)}}kn.EMPTY_NODE=new oV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){return El(t.name,e.name)}function Iv(t,e){return El(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg;function lV(t){Sg=t}const fS=function(t){return typeof t=="number"?"number:"+z6(t):"string:"+t},pS=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Vs(e,".sv"),"Priority must be a string or number.")}else Q(t===Sg||t.isEmpty(),"priority of unexpected type.");Q(t===Sg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k5;class Ot{constructor(e,n=Ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pS(this.priorityNode_)}static set __childrenNodeConstructor(e){k5=e}static get __childrenNodeConstructor(){return k5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:_e(e)===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=_e(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||bi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=z6(this.value_):e+=this.value_,this.lazyHash_=F6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ot.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ot.VALUE_TYPE_ORDER.indexOf(n),i=Ot.VALUE_TYPE_ORDER.indexOf(r);return Q(s>=0,"Unknown leaf type: "+n),Q(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mS,gS;function cV(t){mS=t}function uV(t){gS=t}class dV extends Uf{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?El(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return we.MIN}maxPost(){return new we(ko,new Ot("[PRIORITY-POST]",gS))}makePost(e,n){const r=mS(e);return new we(n,new Ot("[PRIORITY-POST]",r))}toString(){return".priority"}}const cn=new dV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=Math.log(2);class fV{constructor(e){const n=i=>parseInt(Math.log(i)/hV,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const g0=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new jt(h,d.node,jt.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),y=s(p+1,c);return d=t[p],h=n?n(d):d,new jt(h,d.node,jt.BLACK,m,y)}},i=function(l){let c=null,u=null,d=t.length;const h=function(m,y){const _=d-m,g=d;d-=m;const v=s(_+1,g),x=t[_],T=n?n(x):x;p(new jt(T,x.node,y,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));y?h(_,jt.BLACK):(h(_,jt.BLACK),h(_,jt.RED))}return u},o=new fV(t.length),a=i(o);return new kn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np;const Qo={};class Is{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Q(Qo&&cn,"ChildrenNode.ts has not been loaded"),Np=Np||new Is({".priority":Qo},{".priority":cn}),Np}get(e){const n=Ga(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kn?n:null}hasIndex(e){return Vs(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==Da,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(we.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=g0(r,e.getCompare()):a=Qo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Is(u,c)}addToIndexes(e,n){const r=Bh(this.indexes_,(s,i)=>{const o=Ga(this.indexSet_,i);if(Q(o,"Missing index implementation for "+i),s===Qo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(we.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),g0(a,o.getCompare())}else return Qo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new we(e.name,a))),l.insert(e,e.node)}});return new Is(r,this.indexSet_)}removeFromIndexes(e,n){const r=Bh(this.indexes_,s=>{if(s===Qo)return s;{const i=n.get(e.name);return i?s.remove(new we(e.name,i)):s}});return new Is(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;class be{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pS(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wl||(Wl=new be(new kn(Iv),null,Is.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wl}updatePriority(e){return this.children_.isEmpty()?this:new be(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Wl:n}}getChild(e){const n=_e(e);return n===null?this:this.getImmediateChild(n).getChild(Ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new we(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Wl:this.priorityNode_;return new be(s,o,i)}}updateChild(e,n){const r=_e(e);if(r===null)return n;{Q(_e(e)!==".priority"||bi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ke(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(cn,(o,a)=>{n[o]=a.val(e),r++,i&&be.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fS(this.getPriority().val())+":"),this.forEachChild(cn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":F6(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new we(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new we(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new we(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,we.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,we.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===td?-1:0}withIndex(e){if(e===Da||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new be(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Da||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(cn),s=n.getIterator(cn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Da?null:this.indexMap_.get(e.toString())}}be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pV extends be{constructor(){super(new kn(Iv),be.EMPTY_NODE,Is.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return be.EMPTY_NODE}isEmpty(){return!1}}const td=new pV;Object.defineProperties(we,{MIN:{value:new we(sl,be.EMPTY_NODE)},MAX:{value:new we(ko,td)}});hS.__EMPTY_NODE=be.EMPTY_NODE;Ot.__childrenNodeConstructor=be;lV(td);uV(td);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=!0;function ln(t,e=null){if(t===null)return be.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ot(n,ln(e))}if(!(t instanceof Array)&&mV){const n=[];let r=!1;if(yr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ln(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new we(o,l)))}}),n.length===0)return be.EMPTY_NODE;const i=g0(n,aV,o=>o.name,Iv);if(r){const o=g0(n,cn.getCompare());return new be(i,ln(e),new Is({".priority":o},{".priority":cn}))}else return new be(i,ln(e),Is.Default)}else{let n=be.EMPTY_NODE;return yr(t,(r,s)=>{if(Vs(t,r)&&r.substring(0,1)!=="."){const i=ln(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(ln(e))}}cV(ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV extends Uf{constructor(e){super(),this.indexPath_=e,Q(!ge(e)&&_e(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?El(e.name,n.name):i}makePost(e,n){const r=ln(e),s=be.EMPTY_NODE.updateChild(this.indexPath_,r);return new we(n,s)}maxPost(){const e=be.EMPTY_NODE.updateChild(this.indexPath_,td);return new we(ko,e)}toString(){return lS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV extends Uf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?El(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,n){const r=ln(e);return new we(n,r)}toString(){return".value"}}const vV=new yV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return{type:"value",snapshotNode:t}}function wV(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xV(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function N5(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function EV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sl}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ko}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new Sv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function P5(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===vV?n="$value":t.index_===Da?n="$key":(Q(t.index_ instanceof gV,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=qt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+qt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=qt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+qt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function L5(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==cn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends iS{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Zu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=y0.getListenId_(e,r),a={};this.listens_[o]=a;const l=P5(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Ga(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=y0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=P5(e._queryParams),r=e._path.toString(),s=new W1;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Kc(a.responseText)}catch{Gn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Gn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.rootNode_=be.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){return{value:null,children:new Map}}function yS(t,e,n){if(ge(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=_e(e);t.children.has(r)||t.children.set(r,v0());const s=t.children.get(r);e=Ke(e),yS(s,e,n)}}function bg(t,e,n){t.value!==null?n(e,t.value):TV(t,(r,s)=>{const i=new Xe(e.toString()+"/"+r);bg(s,i,n)})}function TV(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&yr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=10*1e3,SV=30*1e3,bV=5*60*1e3;class AV{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new IV(e);const r=O5+(SV-O5)*Math.random();Ic(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;yr(e,(s,i)=>{i>0&&Vs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ic(this.reportStats_.bind(this),Math.floor(Math.random()*2*bV))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jr||(Jr={}));function vS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _S(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jr.ACK_USER_WRITE,this.source=vS()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Xe(e));return new _0(Oe(),n,this.revert)}}else return Q(_e(this.path)===e,"operationForChild called for unrelated child."),new _0(Ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jr.OVERWRITE}operationForChild(e){return ge(this.path)?new No(this.source,Oe(),this.snap.getImmediateChild(e)):new No(this.source,Ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jr.MERGE}operationForChild(e){if(ge(this.path)){const n=this.children.subtree(new Xe(e));return n.isEmpty()?null:n.value?new No(this.source,Oe(),n.value):new gu(this.source,Oe(),n)}else return Q(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gu(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const n=_e(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function RV(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(EV(o.childName,o.snapshotNode))}),Hl(t,s,"child_removed",e,r,n),Hl(t,s,"child_added",e,r,n),Hl(t,s,"child_moved",i,r,n),Hl(t,s,"child_changed",e,r,n),Hl(t,s,"value",e,r,n),s}function Hl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>NV(t,a,l)),o.forEach(a=>{const l=kV(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function kV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NV(t,e,n){if(e.childName==null||n.childName==null)throw hl("Should only compare child_ events.");const r=new we(e.childName,e.snapshotNode),s=new we(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){return{eventCache:t,serverCache:e}}function Sc(t,e,n,r){return xS(new bv(e,n,r),t.serverCache)}function ES(t,e,n,r){return xS(t.eventCache,new bv(e,n,r))}function Ag(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Po(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp;const PV=()=>(Pp||(Pp=new kn(vF)),Pp);class Ge{constructor(e,n=PV()){this.value=e,this.children=n}static fromObject(e){let n=new Ge(null);return yr(e,(r,s)=>{n=n.set(new Xe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Oe(),value:this.value};if(ge(e))return null;{const r=_e(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Ke(e),n);return i!=null?{path:$t(new Xe(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const n=_e(e),r=this.children.get(n);return r!==null?r.subtree(Ke(e)):new Ge(null)}}set(e,n){if(ge(e))return new Ge(n,this.children);{const r=_e(e),i=(this.children.get(r)||new Ge(null)).set(Ke(e),n),o=this.children.insert(r,i);return new Ge(this.value,o)}}remove(e){if(ge(e))return this.children.isEmpty()?new Ge(null):new Ge(null,this.children);{const n=_e(e),r=this.children.get(n);if(r){const s=r.remove(Ke(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ge(null):new Ge(this.value,i)}else return this}}get(e){if(ge(e))return this.value;{const n=_e(e),r=this.children.get(n);return r?r.get(Ke(e)):null}}setTree(e,n){if(ge(e))return n;{const r=_e(e),i=(this.children.get(r)||new Ge(null)).setTree(Ke(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ge(this.value,o)}}fold(e){return this.fold_(Oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_($t(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Oe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ge(e))return null;{const i=_e(e),o=this.children.get(i);return o?o.findOnPath_(Ke(e),$t(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Oe(),n)}foreachOnPath_(e,n,r){if(ge(e))return this;{this.value&&r(n,this.value);const s=_e(e),i=this.children.get(s);return i?i.foreachOnPath_(Ke(e),$t(n,s),r):new Ge(null)}}foreach(e){this.foreach_(Oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_($t(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.writeTree_=e}static empty(){return new Nr(new Ge(null))}}function bc(t,e,n){if(ge(e))return new Nr(new Ge(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=ur(s,e);return i=i.updateChild(o,n),new Nr(t.writeTree_.set(s,i))}else{const s=new Ge(n),i=t.writeTree_.setTree(e,s);return new Nr(i)}}}function M5(t,e,n){let r=t;return yr(n,(s,i)=>{r=bc(r,$t(e,s),i)}),r}function D5(t,e){if(ge(e))return Nr.empty();{const n=t.writeTree_.setTree(e,new Ge(null));return new Nr(n)}}function Rg(t,e){return Bo(t,e)!=null}function Bo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ur(n.path,e)):null}function j5(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(cn,(r,s)=>{e.push(new we(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new we(r,s.value))}),e}function wi(t,e){if(ge(e))return t;{const n=Bo(t,e);return n!=null?new Nr(new Ge(n)):new Nr(t.writeTree_.subtree(e))}}function kg(t){return t.writeTree_.isEmpty()}function il(t,e){return CS(Oe(),t.writeTree_,e)}function CS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Q(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=CS($t(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild($t(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e){return RS(e,t)}function LV(t,e,n,r,s){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=bc(t.visibleWrites,e,n)),t.lastWriteId=r}function OV(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function MV(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&DV(a,r.path)?s=!1:Ar(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return jV(t),!0;if(r.snap)t.visibleWrites=D5(t.visibleWrites,r.path);else{const a=r.children;yr(a,l=>{t.visibleWrites=D5(t.visibleWrites,$t(r.path,l))})}return!0}else return!1}function DV(t,e){if(t.snap)return Ar(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ar($t(t.path,n),e))return!0;return!1}function jV(t){t.visibleWrites=IS(t.allWrites,$V,Oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $V(t){return t.visible}function IS(t,e,n){let r=Nr.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Ar(n,o)?(a=ur(n,o),r=bc(r,a,i.snap)):Ar(o,n)&&(a=ur(o,n),r=bc(r,Oe(),i.snap.getChild(a)));else if(i.children){if(Ar(n,o))a=ur(n,o),r=M5(r,a,i.children);else if(Ar(o,n))if(a=ur(o,n),ge(a))r=M5(r,Oe(),i.children);else{const l=Ga(i.children,_e(a));if(l){const c=l.getChild(Ke(a));r=bc(r,Oe(),c)}}}else throw hl("WriteRecord should have .snap or .children")}}return r}function SS(t,e,n,r,s){if(!r&&!s){const i=Bo(t.visibleWrites,e);if(i!=null)return i;{const o=wi(t.visibleWrites,e);if(kg(o))return n;if(n==null&&!Rg(o,Oe()))return null;{const a=n||be.EMPTY_NODE;return il(o,a)}}}else{const i=wi(t.visibleWrites,e);if(!s&&kg(i))return n;if(!s&&n==null&&!Rg(i,Oe()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ar(c.path,e)||Ar(e,c.path))},a=IS(t.allWrites,o,e),l=n||be.EMPTY_NODE;return il(a,l)}}}function FV(t,e,n){let r=be.EMPTY_NODE;const s=Bo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(cn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=wi(t.visibleWrites,e);return n.forEachChild(cn,(o,a)=>{const l=il(wi(i,new Xe(o)),a);r=r.updateImmediateChild(o,l)}),j5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=wi(t.visibleWrites,e);return j5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function VV(t,e,n,r,s){Q(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=$t(e,n);if(Rg(t.visibleWrites,i))return null;{const o=wi(t.visibleWrites,i);return kg(o)?s.getChild(n):il(o,s.getChild(n))}}function UV(t,e,n,r){const s=$t(e,n),i=Bo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=wi(t.visibleWrites,s);return il(o,r.getNode().getImmediateChild(n))}else return null}function zV(t,e){return Bo(t.visibleWrites,e)}function BV(t,e,n,r,s,i,o){let a;const l=wi(t.visibleWrites,e),c=Bo(l,Oe());if(c!=null)a=c;else if(n!=null)a=il(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function WV(){return{visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1}}function Ng(t,e,n,r){return SS(t.writeTree,t.treePath,e,n,r)}function bS(t,e){return FV(t.writeTree,t.treePath,e)}function $5(t,e,n,r){return VV(t.writeTree,t.treePath,e,n,r)}function w0(t,e){return zV(t.writeTree,$t(t.treePath,e))}function HV(t,e,n,r,s,i){return BV(t.writeTree,t.treePath,e,n,r,s,i)}function Av(t,e,n){return UV(t.writeTree,t.treePath,e,n)}function AS(t,e){return RS($t(t.treePath,e),t.writeTree)}function RS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,N5(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,xV(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,wV(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,N5(r,e.snapshotNode,s.oldSnap));else throw hl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const kS=new GV;class Rv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Av(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Po(this.viewCache_),i=HV(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function KV(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QV(t,e,n,r,s){const i=new qV;let o,a;if(n.type===Jr.OVERWRITE){const c=n;c.source.fromUser?o=Pg(t,e,c.path,c.snap,r,s,i):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ge(c.path),o=x0(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Jr.MERGE){const c=n;c.source.fromUser?o=XV(t,e,c.path,c.children,r,s,i):(Q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Lg(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Jr.ACK_USER_WRITE){const c=n;c.revert?o=eU(t,e,c.path,r,s,i):o=JV(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Jr.LISTEN_COMPLETE)o=ZV(t,e,n.path,r,i);else throw hl("Unknown operation type: "+n.type);const l=i.getChanges();return YV(e,o,l),{viewCache:o,changes:l}}function YV(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ag(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(_V(Ag(e)))}}function NS(t,e,n,r,s,i){const o=e.eventCache;if(w0(r,n)!=null)return e;{let a,l;if(ge(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Po(e),u=c instanceof be?c:be.EMPTY_NODE,d=bS(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Ng(r,Po(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=_e(n);if(c===".priority"){Q(bi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=$5(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ke(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=$5(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Av(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return Sc(e,a,o.isFullyInitialized()||ge(n),t.filter.filtersNodes())}}function x0(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ge(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=_e(n);if(!l.isCompleteForPath(n)&&bi(n)>1)return e;const m=Ke(n),_=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),p,_,m,kS,null)}const d=ES(e,c,l.isFullyInitialized()||ge(n),u.filtersNodes()),h=new Rv(s,d,i);return NS(t,d,n,s,h,a)}function Pg(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new Rv(s,e,i);if(ge(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Sc(e,c,!0,t.filter.filtersNodes());else{const d=_e(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Sc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ke(n),p=a.getNode().getImmediateChild(d);let m;if(ge(h))m=r;else{const y=u.getCompleteChild(d);y!=null?aS(h)===".priority"&&y.getChild(cS(h)).isEmpty()?m=y:m=y.updateChild(h,r):m=be.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=Sc(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function F5(t,e){return t.eventCache.isCompleteForChild(e)}function XV(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=$t(n,l);F5(e,_e(u))&&(a=Pg(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=$t(n,l);F5(e,_e(u))||(a=Pg(t,a,u,c,s,i,o))}),a}function V5(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Lg(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ge(n)?c=r:c=new Ge(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=V5(t,p,h);l=x0(t,l,new Xe(d),m,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=V5(t,m,h);l=x0(t,l,new Xe(d),y,s,i,o,a)}}),l}function JV(t,e,n,r,s,i,o){if(w0(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ge(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return x0(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ge(n)){let c=new Ge(null);return l.getNode().forEachChild(Da,(u,d)=>{c=c.set(new Xe(u),d)}),Lg(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ge(null);return r.foreach((u,d)=>{const h=$t(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Lg(t,e,n,c,s,i,a,o)}}function ZV(t,e,n,r,s){const i=e.serverCache,o=ES(e,i.getNode(),i.isFullyInitialized()||ge(n),i.isFiltered());return NS(t,o,n,r,kS,s)}function eU(t,e,n,r,s,i){let o;if(w0(r,n)!=null)return e;{const a=new Rv(r,e,s),l=e.eventCache.getNode();let c;if(ge(n)||_e(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ng(r,Po(e));else{const d=e.serverCache.getNode();Q(d instanceof be,"serverChildren would be complete if leaf node"),u=bS(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=_e(n);let d=Av(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ke(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,be.EMPTY_NODE,Ke(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ng(r,Po(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||w0(r,Oe())!=null,Sc(e,c,o,t.filter.filtersNodes())}}function tU(t,e){const n=Po(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ge(e)&&!n.getImmediateChild(_e(e)).isEmpty())?n.getChild(e):null}function U5(t,e,n,r){e.type===Jr.MERGE&&e.source.queryId!==null&&(Q(Po(t.viewCache_),"We should always have a full cache before handling merges"),Q(Ag(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=QV(t.processor_,s,e,n,r);return KV(t.processor_,i.viewCache),Q(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,nU(t,i.changes,i.viewCache.eventCache.getNode(),null)}function nU(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return RV(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z5;function rU(t){Q(!z5,"__referenceConstructor has already been defined"),z5=t}function kv(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Q(i!=null,"SyncTree gave us an op for an invalid query."),U5(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(U5(o,e,n,r));return i}}function Nv(t,e){let n=null;for(const r of t.views.values())n=n||tU(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B5;function sU(t){Q(!B5,"__referenceConstructor has already been defined"),B5=t}class W5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=WV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iU(t,e,n,r,s){return LV(t.pendingWriteTree_,e,n,r,s),s?Bf(t,new No(vS(),e,n)):[]}function va(t,e,n=!1){const r=OV(t.pendingWriteTree_,e);if(MV(t.pendingWriteTree_,e)){let i=new Ge(null);return r.snap!=null?i=i.set(Oe(),!0):yr(r.children,o=>{i=i.set(new Xe(o),!0)}),Bf(t,new _0(r.path,i,n))}else return[]}function zf(t,e,n){return Bf(t,new No(_S(),e,n))}function oU(t,e,n){const r=Ge.fromObject(n);return Bf(t,new gu(_S(),e,r))}function aU(t,e,n,r){const s=MS(t,r);if(s!=null){const i=DS(s),o=i.path,a=i.queryId,l=ur(o,e),c=new No(wS(a),l,n);return jS(t,o,c)}else return[]}function lU(t,e,n,r){const s=MS(t,r);if(s){const i=DS(s),o=i.path,a=i.queryId,l=ur(o,e),c=Ge.fromObject(n),u=new gu(wS(a),l,c);return jS(t,o,u)}else return[]}function PS(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ur(o,e),c=Nv(a,l);if(c)return c});return SS(s,e,i,n,!0)}function Bf(t,e){return LS(e,t.syncPointTree_,null,TS(t.pendingWriteTree_,Oe()))}function LS(t,e,n,r){if(ge(t.path))return OS(t,e,n,r);{const s=e.get(Oe());n==null&&s!=null&&(n=Nv(s,Oe()));let i=[];const o=_e(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=AS(r,o);i=i.concat(LS(a,l,c,u))}return s&&(i=i.concat(kv(s,t,r,n))),i}}function OS(t,e,n,r){const s=e.get(Oe());n==null&&s!=null&&(n=Nv(s,Oe()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=AS(r,o),u=t.operationForChild(o);u&&(i=i.concat(OS(u,a,l,c)))}),s&&(i=i.concat(kv(s,t,r,n))),i}function MS(t,e){return t.tagToQueryMap.get(e)}function DS(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xe(t.substr(0,e))}}function jS(t,e,n){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const s=TS(t.pendingWriteTree_,e);return kv(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Pv(n)}node(){return this.node_}}class Lv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=$t(this.path_,e);return new Lv(this.syncTree_,n)}node(){return PS(this.syncTree_,this.path_)}}const cU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},H5=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return uU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return dU(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},uU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},dU=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const s=e.node();if(Q(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},hU=function(t,e,n,r){return Ov(e,new Lv(n,t),r)},fU=function(t,e,n){return Ov(t,new Pv(e),n)};function Ov(t,e,n){const r=t.getPriority().val(),s=H5(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=H5(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ot(a,ln(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ot(s))),o.forEachChild(cn,(a,l)=>{const c=Ov(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Dv(t,e){let n=e instanceof Xe?e:new Xe(e),r=t,s=_e(n);for(;s!==null;){const i=Ga(r.node.children,s)||{children:{},childCount:0};r=new Mv(s,r,i),n=Ke(n),s=_e(n)}return r}function Cl(t){return t.node.value}function $S(t,e){t.node.value=e,Og(t)}function FS(t){return t.node.childCount>0}function pU(t){return Cl(t)===void 0&&!FS(t)}function Wf(t,e){yr(t.node.children,(n,r)=>{e(new Mv(n,t,r))})}function VS(t,e,n,r){n&&!r&&e(t),Wf(t,s=>{VS(s,e,!0,r)}),n&&r&&e(t)}function mU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function nd(t){return new Xe(t.parent===null?t.name:nd(t.parent)+"/"+t.name)}function Og(t){t.parent!==null&&gU(t.parent,t.name,t)}function gU(t,e,n){const r=pU(n),s=Vs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Og(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Og(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/[\[\].#$\/\u0000-\u001F\u007F]/,vU=/[\[\].#$\u0000-\u001F\u007F]/,Lp=10*1024*1024,US=function(t){return typeof t=="string"&&t.length!==0&&!yU.test(t)},_U=function(t){return typeof t=="string"&&t.length!==0&&!vU.test(t)},wU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_U(t)},zS=function(t,e,n){const r=n instanceof Xe?new ZF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ki(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ki(r)+" with contents = "+e.toString());if(V6(e))throw new Error(t+"contains "+e.toString()+" "+Ki(r));if(typeof e=="string"&&e.length>Lp/3&&X0(e)>Lp)throw new Error(t+"contains a string greater than "+Lp+" utf8 bytes "+Ki(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(yr(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!US(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ki(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eV(r,o),zS(t,a,r),tV(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ki(r)+" in addition to actual children.")}},xU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!US(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wU(n))throw new Error(_7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CU(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!uS(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Wo(t,e,n){CU(t,n),TU(t,r=>Ar(r,e)||Ar(e,r))}function TU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(IU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function IU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();go&&an("event: "+n.toString()),ed(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="repo_interrupt",bU=25;class AU{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=v0(),this.transactionQueueTree_=new Mv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RU(t,e,n){if(t.stats_=Ev(t.repoInfo_),t.forceRestClient_||TF())t.server_=new y0(t.repoInfo_,(r,s,i,o)=>{q5(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>G5(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bs(t.repoInfo_,e,(r,s,i,o)=>{q5(t,r,s,i,o)},r=>{G5(t,r)},r=>{NU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=RF(t.repoInfo_,()=>new AV(t.stats_,t.server_)),t.infoData_=new CV,t.infoSyncTree_=new W5({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=zf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),jv(t,"connected",!1),t.serverSyncTree_=new W5({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Wo(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function kU(t){const n=t.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function BS(t){return cU({timestamp:kU(t)})}function q5(t,e,n,r,s){t.dataUpdateCount++;const i=new Xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Bh(n,c=>ln(c));o=lU(t.serverSyncTree_,i,l,s)}else{const l=ln(n);o=aU(t.serverSyncTree_,i,l,s)}else if(r){const l=Bh(n,c=>ln(c));o=oU(t.serverSyncTree_,i,l)}else{const l=ln(n);o=zf(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Fv(t,i)),Wo(t.eventQueue_,a,o)}function G5(t,e){jv(t,"connected",e),e===!1&&LU(t)}function NU(t,e){yr(e,(n,r)=>{jv(t,n,r)})}function jv(t,e,n){const r=new Xe("/.info/"+e),s=ln(n);t.infoData_.updateSnapshot(r,s);const i=zf(t.infoSyncTree_,r,s);Wo(t.eventQueue_,r,i)}function PU(t){return t.nextWriteId_++}function LU(t){WS(t,"onDisconnectEvents");const e=BS(t),n=v0();bg(t.onDisconnect_,Oe(),(s,i)=>{const o=hU(s,i,t.serverSyncTree_,e);yS(n,s,o)});let r=[];bg(n,Oe(),(s,i)=>{r=r.concat(zf(t.serverSyncTree_,s,i));const o=jU(t,s);Fv(t,o)}),t.onDisconnect_=v0(),Wo(t.eventQueue_,Oe(),r)}function OU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(SU)}function WS(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),an(n,...e)}function HS(t,e,n){return PS(t.serverSyncTree_,e,n)||be.EMPTY_NODE}function $v(t,e=t.transactionQueueTree_){if(e||Hf(t,e),Cl(e)){const n=GS(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&MU(t,nd(e),n)}else FS(e)&&Wf(e,n=>{$v(t,n)})}function MU(t,e,n){const r=n.map(c=>c.currentWriteId),s=HS(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];Q(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ur(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{WS(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(va(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Hf(t,Dv(t.transactionQueueTree_,e)),$v(t,t.transactionQueueTree_),Wo(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ed(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Gn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Fv(t,e)}},o)}function Fv(t,e){const n=qS(t,e),r=nd(n),s=GS(t,n);return DU(t,s,r),r}function DU(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ur(n,l.path);let u=!1,d;if(Q(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(va(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bU)u=!0,d="maxretry",s=s.concat(va(t.serverSyncTree_,l.currentWriteId,!0));else{const h=HS(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){zS("transaction failed: Data returned ",p,l.path);let m=ln(p);typeof p=="object"&&p!=null&&Vs(p,".priority")||(m=m.updatePriority(h.getPriority()));const _=l.currentWriteId,g=BS(t),v=fU(m,h,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=PU(t),o.splice(o.indexOf(_),1),s=s.concat(iU(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(va(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",s=s.concat(va(t.serverSyncTree_,l.currentWriteId,!0))}Wo(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Hf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ed(r[a]);$v(t,t.transactionQueueTree_)}function qS(t,e){let n,r=t.transactionQueueTree_;for(n=_e(e);n!==null&&Cl(r)===void 0;)r=Dv(r,n),e=Ke(e),n=_e(e);return r}function GS(t,e){const n=[];return KS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function KS(t,e,n){const r=Cl(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Wf(e,s=>{KS(t,s,n)})}function Hf(t,e){const n=Cl(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$S(e,n.length>0?n:void 0)}Wf(e,r=>{Hf(t,r)})}function jU(t,e){const n=nd(qS(t,e)),r=Dv(t.transactionQueueTree_,e);return mU(r,s=>{Op(t,s)}),Op(t,r),VS(r,s=>{Op(t,s)}),n}function Op(t,e){const n=Cl(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Q(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(va(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?$S(e,void 0):n.length=i+1,Wo(t.eventQueue_,nd(e),s);for(let o=0;o<r.length;o++)ed(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function FU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gn(`Invalid query segment '${n}' in query '${t}'`)}return e}const K5=function(t,e){const n=VU(t),r=n.namespace;n.domain==="firebase.com"&&js(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gF();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new J6(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Xe(n.pathString)}},VU=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=$U(t.substring(u,d)));const h=FU(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ge(this._path)?null:aS(this._path)}get ref(){return new Tl(this._repo,this._path)}get _queryIdentifier(){const e=L5(this._queryParams),n=wv(e);return n==="{}"?"default":n}get _queryObject(){return L5(this._queryParams)}isEqual(e){if(e=$e(e),!(e instanceof Vv))return!1;const n=this._repo===e._repo,r=uS(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+JF(this._path)}}class Tl extends Vv{constructor(e,n){super(e,n,new Sv,!1)}get parent(){const e=cS(this._path);return e===null?null:new Tl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}rU(Tl);sU(Tl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="FIREBASE_DATABASE_EMULATOR_HOST",Mg={};let zU=!1;function BU(t,e,n,r){t.repoInfo_=new J6(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function WU(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=K5(i,s),a=o.repoInfo,l,c;typeof process<"u"&&p5&&(c=p5[UU]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=K5(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Ma(Ma.OWNER):new SF(t.name,t.options,e);xU("Invalid Firebase Database URL",o),ge(o.path)||js("Database URL must point to the root of a Firebase Database (not including a child path).");const d=qU(a,t,u,new IF(t.name,n));return new GU(d,t)}function HU(t,e){const n=Mg[e];(!n||n[t.key]!==t)&&js(`Database ${e}(${t.repoInfo_}) has already been deleted.`),OU(t),delete n[t.key]}function qU(t,e,n,r){let s=Mg[e.name];s||(s={},Mg[e.name]=s);let i=s[t.toURLString()];return i&&js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new AU(t,zU,n,r),s[t.toURLString()]=i,i}class GU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tl(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&js("Cannot call "+e+" on a deleted database.")}}function KU(t=Z0(),e){const n=ku(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=B1("database");r&&QU(n,...r)}return n}function QU(t,e,n,r={}){t=$e(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&js("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Ma(Ma.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:H1(r.mockUserToken,t.app.options.projectId);i=new Ma(o)}BU(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){dF(Li),Ci(new Ps("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return WU(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),hr(m5,g5,t),hr(m5,g5,"esm2017")}bs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};YU();function Dg(t,e){localStorage.setItem(t,JSON.stringify(e))}function Q5(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}const XU={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},qf=vC(XU),re=Xj(qf),JU=new _s,Ae=vM(qf),ao=aF(qf);KU(qf);const ol=(t,e,n)=>{I.useEffect(()=>{try{if(n){const r=Jt(Ae,t),s=us(r,i=>{const o=i.docs.map(a=>({...a.data(),[t==="users"?"uid":"id"]:a.id}));o.length!==0&&e(o)});return()=>{s()}}}catch(r){console.log(r.message)}},[n])},ZU=(t,e,n)=>{I.useEffect(()=>{var r;try{if(n){const s=Ee(Ae,t,(r=re==null?void 0:re.currentUser)==null?void 0:r.uid),i=us(s,o=>{const a={uid:o.id,...o.data()};return a!=null&&a.name&&e(a),()=>i()})}}catch(s){console.log(s.message)}},[n])};function fs(t,e){let n;return t.forEach(r=>{r.uid===e&&(n=r)}),n}async function Uv(t,e,n,r=null){try{const s=Jt(Ae,"notifications"),i={uid:re.currentUser.uid,type:t,[e]:n,isReadBy:[],timestamp:zn(),comment:r};await wl(s,i)}catch(s){console.log(s.message)}}const ez=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s}=t,{startTimer:i,formattedTime:o,stopTest:a,currentTest:l,answeredQuestions:c}=I.useContext(ee),u=tr(),d=async()=>{try{const p=Jt(Ee(Ae,"users",re.currentUser.uid),"history"),m=Hk(c,l,o),y=await wl(p,m),_=(await VI(y)).id;u(`/app/history/${_}`)}catch(p){console.log(p.message)}},h=()=>{i(),d(),a(),Uv(["took","test"],"testName",l.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&f.jsx(Me,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(Me,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(Me,{data:{clickFn:e,text:"Next",image:"next"}})]})},Mr=()=>{const[t,e]=I.useState(!0),[n,r]=I.useState(0),{theme:s}=I.useContext(ee);if(I.useEffect(()=>{const i=setInterval(()=>{r(Math.min(n+1,100)),n===100&&(e(!1),r(0))},5);return()=>{clearInterval(i)}},[n]),t&&(document.title="Loading..."),t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${s==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsx("div",{className:"h-3 w-[200px] rounded-md overflow-hidden",children:f.jsx("div",{style:{width:`${n}%`},className:"h-full bg-blue-300"})}),f.jsxs("p",{className:"text-lg",children:[n,"%"]})]})})},tz=()=>{const{answeredQuestions:t,setAnsweredQuestions:e,currentTest:n,seaLocalStorage:r,seconds:s,hours:i,minutes:o}=I.useContext(ee),a=t.length,l=n.quizzes.length,[c,u]=I.useState((r==null?void 0:r.startIndex)||0),[d,h]=I.useState(!1),[p,m]=I.useState(!1),[y,_]=I.useState(!1),g=10;let v=n.quizzes.slice(c,c+g);const x=n.name,T=Math.ceil(l/g),R=Math.ceil((c+g)/g),w=Math.round(a/l*100);I.useEffect(()=>(Hn(),Hn()),[]),I.useEffect(()=>{Dg("sea-localStorage",{answeredQuestions:t,currentTest:n,startIndex:c,timer:{seconds:s,minutes:o,hours:i}})},[t,n,c,s]),I.useEffect(()=>{a===l&&c+g>=l?h(!0):h(!1)},[c,t]),I.useEffect(()=>{a>=c+g?m(!0):m(!1)},[t,c]);const b={pageTitle:x,currentPage:R,totalPage:T,percentage:w,answerLength:a,questionsLength:l,currentQuestions:v,isEnded:d,chooseAnswer:(P,N)=>{const O=F8(P,t);e(O?t.map(L=>P===L.id?{id:P,userAnswer:N}:L):[...t,{id:P,userAnswer:N}])},nextPage:()=>{p?(u(c+g),a<=c+g&&Hn()):V8(_)},prevPage:()=>{u(Math.max(c-g,0))},startIndex:c};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(Mr,{}),f.jsx(U8,{data:b}),f.jsx(z8,{data:b}),y&&f.jsx(W8,{}),f.jsx(ez,{data:b})]})},Gf=({title:t,text:e})=>{const{isLogin:n,theme:r}=I.useContext(ee),s=tr();return f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx("div",{className:` ${r==="light"?"":"text-white"}`,children:e}),f.jsx("div",{children:f.jsx(Me,{data:{clickFn:()=>s(n?"/app/posts":"/login"),image:"redo",text:n?"Return Home":"Login"}})})]})},nz=()=>{const{theme:t,userData:e}=I.useContext(ee),[n,r]=I.useState(null),s=`${n==null?void 0:n.testName} - Results`,i=Math.round((n==null?void 0:n.score)/(n==null?void 0:n.totalScore)*100),o=tr(),{resultId:a}=U1(),l=()=>{try{const u=Jt(Ee(Ae,"users",e.uid),"history"),d=Ee(u,a);return us(d,p=>{const m={id:p.id,...p.data()};r(m)})}catch(u){return console.log(u.message),()=>{}}};I.useEffect(()=>{const u=l();return()=>{u()}},[a]),I.useEffect(()=>(Hn(),Hn()),[]);const c=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${n.score} out of ${n.totalScore} in '${n.testName}'.
Website URL - https://wwww.seaacademy.onrender.com
        `})}catch{console.log("Error")}};return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Mr,{}),n?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(je,{data:{image:"back",clickFn:()=>o("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:s})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[n.score," / ",n.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:n.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${i}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-i}%`}})]}),f.jsxs("div",{className:`grid grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsx(Wi,{text:"Score Percentage",value:`${i}%`,color:"text-lime-500"}),f.jsx(Wi,{text:"Total Questions",value:n.totalScore,color:"text-lime-500"}),f.jsx(Wi,{text:"Correct",value:n.score,color:"text-green-500"}),f.jsx(Wi,{text:"Wrong",value:n.totalScore-n.score,color:"text-red-500"}),f.jsx(Wi,{text:"Date",value:n.date,color:"text-lime-500"}),f.jsx(Wi,{text:"Time",value:n.time,color:"text-lime-500"}),f.jsx(Wi,{text:"Time taken",value:G4(n.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(je,{data:{clickFn:()=>o(`/app/history/${a}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(je,{data:{clickFn:c,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(je,{data:{clickFn:()=>o("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsx(Gf,{text:"Unavailable"})]})},Wi=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:[" ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function ps(t,e=15){const n=t.slice(0,e);return e>=t.length?n:`${n}...`}const Us=({image:t,name:e,size:n="size-10",fontSize:r="text-lg"})=>{const s=t&&t.trim(),i=e&&e.trim(),o=s&&i,a=()=>{const l=e.trim().split(" ");return l.length<=3?l[0][0].toUpperCase():`${l[0][0]}${l[1][0]}`.toUpperCase()};if(s||o)return f.jsx("img",{className:`${n} rounded-full object-cover`,src:t});if(i)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:a()});if(!o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},rz=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=I.useState(!1),[s,i]=I.useState(!1),o=I.useRef(null),a=tr(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=I.useContext(ee),m=async()=>{try{await FD(re),e(!1),l(!1)}catch(y){console.log(y.message)}};return Do(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"relative top-0 right-0 left-0 bottom-0",children:s&&f.jsx(Eo,{data:{yesButton:m,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),f.jsx("button",{onClick:()=>r(!n),className:`transition-all p-1 rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-200/70":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative w-10",children:f.jsx(Us,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx("div",{className:"font-medium",children:u!=null&&u.name?u.name:"User"}),h&&f.jsx(je,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsxs("div",{className:`fixed bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:[f.jsx("div",{children:f.jsxs("button",{onClick:()=>{a("/app/settings"),e(!1),r(!1)},className:`flex w-full p-1 rounded-md gap-x-2 items-center  ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:de("admin")}),f.jsx("div",{children:"Settings"})]})}),f.jsxs("button",{onClick:()=>{i(!0)},className:`flex w-full p-1 rounded-md gap-x-2 items-center ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:de("logout")}),f.jsx("div",{children:"Log out"})]})]})]})},sz={black:"#000",white:"#fff"},yu=sz,iz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yo=iz,oz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xo=oz,az={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jo=az,lz={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Zo=lz,cz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ea=cz,uz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ql=uz,dz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hz=dz;function vu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const fz=Object.freeze(Object.defineProperty({__proto__:null,default:vu},Symbol.toStringTag,{value:"Module"})),zv="$$material";function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y.apply(null,arguments)}function Rt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QS(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var pz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mz=QS(function(t){return pz.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function gz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function yz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vz=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yz(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=gz(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),nn="-ms-",E0="-moz-",Ce="-webkit-",YS="comm",Bv="rule",Wv="decl",_z="@import",XS="@keyframes",wz="@layer",xz=Math.abs,Kf=String.fromCharCode,Ez=Object.assign;function Cz(t,e){return Wt(t,0)^45?(((e<<2^Wt(t,0))<<2^Wt(t,1))<<2^Wt(t,2))<<2^Wt(t,3):0}function JS(t){return t.trim()}function Tz(t,e){return(t=e.exec(t))?t[0]:t}function Te(t,e,n){return t.replace(e,n)}function jg(t,e){return t.indexOf(e)}function Wt(t,e){return t.charCodeAt(e)|0}function _u(t,e,n){return t.slice(e,n)}function Wr(t){return t.length}function Hv(t){return t.length}function $d(t,e){return e.push(t),t}function Iz(t,e){return t.map(e).join("")}var Qf=1,al=1,ZS=0,Mn=0,yt=0,Il="";function Yf(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Qf,column:al,length:o,return:""}}function Gl(t,e){return Ez(Yf("",null,null,"",null,null,0),t,{length:-t.length},e)}function Sz(){return yt}function bz(){return yt=Mn>0?Wt(Il,--Mn):0,al--,yt===10&&(al=1,Qf--),yt}function Kn(){return yt=Mn<ZS?Wt(Il,Mn++):0,al++,yt===10&&(al=1,Qf++),yt}function os(){return Wt(Il,Mn)}function ch(){return Mn}function rd(t,e){return _u(Il,t,e)}function wu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eb(t){return Qf=al=1,ZS=Wr(Il=t),Mn=0,[]}function tb(t){return Il="",t}function uh(t){return JS(rd(Mn-1,$g(t===91?t+2:t===40?t+1:t)))}function Az(t){for(;(yt=os())&&yt<33;)Kn();return wu(t)>2||wu(yt)>3?"":" "}function Rz(t,e){for(;--e&&Kn()&&!(yt<48||yt>102||yt>57&&yt<65||yt>70&&yt<97););return rd(t,ch()+(e<6&&os()==32&&Kn()==32))}function $g(t){for(;Kn();)switch(yt){case t:return Mn;case 34:case 39:t!==34&&t!==39&&$g(yt);break;case 40:t===41&&$g(t);break;case 92:Kn();break}return Mn}function kz(t,e){for(;Kn()&&t+yt!==57;)if(t+yt===84&&os()===47)break;return"/*"+rd(e,Mn-1)+"*"+Kf(t===47?t:Kn())}function Nz(t){for(;!wu(os());)Kn();return rd(t,Mn)}function Pz(t){return tb(dh("",null,null,null,[""],t=eb(t),0,[0],t))}function dh(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,y=1,_=1,g=1,v=0,x="",T=s,R=i,w=r,S=x;_;)switch(m=v,v=Kn()){case 40:if(m!=108&&Wt(S,d-1)==58){jg(S+=Te(uh(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=uh(v);break;case 9:case 10:case 13:case 32:S+=Az(m);break;case 92:S+=Rz(ch()-1,7);continue;case 47:switch(os()){case 42:case 47:$d(Lz(kz(Kn(),ch()),e,n),l);break;default:S+="/"}break;case 123*y:a[c++]=Wr(S)*g;case 125*y:case 59:case 0:switch(v){case 0:case 125:_=0;case 59+u:g==-1&&(S=Te(S,/\f/g,"")),p>0&&Wr(S)-d&&$d(p>32?X5(S+";",r,n,d-1):X5(Te(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if($d(w=Y5(S,e,n,c,u,s,a,x,T=[],R=[],d),i),v===123)if(u===0)dh(S,e,w,w,T,i,d,a,R);else switch(h===99&&Wt(S,3)===110?100:h){case 100:case 108:case 109:case 115:dh(t,w,w,r&&$d(Y5(t,w,w,0,0,s,a,x,s,T=[],d),R),s,R,d,a,r?T:R);break;default:dh(S,w,w,w,[""],R,0,a,R)}}c=u=p=0,y=g=1,x=S="",d=o;break;case 58:d=1+Wr(S),p=m;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&bz()==125)continue}switch(S+=Kf(v),v*y){case 38:g=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Wr(S)-1)*g,g=1;break;case 64:os()===45&&(S+=uh(Kn())),h=os(),u=d=Wr(x=S+=Nz(ch())),v++;break;case 45:m===45&&Wr(S)==2&&(y=0)}}return i}function Y5(t,e,n,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],p=Hv(h),m=0,y=0,_=0;m<r;++m)for(var g=0,v=_u(t,d+1,d=xz(y=o[m])),x=t;g<p;++g)(x=JS(y>0?h[g]+" "+v:Te(v,/&\f/g,h[g])))&&(l[_++]=x);return Yf(t,e,n,s===0?Bv:a,l,c,u)}function Lz(t,e,n){return Yf(t,e,n,YS,Kf(Sz()),_u(t,2,-2),0)}function X5(t,e,n,r){return Yf(t,e,n,Wv,_u(t,0,r),_u(t,r+1,-1),r)}function ja(t,e){for(var n="",r=Hv(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Oz(t,e,n,r){switch(t.type){case wz:if(t.children.length)break;case _z:case Wv:return t.return=t.return||t.value;case YS:return"";case XS:return t.return=t.value+"{"+ja(t.children,r)+"}";case Bv:t.value=t.props.join(",")}return Wr(n=ja(t.children,r))?t.return=t.value+"{"+n+"}":""}function Mz(t){var e=Hv(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function Dz(t){return function(e){e.root||(e=e.return)&&t(e)}}var jz=function(e,n,r){for(var s=0,i=0;s=i,i=os(),s===38&&i===12&&(n[r]=1),!wu(i);)Kn();return rd(e,Mn)},$z=function(e,n){var r=-1,s=44;do switch(wu(s)){case 0:s===38&&os()===12&&(n[r]=1),e[r]+=jz(Mn-1,n,r);break;case 2:e[r]+=uh(s);break;case 4:if(s===44){e[++r]=os()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Kf(s)}while(s=Kn());return e},Fz=function(e,n){return tb($z(eb(e),n))},J5=new WeakMap,Vz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!J5.get(r))&&!s){J5.set(e,!0);for(var i=[],o=Fz(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Uz=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nb(t,e){switch(Cz(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+E0+t+nn+t+t;case 6828:case 4268:return Ce+t+nn+t+t;case 6165:return Ce+t+nn+"flex-"+t+t;case 5187:return Ce+t+Te(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+nn+"flex-$1$2")+t;case 5443:return Ce+t+nn+"flex-item-"+Te(t,/flex-|-self/,"")+t;case 4675:return Ce+t+nn+"flex-line-pack"+Te(t,/align-content|flex-|-self/,"")+t;case 5548:return Ce+t+nn+Te(t,"shrink","negative")+t;case 5292:return Ce+t+nn+Te(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+Te(t,"-grow","")+Ce+t+nn+Te(t,"grow","positive")+t;case 4554:return Ce+Te(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return Te(Te(Te(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return Te(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return Te(Te(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4095:case 3583:case 4068:case 2532:return Te(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wr(t)-1-e>6)switch(Wt(t,e+1)){case 109:if(Wt(t,e+4)!==45)break;case 102:return Te(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+E0+(Wt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jg(t,"stretch")?nb(Te(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Wt(t,e+1)!==115)break;case 6444:switch(Wt(t,Wr(t)-3-(~jg(t,"!important")&&10))){case 107:return Te(t,":",":"+Ce)+t;case 101:return Te(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(Wt(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+nn+"$2box$3")+t}break;case 5936:switch(Wt(t,e+11)){case 114:return Ce+t+nn+Te(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+nn+Te(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+nn+Te(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ce+t+nn+t+t}return t}var zz=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Wv:e.return=nb(e.value,e.length);break;case XS:return ja([Gl(e,{value:Te(e.value,"@","@"+Ce)})],s);case Bv:if(e.length)return Iz(e.props,function(i){switch(Tz(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ja([Gl(e,{props:[Te(i,/:(read-\w+)/,":"+E0+"$1")]})],s);case"::placeholder":return ja([Gl(e,{props:[Te(i,/:(plac\w+)/,":"+Ce+"input-$1")]}),Gl(e,{props:[Te(i,/:(plac\w+)/,":"+E0+"$1")]}),Gl(e,{props:[Te(i,/:(plac\w+)/,nn+"input-$1")]})],s)}return""})}},Bz=[zz],rb=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||Bz,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),g=1;g<_.length;g++)i[_[g]]=!0;a.push(y)});var l,c=[Vz,Uz];{var u,d=[Oz,Dz(function(y){u.insert(y)})],h=Mz(c.concat(s,d)),p=function(_){return ja(Pz(_),h)};l=function(_,g,v,x){u=v,p(_?_+"{"+g.styles+"}":g.styles),x&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new vz({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m},sb={exports:{}},Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=typeof Symbol=="function"&&Symbol.for,qv=zt?Symbol.for("react.element"):60103,Gv=zt?Symbol.for("react.portal"):60106,Xf=zt?Symbol.for("react.fragment"):60107,Jf=zt?Symbol.for("react.strict_mode"):60108,Zf=zt?Symbol.for("react.profiler"):60114,e2=zt?Symbol.for("react.provider"):60109,t2=zt?Symbol.for("react.context"):60110,Kv=zt?Symbol.for("react.async_mode"):60111,n2=zt?Symbol.for("react.concurrent_mode"):60111,r2=zt?Symbol.for("react.forward_ref"):60112,s2=zt?Symbol.for("react.suspense"):60113,Wz=zt?Symbol.for("react.suspense_list"):60120,i2=zt?Symbol.for("react.memo"):60115,o2=zt?Symbol.for("react.lazy"):60116,Hz=zt?Symbol.for("react.block"):60121,qz=zt?Symbol.for("react.fundamental"):60117,Gz=zt?Symbol.for("react.responder"):60118,Kz=zt?Symbol.for("react.scope"):60119;function nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qv:switch(t=t.type,t){case Kv:case n2:case Xf:case Zf:case Jf:case s2:return t;default:switch(t=t&&t.$$typeof,t){case t2:case r2:case o2:case i2:case e2:return t;default:return e}}case Gv:return e}}}function ib(t){return nr(t)===n2}Pe.AsyncMode=Kv;Pe.ConcurrentMode=n2;Pe.ContextConsumer=t2;Pe.ContextProvider=e2;Pe.Element=qv;Pe.ForwardRef=r2;Pe.Fragment=Xf;Pe.Lazy=o2;Pe.Memo=i2;Pe.Portal=Gv;Pe.Profiler=Zf;Pe.StrictMode=Jf;Pe.Suspense=s2;Pe.isAsyncMode=function(t){return ib(t)||nr(t)===Kv};Pe.isConcurrentMode=ib;Pe.isContextConsumer=function(t){return nr(t)===t2};Pe.isContextProvider=function(t){return nr(t)===e2};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qv};Pe.isForwardRef=function(t){return nr(t)===r2};Pe.isFragment=function(t){return nr(t)===Xf};Pe.isLazy=function(t){return nr(t)===o2};Pe.isMemo=function(t){return nr(t)===i2};Pe.isPortal=function(t){return nr(t)===Gv};Pe.isProfiler=function(t){return nr(t)===Zf};Pe.isStrictMode=function(t){return nr(t)===Jf};Pe.isSuspense=function(t){return nr(t)===s2};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xf||t===n2||t===Zf||t===Jf||t===s2||t===Wz||typeof t=="object"&&t!==null&&(t.$$typeof===o2||t.$$typeof===i2||t.$$typeof===e2||t.$$typeof===t2||t.$$typeof===r2||t.$$typeof===qz||t.$$typeof===Gz||t.$$typeof===Kz||t.$$typeof===Hz)};Pe.typeOf=nr;sb.exports=Pe;var Qz=sb.exports,ob=Qz,Yz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ab={};ab[ob.ForwardRef]=Yz;ab[ob.Memo]=Xz;var Jz=!0;function Zz(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var lb=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||Jz===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},cb=function(e,n,r){lb(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function eB(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nB=/[A-Z]|^ms/g,rB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ub=function(e){return e.charCodeAt(1)===45},Z5=function(e){return e!=null&&typeof e!="boolean"},Mp=QS(function(t){return ub(t)?t:t.replace(nB,"-$&").toLowerCase()}),ex=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(rB,function(r,s,i){return Hr={name:s,styles:i,next:Hr},s})}return tB[e]!==1&&!ub(e)&&typeof n=="number"&&n!==0?n+"px":n};function xu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Hr={name:n.name,styles:n.styles,next:Hr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Hr={name:r.name,styles:r.styles,next:Hr},r=r.next;var s=n.styles+";";return s}return sB(t,e,n)}case"function":{if(t!==void 0){var i=Hr,o=n(t);return Hr=i,xu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function sB(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=xu(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":Z5(o)&&(r+=Mp(i)+":"+ex(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Z5(o[a])&&(r+=Mp(i)+":"+ex(i,o[a])+";");else{var l=xu(t,e,o);switch(i){case"animation":case"animationName":{r+=Mp(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var tx=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hr,Qv=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Hr=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=xu(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=xu(r,n,e[a]),s&&(i+=o[a]);tx.lastIndex=0;for(var l="",c;(c=tx.exec(i))!==null;)l+="-"+c[1];var u=eB(i)+l;return{name:u,styles:i,next:Hr}},iB=function(e){return e()},db=Bp.useInsertionEffect?Bp.useInsertionEffect:!1,oB=db||iB,nx=db||I.useLayoutEffect,hb=I.createContext(typeof HTMLElement<"u"?rb({key:"css"}):null),aB=hb.Provider,fb=function(e){return I.forwardRef(function(n,r){var s=I.useContext(hb);return e(n,s,r)})},a2=I.createContext({}),Dp={exports:{}},rx;function pb(){return rx||(rx=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Dp)),Dp.exports}pb();var lB=fb(function(t,e){var n=t.styles,r=Qv([n],void 0,I.useContext(a2)),s=I.useRef();return nx(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),nx(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&cb(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function mb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qv(e)}var l2=function(){var e=mb.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},cB=mz,uB=function(e){return e!=="theme"},sx=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?cB:uB},ix=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},dB=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return lb(n,r,s),oB(function(){return cb(n,r,s)}),null},hB=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=ix(e,n,r),l=a||sx(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=fb(function(y,_,g){var v=c&&y.as||s,x="",T=[],R=y;if(y.theme==null){R={};for(var w in y)R[w]=y[w];R.theme=I.useContext(a2)}typeof y.className=="string"?x=Zz(_.registered,T,y.className):y.className!=null&&(x=y.className+" ");var S=Qv(d.concat(T),_.registered,R);x+=_.key+"-"+S.name,o!==void 0&&(x+=" "+o);var C=c&&a===void 0?sx(v):l,E={};for(var b in y)c&&b==="as"||C(b)&&(E[b]=y[b]);return E.className=x,E.ref=g,I.createElement(I.Fragment,null,I.createElement(dB,{cache:_,serialized:S,isStringTag:typeof v=="string"}),I.createElement(v,E))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(y,_){return t(y,Y({},n,_,{shouldForwardProp:ix(m,_,!0)})).apply(void 0,d)},m}},fB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fg=hB.bind();fB.forEach(function(t){Fg[t]=Fg(t)});let Vg;typeof document=="object"&&(Vg=rb({key:"css",prepend:!0}));function pB(t){const{injectFirst:e,children:n}=t;return e&&Vg?f.jsx(aB,{value:Vg,children:n}):n}function mB(t){return t==null||Object.keys(t).length===0}function gB(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(mB(s)?n:s):e;return f.jsx(lB,{styles:r})}function yB(t,e){return Fg(t,e)}const vB=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},_B=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:gB,StyledEngineProvider:pB,ThemeContext:a2,css:mb,default:yB,internal_processStyles:vB,keyframes:l2},Symbol.toStringTag,{value:"Module"}));function ei(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gb(t){if(!ei(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=gb(t[n])}),e}function as(t,e,n={clone:!0}){const r=n.clone?Y({},t):t;return ei(t)&&ei(e)&&Object.keys(e).forEach(s=>{ei(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&ei(t[s])?r[s]=as(t[s],e[s],n):n.clone?r[s]=ei(e[s])?gb(e[s]):e[s]:r[s]=e[s]}),r}const wB=Object.freeze(Object.defineProperty({__proto__:null,default:as,isPlainObject:ei},Symbol.toStringTag,{value:"Module"})),xB=["values","unit","step"],EB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Y({},n,{[r.key]:r.val}),{})};function yb(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=Rt(t,xB),i=EB(e),o=Object.keys(i);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Y({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},s)}const CB={borderRadius:4},TB=CB;function Ac(t,e){return e?as(t,e,{clone:!1}):t}const Yv={xs:0,sm:600,md:900,lg:1200,xl:1536},ox={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Yv[t]}px)`};function vr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||ox;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||ox;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||Yv).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function IB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function SB(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function bB(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function c2({values:t,breakpoints:e,base:n}){const r=n||bB(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function Be(t){if(typeof t!="string")throw new Error(vu(7));return t.charAt(0).toUpperCase()+t.slice(1)}const AB=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));function u2(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function C0(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=u2(t,n)||r,e&&(s=e(s,r,t)),s}function ht(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=u2(l,r)||{};return vr(o,a,d=>{let h=C0(c,s,d);return d===h&&typeof d=="string"&&(h=C0(c,s,`${e}${d==="default"?"":Be(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[e],i}function RB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const kB={m:"margin",p:"padding"},NB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ax={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PB=RB(t=>{if(t.length>2)if(ax[t])t=ax[t];else return[t];const[e,n]=t.split(""),r=kB[e],s=NB[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),Xv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Xv,...Jv];function sd(t,e,n,r){var s;const i=(s=u2(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function vb(t){return sd(t,"spacing",8)}function id(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function LB(t,e){return n=>t.reduce((r,s)=>(r[s]=id(e,n),r),{})}function OB(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=PB(n),i=LB(s,r),o=t[n];return vr(t,o,i)}function _b(t,e){const n=vb(t.theme);return Object.keys(t).map(r=>OB(t,e,r,n)).reduce(Ac,{})}function it(t){return _b(t,Xv)}it.propTypes={};it.filterProps=Xv;function ot(t){return _b(t,Jv)}ot.propTypes={};ot.filterProps=Jv;function MB(t=8){if(t.mui)return t;const e=vb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function d2(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Ac(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function ar(t){return typeof t!="number"?t:`${t}px solid`}function wr(t,e){return ht({prop:t,themeKey:"borders",transform:e})}const DB=wr("border",ar),jB=wr("borderTop",ar),$B=wr("borderRight",ar),FB=wr("borderBottom",ar),VB=wr("borderLeft",ar),UB=wr("borderColor"),zB=wr("borderTopColor"),BB=wr("borderRightColor"),WB=wr("borderBottomColor"),HB=wr("borderLeftColor"),qB=wr("outline",ar),GB=wr("outlineColor"),h2=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=sd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:id(e,r)});return vr(t,t.borderRadius,n)}return null};h2.propTypes={};h2.filterProps=["borderRadius"];d2(DB,jB,$B,FB,VB,UB,zB,BB,WB,HB,h2,qB,GB);const f2=t=>{if(t.gap!==void 0&&t.gap!==null){const e=sd(t.theme,"spacing",8),n=r=>({gap:id(e,r)});return vr(t,t.gap,n)}return null};f2.propTypes={};f2.filterProps=["gap"];const p2=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=sd(t.theme,"spacing",8),n=r=>({columnGap:id(e,r)});return vr(t,t.columnGap,n)}return null};p2.propTypes={};p2.filterProps=["columnGap"];const m2=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=sd(t.theme,"spacing",8),n=r=>({rowGap:id(e,r)});return vr(t,t.rowGap,n)}return null};m2.propTypes={};m2.filterProps=["rowGap"];const KB=ht({prop:"gridColumn"}),QB=ht({prop:"gridRow"}),YB=ht({prop:"gridAutoFlow"}),XB=ht({prop:"gridAutoColumns"}),JB=ht({prop:"gridAutoRows"}),ZB=ht({prop:"gridTemplateColumns"}),eW=ht({prop:"gridTemplateRows"}),tW=ht({prop:"gridTemplateAreas"}),nW=ht({prop:"gridArea"});d2(f2,p2,m2,KB,QB,YB,XB,JB,ZB,eW,tW,nW);function $a(t,e){return e==="grey"?e:t}const rW=ht({prop:"color",themeKey:"palette",transform:$a}),sW=ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$a}),iW=ht({prop:"backgroundColor",themeKey:"palette",transform:$a});d2(rW,sW,iW);function Fn(t){return t<=1&&t!==0?`${t*100}%`:t}const oW=ht({prop:"width",transform:Fn}),Zv=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Yv[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Fn(n)}};return vr(t,t.maxWidth,e)}return null};Zv.filterProps=["maxWidth"];const aW=ht({prop:"minWidth",transform:Fn}),lW=ht({prop:"height",transform:Fn}),cW=ht({prop:"maxHeight",transform:Fn}),uW=ht({prop:"minHeight",transform:Fn});ht({prop:"size",cssProperty:"width",transform:Fn});ht({prop:"size",cssProperty:"height",transform:Fn});const dW=ht({prop:"boxSizing"});d2(oW,Zv,aW,lW,cW,uW,dW);const hW={border:{themeKey:"borders",transform:ar},borderTop:{themeKey:"borders",transform:ar},borderRight:{themeKey:"borders",transform:ar},borderBottom:{themeKey:"borders",transform:ar},borderLeft:{themeKey:"borders",transform:ar},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ar},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:h2},color:{themeKey:"palette",transform:$a},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$a},backgroundColor:{themeKey:"palette",transform:$a},p:{style:ot},pt:{style:ot},pr:{style:ot},pb:{style:ot},pl:{style:ot},px:{style:ot},py:{style:ot},padding:{style:ot},paddingTop:{style:ot},paddingRight:{style:ot},paddingBottom:{style:ot},paddingLeft:{style:ot},paddingX:{style:ot},paddingY:{style:ot},paddingInline:{style:ot},paddingInlineStart:{style:ot},paddingInlineEnd:{style:ot},paddingBlock:{style:ot},paddingBlockStart:{style:ot},paddingBlockEnd:{style:ot},m:{style:it},mt:{style:it},mr:{style:it},mb:{style:it},ml:{style:it},mx:{style:it},my:{style:it},margin:{style:it},marginTop:{style:it},marginRight:{style:it},marginBottom:{style:it},marginLeft:{style:it},marginX:{style:it},marginY:{style:it},marginInline:{style:it},marginInlineStart:{style:it},marginInlineEnd:{style:it},marginBlock:{style:it},marginBlockStart:{style:it},marginBlockEnd:{style:it},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:f2},rowGap:{style:m2},columnGap:{style:p2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fn},maxWidth:{style:Zv},minWidth:{transform:Fn},height:{transform:Fn},maxHeight:{transform:Fn},minHeight:{transform:Fn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},od=hW;function fW(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function pW(t,e){return typeof t=="function"?t(e):t}function wb(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=u2(s,c)||{};return d?d(o):vr(o,r,m=>{let y=C0(h,u,m);return m===y&&typeof m=="string"&&(y=C0(h,u,`${n}${m==="default"?"":Be(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:od;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=IB(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=pW(c[p],i);if(m!=null)if(typeof m=="object")if(o[p])h=Ac(h,t(p,m,i,o));else{const y=vr({theme:i},m,_=>({[p]:_}));fW(y,m)?h[p]=e({sx:m,theme:i}):h=Ac(h,y)}else h=Ac(h,t(p,m,i,o))}),SB(d,h)}return Array.isArray(s)?s.map(a):a(s)}return e}const xb=wb();xb.filterProps=["sx"];const e_=xb;function Eb(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const mW=["breakpoints","palette","spacing","shape"];function t_(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=Rt(t,mW),a=yb(n),l=MB(s);let c=as({breakpoints:a,direction:"ltr",components:{},palette:Y({mode:"light"},r),spacing:l,shape:Y({},TB,i)},o);return c.applyStyles=Eb,c=e.reduce((u,d)=>as(u,d),c),c.unstable_sxConfig=Y({},od,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return e_({sx:d,theme:this})},c}const gW=Object.freeze(Object.defineProperty({__proto__:null,default:t_,private_createBreakpoints:yb,unstable_applyStyles:Eb},Symbol.toStringTag,{value:"Module"}));function yW(t){return Object.keys(t).length===0}function vW(t=null){const e=I.useContext(a2);return!e||yW(e)?t:e}const _W=t_();function Cb(t=_W){return vW(t)}const wW=["sx"],xW=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:od;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function n_(t){const{sx:e}=t,n=Rt(t,wW),{systemProps:r,otherProps:s}=xW(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return ei(a)?Y({},r,a):r}:i=Y({},r,e),Y({},s,{sx:i})}const EW=Object.freeze(Object.defineProperty({__proto__:null,default:e_,extendSxProp:n_,unstable_createStyleFunctionSx:wb,unstable_defaultSxConfig:od},Symbol.toStringTag,{value:"Module"})),lx=t=>t,CW=()=>{let t=lx;return{configure(e){t=e},generate(e){return t(e)},reset(){t=lx}}},TW=CW(),IW=TW;function Tb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Tb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Tb(t))&&(r&&(r+=" "),r+=e);return r}const SW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Dr(t,e,n="Mui"){const r=SW[e];return r?`${n}-${r}`:`${IW.generate(t)}-${e}`}function jr(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Dr(t,s,n)}),r}var Ib={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_=Symbol.for("react.element"),s_=Symbol.for("react.portal"),g2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),_2=Symbol.for("react.provider"),w2=Symbol.for("react.context"),bW=Symbol.for("react.server_context"),x2=Symbol.for("react.forward_ref"),E2=Symbol.for("react.suspense"),C2=Symbol.for("react.suspense_list"),T2=Symbol.for("react.memo"),I2=Symbol.for("react.lazy"),AW=Symbol.for("react.offscreen"),Sb;Sb=Symbol.for("react.module.reference");function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case r_:switch(t=t.type,t){case g2:case v2:case y2:case E2:case C2:return t;default:switch(t=t&&t.$$typeof,t){case bW:case w2:case x2:case I2:case T2:case _2:return t;default:return e}}case s_:return e}}}Le.ContextConsumer=w2;Le.ContextProvider=_2;Le.Element=r_;Le.ForwardRef=x2;Le.Fragment=g2;Le.Lazy=I2;Le.Memo=T2;Le.Portal=s_;Le.Profiler=v2;Le.StrictMode=y2;Le.Suspense=E2;Le.SuspenseList=C2;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return xr(t)===w2};Le.isContextProvider=function(t){return xr(t)===_2};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r_};Le.isForwardRef=function(t){return xr(t)===x2};Le.isFragment=function(t){return xr(t)===g2};Le.isLazy=function(t){return xr(t)===I2};Le.isMemo=function(t){return xr(t)===T2};Le.isPortal=function(t){return xr(t)===s_};Le.isProfiler=function(t){return xr(t)===v2};Le.isStrictMode=function(t){return xr(t)===y2};Le.isSuspense=function(t){return xr(t)===E2};Le.isSuspenseList=function(t){return xr(t)===C2};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===g2||t===v2||t===y2||t===E2||t===C2||t===AW||typeof t=="object"&&t!==null&&(t.$$typeof===I2||t.$$typeof===T2||t.$$typeof===_2||t.$$typeof===w2||t.$$typeof===x2||t.$$typeof===Sb||t.getModuleId!==void 0)};Le.typeOf=xr;Ib.exports=Le;var cx=Ib.exports;const RW=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function bb(t){const e=`${t}`.match(RW);return e&&e[1]||""}function Ab(t,e=""){return t.displayName||t.name||bb(t)||e}function ux(t,e,n){const r=Ab(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function kW(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Ab(t,"Component");if(typeof t=="object")switch(t.$$typeof){case cx.ForwardRef:return ux(t,t.render,"ForwardRef");case cx.Memo:return ux(t,t.type,"memo");default:return}}}const NW=Object.freeze(Object.defineProperty({__proto__:null,default:kW,getFunctionName:bb},Symbol.toStringTag,{value:"Module"}));function i_(t,e){const n=Y({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Y({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=Y({},i),Object.keys(s).forEach(o=>{n[r][o]=i_(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function PW(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:i_(e.components[n].defaultProps,r)}function LW({props:t,name:e,defaultTheme:n,themeId:r}){let s=Cb(n);return r&&(s=s[r]||s),PW({theme:s,name:e,props:t})}const OW=typeof window<"u"?I.useLayoutEffect:I.useEffect,MW=OW;function DW(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const jW=Object.freeze(Object.defineProperty({__proto__:null,default:DW},Symbol.toStringTag,{value:"Module"}));function $W(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Fd(t){const e=I.useRef(t);return MW(()=>{e.current=t}),I.useRef((...n)=>(0,e.current)(...n)).current}function dx(...t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{$W(n,e)})},t)}const hx={};function FW(t,e){const n=I.useRef(hx);return n.current===hx&&(n.current=t(e)),n}const VW=[];function UW(t){I.useEffect(t,VW)}class S2{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new S2}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function zW(){const t=FW(S2.create).current;return UW(t.disposeEffect),t}let b2=!0,Ug=!1;const BW=new S2,WW={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function HW(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&WW[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function qW(t){t.metaKey||t.altKey||t.ctrlKey||(b2=!0)}function jp(){b2=!1}function GW(){this.visibilityState==="hidden"&&Ug&&(b2=!0)}function KW(t){t.addEventListener("keydown",qW,!0),t.addEventListener("mousedown",jp,!0),t.addEventListener("pointerdown",jp,!0),t.addEventListener("touchstart",jp,!0),t.addEventListener("visibilitychange",GW,!0)}function QW(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return b2||HW(e)}function YW(){const t=I.useCallback(s=>{s!=null&&KW(s.ownerDocument)},[]),e=I.useRef(!1);function n(){return e.current?(Ug=!0,BW.start(100,()=>{Ug=!1}),e.current=!1,!0):!1}function r(s){return QW(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function ms(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function XW(t,e){return Y({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var ft={},Rb={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Rb);var kb=Rb.exports;const JW=Ai(fz),ZW=Ai(jW);var Nb=kb;Object.defineProperty(ft,"__esModule",{value:!0});var oi=ft.alpha=Mb;ft.blend=hH;ft.colorChannel=void 0;var eH=ft.darken=a_;ft.decomposeColor=_r;ft.emphasize=Db;var tH=ft.getContrastRatio=aH;ft.getLuminance=T0;ft.hexToRgb=Pb;ft.hslToRgb=Ob;var nH=ft.lighten=l_;ft.private_safeAlpha=lH;ft.private_safeColorChannel=void 0;ft.private_safeDarken=cH;ft.private_safeEmphasize=dH;ft.private_safeLighten=uH;ft.recomposeColor=Sl;ft.rgbToHex=oH;var fx=Nb(JW),rH=Nb(ZW);function o_(t,e=0,n=1){return(0,rH.default)(t,e,n)}function Pb(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function sH(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function _r(t){if(t.type)return t;if(t.charAt(0)==="#")return _r(Pb(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,fx.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,fx.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const Lb=t=>{const e=_r(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};ft.colorChannel=Lb;const iH=(t,e)=>{try{return Lb(t)}catch{return t}};ft.private_safeColorChannel=iH;function Sl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function oH(t){if(t.indexOf("#")===0)return t;const{values:e}=_r(t);return`#${e.map((n,r)=>sH(r===3?Math.round(255*n):n)).join("")}`}function Ob(t){t=_r(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Sl({type:a,values:l})}function T0(t){t=_r(t);let e=t.type==="hsl"||t.type==="hsla"?_r(Ob(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function aH(t,e){const n=T0(t),r=T0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Mb(t,e){return t=_r(t),e=o_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Sl(t)}function lH(t,e,n){try{return Mb(t,e)}catch{return t}}function a_(t,e){if(t=_r(t),e=o_(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Sl(t)}function cH(t,e,n){try{return a_(t,e)}catch{return t}}function l_(t,e){if(t=_r(t),e=o_(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Sl(t)}function uH(t,e,n){try{return l_(t,e)}catch{return t}}function Db(t,e=.15){return T0(t)>.5?a_(t,e):l_(t,e)}function dH(t,e,n){try{return Db(t,e)}catch{return t}}function hH(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=_r(t),o=_r(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return Sl({type:"rgb",values:a})}const fH=["mode","contrastThreshold","tonalOffset"],px={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yu.white,default:yu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$p={text:{primary:yu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function mx(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=nH(t.main,s):e==="dark"&&(t.dark=eH(t.main,i)))}function pH(t="light"){return t==="dark"?{main:Jo[200],light:Jo[50],dark:Jo[400]}:{main:Jo[700],light:Jo[400],dark:Jo[800]}}function mH(t="light"){return t==="dark"?{main:Xo[200],light:Xo[50],dark:Xo[400]}:{main:Xo[500],light:Xo[300],dark:Xo[700]}}function gH(t="light"){return t==="dark"?{main:Yo[500],light:Yo[300],dark:Yo[700]}:{main:Yo[700],light:Yo[400],dark:Yo[800]}}function yH(t="light"){return t==="dark"?{main:Zo[400],light:Zo[300],dark:Zo[700]}:{main:Zo[700],light:Zo[500],dark:Zo[900]}}function vH(t="light"){return t==="dark"?{main:ea[400],light:ea[300],dark:ea[700]}:{main:ea[800],light:ea[500],dark:ea[900]}}function _H(t="light"){return t==="dark"?{main:ql[400],light:ql[300],dark:ql[700]}:{main:"#ed6c02",light:ql[500],dark:ql[900]}}function wH(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=Rt(t,fH),i=t.primary||pH(e),o=t.secondary||mH(e),a=t.error||gH(e),l=t.info||yH(e),c=t.success||vH(e),u=t.warning||_H(e);function d(y){return tH(y,$p.text.primary)>=n?$p.text.primary:px.text.primary}const h=({color:y,name:_,mainShade:g=500,lightShade:v=300,darkShade:x=700})=>{if(y=Y({},y),!y.main&&y[g]&&(y.main=y[g]),!y.hasOwnProperty("main"))throw new Error(vu(11,_?` (${_})`:"",g));if(typeof y.main!="string")throw new Error(vu(12,_?` (${_})`:"",JSON.stringify(y.main)));return mx(y,"light",v,r),mx(y,"dark",x,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:$p,light:px};return as(Y({common:Y({},yu),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:hz,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),s)}const xH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function EH(t){return Math.round(t*1e5)/1e5}const gx={textTransform:"uppercase"},yx='"Roboto", "Helvetica", "Arial", sans-serif';function CH(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=yx,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Rt(n,xH),p=s/14,m=d||(g=>`${g/c*p}rem`),y=(g,v,x,T,R)=>Y({fontFamily:r,fontWeight:g,fontSize:m(v),lineHeight:x},r===yx?{letterSpacing:`${EH(T/v)}em`}:{},R,u),_={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,gx),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,gx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return as(Y({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const TH=.2,IH=.14,SH=.12;function Ze(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${TH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${IH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${SH})`].join(",")}const bH=["none",Ze(0,2,1,-1,0,1,1,0,0,1,3,0),Ze(0,3,1,-2,0,2,2,0,0,1,5,0),Ze(0,3,3,-2,0,3,4,0,0,1,8,0),Ze(0,2,4,-1,0,4,5,0,0,1,10,0),Ze(0,3,5,-1,0,5,8,0,0,1,14,0),Ze(0,3,5,-1,0,6,10,0,0,1,18,0),Ze(0,4,5,-2,0,7,10,1,0,2,16,1),Ze(0,5,5,-3,0,8,10,1,0,3,14,2),Ze(0,5,6,-3,0,9,12,1,0,3,16,2),Ze(0,6,6,-3,0,10,14,1,0,4,18,3),Ze(0,6,7,-4,0,11,15,1,0,4,20,3),Ze(0,7,8,-4,0,12,17,2,0,5,22,4),Ze(0,7,8,-4,0,13,19,2,0,5,24,4),Ze(0,7,9,-4,0,14,21,2,0,5,26,4),Ze(0,8,9,-5,0,15,22,2,0,6,28,5),Ze(0,8,10,-5,0,16,24,2,0,6,30,5),Ze(0,8,11,-5,0,17,26,2,0,6,32,5),Ze(0,9,11,-5,0,18,28,2,0,7,34,6),Ze(0,9,12,-6,0,19,29,2,0,7,36,6),Ze(0,10,13,-6,0,20,31,3,0,8,38,7),Ze(0,10,13,-6,0,21,33,3,0,8,40,7),Ze(0,10,14,-6,0,22,35,3,0,8,42,7),Ze(0,11,14,-7,0,23,36,3,0,9,44,8),Ze(0,11,15,-7,0,24,38,3,0,9,46,8)],AH=bH,RH=["duration","easing","delay"],kH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},NH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vx(t){return`${Math.round(t)}ms`}function PH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function LH(t){const e=Y({},kH,t.easing),n=Y({},NH,t.duration);return Y({getAutoHeightDuration:PH,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return Rt(i,RH),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:vx(o)} ${a} ${typeof l=="string"?l:vx(l)}`).join(",")}},t,{easing:e,duration:n})}const OH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},MH=OH,DH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function jH(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=Rt(t,DH);if(t.vars)throw new Error(vu(18));const a=wH(r),l=t_(t);let c=as(l,{mixins:XW(l.breakpoints,n),palette:a,shadows:AH.slice(),typography:CH(a,i),transitions:LH(s),zIndex:Y({},MH)});return c=as(c,o),c=e.reduce((u,d)=>as(u,d),c),c.unstable_sxConfig=Y({},od,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return e_({sx:d,theme:this})},c}const $H=jH(),c_=$H;function FH(){const t=Cb(c_);return t[zv]||t}function $r({props:t,name:e}){return LW({props:t,name:e,defaultTheme:c_,themeId:zv})}var ad={},Fp={exports:{}},_x;function VH(){return _x||(_x=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)>=0)continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Fp)),Fp.exports}const UH=Ai(_B),zH=Ai(wB),BH=Ai(AB),WH=Ai(NW),HH=Ai(gW),qH=Ai(EW);var bl=kb;Object.defineProperty(ad,"__esModule",{value:!0});var GH=ad.default=oq;ad.shouldForwardProp=hh;ad.systemDefaultTheme=void 0;var rr=bl(pb()),zg=bl(VH()),wx=eq(UH),KH=zH;bl(BH);bl(WH);var QH=bl(HH),YH=bl(qH);const XH=["ownerState"],JH=["variants"],ZH=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jb(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(jb=function(r){return r?n:e})(t)}function eq(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=jb(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function tq(t){return Object.keys(t).length===0}function nq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function hh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const rq=ad.systemDefaultTheme=(0,QH.default)(),sq=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Vd({defaultTheme:t,theme:e,themeId:n}){return tq(e)?t:e[n]||e}function iq(t){return t?(e,n)=>n[t]:null}function fh(t,e){let{ownerState:n}=e,r=(0,zg.default)(e,XH);const s=typeof t=="function"?t((0,rr.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>fh(i,(0,rr.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,zg.default)(s,JH);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,rr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,rr.default)({ownerState:n},r,n)):l.style))}),a}return s}function oq(t={}){const{themeId:e,defaultTheme:n=rq,rootShouldForwardProp:r=hh,slotShouldForwardProp:s=hh}=t,i=o=>(0,YH.default)((0,rr.default)({},o,{theme:Vd((0,rr.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,wx.internal_processStyles)(o,R=>R.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=iq(sq(c))}=a,p=(0,zg.default)(a,ZH),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let _,g=hh;c==="Root"||c==="root"?g=r:c?g=s:nq(o)&&(g=void 0);const v=(0,wx.default)(o,(0,rr.default)({shouldForwardProp:g,label:_},p)),x=R=>typeof R=="function"&&R.__emotion_real!==R||(0,KH.isPlainObject)(R)?w=>fh(R,(0,rr.default)({},w,{theme:Vd({theme:w.theme,defaultTheme:n,themeId:e})})):R,T=(R,...w)=>{let S=x(R);const C=w?w.map(x):[];l&&h&&C.push(P=>{const N=Vd((0,rr.default)({},P,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const O=N.components[l].styleOverrides,L={};return Object.entries(O).forEach(([j,k])=>{L[j]=fh(k,(0,rr.default)({},P,{theme:N}))}),h(P,L)}),l&&!m&&C.push(P=>{var N;const O=Vd((0,rr.default)({},P,{defaultTheme:n,themeId:e})),L=O==null||(N=O.components)==null||(N=N[l])==null?void 0:N.variants;return fh({variants:L},(0,rr.default)({},P,{theme:O}))}),y||C.push(i);const E=C.length-w.length;if(Array.isArray(R)&&E>0){const P=new Array(E).fill("");S=[...R,...P],S.raw=[...R.raw,...P]}const b=v(S,...C);return o.muiName&&(b.muiName=o.muiName),b};return v.withConfig&&(T.withConfig=v.withConfig),T}}function aq(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const lq=t=>aq(t)&&t!=="classes",$b=lq,cq=GH({themeId:zv,defaultTheme:c_,rootShouldForwardProp:$b}),Dn=cq,uq=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},xx=uq;function Bg(t,e){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bg(t,e)}function dq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bg(t,e)}const Ex=Yi.createContext(null);function hq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u_(t,e){var n=function(i){return e&&I.isValidElement(i)?e(i):i},r=Object.create(null);return t&&I.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function fq(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function lo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function pq(t,e){return u_(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:lo(n,"appear",t),enter:lo(n,"enter",t),exit:lo(n,"exit",t)})})}function mq(t,e,n){var r=u_(t.children),s=fq(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(I.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=I.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:lo(o,"exit",t),enter:lo(o,"enter",t)}):!l&&a&&!u?s[i]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(c)&&(s[i]=I.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:lo(o,"exit",t),enter:lo(o,"enter",t)}))}}),s}var gq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},yq={component:"div",childFactory:function(e){return e}},d_=function(t){dq(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(hq(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?pq(s,a):mq(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=u_(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=Y({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=Rt(s,["component","childFactory"]),l=this.state.contextValue,c=gq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?Yi.createElement(Ex.Provider,{value:l},c):Yi.createElement(Ex.Provider,{value:l},Yi.createElement(i,a,c))},e}(Yi.Component);d_.propTypes={};d_.defaultProps=yq;const vq=d_;function _q(t){return Dr("MuiPaper",t)}jr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const wq=["className","component","elevation","square","variant"],xq=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ms(i,_q,s)},Eq=Dn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return Y({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&Y({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${oi("#fff",xx(e.elevation))}, ${oi("#fff",xx(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Cq=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=Rt(r,wq),u=Y({},r,{component:i,elevation:o,square:a,variant:l}),d=xq(u);return f.jsx(Eq,Y({as:i,ownerState:u,className:gt(d.root,s),ref:n},c))}),Fb=Cq;function Tq(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=I.useState(!1),h=gt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},m=gt(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),I.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:m})})}const Iq=jr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),sr=Iq,Sq=["center","classes","className"];let A2=t=>t,Cx,Tx,Ix,Sx;const Wg=550,bq=80,Aq=l2(Cx||(Cx=A2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Rq=l2(Tx||(Tx=A2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),kq=l2(Ix||(Ix=A2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Nq=Dn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Pq=Dn(Tq,{name:"MuiTouchRipple",slot:"Ripple"})(Sx||(Sx=A2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),sr.rippleVisible,Aq,Wg,({theme:t})=>t.transitions.easing.easeInOut,sr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,sr.child,sr.childLeaving,Rq,Wg,({theme:t})=>t.transitions.easing.easeInOut,sr.childPulsate,kq,({theme:t})=>t.transitions.easing.easeInOut),Lq=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=Rt(r,Sq),[l,c]=I.useState([]),u=I.useRef(0),d=I.useRef(null);I.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=I.useRef(!1),p=zW(),m=I.useRef(null),y=I.useRef(null),_=I.useCallback(T=>{const{pulsate:R,rippleX:w,rippleY:S,rippleSize:C,cb:E}=T;c(b=>[...b,f.jsx(Pq,{classes:{ripple:gt(i.ripple,sr.ripple),rippleVisible:gt(i.rippleVisible,sr.rippleVisible),ripplePulsate:gt(i.ripplePulsate,sr.ripplePulsate),child:gt(i.child,sr.child),childLeaving:gt(i.childLeaving,sr.childLeaving),childPulsate:gt(i.childPulsate,sr.childPulsate)},timeout:Wg,pulsate:R,rippleX:w,rippleY:S,rippleSize:C},u.current)]),u.current+=1,d.current=E},[i]),g=I.useCallback((T={},R={},w=()=>{})=>{const{pulsate:S=!1,center:C=s||R.pulsate,fakeElement:E=!1}=R;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const b=E?null:y.current,P=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,O,L;if(C||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)N=Math.round(P.width/2),O=Math.round(P.height/2);else{const{clientX:j,clientY:k}=T.touches&&T.touches.length>0?T.touches[0]:T;N=Math.round(j-P.left),O=Math.round(k-P.top)}if(C)L=Math.sqrt((2*P.width**2+P.height**2)/3),L%2===0&&(L+=1);else{const j=Math.max(Math.abs((b?b.clientWidth:0)-N),N)*2+2,k=Math.max(Math.abs((b?b.clientHeight:0)-O),O)*2+2;L=Math.sqrt(j**2+k**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{_({pulsate:S,rippleX:N,rippleY:O,rippleSize:L,cb:w})},p.start(bq,()=>{m.current&&(m.current(),m.current=null)})):_({pulsate:S,rippleX:N,rippleY:O,rippleSize:L,cb:w})},[s,_,p]),v=I.useCallback(()=>{g({},{pulsate:!0})},[g]),x=I.useCallback((T,R)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{x(T,R)});return}m.current=null,c(w=>w.length>0?w.slice(1):w),d.current=R},[p]);return I.useImperativeHandle(n,()=>({pulsate:v,start:g,stop:x}),[v,g,x]),f.jsx(Nq,Y({className:gt(sr.root,i.root,o),ref:y},a,{children:f.jsx(vq,{component:null,exit:!0,children:l})}))}),Oq=Lq;function Mq(t){return Dr("MuiButtonBase",t)}const Dq=jr("MuiButtonBase",["root","disabled","focusVisible"]),jq=Dq,$q=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Fq=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=ms({root:["root",e&&"disabled",n&&"focusVisible"]},Mq,s);return n&&r&&(o.root+=` ${r}`),o},Vq=Dn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${jq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Uq=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:y,onContextMenu:_,onDragLeave:g,onFocus:v,onFocusVisible:x,onKeyDown:T,onKeyUp:R,onMouseDown:w,onMouseLeave:S,onMouseUp:C,onTouchEnd:E,onTouchMove:b,onTouchStart:P,tabIndex:N=0,TouchRippleProps:O,touchRippleRef:L,type:j}=r,k=Rt(r,$q),A=I.useRef(null),D=I.useRef(null),M=dx(D,L),{isFocusVisibleRef:$,onFocus:H,onBlur:U,ref:J}=YW(),[z,F]=I.useState(!1);c&&z&&F(!1),I.useImperativeHandle(s,()=>({focusVisible:()=>{F(!0),A.current.focus()}}),[]);const[te,he]=I.useState(!1);I.useEffect(()=>{he(!0)},[]);const ye=te&&!u&&!c;I.useEffect(()=>{z&&h&&!u&&te&&D.current.pulsate()},[u,h,z,te]);function G(se,Pt,jn=d){return Fd(gn=>(Pt&&Pt(gn),!jn&&D.current&&D.current[se](gn),!0))}const ie=G("start",w),Re=G("stop",_),Fe=G("stop",g),Tn=G("stop",C),In=G("stop",se=>{z&&se.preventDefault(),S&&S(se)}),Ve=G("start",P),kt=G("stop",E),Ue=G("stop",b),De=G("stop",se=>{U(se),$.current===!1&&F(!1),m&&m(se)},!1),Ct=Fd(se=>{A.current||(A.current=se.currentTarget),H(se),$.current===!0&&(F(!0),x&&x(se)),v&&v(se)}),Tt=()=>{const se=A.current;return l&&l!=="button"&&!(se.tagName==="A"&&se.href)},Je=I.useRef(!1),mn=Fd(se=>{h&&!Je.current&&z&&D.current&&se.key===" "&&(Je.current=!0,D.current.stop(se,()=>{D.current.start(se)})),se.target===se.currentTarget&&Tt()&&se.key===" "&&se.preventDefault(),T&&T(se),se.target===se.currentTarget&&Tt()&&se.key==="Enter"&&!c&&(se.preventDefault(),y&&y(se))}),st=Fd(se=>{h&&se.key===" "&&D.current&&z&&!se.defaultPrevented&&(Je.current=!1,D.current.stop(se,()=>{D.current.pulsate(se)})),R&&R(se),y&&se.target===se.currentTarget&&Tt()&&se.key===" "&&!se.defaultPrevented&&y(se)});let Se=l;Se==="button"&&(k.href||k.to)&&(Se=p);const It={};Se==="button"?(It.type=j===void 0?"button":j,It.disabled=c):(!k.href&&!k.to&&(It.role="button"),c&&(It["aria-disabled"]=c));const Fr=dx(n,J,A),Vi=Y({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:z}),Nt=Fq(Vi);return f.jsxs(Vq,Y({as:Se,className:gt(Nt.root,a),ownerState:Vi,onBlur:De,onClick:y,onContextMenu:Re,onFocus:Ct,onKeyDown:mn,onKeyUp:st,onMouseDown:ie,onMouseLeave:In,onMouseUp:Tn,onDragLeave:Fe,onTouchEnd:kt,onTouchMove:Ue,onTouchStart:Ve,ref:Fr,tabIndex:c?-1:N,type:j},It,k,{children:[o,ye?f.jsx(Oq,Y({ref:M,center:i},O)):null]}))}),Vb=Uq;function zq(t){return Dr("MuiIconButton",t)}const Bq=jr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Wq=Bq,Hq=["edge","children","className","color","disabled","disableFocusRipple","size"],qq=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Be(r)}`,s&&`edge${Be(s)}`,`size${Be(i)}`]};return ms(o,zq,e)},Gq=Dn(Vb,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Be(n.color)}`],n.edge&&e[`edge${Be(n.edge)}`],e[`size${Be(n.size)}`]]}})(({theme:t,ownerState:e})=>Y({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:oi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return Y({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Y({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Y({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:oi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Wq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Kq=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Rt(r,Hq),h=Y({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=qq(h);return f.jsx(Gq,Y({className:gt(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:i}))}),h_=Kq;function Qq(t){return Dr("MuiTypography",t)}jr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Yq=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Xq=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${Be(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return ms(a,Qq,o)},Jq=Dn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Be(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>Y({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),bx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Zq={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},eG=t=>Zq[t]||t,tG=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiTypography"}),s=eG(r.color),i=n_(Y({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=bx}=i,m=Rt(i,Yq),y=Y({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),_=l||(d?"p":p[h]||bx[h])||"span",g=Xq(y);return f.jsx(Jq,Y({as:_,ref:n,ownerState:y,className:gt(g.root,a)},m))}),Ub=tG;function nG(t){return Dr("MuiAppBar",t)}jr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const rG=["className","color","enableColorOnDark","position"],sG=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${Be(e)}`,`position${Be(n)}`]};return ms(s,nG,r)},Ud=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,iG=Dn(Fb,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Be(n.position)}`],e[`color${Be(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return Y({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&Y({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&Y({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&Y({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Ud(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Ud(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Ud(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Ud(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),oG=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=Rt(r,rG),c=Y({},r,{color:i,position:a,enableColorOnDark:o}),u=sG(c);return f.jsx(iG,Y({square:!0,component:"header",ownerState:c,elevation:4,className:gt(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),aG=oG;function lG(t){return Dr("MuiButton",t)}const cG=jr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),zd=cG,uG=I.createContext({}),dG=uG,hG=I.createContext(void 0),fG=hG,pG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],mG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${Be(e)}`,`size${Be(s)}`,`${i}Size${Be(s)}`,`color${Be(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Be(s)}`],endIcon:["icon","endIcon",`iconSize${Be(s)}`]},l=ms(a,lG,o);return Y({},o,l)},zb=t=>Y({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),gG=Dn(Vb,{shouldForwardProp:t=>$b(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Be(n.color)}`],e[`size${Be(n.size)}`],e[`${n.variant}Size${Be(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return Y({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":Y({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:oi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:oi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:oi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":Y({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${zd.focusVisible}`]:Y({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${zd.disabled}`]:Y({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${oi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${zd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${zd.disabled}`]:{boxShadow:"none"}}),yG=Dn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Be(n.size)}`]]}})(({ownerState:t})=>Y({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},zb(t))),vG=Dn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Be(n.size)}`]]}})(({ownerState:t})=>Y({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},zb(t))),_G=I.forwardRef(function(e,n){const r=I.useContext(dG),s=I.useContext(fG),i=i_(r,e),o=$r({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:_=!1,size:g="medium",startIcon:v,type:x,variant:T="text"}=o,R=Rt(o,pG),w=Y({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:_,size:g,type:x,variant:T}),S=mG(w),C=v&&f.jsx(yG,{className:S.startIcon,ownerState:w,children:v}),E=m&&f.jsx(vG,{className:S.endIcon,ownerState:w,children:m}),b=s||"";return f.jsxs(gG,Y({ownerState:w,className:gt(r.className,S.root,u,b),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:gt(S.focusVisible,y),ref:n,type:x},R,{classes:S,children:[C,a,E]}))}),I0=_G;function wG(t){return Dr("MuiCard",t)}jr("MuiCard",["root"]);const xG=["className","raised"],EG=t=>{const{classes:e}=t;return ms({root:["root"]},wG,e)},CG=Dn(Fb,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),TG=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,o=Rt(r,xG),a=Y({},r,{raised:i}),l=EG(a);return f.jsx(CG,Y({className:gt(l.root,s),elevation:i?8:void 0,ref:n,ownerState:a},o))}),Ax=TG;function IG(t){return Dr("MuiCardActions",t)}jr("MuiCardActions",["root","spacing"]);const SG=["disableSpacing","className"],bG=t=>{const{classes:e,disableSpacing:n}=t;return ms({root:["root",!n&&"spacing"]},IG,e)},AG=Dn("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>Y({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),RG=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,o=Rt(r,SG),a=Y({},r,{disableSpacing:s}),l=bG(a);return f.jsx(AG,Y({className:gt(l.root,i),ownerState:a,ref:n},o))}),kG=RG,NG=I.createContext(),Rx=NG;function PG(t){return Dr("MuiGrid",t)}const LG=[0,1,2,3,4,5,6,7,8,9,10],OG=["column-reverse","column","row-reverse","row"],MG=["nowrap","wrap-reverse","wrap"],Kl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Eu=jr("MuiGrid",["root","container","item","zeroMinWidth",...LG.map(t=>`spacing-xs-${t}`),...OG.map(t=>`direction-xs-${t}`),...MG.map(t=>`wrap-xs-${t}`),...Kl.map(t=>`grid-xs-${t}`),...Kl.map(t=>`grid-sm-${t}`),...Kl.map(t=>`grid-md-${t}`),...Kl.map(t=>`grid-lg-${t}`),...Kl.map(t=>`grid-xl-${t}`)]),DG=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Fa(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function jG({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=c2({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${Fa(u)})`;c={flexBasis:d,maxWidth:d}}}i=Y({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function $G({theme:t,ownerState:e}){const n=c2({values:e.direction,breakpoints:t.breakpoints.values});return vr({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Eu.item}`]={maxWidth:"none"}),s})}function Bb({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function FG({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=c2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=Bb({breakpoints:t.breakpoints.values,values:i})),s=vr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Fa(u)}`,[`& > .${Eu.item}`]:{paddingTop:Fa(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Eu.item}`]:{paddingTop:0}}})}return s}function VG({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=c2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=Bb({breakpoints:t.breakpoints.values,values:i})),s=vr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Fa(u)})`,marginLeft:`-${Fa(u)}`,[`& > .${Eu.item}`]:{paddingLeft:Fa(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Eu.item}`]:{paddingLeft:0}}})}return s}function UG(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const zG=Dn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=UG(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>Y({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),$G,FG,VG,jG);function BG(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const WG=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=BG(i,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return ms(d,PG,e)},HG=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiGrid"}),{breakpoints:s}=FH(),i=n_(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:m=0,wrap:y="wrap",zeroMinWidth:_=!1}=i,g=Rt(i,DG),v=p||m,x=l||m,T=I.useContext(Rx),R=u?a||12:T,w={},S=Y({},g);s.keys.forEach(b=>{g[b]!=null&&(w[b]=g[b],delete S[b])});const C=Y({},i,{columns:R,container:u,direction:d,item:h,rowSpacing:v,columnSpacing:x,wrap:y,zeroMinWidth:_,spacing:m},w,{breakpoints:s.keys}),E=WG(C);return f.jsx(Rx.Provider,{value:R,children:f.jsx(zG,Y({ownerState:C,className:gt(E.root,o),as:c,ref:n},S))})}),Vp=HG;function qG(t){return Dr("MuiToolbar",t)}jr("MuiToolbar",["root","gutters","regular","dense"]);const GG=["className","component","disableGutters","variant"],KG=t=>{const{classes:e,disableGutters:n,variant:r}=t;return ms({root:["root",!n&&"gutters",r]},qG,e)},QG=Dn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>Y({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),YG=I.forwardRef(function(e,n){const r=$r({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=Rt(r,GG),c=Y({},r,{component:i,disableGutters:o,variant:a}),u=KG(c);return f.jsx(QG,Y({as:i,className:gt(u.root,s),ref:n,ownerState:c},l))}),XG=YG,JG=({data:t})=>{const{isMenuOpen:e,setIsMenuOpen:n,homeActive:r,historyActive:s,helpActive:i,notificationActive:o,chatroomActive:a,adminActive:l}=t,c=I.useRef(null),{theme:u,userData:d}=I.useContext(ee),h=[{text:"Home",image:"home",path:"/app/posts",active:r,clickFn:()=>n(!1)},{text:"History",image:"history",path:"/app/history",active:s,clickFn:()=>n(!1)},{text:"Help",image:"help",path:"/app/help",active:i,clickFn:()=>n(!1)},{text:"Notifications",image:"notification",path:"/app/notifications",color:"bg-red-600",active:o,clickFn:()=>n(!1)},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:a,clickFn:()=>n(!1)},{text:"Admin",image:"admin",path:"/app/admin",active:l,clickFn:()=>n(!1)}],p=["Admin","Notifications"],m=h.filter(y=>d.isAdmin?!0:!p.includes(y.text));return Do(c,n),f.jsx("div",{className:"z-30 transition-all duration-300 fixed right-0 left-0  top-0 bottom-0 bg-black/40",children:f.jsxs("div",{ref:c,className:`flex flex-col backdrop-blur-sm  justify-between transition-all duration-300 h-full bg-slate-50 w-5/6 sm:w-3/5 md:w-3/6 lg:w-2/6 shadow-lg shadow-black ${u==="light"?"bg-white/60 text-black":" bg-slate-500/60 text-white"}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:"flex p-3 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(h_,{onClick:()=>n(!1),children:f.jsx("img",{className:"w-8",src:de("close")})}),f.jsx(Ub,{sx:{fontWeight:"500"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsx("div",{className:"mr-2",children:m.map(y=>f.jsx(ZG,{data:{active:y.active,image:y.image,path:y.path,text:y.text,items:y==null?void 0:y.items,clickFn:y.clickFn,color:y.color}},y.text))})]}),f.jsx(rz,{data:{setIsMenuOpen:n}})]})})},ZG=({data:t})=>{const{active:e,image:n,text:r,items:s,path:i,clickFn:o,color:a}=t,l=tr(),{theme:c,currentTest:u}=I.useContext(ee),d=()=>{o&&o()};return f.jsxs("button",{onClick:()=>{l(i),d()},className:`p-2 pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex relative items-center gap-x-1 w-full  hover:shadow-md 
      ${c==="light"?` ${e?"bg-blue-500/70":"hover:bg-slate-200/70"}`:` ${e?"bg-blue-500/70":"hover:bg-slate-500/70"}`}
      `,children:[f.jsx("img",{className:`h-9 w-9 p-1 transition-all
        `,src:de(n)}),f.jsx("div",{children:r}),s>=0&&f.jsx("div",{className:` flex items-center rounded-full justify-center w-6 h-6 text-sm  top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}),u&&r==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",ps(u.name,45),")"]})]})},Wb=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")};return f.jsxs("div",{className:`flex items-center gap-x-2 ${t==="light"?"":"text-white"} `,children:[f.jsx("div",{children:"Theme"}),f.jsx(h_,{onClick:n,children:f.jsx("img",{className:"w-6",src:de(t==="light"?"light":"dark")})})]})},eK=()=>{const{headerTitle:t,theme:e,setTheme:n,isLogin:r,setHeaderTitle:s}=I.useContext(ee),[i,o]=I.useState(!1),a=dl(),l=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],c=["/app/posts","/app/tests"],u=a.pathname.includes("/app/history"),d=l.includes(a.pathname),h=c.includes(a.pathname),p=a.pathname==="/app/help",m=a.pathname==="/app/settings",y=a.pathname==="/login",_=a.pathname==="/app/notifications",g=a.pathname==="/app/chatroom";if(u)s("History");else if(p)s("Help");else if(d)switch(a.pathname){case"/app/admin":s("Admin");break;case"/app/admin/posts":s("Admin - Posts");break;case"/app/admin/users":s("Admin - Users");break;case"/app/admin/tests":s("Admin - Tests");break;case"/app/admin/help":s("Admin - Help");break}else m?s("Settings"):(y||h)&&s("STAR EDUCATION ACADEMY");return I.useEffect(()=>{Yn(i?"hidden":"auto")},[i]),f.jsx(aG,{position:"relative",children:f.jsx(XG,{color:"secondary",sx:{padding:"5px"},children:f.jsxs(Vp,{container:!0,justifyContent:"space-between",children:[f.jsxs(Vp,{item:!0,display:"flex",alignItems:"center",children:[r&&f.jsxs(f.Fragment,{children:[f.jsx(h_,{onClick:()=>o(!0),children:f.jsx("img",{className:"w-8",src:de("menu")})}),i&&f.jsx(JG,{data:{homeActive:h,historyActive:u,helpActive:p,notificationActive:_,chatroomActive:g,adminActive:d,isMenuOpen:i,setIsMenuOpen:o}})]}),f.jsx(Ub,{sx:{fontWeight:"500"},children:t})]}),f.jsx(Vp,{item:!0,children:f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(Wb,{setTheme:n,theme:e})}),f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})]})})]})})})},_a=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),tK=()=>{var y;const{theme:t,userData:e}=I.useContext(ee),n=0,r=10,[s,i]=I.useState(r),[o,a]=I.useState(!1),[l,c]=I.useState({}),u=(y=l==null?void 0:l.results)==null?void 0:y.slice(n,s),d=`${l==null?void 0:l.testName} - Review your answers`,{resultId:h}=U1(),p=()=>{try{const _=Jt(Ee(Ae,"users",e.uid),"history"),g=Ee(_,h);return us(g,x=>{const T={id:x.id,...x.data()};c(T)})}catch(_){console.log(_.message)}};I.useEffect(()=>{const _=p();return()=>{_()}},[h]),I.useEffect(()=>(Hn(),Hn()),[]);const m=()=>{i(s+r)};return I.useEffect(()=>{var _;s>=((_=l==null?void 0:l.results)==null?void 0:_.length)&&a(!0)},[s]),document.title=d,f.jsxs("div",{className:"p-5",children:[f.jsx(Mr,{}),l?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:d}),u==null?void 0:u.map(_=>{const{id:g,question:v,isTrue:x,answer:T,userAnswer:R}=_;return x?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:v})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:de("trueIcon")}),f.jsx("div",{children:T})]})]})}),f.jsx(_a,{})]},`result-${g}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:v})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:de("falseIcon")}),f.jsx("div",{children:R})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:de("trueIcon")}),f.jsx("div",{children:T})]})]})]}),f.jsx(_a,{})]},`result-${g}`)}),o?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(Me,{data:{image:"down",text:"See More",clickFn:m}})}),f.jsx("div",{children:f.jsx(sC,{to:`/app/history/${h}`,children:f.jsx(Me,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(Gf,{text:"Unavailable"})]})},nK=()=>{const{deleteFromHistory:t,theme:e,history:n,setHistory:r,userData:s}=I.useContext(ee),i=tr(),[o,a]=I.useState(null),[l,c]=I.useState(!1),[u,d]=I.useState(!1),[h,p]=I.useState(!1),[m,y]=I.useState([]),_=()=>{try{const w=Jt(Ee(Ae,"users",s.uid),"history");return us(w,C=>{const E=C.docs.map(b=>({id:b.id,...b.data()}));E.length!==0&&r(E)})}catch(w){return console.log(w.message),()=>{}}};I.useEffect(()=>{Hn();const w=_();return()=>{Hn(),w()}},[]);const g=w=>{h||i(`/app/history/${w.id}`)},v=()=>{t(o),a(null),c(!1)},x=()=>{c(!1),a(null)},T=(w,S)=>{w.target.checked?y([...m,S]):y(m.filter(C=>C!==S))},R=()=>{const w=n.filter(S=>!m.includes(S.id));r(w),y([]),d(!1),p(!1)};return f.jsxs("div",{className:"p-5",children:[f.jsx(Mr,{}),u&&f.jsx(Eo,{data:{text:`Are you sure to delete ${m.length} ${m.length<=1?"item":"items"} ?`,yesButton:R,noButton:()=>d(!1),setValue:d}}),l&&f.jsx(Eo,{data:{text:"Are you sure to delete ?",yesButton:v,noButton:x,setValue:c}}),n.length!==0?f.jsxs("div",{className:"grid gap-y-2  ",children:[f.jsxs("div",{className:"flex items-center gap-x-2 justify-between",children:[f.jsx(Me,{data:{clickFn:()=>{p(!h),y([])},text:h?"Done":"Select"}}),h&&f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsxs("div",{className:"font-medium rounded-lg",children:[m.length," ",m.length<=1?"item":"items"," selected"]}),f.jsx(je,{data:{clickFn:()=>{m.length&&d(!0)},image:"trash"}})]})]}),n.map((w,S)=>f.jsxs("div",{className:`min-h-20 border rounded-md gap-x-3 ${e==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium border-b p-2 rounded-tl-md rounded-tr-md ${e==="light"?"bg-slate-100 border-b-slate-200":"bg-slate-500/70 border-b-slate-400"}`,children:w.testName}),f.jsxs("div",{className:"p-2 flex items-center gap-x-2",children:[h&&f.jsx("input",{checked:m.includes(w.id),onChange:C=>T(C,w.id),className:"form-checkbox rounded-lg border-2 w-6 h-6 border-gray-200 checked:bg-transparent ",type:"checkbox"}),f.jsx("div",{onClick:()=>g(w),className:"flex flex-1 items-center gap-x-3 cursor-pointer",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",w.score," / ",w.results.length," "]}),f.jsxs("div",{className:"",children:["Message: ",ps(w.level,15)]}),f.jsxs("div",{className:" ",children:["Date: ",w.date," (",` ${w.time}`,")"]}),f.jsxs("div",{className:"",children:["Time taken: ",G4(w.timeTaken)||"Unknown"]})]})}),!1]})]},`shadow-md history-item-${w.id}`)),f.jsx(sC,{to:"/posts",children:f.jsx(Me,{data:{image:"redo",text:"Return Home"}})})]}):f.jsx(Gf,{text:"No items"})]})},rK=()=>{const[t,e]=I.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return I.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},sK=()=>{const{users:t,theme:e}=I.useContext(ee),n=tr(),r=[{name:"Posts",image:"home",path:"/app/admin/posts"},{name:"Tests",image:"exam",path:"/app/admin/tests"},{name:"Users",image:"user",path:"/app/admin/users"}];return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx(Mr,{}),r.map(s=>f.jsxs("button",{onClick:()=>{n(s.path)},className:`transition-all flex items-center gap-x-2 border  p-2 rounded-lg hover:shadow-md  hover:font-bold min-h-[70px] ${e==="light"?"border-gray-200 hover:bg-slate-100 hover:shadow-gray-500 ":"border-slate-500/70 hover:bg-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de(s.image)}),f.jsx("div",{children:s.name})]},s.name))]})},iK=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ho(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=`${iK[h]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${l}m  ${m}`;if(a>0)return`${a}w  ${m}`;if(o>0)return`${o}d`;if(i>0)return`${i}h`;if(s>0)return`${s}min`;if(r>0)return`${r}s`}const R2=({options:t,left:e="-left-[102px]"})=>{const[n,r]=I.useState(!1),s=I.useRef(null),{theme:i}=I.useContext(ee);Do(s,r);const o=()=>{r(!n)};return f.jsxs("button",{className:`relative rounded-full p-1 ${i==="light"?"bg-slate-100":"bg-slate-500/70"}`,onClick:o,ref:s,children:[f.jsx("img",{className:"w-6",src:de("moreOption")}),n&&f.jsx("div",{className:`border p-1 rounded-md  grid absolute ${e} bottom-0 w-[100px] ${i==="light"?"border-gray-200 bg-white":"border-gray-500/70 bg-slate-500"}`,children:t.map(a=>{if(a)return f.jsxs("button",{onClick:a.onClick,className:`flex rounded-md items-center gap-x-1 b  p-2 ${i==="light"?"hover:bg-slate-100":"hover:bg-slate-600"}`,children:[f.jsx("img",{className:"w-6",src:de(a.icon)}),f.jsx("p",{children:a.text})]},a.text)})})]})},oK=["January","February","March","April","May","June","July","August","September","October","November","December"],aK=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Lo(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=aK[u.getDay()],y=oK[h],_=`${y} ${p}, ${d}`,g=u.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(c>0)return`${g}  ${_}`;if(l>0)return`${g}  ${y} ${p}`;if(a>0)return`${m}, ${g}  ${y} ${p}`;if(o>0)return`${m}, ${g}`;if(i>0)return g;if(s>0)return g;if(r>0)return g}function $s(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}function Jn(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Hb=({post:t,collectionName:e})=>{const{id:n}=t,[r,s]=I.useState([]),[i,o]=I.useState([]),{users:a,theme:l}=I.useContext(ee),[c,u]=I.useState(!1),[d,h]=I.useState(!1),p=e==="posts",m=Jt(Ee(Ae,e,n),"comments"),y=Jt(Ee(Ae,e,n),"likes"),_=()=>us(y,S=>{const C=S.docs.map(E=>({id:E.id,...E.data()})).sort((E,b)=>$s(E,b,"timestamp","newer"));s(C)}),g=()=>us(m,S=>{const C=S.docs.map(E=>({id:E.id,...E.data()})).sort((E,b)=>$s(E,b,"timestamp"));o(C)});I.useEffect(()=>{const w=_(),S=g();return()=>{w(),S()}},[]);const v=()=>{let w=!1;return r.forEach(S=>{var C;S.uid===((C=re==null?void 0:re.currentUser)==null?void 0:C.uid)&&(w=!0)}),w},x=async()=>{try{const w=Ee(y,re.currentUser.uid),S=v(),C={uid:re.currentUser.uid,timestamp:zn()};S?await Gu(w):(await UI(w,C),Uv(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(w){console.log(w.message)}},T=v(),R=()=>{var S;return fs(a,(S=r[0])==null?void 0:S.uid)||null};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between",children:[f.jsx("button",{onClick:()=>{u(!c),h(!1)},className:`transition-all ${l==="light"?`${c?"bg-slate-200":"hover:bg-slate-200"}`:`${c?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:R()?f.jsx("span",{children:r.length===1?R().name:`${R().name} and ${r.length-1} others`}):f.jsxs("span",{children:[r.length," ",r.length>1?"likes":"like"]})}),f.jsxs("button",{onClick:()=>{h(!d),u(!1)},className:`transition-all ${l==="light"?`${d?"bg-slate-200":"hover:bg-slate-200"}`:`${d?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[i.length," ",i.length>1?"comments":"comment"]})]}),f.jsxs("div",{className:`border-t pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(I0,{variant:T?"outlined":"",color:l!=="light"?"warning":"",onClick:x,startIcon:f.jsx("img",{className:"w-6",src:de(T?"liked":"like")}),children:T?"Liked":"Like"}),f.jsx(I0,{color:l!=="light"?"warning":"",onClick:()=>{h(!d),u(!1)},startIcon:f.jsx("img",{className:"w-6",src:de("comment")}),children:"Comment"})]}),c&&f.jsx(lK,{likes:r,users:a}),d&&f.jsx(cK,{isPost:p,post:t,id:n,comments:i,collectionName:e})]})},lK=({likes:t})=>{const{users:e}=I.useContext(ee);return f.jsx("div",{className:"mt-2 grid gap-y-2",children:t.map(n=>{const r=fs(e,n.uid);return f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(Us,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{children:r==null?void 0:r.name})]},`user-${r==null?void 0:r.uid}`)})})},cK=({post:t,isPost:e,comments:n,id:r,collectionName:s})=>{const[i,o]=I.useState(""),{users:a,theme:l,userData:c}=I.useContext(ee),u=Jt(Ee(Ae,s,r),"comments"),[d,h]=I.useState(null),p=async()=>{if(i.trim()){const _={uid:re.currentUser.uid,text:i.trim(),timestamp:zn()};await wl(u,_),o(""),Uv(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,i.trim())}},m=async()=>{const _=Ee(u,d);if(i.trim()){const g={text:i.trim(),editedTime:zn()};await qn(_,g),o(""),h(null)}},y=async _=>{const g=Ee(u,_);try{await Gu(g)}catch(v){console.log(v.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"grid gap-y-2",children:n.map(_=>{var T;const g=fs(a,_.uid);console.log(g);const v=_.uid===((T=re==null?void 0:re.currentUser)==null?void 0:T.uid),x=v&&{text:"Edit",icon:"editPencil",onClick:()=>{h(_.id),o(_.text)}};return f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Us,{image:g==null?void 0:g.image,name:g==null?void 0:g.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2  rounded-lg ${l==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:g==null?void 0:g.name}),f.jsx("div",{children:_.text})]}),f.jsx("div",{className:`text-sm mt-1 ${l==="light"?"text-gray-600":"text-white"}`,children:_!=null&&_.editedTime?f.jsxs("span",{children:["edited ",Lo(Jn(_.editedTime))]}):f.jsx("span",{children:Lo(Jn(_.timestamp))})})]})]}),v||c!=null&&c.isAdmin?f.jsx(R2,{options:[x,{text:"Delete",icon:"deleteIcon",onClick:()=>y(_.id)}]}):""]},`${_.uid}-${_.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:_=>o(_.target.value),value:i,className:`h-10 flex-1 rounded-lg pl-2 border ${l==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[d&&f.jsx(Me,{data:{image:"falseIcon",clickFn:()=>{h(null),o("")}}}),f.jsx(Me,{data:{clickFn:()=>{i.trim()&&(d?m():p())},image:"send"}})]})]})]})},uK=({t,takeTest:e})=>{const{users:n,theme:r}=I.useContext(ee),s=fs(n,t.uid);return f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-md  rounded-md bg-gradient-to-tr ${r==="light"?"border-blue-200 shadow-gray-200":"border-blue-200 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:s.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:s.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500 ":"text-white"}`,children:Ho(Jn(t.time))})]}),f.jsxs("span",{className:`rounded-md flex items-center p-1 ${r==="light"?"bg-slate-100 ":"bg-slate-500/70 "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&f.jsx("div",{className:"m-2 min-h-32",children:f.jsx("img",{className:"w-full",src:`images/tests/${t.image}`})}),f.jsxs("div",{className:`rounded-bl-lg rounded-br-lg border-t  p-2 pb-5 ${r==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:t.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),f.jsx(I0,{onClick:()=>e(t),children:"Take the test"}),f.jsx(Hb,{post:t,collectionName:"tests"})]})]})},kx=({text:t})=>{const{theme:e}=I.useContext(ee);return f.jsx("div",{className:"h-[300px] flex flex-col justify-center items-center",children:f.jsx("p",{className:`text-center ${e==="light"?"":"text-white"}`,children:t})})},dK=()=>{const{setCurrentTest:t,startTimer:e,users:n,theme:r,isLogin:s,posts:i,setPosts:o,tests:a,setTests:l}=I.useContext(ee),{page:c}=U1(),u=dl(),d=tr(),h=u.pathname==="/app/posts",p=u.pathname==="/app/tests";I.useState(!0),I.useState(!0);const m=[{name:"Posts",active:h,image:"home",path:"/app/posts"},{name:"Tests",active:p,image:"exam",path:"/app/tests"}];ol("posts",o,s),ol("tests",l,s);const y=g=>{scrollTo({top:0}),t(g),e()},_=()=>{switch(c){case"posts":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:i.length===0?f.jsx(kx,{text:"No posts"}):i.sort((g,v)=>$s(g,v,"time","newer")).map(g=>{var x,T;const v=fs(n,g.uid);if(!g.draft)return f.jsxs(Ax,{sx:{width:"full",padding:"8px",backgroundColor:r!=="light"?"#64748b":"",color:r!=="light"?"white":""},children:[f.jsxs("div",{className:"top-section flex gap-x-2 mb-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:v.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:v.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500":"text-white"}`,children:Ho(Jn(g.time))})]})]}),(g==null?void 0:g.description)&&f.jsx("p",{className:"mb-2 break-words whitespace-pre-wrap",children:g.description}),g.images.length!==0&&f.jsx("div",{className:"image grid gap-y-2",children:f.jsx(hK,{data:{post:g}})}),g.files&&((x=g==null?void 0:g.files)==null?void 0:x.length)!==0&&f.jsx(fK,{files:g.files}),(g==null?void 0:g.links)&&((T=g==null?void 0:g.links)==null?void 0:T.length)!==0&&f.jsx(pK,{links:g.links}),f.jsx(Hb,{post:g,collectionName:"posts"})]},`post-${g.id}`)})});case"tests":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:a.length===0?f.jsx(kx,{text:"No tests"}):a.sort((g,v)=>$s(g,v,"timestamp","newer")).map(g=>{if(g.isUploaded)return f.jsx(uK,{t:g,takeTest:y},`tests-${g.id}-${g.name}`)})})}};return f.jsxs("div",{children:[f.jsx(Mr,{}),f.jsxs("div",{className:"grid p-5",children:[f.jsx("div",{className:"flex mb-2 -mt-5 justify-center",children:f.jsx(Ax,{justify:"center",children:f.jsx(kG,{children:m.map(g=>f.jsx(I0,{color:"primary",onClick:()=>d(g.path),variant:g.active?"contained":"",startIcon:f.jsx("img",{className:"w-6",src:de(g.image)}),children:g.name}))})})}),_()]})]})},hK=({data:t})=>{const{post:e}=t,n=0,[r,s]=I.useState(4),[i,o]=I.useState(!0),a=e.images.slice(n,r),l=e.images.length-4,c=()=>{o(!1),s(e.images.length)};return a.map((u,d)=>f.jsxs("div",{className:"relative ",children:[f.jsx("img",{className:"w-full shadow-md min-h-48",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&i&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-8xl text-white",children:["+",l]})}):""]},`post-${e.id}-image-${u.imageURL}`))},fK=({files:t})=>{const{theme:e}=I.useContext(ee);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.fileURL,download:n.name,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:n.name}),(n==null?void 0:n.size)&&f.jsxs("p",{children:[(n.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${r}-${n.fileURL}`))})},pK=({links:t})=>{const{theme:e}=I.useContext(ee);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.link,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex ga-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:n.title})})]})},`${r}-${n.link}`))})},mK=()=>{const e=new Date().getFullYear(),{theme:n}=I.useContext(ee);return f.jsxs("footer",{className:`w-full flex flex-col items-center p-1 bg-slate-50 border-t  mt-auto ${n==="light"?"border-t-gray-100":"bg-slate-600 text-white border-t-slate-500"}`,children:[f.jsxs("div",{children:["SEA copyright 2015 - ",e]}),f.jsx("div",{children:"All rights reserved."}),f.jsx("div",{children:"Author: Than Aung Naing"})]})},S0=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),gK=({data:t})=>{const{isLogin:e,refreshUserData:n,setHeaderTitle:r,theme:s}=I.useContext(ee),[i,o]=I.useState(""),[a,l]=I.useState(""),[c,u]=I.useState(""),[d,h]=I.useState(null),[p,m]=I.useState("login"),y=tr();let _;document.title="Login",I.useEffect(()=>{e&&y("/"),r("STAR EDUCATION ACADEMY")},[]),Yn("auto");const g=async(w,S,C,E)=>{try{const b=Ee(Ae,"users",re.currentUser.uid),P=await VI(b),N={name:w,email:S,password:C,image:E,isAdmin:!1,createdAt:zn()};P.exists()||await UI(b,N),n()}catch(b){console.log(b.message)}},v=async()=>{try{await oj(re,JU),g(re.currentUser.displayName,re.currentUser.email,"",re.currentUser.photoURL)}catch(w){clearTimeout(_),h(w.message),_=setTimeout(()=>{h(null)},3e3)}},x=async()=>{try{await MD(re,a,c)}catch(w){clearTimeout(_),h(w.message),_=setTimeout(()=>{h(null)},3e3)}},T=async()=>{try{await OD(re,a,c),g(i,a,c,null)}catch(w){clearTimeout(_),h(w.message),_=setTimeout(()=>{h(null)},3e3)}},R=()=>{switch(p){case"login":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":"text-white bg-slate-500/70 border-slate-500/70"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Log in"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(Ql,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(Ql,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(S0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:x,className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Log in"})]}),f.jsx(Nx,{}),f.jsx("div",{children:f.jsx(Me,{data:{clickFn:v,image:"google",text:"Sign in with Google"}})}),f.jsx(Nx,{}),f.jsx("div",{children:f.jsx(Me,{data:{clickFn:()=>m("signup"),text:"Create new Account"}})})]})]});case"signup":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Create new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(Ql,{data:{type:"text",value:i,setValue:o,placeholder:"Enter your name"}}),f.jsx(Ql,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(Ql,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(S0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:()=>{i.trim()&&T()},className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Sign up"}),f.jsx("div",{children:f.jsx(Me,{data:{clickFn:()=>m("login"),text:"Back",image:"back"}})})]})]})]})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(Mr,{}),R()]})},Ql=({data:t})=>{const{value:e,setValue:n,placeholder:r,type:s}=t,{theme:i}=I.useContext(ee);return f.jsx("input",{type:s,value:e,onChange:o=>n(o.target.value),className:`h-10  pl-1 border rounded-lg   ${i==="light"?"border-gray-200 focus:outline-blue-500":"bg-slate-500/70 outline-none border-slate-500/70 text-white"}`,placeholder:r})},Nx=()=>{const{theme:t}=I.useContext(ee);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})};function yK(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function qb(t,e){return new Promise(function(n,r){let s;return vK(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const vK=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=i.getUint32(c+4,u),h=c+d+2+12*i.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var b0={},_K={get exports(){return b0},set exports(t){b0=t}};(function(t){var e,n,r={};_K.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var _=a(u,l+=4),g=o(u,l+=4),v=o(u,l+2),x=o(u,l+4);l+=6;var T=a(u,l+=8);l+=4,l+=g+v+x,r._readLocal(u,T,c,p,_,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var p=u(s,i+=8),m=u(s,i+=2);i+=2;var y=r.bin.readUTF8(s,i,p);if(i+=p,i+=m,c)o[y]={size:l,csize:a};else{var _=new Uint8Array(s.buffer,i);if(h==0)o[y]=new Uint8Array(_.buffer.slice(i,i+a));else{if(h!=8)throw"unknown compression method: "+h;var g=new Uint8Array(l);r.inflateRaw(_,g),o[y]=g}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var d=!r._noNeed(u)&&!i,h=s[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),y=0,_=[];for(var u in c){var g=c[u];_.push(y),y=r._writeHeader(m,y,u,g,0)}var v=0,x=y;for(var u in c)g=c[u],_.push(y),y=r._writeHeader(m,y,u,g,1,_[v++]);var T=y-x;return a(m,y,101010256),y+=4,l(m,y+=4,v),l(m,y+=2,v),a(m,y+=2,T),a(m,y+=4,x),y+=4,y+=2,m.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,h.length),u(s,i+=4,a.usize),d(s,i+=4,r.bin.sizeUTF8(o)),d(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,m=0,y=s.length;if(a==0){for(;h<y;)d(i,p,h+(P=Math.min(65535,y-h))==y?1:0),p=r.F._copyExact(s,h,P,i,p+8),h+=P;return p>>>3}var _=c.lits,g=c.strt,v=c.prev,x=0,T=0,R=0,w=0,S=0,C=0;for(y>2&&(g[C=r.F._hash(s,0)]=0),h=0;h<y;h++){if(S=C,h+1<y-2){C=r.F._hash(s,h+1);var E=h+1&32767;v[E]=g[C],g[C]=E}if(m<=h){(x>14e3||T>26697)&&y-h>100&&(m<h&&(_[x]=h-m,x+=2,m=h),p=r.F._writeBlock(h==y-1||m==y?1:0,_,x,w,s,R,h-R,i,p),x=T=w=0,R=h);var b=0;h<y-2&&(b=r.F._bestMatch(s,h,v,S,Math.min(l[2],y-h),l[3]));var P=b>>>16,N=65535&b;if(b!=0){N=65535&b;var O=u(P=b>>>16,c.of0);c.lhst[257+O]++;var L=u(N,c.df0);c.dhst[L]++,w+=c.exb[O]+c.dxb[L],_[x]=P<<23|h-m,_[x+1]=N<<16|O<<8|L,x+=2,m=h+P}else c.lhst[s[h]]++;T++}}for(R==h&&s.length!=0||(m<h&&(_[x]=h-m,x+=2,m=h),p=r.F._writeBlock(1,_,x,w,s,R,h-R,i,p),x=0,T=0,x=T=w=0,R=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(s,i-h))return 0;for(var p=0,m=0,y=Math.min(32767,i);h<=y&&--c!=0&&d!=u;){if(p==0||s[i+p]==s[i+p-h]){var _=r.F._howLong(s,i,h);if(_>p){if(m=h,(p=_)>=l)break;h+2<_&&(_=h+2);for(var g=0,v=0;v<_-2;v++){var x=i-h+v+32768&32767,T=x-o[x]+32768&32767;T>g&&(g=T,d=x)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,d,h){var p,m,y,_,g,v,x,T,R,w=r.F.U,S=r.F._putsF,C=r.F._putsE;w.lhst[256]++,m=(p=r.F.getTrees())[0],y=p[1],_=p[2],g=p[3],v=p[4],x=p[5],T=p[6],R=p[7];var E=32+(h+3&7?8-(h+3&7):0)+(u<<3),b=a+r.F.contSize(w.fltree,w.lhst)+r.F.contSize(w.fdtree,w.dhst),P=a+r.F.contSize(w.ltree,w.lhst)+r.F.contSize(w.dtree,w.dhst);P+=14+3*x+r.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var N=0;N<286;N++)w.lhst[N]=0;for(N=0;N<30;N++)w.dhst[N]=0;for(N=0;N<19;N++)w.ihst[N]=0;var O=E<b&&E<P?0:b<P?1:2;if(S(d,h,s),S(d,h+1,O),h+=3,O==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var L,j;if(O==1&&(L=w.fltree,j=w.fdtree),O==2){r.F.makeCodes(w.ltree,m),r.F.revCodes(w.ltree,m),r.F.makeCodes(w.dtree,y),r.F.revCodes(w.dtree,y),r.F.makeCodes(w.itree,_),r.F.revCodes(w.itree,_),L=w.ltree,j=w.dtree,C(d,h,g-257),C(d,h+=5,v-1),C(d,h+=5,x-4),h+=4;for(var k=0;k<x;k++)C(d,h+3*k,w.itree[1+(w.ordr[k]<<1)]);h+=3*x,h=r.F._codeTiny(T,w.itree,d,h),h=r.F._codeTiny(R,w.itree,d,h)}for(var A=c,D=0;D<o;D+=2){for(var M=i[D],$=M>>>23,H=A+(8388607&M);A<H;)h=r.F._writeLit(l[A++],L,d,h);if($!=0){var U=i[D+1],J=U>>16,z=U>>8&255,F=255&U;C(d,h=r.F._writeLit(257+z,L,d,h),$-w.of0[z]),h+=w.exb[z],S(d,h=r.F._writeLit(F,j,d,h),J-w.df0[F]),h+=w.dxb[F],A+=$}}h=r.F._writeLit(256,L,d,h)}return h},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),d=0;d<a.length;d+=2)s.ihst[a[d]]++;for(d=0;d<c.length;d+=2)s.ihst[c[d]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,h,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,d=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&s[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&s[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}a.sort(function(T,R){return T.f-R.f});var m=a[0],y=a[1],_=0,g=1,v=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=_!=g&&(v==d||a[_].f<a[v].f)?a[_++]:a[v++],y=_!=g&&(v==d||a[_].f<a[v].f)?a[_++]:a[v++],a[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var x=r.F.setDepth(a[g-1],0);for(x>o&&(r.F.restrictDepth(h,o,x),x=o),u=0;u<d;u++)i[1+(h[u].lit<<1)]=h[u].d;return x},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=i==null;y&&(i=new o(s.length>>>2<<3));for(var _,g,v=0,x=0,T=0,R=0,w=0,S=0,C=0,E=0,b=0;v==0;)if(v=l(s,b,1),x=l(s,b+1,2),b+=3,x!=0){if(y&&(i=r.F._check(i,E+(1<<17))),x==1&&(_=m.flmap,g=m.fdmap,S=511,C=31),x==2){T=c(s,b,5)+257,R=c(s,b+5,5)+1,w=c(s,b+10,4)+4,b+=14;for(var P=0;P<38;P+=2)m.itree[P]=0,m.itree[P+1]=0;var N=1;for(P=0;P<w;P++){var O=c(s,b+3*P,3);m.itree[1+(m.ordr[P]<<1)]=O,O>N&&(N=O)}b+=3*w,d(m.itree,N),h(m.itree,N,m.imap),_=m.lmap,g=m.dmap,b=u(m.imap,(1<<N)-1,T+R,s,b,m.ttree);var L=a._copyOut(m.ttree,0,T,m.ltree);S=(1<<L)-1;var j=a._copyOut(m.ttree,T,R,m.dtree);C=(1<<j)-1,d(m.ltree,L),h(m.ltree,L,_),d(m.dtree,j),h(m.dtree,j,g)}for(;;){var k=_[p(s,b)&S];b+=15&k;var A=k>>>4;if(!(A>>>8))i[E++]=A;else{if(A==256)break;var D=E+A-254;if(A>264){var M=m.ldef[A-257];D=E+(M>>>3)+c(s,b,7&M),b+=7&M}var $=g[p(s,b)&C];b+=15&$;var H=$>>>4,U=m.ddef[H],J=(U>>>4)+l(s,b,15&U);for(b+=15&U,y&&(i=r.F._check(i,E+(1<<17)));E<D;)i[E]=i[E++-J],i[E]=i[E++-J],i[E]=i[E++-J],i[E]=i[E++-J];E=D}}}else{7&b&&(b+=8-(7&b));var z=4+(b>>>3),F=s[z-4]|s[z-3]<<8;y&&(i=r.F._check(i,E+F)),i.set(new o(s.buffer,s.byteOffset+z,F),E),b=z+F<<3,E+=F}return i.length==E?i:i.slice(0,E)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=s[d(a,l)&i];l+=15&p;var m=p>>>4;if(m<=15)c[h]=m,h++;else{var y=0,_=0;m==16?(_=3+u(a,l,2),l+=2,y=c[h-1]):m==17?(_=3+u(a,l,3),l+=3):m==18&&(_=11+u(a,l,7),l+=7);for(var g=h+_;h<g;)c[h]=y,h++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=s[c+i];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,d=s.length,h=u.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<d;p+=2)h[s[p]]++;var m=u.next_code;for(o=0,h[0]=0,a=1;a<=i;a++)o=o+h[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=s[l+1])!=0&&(s[l]=m[c],m[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,d=s[c+1],h=u<<4|d,p=i-d,m=s[c]<<p,y=m+(1<<p);m!=y;)o[l[m]>>>15-i]=h,m++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var wK=yK({__proto__:null,default:b0},[b0]);const Cr=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let m=0;m<h;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const m=d*h,y=i(p),_=Math.ceil(d*y/8),g=new Uint8Array(4*m),v=new Uint32Array(g.buffer),{ctype:x}=p,{depth:T}=p,R=t.readUshort;if(x==6){const M=m<<2;if(T==8)for(var w=0;w<M;w+=4)g[w]=u[w],g[w+1]=u[w+1],g[w+2]=u[w+2],g[w+3]=u[w+3];if(T==16)for(w=0;w<M;w++)g[w]=u[w<<1]}else if(x==2){const M=p.tabs.tRNS;if(M==null){if(T==8)for(w=0;w<m;w++){var S=3*w;v[w]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S]}if(T==16)for(w=0;w<m;w++)S=6*w,v[w]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S]}else{var C=M[0];const $=M[1],H=M[2];if(T==8)for(w=0;w<m;w++){var E=w<<2;S=3*w,v[w]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S],u[S]==C&&u[S+1]==$&&u[S+2]==H&&(g[E+3]=0)}if(T==16)for(w=0;w<m;w++)E=w<<2,S=6*w,v[w]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S],R(u,S)==C&&R(u,S+2)==$&&R(u,S+4)==H&&(g[E+3]=0)}}else if(x==3){const M=p.tabs.PLTE,$=p.tabs.tRNS,H=$?$.length:0;if(T==1)for(var b=0;b<h;b++){var P=b*_,N=b*d;for(w=0;w<d;w++){E=N+w<<2;var O=3*(L=u[P+(w>>3)]>>7-((7&w)<<0)&1);g[E]=M[O],g[E+1]=M[O+1],g[E+2]=M[O+2],g[E+3]=L<H?$[L]:255}}if(T==2)for(b=0;b<h;b++)for(P=b*_,N=b*d,w=0;w<d;w++)E=N+w<<2,O=3*(L=u[P+(w>>2)]>>6-((3&w)<<1)&3),g[E]=M[O],g[E+1]=M[O+1],g[E+2]=M[O+2],g[E+3]=L<H?$[L]:255;if(T==4)for(b=0;b<h;b++)for(P=b*_,N=b*d,w=0;w<d;w++)E=N+w<<2,O=3*(L=u[P+(w>>1)]>>4-((1&w)<<2)&15),g[E]=M[O],g[E+1]=M[O+1],g[E+2]=M[O+2],g[E+3]=L<H?$[L]:255;if(T==8)for(w=0;w<m;w++){var L;E=w<<2,O=3*(L=u[w]),g[E]=M[O],g[E+1]=M[O+1],g[E+2]=M[O+2],g[E+3]=L<H?$[L]:255}}else if(x==4){if(T==8)for(w=0;w<m;w++){E=w<<2;var j=u[k=w<<1];g[E]=j,g[E+1]=j,g[E+2]=j,g[E+3]=u[k+1]}if(T==16)for(w=0;w<m;w++){var k;E=w<<2,j=u[k=w<<2],g[E]=j,g[E+1]=j,g[E+2]=j,g[E+3]=u[k+2]}}else if(x==0)for(C=p.tabs.tRNS?p.tabs.tRNS:-1,b=0;b<h;b++){const M=b*_,$=b*d;if(T==1)for(var A=0;A<d;A++){var D=(j=255*(u[M+(A>>>3)]>>>7-(7&A)&1))==255*C?0:255;v[$+A]=D<<24|j<<16|j<<8|j}else if(T==2)for(A=0;A<d;A++)D=(j=85*(u[M+(A>>>2)]>>>6-((3&A)<<1)&3))==85*C?0:255,v[$+A]=D<<24|j<<16|j<<8|j;else if(T==4)for(A=0;A<d;A++)D=(j=17*(u[M+(A>>>1)]>>>4-((1&A)<<2)&15))==17*C?0:255,v[$+A]=D<<24|j<<16|j<<8|j;else if(T==8)for(A=0;A<d;A++)D=(j=u[M+A])==C?0:255,v[$+A]=D<<24|j<<16|j<<8|j;else if(T==16)for(A=0;A<d;A++)j=u[M+(A<<1)],D=R(u,M+(A<<1))==C?0:255,v[$+A]=D<<24|j<<16|j<<8|j}return g}function n(u,d,h,p){const m=i(u),y=Math.ceil(h*m/8),_=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?s(d,_):r(d,_),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(v,x){const T=x.width,R=x.height,w=i(x),S=w>>3,C=Math.ceil(T*w/8),E=new Uint8Array(R*C);let b=0;const P=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],O=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const A=O[j],D=L[j];let M=0,$=0,H=P[j];for(;H<R;)H+=A,$++;let U=N[j];for(;U<T;)U+=D,M++;const J=Math.ceil(M*w/8);o(v,x,b,M,$);let z=0,F=P[j];for(;F<R;){let te=N[j],he=b+z*J<<3;for(;te<T;){var k;if(w==1&&(k=(k=v[he>>3])>>7-(7&he)&1,E[F*C+(te>>3)]|=k<<7-((7&te)<<0)),w==2&&(k=(k=v[he>>3])>>6-(7&he)&3,E[F*C+(te>>2)]|=k<<6-((3&te)<<1)),w==4&&(k=(k=v[he>>3])>>4-(7&he)&15,E[F*C+(te>>1)]|=k<<4-((1&te)<<2)),w>=8){const ye=F*C+te*S;for(let G=0;G<S;G++)E[ye+G]=v[(he>>3)+G]}he+=w,te+=D}z++,F+=A}M*$!=0&&(b+=$*(1+J)),j+=1}return E}(d,u)),d}function r(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let m,y,_=0,g=0,v=0,x=0,T=0,R=0,w=0,S=0,C=0;if(d[0]==3&&d[1]==0)return h||new p(0);const E=u.H,b=E.b,P=E.e,N=E.R,O=E.n,L=E.A,j=E.Z,k=E.m,A=h==null;for(A&&(h=new p(d.length>>>2<<5));_==0;)if(_=b(d,C,1),g=b(d,C+1,2),C+=3,g!=0){if(A&&(h=u.H.W(h,S+(1<<17))),g==1&&(m=k.J,y=k.h,R=511,w=31),g==2){v=P(d,C,5)+257,x=P(d,C+5,5)+1,T=P(d,C+10,4)+4,C+=14;let M=1;for(var D=0;D<38;D+=2)k.Q[D]=0,k.Q[D+1]=0;for(D=0;D<T;D++){const U=P(d,C+3*D,3);k.Q[1+(k.X[D]<<1)]=U,U>M&&(M=U)}C+=3*T,O(k.Q,M),L(k.Q,M,k.u),m=k.w,y=k.d,C=N(k.u,(1<<M)-1,v+x,d,C,k.v);const $=E.V(k.v,0,v,k.C);R=(1<<$)-1;const H=E.V(k.v,v,x,k.D);w=(1<<H)-1,O(k.C,$),L(k.C,$,m),O(k.D,H),L(k.D,H,y)}for(;;){const M=m[j(d,C)&R];C+=15&M;const $=M>>>4;if(!($>>>8))h[S++]=$;else{if($==256)break;{let H=S+$-254;if($>264){const te=k.q[$-257];H=S+(te>>>3)+P(d,C,7&te),C+=7&te}const U=y[j(d,C)&w];C+=15&U;const J=U>>>4,z=k.c[J],F=(z>>>4)+b(d,C,15&z);for(C+=15&z;S<H;)h[S]=h[S++-F],h[S]=h[S++-F],h[S]=h[S++-F],h[S]=h[S++-F];S=H}}}}else{7&C&&(C+=8-(7&C));const M=4+(C>>>3),$=d[M-4]|d[M-3]<<8;A&&(h=u.H.W(h,S+$)),h.set(new p(d.buffer,d.byteOffset+M,$),S),C=M+$<<3,S+=$}return h.length==S?h:h.slice(0,S)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,h,p,m,y,_){const g=u.H.e,v=u.H.Z;let x=0;for(;x<p;){const T=d[v(m,y)&h];y+=15&T;const R=T>>>4;if(R<=15)_[x]=R,x++;else{let w=0,S=0;R==16?(S=3+g(m,y,2),y+=2,w=_[x-1]):R==17?(S=3+g(m,y,3),y+=3):R==18&&(S=11+g(m,y,7),y+=7);const C=x+S;for(;x<C;)_[x]=w,x++}}return y},u.H.V=function(d,h,p,m){let y=0,_=0;const g=m.length>>>1;for(;_<p;){const v=d[_+h];m[_<<1]=0,m[1+(_<<1)]=v,v>y&&(y=v),_++}for(;_<g;)m[_<<1]=0,m[1+(_<<1)]=0,_++;return y},u.H.n=function(d,h){const p=u.H.m,m=d.length;let y,_,g,v;const x=p.j;for(var T=0;T<=h;T++)x[T]=0;for(T=1;T<m;T+=2)x[d[T]]++;const R=p.K;for(y=0,x[0]=0,_=1;_<=h;_++)y=y+x[_-1]<<1,R[_]=y;for(g=0;g<m;g+=2)v=d[g+1],v!=0&&(d[g]=R[v],R[v]++)},u.H.A=function(d,h,p){const m=d.length,y=u.H.m.r;for(let _=0;_<m;_+=2)if(d[_+1]!=0){const g=_>>1,v=d[_+1],x=g<<4|v,T=h-v;let R=d[_]<<T;const w=R+(1<<T);for(;R!=w;)p[y[R]>>>15-h]=x,R++}},u.H.l=function(d,h){const p=u.H.m.r,m=15-h;for(let y=0;y<d.length;y+=2){const _=d[y]<<h-d[y+1];d[y]=p[_]>>>m}},u.H.M=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,_){for(;y--!=0;)m.push(0,_)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,m){let y=i(d);const _=Math.ceil(p*y/8);let g,v;y=Math.ceil(y/8);let x=u[h],T=0;if(x>1&&(u[h]=[0,0,1][x-2]),x==3)for(T=y;T<_;T++)u[T+1]=u[T+1]+(u[T+1-y]>>>1)&255;for(let R=0;R<m;R++)if(g=h+R*_,v=g+R+1,x=u[v-1],T=0,x==0)for(;T<_;T++)u[g+T]=u[v+T];else if(x==1){for(;T<y;T++)u[g+T]=u[v+T];for(;T<_;T++)u[g+T]=u[v+T]+u[g+T-y]}else if(x==2)for(;T<_;T++)u[g+T]=u[v+T]+u[g+T-_];else if(x==3){for(;T<y;T++)u[g+T]=u[v+T]+(u[g+T-_]>>>1);for(;T<_;T++)u[g+T]=u[v+T]+(u[g+T-_]+u[g+T-y]>>>1)}else{for(;T<y;T++)u[g+T]=u[v+T]+a(0,u[g+T-_],0);for(;T<_;T++)u[g+T]=u[v+T]+a(u[g+T-y],u[g+T-_],u[g+T-y-_])}return u}function a(u,d,h){const p=u+d-h,m=p-u,y=p-d,_=p-h;return m*m<=y*y&&m*m<=_*_?u:y*y<=_*_?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,m,y,_,g,v){const x=Math.min(d,m),T=Math.min(h,y);let R=0,w=0;for(let j=0;j<T;j++)for(let k=0;k<x;k++)if(_>=0&&g>=0?(R=j*d+k<<2,w=(g+j)*m+_+k<<2):(R=(-g+j)*d-_+k<<2,w=j*m+k<<2),v==0)p[w]=u[R],p[w+1]=u[R+1],p[w+2]=u[R+2],p[w+3]=u[R+3];else if(v==1){var S=u[R+3]*.00392156862745098,C=u[R]*S,E=u[R+1]*S,b=u[R+2]*S,P=p[w+3]*(1/255),N=p[w]*P,O=p[w+1]*P,L=p[w+2]*P;const A=1-S,D=S+P*A,M=D==0?0:1/D;p[w+3]=255*D,p[w+0]=(C+N*A)*M,p[w+1]=(E+O*A)*M,p[w+2]=(b+L*A)*M}else if(v==2)S=u[R+3],C=u[R],E=u[R+1],b=u[R+2],P=p[w+3],N=p[w],O=p[w+1],L=p[w+2],S==P&&C==N&&E==O&&b==L?(p[w]=0,p[w+1]=0,p[w+2]=0,p[w+3]=0):(p[w]=C,p[w+1]=E,p[w+2]=b,p[w+3]=S);else if(v==3){if(S=u[R+3],C=u[R],E=u[R+1],b=u[R+2],P=p[w+3],N=p[w],O=p[w+1],L=p[w+2],S==P&&C==N&&E==O&&b==L)continue;if(S<220&&P>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const m=t,y=m.readUshort,_=m.readUint,g={tabs:{},frames:[]},v=new Uint8Array(h.length);let x,T=0,R=0;const w=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(h[S]!=w[S])throw"The input is not a PNG file!";for(;p<h.length;){const j=m.readUint(h,p);p+=4;const k=m.readASCII(h,p,4);if(p+=4,k=="IHDR")l(h,p,g);else if(k=="iCCP"){for(var C=p;h[C]!=0;)C++;m.readASCII(h,p,C-p),h[C+1];const A=h.slice(C+2,p+j);let D=null;try{D=r(A)}catch{D=s(A)}g.tabs[k]=D}else if(k=="CgBI")g.tabs[k]=h.slice(p,p+4);else if(k=="IDAT"){for(S=0;S<j;S++)v[T+S]=h[p+S];T+=j}else if(k=="acTL")g.tabs[k]={num_frames:_(h,p),num_plays:_(h,p+4)},x=new Uint8Array(h.length);else if(k=="fcTL"){R!=0&&((L=g.frames[g.frames.length-1]).data=n(g,x.slice(0,R),L.rect.width,L.rect.height),R=0);const A={x:_(h,p+12),y:_(h,p+16),width:_(h,p+4),height:_(h,p+8)};let D=y(h,p+22);D=y(h,p+20)/(D==0?100:D);const M={rect:A,delay:Math.round(1e3*D),dispose:h[p+24],blend:h[p+25]};g.frames.push(M)}else if(k=="fdAT"){for(S=0;S<j-4;S++)x[R+S]=h[p+S+4];R+=j-4}else if(k=="pHYs")g.tabs[k]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(k=="cHRM")for(g.tabs[k]=[],S=0;S<8;S++)g.tabs[k].push(m.readUint(h,p+4*S));else if(k=="tEXt"||k=="zTXt"){g.tabs[k]==null&&(g.tabs[k]={});var E=m.nextZero(h,p),b=m.readASCII(h,p,E-p),P=p+j-E-1;if(k=="tEXt")O=m.readASCII(h,E+1,P);else{var N=r(h.slice(E+2,E+2+P));O=m.readUTF8(N,0,N.length)}g.tabs[k][b]=O}else if(k=="iTXt"){g.tabs[k]==null&&(g.tabs[k]={}),E=0,C=p,E=m.nextZero(h,C),b=m.readASCII(h,C,E-C);const A=h[C=E+1];var O;h[C+1],C+=2,E=m.nextZero(h,C),m.readASCII(h,C,E-C),C=E+1,E=m.nextZero(h,C),m.readUTF8(h,C,E-C),P=j-((C=E+1)-p),A==0?O=m.readUTF8(h,C,P):(N=r(h.slice(C,C+P)),O=m.readUTF8(N,0,N.length)),g.tabs[k][b]=O}else if(k=="PLTE")g.tabs[k]=m.readBytes(h,p,j);else if(k=="hIST"){const A=g.tabs.PLTE.length/3;for(g.tabs[k]=[],S=0;S<A;S++)g.tabs[k].push(y(h,p+2*S))}else if(k=="tRNS")g.ctype==3?g.tabs[k]=m.readBytes(h,p,j):g.ctype==0?g.tabs[k]=y(h,p):g.ctype==2&&(g.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(k=="gAMA")g.tabs[k]=m.readUint(h,p)/1e5;else if(k=="sRGB")g.tabs[k]=h[p];else if(k=="bKGD")g.ctype==0||g.ctype==4?g.tabs[k]=[y(h,p)]:g.ctype==2||g.ctype==6?g.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]:g.ctype==3&&(g.tabs[k]=h[p]);else if(k=="IEND")break;p+=j,m.readUint(h,p),p+=4}var L;return R!=0&&((L=g.frames[g.frames.length-1]).data=n(g,x.slice(0,R),L.rect.width,L.rect.height)),g.data=n(g,v,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=h*p*4,_=new Uint8Array(y),g=new Uint8Array(y),v=new Uint8Array(y);for(let T=0;T<d.frames.length;T++){const R=d.frames[T],w=R.rect.x,S=R.rect.y,C=R.rect.width,E=R.rect.height,b=e(R.data,C,E,d);if(T!=0)for(var x=0;x<y;x++)v[x]=_[x];if(R.blend==0?c(b,C,E,_,h,p,w,S,0):R.blend==1&&c(b,C,E,_,h,p,w,S,1),m.push(_.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)c(g,C,E,_,h,p,w,S,0);else if(R.dispose==2)for(x=0;x<y;x++)_[x]=v[x]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Cr,{_bin:e}=Cr,n=Cr._paeth;var r={table:function(){const C=new Uint32Array(256);for(let E=0;E<256;E++){let b=E;for(let P=0;P<8;P++)1&b?b=3988292384^b>>>1:b>>>=1;C[E]=b}return C}(),update(C,E,b,P){for(let N=0;N<P;N++)C=r.table[255&(C^E[b+N])]^C>>>8;return C},crc:(C,E,b)=>4294967295^r.update(4294967295,C,E,b)};function s(C,E,b,P){E[b]+=C[0]*P>>4,E[b+1]+=C[1]*P>>4,E[b+2]+=C[2]*P>>4,E[b+3]+=C[3]*P>>4}function i(C){return Math.max(0,Math.min(255,C))}function o(C,E){const b=C[0]-E[0],P=C[1]-E[1],N=C[2]-E[2],O=C[3]-E[3];return b*b+P*P+N*N+O*O}function a(C,E,b,P,N,O,L){L==null&&(L=1);const j=P.length,k=[];for(var A=0;A<j;A++){const F=P[A];k.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(A=0;A<j;A++){let F=4294967295;for(var D=0,M=0;M<j;M++){var $=o(k[A],k[M]);M!=A&&$<F&&(F=$,D=M)}}const H=new Uint32Array(N.buffer),U=new Int16Array(E*b*4),J=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<J.length;A++)J[A]=255*((J[A]+.5)/16-.5);for(let F=0;F<b;F++)for(let te=0;te<E;te++){var z;A=4*(F*E+te),L!=2?z=[i(C[A]+U[A]),i(C[A+1]+U[A+1]),i(C[A+2]+U[A+2]),i(C[A+3]+U[A+3])]:($=J[4*(3&F)+(3&te)],z=[i(C[A]+$),i(C[A+1]+$),i(C[A+2]+$),i(C[A+3]+$)]),D=0;let he=16777215;for(M=0;M<j;M++){const ie=o(z,k[M]);ie<he&&(he=ie,D=M)}const ye=k[D],G=[z[0]-ye[0],z[1]-ye[1],z[2]-ye[2],z[3]-ye[3]];L==1&&(te!=E-1&&s(G,U,A+4,7),F!=b-1&&(te!=0&&s(G,U,A+4*E-4,3),s(G,U,A+4*E,5),te!=E-1&&s(G,U,A+4*E+4,1))),O[A>>2]=D,H[A>>2]=P[D]}}function l(C,E,b,P,N){N==null&&(N={});const{crc:O}=r,L=e.writeUint,j=e.writeUshort,k=e.writeASCII;let A=8;const D=C.frames.length>1;let M,$=!1,H=33+(D?20:0);if(N.sRGB!=null&&(H+=13),N.pHYs!=null&&(H+=21),N.iCCP!=null&&(M=pako.deflate(N.iCCP),H+=21+M.length+4),C.ctype==3){for(var U=C.plte.length,J=0;J<U;J++)C.plte[J]>>>24!=255&&($=!0);H+=8+3*U+4+($?8+1*U+4:0)}for(var z=0;z<C.frames.length;z++)D&&(H+=38),H+=(ye=C.frames[z]).cimg.length+12,z!=0&&(H+=4);H+=12;const F=new Uint8Array(H),te=[137,80,78,71,13,10,26,10];for(J=0;J<8;J++)F[J]=te[J];if(L(F,A,13),A+=4,k(F,A,"IHDR"),A+=4,L(F,A,E),A+=4,L(F,A,b),A+=4,F[A]=C.depth,A++,F[A]=C.ctype,A++,F[A]=0,A++,F[A]=0,A++,F[A]=0,A++,L(F,A,O(F,A-17,17)),A+=4,N.sRGB!=null&&(L(F,A,1),A+=4,k(F,A,"sRGB"),A+=4,F[A]=N.sRGB,A++,L(F,A,O(F,A-5,5)),A+=4),N.iCCP!=null){const G=13+M.length;L(F,A,G),A+=4,k(F,A,"iCCP"),A+=4,k(F,A,"ICC profile"),A+=11,A+=2,F.set(M,A),A+=M.length,L(F,A,O(F,A-(G+4),G+4)),A+=4}if(N.pHYs!=null&&(L(F,A,9),A+=4,k(F,A,"pHYs"),A+=4,L(F,A,N.pHYs[0]),A+=4,L(F,A,N.pHYs[1]),A+=4,F[A]=N.pHYs[2],A++,L(F,A,O(F,A-13,13)),A+=4),D&&(L(F,A,8),A+=4,k(F,A,"acTL"),A+=4,L(F,A,C.frames.length),A+=4,L(F,A,N.loop!=null?N.loop:0),A+=4,L(F,A,O(F,A-12,12)),A+=4),C.ctype==3){for(L(F,A,3*(U=C.plte.length)),A+=4,k(F,A,"PLTE"),A+=4,J=0;J<U;J++){const G=3*J,ie=C.plte[J],Re=255&ie,Fe=ie>>>8&255,Tn=ie>>>16&255;F[A+G+0]=Re,F[A+G+1]=Fe,F[A+G+2]=Tn}if(A+=3*U,L(F,A,O(F,A-3*U-4,3*U+4)),A+=4,$){for(L(F,A,U),A+=4,k(F,A,"tRNS"),A+=4,J=0;J<U;J++)F[A+J]=C.plte[J]>>>24&255;A+=U,L(F,A,O(F,A-U-4,U+4)),A+=4}}let he=0;for(z=0;z<C.frames.length;z++){var ye=C.frames[z];D&&(L(F,A,26),A+=4,k(F,A,"fcTL"),A+=4,L(F,A,he++),A+=4,L(F,A,ye.rect.width),A+=4,L(F,A,ye.rect.height),A+=4,L(F,A,ye.rect.x),A+=4,L(F,A,ye.rect.y),A+=4,j(F,A,P[z]),A+=2,j(F,A,1e3),A+=2,F[A]=ye.dispose,A++,F[A]=ye.blend,A++,L(F,A,O(F,A-30,30)),A+=4);const G=ye.cimg;L(F,A,(U=G.length)+(z==0?0:4)),A+=4;const ie=A;k(F,A,z==0?"IDAT":"fdAT"),A+=4,z!=0&&(L(F,A,he++),A+=4),F.set(G,A),A+=U,L(F,A,O(F,ie,A-ie)),A+=4}return L(F,A,0),A+=4,k(F,A,"IEND"),A+=4,L(F,A,O(F,A-4,4)),A+=4,F.buffer}function c(C,E,b){for(let P=0;P<C.frames.length;P++){const N=C.frames[P];N.rect.width;const O=N.rect.height,L=new Uint8Array(O*N.bpl+O);N.cimg=p(N.img,O,N.bpp,N.bpl,L,E,b)}}function u(C,E,b,P,N){const O=N[0],L=N[1],j=N[2],k=N[3],A=N[4],D=N[5];let M=6,$=8,H=255;for(var U=0;U<C.length;U++){const kt=new Uint8Array(C[U]);for(var J=kt.length,z=0;z<J;z+=4)H&=kt[z+3]}const F=H!=255,te=function(Ue,De,Ct,Tt,Je,mn){const st=[];for(var Se=0;Se<Ue.length;Se++){const Pt=new Uint8Array(Ue[Se]),jn=new Uint32Array(Pt.buffer);var It;let gn=0,Vr=0,Ur=De,Ui=Ct,N2=Tt?1:0;if(Se!=0){const r9=mn||Tt||Se==1||st[Se-2].dispose!=0?1:2;let P2=0,y_=1e9;for(let Al=0;Al<r9;Al++){var Fr=new Uint8Array(Ue[Se-1-Al]);const s9=new Uint32Array(Ue[Se-1-Al]);let zs=De,Bs=Ct,qo=-1,Rl=-1;for(let zi=0;zi<Ct;zi++)for(let Bi=0;Bi<De;Bi++)jn[Nt=zi*De+Bi]!=s9[Nt]&&(Bi<zs&&(zs=Bi),Bi>qo&&(qo=Bi),zi<Bs&&(Bs=zi),zi>Rl&&(Rl=zi));qo==-1&&(zs=Bs=qo=Rl=0),Je&&((1&zs)==1&&zs--,(1&Bs)==1&&Bs--);const v_=(qo-zs+1)*(Rl-Bs+1);v_<y_&&(y_=v_,P2=Al,gn=zs,Vr=Bs,Ur=qo-zs+1,Ui=Rl-Bs+1)}Fr=new Uint8Array(Ue[Se-1-P2]),P2==1&&(st[Se-1].dispose=2),It=new Uint8Array(Ur*Ui*4),t(Fr,De,Ct,It,Ur,Ui,-gn,-Vr,0),N2=t(Pt,De,Ct,It,Ur,Ui,-gn,-Vr,3)?1:0,N2==1?h(Pt,De,Ct,It,{x:gn,y:Vr,width:Ur,height:Ui}):t(Pt,De,Ct,It,Ur,Ui,-gn,-Vr,0)}else It=Pt.slice(0);st.push({rect:{x:gn,y:Vr,width:Ur,height:Ui},img:It,blend:N2,dispose:0})}if(Tt)for(Se=0;Se<st.length;Se++){if((se=st[Se]).blend==1)continue;const Pt=se.rect,jn=st[Se-1].rect,gn=Math.min(Pt.x,jn.x),Vr=Math.min(Pt.y,jn.y),Ur={x:gn,y:Vr,width:Math.max(Pt.x+Pt.width,jn.x+jn.width)-gn,height:Math.max(Pt.y+Pt.height,jn.y+jn.height)-Vr};st[Se-1].dispose=1,Se-1!=0&&d(Ue,De,Ct,st,Se-1,Ur,Je),d(Ue,De,Ct,st,Se,Ur,Je)}let Vi=0;if(Ue.length!=1)for(var Nt=0;Nt<st.length;Nt++){var se;Vi+=(se=st[Nt]).rect.width*se.rect.height}return st}(C,E,b,O,L,j),he={},ye=[],G=[];if(P!=0){const kt=[];for(z=0;z<te.length;z++)kt.push(te[z].img.buffer);const Ue=function(Je){let mn=0;for(var st=0;st<Je.length;st++)mn+=Je[st].byteLength;const Se=new Uint8Array(mn);let It=0;for(st=0;st<Je.length;st++){const Fr=new Uint8Array(Je[st]),Vi=Fr.length;for(let Nt=0;Nt<Vi;Nt+=4){let se=Fr[Nt],Pt=Fr[Nt+1],jn=Fr[Nt+2];const gn=Fr[Nt+3];gn==0&&(se=Pt=jn=0),Se[It+Nt]=se,Se[It+Nt+1]=Pt,Se[It+Nt+2]=jn,Se[It+Nt+3]=gn}It+=Vi}return Se.buffer}(kt),De=y(Ue,P);for(z=0;z<De.plte.length;z++)ye.push(De.plte[z].est.rgba);let Ct=0;for(z=0;z<te.length;z++){const Tt=(Re=te[z]).img.length;var ie=new Uint8Array(De.inds.buffer,Ct>>2,Tt>>2);G.push(ie);const Je=new Uint8Array(De.abuf,Ct,Tt);D&&a(Re.img,Re.rect.width,Re.rect.height,ye,Je,ie),Re.img.set(Je),Ct+=Tt}}else for(U=0;U<te.length;U++){var Re=te[U];const kt=new Uint32Array(Re.img.buffer);var Fe=Re.rect.width;for(J=kt.length,ie=new Uint8Array(J),G.push(ie),z=0;z<J;z++){const Ue=kt[z];if(z!=0&&Ue==kt[z-1])ie[z]=ie[z-1];else if(z>Fe&&Ue==kt[z-Fe])ie[z]=ie[z-Fe];else{let De=he[Ue];if(De==null&&(he[Ue]=De=ye.length,ye.push(Ue),ye.length>=300))break;ie[z]=De}}}const Tn=ye.length;for(Tn<=256&&A==0&&($=Tn<=2?1:Tn<=4?2:Tn<=16?4:8,$=Math.max($,k)),U=0;U<te.length;U++){(Re=te[U]).rect.x,Re.rect.y,Fe=Re.rect.width;const kt=Re.rect.height;let Ue=Re.img;new Uint32Array(Ue.buffer);let De=4*Fe,Ct=4;if(Tn<=256&&A==0){De=Math.ceil($*Fe/8);var In=new Uint8Array(De*kt);const Tt=G[U];for(let Je=0;Je<kt;Je++){z=Je*De;const mn=Je*Fe;if($==8)for(var Ve=0;Ve<Fe;Ve++)In[z+Ve]=Tt[mn+Ve];else if($==4)for(Ve=0;Ve<Fe;Ve++)In[z+(Ve>>1)]|=Tt[mn+Ve]<<4-4*(1&Ve);else if($==2)for(Ve=0;Ve<Fe;Ve++)In[z+(Ve>>2)]|=Tt[mn+Ve]<<6-2*(3&Ve);else if($==1)for(Ve=0;Ve<Fe;Ve++)In[z+(Ve>>3)]|=Tt[mn+Ve]<<7-1*(7&Ve)}Ue=In,M=3,Ct=1}else if(F==0&&te.length==1){In=new Uint8Array(Fe*kt*3);const Tt=Fe*kt;for(z=0;z<Tt;z++){const Je=3*z,mn=4*z;In[Je]=Ue[mn],In[Je+1]=Ue[mn+1],In[Je+2]=Ue[mn+2]}Ue=In,M=2,Ct=3,De=3*Fe}Re.img=Ue,Re.bpl=De,Re.bpp=Ct}return{ctype:M,depth:$,plte:ye,frames:te}}function d(C,E,b,P,N,O,L){const j=Uint8Array,k=Uint32Array,A=new j(C[N-1]),D=new k(C[N-1]),M=N+1<C.length?new j(C[N+1]):null,$=new j(C[N]),H=new k($.buffer);let U=E,J=b,z=-1,F=-1;for(let he=0;he<O.height;he++)for(let ye=0;ye<O.width;ye++){const G=O.x+ye,ie=O.y+he,Re=ie*E+G,Fe=H[Re];Fe==0||P[N-1].dispose==0&&D[Re]==Fe&&(M==null||M[4*Re+3]!=0)||(G<U&&(U=G),G>z&&(z=G),ie<J&&(J=ie),ie>F&&(F=ie))}z==-1&&(U=J=z=F=0),L&&((1&U)==1&&U--,(1&J)==1&&J--),O={x:U,y:J,width:z-U+1,height:F-J+1};const te=P[N];te.rect=O,te.blend=1,te.img=new Uint8Array(O.width*O.height*4),P[N-1].dispose==0?(t(A,E,b,te.img,O.width,O.height,-O.x,-O.y,0),h($,E,b,te.img,O)):t($,E,b,te.img,O.width,O.height,-O.x,-O.y,0)}function h(C,E,b,P,N){t(C,E,b,P,N.width,N.height,-N.x,-N.y,2)}function p(C,E,b,P,N,O,L){const j=[];let k,A=[0,1,2,3,4];O!=-1?A=[O]:(E*P>5e5||b==1)&&(A=[0]),L&&(k={level:0});const D=wK;for(var M=0;M<A.length;M++){for(let U=0;U<E;U++)m(N,C,U,P,b,A[M]);j.push(D.deflate(N,k))}let $,H=1e9;for(M=0;M<j.length;M++)j[M].length<H&&($=M,H=j[M].length);return j[$]}function m(C,E,b,P,N,O){const L=b*P;let j=L+b;if(C[j]=O,j++,O==0)if(P<500)for(var k=0;k<P;k++)C[j+k]=E[L+k];else C.set(new Uint8Array(E.buffer,L,P),j);else if(O==1){for(k=0;k<N;k++)C[j+k]=E[L+k];for(k=N;k<P;k++)C[j+k]=E[L+k]-E[L+k-N]+256&255}else if(b==0){for(k=0;k<N;k++)C[j+k]=E[L+k];if(O==2)for(k=N;k<P;k++)C[j+k]=E[L+k];if(O==3)for(k=N;k<P;k++)C[j+k]=E[L+k]-(E[L+k-N]>>1)+256&255;if(O==4)for(k=N;k<P;k++)C[j+k]=E[L+k]-n(E[L+k-N],0,0)+256&255}else{if(O==2)for(k=0;k<P;k++)C[j+k]=E[L+k]+256-E[L+k-P]&255;if(O==3){for(k=0;k<N;k++)C[j+k]=E[L+k]+256-(E[L+k-P]>>1)&255;for(k=N;k<P;k++)C[j+k]=E[L+k]+256-(E[L+k-P]+E[L+k-N]>>1)&255}if(O==4){for(k=0;k<N;k++)C[j+k]=E[L+k]+256-n(0,E[L+k-P],0)&255;for(k=N;k<P;k++)C[j+k]=E[L+k]+256-n(E[L+k-N],E[L+k-P],E[L+k-N-P])&255}}}function y(C,E){const b=new Uint8Array(C),P=b.slice(0),N=new Uint32Array(P.buffer),O=_(P,E),L=O[0],j=O[1],k=b.length,A=new Uint8Array(k>>2);let D;if(b.length<2e7)for(var M=0;M<k;M+=4)D=g(L,$=b[M]*(1/255),H=b[M+1]*(1/255),U=b[M+2]*(1/255),J=b[M+3]*(1/255)),A[M>>2]=D.ind,N[M>>2]=D.est.rgba;else for(M=0;M<k;M+=4){var $=b[M]*.00392156862745098,H=b[M+1]*(1/255),U=b[M+2]*(1/255),J=b[M+3]*(1/255);for(D=L;D.left;)D=v(D.est,$,H,U,J)<=0?D.left:D.right;A[M>>2]=D.ind,N[M>>2]=D.est.rgba}return{abuf:P.buffer,inds:A,plte:j}}function _(C,E,b){b==null&&(b=1e-4);const P=new Uint32Array(C.buffer),N={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=R(C,N.i0,N.i1),N.est=w(N.bst);const O=[N];for(;O.length<E;){let j=0,k=0;for(var L=0;L<O.length;L++)O[L].est.L>j&&(j=O[L].est.L,k=L);if(j<b)break;const A=O[k],D=x(C,P,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=D||A.i1<=D){A.est.L=0;continue}const M={i0:A.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};M.bst=R(C,M.i0,M.i1),M.est=w(M.bst);const $={i0:D,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:A.bst.N-M.bst.N},L=0;L<16;L++)$.bst.R[L]=A.bst.R[L]-M.bst.R[L];for(L=0;L<4;L++)$.bst.m[L]=A.bst.m[L]-M.bst.m[L];$.est=w($.bst),A.left=M,A.right=$,O[k]=M,O.push($)}for(O.sort((j,k)=>k.bst.N-j.bst.N),L=0;L<O.length;L++)O[L].ind=L;return[N,O]}function g(C,E,b,P,N){if(C.left==null)return C.tdst=function(M,$,H,U,J){const z=$-M[0],F=H-M[1],te=U-M[2],he=J-M[3];return z*z+F*F+te*te+he*he}(C.est.q,E,b,P,N),C;const O=v(C.est,E,b,P,N);let L=C.left,j=C.right;O>0&&(L=C.right,j=C.left);const k=g(L,E,b,P,N);if(k.tdst<=O*O)return k;const A=g(j,E,b,P,N);return A.tdst<k.tdst?A:k}function v(C,E,b,P,N){const{e:O}=C;return O[0]*E+O[1]*b+O[2]*P+O[3]*N-C.eMq}function x(C,E,b,P,N,O){for(P-=4;b<P;){for(;T(C,b,N)<=O;)b+=4;for(;T(C,P,N)>O;)P-=4;if(b>=P)break;const L=E[b>>2];E[b>>2]=E[P>>2],E[P>>2]=L,b+=4,P-=4}for(;T(C,b,N)>O;)b-=4;return b+4}function T(C,E,b){return C[E]*b[0]+C[E+1]*b[1]+C[E+2]*b[2]+C[E+3]*b[3]}function R(C,E,b){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],O=b-E>>2;for(let L=E;L<b;L+=4){const j=C[L]*.00392156862745098,k=C[L+1]*(1/255),A=C[L+2]*(1/255),D=C[L+3]*(1/255);N[0]+=j,N[1]+=k,N[2]+=A,N[3]+=D,P[0]+=j*j,P[1]+=j*k,P[2]+=j*A,P[3]+=j*D,P[5]+=k*k,P[6]+=k*A,P[7]+=k*D,P[10]+=A*A,P[11]+=A*D,P[15]+=D*D}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:N,N:O}}function w(C){const{R:E}=C,{m:b}=C,{N:P}=C,N=b[0],O=b[1],L=b[2],j=b[3],k=P==0?0:1/P,A=[E[0]-N*N*k,E[1]-N*O*k,E[2]-N*L*k,E[3]-N*j*k,E[4]-O*N*k,E[5]-O*O*k,E[6]-O*L*k,E[7]-O*j*k,E[8]-L*N*k,E[9]-L*O*k,E[10]-L*L*k,E[11]-L*j*k,E[12]-j*N*k,E[13]-j*O*k,E[14]-j*L*k,E[15]-j*j*k],D=A,M=S;let $=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,U=0;if(P!=0)for(let z=0;z<16&&($=M.multVec(D,$),U=Math.sqrt(M.dot($,$)),$=M.sml(1/U,$),!(z!=0&&Math.abs(U-H)<1e-9));z++)H=U;const J=[N*k,O*k,L*k,j*k];return{Cov:A,q:J,e:$,L:H,eMq255:M.dot(M.sml(255,J),$),eMq:M.dot($,J),rgba:(Math.round(255*J[3])<<24|Math.round(255*J[2])<<16|Math.round(255*J[1])<<8|Math.round(255*J[0])<<0)>>>0}}var S={multVec:(C,E)=>[C[0]*E[0]+C[1]*E[1]+C[2]*E[2]+C[3]*E[3],C[4]*E[0]+C[5]*E[1]+C[6]*E[2]+C[7]*E[3],C[8]*E[0]+C[9]*E[1]+C[10]*E[2]+C[11]*E[3],C[12]*E[0]+C[13]*E[1]+C[14]*E[2]+C[15]*E[3]],dot:(C,E)=>C[0]*E[0]+C[1]*E[1]+C[2]*E[2]+C[3]*E[3],sml:(C,E)=>[C*E[0],C*E[1],C*E[2],C*E[3]]};Cr.encode=function(E,b,P,N,O,L,j){N==null&&(N=0),j==null&&(j=!1);const k=u(E,b,P,N,[!1,!1,!1,0,j,!1]);return c(k,-1),l(k,b,P,O,L)},Cr.encodeLL=function(E,b,P,N,O,L,j,k){const A={ctype:0+(N==1?0:2)+(O==0?0:4),depth:L,frames:[]},D=(N+O)*L,M=D*b;for(let $=0;$<E.length;$++)A.frames.push({rect:{x:0,y:0,width:b,height:P},img:new Uint8Array(E[$]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(M/8)});return c(A,0,!0),l(A,b,P,j,k)},Cr.encode.compress=u,Cr.encode.dither=a,Cr.quantize=y,Cr.quantize.getKDtree=_,Cr.quantize.getNearest=g})();const Gb={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,m,y,_,g=h,v=0,x=0,T=0;function R(C){d.setUint16(x,C,!0),x+=2}function w(C){d.setUint32(x,C,!0),x+=4}function S(C){x+=C}R(19778),w(c),S(4),w(122),w(108),w(n),w(-r>>>0),R(1),R(32),w(3),w(l),w(2835),w(2835),S(8),w(16711680),w(65280),w(255),w(4278190080),w(1466527264),function C(){for(;v<r&&g>0;){for(_=122+v*a,p=0;p<s;)g--,m=o[T++],y=m>>>24,d.setUint32(_+p,m<<8|y),p+=4;v++}T<o.length?(g=h,setTimeout(C,Gb._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var bn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},xK={[bn.CHROME]:16384,[bn.FIREFOX]:11180,[bn.DESKTOP_SAFARI]:16384,[bn.IE]:8192,[bn.IOS]:4096,[bn.ETC]:8192};const f_=typeof window<"u",Kb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,A0=f_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),EK=(f_||Kb)&&(A0&&A0.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Qb=(f_||Kb)&&(A0&&A0.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function p_(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function Yb(t){return new Promise((e,n)=>{const r=new Qb;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function Xb(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function co(){if(co.cachedResult!==void 0)return co.cachedResult;let t=bn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=bn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=bn.IOS:/Safari/i.test(e)?t=bn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=bn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=bn.IE),co.cachedResult=t,co.cachedResult}function Jb(t,e){const n=co(),r=xK[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function k2(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Zb(t,e){const{width:n,height:r}=Jb(t.width,t.height),[s,i]=k2(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function ph(){return ph.cachedResult!==void 0||(ph.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ph.cachedResult}function R0(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=Zb(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return Yb(t).then(function(d){try{return u=d,Xb(u).then(function(h){try{return s=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(ph()||[bn.DESKTOP_SAFARI,bn.MOBILE_SAFARI].includes(co()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function k0(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=Cr.encode([h.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>Gb.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),p_(p,n,r).then((function(m){try{return a=m,h.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return i(a)}})}function qr(t){t.width=0,t.height=0}function wa(){return new Promise(function(t,e){let n,r,s,i;return wa.cachedResult!==void 0?t(wa.cachedResult):p_("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,R0(n).then(function(a){try{return r=a[1],k0(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,qr(r),R0(s).then(function(c){try{return i=c[0],wa.cachedResult=i.width===1&&i.height===2,t(wa.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function e9(t){return new Promise((e,n)=>{const r=new Qb;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(i.getUint16(a+12*d,c)==274)return e(i.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function t9(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=k2(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),qr(t)),o}function n9(t,e){const{width:n}=t,{height:r}=t,[s,i]=k2(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),qr(t),s}function Px(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,d,h,p,m,y,_,g,v,x,T,R,w,S,C;function E(P=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=P,e.onProgress(Math.min(i,100))}function b(P){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(P,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,E(),R0(t,e).then((function(P){try{return[,l]=P,E(),c=t9(l,e),E(),new Promise(function(N,O){var L;if(!(L=e.exifOrientation))return e9(t).then((function(k){try{return L=k,j.call(this)}catch(A){return O(A)}}).bind(this),O);function j(){return N(L)}return j.call(this)}).then((function(N){try{return u=N,E(),wa().then((function(O){try{return d=O?c:n9(c,u),E(),h=e.initialQuality||1,p=e.fileType||t.type,k0(d,p,t.name,t.lastModified,h).then((function(L){try{{let D=function(){if(o--&&(x>a||x>g)){let $,H;return $=C?.95*S.width:S.width,H=C?.95*S.height:S.height,[R,w]=k2($,H),w.drawImage(S,0,0,$,H),h*=p==="image/png"?.85:.95,k0(R,p,t.name,t.lastModified,h).then(function(U){try{return T=U,qr(S),S=R,x=T.size,b(Math.min(99,Math.floor((v-x)/(v-a)*100))),D}catch(J){return s(J)}},s)}return[1]},M=function(){return qr(S),qr(R),qr(c),qr(d),qr(l),b(100),r(T)};var k=D,A=M;if(m=L,E(),y=m.size>a,_=m.size>t.size,!y&&!_)return b(100),r(m);var j;return g=t.size,v=m.size,x=v,S=d,C=!e.alwaysKeepResolution&&y,(j=(function($){for(;$;){if($.then)return void $.then(j,s);try{if($.pop){if($.length)return $.pop()?M.call(this):$;$=D}else $=$.call(this)}catch(H){return s(H)}}}).bind(this))(D)}}catch(D){return s(D)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(O){return s(O)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)})}const CK=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Up;function TK(t,e){return new Promise((n,r)=>{Up||(Up=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(CK));const s=new Worker(Up);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Lt(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof EK))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return Px(t,s).then((function(p){try{return i=p,h.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return Px(t,s).then(function(m){try{return i=m,u()}catch(y){return r(y)}},r)}catch(m){return r(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",TK(t,s).then(function(p){try{return i=p,u()}catch{return d()}},d)}catch{d()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=qb(t,i))}catch{}return n(i)}})}Lt.getDataUrlFromFile=Yb,Lt.getFilefromDataUrl=p_,Lt.loadImage=Xb,Lt.drawImageInCanvas=Zb,Lt.drawFileInCanvas=R0,Lt.canvasToFile=k0,Lt.getExifOrientation=e9,Lt.handleMaxWidthOrHeight=t9,Lt.followExifOrientation=n9,Lt.cleanupCanvasMemory=qr,Lt.isAutoOrientationInBrowser=wa,Lt.approximateBelowMaximumCanvasSizeOfBrowser=Jb,Lt.copyExifWithoutOrientation=qb,Lt.getBrowserName=co,Lt.version="2.0.2";const IK=()=>{const{userData:t,refreshUserData:e,theme:n,setTheme:r,isOnline:s}=I.useContext(ee),[i,o]=I.useState(t.name||""),[a,l]=I.useState(null),[c,u]=I.useState(!1),d=I.useRef(null),[h,p]=I.useState(null),m=async()=>{var x;if(i.trim())try{const T=Ee(Ae,"users",(x=re==null?void 0:re.currentUser)==null?void 0:x.uid),R={name:i.trim()};await qn(T,R),e(),v("Updated name successfully!")}catch(T){v(T.message)}};Do(d,u),I.useEffect(()=>{o(t.name)},[t]);const y=async()=>{const x=await Lt(a,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),T=io(ao,`profile/${t.uid}/${t.name}-${a.name}`);try{const R=Ee(Ae,"users",t.uid);v("Uploading image...");const w=await h0(T,x),C={image:await f0(w.ref)};await qn(R,C),l(null),v("Updated profile picture successfully!")}catch(R){v(R.message)}},_=()=>{a&&y(),i.trim()!==t.name&&m()};let g;const v=(x,T=3e3)=>{clearTimeout(g),p(x),g=setTimeout(()=>{p(null)},T)};return f.jsxs("div",{className:"Settings p-2",children:[f.jsx(Mr,{}),f.jsxs("div",{className:"p-2",children:[f.jsxs("div",{className:"relative size-20",children:[f.jsx(Us,{name:t.name||i||"User",image:a?URL.createObjectURL(a):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden",onChange:x=>l(x.target.files[0])}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:de("edit")})})]}),f.jsxs("div",{className:`${n==="light"?"":"text-white"}`,children:["Hi, ",ps(t.name||i||"User",25),"!"]})]}),f.jsxs("div",{className:`grid gap-y-2 border  p-2 rounded-md ${n==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{children:[f.jsx("div",{children:"Name"}),f.jsxs("div",{ref:d,className:"flex gap-x-2 items-center",children:[!c&&f.jsx("div",{children:i||t.name||"User"}),c&&f.jsx("input",{autoFocus:!0,value:i,onChange:x=>o(x.target.value),className:` ${n==="light"?"focus:outline-blue-500":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx("button",{onClick:()=>{u(!c)},className:` p-1 rounded-full cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:de(c?"save":"edit")})})]})]}),f.jsxs("div",{children:[f.jsx("div",{children:"Email"}),f.jsx("div",{children:t.email||"example@gmail.com"})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:a||(i==null?void 0:i.trim())!==t.name?f.jsx(Me,{data:{clickFn:()=>{_()},image:"save",text:"Update"}}):""}),h&&f.jsx(S0,{message:h}),f.jsx("div",{className:`mt-4 ${n==="light"?"":"text-white"} md:hidden`,children:f.jsx(Wb,{setTheme:r,theme:n})})]})},N0=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t,{theme:i}=I.useContext(ee);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${i==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:s})]})},SK=({data:t})=>{const{close:e}=t,{theme:n}=I.useContext(ee),[r,s]=I.useState(""),[i,o]=I.useState(""),a=r.trim(),l=Jt(Ae,"tests"),c=async h=>{try{await wl(l,h)}catch(p){console.log(p.message)}},u=()=>{const h={uid:re.currentUser.uid,isUploaded:!1,name:r,description:i,quizzes:[],gradingRules:[],time:zn()};c(h),e()},d=()=>{a&&u()};return I.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(N0,{data:{text:"Name",onChangeFn:h=>s(h.target.value),value:r,placeholder:"Type test name here"}}),f.jsx(N0,{data:{text:"Description",onChangeFn:h=>o(h.target.value),value:i,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(Me,{data:{clickFn:d,text:"Save",image:"save"}}),f.jsx(Me,{data:{clickFn:e,text:"Cancel"}})]})]})})},bK=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:s}=I.useContext(ee),[i,o]=I.useState(!1),a=I.useRef(null);Do(a,o);const l=()=>{o(!i)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${s==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:de(i?"up":"down")})]}),i&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${s==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${s==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},ti=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t,{theme:i}=I.useContext(ee);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${i==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:s})]})},AK=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i}=t,{theme:o}=I.useContext(ee),[a,l]=I.useState(s?s.question:""),[c,u]=I.useState(s?s.choices[0]:""),[d,h]=I.useState(s?s.choices[1]:""),[p,m]=I.useState(s?s.choices[2]:""),[y,_]=I.useState(s?s.choices[3]:""),[g,v]=I.useState(s?s.answer:"");let x=[];const T=c.trim()&&d.trim()&&p.trim()&&y.trim(),R=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&g.trim();T&&(x=[c,d,p,y]);const w=(N,O)=>{N.toLowerCase()==="question"?l(O.target.value):v(O.target.value)},S=()=>{let N,O;R&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:x,answer:g},O=[...n,N],r(O),yc(),e())},C=()=>{const N=s.id,O={id:N,question:a,choices:x,answer:g},L=n.map(j=>N===j.id?O:j);r(L),e(),i()},E=(N,O)=>{N.toLowerCase()==="choice 1"?u(O.target.value):N.toLowerCase()==="choice 2"?h(O.target.value):N.toLowerCase()==="choice 3"?m(O.target.value):_(O.target.value)},b=()=>{s?C():S()},P=()=>{e(),i()};return I.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:s?s.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(ti,{data:{handleFn:w,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(ti,{data:{handleFn:E,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(ti,{data:{handleFn:E,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(ti,{data:{handleFn:E,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(ti,{data:{handleFn:E,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(bK,{data:{options:x,value:g,setValue:v}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Me,{data:{clickFn:b,text:"Save",image:"save"}}),f.jsx(Me,{data:{clickFn:P,text:"Cancel"}})]})]})})},RK=({data:t})=>{const{theme:e}=I.useContext(ee),{testName:n,numbers:r,changePage:s}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(je,{data:{clickFn:()=>s("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:["  "," ",r," ",r>1?"questions":"question"]})]})]})})},kK=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s,changePage:i}=t,{theme:o}=I.useContext(ee);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(je,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(je,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(je,{data:{clickFn:s,image:"add"}})})]})},NK=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{theme:i}=I.useContext(ee),{gradingRules:o}=e,[a,l]=I.useState(null),c=m=>{const y=o.filter(g=>g.id!==m),_={...e,gradingRules:y};n(_)},u=m=>{l(m)},d=m=>{s(m),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${i==="light"?"":"text-white"}`,children:"Grading Rules"}),a&&f.jsx(Eo,{data:{yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((m,y)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(zp,{data:{text:"From",value:m.from}}),f.jsx(zp,{data:{text:"To",value:m.to}}),f.jsx(zp,{data:{text:"Level",value:m.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(je,{data:{clickFn:()=>d(m),image:"edit"}}),f.jsx(je,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${y}-${m.from}-${m.to}-${m.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(je,{data:{clickFn:()=>r(!0),image:"add"}})})]})},zp=({data:t})=>{const{text:e,value:n}=t,{theme:r}=I.useContext(ee);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?ps(n,15):n})]})},PK=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,setIsRulesAdding:i}=t,{theme:o}=I.useContext(ee),{gradingRules:a}=e,[l,c]=I.useState(r?r.from:null),[u,d]=I.useState(r?r.to:null),[h,p]=I.useState(r?r.level:""),m=l&&u&&h.trim(),y=()=>{const T={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},R={...e,gradingRules:[...a,T]};n(R)},_=()=>{const T=r.id,R={id:T,from:Number(l),to:Number(u),level:h},w=a.map(C=>T===C.id?R:C),S={...e,gradingRules:w};n(S)},g=()=>{i(!1),s(null)},v=()=>{m&&(r?_():y(),g())},x=(T,R)=>{const w=R.target.value;T.toLowerCase()==="from"?c(w):T.toLowerCase()==="to"?d(w):p(w)};return I.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(ti,{data:{handleFn:x,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(ti,{data:{handleFn:x,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(ti,{data:{handleFn:x,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Me,{data:{clickFn:v,text:"Save",image:"save"}}),f.jsx(Me,{data:{clickFn:g,text:"Cancel"}})]})]})})},Lx=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:s}=I.useContext(ee),{description:i,name:o}=e,[a,l]=I.useState(r==="Description"?i:o),[c,u]=I.useState(!1),d=y=>{l(y.target.value)},h=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{h(),u(!1)},m=()=>{u(!1),l(r==="Description"?i:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${s==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${s==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(je,{data:{clickFn:p,image:"save"}}),f.jsx(je,{data:{clickFn:m,image:"falseIcon"}})]}):f.jsx(je,{data:{clickFn:()=>u(!0),image:"edit"}})]})},LK=({data:t})=>{const{setHeaderTitle:e}=I.useContext(ee),{setPage:n,currentTest:r,setCurrentTest:s}=t,[i,o]=I.useState(!1),[a,l]=I.useState(!1),[c,u]=I.useState(r.quizzes),[d,h]=I.useState(null),[p,m]=I.useState(null);I.useEffect(()=>{e(r.name)});const y=async(N,O)=>{try{const L=Ee(Ae,"tests",N);await qn(L,O)}catch(L){console.log(L.message)}};I.useEffect(()=>{_()},[r,c]);const _=()=>{y(r.id,{...r,quizzes:c})},g=()=>{o(!0)},v=()=>{o(!1),m(null)},x=N=>{m(N)},T=()=>{S(p),m(null)},R=()=>{m(null)},w=N=>{n(N)},S=N=>{const O=c.filter(L=>L.id!==N);u(O)},C=(N,O)=>{const L={...N,number:O+1};h(L),g()},E=()=>{h(null)},b={testName:r.name,numbers:c.length,changePage:w},P={quizzes:c,editQuestion:C,askToDelete:x,add:g};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(RK,{data:b}),f.jsx(_a,{}),f.jsx(Lx,{data:{title:"Test Name",currentTest:r,setCurrentTest:s}}),f.jsx(Lx,{data:{title:"Description",currentTest:r,setCurrentTest:s}}),f.jsx(_a,{}),f.jsx(NK,{data:{currentTest:r,setEditData:h,setCurrentTest:s,setIsRulesAdding:l}}),f.jsx(_a,{}),f.jsx(kK,{data:P}),i&&f.jsx(AK,{data:{cancel:v,setQuizzes:u,quizzes:c,editData:d,clearEditData:E}}),a&&f.jsx(PK,{data:{currentTest:r,setCurrentTest:s,editData:d,setEditData:h,setIsRulesAdding:l}}),p&&f.jsx(Eo,{data:{yesButton:T,noButton:R,text:"Are you sure to delete ?"}}),f.jsx(_a,{})]})},m_=({text:t,length:e})=>{const n=tr(),{theme:r}=I.useContext(ee);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(je,{data:{clickFn:()=>n("/app/admin"),image:"back"}}),f.jsxs("p",{children:[t," (",e,")"]})]})},OK=()=>{const[t,e]=I.useState("test"),{theme:n,isLogin:r,tests:s,setTests:i}=I.useContext(ee),[o,a]=I.useState({}),[l,c]=I.useState(!1),[u,d]=I.useState(!1),[h,p]=I.useState(null);ol("tests",i,r),I.useEffect(()=>(Hn(),Hn()),[]);const m=S=>{a(S),e("editTest")},y=S=>{p(S),d(!0)},_=async S=>{const C=Ee(Ae,"tests",S.id);await qn(C,{isUploaded:!S.isUploaded})},g=()=>{R(h),p(null),d(!1)},v=()=>{d(!1)},x=()=>{c(!0)},T=()=>{c(!1)},R=async S=>{try{const C=Ee(Ae,"tests",S);await Gu(C)}catch(C){console.log(C.message)}};return(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(m_,{text:"Tests",length:s.length})}),l&&f.jsx(SK,{data:{close:T}}),u&&f.jsx(Eo,{data:{yesButton:g,noButton:v,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid gap-y-2",children:s.map(S=>f.jsxs("div",{className:`flex items-center border p-2 rounded-md min-h-[100px] ${n==="light"?"border-gray-100":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:S.isUploaded,onChange:()=>_(S),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:S.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[S.quizzes.length,S.quizzes.length>1?" questions":" question",S.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(R2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{m(S)}},{text:"Delete",icon:"deleteIcon",onClick:()=>y(S.id)}]})})]},`tests-${S.id}`))}),f.jsx("div",{children:f.jsx(Me,{data:{clickFn:x,text:"New Test",image:"add"}})})]});case"editTest":return f.jsx(LK,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}})()},MK=({password:t})=>{const[e,n]=I.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},DK=()=>{const{setUserData:t,users:e,theme:n}=I.useContext(ee);I.useEffect(()=>(Hn(),Hn()),[]);const r=tr(),s=o=>{t(o),r("/app/posts")},i=async o=>{const a=Ee(Ae,"users",o.uid);await qn(a,{isAdmin:!o.isAdmin})};return f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(m_,{text:"Users",length:e==null?void 0:e.length}),f.jsx("div",{className:"mt-2 grid gap-y-2",children:e.sort((o,a)=>$s(o,a,"timestamp","newer")).map(o=>{var a,l,c,u,d;return f.jsxs("div",{className:`hover:border-blue-300 border p-2  ${n==="light"?`hover:bg-slate-50 ${((a=re==null?void 0:re.currentUser)==null?void 0:a.uid)===o.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${((l=re==null?void 0:re.currentUser)==null?void 0:l.uid)===o.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(Us,{image:o.image,name:o.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[o.name," ",f.jsxs("span",{className:`${o!=null&&o.isAdmin?"text-blue-500":"text-white"}`,children:["(",o!=null&&o.isAdmin?"admin":"user",")"," ",((c=re==null?void 0:re.currentUser)==null?void 0:c.uid)===o.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:o.email}),f.jsxs("div",{className:"text-md",children:["Created: ",Lo(Jn(o.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",o.uid]}),f.jsx(MK,{password:o.password})]})]}),((u=re==null?void 0:re.currentUser)==null?void 0:u.uid)!==o.uid&&f.jsx(je,{data:{clickFn:()=>s(o),image:"review"}})]}),((d=re==null?void 0:re.currentUser)==null?void 0:d.uid)!==o.uid&&f.jsx(Me,{data:{image:"admin",clickFn:()=>i(o),text:o.isAdmin?"Remove from admin":"Set as admin"}})]},o.uid)})})]})},g_=({data:t,children:e})=>{const{setValue:n}=t,{theme:r}=I.useContext(ee),s=I.useRef(null);return Do(s,n),I.useEffect(()=>(Yn("hidden"),()=>{Yn("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-40 bg-black/60 justify-center top-0 left-0 right-0 bottom-0 ",children:f.jsx("div",{ref:s,className:`w-4/5 sm:w-3/5 md:w-2/5 p-5 min-h-40 grid gap-y-3 rounded-md items-center border  ${r==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:e})})},jK=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r}=t,[s,i]=I.useState(""),[o,a]=I.useState(""),l=s.trim()&&o.trim(),c=()=>{if(l){const u={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:o.trim()},d=[...e,u];n(d),r(!1)}};return f.jsxs(g_,{data:{setValue:r},children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(N0,{data:{text:"Title",onChangeFn:u=>i(u.target.value),value:s,placeholder:"Enter title..."}}),f.jsx(N0,{data:{text:"Link",onChangeFn:u=>a(u.target.value),value:o,placeholder:"Enter link..."}})]}),f.jsx("div",{children:f.jsx(Me,{data:{image:"add",text:"Add Link",clickFn:c}})})]})},$K=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:s}=I.useContext(ee),[i,o]=I.useState("posts"),[a,l]=I.useState(null);ol("posts",s,n);const c=async d=>{const h=Ee(Ae,"posts",d);await Gu(h)},u=()=>{switch(i){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx(m_,{text:"Posts",length:r.length}),f.jsx(Me,{data:{clickFn:()=>o("createPost"),text:"Create a post"}})]}),f.jsx("div",{className:"grid gap-y-2 mb-2",children:r.sort((d,h)=>$s(d,h,"time","newer")).map(d=>{var p,m,y;let h;return t.forEach(_=>{_.uid===d.uid&&(h=_)}),f.jsxs("div",{className:`p-2 border min-h-20 flex items-center rounded-md ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:h.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:h.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500":"text-white"}`,children:Ho(Jn(d.time))})]})]}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:ps(d.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[d.images.length!==0&&f.jsxs("div",{className:`p-1 min-h-9 flex items-center gap-x-1  rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:de("image")}),f.jsxs("span",{children:[d.images.length," ",d.images.length<=1?"image":"images"]})]}),d.files.length!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:de("file")}),f.jsxs("span",{children:[d.files.length," ",d.files.length<=1?"file":"files"]})]}),d.links&&((p=d==null?void 0:d.links)==null?void 0:p.length)!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:de("link")}),f.jsxs("span",{children:[(m=d==null?void 0:d.links)==null?void 0:m.length," ",((y=d==null?void 0:d.links)==null?void 0:y.length)<=1?"link":"links"]})]}),d.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(R2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{l(d),o("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>c(d.id)}]})})]},`post-${d.id}`)})})]});case"createPost":return f.jsx(FK,{setPage:o,postData:a,setPostData:l})}};return f.jsx("div",{className:"p-5",children:u()})},FK=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=I.useContext(ee),[s,i]=I.useState(e?e.images:[]),[o,a]=I.useState(null),[l,c]=I.useState(e?e.description:""),[u,d]=I.useState(e?e==null?void 0:e.files:[]),[h,p]=I.useState(e?(e==null?void 0:e.links)||[]:[]),[m,y]=I.useState(!1),_=l.trim()||s.length!==0||u.length!==0||h.length!==0,g=async(E=!1)=>{try{const b=Jt(Ae,"posts");await wl(b,{uid:re.currentUser.uid,time:zn(),editedTime:zn(),description:l,images:s,files:u,links:h,draft:E}),t("posts")}catch(b){console.log(b.message)}},v=async()=>{try{const E=Ee(Ae,"posts",e.id);await qn(E,{editedTime:zn(),description:l,images:s,files:u,links:h,draft:!1}),t("posts")}catch(E){console.log(E.message)}},x=async()=>{try{if(e){const E=Ee(Ae,"posts",e.id);await qn(E,{editedTime:zn(),description:l,images:s,files:u,links:h,draft:!0})}else g(!0);t("posts")}catch(E){console.log(E.message)}},T=async E=>{try{const b=await Lt(E,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),P=`posts/${re.currentUser.uid}/${E.name}`,N=io(ao,P);a("Uploading image...");const O=await h0(N,b),L=await f0(O.ref),j=[...s,{name:E.name,path:P,imageURL:L}];i(j),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(b){a(b.message),setTimeout(()=>{a(null)},3e3)}},R=async E=>{try{const b=`posts/${re.currentUser.uid}/${E.name}`,P=io(ao,b);a("Uploading file...");const N=await h0(P,E),O=await f0(N.ref),L=[...u,{name:E.name,path:b,fileURL:O,size:E.size}];d(L),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(b){a(b.message),setTimeout(()=>{a(null)},3e3)}},w=async(E,b)=>{const P=s.filter(O=>b!==O.imageURL);i(P);const N=io(ao,E);await Eg(N)},S=async(E,b)=>{const P=u.filter(O=>b!==O.fileURL);d(P);const N=io(ao,E);await Eg(N)},C=E=>{const b=h.filter(P=>E!==P.id);p(b)};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(S0,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(je,{data:{clickFn:()=>{t("posts"),n(null)},image:"back"}}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(Me,{data:{text:"Draft",clickFn:()=>{_&&x()}}}),f.jsx(Me,{data:{clickFn:()=>{_?(e?v():g(),n(null)):a("Create a post first!")},text:e?"Save":"Publish",image:e?"save":"upload"}})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:E=>c(E.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-200  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:E=>T(E.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:E=>R(E.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsxs("label",{htmlFor:"imagesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:de("image")}),f.jsx("span",{children:"Image"})]}),f.jsxs("label",{htmlFor:"filesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:de("file")}),f.jsx("span",{children:"File"})]}),f.jsxs("label",{onClick:()=>{y(!0)},className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:de("link")}),f.jsx("span",{children:"Link"})]}),m&&f.jsx(jK,{data:{links:h,setLinks:p,setIsLinkAdding:y}})]})]}),s.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:s.map(E=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:E.name,className:"size-full",src:E.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(je,{data:{clickFn:()=>w(E.path,E.imageURL),image:"falseIcon"}})})]},E.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(E=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:E.name}),(E==null?void 0:E.size)&&f.jsxs("p",{children:[(E.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(je,{data:{clickFn:()=>S(E.path,E.fileURL),image:"falseIcon"}})})]},E.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(E=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:de("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:E.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(je,{data:{image:"falseIcon",clickFn:()=>C(E.id)}})})]},E.link))})]})},VK=()=>{const{users:t,setHeaderTitle:e,theme:n,notifications:r,setNotifications:s}=I.useContext(ee),[i,o]=I.useState(null),a=5,l=()=>{const c=Jt(Ae,"notifications");let u=Na(c,i0("timestamp","desc"),o0(a));i&&(u=Na(u,MI(i))),us(u,d=>{const h=d.docs.map(p=>({id:p.id,...p.data()}));s([...r,...h]),o(d.docs[d.docs.length-1])})};return I.useEffect(()=>{const c=Jt(Ae,"notifications"),u=Na(c,i0("timestamp","desc"),o0(5)),d=us(u,h=>{const p=h.docs.map(m=>({id:m.id,...m.data()}));p.length!==0&&(s(p),o(h.docs[h.docs.length-1]))});return()=>d()},[]),I.useEffect(()=>{e("Notifications")},[]),f.jsxs("div",{className:"p-5 grid gap-y-2 ",children:[f.jsx(Mr,{}),r.map(c=>{let u;return t.forEach(d=>{c.uid===d.uid&&(u=d)}),f.jsx(UK,{notification:c,user:u},c.id)}),r.length===0&&f.jsx("div",{className:`${n==="light"?"":"text-white"}`,children:"No notifications"}),r.length>=a&&f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx("button",{onClick:l,className:`border  rounded-md text-sm p-1 ${n==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"load more"})})]})},UK=({notification:t,user:e})=>{let n;const{type:r,description:s,timestamp:i,testName:o,comment:a}=t,{theme:l}=I.useContext(ee);switch(`${r[0]} ${r[1]}`){case"like post":n="liked a post";break;case"like test":n="liked a test";break;case"comment post":n="commented on a post";break;case"comment test":n="commented on a test";break;case"added post":n="added a post";break;case"added test":n="added a test";break;case"took test":n="took a test";break}return f.jsxs("div",{className:`cursor-pointer shadow-md flex items-center gap-x-2 p-2 border  rounded-md ${l==="light"?"border-slate-300 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:e==null?void 0:e.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:e==null?void 0:e.name})," ",n]}),s&&f.jsx("p",{children:ps(s,30)}),o&&f.jsx("p",{children:o}),a&&f.jsx("p",{children:a}),f.jsx("p",{children:Ho(Jn(i))})]})]})},zK=({members:t})=>{const{users:e,theme:n}=I.useContext(ee);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${n==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),t.sort((r,s)=>$s(r,s,"joinedAt","newer")).map(r=>{const s=fs(e,r.uid);return f.jsxs("div",{className:`p-2 flex gap-x-2 items-center border  rounded-md ${n==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx(Us,{image:s.image,name:s.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${s!=null&&s.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:s==null?void 0:s.name}),f.jsx("p",{className:`text-sm ${s!=null&&s.isOnline?"text-blue-500":"text-red-500"}`,children:s!=null&&s.isOnline?"Online":Ho(Jn(s==null?void 0:s.lastSeen))})]})]},r.uid+r.joinedAt)})]})},BK=({setSubPage:t,currentChat:e})=>{const{theme:n,users:r,userData:s}=I.useContext(ee),{members:i}=e,o=async c=>{try{const u=Ee(Ae,"chats",e.id);await qn(u,{members:NM({uid:c,joinedAt:new Date().getTime()})})}catch(u){console.log(u.message)}},a=async c=>{try{const u=Ee(Ae,"chats",e.id),d=i.filter(h=>c!==h.uid);await qn(u,{members:d})}catch(u){console.log(u.message)}},l=c=>{let u=!1;return i.forEach(d=>{c===d.uid&&(u=!0)}),u};return f.jsxs("div",{className:"",children:[f.jsx("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${n==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(je,{data:{image:"back",clickFn:()=>t("chat")}})}),f.jsxs("div",{className:` ${n==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:e.name}),f.jsxs("p",{className:"text-sm",children:[i.length," ",i.length<=1?"member":"members"]})]})]})}),(s==null?void 0:s.isAdmin)&&f.jsxs("div",{className:"p-2",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*"}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:"images/sea-logo.jpg",className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:de("edit")})})]}),f.jsxs("div",{className:`mt-2 ${n==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx("p",{children:e.name})]})]}),f.jsx(zK,{members:i}),(s==null?void 0:s.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${n==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),r.sort((c,u)=>$s(c,u,"createdAt","newer")).map((c,u)=>f.jsxs("div",{className:`p-2 flex justify-between items-center border  rounded-md ${n==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Us,{image:c.image,name:c.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${c!=null&&c.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:c.name}),f.jsx("p",{className:`text-sm ${c!=null&&c.isOnline?"text-blue-500":"text-red-500"}`,children:c!=null&&c.isOnline?"Online":Ho(Jn(c==null?void 0:c.lastSeen))})]})]}),f.jsx("div",{children:l(c.uid)?!c.isAdmin&&f.jsx(je,{data:{clickFn:()=>a(c.uid),image:"trash"}}):f.jsx(je,{data:{clickFn:()=>o(c.uid),image:"add"}})})]},c.name+" "+c.image+u))]})]})},WK=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageId:s,setViewingImage:i,setReplyMessage:o})=>{const{users:a,theme:l,userData:c}=I.useContext(ee),u=re.currentUser.uid===t.senderId,d=fs(a,t.senderId),h=u&&{text:"Edit",icon:"editPencil",onClick:()=>{s(t.id),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}};return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${u?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(Us,{name:d.name,image:d.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${d!=null&&d.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${u?"text-right":"text-left"} `,children:d==null?void 0:d.name}),f.jsxs("div",{className:`flex items-start gap-x-1 ${u?"flex-row-reverse justify-start":""}`,children:[f.jsxs("div",{children:[(t==null?void 0:t.content)&&f.jsxs("p",{className:`max-w-[250px] break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${l==="light"?`${u?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${u?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:[(t==null?void 0:t.reply)&&f.jsx(HK,{message:t}),t.content]}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{i(t.image)},className:"cursor-pointer border mt-1 rounded-sm border-slate-200 w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL})]}),u||c!=null&&c.isAdmin?f.jsx(R2,{options:[h,{text:"Delete",icon:"deleteIcon",onClick:()=>e(t.id)}],left:u?"left-[35px]":"-left-[102px]"}):""]}),f.jsxs("div",{className:`flex  ${u?"flex-row-reverse":""} gap-x-1 items-center`,children:[f.jsx("button",{onClick:()=>{o(t)},children:f.jsx("img",{className:"w-6",src:de("reply")})}),f.jsx("p",{className:`text-sm ${u?"text-right":"text-left"}`,children:t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Lo(Jn(t.editedTime))]}):f.jsx("span",{children:Lo(Jn(t.timestamp))})})]})]})]})},HK=({message:t})=>{const{users:e,theme:n}=I.useContext(ee),{senderId:r,content:s,image:i}=t.reply,[o,a]=I.useState(!1),l=fs(e,r);return f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${n==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:l.name}),s&&f.jsxs("p",{children:[o?s:ps(s,25),s.length>=25&&f.jsx("span",{onClick:()=>{a(!o)},className:"font-bold text-blue-400 cursor-pointer",children:o?" see less":" see more"})]}),i&&f.jsx("p",{children:"Image"})]})},qK=({image:t,setViewingImage:e})=>f.jsx(g_,{data:{setValue:e},children:t&&f.jsxs("div",{className:"",children:[f.jsxs("p",{children:["File size: ",(t.size/(1024*1024)).toFixed(2)," MB"]}),f.jsx("img",{alt:t.name,className:"mt-1 h-full w-full",src:t.URL})]})}),GK=({setIsRulesOpen:t,rules:e=[" - Group         ","No spamming -    (link)   emoji   ","Privacy  -        ","  (rules)    Group       ()   "]})=>f.jsx(g_,{data:{setValue:t},children:e?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),e.map((n,r)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:r+1}),f.jsx("p",{className:"flex-1",children:n})]},`${r}-${n}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),KK=({message:t,loadMessages:e,setNewMessage:n,setViewingOldMessages:r})=>{const{senderId:s,content:i,timestamp:o}=t,{users:a,theme:l}=I.useContext(ee),c=fs(a,s);return f.jsx("div",{onClick:()=>{e(),yc(),n(null),r(!1)},className:`z-30 cursor-pointer fixed  right-2 bottom-[200px] rounded-md border border-slate-300 p-2 ${l==="light"?"bg-white":"bg-slate-500 text-white"}`,children:f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-x-1 mb-1",children:[f.jsx("img",{className:"size-7 rounded-full object-center object-cover",src:c.image}),f.jsx("p",{className:"font-bold",children:c.name})]}),f.jsx("div",{children:ps(i)}),f.jsx("p",{className:"text-sm text-gray-300",children:Lo(Jn(o))})]})})},QK=({data:t})=>{const{setPage:e,chatId:n,chats:r,messages:s,viewingOldMessages:i,setViewingOldMessages:o,loadMoreWithoutSnapshot:a,loadMessages:l}=t,{theme:c,userData:u,users:d,setIsOnline:h}=I.useContext(ee),[p,m]=I.useState(""),[y,_]=I.useState("chat"),[g,v]=I.useState(null),x=Ee(Ae,"chats",n),T=Jt(x,"messages"),[R,w]=I.useState(null),[S,C]=I.useState(!1),[E,b]=I.useState(!1),[P,N]=I.useState(null),[O,L]=I.useState(null),[j,k]=I.useState(null),[A,D]=I.useState(!1),[M,$]=I.useState(null);let H=0;I.useEffect(()=>($(U==null?void 0:U.lastMessage),H=setTimeout(()=>{$(null)},12e4),()=>clearTimeout(H)),[r]),I.useEffect(()=>{const G=async ie=>{var Tn;let Re;const Fe=Ee(Jt(Ae,"users"),(Tn=re==null?void 0:re.currentUser)==null?void 0:Tn.uid);ie?Re={isOnline:ie}:Re={isOnline:ie,lastSeen:zn()},await qn(Fe,Re),h(ie)};return G(!0),()=>{G(!1)}},[]);let U;r.forEach(G=>{n===G.id&&(U=G)}),I.useEffect(()=>{const G=fs(d,O==null?void 0:O.senderId);k(G),console.log(O,G)},[O]),I.useEffect(()=>{yc()},[]);const J=async G=>{const ie=`chats/${n}/${u.name}-${G.name}`,Re=io(ao,ie);C(!0),b(!0);const Fe=await Lt(G,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),Tn=await h0(Re,Fe),In=await f0(Tn.ref),Ve={name:G.name,path:ie,URL:In,size:Fe.size};w(Ve),C(!1),b(!1)},z=async G=>{const ie=io(ao,G);await Eg(ie),w(null)},F=async()=>{try{const G={senderId:re.currentUser.uid,content:p.trim(),timestamp:zn(),image:R||null,reply:O||null};b(!0),await wl(T,G),await qn(x,{lastMessage:G}),m(""),w(null),yc(),b(!1),L(null),k(null)}catch(G){console.log(G.message)}},te=async()=>{try{const G=Ee(T,g),ie={content:p.trim(),editedTime:zn(),image:R||null,reply:O||null};b(!0),await qn(G,ie),m(""),w(null),v(null),b(!1),L(null),k(null)}catch(G){console.log(G.message)}},he=async G=>{const ie=Ee(T,G);await Gu(ie)},ye=()=>{switch(y){case"chat":return f.jsxs("div",{className:"",children:[M&&i?f.jsx(KK,{message:M,loadMessages:l,setNewMessage:$,setViewingOldMessages:o}):"",P&&f.jsx(qK,{image:P,setViewingImage:N}),A&&f.jsx(GK,{setIsRulesOpen:D,rules:U==null?void 0:U.rules}),f.jsxs("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${c==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(je,{data:{image:"back",clickFn:()=>e("chatroom")}})}),f.jsxs("div",{className:` ${c==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:U.name}),f.jsxs("p",{className:"text-sm",children:[U.members.length," ",U.members.length<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>_("info"),children:f.jsx("img",{src:"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]}),f.jsxs("div",{className:"p-2 gap-y-2 mb-[98px]",children:[f.jsx("div",{className:"flex justify-center mt-1 mb-2",children:f.jsx("button",{onClick:()=>{a("old"),o(!0)},className:`border  rounded-md text-sm p-1 ${c==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Older messages"})}),s.sort((G,ie)=>$s(G,ie)).map((G,ie)=>f.jsx(WK,{editMessage:te,setEditMessageId:v,deleteMessage:he,message:G,setMessage:m,setImageObject:w,setViewingImage:N,setReplyMessage:L},`${ie}-${G.content}`)),i&&f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx("button",{onClick:()=>{a("newer")},className:`border  rounded-md text-sm p-1 ${c==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Newer messages"}),f.jsx("button",{onClick:()=>{l(),o(!1),yc()},className:`border  rounded-md text-sm p-1 ${c==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Latest messages"})]})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${c==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>D(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),g&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{v(null),m(""),w(null),L(null),k(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:de("falseIcon")})})]}),O&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",j==null?void 0:j.name]}),f.jsx("p",{children:ps(O==null?void 0:O.content,25)})]}),f.jsx("button",{onClick:()=>{L(null),k(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:de("falseIcon")})})]}),S&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),R&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:R.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:R.name})]}),f.jsx("button",{onClick:()=>{z(R.path),w(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:de("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${c==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:G=>{J(G.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:de("image")})}),f.jsx("textarea",{onChange:G=>m(G.target.value),value:p,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${c==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!E&&(p.trim()||R)&&(g?te():F())},children:f.jsx("img",{className:"w-10",src:de(E?"sendingLetter":"sendLetter")})})]})]})]});case"info":return f.jsx(BK,{setSubPage:_,currentChat:U})}};return f.jsx(f.Fragment,{children:ye()})},YK=()=>{const[t,e]=I.useState("chatroom"),[n,r]=I.useState(null),[s,i]=I.useState(null),[o,a]=I.useState(!1),{theme:l,users:c,setHeaderTitle:u,isLogin:d,chats:h,setChats:p,messages:m,setMessages:y}=I.useContext(ee);let _=0;ol("chats",p,d);const g=()=>{let w;try{if(!o){const S=Jt(Ee(Ae,"chats",n),"messages");let C=Na(S,i0("timestamp","desc"),o0(15));return w=us(C,E=>{const b=E.docs.map(P=>({id:P.id,...P.data()}));b.length!==0&&y(b),i(E.docs[E.docs.length-1])}),()=>{w&&w()}}}catch(S){console.log(S.message)}},v=async w=>{try{const S=Jt(Ee(Ae,"chats",n),"messages");let E=Na(S,i0("timestamp",w==="newer"?"asc":"desc"),o0(15));s&&(E=Na(E,MI(s)));const b=await kM(E),P=b.docs.map(N=>({id:N.id,...N.data()}));P.length!==0&&y(P),i(b.docs[b.docs.length-1])}catch(S){console.log(S.message)}};I.useEffect(()=>g(),[o,n]),I.useEffect(()=>{u("Chat Room")},[]);const x=w=>{e("chat"),r(w)},T=(w,S)=>{let C=!1;return w.forEach(E=>{S===E.uid&&(C=!0)}),C},R=()=>{switch(t){case"chatroom":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[h.map(w=>{var C,E;let S;if(c.forEach(b=>{var P;b.uid===((P=w==null?void 0:w.lastMessage)==null?void 0:P.senderId)&&(S=b)}),T(w.members,(C=re==null?void 0:re.currentUser)==null?void 0:C.uid))return _++,f.jsxs("div",{onClick:()=>x(w.id),className:`p-1 min-h-[130px] shadow-md flex gap-x-2 items-center border rounded-md cursor-pointer relative  ${l==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{children:f.jsx("img",{src:"images/sea-logo.jpg",className:"size-12 object-cover object-center aspect-square bg-cover rounded-full "})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-lg",children:w==null?void 0:w.name}),f.jsxs("div",{children:[f.jsx("div",{className:"flex gap-x-1 items-center",children:(w==null?void 0:w.lastMessage)&&f.jsxs(f.Fragment,{children:[f.jsx(Us,{size:"size-5",fontSize:"text-sm",name:S.name,image:S.image}),f.jsx("p",{children:S==null?void 0:S.name})]})}),(w==null?void 0:w.lastMessage)&&f.jsxs("div",{className:"text-sm mt-2",children:[f.jsx("p",{children:ps(w.lastMessage.content,30)}),((E=w.lastMessage)==null?void 0:E.image)&&f.jsx("p",{children:"1 image"})]})]}),(w==null?void 0:w.lastMessage)&&f.jsx("div",{className:"text-sm",children:Lo(Jn(w.lastMessage.timestamp))})]})]},w.id)}),_===0&&f.jsxs("div",{className:`${l==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"You don't have any chat rooms."}),f.jsx("p",{children:"Ask the admin to add you to a chat room."})]})]});case"chat":return f.jsx(QK,{data:{page:t,chats:h,setPage:e,chatId:n,messages:m,viewingOldMessages:o,setViewingOldMessages:a,setLastDoc:i,loadMoreWithoutSnapshot:v,loadMessages:g}})}};return f.jsxs(f.Fragment,{children:[f.jsx(Mr,{}),R()]})},XK=()=>{const{headerTitle:t,refreshUserData:e,isLogin:n,setIsLogIn:r,setUserId:s}=I.useContext(ee);document.title=t;const i=tr();I.useEffect(()=>{e()},[n]),I.useEffect(()=>{const o=$D(re,a=>{a&&(r(a),s(re.currentUser.uid))});return()=>{o()}},[]),I.useEffect(()=>{i(n?"/app/posts":"/login")},[n])},JK=()=>{const t={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},e=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],n=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated ${Ho(1712655376346)}.`}];return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Mr,{}),f.jsx(Yl,{image:t.image,text:t.text,answer:t.answer}),f.jsx(Yl,{text:"FAQ",image:"faq",answer:e.map(r=>f.jsx(Yl,{text:r.text,answer:r.answer},r.text))}),f.jsx(Yl,{image:"update",text:"Updates",answer:n.map(r=>f.jsx(Yl,{text:r.text,answer:r.answer},r.text))})]})},Yl=({image:t,text:e,answer:n})=>{const[r,s]=I.useState(!1),{theme:i}=I.useContext(ee);return f.jsxs("div",{className:`border p-2  mb-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(ZK,{image:t}),f.jsx("div",{children:e})]}),f.jsx("button",{onClick:()=>s(!r),className:`mr-2  rounded-full p-1 ${i==="light"?"bg-gray-200":"bg-slate-500"}`,children:f.jsx("img",{className:"w-6",src:de(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},ZK=({image:t})=>f.jsx("img",{className:"w-7",src:de(t)}),ee=I.createContext();function eQ(){var he,ye,G;const t=Q5("sea-localStorage"),[e,n]=I.useState(Q5("seaacademy-theme-data")||"light"),[r,s]=I.useState(((he=t==null?void 0:t.timer)==null?void 0:he.seconds)||0),[i,o]=I.useState(((ye=t==null?void 0:t.timer)==null?void 0:ye.minutes)||0),[a,l]=I.useState(((G=t==null?void 0:t.timer)==null?void 0:G.hours)||0),[c,u]=I.useState(!1),[d,h]=I.useState({}),[p,m]=I.useState([]),[y,_]=I.useState(null),[g,v]=I.useState((t==null?void 0:t.answeredQuestions)||[]),[x,T]=I.useState((t==null?void 0:t.currentTest)||null),[R,w]=I.useState(!1),[S,C]=I.useState(""),[E,b]=I.useState(!1),[P,N]=I.useState([]),[O,L]=I.useState([]),[j,k]=I.useState([]),[A,D]=I.useState([]),[M,$]=I.useState([]),[H,U]=I.useState([]);ol("users",m,c),ZU("users",h,c);const J=()=>{},z=()=>{s(0),o(0),l(0)},F=()=>{z(),v([]),T(null),Dg("sea-localStorage",{answeredQuestions:[],currentTest:null,startIndex:null,timer:{seconds:0,minutes:0,hours:0}})};I.useEffect(()=>{Dg("seaacademy-theme-data",e)},[e]);const te=`${a}:${Rw(i)}:${Rw(r)}`;return I.useEffect(()=>{const ie=setInterval(()=>{r<59?s(r+1):(s(0),o(i+1)),i===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(ie)}},[r]),f.jsx(ee.Provider,{value:{answeredQuestions:g,setAnsweredQuestions:v,currentTest:x,stopTest:F,seaLocalStorage:t,formattedTime:te,startTimer:z,seconds:r,minutes:i,hours:a,inspecting:R,userData:d,isLogin:c,setUserData:h,users:p,setCurrentTest:T,headerTitle:S,setHeaderTitle:C,theme:e,setTheme:n,refreshUserData:J,isOnline:E,setIsOnline:b,userId:y,setUserId:_,setInspecting:w,setIsLogIn:u,posts:P,setPosts:N,tests:O,setTests:L,history:j,setHistory:k,chats:A,setChats:D,messages:M,setMessages:$,notifications:H,setNotifications:U},children:f.jsx("div",{className:`transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen ${e==="light"?"":"bg-slate-600"}`,children:f.jsxs(Uk,{children:[f.jsx(XK,{}),f.jsx(eK,{}),f.jsx(rK,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5",children:f.jsxs(Ok,{children:[!c&&f.jsx(vn,{exact:!0,path:"/login",element:f.jsx(gK,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(vn,{exact:!0,path:"/app/:page",element:x?f.jsx(tz,{}):f.jsx(dK,{})}),f.jsx(vn,{exact:!0,path:"/app/history/:resultId",element:f.jsx(nz,{})}),f.jsx(vn,{exact:!0,path:"/app/help",element:f.jsx(JK,{})}),f.jsx(vn,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(tK,{})}),f.jsx(vn,{path:"/app/history",element:f.jsx(nK,{})}),f.jsx(vn,{path:"/app/chatroom",element:f.jsx(YK,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(vn,{path:"/app/notifications",element:f.jsx(VK,{})}),f.jsx(vn,{path:"/app/admin",element:f.jsx(sK,{})}),f.jsx(vn,{path:"/app/admin/tests",element:f.jsx(OK,{})}),f.jsx(vn,{path:"/app/admin/users",element:f.jsx(DK,{})}),f.jsx(vn,{path:"/app/admin/posts",element:f.jsx($K,{})})]}),f.jsx(vn,{exact:!0,path:"/app/settings",element:f.jsx(IK,{})})]}),f.jsx(vn,{path:"*",element:f.jsx(Gf,{title:"No page found!",text:"There is no page!"})})]})}),S!=="Chat Room"&&f.jsx(mK,{})]})})})}Wp.createRoot(document.getElementById("root")).render(f.jsx(Yi.StrictMode,{children:f.jsx(eQ,{})}));
